"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[23],{379:(e,n,t)=>{t.r(n),t.d(n,{default:()=>Cc});var a=t(1045),r=t(2693),o=t(7324),i=t(5043),s=t(579);const l=(0,i.createContext)(),c=()=>(0,i.useContext)(l),d="http://localhost:5000/api",p=e=>{let{children:n}=e;const[t,a]=(0,i.useState)(null),r=async e=>{const n=e.headers.get("content-type");if(n&&n.includes("application/json"))return await e.json();{const n=await e.text();throw new Error(n||"Unexpected server response")}},o=async()=>{try{console.log("\ud83d\udd0d Fetching profile from:","".concat(d,"/auth/me"));const e=await fetch("".concat(d,"/auth/me"),{credentials:"include"}),n=await r(e);if(!e.ok)throw new Error(n.message||"Unable to fetch user");a(n)}catch(e){console.error("\u274c Fetch profile failed:",e.message),a(null)}};return(0,i.useEffect)(()=>{o()},[]),(0,s.jsx)(l.Provider,{value:{user:t,login:async(e,n)=>{try{console.log("\ud83d\udd10 Attempting login to:","".concat(d,"/auth/login"));const t=await fetch("".concat(d,"/auth/login"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:n}),credentials:"include"}),a=await r(t);if(!t.ok)throw new Error(a.message||"Login failed");return await o(),a}catch(t){throw console.error("\u274c Login failed:",t.message),new Error(t.message||"Login error")}},logout:async()=>{try{await fetch("".concat(d,"/auth/logout"),{method:"POST",credentials:"include"}),a(null)}catch(e){console.warn("\u26a0\ufe0f Logout failed:",e.message)}}},children:n})};var m=t(9379),x=t(3789);const u={primary:"#0a451c",secondary:"#facf3c",accent:"#9ccf9f",primaryLight:"#1a5a2c",primaryDark:"#052310",secondaryLight:"#fbd96b",secondaryDark:"#d4a920",accentLight:"#b8dfbb",accentDark:"#7ab87f",white:"#ffffffff",black:"#000000",gray50:"#ffffffff",gray100:"#ffffffff",gray200:"#ffffffff",gray300:"#ffffffff",gray400:"#9ca3af",gray500:"#6b7280",gray600:"#4b5563",gray700:"#374151",gray800:"#1f2937",gray900:"#111827",success:"#10b981",warning:"#f59e0b",error:"#ef4444",info:"#3b82f6"};function g(e){const n=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return n?"".concat(parseInt(n[1],16),", ").concat(parseInt(n[2],16),", ").concat(parseInt(n[3],16)):"0, 0, 0"}const h={colors:(0,m.A)((0,m.A)({},u),{},{background:u.white,backgroundSecondary:u.white,surface:u.white,surfaceSecondary:u.white,text:u.gray900,textSecondary:u.gray600,textMuted:u.gray500,textInverse:u.white,border:u.gray200,borderLight:u.gray100,borderHover:u.gray300,headerBg:"rgba(255, 255, 255, 0.95)",headerBgScrolled:"rgba(255, 255, 255, 0.98)",headerBorder:"rgba(".concat(g(u.primary),", 0.1)"),headerShadow:"rgba(0, 0, 0, 0.1)",cardBg:u.white,cardShadow:"rgba(0, 0, 0, 0.1)",overlayBg:"rgba(0, 0, 0, 0.5)"}),name:"light"},f={colors:(0,m.A)((0,m.A)({},u),{},{background:u.black,backgroundSecondary:u.black,surface:u.black,surfaceSecondary:u.black,text:u.gray50,textSecondary:u.gray300,textMuted:u.gray400,textInverse:u.gray900,border:u.gray700,borderLight:u.gray600,borderHover:u.gray500,headerBg:u.black,headerBgScrolled:u.gray600,headerBorder:"rgba(".concat(g(u.accent),", 0.2)"),headerShadow:"rgba(0, 0, 0, 0.3)",cardBg:u.gray800,cardShadow:"rgba(0, 0, 0, 0.3)",overlayBg:"rgba(0, 0, 0, 0.7)"}),name:"dark"},b=(0,i.createContext)(),y=()=>{const e=(0,i.useContext)(b);if(!e)throw new Error("useTheme must be used within ThemeProvider");return e},j=e=>{let{children:n}=e;const[t,a]=(0,i.useState)(!1),[r,o]=(0,i.useState)(!0);(0,i.useEffect)(()=>{(()=>{try{const e=localStorage.getItem("acef-theme");if(e)a("dark"===e);else{const e=window.matchMedia("(prefers-color-scheme: dark)").matches;a(e)}}catch(e){console.warn("Failed to load theme preference:",e),a(!1)}finally{o(!1)}})()},[]),(0,i.useEffect)(()=>{if(r)return;const e=t?f:h,n=(e=>{const n={};return Object.entries(e.colors).forEach(e=>{let[t,a]=e;n["--color-".concat(t.replace(/([A-Z])/g,"-$1").toLowerCase())]=a}),n})(e);Object.entries(n).forEach(e=>{let[n,t]=e;document.documentElement.style.setProperty(n,t)});try{localStorage.setItem("acef-theme",t?"dark":"light")}catch(o){console.warn("Failed to save theme preference:",o)}document.body.className="theme-".concat(e.name);const a=document.querySelector('meta[name="theme-color"]');a&&a.setAttribute("content",e.colors.primary)},[t,r]),(0,i.useEffect)(()=>{const e=window.matchMedia("(prefers-color-scheme: dark)"),n=e=>{localStorage.getItem("acef-theme")||a(e.matches)};return e.addEventListener("change",n),()=>e.removeEventListener("change",n)},[]);const l=t?f:h,c=(e=>{const n=e?f.colors:h.colors;return(0,x.A)({palette:{mode:e?"dark":"light",primary:{main:n.primary,light:n.primaryLight,dark:n.primaryDark,contrastText:n.white},secondary:{main:n.secondary,light:n.secondaryLight,dark:n.secondaryDark,contrastText:n.black},background:{default:n.background,paper:n.surface},text:{primary:n.text,secondary:n.textSecondary,disabled:n.textMuted},divider:n.border,success:{main:n.success},warning:{main:n.warning},error:{main:n.error},info:{main:n.info}},typography:{fontFamily:'"Nunito Sans", sans-serif',h1:{fontSize:"2.5rem",fontWeight:700,lineHeight:1.2,color:n.text},h2:{fontSize:"2rem",fontWeight:600,lineHeight:1.3,color:n.text},h3:{fontSize:"1.75rem",fontWeight:600,lineHeight:1.3,color:n.text},h4:{fontSize:"1.5rem",fontWeight:500,lineHeight:1.4,color:n.text},h5:{fontSize:"1.25rem",fontWeight:500,lineHeight:1.4,color:n.text},h6:{fontSize:"1rem",fontWeight:500,lineHeight:1.4,color:n.text},body1:{fontSize:"1rem",lineHeight:1.6,color:n.text},body2:{fontSize:"0.875rem",lineHeight:1.6,color:n.textSecondary}},components:{MuiButton:{styleOverrides:{root:{borderRadius:8,textTransform:"none",fontWeight:500,padding:"10px 20px",transition:"all 0.3s ease","&:hover":{transform:"translateY(-1px)",boxShadow:"0 4px 12px rgba(".concat(g(n.primary),", 0.3)")}},contained:{boxShadow:"0 2px 8px rgba(".concat(g(n.primary),", 0.2)")}}},MuiCard:{styleOverrides:{root:{borderRadius:12,backgroundColor:n.cardBg,boxShadow:"0 4px 20px ".concat(n.cardShadow),border:"1px solid ".concat(n.border),transition:"all 0.3s ease","&:hover":{transform:"translateY(-2px)",boxShadow:"0 8px 30px ".concat(n.cardShadow)}}}},MuiPaper:{styleOverrides:{root:{backgroundColor:n.surface,borderRadius:8}}},MuiAppBar:{styleOverrides:{root:{backgroundColor:n.headerBg,backdropFilter:"blur(10px)",borderBottom:"1px solid ".concat(n.headerBorder),boxShadow:"0 2px 20px ".concat(n.headerShadow)}}},MuiTextField:{styleOverrides:{root:{"& .MuiOutlinedInput-root":{borderRadius:8,backgroundColor:n.surface,"& fieldset":{borderColor:n.border},"&:hover fieldset":{borderColor:n.borderHover},"&.Mui-focused fieldset":{borderColor:n.primary}}}}}}})})(t),d={theme:l,muiTheme:c,colors:l.colors,isDarkMode:t,isLoading:r,toggleTheme:()=>{a(e=>!e)},setTheme:e=>{a("dark"===e)}};return r?(0,s.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:t?u.gray900:u.white,display:"flex",alignItems:"center",justifyContent:"center",zIndex:9999},children:(0,s.jsx)("div",{style:{width:"40px",height:"40px",border:"4px solid ".concat(u.primary),borderTop:"4px solid transparent",borderRadius:"50%",animation:"spin 1s linear infinite"}})}):(0,s.jsx)(b.Provider,{value:d,children:n})},v=function(e,n){return"linear-gradient(".concat(arguments.length>2&&void 0!==arguments[2]?arguments[2]:"to right",", ").concat(e,", ").concat(n,")")},w=(e,n)=>{if(e.startsWith("rgba"))return e;if(e.startsWith("rgb"))return e.replace("rgb","rgba").replace(")",", ".concat(n,")"));if(e.startsWith("#")){const t=g(e);return"rgba(".concat(t,", ").concat(n,")")}return e},A=(0,i.createContext)(),k="http://localhost:5000/api",S=async function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const t=(e=>{const n=e.startsWith("/")?e.slice(1):e;return"".concat(k,"/").concat(n)})(e);try{console.log("\ud83c\udf10 Making API request to: ".concat(t)),console.log("\ud83d\udd27 Environment API_URL: ".concat("http://localhost:5000/api")),console.log("\ud83d\udd27 Using API_BASE_URL: ".concat(k));const e=await fetch(t,(0,m.A)({credentials:"include"},n));if(console.log("\ud83d\udce1 Response status: ".concat(e.status," ").concat(e.statusText)),console.log("\ud83d\udce1 Response content-type: ".concat(e.headers.get("content-type"))),!e.ok){let n="HTTP ".concat(e.status,": ").concat(e.statusText);try{n=(await e.json()).message||n}catch(a){console.error("\u274c Could not parse error response as JSON");try{const t=await e.text();console.error("\ud83d\udcc4 Raw error response:",t.substring(0,200)),t.startsWith("<!DOCTYPE")&&(n="Server returned HTML instead of JSON. Check if backend is running on ".concat(k))}catch(r){console.error("\u274c Could not get response as text:",r)}}throw new Error(n)}return await e.json()}catch(o){throw console.error("\u274c API Request failed for ".concat(t,":"),o),o}},C=()=>{const e=(0,i.useContext)(A);if(!e)throw new Error("useLogo must be used within a LogoProvider");return e},z=e=>{let{children:n}=e;const[t,a]=(0,i.useState)(null),[r,o]=(0,i.useState)(!0),[l,c]=(0,i.useState)(null),d=(0,i.useCallback)(async()=>{try{o(!0),c(null),console.log("\ud83d\uddbc\ufe0f Fetching current logo...");const e=await S("logos");e.success&&e.data?(a(e.data),console.log("\u2705 Logo fetched successfully:",e.data.logo_name)):(a(null),console.log("\u2139\ufe0f No active logo found"))}catch(e){console.error("\u274c Error fetching logo:",e),c(e.message),a(null)}finally{o(!1)}},[]),p=(0,i.useCallback)(()=>{console.log("\ud83d\udd04 Refreshing logo..."),d()},[d]),m=(0,i.useCallback)(e=>{console.log("\ud83d\udcdd Updating logo state:",e),a(e)},[]),x=(0,i.useCallback)(()=>{console.log("\ud83d\uddd1\ufe0f Clearing logo state"),a(null)},[]),u=(0,i.useCallback)(async e=>{try{console.log("\ud83d\udce4 Uploading new logo...");const n=await S("logos",{method:"POST",body:e});if(n.success)return a(n.data),n;throw new Error(n.message||"Upload failed")}catch(l){throw console.error("\u274c Upload failed:",l),l}},[]),g=(0,i.useCallback)(async(e,n)=>{try{console.log("\u270f\ufe0f Updating logo metadata...");const t=await S("logos/".concat(e),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});if(t.success)return a(t.data),t;throw new Error(t.message||"Update failed")}catch(l){throw console.error("\u274c Update failed:",l),l}},[]),h=(0,i.useCallback)(async e=>{try{console.log("\ud83d\uddd1\ufe0f Deleting logo...");const n=await S("logos/".concat(e),{method:"DELETE"});if(n.success)return a(null),n;throw new Error(n.message||"Delete failed")}catch(l){throw console.error("\u274c Delete failed:",l),l}},[]),f=(0,i.useCallback)(async()=>{try{console.log("\ud83d\udccb Fetching logo history...");const e=await S("logos/history");if(e.success)return e.data;throw new Error(e.message||"Failed to fetch history")}catch(l){throw console.error("\u274c Failed to fetch history:",l),l}},[]);(0,i.useEffect)(()=>{console.log("\ud83d\ude80 LogoProvider initialized"),console.log("\ud83d\udd27 API Base URL:",k),d()},[d]);const b={currentLogo:t,loading:r,error:l,fetchLogo:d,refreshLogo:p,updateLogo:m,clearLogo:x,uploadLogo:u,updateLogoMetadata:g,deleteLogo:h,getLogoHistory:f};return(0,s.jsx)(A.Provider,{value:b,children:n})};var N=t(3969),_=t(5895),I=t(1449),E=t(2097),T=t(7250),W=t(8315);const F={"/admin/dashboard/users":{roles:["admin"],permission:null},"/admin/dashboard/countries":{roles:["admin"],permission:null},"/admin/dashboard/generator":{roles:["admin"],permission:null},"/admin/dashboard/manage-transactions":{roles:["admin"],permission:null},"/admin/dashboard/whatsapp":{roles:["admin"],permission:null},"/admin/dashboard/managedonate":{roles:["admin"],permission:null},"/admin/dashboard/manage-blogs":{roles:["admin","Assistant Admin","Content Manager"],permission:"manage_content"},"/admin/dashboard/projects":{roles:["admin","Assistant Admin"],permission:"manage_projects"},"/admin/dashboard/JobManager":{roles:["admin","Assistant Admin"],permission:"manage_jobs"},"/admin/dashboard/jobs":{roles:["admin","Assistant Admin"],permission:"manage_jobs"},"/admin/dashboard/team":{roles:["admin","Assistant Admin"],permission:"manage_team"},"/admin/dashboard/partners":{roles:["admin","Assistant Admin"],permission:"manage_partners"},"/admin/dashboard/newsletter":{roles:["admin","Assistant Admin"],permission:"manage_newsletter"},"/admin/dashboard/manage-videos":{roles:["admin","Assistant Admin"],permission:"manage_videos"},"/admin/dashboard/contacts":{roles:["admin","Assistant Admin"],permission:"manage_contacts"},"/admin/dashboard/volunteers":{roles:["admin","Assistant Admin"],permission:"manage_volunteers"},"/admin/dashboard/impact":{roles:["admin","Assistant Admin"],permission:"manage_impact"},"/admin/dashboard/manage-logo":{roles:["admin","Assistant Admin"],permission:"manage-logo"},"/admin/dashboard/categories":{roles:["admin","Assistant Admin"],permission:"categories"},"/admin/dashboard":{roles:["admin","Assistant Admin","Content Manager"],permission:null}},P=e=>({"/admin/dashboard/users":"User Management","/admin/dashboard/countries":"Country Management","/admin/dashboard/categories":"Category Management","/admin/dashboard/manage-blogs":"Blog Management","/admin/dashboard/projects":"Project Management","/admin/dashboard/JobManager":"Job Management","/admin/dashboard/jobs":"Job Management","/admin/dashboard/team":"Team Management","/admin/dashboard/partners":"Partner Management","/admin/dashboard/newsletter":"Newsletter Management","/admin/dashboard/manage-videos":"Video Management","/admin/dashboard/contacts":"Contact Management","/admin/dashboard/volunteers":"Volunteer Management","/admin/dashboard/impact":"Impact Management","/admin/dashboard/generator":"Badge Generator","/admin/dashboard/manage-logo":"Logo Management","/admin/dashboard/manage-transactions":"Transaction Management","/admin/dashboard/whatsapp":"WhatsApp Management","/admin/dashboard/managedonate":"Donation Management"}[e]||"this page"),R=e=>{let{routeName:n,requiredPermission:t}=e;const{user:a}=c(),r=e=>({manage_content:"Content Management",manage_projects:"Project Management",manage_team:"Team Management",manage_partners:"Partner Management",manage_contacts:"Contact Management",manage_volunteers:"Volunteer Management",manage_newsletter:"Newsletter Management",view_donations:"Donation Viewing",manage_videos:"Video Management",manage_impact:"Impact Management",manage_jobs:"Job Management"}[e]||e);return(0,s.jsxs)(N.A,{sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:"60vh",textAlign:"center",p:4},children:[(0,s.jsx)(T.A,{sx:{fontSize:64,color:"warning.main",mb:2}}),(0,s.jsx)(_.A,{variant:"h4",gutterBottom:!0,color:"textPrimary",children:"Permission Required"}),(0,s.jsx)(_.A,{variant:"body1",sx:{mb:2,maxWidth:500},children:"Assistant Admin"===(null===a||void 0===a?void 0:a.role)?'You need the "'.concat(r(t),'" permission to access ').concat(n||"this page","."):"Your ".concat(null===a||void 0===a?void 0:a.role," role doesn't have access to ").concat(n||"this page",".")}),"Assistant Admin"===(null===a||void 0===a?void 0:a.role)&&(0,s.jsx)(I.A,{severity:"info",sx:{mb:3,maxWidth:500},children:(0,s.jsxs)(_.A,{variant:"body2",children:["Contact your administrator to request the ",(0,s.jsx)("strong",{children:r(t)})," permission."]})}),(0,s.jsx)(E.A,{variant:"contained",startIcon:(0,s.jsx)(W.A,{}),onClick:()=>window.history.back(),sx:{mt:2},children:"Go Back"})]})},B=()=>{const{user:e}=c();return e?(0,s.jsx)(a.sv,{}):(0,s.jsx)(a.C5,{to:"/login",replace:!0})},D=e=>{let{path:n,children:t}=e;const{user:r}=c();if(!r)return(0,s.jsx)(a.C5,{to:"/login",replace:!0});const o=F[n];if(!o)return t||(0,s.jsx)(a.sv,{});if(!o.roles.includes(r.role))return(0,s.jsx)(a.C5,{to:"/unauthorized",replace:!0});if("admin"===r.role)return t||(0,s.jsx)(a.sv,{});if(o.permission){if("Assistant Admin"===r.role&&(!r.permissions||!r.permissions.includes(o.permission)))return(0,s.jsx)(R,{routeName:P(n),requiredPermission:o.permission});if("Content Manager"===r.role)return"manage_content"===o.permission?t||(0,s.jsx)(a.sv,{}):(0,s.jsx)(R,{routeName:P(n),requiredPermission:o.permission})}return t||(0,s.jsx)(a.sv,{})};var L=t(5692),M=t(3944),H=t(5088),q=t(8646),O=t(4991),U=t(6058),Y=t(9350),G=t(9292),V=t(2284),J=t(4105),K=t(2626),X=t(929),Z=t(6099),$=t(9333),Q=t(2382),ee=t(5763),ne=t(7819),te=t(5731),ae=t(6210),re=t(8393),oe=t(7940),ie=t(614),se=t(2983),le=t(6995),ce=t(6529),de=t(2579),pe=t(5487),me=t(3546);const xe={header:"Header_header__YZN9X",scrolled:"Header_scrolled__ed4X4",container:"Header_container__b8RUl",navBrand:"Header_navBrand__pkTIo",logo:"Header_logo__ExAXW",brandText:"Header_brandText__kjCHB",navMenu:"Header_navMenu__hOVZa",hidden:"Header_hidden__rv0xX",navItem:"Header_navItem__Bsfef",navLink:"Header_navLink__kwA1H",themeToggle:"Header_themeToggle__iEjLV",donateBtn:"Header_donateBtn__1pU9p",mobileControls:"Header_mobileControls__DJOva",mobileLanguageContainer:"Header_mobileLanguageContainer__XO1eD",mobileMenuToggle:"Header_mobileMenuToggle__W7bfQ",mobileMenuOverlay:"Header_mobileMenuOverlay__n9DHg",mobileMenu:"Header_mobileMenu__nmLj4",mobileMenuHeader:"Header_mobileMenuHeader__Azwx8",mobileMenuBrand:"Header_mobileMenuBrand__CHaKS",mobileMenuContent:"Header_mobileMenuContent__MO4SR",mobileNavItem:"Header_mobileNavItem__SwR1Q",mobileNavLink:"Header_mobileNavLink__7CkMW",mobileDonateBtn:"Header_mobileDonateBtn__wpw-e",mobileLanguageSelector:"Header_mobileLanguageSelector__cRJoX","goog-te-banner-frame":"Header_goog-te-banner-frame__eOov8","goog-te-gadget":"Header_goog-te-gadget__CsVgd",google_translate_element:"Header_google_translate_element__sJsvj",google_translate_element_mobile:"Header_google_translate_element_mobile__qgGJ4","goog-te-combo":"Header_goog-te-combo__2WExx",spin:"Header_spin__EmchG"},ue=JSON.parse('["Afghanistan","Albania","Algeria","Andorra","Angola","Antigua and Barbuda","Argentina","Armenia","Australia","Austria","Azerbaijan","Bahamas","Bahrain","Bangladesh","Barbados","Belarus","Belgium","Belize","Benin","Bhutan","Bolivia","Bosnia and Herzegovina","Botswana","Brazil","Brunei","Bulgaria","Burkina Faso","Burundi","Cabo Verde","Cambodia","Cameroon","Canada","Central African Republic","Chad","Chile","China","Colombia","Comoros","Congo","Costa Rica","Croatia","Cuba","Cyprus","Czech Republic","Democratic Republic of the Congo","Denmark","Djibouti","Dominica","Dominican Republic","Ecuador","Egypt","El Salvador","Equatorial Guinea","Eritrea","Estonia","Eswatini","Ethiopia","Fiji","Finland","France","Gabon","Gambia","Georgia","Germany","Ghana","Greece","Grenada","Guatemala","Guinea","Guinea-Bissau","Guyana","Haiti","Honduras","Hungary","Iceland","India","Indonesia","Iran","Iraq","Ireland","Israel","Italy","Ivory Coast","Jamaica","Japan","Jordan","Kazakhstan","Kenya","Kiribati","Kuwait","Kyrgyzstan","Laos","Latvia","Lebanon","Lesotho","Liberia","Libya","Liechtenstein","Lithuania","Luxembourg","Madagascar","Malawi","Malaysia","Maldives","Mali","Malta","Marshall Islands","Mauritania","Mauritius","Mexico","Micronesia","Moldova","Monaco","Mongolia","Montenegro","Morocco","Mozambique","Myanmar","Namibia","Nauru","Nepal","Netherlands","New Zealand","Nicaragua","Niger","Nigeria","North Korea","North Macedonia","Norway","Oman","Pakistan","Palau","Palestine","Panama","Papua New Guinea","Paraguay","Peru","Philippines","Poland","Portugal","Qatar","Romania","Russia","Rwanda","Saint Kitts and Nevis","Saint Lucia","Saint Vincent and the Grenadines","Samoa","San Marino","Sao Tome and Principe","Saudi Arabia","Senegal","Serbia","Seychelles","Sierra Leone","Singapore","Slovakia","Slovenia","Solomon Islands","Somalia","South Africa","South Korea","South Sudan","Spain","Sri Lanka","Sudan","Suriname","Sweden","Switzerland","Syria","Tajikistan","Tanzania","Thailand","Timor-Leste","Togo","Tonga","Trinidad and Tobago","Tunisia","Turkey","Turkmenistan","Tuvalu","Uganda","Ukraine","United Arab Emirates","United Kingdom","United States","Uruguay","Uzbekistan","Vanuatu","Vatican City","Venezuela","Vietnam","Yemen","Zambia","Zimbabwe"]');var ge=t(5264),he=t(6376),fe=t(6963),be=t(6790),ye=t(8006),je=t(764),ve=t(2313),we=t(3428),Ae=t(4918),ke=t(516),Se=t(1680),Ce=t(3062),ze=t(2054),Ne=t(5469);const _e={baseURL:"http://localhost:5000/api",timeout:15e3,headers:{"Content-Type":"application/json",Accept:"application/json"}},Ie=ue.map(e=>({label:e})),Ee={primary:"#0a451c",secondary:"#facf3c",accent:"#9ccf9f",primaryLight:"#1a5a2c",primaryDark:"#052310",secondaryLight:"#fbd96b",secondaryDark:"#d4a920",accentLight:"#b8dfbb",accentDark:"#7ab87f",white:"#ffffff",black:"#000000",gray50:"#f9fafb",gray100:"#f3f4f6",gray200:"#e5e7eb",gray300:"#d1d5db",gray400:"#9ca3af",gray500:"#6b7280",gray600:"#4b5563",gray700:"#374151",gray800:"#1f2937",gray900:"#111827",success:"#10b981",warning:"#f59e0b",error:"#ef4444",info:"#3b82f6"},Te={colors:(0,m.A)((0,m.A)({},Ee),{},{background:Ee.white,backgroundSecondary:Ee.gray50,surface:Ee.white,surfaceSecondary:Ee.gray100,text:Ee.gray900,textSecondary:Ee.gray600,textMuted:Ee.gray500,textInverse:Ee.white,border:Ee.gray200,borderLight:Ee.gray100,borderHover:Ee.gray300,cardBg:Ee.white,cardShadow:"rgba(0, 0, 0, 0.1)",overlayBg:"rgba(0, 0, 0, 0.5)"})},We=(e,n)=>{if(e.startsWith("rgba"))return e;if(e.startsWith("rgb"))return e.replace("rgb","rgba").replace(")",", ".concat(n,")"));if(e.startsWith("#")){const t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);if(t){const e=parseInt(t[1],16),a=parseInt(t[2],16),r=parseInt(t[3],16);return"rgba(".concat(e,", ").concat(a,", ").concat(r,", ").concat(n,")")}}return e},Fe=["Welcome","Donation Target","Amount","Personal Info","Payment Method"],Pe=[10,25,50,100,250,500,1e3,2500],Re=e=>{let{open:n=!0,onClose:t=()=>{},API_BASE:a=_e.baseURL,onDonationSubmitted:r=()=>{}}=e;const[o,l]=(0,i.useState)(0),[c,d]=(0,i.useState)(!1),[p,x]=(0,i.useState)(""),[u,g]=(0,i.useState)(!1),[h,f]=(0,i.useState)(!1),[b,y]=(0,i.useState)([]),[j,v]=(0,i.useState)([]),[w,A]=(0,i.useState)([]),[k,S]=(0,i.useState)([]),[C,z]=(0,i.useState)(!1),[N,_]=(0,i.useState)(!1),[I,E]=(0,i.useState)(""),[T,W]=(0,i.useState)(""),[F,P]=(0,i.useState)(null),[R,B]=(0,i.useState)(null),[D,M]=(0,i.useState)({donationType:"general",selectedCountry:"",selectedProject:"",amount:50,customAmount:"",name:"",email:"",phone:"",donorCountry:"",isAnonymous:!1,selectedTransactionMethod:null}),H=async function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const t=new AbortController,r=setTimeout(()=>t.abort(),_e.timeout);try{const o={method:"GET",credentials:"include",headers:_e.headers,signal:t.signal},i=(0,m.A)((0,m.A)({},o),n),s="".concat(a).concat(e);console.log("Making request to: ".concat(s));const l=await fetch(s,i);clearTimeout(r);const c=l.headers.get("content-type");if(!c||!c.includes("application/json")){const e=await l.text();throw console.error("Non-JSON response:",e.substring(0,500)),new Error("Server returned ".concat(c||"unknown"," instead of JSON. The API endpoint may not exist."))}const d=await l.json();if(!l.ok)throw new Error(d.message||"HTTP ".concat(l.status,": ").concat(l.statusText));return d}catch(p){if(clearTimeout(r),console.error("API request failed for ".concat(e,":"),p),"AbortError"===p.name)throw new Error("Request timeout - please check your connection");throw p}},q=async()=>{try{console.log("Fetching transaction methods...");const e=await H("/transaction-details");if(Array.isArray(e))S(e),console.log("Loaded ".concat(e.length," transaction methods"));else{if(!e.success||!Array.isArray(e.data))throw new Error("Invalid transaction methods data format");S(e.data),console.log("Loaded ".concat(e.data.length," transaction methods"))}}catch(p){console.error("Failed to fetch transaction methods:",p);const n=[{id:1,type:"bank_transfer",name:"Standard Bank",country:"South Africa",fields:[{label:"Account Name",value:"ACEF International"},{label:"Account Number",value:"123456789"},{label:"Branch Code",value:"051001"}]},{id:2,type:"paypal",name:"PayPal Donations",fields:[{label:"Donation Link",value:"https://paypal.me/acefdonations"},{label:"PayPal Email",value:"donations@acef.org"}]},{id:3,type:"local_merchant",name:"M-Pesa Kenya",country:"Kenya",logo_url:"https://upload.wikimedia.org/wikipedia/commons/1/15/M-PESA_LOGO-01.svg",fields:[{label:"Paybill Number",value:"400200"},{label:"Account Number",value:"ACEF"}]}];S(n),console.log("Using fallback: ".concat(n.length," transaction methods"))}},O=async()=>{try{console.log("Fetching ACEF countries...");const e=await H("/countries");if(Array.isArray(e)){const n=[...e].sort((e,n)=>e.name.localeCompare(n.name));y(n),console.log("Loaded ".concat(n.length," ACEF countries"))}else{if(!e.success||!Array.isArray(e.data))throw new Error("Invalid countries data format");{const n=[...e.data].sort((e,n)=>e.name.localeCompare(n.name));y(n),console.log("Loaded ".concat(n.length," ACEF countries"))}}}catch(p){console.error("Failed to fetch ACEF countries:",p);const n=["Burkina Faso","Cameroon","Chad","Democratic Republic of Congo","Ethiopia","Ghana","Kenya","Liberia","Madagascar","Mali","Morocco","Niger","Nigeria","Rwanda","Senegal","Sierra Leone","South Africa","Tanzania","Uganda","Zambia","Zimbabwe"].map((e,n)=>({id:n+1,name:e}));y(n),console.log("Using fallback: ".concat(n.length," countries"))}},U=async()=>{try{console.log("Fetching projects...");const e=await H("/projects");let n=[];e.success&&Array.isArray(e.data)?n=e.data:Array.isArray(e)&&(n=e);const t=n.filter(e=>!e.is_hidden&&"cancelled"!==e.status&&"completed"!==e.status);A(t),console.log("Loaded ".concat(t.length," visible projects"))}catch(p){console.error("Failed to fetch projects:",p);const n=[{id:1,title:"Clean Water Initiative",country_name:"Kenya"},{id:2,title:"Educational Support Program",country_name:"Ghana"},{id:3,title:"Healthcare Access Project",country_name:"Uganda"},{id:4,title:"Agricultural Development",country_name:"Rwanda"}];A(n),console.log("Using fallback: ".concat(n.length," projects"))}};(0,i.useEffect)(()=>{n&&(console.log("Modal opened, loading data..."),z(!0),x(""),(()=>{const e=[...Ie].sort((e,n)=>e.label.localeCompare(n.label));v(e),console.log("Loaded ".concat(e.length," donor countries"))})(),(async()=>{try{return console.log("Testing API connection..."),await H("/health"),_(!0),console.log("API connection successful"),!0}catch(p){return console.warn("API connection failed:",p.message),_(!1),!1}})().then(e=>{e?Promise.allSettled([O(),U(),q()]).finally(()=>z(!1)):(O(),U(),q(),z(!1))}))},[n,a]);const Y=(e,n)=>{M(t=>(0,m.A)((0,m.A)({},t),{},{[e]:n})),p&&x("")},V=async()=>{(0===o||J())&&(3===o?await(async()=>{try{var e;d(!0),x(""),console.log("Submitting donation...");const n=parseFloat(D.customAmount||D.amount),t={donor_name:D.name.trim(),donor_email:D.email.trim(),donor_phone:D.phone.trim()||null,donor_country:D.donorCountry,amount:n,donation_type:D.donationType,target_country_id:"country"===D.donationType&&D.selectedCountry?parseInt(D.selectedCountry):null,target_project_id:"project"===D.donationType&&D.selectedProject?parseInt(D.selectedProject):null,selected_transaction_method_id:(null===(e=D.selectedTransactionMethod)||void 0===e?void 0:e.id)||null,is_anonymous:D.isAnonymous};console.log("Donation payload:",t);const a=await H("/donations",{method:"POST",body:JSON.stringify(t)});if(!a.success)throw new Error(a.message||"Failed to submit donation");console.log("Donation submitted successfully:",a.data),g(!0),r(a.data),setTimeout(()=>{l(e=>e+1),g(!1)},1500)}catch(p){console.error("Donation submission failed:",p);let n="Failed to submit donation. ";p.message.includes("timeout")?n+="The request timed out. Please check your connection and try again.":p.message.includes("API endpoint")?n+="The donation service is temporarily unavailable. Your information has been saved locally.":p.message.includes("Network")?n+="Network connection error. Please check your internet and try again.":n+=p.message||"Please try again or contact support if the problem persists.",x(n)}finally{d(!1)}})():l(e=>e+1))},J=()=>{switch(o){case 1:return"country"!==D.donationType||D.selectedCountry?!("project"===D.donationType&&!D.selectedProject)||(x("Please select a project"),!1):(x("Please select a country where ACEF operates"),!1);case 2:const e=D.customAmount||D.amount;return!e||e<=0?(x("Please enter a valid donation amount"),!1):!(e>5e4)||(x("For donations over $50,000, please contact us directly"),!1);case 3:return D.name.trim()?D.email.trim()&&/\S+@\S+\.\S+/.test(D.email)?!!D.donorCountry||(x("Please select your country"),!1):(x("Please enter a valid email address"),!1):(x("Name is required"),!1);case 4:return!!D.selectedTransactionMethod||(x("Please select a payment method"),!1);default:return!0}},K=()=>{f(!0),setTimeout(()=>{l(0),M({donationType:"general",selectedCountry:"",selectedProject:"",amount:50,customAmount:"",name:"",email:"",phone:"",donorCountry:"",isAnonymous:!1,selectedTransactionMethod:null}),E(""),W(""),P(null),B(null),x(""),g(!1),f(!1),t()},300)},X=()=>{switch(D.donationType){case"country":const e=b.find(e=>e.id===parseInt(D.selectedCountry));return e?"".concat(e.name," projects"):"Country-specific projects";case"project":const n=w.find(e=>e.id===parseInt(D.selectedProject));return n?n.title:"Specific project";default:return"ACEF General Impact"}},$=k.filter(e=>{const n=!I||e.name.toLowerCase().includes(I.toLowerCase()),t=!T||e.country===T;return n&&t}),Q=[...new Set(k.filter(e=>e.country).map(e=>e.country))].sort(),ee=(e,n)=>{navigator.clipboard.writeText(e).then(()=>{B(n),setTimeout(()=>B(null),2e3)}).catch(()=>{const t=document.createElement("textarea");t.value=e,document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t),B(n),setTimeout(()=>B(null),2e3)})},re=e=>{switch(e){case"bank_transfer":return"Bank Transfer";case"paypal":return"PayPal Donate";case"local_merchant":return"Local Transfer & Other Merchants";default:return"Payment Method"}},oe={paypal:$.filter(e=>"paypal"===e.type),bank_transfer:$.filter(e=>"bank_transfer"===e.type),local_merchant:$.filter(e=>"local_merchant"===e.type)},se=e=>{let{value:n,currentValue:t,onChange:a,icon:r,title:o,description:i,children:l,onClick:c}=e;return(0,s.jsx)("div",{className:"donation-option ".concat(t===n?"selected":""),onClick:e=>{"SELECT"===e.target.tagName||"OPTION"===e.target.tagName||e.target.closest("select")||e.target.closest(".dropdown-container")?e.stopPropagation():c?c():a(n)},children:(0,s.jsxs)("div",{className:"option-content",children:[(0,s.jsx)("input",{type:"radio",name:"option",value:n,checked:t===n,onChange:e=>a(e.target.value)}),(0,s.jsx)(r,{size:20,style:{color:Ee.primary}}),(0,s.jsxs)("div",{className:"option-text",children:[(0,s.jsx)("h4",{children:o}),(0,s.jsx)("p",{children:i}),l]})]})})},le=e=>{let{amount:n,selected:t,onClick:a}=e;return(0,s.jsxs)("button",{className:"amount-button ".concat(t?"selected":""),onClick:a,children:["$",n]})},ce=e=>{let{project:n,isSelected:t,onClick:a}=e;return(0,s.jsxs)("div",{className:"project-card ".concat(t?"selected":""),onClick:()=>a(n.id),children:[(0,s.jsxs)("div",{className:"project-card-header",children:[(0,s.jsxs)("div",{className:"project-info",children:[(0,s.jsx)("h4",{children:n.title}),(0,s.jsxs)("div",{className:"project-meta",children:[(0,s.jsxs)("span",{className:"project-country",children:[(0,s.jsx)(ye.A,{size:12}),n.country_name||n.countryName||"Global"]}),n.status&&"completed"!==n.status&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("span",{className:"separator",children:"\u2022"}),(0,s.jsx)("span",{className:"project-status",children:n.status})]})]})]}),(0,s.jsx)("input",{type:"radio",name:"project",checked:t,onChange:()=>{},onClick:e=>e.stopPropagation()})]}),n.short_description&&(0,s.jsx)("p",{className:"project-description",children:n.short_description})]})},de=e=>{var n;let{method:t,isSelected:a,onClick:r}=e;const o=(e=>{switch(e){case"bank_transfer":return ge.A;case"paypal":return he.A;case"local_merchant":return fe.A;default:return be.A}})(t.type);return(0,s.jsxs)("div",{className:"payment-method-card ".concat(a?"selected":""),onClick:()=>r(t),children:[(0,s.jsxs)("div",{className:"payment-method-header",children:[(0,s.jsxs)("div",{className:"payment-method-info",children:[t.logo_url?(0,s.jsx)("img",{src:t.logo_url,alt:t.name,className:"payment-method-logo",onError:e=>{e.target.style.display="none",e.target.nextElementSibling.style.display="flex"}}):null,(0,s.jsx)("div",{className:"payment-method-icon-fallback",style:{display:t.logo_url?"none":"flex"},children:(0,s.jsx)(o,{size:20,style:{color:Ee.primary}})}),(0,s.jsxs)("div",{className:"payment-method-text",children:[(0,s.jsx)("h4",{children:t.name}),(0,s.jsxs)("div",{className:"payment-method-meta",children:[(0,s.jsx)("span",{className:"payment-type",children:re(t.type)}),t.country&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("span",{className:"separator",children:"\u2022"}),(0,s.jsxs)("span",{className:"payment-country",children:[(0,s.jsx)(ye.A,{size:12}),t.country]})]})]})]})]}),(0,s.jsx)("input",{type:"radio",name:"payment-method",checked:a,onChange:()=>{},onClick:e=>e.stopPropagation()})]}),a&&(0,s.jsx)("div",{className:"payment-method-details",children:"paypal"===t.type?(0,s.jsxs)("div",{className:"paypal-donation-section",children:[(0,s.jsxs)("button",{className:"paypal-donate-button",onClick:e=>{e.stopPropagation(),(e=>{var n;const t=null===(n=e.fields.find(e=>"Donation Link"===e.label))||void 0===n?void 0:n.value;t&&(window.open(t,"_blank"),K())})(t)},children:[(0,s.jsx)(je.A,{size:16}),"Donate Directly"]}),(0,s.jsxs)("div",{className:"paypal-email-section",children:[(0,s.jsx)("p",{className:"paypal-instruction",children:"Complete a PayPal transaction by email:"}),(0,s.jsxs)("div",{className:"paypal-email",children:[(null===(n=t.fields.find(e=>"PayPal Email"===e.label))||void 0===n?void 0:n.value)||"donations@acef.org",(0,s.jsx)("button",{className:"copy-button-small",onClick:e=>{var n;e.stopPropagation();const a=(null===(n=t.fields.find(e=>"PayPal Email"===e.label))||void 0===n?void 0:n.value)||"donations@acef.org";ee(a,"paypal-email-".concat(t.id))},title:"Copy email",children:R==="paypal-email-".concat(t.id)?(0,s.jsx)(ae.A,{size:12}):(0,s.jsx)(ve.A,{size:12})})]})]})]}):(0,s.jsx)("div",{className:"payment-fields",children:t.fields.map((e,n)=>{const a="".concat(t.id,"-").concat(n),r=R===a;return(0,s.jsxs)("div",{className:"payment-field",children:[(0,s.jsxs)("div",{className:"payment-field-header",children:[(0,s.jsx)("label",{children:e.label}),(0,s.jsx)("button",{className:"copy-button",onClick:n=>{n.stopPropagation(),ee(e.value,a)},title:"Copy to clipboard",children:r?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(ae.A,{size:12}),"Copied!"]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(ve.A,{size:12}),"Copy"]})})]}),(0,s.jsx)("div",{className:"payment-field-value",children:e.value})]},n)})})})]})},pe=e=>{let{type:n,methods:t,title:a}=e;return 0===t.length?null:(0,s.jsxs)("div",{className:"payment-type-section",children:[(0,s.jsx)("h4",{className:"payment-type-title",children:a}),(0,s.jsx)("div",{className:"payment-methods-list",children:t.map(e=>{var n;return(0,s.jsx)(de,{method:e,isSelected:(null===(n=D.selectedTransactionMethod)||void 0===n?void 0:n.id)===e.id,onClick:e=>{P(e),Y("selectedTransactionMethod",e)}},e.id)})})]})};return n?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("style",{jsx:!0,children:"\n        .modal-overlay {\n          position: fixed;\n          top: 0;\n          left: 0;\n          right: 0;\n          bottom: 0;\n          z-index: 1000;\n          background: ".concat(We(Ee.black,.7),";\n          backdrop-filter: blur(12px);\n          animation: ").concat(h?"fadeOut":"fadeIn"," 0.4s cubic-bezier(0.25, 0.8, 0.25, 1);\n          display: flex;\n          align-items: flex-start;\n          justify-content: center;\n          padding-top: 60px;\n          padding-bottom: 20px;\n          overflow-y: auto;\n        }\n\n        .modal-content {\n          width: 85vw;\n          max-width: 1100px;\n          min-width: 320px;\n          background: ").concat(Te.colors.surface,";\n          border-radius: 24px;\n          box-shadow: \n            0 32px 64px ").concat(We(Ee.black,.25),", \n            0 16px 32px ").concat(We(Ee.black,.15),",\n            0 0 0 1px ").concat(We(Ee.primary,.1),";\n          animation: ").concat(h?"slideOut":"slideIn"," 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);\n          overflow: hidden;\n          position: relative;\n          margin-bottom: 20px;\n        }\n\n        .modal-header {\n          display: flex;\n          align-items: center;\n          justify-content: space-between;\n          padding: 28px 32px;\n          border-bottom: 1px solid ").concat(We(Ee.primary,.1),";\n          background: linear-gradient(135deg, \n            ").concat(We(Ee.primary,.08),", \n            ").concat(We(Ee.accent,.06),",\n            ").concat(We(Ee.secondary,.04),"\n          );\n          position: relative;\n          overflow: hidden;\n        }\n\n        .modal-header::before {\n          content: '';\n          position: absolute;\n          top: 0;\n          left: -100%;\n          width: 100%;\n          height: 100%;\n          background: linear-gradient(90deg, \n            transparent, \n            ").concat(We(Ee.secondary,.1),", \n            transparent\n          );\n          animation: shimmer 3s ease-in-out infinite;\n        }\n\n        .header-content {\n          display: flex;\n          align-items: center;\n          gap: 16px;\n          position: relative;\n          z-index: 1;\n        }\n\n        .header-title {\n          margin: 0 0 8px 0;\n          color: ").concat(Te.colors.text,";\n          font-size: 28px;\n          font-weight: 800;\n          letter-spacing: -0.5px;\n        }\n\n        .header-subtitle {\n          margin: 0;\n          color: ").concat(Te.colors.textSecondary,";\n          font-size: 14px;\n          font-weight: 500;\n        }\n\n        .close-button {\n          padding: 12px;\n          border: none;\n          border-radius: 50%;\n          background: ").concat(We(Ee.error,.1),";\n          color: ").concat(Ee.error,";\n          cursor: pointer;\n          transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n          position: relative;\n          z-index: 1;\n        }\n\n        .close-button:hover {\n          background: ").concat(We(Ee.error,.2),";\n          transform: scale(1.1) rotate(90deg);\n          box-shadow: 0 4px 20px ").concat(We(Ee.error,.3),";\n        }\n\n        .progress-section {\n          padding: 24px 32px;\n          background: linear-gradient(135deg, \n            ").concat(We(Ee.primary,.05),", \n            ").concat(We(Ee.accent,.08),",\n            ").concat(We(Ee.secondary,.03),"\n          );\n          ").concat(0===o?"display: none;":"","\n          position: relative;\n          overflow: hidden;\n        }\n\n        .progress-section::before {\n          content: '';\n          position: absolute;\n          top: 0;\n          left: 0;\n          right: 0;\n          bottom: 0;\n          background: url('https://images.unsplash.com/photo-1578662996442-48f60103fc96?ixlib=rb-4.0.3&auto=format&fit=crop&w=1200&q=30');\n          background-size: cover;\n          background-position: center;\n          opacity: 0.05;\n          z-index: 0;\n        }\n\n        .progress-steps {\n          display: flex;\n          justify-content: space-between;\n          margin-bottom: 16px;\n          position: relative;\n          z-index: 1;\n        }\n\n        .progress-step {\n          font-size: 12px;\n          font-weight: 700;\n          text-transform: uppercase;\n          letter-spacing: 1px;\n          color: ").concat(Te.colors.textSecondary,";\n          transition: all 0.3s ease;\n        }\n\n        .progress-bar {\n          width: 100%;\n          height: 10px;\n          border-radius: 5px;\n          background: ").concat(We(Ee.primary,.15),";\n          overflow: hidden;\n          position: relative;\n          z-index: 1;\n        }\n\n        .progress-bar::after {\n          content: '';\n          position: absolute;\n          inset: 0;\n          background: linear-gradient(45deg, \n            transparent 25%, \n            ").concat(We(Ee.white,.2)," 25%, \n            ").concat(We(Ee.white,.2)," 50%, \n            transparent 50%, \n            transparent 75%, \n            ").concat(We(Ee.white,.2)," 75%\n          );\n          background-size: 20px 20px;\n          animation: shimmer 2s linear infinite;\n        }\n\n        .progress-fill {\n          height: 100%;\n          border-radius: 5px;\n          background: linear-gradient(90deg, \n            ").concat(Ee.primary,", \n            ").concat(Ee.accent,", \n            ").concat(Ee.secondary,",\n            ").concat(Ee.primary,"\n          );\n          background-size: 300% 100%;\n          animation: gradientShift 4s ease infinite;\n          transition: width 0.8s cubic-bezier(0.25, 0.8, 0.25, 1);\n          width: ").concat(o/(Fe.length-1)*100,"%;\n          position: relative;\n          box-shadow: 0 2px 10px ").concat(We(Ee.primary,.4),";\n        }\n\n        .content-section {\n          padding: 36px 32px;\n          min-height: 500px;\n          position: relative;\n        }\n\n        .error-alert {\n          margin-bottom: 24px;\n          padding: 18px 24px;\n          border-radius: 16px;\n          background: ").concat(We(Ee.error,.08),";\n          border: 1px solid ").concat(We(Ee.error,.2),";\n          color: ").concat(Ee.error,";\n          display: flex;\n          align-items: center;\n          gap: 14px;\n          font-size: 14px;\n          font-weight: 600;\n          animation: shake 0.5s ease-in-out, slideInAlert 0.4s ease-out;\n        }\n\n        .success-alert {\n          margin-bottom: 24px;\n          padding: 18px 24px;\n          border-radius: 16px;\n          background: ").concat(We(Ee.success,.08),";\n          border: 1px solid ").concat(We(Ee.success,.2),";\n          color: ").concat(Ee.success,";\n          display: flex;\n          align-items: center;\n          gap: 14px;\n          font-size: 14px;\n          font-weight: 600;\n          animation: slideInRight 0.5s ease-out;\n        }\n\n        .api-status-info {\n          margin-top: 24px;\n          padding: 16px 20px;\n          border-radius: 12px;\n          background: ").concat(We(Ee.warning,.08),";\n          border: 1px solid ").concat(We(Ee.warning,.2),";\n          color: ").concat(Ee.warning,";\n          display: flex;\n          align-items: center;\n          gap: 12px;\n          font-size: 13px;\n          font-weight: 500;\n        }\n\n        .loading-message {\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          gap: 16px;\n          padding: 40px;\n          color: ").concat(Te.colors.textSecondary,";\n        }\n\n        .loading-message p {\n          margin: 0;\n          font-size: 16px;\n          font-weight: 500;\n        }\n\n        .spin {\n          animation: spin 1.2s linear infinite;\n        }\n\n        .donation-saved-alert {\n          margin-bottom: 28px;\n          padding: 24px;\n          border-radius: 20px;\n          background: ").concat(We(Ee.success,.08),";\n          border: 1px solid ").concat(We(Ee.success,.2),";\n          display: flex;\n          align-items: flex-start;\n          gap: 16px;\n          animation: slideInAlert 0.5s ease-out;\n        }\n\n        .donation-saved-alert h4 {\n          margin: 0 0 8px 0;\n          color: ").concat(Ee.success,";\n          font-size: 18px;\n          font-weight: 700;\n        }\n\n        .donation-saved-alert p {\n          margin: 0;\n          color: ").concat(Te.colors.text,";\n          font-size: 14px;\n          line-height: 1.6;\n        }\n\n        /* Landing Page Styles with Enhanced Visuals */\n        .landing-content {\n          text-align: center;\n          padding: 0;\n          background: linear-gradient(\n            135deg,\n            ").concat(We(Ee.primary,.95)," 0%,\n            ").concat(We(Ee.primaryDark,.9)," 50%,\n            ").concat(We(Ee.primary,.85)," 100%\n          ),\n          linear-gradient(\n            rgba(0,0,0,0.3),\n            rgba(0,0,0,0.1)\n          ),\n          url('https://images.unsplash.com/photo-1488521787991-ed7bbaae773c?ixlib=rb-4.0.3&auto=format&fit=crop&w=2070&q=80');\n          background-size: cover;\n          background-position: center;\n          background-attachment: fixed;\n          color: white;\n          margin: -36px -32px 28px -32px;\n          position: relative;\n          overflow: hidden;\n          min-height: 600px;\n        }\n\n        .parallax-background {\n          position: absolute;\n          top: 0;\n          left: 0;\n          right: 0;\n          bottom: 0;\n          background: \n            radial-gradient(circle at 20% 80%, ").concat(We(Ee.secondary,.15)," 0%, transparent 50%),\n            radial-gradient(circle at 80% 20%, ").concat(We(Ee.accent,.15)," 0%, transparent 50%);\n          animation: float 6s ease-in-out infinite;\n        }\n\n        .landing-hero {\n          max-width: 650px;\n          margin: 0 auto;\n          position: relative;\n          z-index: 2;\n          padding: 48px 24px;\n        }\n\n        .hero-icon {\n          position: relative;\n          margin: 0 auto 32px;\n          width: 120px;\n          height: 120px;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          background: ").concat(We(Ee.secondary,.2),";\n          border-radius: 50%;\n          backdrop-filter: blur(10px);\n          border: 2px solid ").concat(We(Ee.secondary,.3),";\n        }\n\n        .floating-hearts {\n          position: absolute;\n          inset: 0;\n        }\n\n        .floating-hearts .heart-1 {\n          position: absolute;\n          top: 10px;\n          right: 20px;\n          animation: float 3s ease-in-out infinite;\n          filter: drop-shadow(0 2px 4px rgba(0,0,0,0.3));\n        }\n\n        .floating-hearts .heart-2 {\n          position: absolute;\n          bottom: 20px;\n          left: 15px;\n          animation: float 2.8s ease-in-out infinite 0.8s;\n          filter: drop-shadow(0 2px 4px rgba(0,0,0,0.3));\n        }\n\n        .floating-hearts .heart-3 {\n          position: absolute;\n          top: 50px;\n          left: -10px;\n          animation: float 3.5s ease-in-out infinite 1.5s;\n          filter: drop-shadow(0 2px 4px rgba(0,0,0,0.3));\n        }\n\n        .landing-title {\n          font-size: 2.8rem;\n          font-weight: 900;\n          margin: 0 0 24px;\n          color: white;\n          line-height: 1.1;\n          text-shadow: 0 4px 8px rgba(0, 0, 0, 0.5);\n          letter-spacing: -1px;\n        }\n\n        .highlight-text {\n          color: ").concat(Ee.secondary,";\n          text-shadow: 0 4px 8px rgba(0, 0, 0, 0.7);\n          position: relative;\n        }\n\n        .highlight-text::after {\n          content: '';\n          position: absolute;\n          bottom: 0;\n          left: 0;\n          right: 0;\n          height: 4px;\n          background: ").concat(Ee.secondary,";\n          border-radius: 2px;\n          animation: underlineGrow 2s ease-out 1s both;\n        }\n\n        .landing-description {\n          font-size: 1.1rem;\n          line-height: 1.7;\n          color: rgba(255, 255, 255, 0.95);\n          margin: 0 0 40px;\n          text-shadow: 0 2px 4px rgba(0, 0, 0, 0.4);\n          font-weight: 400;\n        }\n\n        .impact-stats {\n          display: grid;\n          grid-template-columns: repeat(3, 1fr);\n          gap: 32px;\n          margin: 0 0 40px;\n          padding: 32px 24px;\n          background: rgba(255, 255, 255, 0.15);\n          backdrop-filter: blur(20px);\n          border-radius: 20px;\n          border: 1px solid rgba(255, 255, 255, 0.25);\n          box-shadow: 0 12px 40px rgba(0, 0, 0, 0.2);\n        }\n\n        .stat-item {\n          display: flex;\n          flex-direction: column;\n          align-items: center;\n          gap: 16px;\n          animation: fadeInUp 0.8s ease-out both;\n        }\n\n        .stat-item:nth-child(2) {\n          animation-delay: 0.2s;\n        }\n\n        .stat-item:nth-child(3) {\n          animation-delay: 0.4s;\n        }\n\n        .stat-icon {\n          width: 60px;\n          height: 60px;\n          border-radius: 50%;\n          background: rgba(255, 255, 255, 0.2);\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          backdrop-filter: blur(10px);\n          border: 1px solid rgba(255, 255, 255, 0.3);\n        }\n\n        .stat-content {\n          text-align: center;\n        }\n\n        .stat-number {\n          font-size: 1.8rem;\n          font-weight: 900;\n          color: ").concat(Ee.secondary,";\n          display: block;\n          text-shadow: 0 2px 4px rgba(0, 0, 0, 0.5);\n          letter-spacing: -0.5px;\n        }\n\n        .stat-label {\n          font-size: 0.9rem;\n          color: rgba(255, 255, 255, 0.9);\n          text-align: center;\n          text-shadow: 0 1px 2px rgba(0, 0, 0, 0.4);\n          font-weight: 500;\n        }\n\n        .inspiration-quote {\n          margin: 0 0 40px;\n          padding: 28px;\n          background: rgba(255, 255, 255, 0.12);\n          backdrop-filter: blur(20px);\n          border-radius: 16px;\n          border: 1px solid rgba(255, 255, 255, 0.2);\n          position: relative;\n          overflow: hidden;\n        }\n\n        .inspiration-quote::before {\n          content: '\"';\n          position: absolute;\n          top: -10px;\n          left: 20px;\n          font-size: 4rem;\n          color: ").concat(We(Ee.secondary,.3),";\n          font-family: serif;\n        }\n\n        .inspiration-quote p {\n          font-size: 1.1rem;\n          font-style: italic;\n          color: white;\n          margin: 0 0 8px;\n          text-shadow: 0 1px 2px rgba(0, 0, 0, 0.4);\n          position: relative;\n          z-index: 1;\n        }\n\n        .inspiration-quote span {\n          font-size: 0.9rem;\n          color: rgba(255, 255, 255, 0.8);\n          text-shadow: 0 1px 2px rgba(0, 0, 0, 0.4);\n          font-weight: 600;\n        }\n\n        .cta-section {\n          display: flex;\n          flex-direction: column;\n          align-items: center;\n          gap: 20px;\n        }\n          .nav-button next-button{\n\n          display: flex;\n          align-items: center;\n          padding: 8px 6px;\n          background: linear-gradient(135deg, ").concat(Ee.primary,");\n          color: ").concat(Ee.white,";\n          border: none;\n          font-size: 1.1rem;\n          }\n\n        .start-donation-btn {\n          display: flex;\n          align-items: center;\n          gap: 12px;\n          padding: 18px 36px;\n          background: linear-gradient(135deg, ").concat(Ee.secondary,", ").concat(Ee.secondaryLight,");\n          color: ").concat(Ee.black,";\n          border: none;\n          border-radius: 50px;\n          font-size: 1.1rem;\n          font-weight: 700;\n          cursor: pointer;\n          transition: all 0.4s cubic-bezier(0.25, 0.8, 0.25, 1);\n          box-shadow: \n            0 8px 25px rgba(0, 0, 0, 0.3),\n            0 0 0 2px ").concat(We(Ee.secondary,.5),";\n          position: relative;\n          overflow: hidden;\n        }\n\n        .start-donation-btn::before {\n          content: '';\n          position: absolute;\n          top: 50%;\n          left: 50%;\n          width: 0;\n          height: 0;\n          border-radius: 50%;\n          background: rgba(255, 255, 255, 0.3);\n          transition: all 0.6s ease;\n          transform: translate(-50%, -50%);\n        }\n\n        .start-donation-btn:hover::before {\n          width: 400px;\n          height: 400px;\n        }\n\n        .start-donation-btn:hover {\n          transform: translateY(-4px) scale(1.05);\n          box-shadow: \n            0 15px 35px rgba(0, 0, 0, 0.4),\n            0 0 0 3px ").concat(We(Ee.secondary,.7),";\n          background: linear-gradient(135deg, ").concat(Ee.secondaryLight,", ").concat(Ee.secondary,");\n        }\n\n        .reassurance {\n          font-size: 0.9rem;\n          color: rgba(255, 255, 255, 0.85);\n          margin: 0;\n          text-shadow: 0 1px 2px rgba(0, 0, 0, 0.4);\n          font-weight: 500;\n        }\n\n        /* Step Hero Images */\n        .step-hero-image,\n        .amount-hero-image,\n        .form-hero-image,\n        .payment-hero-image {\n          width: 100%;\n          height: 120px;\n          margin: -36px -32px 32px -32px;\n          background-size: cover;\n          background-position: center;\n          position: relative;\n          border-radius: 0;\n          overflow: hidden;\n        }\n\n        .step-hero-image {\n          background: \n            linear-gradient(135deg, ").concat(We(Ee.primary,.8),", ").concat(We(Ee.accent,.6),"),\n            url('https://images.unsplash.com/photo-1559827260-dc66d52bef19?ixlib=rb-4.0.3&auto=format&fit=crop&w=1200&q=80');\n        }\n\n        .amount-hero-image {\n          background: \n            linear-gradient(135deg, ").concat(We(Ee.secondary,.8),", ").concat(We(Ee.primary,.6),"),\n            url('https://images.unsplash.com/photo-1579952363873-27d3bfad9c0d?ixlib=rb-4.0.3&auto=format&fit=crop&w=1200&q=80');\n        }\n\n        .form-hero-image {\n          background: \n            linear-gradient(135deg, ").concat(We(Ee.accent,.8),", ").concat(We(Ee.primary,.6),"),\n            url('https://images.unsplash.com/photo-1582213782179-e0d53f98f2ca?ixlib=rb-4.0.3&auto=format&fit=crop&w=1200&q=80');\n        }\n\n        .payment-hero-image {\n          background: \n            linear-gradient(135deg, ").concat(We(Ee.success,.8),", ").concat(We(Ee.primary,.6),"),\n            url('https://images.unsplash.com/photo-1556742049-0cfed4f6a45d?ixlib=rb-4.0.3&auto=format&fit=crop&w=1200&q=80');\n        }\n\n        .step-hero-image::after,\n        .amount-hero-image::after,\n        .form-hero-image::after,\n        .payment-hero-image::after {\n          content: '';\n          position: absolute;\n          top: 0;\n          left: -100%;\n          width: 100%;\n          height: 100%;\n          background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);\n          animation: shimmer 3s ease-in-out infinite;\n        }\n\n        /* Regular Step Content */\n        .step-content {\n          animation: slideInContent 0.5s ease-out;\n          position: relative;\n        }\n\n        .step-title {\n          margin: 0 0 24px 0;\n          font-size: 24px;\n          font-weight: 700;\n          color: ").concat(Te.colors.text,";\n          text-align: center;\n        }\n\n        .step-subtitle {\n          margin: 0 0 28px 0;\n          font-size: 16px;\n          color: ").concat(Te.colors.textSecondary,";\n          text-align: center;\n          font-weight: 500;\n        }\n\n        .options-grid {\n          display: flex;\n          flex-direction: column;\n          gap: 20px;\n        }\n\n        .donation-option {\n          border: 2px solid ").concat(Te.colors.border,";\n          border-radius: 16px;\n          padding: 24px;\n          background: transparent;\n          cursor: pointer;\n          transition: all 0.4s cubic-bezier(0.25, 0.8, 0.25, 1);\n          position: relative;\n          overflow: hidden;\n        }\n\n        .donation-option::before {\n          content: '';\n          position: absolute;\n          top: 0;\n          left: -100%;\n          width: 100%;\n          height: 100%;\n          background: linear-gradient(90deg, transparent, ").concat(We(Ee.primary,.1),", transparent);\n          transition: left 0.6s ease;\n        }\n\n        .donation-option:hover::before {\n          left: 100%;\n        }\n\n        .donation-option.selected {\n          border-color: ").concat(Ee.primary,";\n          background: linear-gradient(135deg, ").concat(We(Ee.primary,.08),", ").concat(We(Ee.accent,.05),");\n          box-shadow: 0 8px 32px ").concat(We(Ee.primary,.15),";\n        }\n\n        .donation-option:hover {\n          transform: translateY(-4px);\n          box-shadow: 0 12px 40px ").concat(We(Ee.primary,.2),";\n          border-color: ").concat(Ee.primaryLight,';\n        }\n\n        .option-content {\n          display: flex;\n          align-items: flex-start;\n          gap: 16px;\n          position: relative;\n          z-index: 1;\n        }\n\n        .option-content input[type="radio"] {\n          accent-color: ').concat(Ee.primary,";\n          width: 20px;\n          height: 20px;\n          margin-top: 2px;\n        }\n\n        .option-text {\n          flex: 1;\n        }\n\n        .option-text h4 {\n          margin: 0 0 8px 0;\n          font-size: 18px;\n          font-weight: 600;\n          color: ").concat(Te.colors.text,";\n        }\n\n        .option-text p {\n          margin: 0 0 16px 0;\n          font-size: 14px;\n          line-height: 1.5;\n          color: ").concat(Te.colors.textSecondary,";\n        }\n\n        .country-select {\n          width: 100%;\n          padding: 12px 16px;\n          border: 1px solid ").concat(Te.colors.border,";\n          border-radius: 10px;\n          font-size: 14px;\n          transition: all 0.3s ease;\n          background: ").concat(Te.colors.surface,";\n          color: ").concat(Te.colors.text,";\n        }\n\n        .country-select:focus {\n          outline: none;\n          border-color: ").concat(Ee.primary,";\n          box-shadow: 0 0 0 3px ").concat(We(Ee.primary,.2),";\n        }\n\n        .projects-grid {\n          display: grid;\n          grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));\n          gap: 16px;\n          margin-top: 20px;\n          max-height: 400px;\n          overflow-y: auto;\n          padding: 4px;\n        }\n\n        .project-card {\n          border: 2px solid ").concat(Te.colors.border,";\n          border-radius: 12px;\n          padding: 20px;\n          background: ").concat(Te.colors.surface,";\n          cursor: pointer;\n          transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n          position: relative;\n          overflow: hidden;\n        }\n\n        .project-card::before {\n          content: '';\n          position: absolute;\n          top: 0;\n          left: -100%;\n          width: 100%;\n          height: 100%;\n          background: linear-gradient(90deg, transparent, ").concat(We(Ee.accent,.1),", transparent);\n          transition: left 0.5s ease;\n        }\n\n        .project-card:hover::before {\n          left: 100%;\n        }\n\n        .project-card.selected {\n          border-color: ").concat(Ee.primary,";\n          background: ").concat(We(Ee.primary,.05),";\n          box-shadow: 0 8px 25px ").concat(We(Ee.primary,.15),";\n          transform: translateY(-2px);\n        }\n\n        .project-card:hover:not(.selected) {\n          border-color: ").concat(Ee.primaryLight,";\n          transform: translateY(-4px);\n          box-shadow: 0 12px 30px ").concat(Te.colors.cardShadow,";\n        }\n\n        .project-card-header {\n          display: flex;\n          align-items: flex-start;\n          justify-content: space-between;\n          margin-bottom: 12px;\n          position: relative;\n          z-index: 1;\n        }\n\n        .project-info {\n          flex: 1;\n        }\n\n        .project-info h4 {\n          margin: 0 0 8px 0;\n          font-size: 16px;\n          font-weight: 600;\n          color: ").concat(Te.colors.text,";\n        }\n\n        .project-meta {\n          display: flex;\n          align-items: center;\n          gap: 8px;\n          font-size: 12px;\n          color: ").concat(Te.colors.textMuted,";\n        }\n\n        .project-country {\n          display: flex;\n          align-items: center;\n          gap: 4px;\n        }\n\n        .project-status {\n          background: ").concat(We(Ee.info,.1),";\n          color: ").concat(Ee.info,";\n          padding: 2px 8px;\n          border-radius: 4px;\n          font-weight: 500;\n          text-transform: capitalize;\n        }\n\n        .separator {\n          color: ").concat(Te.colors.textMuted,";\n        }\n\n        .project-description {\n          margin: 0;\n          font-size: 13px;\n          color: ").concat(Te.colors.textSecondary,';\n          line-height: 1.4;\n          position: relative;\n          z-index: 1;\n        }\n\n        .project-card input[type="radio"] {\n          accent-color: ').concat(Ee.primary,";\n          width: 20px;\n          height: 20px;\n        }\n\n        .no-projects {\n          text-align: center;\n          padding: 32px;\n          color: ").concat(Te.colors.textSecondary,";\n          background: ").concat(Te.colors.backgroundSecondary,";\n          border-radius: 12px;\n          margin-top: 20px;\n        }\n\n        .no-projects p {\n          margin: 0;\n          font-size: 14px;\n        }\n\n        .amounts-grid {\n          display: grid;\n          grid-template-columns: repeat(4, 1fr);\n          gap: 16px;\n          margin-bottom: 32px;\n        }\n\n        .amount-button {\n          padding: 20px;\n          border: 2px solid ").concat(Te.colors.border,";\n          border-radius: 12px;\n          background: ").concat(Te.colors.surface,";\n          color: ").concat(Te.colors.text,";\n          font-size: 18px;\n          font-weight: 700;\n          cursor: pointer;\n          transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);\n          position: relative;\n          overflow: hidden;\n        }\n\n        .amount-button::before {\n          content: '';\n          position: absolute;\n          top: 50%;\n          left: 50%;\n          width: 0;\n          height: 0;\n          border-radius: 50%;\n          background: ").concat(We(Ee.primary,.2),";\n          transition: all 0.4s cubic-bezier(0.25, 0.8, 0.25, 1);\n          transform: translate(-50%, -50%);\n        }\n\n        .amount-button:active::before {\n          width: 300px;\n          height: 300px;\n        }\n\n        .amount-button.selected {\n          border-color: ").concat(Ee.primary,";\n          background: linear-gradient(135deg, ").concat(We(Ee.primary,.15),", ").concat(We(Ee.accent,.1),");\n          color: ").concat(Ee.primary,";\n          box-shadow: 0 6px 20px ").concat(We(Ee.primary,.3),";\n        }\n\n        .amount-button:hover:not(.selected) {\n          transform: translateY(-3px);\n          background: ").concat(Te.colors.backgroundSecondary,";\n          box-shadow: 0 8px 25px ").concat(Te.colors.cardShadow,";\n          border-color: ").concat(Ee.primaryLight,";\n        }\n\n        .custom-amount-section {\n          border-top: 1px solid ").concat(Te.colors.border,";\n          padding-top: 24px;\n        }\n\n        .custom-amount-section label {\n          display: block;\n          margin-bottom: 8px;\n          font-size: 14px;\n          font-weight: 600;\n          color: ").concat(Te.colors.text,";\n        }\n\n        .input-with-icon {\n          position: relative;\n        }\n\n        .input-with-icon svg {\n          position: absolute;\n          left: 16px;\n          top: 50%;\n          transform: translateY(-50%);\n          z-index: 1;\n          color: ").concat(Te.colors.textSecondary,";\n        }\n\n        .input-with-icon input {\n          width: 100%;\n          padding: 16px 16px 16px 48px;\n          border: 2px solid ").concat(Te.colors.border,";\n          border-radius: 12px;\n          font-size: 16px;\n          font-weight: 600;\n          transition: all 0.3s ease;\n          background: ").concat(Te.colors.surface,";\n          color: ").concat(Te.colors.text,";\n          box-sizing: border-box;\n        }\n\n        .input-with-icon input:focus {\n          outline: none;\n          border-color: ").concat(Ee.primary,";\n          box-shadow: 0 0 0 3px ").concat(We(Ee.primary,.2),";\n        }\n\n        .donation-summary {\n          margin-top: 28px;\n          padding: 24px;\n          border-radius: 16px;\n          color: white;\n          text-align: center;\n          background: linear-gradient(135deg, ").concat(Ee.primary,", ").concat(Ee.primaryLight,");\n          box-shadow: 0 8px 25px ").concat(We(Ee.primary,.3),";\n        }\n\n        .donation-summary h4 {\n          margin: 0 0 8px 0;\n          font-size: 20px;\n          font-weight: 700;\n        }\n\n        .donation-summary p {\n          margin: 0;\n          opacity: 0.9;\n          font-size: 14px;\n        }\n\n        .form-fields {\n          display: flex;\n          flex-direction: column;\n          gap: 20px;\n        }\n\n        .form-field label {\n          display: block;\n          margin-bottom: 6px;\n          font-size: 14px;\n          font-weight: 600;\n          color: ").concat(Te.colors.text,";\n        }\n\n        .form-field input,\n        .form-field select {\n          width: 100%;\n          padding: 14px 16px;\n          border: 2px solid ").concat(Te.colors.border,";\n          border-radius: 10px;\n          font-size: 14px;\n          transition: all 0.3s ease;\n          background: ").concat(Te.colors.surface,";\n          color: ").concat(Te.colors.text,";\n          box-sizing: border-box;\n        }\n\n        .form-field input:focus,\n        .form-field select:focus {\n          outline: none;\n          border-color: ").concat(Ee.primary,";\n          box-shadow: 0 0 0 3px ").concat(We(Ee.primary,.2),";\n        }\n\n        .checkbox-field {\n          display: flex;\n          align-items: center;\n          gap: 12px;\n          padding: 16px;\n          background: ").concat(We(Ee.accent,.05),";\n          border-radius: 10px;\n          border: 1px solid ").concat(We(Ee.accent,.2),";\n        }\n\n        .checkbox-field input {\n          width: 18px;\n          height: 18px;\n          accent-color: ").concat(Ee.primary,";\n        }\n\n        .checkbox-field label {\n          font-size: 14px;\n          cursor: pointer;\n          color: ").concat(Te.colors.text,";\n          margin: 0;\n        }\n\n        .summary-card {\n          margin-top: 28px;\n          padding: 20px;\n          border: 1px solid ").concat(We(Ee.primary,.2),";\n          border-radius: 16px;\n          background: ").concat(We(Ee.primary,.05),";\n        }\n\n        .summary-card h4 {\n          margin: 0 0 12px 0;\n          font-size: 16px;\n          font-weight: 600;\n          color: ").concat(Te.colors.text,";\n        }\n\n        .summary-card p {\n          margin: 0 0 6px 0;\n          font-size: 13px;\n          color: ").concat(Te.colors.textSecondary,";\n        }\n\n        /* Payment Methods Styles */\n        .payment-search-filters {\n          margin-bottom: 28px;\n        }\n\n        .search-filter-row {\n          display: flex;\n          gap: 16px;\n          align-items: center;\n        }\n\n        .search-input-container {\n          position: relative;\n          flex: 1;\n        }\n\n        .search-input-container svg {\n          position: absolute;\n          left: 16px;\n          top: 50%;\n          transform: translateY(-50%);\n          color: ").concat(Te.colors.textMuted,";\n          z-index: 1;\n        }\n\n        .payment-search-input {\n          width: 100%;\n          padding: 14px 16px 14px 48px;\n          border: 2px solid ").concat(Te.colors.border,";\n          border-radius: 12px;\n          font-size: 14px;\n          background: ").concat(Te.colors.surface,";\n          color: ").concat(Te.colors.text,";\n          box-sizing: border-box;\n          transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n        }\n\n        .payment-search-input:focus {\n          outline: none;\n          border-color: ").concat(Ee.primary,";\n          box-shadow: 0 0 0 3px ").concat(We(Ee.primary,.15),";\n        }\n\n        .payment-country-filter {\n          min-width: 180px;\n          padding: 14px 16px;\n          border: 2px solid ").concat(Te.colors.border,";\n          border-radius: 12px;\n          font-size: 14px;\n          background: ").concat(Te.colors.surface,";\n          color: ").concat(Te.colors.text,";\n          transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n        }\n\n        .payment-country-filter:focus {\n          outline: none;\n          border-color: ").concat(Ee.primary,";\n          box-shadow: 0 0 0 3px ").concat(We(Ee.primary,.15),";\n        }\n\n        .payment-methods-container {\n          display: flex;\n          flex-direction: column;\n          gap: 32px;\n        }\n\n        .payment-type-section {\n          display: flex;\n          flex-direction: column;\n          gap: 16px;\n        }\n\n        .payment-type-title {\n          margin: 0;\n          font-size: 20px;\n          font-weight: 700;\n          color: ").concat(Te.colors.text,";\n          padding-bottom: 12px;\n          border-bottom: 3px solid ").concat(Ee.primary,";\n          position: relative;\n        }\n\n        .payment-type-title::after {\n          content: '';\n          position: absolute;\n          bottom: -3px;\n          left: 0;\n          width: 60px;\n          height: 3px;\n          background: ").concat(Ee.secondary,";\n          border-radius: 2px;\n        }\n\n        .payment-methods-list {\n          display: flex;\n          flex-direction: column;\n          gap: 16px;\n        }\n\n        .no-payment-methods {\n          display: flex;\n          flex-direction: column;\n          align-items: center;\n          gap: 12px;\n          padding: 48px 24px;\n          text-align: center;\n          color: ").concat(Te.colors.textSecondary,";\n          background: ").concat(Te.colors.backgroundSecondary,";\n          border-radius: 16px;\n          border: 2px dashed ").concat(Te.colors.border,";\n        }\n\n        .no-payment-methods p {\n          margin: 0;\n          font-size: 14px;\n        }\n\n        .payment-method-card {\n          border: 2px solid ").concat(Te.colors.border,";\n          border-radius: 16px;\n          background: ").concat(Te.colors.surface,";\n          cursor: pointer;\n          transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);\n          overflow: hidden;\n          position: relative;\n        }\n\n        .payment-method-card::before {\n          content: '';\n          position: absolute;\n          top: 0;\n          left: -100%;\n          width: 100%;\n          height: 100%;\n          background: linear-gradient(90deg, transparent, ").concat(We(Ee.success,.1),", transparent);\n          transition: left 0.6s ease;\n        }\n\n        .payment-method-card:hover::before {\n          left: 100%;\n        }\n\n        .payment-method-card.selected {\n          border-color: ").concat(Ee.primary,";\n          box-shadow: 0 8px 32px ").concat(We(Ee.primary,.2),";\n          background: ").concat(We(Ee.primary,.03),";\n        }\n\n        .payment-method-card:hover:not(.selected) {\n          border-color: ").concat(Ee.primary,";\n          transform: translateY(-3px);\n          box-shadow: 0 12px 40px ").concat(Te.colors.cardShadow,";\n        }\n\n        .payment-method-header {\n          display: flex;\n          align-items: center;\n          justify-content: space-between;\n          padding: 20px 24px;\n          position: relative;\n          z-index: 1;\n        }\n\n        .payment-method-info {\n          display: flex;\n          align-items: center;\n          gap: 16px;\n        }\n\n        .payment-method-logo {\n          width: 48px;\n          height: 48px;\n          border-radius: 12px;\n          object-fit: cover;\n          border: 1px solid ").concat(Te.colors.border,";\n        }\n\n        .payment-method-icon-fallback {\n          width: 48px;\n          height: 48px;\n          border-radius: 12px;\n          background: ").concat(We(Ee.primary,.1),";\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          border: 1px solid ").concat(We(Ee.primary,.2),";\n        }\n\n        .payment-method-text h4 {\n          margin: 0 0 8px 0;\n          font-size: 16px;\n          font-weight: 600;\n          color: ").concat(Te.colors.text,";\n        }\n\n        .payment-method-meta {\n          display: flex;\n          align-items: center;\n          gap: 8px;\n          font-size: 13px;\n          color: ").concat(Te.colors.textMuted,";\n        }\n\n        .payment-type {\n          background: ").concat(We(Ee.primary,.1),";\n          color: ").concat(Ee.primary,';\n          padding: 4px 12px;\n          border-radius: 8px;\n          font-weight: 600;\n          font-size: 12px;\n        }\n\n        .payment-country {\n          display: flex;\n          align-items: center;\n          gap: 4px;\n        }\n\n        .payment-method-card input[type="radio"] {\n          accent-color: ').concat(Ee.primary,";\n          width: 22px;\n          height: 22px;\n        }\n\n        .payment-method-details {\n          border-top: 1px solid ").concat(Te.colors.border,";\n          padding: 20px 24px;\n          background: ").concat(We(Ee.primary,.02),";\n          position: relative;\n          z-index: 1;\n        }\n\n        .paypal-donation-section {\n          display: flex;\n          flex-direction: column;\n          gap: 20px;\n        }\n\n        .paypal-donate-button {\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          gap: 12px;\n          padding: 14px 28px;\n          background: linear-gradient(135deg, ").concat(Ee.info,", ").concat(We(Ee.info,.8),");\n          color: white;\n          border: none;\n          border-radius: 10px;\n          font-size: 14px;\n          font-weight: 600;\n          cursor: pointer;\n          transition: all 0.3s ease;\n          box-shadow: 0 4px 15px ").concat(We(Ee.info,.3),";\n        }\n\n        .paypal-donate-button:hover {\n          transform: translateY(-2px);\n          box-shadow: 0 8px 25px ").concat(We(Ee.info,.4),";\n        }\n\n        .paypal-email-section {\n          padding: 16px;\n          background: ").concat(We(Ee.info,.1),";\n          border-radius: 10px;\n          border: 1px solid ").concat(We(Ee.info,.2),";\n        }\n\n        .paypal-instruction {\n          margin: 0 0 12px 0;\n          font-size: 13px;\n          color: ").concat(Te.colors.textSecondary,";\n          font-weight: 500;\n        }\n\n        .paypal-email {\n          display: flex;\n          align-items: center;\n          justify-content: space-between;\n          padding: 8px 12px;\n          background: ").concat(Te.colors.surface,";\n          border: 1px solid ").concat(Te.colors.border,";\n          border-radius: 6px;\n          font-family: 'Monaco', 'Menlo', monospace;\n          font-size: 13px;\n          font-weight: 600;\n        }\n\n        .copy-button-small {\n          display: flex;\n          align-items: center;\n          gap: 4px;\n          padding: 4px 8px;\n          background: ").concat(Ee.primary,";\n          color: white;\n          border: none;\n          border-radius: 4px;\n          font-size: 11px;\n          cursor: pointer;\n          transition: all 0.2s ease;\n        }\n\n        .copy-button-small:hover {\n          background: ").concat(Ee.primaryDark,";\n          transform: scale(1.05);\n        }\n\n        .payment-fields {\n          display: flex;\n          flex-direction: column;\n          gap: 16px;\n        }\n\n        .payment-field {\n          background: ").concat(We(Ee.gray100,.5),";\n          padding: 16px;\n          border-radius: 10\n\n        .payment-search-input {\n          width: 100%;\n          padding: 12px 14px 12px 40px;\n          border: 1px solid ").concat(Te.colors.border,";\n          border-radius: 10px;\n          font-size: 14px;\n          background: ").concat(Te.colors.surface,";\n          color: ").concat(Te.colors.text,";\n          box-sizing: border-box;\n          transition: all 0.3s ease;\n        }\n\n        .payment-search-input:focus {\n          outline: none;\n          border-color: ").concat(Ee.primary,";\n          box-shadow: 0 0 0 3px ").concat(We(Ee.primary,.2),";\n        }\n\n        .payment-country-filter {\n          min-width: 160px;\n          padding: 12px 14px;\n          border: 1px solid ").concat(Te.colors.border,";\n          border-radius: 10px;\n          font-size: 14px;\n          background: ").concat(Te.colors.surface,";\n          color: ").concat(Te.colors.text,";\n          transition: all 0.3s ease;\n        }\n\n        .payment-country-filter:focus {\n          outline: none;\n          border-color: ").concat(Ee.primary,";\n          box-shadow: 0 0 0 3px ").concat(We(Ee.primary,.2),";\n        }\n\n        .payment-methods-container {\n          display: flex;\n          flex-direction: column;\n          gap: 28px;\n        }\n\n        .payment-type-section {\n          display: flex;\n          flex-direction: column;\n          gap: 14px;\n        }\n\n        .payment-type-title {\n          margin: 0;\n          font-size: 18px;\n          font-weight: 600;\n          color: ").concat(Te.colors.text,";\n          padding-bottom: 10px;\n          border-bottom: 2px solid ").concat(Ee.primary,";\n        }\n\n        .payment-methods-list {\n          display: flex;\n          flex-direction: column;\n          gap: 14px;\n        }\n\n        .no-payment-methods {\n          display: flex;\n          flex-direction: column;\n          align-items: center;\n          gap: 10px;\n          padding: 40px 20px;\n          text-align: center;\n          color: ").concat(Te.colors.textSecondary,";\n          background: ").concat(Te.colors.backgroundSecondary,";\n          border-radius: 12px;\n        }\n\n        .no-payment-methods p {\n          margin: 0;\n          font-size: 14px;\n        }\n\n        .payment-method-card {\n          border: 2px solid ").concat(Te.colors.border,";\n          border-radius: 14px;\n          background: ").concat(Te.colors.surface,";\n          cursor: pointer;\n          transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n          overflow: hidden;\n        }\n\n        .payment-method-card.selected {\n          border-color: ").concat(Ee.primary,";\n          box-shadow: 0 6px 25px ").concat(We(Ee.primary,.15),";\n        }\n\n        .payment-method-card:hover:not(.selected) {\n          border-color: ").concat(Ee.primary,";\n          transform: translateY(-2px);\n          box-shadow: 0 10px 30px ").concat(Te.colors.cardShadow,";\n        }\n\n        .payment-method-header {\n          display: flex;\n          align-items: center;\n          justify-content: space-between;\n          padding: 18px 20px;\n        }\n\n        .payment-method-info {\n          display: flex;\n          align-items: center;\n          gap: 16px;\n        }\n\n        .payment-method-logo {\n          width: 44px;\n          height: 44px;\n          border-radius: 10px;\n          object-fit: cover;\n          border: 1px solid ").concat(Te.colors.border,";\n        }\n\n        .payment-method-icon-fallback {\n          width: 44px;\n          height: 44px;\n          border-radius: 10px;\n          background: ").concat(We(Ee.primary,.1),";\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          border: 1px solid ").concat(We(Ee.primary,.2),";\n        }\n\n        .payment-method-text h4 {\n          margin: 0 0 6px 0;\n          font-size: 16px;\n          font-weight: 600;\n          color: ").concat(Te.colors.text,";\n        }\n\n        .payment-method-meta {\n          display: flex;\n          align-items: center;\n          gap: 8px;\n          font-size: 13px;\n          color: ").concat(Te.colors.textMuted,";\n        }\n\n        .payment-type {\n          background: ").concat(We(Ee.primary,.1),";\n          color: ").concat(Ee.primary,';\n          padding: 3px 10px;\n          border-radius: 6px;\n          font-weight: 500;\n          font-size: 12px;\n        }\n\n        .payment-country {\n          display: flex;\n          align-items: center;\n          gap: 4px;\n        }\n\n        .payment-method-card input[type="radio"] {\n          accent-color: ').concat(Ee.primary,";\n          width: 20px;\n          height: 20px;\n        }\n\n        .payment-method-details {\n          border-top: 1px solid ").concat(Te.colors.border,";\n          padding: 18px 20px;\n          background: ").concat(We(Ee.primary,.02),";\n        }\n\n        .paypal-donation-section {\n          display: flex;\n          flex-direction: column;\n          gap: 18px;\n        }\n\n        .paypal-donate-button {\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          gap: 10px;}\n\n        .progress-section {\n          padding: 20px 32px;\n          background: linear-gradient(to right, ").concat(We(Ee.primary,.03),", ").concat(We(Ee.accent,.05),");\n          ").concat(0===o?"display: none;":"","\n        }\n\n        .progress-steps {\n          display: flex;\n          justify-content: space-between;\n          margin-bottom: 12px;\n        }\n\n        .progress-step {\n          font-size: 12px;\n          font-weight: 600;\n          text-transform: uppercase;\n          letter-spacing: 0.5px;\n          color: ").concat(Te.colors.textSecondary,";\n          transition: color 0.3s ease;\n        }\n\n        .progress-bar {\n          width: 100%;\n          height: 8px;\n          border-radius: 4px;\n          background: ").concat(Te.colors.border,";\n          overflow: hidden;\n          position: relative;\n        }\n\n        .progress-bar::after {\n          content: '';\n          position: absolute;\n          inset: 0;\n          background: linear-gradient(45deg, transparent 25%, rgba(255,255,255,0.2) 25%, rgba(255,255,255,0.2) 50%, transparent 50%, transparent 75%, rgba(255,255,255,0.2) 75%);\n          background-size: 20px 20px;\n          animation: shimmer 2s linear infinite;\n        }\n\n        .progress-fill {\n          height: 100%;\n          border-radius: 4px;\n          background: linear-gradient(90deg, ").concat(Ee.primary,", ").concat(Ee.accent,", ").concat(Ee.secondary,");\n          background-size: 200% 100%;\n          animation: gradientShift 3s ease infinite;\n          transition: width 0.6s cubic-bezier(0.4, 0, 0.2, 1);\n          width: ").concat(o/(Fe.length-1)*100,"%;\n          position: relative;\n        }\n\n        .content-section {\n          padding: 32px;\n        }\n\n        .error-alert {\n          margin-bottom: 20px;\n          padding: 16px 20px;\n          border-radius: 12px;\n          background: ").concat(We(Ee.error,.1),";\n          border: 1px solid ").concat(We(Ee.error,.2),";\n          color: ").concat(Ee.error,";\n          display: flex;\n          align-items: center;\n          gap: 12px;\n          font-size: 14px;\n          font-weight: 500;\n          animation: shake 0.5s ease-in-out;\n        }\n\n        .success-alert {\n          margin-bottom: 20px;\n          padding: 16px 20px;\n          border-radius: 12px;\n          background: ").concat(We(Ee.success,.1),";\n          border: 1px solid ").concat(We(Ee.success,.2),";\n          color: ").concat(Ee.success,";\n          display: flex;\n          align-items: center;\n          gap: 12px;\n          font-size: 14px;\n          font-weight: 500;\n          animation: slideInRight 0.4s ease-out;\n        }\n\n        .api-status-info {\n          margin-top: 18px;\n          padding: 14px 18px;\n          border-radius: 10px;\n          background: ").concat(We(Ee.warning,.08),";\n          border: 1px solid ").concat(We(Ee.warning,.2),";\n          color: ").concat(Ee.warning,";\n          display: flex;\n          align-items: center;\n          gap: 10px;\n          font-size: 13px;\n        }\n\n        .loading-message {\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          gap: 12px;\n          padding: 24px;\n          color: ").concat(Te.colors.textSecondary,";\n        }\n\n        .loading-message p {\n          margin: 0;\n          font-size: 15px;\n        }\n\n        .spin {\n          animation: spin 1.2s linear infinite;\n        }\n\n        .donation-saved-alert {\n          margin-bottom: 24px;\n          padding: 20px;\n          border-radius: 16px;\n          background: ").concat(We(Ee.success,.08),";\n          border: 1px solid ").concat(We(Ee.success,.2),";\n          display: flex;\n          align-items: flex-start;\n          gap: 14px;\n        }\n\n        .donation-saved-alert h4 {\n          margin: 0 0 6px 0;\n          color: ").concat(Ee.success,";\n          font-size: 16px;\n          font-weight: 600;\n        }\n\n        .donation-saved-alert p {\n          margin: 0;\n          color: ").concat(Te.colors.text,";\n          font-size: 14px;\n          line-height: 1.5;\n        }\n\n        /* NEW: Projects Grid Styles */\n        .projects-grid-container {\n          margin-top: 16px;\n        }\n\n        .projects-grid {\n          display: grid;\n          grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));\n          gap: 16px;\n          max-height: 400px;\n          overflow-y: auto;\n          padding: 4px;\n        }\n\n        .project-grid-card {\n          border: 2px solid ").concat(Te.colors.border,";\n          border-radius: 12px;\n          padding: 16px;\n          background: ").concat(Te.colors.surface,";\n          cursor: pointer;\n          transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n          position: relative;\n          overflow: hidden;\n        }\n\n        .project-grid-card::before {\n          content: '';\n          position: absolute;\n          top: 0;\n          left: -100%;\n          width: 100%;\n          height: 100%;\n          background: linear-gradient(90deg, transparent, ").concat(We(Ee.primary,.05),", transparent);\n          transition: left 0.6s ease;\n        }\n\n        .project-grid-card:hover::before {\n          left: 100%;\n        }\n\n        .project-grid-card.selected {\n          border-color: ").concat(Ee.primary,";\n          background: ").concat(We(Ee.primary,.05),";\n          box-shadow: 0 8px 25px ").concat(We(Ee.primary,.15),";\n          transform: translateY(-2px);\n        }\n\n        .project-grid-card:hover:not(.selected) {\n          border-color: ").concat(Ee.primaryLight,";\n          transform: translateY(-4px);\n          box-shadow: 0 12px 30px ").concat(Te.colors.cardShadow,";\n        }\n\n        .project-card-content {\n          position: relative;\n          z-index: 1;\n        }\n\n        .project-header {\n          display: flex;\n          align-items: flex-start;\n          justify-content: space-between;\n          margin-bottom: 12px;\n        }\n\n        .project-title {\n          margin: 0;\n          font-size: 16px;\n          font-weight: 600;\n          color: ").concat(Te.colors.text,';\n          line-height: 1.3;\n          flex: 1;\n          margin-right: 12px;\n        }\n\n        .project-grid-card input[type="radio"] {\n          accent-color: ').concat(Ee.primary,";\n          width: 20px;\n          height: 20px;\n          margin-top: 2px;\n        }\n\n        .project-meta {\n          display: flex;\n          align-items: center;\n          gap: 12px;\n          margin-bottom: 12px;\n          flex-wrap: wrap;\n        }\n\n        .project-status {\n          display: flex;\n          align-items: center;\n          gap: 4px;\n          padding: 4px 8px;\n          border-radius: 6px;\n          font-size: 11px;\n          font-weight: 600;\n          text-transform: uppercase;\n          letter-spacing: 0.5px;\n        }\n\n        .project-status.status-ongoing {\n          background: ").concat(We(Ee.success,.1),";\n          color: ").concat(Ee.success,";\n        }\n\n        .project-status.status-planning {\n          background: ").concat(We(Ee.info,.1),";\n          color: ").concat(Ee.info,";\n        }\n\n        .project-country {\n          display: flex;\n          align-items: center;\n          gap: 4px;\n          font-size: 12px;\n          color: ").concat(Te.colors.textSecondary,";\n        }\n\n        .project-description {\n          margin: 0;\n          font-size: 13px;\n          line-height: 1.4;\n          color: ").concat(Te.colors.textSecondary,";\n        }\n\n        .no-projects-message {\n          text-align: center;\n          padding: 32px 16px;\n          color: ").concat(Te.colors.textSecondary,";\n          font-size: 14px;\n          background: ").concat(We(Ee.gray200,.3),";\n          border-radius: 8px;\n          border: 2px dashed ").concat(Te.colors.border,";\n        }\n\n        /* Payment Methods Styles */\n        .payment-search-filters {\n          margin-bottom: 24px;\n        }\n\n        .search-filter-row {\n          display: flex;\n          gap: 14px;\n          align-items: center;\n        }\n\n        .search-input-container {\n          position: relative;\n          flex: 1;\n        }\n\n        .search-input-container svg {\n          position: absolute;\n          left: 14px;\n          top: 50%;\n          transform: translateY(-50%);\n          color: ").concat(Te.colors.textMuted,";\n          z-index: 1;\n        }\n\n        .payment-search-input {\n          width: 100%;\n          padding: 12px 14px 12px 42px;\n          border: 1px solid ").concat(Te.colors.border,";\n          border-radius: 10px;\n          font-size: 14px;\n          background: ").concat(Te.colors.surface,";\n          color: ").concat(Te.colors.text,";\n          box-sizing: border-box;\n          transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n        }\n\n        .payment-search-input:focus {\n          outline: none;\n          border-color: ").concat(Ee.primary,";\n          box-shadow: 0 0 0 3px ").concat(We(Ee.primary,.1),";\n        }\n\n        .payment-country-filter {\n          min-width: 160px;\n          padding: 12px 14px;\n          border: 1px solid ").concat(Te.colors.border,";\n          border-radius: 10px;\n          font-size: 14px;\n          background: ").concat(Te.colors.surface,";\n          color: ").concat(Te.colors.text,";\n          transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n        }\n\n        .payment-country-filter:focus {\n          outline: none;\n          border-color: ").concat(Ee.primary,";\n          box-shadow: 0 0 0 3px ").concat(We(Ee.primary,.1),";\n        }\n\n        .payment-methods-container {\n          display: flex;\n          flex-direction: column;\n          gap: 28px;\n        }\n\n        .payment-type-section {\n          display: flex;\n          flex-\n\n\n\n\n\n        .payment-field-value {\n          font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;\n          font-size: 14px;\n          font-weight: 500;\n          color: ").concat(Te.colors.text,";\n          background: ").concat(Te.colors.backgroundSecondary,";\n          padding: 8px 10px;\n          border-radius: 4px;\n          border: 1px solid ").concat(Te.colors.borderLight,";\n          word-break: break-all;\n        }\n\n        /* Landing Page Styles */\n        .landing-content {\n          text-align: center;\n          padding: 16px 0;\n          background: linear-gradient(\n            rgba(10, 69, 28, 0.87), \n            rgba(10, 69, 28, 0.78)\n          ), url('https://images.unsplash.com/photo-1488521787991-ed7bbaae773c?ixlib=rb-4.0.3&auto=format&fit=crop&w=2070&q=80');\n          background-size: cover;\n          background-position: center;\n          background-attachment: local;\n          color: white;\n          border-radius: 12px;\n          margin: -24px -24px 20px -24px;\n          position: relative;\n          overflow: hidden;\n        }\n\n        .landing-content::before {\n          content: '';\n          position: absolute;\n          top: 0;\n          left: 0;\n          right: 0;\n          bottom: 0;\n          background: linear-gradient(\n            135deg, \n            ").concat(We(Ee.primary,.82),", \n            ").concat(We(Ee.primaryDark,.9),"\n          );\n          z-index: 1;\n        }\n\n        .landing-hero {\n          max-width: 550px;\n          margin: 0 auto;\n          position: relative;\n          z-index: 2;\n          padding: 32px 18px;\n        }\n\n      \n\n\n\n\n\n\n\n\n        .hero-icon {\n          position: relative;\n          margin: 0 auto 26px;\n          width: 100px;\n          height: 100px;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n        }\n\n        .floating-hearts {\n          position: absolute;\n          inset: 0;\n        }\n\n        .floating-hearts .heart-1 {\n          position: absolute;\n          top: 8px;\n          right: 16px;\n          animation: float 3s ease-in-out infinite;\n        }\n\n        .floating-hearts .heart-2 {\n          position: absolute;\n          bottom: 16px;\n          left: 12px;\n          animation: float 2.5s ease-in-out infinite 0.5s;\n        }\n\n      \n\n        .floating-hearts .heart-3 {\n          position: absolute;\n          top: 40px;\n          left: -8px;\n          animation: float 3.5s ease-in-out infinite 1s;\n        }\n\n        .landing-title {\n          font-size: 2.2rem;\n          font-weight: 700;\n          margin: 0 0 20px;\n          color: white;\n          line-height: 1.2;\n          text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);\n        }\n\n        .highlight-text {\n          color: ").concat(Ee.secondary,";\n          text-shadow: 0 2px 4px rgba(0, 0, 0, 0.5);\n        }\n\n        .landing-description {\n          font-size: 1rem;\n          line-height: 1.6;\n          color: rgba(255, 255, 255, 0.95);\n          margin: 0 0 32px;\n          text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);\n        }\n\n        .impact-stats {\n          display: grid;\n          grid-template-columns: repeat(3, 1fr);\n          gap: 24px;\n          margin: 0 0 32px;\n          padding: 24px 20px;\n          background: rgba(255, 255, 255, 0.15);\n          backdrop-filter: blur(10px);\n          border-radius: 12px;\n          border: 1px solid rgba(255, 255, 255, 0.2);\n          box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);\n\n\n\n\n\n\n\n\n        }\n\n        .stat-item {\n          display: flex;\n          flex-direction: column;\n          align-items: center;\n          gap: 10px;\n        }\n\n        .stat-number {\n          font-size: 1.5rem;\n          font-weight: 700;\n          color: ").concat(Ee.secondary,";\n          display: block;\n          text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);\n        }\n\n        .stat-label {\n          font-size: 0.8rem;\n          color: rgba(255, 255, 255, 0.9);\n          text-align: center;\n          text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);\n        }\n\n        .inspiration-quote {\n          margin: 0 0 32px;\n          padding: 20px;\n          background: rgba(255, 255, 255, 0.1);\n          backdrop-filter: blur(10px);\n          border-radius: 12px;\n          border: 1px solid rgba(255, 255, 255, 0.2);\n        }\n\n        .inspiration-quote p {\n          font-size: 1rem;\n          font-style: italic;\n          color: white;\n          margin: 0 0 6px;\n          text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);\n        }\n\n        .inspiration-quote span {\n          font-size: 0.8rem;\n          color: rgba(255, 255, 255, 0.8);\n          text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);\n        }\n\n        .cta-section {\n          display: flex;\n          flex-direction: column;\n          align-items: center;\n          gap: 14px;\n        }\n\n        .start-donation-btn {\n          display: flex;\n          align-items: center;\n          gap: 10px;\n          padding: 14px 28px;\n          background: linear-gradient(135deg, ").concat(Ee.secondary,", ").concat(Ee.secondaryLight,");\n          color: ").concat(Ee.black,";\n          border: none;\n          border-radius: 10px;\n          font-size: 1rem;\n          font-weight: 600;\n          cursor: pointer;\n          transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n          box-shadow: 0 4px 20px rgba(0, 0, 0, 0.2);\n        }\n\n        .start-donation-btn:hover {\n          transform: translateY(-2px);\n          box-shadow: 0 8px 30px rgba(0, 0, 0, 0.3);\n          background: linear-gradient(135deg, ").concat(Ee.secondaryLight,", ").concat(Ee.secondary,");\n        }\n\n        .reassurance {\n          font-size: 0.8rem;\n          color: rgba(255, 255, 255, 0.8);\n          margin: 0;\n          text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);\n        }\n\n        /* Regular Step Content */\n        .step-content {\n          animation: slideInContent 0.4s ease-out;\n        }\n\n        .step-title {\n          margin: 0 0 20px 0;\n          font-size: 18px;\n          font-weight: 600;\n          color: ").concat(Te.colors.text,";\n        }\n\n        .step-subtitle {\n          margin: 0 0 20px 0;\n          font-size: 14px;\n          color: ").concat(Te.colors.textSecondary,";\n        }\n\n        .options-container {\n          display: flex;\n          flex-direction: column;\n          gap: 14px;\n        }\n\n        .donation-option {\n          border: 2px solid ").concat(Te.colors.border,";\n          border-radius: 12px;\n          padding: 18px;\n          background: transparent;\n          cursor: pointer;\n          transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n          position: relative;\n          overflow: hidden;\n        }\n\n        .donation-option.selected {\n          border-color: ").concat(Ee.primary,";\n          background: ").concat(We(Ee.primary,.15),";\n        }\n\n        .donation-option:hover {\n          transform: translateY(-2px);\n          box-shadow: 0 8px 25px ").concat(Te.colors.cardShadow,";\n          border-color: ").concat(Ee.primary,";\n        }\n\n        .donation-option::before {\n          content: '';\n          position: absolute;\n          top: 0;\n          left: -100%;\n          width: 100%;\n          height: 100%;\n          background: linear-gradient(90deg, transparent, ").concat(We(Ee.primary,.1),', transparent);\n          transition: left 0.5s;\n        }\n\n        .donation-option:hover::before {\n          left: 100%;\n        }\n\n        .option-content {\n          display: flex;\n          align-items: flex-start;\n          gap: 14px;\n          position: relative;\n          z-index: 1;\n        }\n\n        .option-content input[type="radio"] {\n          accent-color: ').concat(Ee.primary,";\n        }\n\n        .option-text {\n          flex: 1;\n        }\n\n        .option-text h4 {\n          margin: 0 0 6px 0;\n          font-size: 15px;\n          font-weight: 600;\n          color: ").concat(Te.colors.text,";\n        }\n\n        .option-text p {\n          margin: 0 0 10px 0;\n          font-size: 13px;\n          line-height: 1.4;\n          color: ").concat(Te.colors.textSecondary,";\n        }\n\n        .country-select {\n          width: 100%;\n          padding: 9px 11px;\n          border: 1px solid ").concat(Te.colors.border,";\n          border-radius: 6px;\n          font-size: 13px;\n          transition: all 0.2s ease;\n          background: ").concat(Te.colors.surface,";\n          color: ").concat(Te.colors.text,";\n        }\n\n        .country-select:focus {\n          outline: none;\n          border-color: ").concat(Ee.primary,";\n          box-shadow: 0 0 0 3px ").concat(We(Ee.primary,.2),";\n        }\n\n        .amounts-grid {\n          display: grid;\n          grid-template-columns: repeat(4, 1fr);\n          gap: 10px;\n          margin-bottom: 20px;\n        }\n\n        .amount-button {\n          padding: 14px;\n          border: 2px solid ").concat(Te.colors.border,";\n          border-radius: 10px;\n          background: ").concat(Te.colors.surface,";\n          color: ").concat(Te.colors.text,";\n          font-size: 15px;\n          font-weight: 600;\n          cursor: pointer;\n          transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n          position: relative;\n          overflow: hidden;\n        }\n\n        .amount-button.selected {\n          border-color: ").concat(Ee.primary,";\n          background: ").concat(We(Ee.primary,.15),";\n          color: ").concat(Ee.primary,";\n        }\n\n        .amount-button:hover {\n          transform: translateY(-2px);\n          background: ").concat(Te.colors.backgroundSecondary,";\n          box-shadow: 0 4px 15px ").concat(Te.colors.cardShadow,";\n        }\n\n        .amount-button::before {\n          content: '';\n          position: absolute;\n          top: 50%;\n          left: 50%;\n          width: 0;\n          height: 0;\n          border-radius: 50%;\n          background: ").concat(We(Ee.primary,.2),";\n          transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);\n          transform: translate(-50%, -50%);\n        }\n\n        .amount-button:active::before {\n          width: 300px;\n          height: 300px;\n        }\n\n        .custom-amount-section {\n          border-top: 1px solid ").concat(Te.colors.border,";\n          padding-top: 20px;\n        }\n\n        .custom-amount-section label {\n          display: block;\n          margin-bottom: 6px;\n          font-size: 13px;\n          font-weight: 500;\n          color: ").concat(Te.colors.text,";\n        }\n\n        .input-with-icon {\n          position: relative;\n        }\n\n        .input-with-icon svg {\n          position: absolute;\n          left: 11px;\n          top: 50%;\n          transform: translateY(-50%);\n          z-index: 1;\n          color: ").concat(Te.colors.textSecondary,";\n        }\n\n        .input-with-icon input {\n          width: 100%;\n          padding: 11px 11px 11px 38px;\n          border: 1px solid ").concat(Te.colors.border,";\n          border-radius: 7px;\n          font-size: 14px;\n          transition: all 0.2s ease;\n          background: ").concat(Te.colors.surface,";\n          color: ").concat(Te.colors.text,";\n          box-sizing: border-box;\n        }\n\n        .input-with-icon input:focus {\n          outline: none;\n          border-color: ").concat(Ee.primary,";\n          box-shadow: 0 0 0 3px ").concat(We(Ee.primary,.2),";\n        }\n\n        .donation-summary {\n          margin-top: 20px;\n          padding: 18px;\n          border-radius: 10px;\n          color: white;\n          text-align: center;\n          background: linear-gradient(135deg, ").concat(Ee.primary,", ").concat(Ee.primaryLight,");\n        }\n\n        .donation-summary h4 {\n          margin: 0 0 6px 0;\n          font-size: 16px;\n          font-weight: 600;\n        }\n\n        .donation-summary p {\n          margin: 0;\n          opacity: 0.9;\n          font-size: 13px;\n        }\n\n        .form-fields {\n          display: flex;\n          flex-direction: column;\n          gap: 16px;\n        }\n\n        .form-field label {\n          display: block;\n          margin-bottom: 5px;\n          font-size: 13px;\n          font-weight: 500;\n          color: ").concat(Te.colors.text,";\n        }\n\n        .form-field input,\n        .form-field select {\n          width: 100%;\n          padding: 11px;\n          border: 1px solid ").concat(Te.colors.border,";\n          border-radius: 7px;\n          font-size: 13px;\n          transition: all 0.2s ease;\n          background: ").concat(Te.colors.surface,";\n          color: ").concat(Te.colors.text,";\n          box-sizing: border-box;\n        }\n\n        .form-field input:focus,\n        .form-field select:focus {\n          outline: none;\n          border-color: ").concat(Ee.primary,";\n          box-shadow: 0 0 0 3px ").concat(We(Ee.primary,.2),";\n        }\n\n        .checkbox-field {\n          display: flex;\n          align-items: center;\n          gap: 8px;\n        }\n\n        .checkbox-field input {\n          width: 16px;\n          height: 16px;\n          accent-color: ").concat(Ee.primary,";\n        }\n\n        .checkbox-field label {\n          font-size: 13px;\n          cursor: pointer;\n          color: ").concat(Te.colors.text,";\n        }\n\n        .summary-card {\n          margin-top: 20px;\n          padding: 16px;\n          border: 1px solid ").concat(Te.colors.border,";\n          border-radius: 10px;\n          background: ").concat(Te.colors.backgroundSecondary,";\n        }\n\n        .summary-card h4 {\n          margin: 0 0 10px 0;\n          font-size: 15px;\n          font-weight: 600;\n          color: ").concat(Te.colors.text,";\n        }\n\n        .summary-card p {\n          margin: 0 0 3px 0;\n          font-size: 13px;\n          color: ").concat(Te.colors.textSecondary,";\n        }\n\n        .info-card {\n          margin-top: 20px;\n          padding: 14px;\n          border: 1px solid ").concat(We(Ee.info,.5),";\n          border-radius: 10px;\n          background: ").concat(We(Ee.info,.15),";\n        }\n\n        .info-card p {\n          margin: 0;\n          color: ").concat(Te.colors.text,";\n        }\n\n        .navigation-section {\n          display: flex;\n          justify-content: space-between;\n          align-items: center;\n          margin-top: 28px;\n          padding-top: 20px;\n          border-top: 1px solid ").concat(Te.colors.border,";\n          ").concat(0===o?"justify-content: center;":"","\n        }\n\n        .nav-button {\n          display: flex;\n          align-items: center;\n          gap: 7px;\n          padding: 10px 18px;\n          border-radius: 7px;\n          font-size: 13px;\n          font-weight: 500;\n          cursor: pointer;\n          transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n          border: none;\n          position: relative;\n          overflow: hidden;\n        }\n\n        .nav-button:disabled {\n          opacity: 0.5;\n          cursor: not-allowed;\n        }\n\n        .nav-button:not(:disabled):hover {\n          transform: translateY(-1px);\n          box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);\n        }\n\n        .back-button {\n          background: transparent;\n          color: ").concat(Te.colors.textSecondary,";\n          border: 1px solid ").concat(Te.colors.border,";\n        }\n\n        .back-button:not(:disabled):hover {\n          background: ").concat(Te.colors.backgroundSecondary,";\n          color: ").concat(Te.colors.text,";\n        }\n\n        .next-button {\n          background: ").concat(Ee.primary,";\n          color: white;\n          border: 1px solid ").concat(Ee.primary,";\n        }\n\n        .next-button:not(:disabled):hover {\n          background: ").concat(Ee.primaryDark,";\n        }\n\n        .submit-button {\n          background: linear-gradient(135deg, ").concat(Ee.success,", ").concat(We(Ee.success,.8),");\n          color: white;\n          border: 1px solid ").concat(Ee.success,";\n        }\n\n        .nav-button::before {\n          content: '';\n          position: absolute;\n          top: 50%;\n          left: 50%;\n          width: 0;\n          height: 0;\n          border-radius: 50%;\n          background: rgba(255, 255, 255, 0.2);\n          transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);\n          transform: translate(-50%, -50%);\n        }\n\n        .nav-button:active::before {\n          width: 200px;\n          height: 200px;\n        }\n\n        @keyframes fadeIn {\n          from {\n            opacity: 0;\n          }\n          to {\n            opacity: 1;\n          }\n        }\n\n        @keyframes slideIn {\n          from {\n            opacity: 0;\n            transform: scale(0.95) translateY(20px);\n          }\n          to {\n            opacity: 1;\n            transform: scale(1) translateY(0);\n          }\n        }\n\n        @keyframes slideInContent {\n          from {\n            opacity: 0;\n            transform: translateY(10px);\n          }\n          to {\n            opacity: 1;\n            transform: translateY(0);\n          }\n        }\n\n        @keyframes float {\n          0%, 100% {\n            transform: translateY(0px);\n            opacity: 0.7;\n          }\n          50% {\n            transform: translateY(-8px);\n            opacity: 1;\n          }\n        }\n\n        @keyframes spin {\n          from {\n            transform: rotate(0deg);\n          }\n          to {\n            transform: rotate(360deg);\n          }\n        }\n\n        @media (max-width: 768px) {\n          .modal-content {\n            margin: 8px;\n            max-height: calc(100vh - 16px);\n            max-width: 95vw;\n          }\n\n          .amounts-grid {\n            grid-template-columns: repeat(2, 1fr);\n          }\n\n          .progress-steps {\n            font-size: 10px;\n          }\n\n          .step-title {\n            font-size: 17px;\n          }\n\n          .modal-header {\n            padding: 16px 20px;\n          }\n\n          .content-section {\n            padding: 20px;\n          }\n\n          .navigation-section {\n            flex-direction: column;\n            gap: 10px;\n          }\n\n          .nav-button {\n            width: 100%;\n            justify-content: center;\n          }\n\n          .landing-title {\n            font-size: 1.9rem;\n          }\n\n          .impact-stats {\n            grid-template-columns: 1fr;\n            gap: 16px;\n            padding: 20px 16px;\n          }\n\n          .stat-item {\n            flex-direction: row;\n            text-align: left;\n            gap: 12px;\n          }\n\n          .stat-number {\n            font-size: 1.3rem;\n          }\n\n          .stat-label {\n            font-size: 0.75rem;\n          }\n        }\n\n        @media (max-width: 480px) {\n          .amounts-grid {\n            grid-template-columns: repeat(2, 1fr);\n            gap: 8px;\n          }\n\n          .amount-button {\n            padding: 12px;\n            font-size: 14px;\n          }\n\n          .donation-option {\n            padding: 14px;\n          }\n\n          .option-content {\n            gap: 10px;\n          }\n\n          .landing-title {\n            font-size: 1.7rem;\n          }\n\n          .landing-description {\n            font-size: 0.95rem;\n          }\n\n          .start-donation-btn {\n            font-size: 0.95rem;\n            padding: 12px 22px;\n          }\n\n          .landing-hero {\n            padding: 28px 16px;\n          }\n\n          .hero-icon {\n            width: 80px;\n            height: 80px;\n            margin-bottom: 20px;\n          }\n\n          .inspiration-quote {\n            padding: 16px;\n          }\n        }\n      ")}),(0,s.jsx)("div",{className:"modal-overlay",children:(0,s.jsxs)("div",{className:"modal-content",children:[(0,s.jsxs)("div",{className:"modal-header",children:[(0,s.jsxs)("div",{className:"header-content",children:[(0,s.jsx)(Ae.A,{size:26,style:{color:Ee.primary}}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:"header-title",children:0===o?"Welcome to ACEF":"Make a Donation"}),o>0&&(0,s.jsxs)("p",{className:"header-subtitle",children:["Step ",o," of ",Fe.length-1,": ",Fe[o]]})]})]}),(0,s.jsx)("button",{className:"close-button",onClick:K,children:(0,s.jsx)(ie.A,{size:22})})]}),o>0&&(0,s.jsxs)("div",{className:"progress-section",children:[(0,s.jsx)("div",{className:"progress-steps",children:Fe.slice(1).map((e,n)=>(0,s.jsx)("div",{className:"progress-step",style:{color:n<o?Ee.primary:Te.colors.textSecondary},children:e},e))}),(0,s.jsx)("div",{className:"progress-bar",children:(0,s.jsx)("div",{className:"progress-fill",style:{width:"".concat(o/(Fe.length-1)*100,"%")}})})]}),(0,s.jsxs)("div",{className:"content-section",children:[p&&(0,s.jsxs)("div",{className:"error-alert",children:[(0,s.jsx)(ne.A,{size:16}),(0,s.jsx)("span",{children:p})]}),(()=>{var e;switch(o){case 0:return(0,s.jsxs)("div",{className:"landing-content",children:[(0,s.jsx)("div",{className:"parallax-background"}),(0,s.jsxs)("div",{className:"landing-hero",children:[(0,s.jsxs)("div",{className:"hero-icon",children:[(0,s.jsx)(we.A,{size:64,style:{color:Ee.secondary}}),(0,s.jsxs)("div",{className:"floating-hearts",children:[(0,s.jsx)(Ae.A,{size:16,style:{color:Ee.secondary},className:"heart-1"}),(0,s.jsx)(Ae.A,{size:12,style:{color:Ee.accent},className:"heart-2"}),(0,s.jsx)(Ae.A,{size:20,style:{color:Ee.primary},className:"heart-3"})]})]}),(0,s.jsxs)("h2",{className:"landing-title",children:["Together, We Create",(0,s.jsx)("span",{className:"highlight-text",children:" Lasting Change"})]}),(0,s.jsx)("p",{className:"landing-description",children:"Every contribution becomes part of something bigger. Your generosity helps build stronger communities, provide essential resources, and create opportunities that transform lives across Africa."}),(0,s.jsxs)("div",{className:"impact-stats",children:[(0,s.jsxs)("div",{className:"stat-item",children:[(0,s.jsx)("div",{className:"stat-icon",children:(0,s.jsx)(Z.A,{size:20,style:{color:Ee.secondary}})}),(0,s.jsxs)("div",{className:"stat-content",children:[(0,s.jsx)("span",{className:"stat-number",children:"1,200+"}),(0,s.jsx)("span",{className:"stat-label",children:"Lives Impacted"})]})]}),(0,s.jsxs)("div",{className:"stat-item",children:[(0,s.jsx)("div",{className:"stat-icon",children:(0,s.jsx)(te.A,{size:20,style:{color:Ee.accent}})}),(0,s.jsxs)("div",{className:"stat-content",children:[(0,s.jsx)("span",{className:"stat-number",children:b.length||"15"}),(0,s.jsx)("span",{className:"stat-label",children:"Communities Served"})]})]}),(0,s.jsxs)("div",{className:"stat-item",children:[(0,s.jsx)("div",{className:"stat-icon",children:(0,s.jsx)(Ae.A,{size:20,style:{color:Ee.primary}})}),(0,s.jsxs)("div",{className:"stat-content",children:[(0,s.jsx)("span",{className:"stat-number",children:"500+"}),(0,s.jsx)("span",{className:"stat-label",children:"Generous Donors"})]})]})]}),(0,s.jsxs)("div",{className:"inspiration-quote",children:[(0,s.jsx)("p",{children:'"The best way to find yourself is to lose yourself in the service of others."'}),(0,s.jsx)("span",{children:"\u2014 Mahatma Gandhi"})]}),(0,s.jsxs)("div",{className:"cta-section",children:[(0,s.jsxs)("button",{className:"start-donation-btn",onClick:V,children:[(0,s.jsx)(Ae.A,{size:18}),"Start Your Impact Journey",(0,s.jsx)(L.A,{size:18})]}),(0,s.jsxs)("p",{className:"reassurance",children:[N?"Secure process":"Offline mode"," \u2022 Every dollar matters \u2022 Take your time"]})]})]})]});case 1:return(0,s.jsxs)("div",{className:"step-content",children:[(0,s.jsx)("div",{className:"step-hero-image"}),(0,s.jsx)("h3",{className:"step-title",children:"What would you like to support?"}),C&&(0,s.jsxs)("div",{className:"loading-message",children:[(0,s.jsx)(ke.A,{size:20,className:"spin"}),(0,s.jsx)("p",{children:"Loading donation options..."})]}),(0,s.jsxs)("div",{className:"options-grid",children:[(0,s.jsx)(se,{value:"general",currentValue:D.donationType,onChange:e=>Y("donationType",e),icon:Ae.A,title:"General ACEF Impact",description:"Support our overall mission and let us allocate funds where they're needed most"}),(0,s.jsx)(se,{value:"country",currentValue:D.donationType,onChange:e=>Y("donationType",e),icon:te.A,title:"Specific Country",description:"Focus your donation on projects in a particular country where ACEF operates",children:"country"===D.donationType&&(0,s.jsxs)("select",{value:D.selectedCountry,onChange:e=>Y("selectedCountry",e.target.value),className:"country-select",onClick:e=>e.stopPropagation(),children:[(0,s.jsx)("option",{value:"",children:"Select Country"}),0===b.length?(0,s.jsx)("option",{value:"",disabled:!0,children:C?"Loading countries...":"No countries available"}):b.map(e=>(0,s.jsx)("option",{value:e.id,children:e.name},e.id))]})}),(0,s.jsxs)(se,{value:"project",currentValue:D.donationType,onChange:e=>Y("donationType",e),icon:Se.A,title:"Specific Project",description:"Donate directly to a particular project you care about",children:["project"===D.donationType&&w.length>0&&(0,s.jsx)("div",{className:"projects-grid",children:w.map(e=>(0,s.jsx)(ce,{project:e,isSelected:parseInt(D.selectedProject)===e.id,onClick:e=>Y("selectedProject",e)},e.id))}),"project"===D.donationType&&0===w.length&&!C&&(0,s.jsx)("div",{className:"no-projects",children:(0,s.jsx)("p",{children:"No projects available for donation at this time."})})]})]}),!N&&(0,s.jsxs)("div",{className:"api-status-info",children:[(0,s.jsx)(ne.A,{size:16,style:{color:Ee.warning}}),(0,s.jsx)("span",{children:"Offline mode: Using demo data. Your donation will be processed when connection is restored."})]})]});case 2:return(0,s.jsxs)("div",{className:"step-content",children:[(0,s.jsx)("div",{className:"amount-hero-image"}),(0,s.jsx)("h3",{className:"step-title",children:"Choose your donation amount"}),(0,s.jsxs)("p",{className:"step-subtitle",children:["Supporting: ",X()]}),(0,s.jsx)("div",{className:"amounts-grid",children:Pe.map(e=>(0,s.jsx)(le,{amount:e,selected:D.amount===e&&!D.customAmount,onClick:()=>{Y("amount",e),Y("customAmount","")}},e))}),(0,s.jsxs)("div",{className:"custom-amount-section",children:[(0,s.jsx)("label",{children:"Custom Amount (USD)"}),(0,s.jsxs)("div",{className:"input-with-icon",children:[(0,s.jsx)(Ce.A,{size:18}),(0,s.jsx)("input",{type:"number",value:D.customAmount,onChange:e=>{Y("customAmount",e.target.value),Y("amount","")},placeholder:"Enter amount",min:"1",max:"50000"})]})]}),(D.customAmount||D.amount)&&(0,s.jsxs)("div",{className:"donation-summary",children:[(0,s.jsxs)("h4",{children:["Your donation: $",D.customAmount||D.amount]}),(0,s.jsxs)("p",{children:["Thank you for supporting ",X()]})]})]});case 3:return(0,s.jsxs)("div",{className:"step-content",children:[(0,s.jsx)("div",{className:"form-hero-image"}),(0,s.jsx)("h3",{className:"step-title",children:"Your Information"}),u&&(0,s.jsxs)("div",{className:"success-alert",children:[(0,s.jsx)(ze.A,{size:16}),(0,s.jsx)("span",{children:"Donation details saved successfully! Proceeding to payment..."})]}),(0,s.jsxs)("div",{className:"form-fields",children:[(0,s.jsxs)("div",{className:"form-field",children:[(0,s.jsx)("label",{children:"Full Name *"}),(0,s.jsx)("input",{type:"text",value:D.name,onChange:e=>Y("name",e.target.value),placeholder:"Enter your full name"})]}),(0,s.jsxs)("div",{className:"form-field",children:[(0,s.jsx)("label",{children:"Email Address *"}),(0,s.jsx)("input",{type:"email",value:D.email,onChange:e=>Y("email",e.target.value),placeholder:"Enter your email address"})]}),(0,s.jsxs)("div",{className:"form-field",children:[(0,s.jsx)("label",{children:"Phone Number (Optional)"}),(0,s.jsx)("input",{type:"tel",value:D.phone,onChange:e=>Y("phone",e.target.value),placeholder:"Enter your phone number"})]}),(0,s.jsxs)("div",{className:"form-field",children:[(0,s.jsx)("label",{children:"Your Country *"}),(0,s.jsxs)("select",{value:D.donorCountry,onChange:e=>Y("donorCountry",e.target.value),children:[(0,s.jsx)("option",{value:"",children:"Select your country"}),j.map(e=>(0,s.jsx)("option",{value:e.label,children:e.label},e.label))]})]}),(0,s.jsxs)("div",{className:"checkbox-field",children:[(0,s.jsx)("input",{type:"checkbox",id:"anonymous",checked:D.isAnonymous,onChange:e=>Y("isAnonymous",e.target.checked)}),(0,s.jsx)("label",{htmlFor:"anonymous",children:"Make this donation anonymous"})]})]}),(0,s.jsxs)("div",{className:"summary-card",children:[(0,s.jsx)("h4",{children:"Donation Summary"}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("p",{children:["Amount: $",D.customAmount||D.amount]}),(0,s.jsxs)("p",{children:["Supporting: ",X()]}),(0,s.jsxs)("p",{children:["Donor: ",D.isAnonymous?"Anonymous":D.name||"Not provided"]})]})]})]});case 4:return(0,s.jsxs)("div",{className:"step-content",children:[(0,s.jsx)("div",{className:"payment-hero-image"}),(0,s.jsx)("h3",{className:"step-title",children:"Choose Payment Method"}),(0,s.jsxs)("div",{className:"donation-saved-alert",children:[(0,s.jsx)(ze.A,{size:20,style:{color:Ee.success}}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{children:"Donation Details Saved!"}),(0,s.jsx)("p",{children:"Your donation information has been securely saved. Choose how you'd like to complete your payment."})]})]}),(0,s.jsx)("div",{className:"payment-search-filters",children:(0,s.jsxs)("div",{className:"search-filter-row",children:[(0,s.jsxs)("div",{className:"search-input-container",children:[(0,s.jsx)(G.A,{size:16}),(0,s.jsx)("input",{type:"text",placeholder:"Search payment methods...",value:I,onChange:e=>E(e.target.value),className:"payment-search-input"})]}),(0,s.jsxs)("select",{value:T,onChange:e=>W(e.target.value),className:"payment-country-filter",children:[(0,s.jsx)("option",{value:"",children:"All Countries"}),Q.map(e=>(0,s.jsx)("option",{value:e,children:e},e))]})]})}),(0,s.jsx)("div",{className:"payment-methods-container",children:0===$.length?(0,s.jsxs)("div",{className:"no-payment-methods",children:[(0,s.jsx)(ne.A,{size:20,style:{color:Ee.warning}}),(0,s.jsx)("p",{children:"No payment methods found matching your search."})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(pe,{type:"paypal",methods:oe.paypal,title:"PayPal Donate"}),(0,s.jsx)(pe,{type:"bank_transfer",methods:oe.bank_transfer,title:"Bank Transfer"}),(0,s.jsx)(pe,{type:"local_merchant",methods:oe.local_merchant,title:"Local Transfer & Other Merchants"})]})}),(0,s.jsx)("div",{className:"info-card",children:(0,s.jsxs)("div",{style:{display:"flex",alignItems:"flex-start"},children:[(0,s.jsx)(ne.A,{size:18,style:{color:Ee.info,marginRight:"8px",marginTop:"2px"}}),(0,s.jsx)("p",{style:{fontSize:"13px",margin:0},children:"paypal"===(null===(e=D.selectedTransactionMethod)||void 0===e?void 0:e.type)?'Click "Donate Directly" to be redirected to PayPal, or use the email provided for manual transactions.':D.selectedTransactionMethod?"Use the payment details above to complete your donation. Keep this information for your records.":"Select a payment method to complete your ".concat(D.customAmount||D.amount," donation.").concat(N?"":" Your donation details are saved and will sync when connection is restored.")})]})})]});default:return null}})(),(0,s.jsx)("div",{className:"navigation-section",children:0===o?null:(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("button",{className:"nav-button back-button",onClick:()=>{l(e=>e-1),x(""),g(!1)},disabled:1===o,children:[(0,s.jsx)(Ne.A,{size:16}),"Back"]}),(0,s.jsx)("div",{style:{display:"flex",gap:"10px"},children:o<Fe.length-1?(0,s.jsx)("button",{className:"nav-button next-button",onClick:V,disabled:c,children:c?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(ke.A,{size:16,className:"spin"}),3===o?"Submitting...":"Loading..."]}):(0,s.jsxs)(s.Fragment,{children:[3===o?"Submit Donation":"Next",(0,s.jsx)(L.A,{size:16})]})}):(0,s.jsx)("button",{className:"nav-button submit-button",disabled:c,children:c?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(ke.A,{size:16,className:"spin"}),"Processing..."]}):(0,s.jsxs)(s.Fragment,{children:["Complete Donation",(0,s.jsx)(ze.A,{size:16})]})})})]})})]})]})})]}):null};const Be=new class{constructor(){this.isInitialized=!1,this.currentLanguage="en",this.supportedLanguages={en:{name:"English",flag:"\ud83c\uddfa\ud83c\uddf8"},es:{name:"Espa\xf1ol",flag:"\ud83c\uddea\ud83c\uddf8"},fr:{name:"Fran\xe7ais",flag:"\ud83c\uddeb\ud83c\uddf7"},de:{name:"Deutsch",flag:"\ud83c\udde9\ud83c\uddea"},it:{name:"Italiano",flag:"\ud83c\uddee\ud83c\uddf9"},pt:{name:"Portugu\xeas",flag:"\ud83c\uddf5\ud83c\uddf9"},ru:{name:"\u0420\u0443\u0441\u0441\u043a\u0438\u0439",flag:"\ud83c\uddf7\ud83c\uddfa"},zh:{name:"\u4e2d\u6587",flag:"\ud83c\udde8\ud83c\uddf3"},ja:{name:"\u65e5\u672c\u8a9e",flag:"\ud83c\uddef\ud83c\uddf5"},ar:{name:"\u0627\u0644\u0639\u0631\u0628\u064a\u0629",flag:"\ud83c\uddf8\ud83c\udde6"},sw:{name:"Kiswahili",flag:"\ud83c\uddf0\ud83c\uddea"},am:{name:"\u12a0\u121b\u122d\u129b",flag:"\ud83c\uddea\ud83c\uddf9"}},this.callbacks=new Set,this.googleWidget=null,this.isTranslating=!1,this.useManualTranslation=!1,this.hideStylesApplied=!1}async initialize(){if(this.isInitialized)return!0;console.log("Initializing translation service..."),this.applyAllHidingStyles();try{return await this.initializeGoogleTranslate(),console.log("Google Translate initialized successfully"),this.isInitialized=!0,!0}catch(e){return console.warn("Google Translate failed, using manual approach:",e),this.useManualTranslation=!0,this.isInitialized=!0,!0}}async initializeGoogleTranslate(){return new Promise((e,n)=>{const t=setTimeout(()=>{n(new Error("Google Translate initialization timeout"))},8e3);try{this.loadGoogleScript().then(()=>this.createGoogleWidget()).then(()=>this.waitForGoogleWidget()).then(()=>{clearTimeout(t),e()}).catch(e=>{clearTimeout(t),n(e)})}catch(a){clearTimeout(t),n(a)}})}loadGoogleScript(){return new Promise((e,n)=>{var t,a;if(null!==(t=window.google)&&void 0!==t&&null!==(a=t.translate)&&void 0!==a&&a.TranslateElement)return void e();const r=document.createElement("script"),o="gtInit".concat(Date.now());window[o]=()=>{delete window[o],e()},r.src="//translate.google.com/translate_a/element.js?cb=".concat(o),r.onerror=()=>{delete window[o],n(new Error("Script load failed"))},document.head.appendChild(r)})}async createGoogleWidget(){const e=document.createElement("div");e.id="google_translate_element",e.style.cssText="\n      position: fixed !important;\n      top: -9999px !important;\n      left: -9999px !important;\n      opacity: 0 !important;\n      visibility: hidden !important;\n      pointer-events: none !important;\n      z-index: -9999 !important;\n    ",document.body.appendChild(e),new window.google.translate.TranslateElement({pageLanguage:"en",includedLanguages:Object.keys(this.supportedLanguages).join(","),layout:window.google.translate.TranslateElement.InlineLayout.SIMPLE,autoDisplay:!1},"google_translate_element")}waitForGoogleWidget(){return new Promise((e,n)=>{let t=0;const a=()=>{const r=document.querySelector(".goog-te-combo");r&&r.options.length>1?(this.googleWidget=r,this.setupGoogleListener(),e()):t++<5?setTimeout(a,1e3):n(new Error("Widget not found"))};setTimeout(a,1500)})}setupGoogleListener(){this.googleWidget&&this.googleWidget.addEventListener("change",e=>{const n=e.target.value;n!==this.currentLanguage&&(this.currentLanguage=n,setTimeout(()=>this.notifyCallbacks(n),100))})}applyAllHidingStyles(){if(this.hideStylesApplied)return;const e=document.createElement("style");e.id="comprehensive-translate-hide",e.textContent='\n      /* Hide all Google Translate UI elements aggressively */\n      .goog-te-banner-frame,\n      .goog-te-banner-frame.skiptranslate,\n      iframe.goog-te-banner-frame,\n      iframe.skiptranslate,\n      .goog-te-ftab,\n      .goog-te-menu-frame,\n      .goog-te-balloon-frame,\n      #goog-gt-tt,\n      .goog-te-spinner-pos,\n      .goog-te-menu2,\n      div[id^="goog-gt-"],\n      [class*="goog-te-"]:not(#google_translate_element):not(#google_translate_element *),\n      .skiptranslate:not(#google_translate_element):not(#google_translate_element *) {\n        display: none !important;\n        visibility: hidden !important;\n        opacity: 0 !important;\n        width: 0 !important;\n        height: 0 !important;\n        position: absolute !important;\n        left: -10000px !important;\n        top: -10000px !important;\n        overflow: hidden !important;\n        z-index: -9999 !important;\n        pointer-events: none !important;\n      }\n      \n      /* Prevent body displacement */\n      body {\n        top: 0 !important;\n        position: static !important;\n        margin-top: 0 !important;\n        transform: none !important;\n      }\n      \n      /* Override any translation-induced body changes */\n      body.translated-ltr,\n      body.translated-rtl {\n        top: 0 !important;\n        position: static !important;\n        margin-top: 0 !important;\n        padding-top: 0 !important;\n        transform: none !important;\n      }\n      \n      /* Keep our hidden container functional */\n      #google_translate_element {\n        position: fixed !important;\n        top: -9999px !important;\n        left: -9999px !important;\n        opacity: 0 !important;\n        visibility: hidden !important;\n        pointer-events: auto !important;\n        z-index: -9999 !important;\n      }\n    ',document.head.appendChild(e),this.hideStylesApplied=!0,this.setupContinuousHiding()}setupContinuousHiding(){new MutationObserver(e=>{let n=!1;e.forEach(e=>{e.addedNodes.forEach(e=>{1===e.nodeType&&this.isGoogleTranslateElement(e)&&(n=!0)})}),n&&setTimeout(()=>this.hideGoogleElements(),100)}).observe(document.body,{childList:!0,subtree:!0}),setInterval(()=>{this.hideGoogleElements(),this.restoreBodyPosition()},2e3)}isGoogleTranslateElement(e){var n,t,a,r;return(null===(n=e.classList)||void 0===n?void 0:n.contains("goog-te-banner-frame"))||(null===(t=e.classList)||void 0===t?void 0:t.contains("skiptranslate"))||(null===(a=e.id)||void 0===a?void 0:a.startsWith("goog-gt-"))||"IFRAME"===e.tagName&&(null===(r=e.src)||void 0===r?void 0:r.includes("translate.google"))}hideGoogleElements(){[".goog-te-banner-frame","iframe.goog-te-banner-frame",".goog-te-ftab","#goog-gt-tt"].forEach(e=>{document.querySelectorAll(e).forEach(e=>{e.closest("#google_translate_element")||(e.style.display="none !important",e.style.visibility="hidden !important",e.style.position="absolute !important",e.style.left="-10000px !important",e.style.top="-10000px !important")})})}restoreBodyPosition(){const e=document.body;e.style.top&&"0px"!==e.style.top&&(e.style.top="0px",e.style.position="static")}manualTranslate(e){if("en"===e){const e=window.location.href;if(e.includes("translate.google.com")){const n=e.match(/u=([^&]+)/);if(n)return void(window.location.href=decodeURIComponent(n[1]))}return}const n=encodeURIComponent(window.location.href),t="https://translate.google.com/translate?sl=auto&tl=".concat(e,"&u=").concat(n);window.location.href=t}async changeLanguage(e){if(this.isTranslating||e===this.currentLanguage)return!0;this.isTranslating=!0;try{return this.useManualTranslation||!this.googleWidget?(this.currentLanguage=e,this.notifyCallbacks(e),this.manualTranslate(e),!0):(this.googleWidget.value=e,this.googleWidget.dispatchEvent(new Event("change")),await new Promise(e=>setTimeout(e,1e3)),setTimeout(()=>{this.hideGoogleElements(),this.restoreBodyPosition()},500),!0)}catch(n){return console.error("Language change failed:",n),this.manualTranslate(e),!0}finally{this.isTranslating=!1}}getCurrentLanguage(){return this.currentLanguage}onLanguageChange(e){return this.callbacks.add(e),()=>this.callbacks.delete(e)}notifyCallbacks(e){this.callbacks.forEach(n=>{try{n(e)}catch(t){console.warn("Callback error:",t)}})}getSupportedLanguages(){return(0,m.A)({},this.supportedLanguages)}getLanguageInfo(e){return this.supportedLanguages[e]||{name:"Unknown",flag:"\ud83c\udf10"}}isReady(){return this.isInitialized&&!this.isTranslating}async refresh(){this.isInitialized=!1,this.googleWidget=null,this.useManualTranslation=!1,this.isTranslating=!1;const e=document.getElementById("google_translate_element");return e&&e.remove(),await new Promise(e=>setTimeout(e,1e3)),await this.initialize()}destroy(){this.callbacks.clear(),this.isInitialized=!1,this.googleWidget=null;const e=document.getElementById("google_translate_element");e&&e.remove();const n=document.getElementById("comprehensive-translate-hide");n&&n.remove()}};if("undefined"!==typeof window){(()=>{"loading"===document.readyState?document.addEventListener("DOMContentLoaded",()=>{setTimeout(()=>{Be.initialize().catch(e=>{console.warn("Auto-init failed:",e)})},3e3)}):setTimeout(()=>{Be.initialize().catch(e=>{console.warn("Auto-init failed:",e)})},3e3)})()}const De=Be,Le=()=>{var e;const[n,t]=(0,i.useState)(!1),[a,r]=(0,i.useState)(!0),[o,l]=(0,i.useState)(0),[c,d]=(0,i.useState)(!1),[p,m]=(0,i.useState)(!1),[x,u]=(0,i.useState)(!1),[g,h]=(0,i.useState)("en"),[f,b]=(0,i.useState)(!1),[j,v]=(0,i.useState)(null),[w,A]=(0,i.useState)(!1),[k,S]=(0,i.useState)(!0),[z,N]=(0,i.useState)({}),[_,I]=(0,i.useState)(!1),{isDarkMode:E,toggleTheme:T,colors:W}=y(),{currentLogo:F,loading:P}=C(),R=(0,le.A)("(max-width: 768px)"),B=(0,i.useRef)(null),D=(0,i.useCallback)(()=>{try{const e=window.scrollY;e>o&&e>100?r(!1):e<o&&r(!0),t(e>20),l(e)}catch(e){console.warn("Error in scroll handler:",e)}},[o]);(0,i.useEffect)(()=>{let e=!1;const n=()=>{e||(requestAnimationFrame(()=>{D(),e=!1}),e=!0)};return window.addEventListener("scroll",n,{passive:!0}),()=>window.removeEventListener("scroll",n)},[D]),(0,i.useEffect)(()=>{let e,n=!0;const t=async()=>{try{if(v(null),S(!0),!De)throw new Error("Translation service not available");console.log("Initializing translation service...");const e=await De.initialize();if(!n)return;if(!e)throw new Error("Translation service initialization failed");{const e=De.getSupportedLanguages()||{};N(e),h(De.getCurrentLanguage()||"en"),A(!0),v(null),console.log("Translation service initialized successfully")}}catch(a){console.error("Translation service initialization error:",a),n&&(v(a.message||"Translation service unavailable"),A(!1),e=setTimeout(()=>{n&&(console.log("Retrying translation service initialization..."),t())},1e4))}finally{n&&S(!1)}},a=setTimeout(()=>{n&&t()},2e3);return()=>{n=!1,clearTimeout(a),e&&clearTimeout(e)}},[]),(0,i.useEffect)(()=>{if(w&&De)try{var e;console.log("Setting up language change listener...");return(null===(e=De.onLanguageChange)||void 0===e?void 0:e.call(De,e=>{e&&e!==g&&(console.log("Language changed to:",e),h(e))}))||(()=>{})}catch(n){return console.warn("Error setting up language change listener:",n),()=>{}}},[w,g]),(0,i.useEffect)(()=>{const e=e=>{B.current&&!B.current.contains(e.target)&&u(!1)};if(x)return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[x]),(0,i.useEffect)(()=>{if(!R){d(!1);try{document.body.style.overflow="auto"}catch(e){console.warn("Error restoring body scroll:",e)}}},[R]),(0,i.useEffect)(()=>{const e=()=>{if(c){d(!1);try{document.body.style.overflow="auto"}catch(e){console.warn("Error restoring body scroll:",e)}}};if(c)return window.addEventListener("scroll",e,{passive:!0}),()=>window.removeEventListener("scroll",e)},[c]);const L=[{label:"Home",href:"/"},{label:"About Us",href:"/about-us"},{label:"Programs",href:"/programs"},{label:"Impact",href:"/impact"},{label:"Our Reach",href:"/findbycountry"},{label:"Insights",href:"/insights"},{label:"Get Involved",href:"/get-involved"},{label:"Contact",href:"/contact-us"}],M=(0,i.useCallback)(()=>{m(e=>!e)},[]),H=(0,i.useCallback)(()=>{m(!1)},[]),q=(0,i.useCallback)(()=>{w?u(e=>!e):console.warn("Translation service not ready")},[w]),O=(0,i.useCallback)(()=>{u(!1)},[]),U=(0,i.useCallback)(()=>{const e=!c;d(e);try{document.body.style.overflow=e?"hidden":"auto"}catch(n){console.warn("Error toggling body scroll:",n)}},[c]),Y=(0,i.useCallback)(()=>{d(!1),H(),O();try{document.body.style.overflow="auto"}catch(e){console.warn("Error restoring body scroll:",e)}},[H,O]),G=(0,i.useCallback)(()=>{b(!0),d(!1),H(),O();try{document.body.style.overflow="auto"}catch(e){console.warn("Error handling donate click:",e)}},[H,O]),V=(0,i.useCallback)(async e=>{if(!_&&e!==g&&w){console.log("Changing language to: ".concat(e)),I(!0),v(null);try{await De.changeLanguage(e),h(e),u(!1),console.log("Language successfully changed to: ".concat(e))}catch(n){console.error("Language change error:",n),v(n.message||"Failed to change language")}finally{I(!1)}}},[g,w,_]),J=(0,i.useCallback)(()=>{try{T()}catch(e){console.warn("Error toggling theme:",e)}},[T]),K=(0,i.useCallback)(()=>P?(0,s.jsx)("div",{className:xe.logo,style:{width:"48px",height:"48px",display:"flex",alignItems:"center",justifyContent:"center",opacity:.7},children:(0,s.jsx)("div",{style:{width:"24px",height:"24px",border:"2px solid ".concat((null===W||void 0===W?void 0:W.primary)||"#2563eb"),borderTop:"2px solid transparent",borderRadius:"50%",animation:"spin 1s linear infinite"}})}):null!==F&&void 0!==F&&F.full_url?(0,s.jsxs)("div",{className:xe.logo,children:[(0,s.jsx)("img",{src:F.full_url,alt:F.alt_text||"ACEF Logo",style:{width:"48px",height:"48px",objectFit:"contain",filter:n?"none":"drop-shadow(0 2px 4px rgba(0,0,0,0.3))"},onError:e=>{try{e.target.style.display="none",e.target.nextSibling&&(e.target.nextSibling.style.display="block")}catch(n){console.warn("Error handling logo error:",n)}}}),(0,s.jsx)(ee.A,{size:32,style:{color:(null===W||void 0===W?void 0:W.primary)||"#2563eb",display:"none"}})]}):(0,s.jsx)(ee.A,{size:32,style:{color:(null===W||void 0===W?void 0:W.primary)||"#2563eb"}}),[F,W,n]),X=(0,i.useCallback)(()=>{try{if(w&&null!==De&&void 0!==De&&De.getLanguageInfo)return De.getLanguageInfo(g)}catch(e){console.warn("Error getting language info:",e)}return{name:"en"===g?"English":g.toUpperCase(),flag:"en"===g?"\ud83c\uddfa\ud83c\uddf8":"\ud83c\udf10",code:g}},[w,g]),Z=(0,i.useCallback)(()=>{b(!1);try{document.body.style.overflow="auto"}catch(e){console.warn("Error restoring body scroll:",e)}},[]),$=(0,i.useCallback)(async()=>{S(!0),v(null);try{await De.refresh();const e=De.getSupportedLanguages()||{};N(e),A(!0),h(De.getCurrentLanguage()||"en")}catch(e){v("Failed to initialize translation service"),A(!1)}finally{S(!1)}},[]),ue=n?(null===W||void 0===W?void 0:W.text)||"#000000":"#ffffff",ge=(0,i.useCallback)(function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(j)return(0,s.jsx)(ce.A,{title:"Translation Error: ".concat(j,". Click to retry."),children:(0,s.jsx)(pe.P.button,{onClick:$,className:"flex items-center gap-2 ".concat(e?"p-2 rounded-full":"px-3 py-2 rounded-lg"," transition-all duration-200"),style:{color:ue,backgroundColor:n?"transparent":"rgba(255,255,255,0.1)",border:"1px solid ".concat(n?(null===W||void 0===W?void 0:W.border)||"#e5e7eb":"rgba(255,255,255,0.2)"),backdropFilter:n?"none":"blur(10px)",textShadow:n?"none":"0 1px 2px rgba(0,0,0,0.3)",opacity:.8},whileHover:{backgroundColor:(null===W||void 0===W?void 0:W.surface)||"#ffffff",borderColor:"#ef4444",scale:1.02},whileTap:{scale:.98},children:e?(0,s.jsx)(ne.A,{size:20}):(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("span",{className:"text-lg",children:"\ud83c\udf10"}),(0,s.jsx)("span",{className:"hidden sm:inline text-sm font-medium",children:"Error"}),(0,s.jsx)(ne.A,{size:16,className:"opacity-70"})]})})});const t=X();return(0,s.jsxs)("div",{className:"relative",ref:B,children:[(0,s.jsx)(ce.A,{title:k?"Loading translation service...":"Change Language",children:(0,s.jsx)(pe.P.button,{onClick:q,disabled:!w||k,className:"flex items-center gap-2 ".concat(e?"p-2 rounded-full":"px-3 py-2 rounded-lg"," transition-all duration-200"),style:{color:ue,backgroundColor:n?"transparent":"rgba(255,255,255,0.1)",border:"1px solid ".concat(n?(null===W||void 0===W?void 0:W.border)||"#e5e7eb":"rgba(255,255,255,0.2)"),backdropFilter:n?"none":"blur(10px)",textShadow:n?"none":"0 1px 2px rgba(0,0,0,0.3)",opacity:w&&!k?1:.6,cursor:w&&!k?"pointer":"not-allowed"},whileHover:w&&!k?{backgroundColor:(null===W||void 0===W?void 0:W.surface)||"#ffffff",borderColor:(null===W||void 0===W?void 0:W.primary)||"#2563eb",scale:1.02}:{},whileTap:w&&!k?{scale:.98}:{},children:e?(0,s.jsx)(te.A,{size:20}):(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("span",{className:"text-lg",children:t.flag}),(0,s.jsx)("span",{className:"hidden sm:inline text-sm font-medium",children:"en"===g?"EN":g.toUpperCase()}),k?(0,s.jsx)("div",{className:"w-4 h-4 border-2 border-current border-t-transparent rounded-full animate-spin",style:{borderColor:"currentColor",borderTopColor:"transparent"}}):(0,s.jsx)(Q.A,{size:16,className:"opacity-70",style:{transform:x?"rotate(180deg)":"rotate(0deg)",transition:"transform 0.2s ease"}})]})})}),!e&&(0,s.jsx)(me.N,{children:x&&w&&(0,s.jsxs)(pe.P.div,{className:"absolute right-0 top-full mt-2 w-64 rounded-lg shadow-xl border z-50",style:{backgroundColor:(null===W||void 0===W?void 0:W.surface)||"#ffffff",borderColor:(null===W||void 0===W?void 0:W.border)||"#e5e7eb",boxShadow:"0 8px 32px ".concat((null===W||void 0===W?void 0:W.cardShadow)||"rgba(0,0,0,0.15)")},initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{duration:.2},children:[(0,s.jsxs)("div",{className:"p-3 border-b",style:{borderColor:null===W||void 0===W?void 0:W.border},children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,s.jsx)(te.A,{size:16,style:{color:null===W||void 0===W?void 0:W.primary}}),(0,s.jsx)("span",{className:"text-sm font-semibold",style:{color:null===W||void 0===W?void 0:W.text},children:"Choose Language"})]}),(0,s.jsx)("div",{className:"text-xs",style:{color:null===W||void 0===W?void 0:W.textSecondary},children:_?"Applying translation...":"Select your preferred language"})]}),(0,s.jsx)("div",{className:"max-h-64 overflow-y-auto p-2",children:Object.entries(z).map(e=>{let[n,t]=e;const a=g===n,r=_&&!a;return(0,s.jsxs)(pe.P.button,{onClick:()=>V(n),disabled:_,className:"w-full flex items-center gap-3 p-2 rounded-md transition-all duration-200 text-left",style:{backgroundColor:a?(null===W||void 0===W?void 0:W.primary)+"15":"transparent",color:null===W||void 0===W?void 0:W.text,opacity:r?.5:1,cursor:_?"not-allowed":"pointer"},whileHover:_?{}:{backgroundColor:a?(null===W||void 0===W?void 0:W.primary)+"25":(null===W||void 0===W?void 0:W.backgroundSecondary)||"#f3f4f6"},children:[(0,s.jsx)("span",{className:"text-lg flex-shrink-0",children:t.flag}),(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,s.jsx)("div",{className:"font-medium text-sm truncate",children:t.name}),(0,s.jsx)("div",{className:"text-xs opacity-70 font-mono",children:n.toUpperCase()})]}),(0,s.jsx)("div",{className:"flex-shrink-0",children:a&&(0,s.jsx)("div",{className:"flex items-center",children:_?(0,s.jsx)("div",{className:"w-4 h-4 border-2 border-current border-t-transparent rounded-full animate-spin",style:{borderColor:null===W||void 0===W?void 0:W.primary,borderTopColor:"transparent"}}):(0,s.jsx)("div",{className:"w-4 h-4 rounded-full flex items-center justify-center",style:{backgroundColor:null===W||void 0===W?void 0:W.primary},children:(0,s.jsx)(ae.A,{size:10,style:{color:"white"}})})})})]},n)})}),(0,s.jsx)("div",{className:"p-3 border-t",style:{borderColor:null===W||void 0===W?void 0:W.border},children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("button",{onClick:()=>V("en"),disabled:_||"en"===g,className:"text-xs transition-colors hover:underline disabled:opacity-50 disabled:cursor-not-allowed",style:{color:null===W||void 0===W?void 0:W.primary,opacity:_||"en"===g?.5:1},children:"Reset to English"}),(0,s.jsxs)("div",{className:"flex items-center gap-1",children:[(0,s.jsx)("div",{className:"w-1.5 h-1.5 rounded-full",style:{backgroundColor:"#10B981"}}),(0,s.jsx)("span",{className:"text-xs",style:{color:null===W||void 0===W?void 0:W.textSecondary},children:"Google Translate"})]})]})})]})})]})},[j,$,ue,n,W,X,g,k,w,q,x,z,_,V]);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(pe.P.header,{className:"".concat(xe.header," ").concat(n?xe.scrolled:""),style:{backgroundColor:n?(null===W||void 0===W?void 0:W.headerBgScrolled)||"rgba(255,255,255,0.95)":"transparent",borderBottom:n?"1px solid ".concat((null===W||void 0===W?void 0:W.headerBorder)||"#e5e7eb"):"none",boxShadow:n?"0 4px 20px ".concat((null===W||void 0===W?void 0:W.headerShadow)||"rgba(0,0,0,0.1)"):"none",backdropFilter:n?"blur(20px)":"none",WebkitBackdropFilter:n?"blur(20px)":"none"},animate:{y:a?0:"-100%"},transition:{duration:.3,ease:[.4,0,.2,1]},children:(0,s.jsxs)("div",{className:xe.container,children:[(0,s.jsx)(pe.P.div,{className:xe.navBrand,whileHover:{scale:1.05},transition:{duration:.2},children:K()}),(0,s.jsxs)("nav",{className:"".concat(xe.navMenu," ").concat(R?xe.hidden:""),children:[L.map((e,t)=>{var a;return(0,s.jsx)("div",{className:xe.navItem,children:e.hasDropdown?(0,s.jsxs)("div",{className:xe.dropdown,children:[(0,s.jsxs)("button",{className:xe.dropdownToggle,onClick:M,style:{color:ue,textShadow:n?"none":"0 1px 2px rgba(0,0,0,0.3)"},children:[e.label,(0,s.jsx)(pe.P.div,{animate:{rotate:p?180:0},transition:{duration:.2},children:(0,s.jsx)(Q.A,{size:16})})]}),(0,s.jsx)(me.N,{children:p&&(0,s.jsx)(pe.P.div,{className:xe.dropdownMenu,initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},style:{backgroundColor:(null===W||void 0===W?void 0:W.surface)||"#ffffff",border:"1px solid ".concat((null===W||void 0===W?void 0:W.border)||"#e5e7eb"),boxShadow:"0 8px 32px ".concat((null===W||void 0===W?void 0:W.cardShadow)||"rgba(0,0,0,0.1)")},children:null===(a=e.dropdownItems)||void 0===a?void 0:a.map((e,n)=>(0,s.jsx)(pe.P.a,{href:e.href,className:xe.dropdownItem,onClick:H,style:{color:(null===W||void 0===W?void 0:W.text)||"#000000"},whileHover:{backgroundColor:(null===W||void 0===W?void 0:W.backgroundSecondary)||"#f3f4f6"},children:e.label},n))})})]}):(0,s.jsx)("a",{href:e.href,className:xe.navLink,style:{color:ue,textShadow:n?"none":"0 1px 2px rgba(0,0,0,0.3)",transition:"all 0.3s ease"},children:e.label})},t)}),ge(!1),(0,s.jsx)(ce.A,{title:"Switch to ".concat(E?"light":"dark"," mode"),children:(0,s.jsx)(de.A,{onClick:J,className:xe.themeToggle,size:"small",style:{color:ue,marginLeft:"0.5rem",backgroundColor:n?"transparent":"rgba(255,255,255,0.1)",backdropFilter:n?"none":"blur(10px)"},children:(0,s.jsx)(pe.P.div,{initial:{rotate:-180,opacity:0},animate:{rotate:0,opacity:1},transition:{duration:.3},children:E?(0,s.jsx)(re.A,{size:20}):(0,s.jsx)(oe.A,{size:20})},E?"moon":"sun")})}),(0,s.jsx)(pe.P.button,{className:xe.donateBtn,onClick:G,whileHover:{scale:1.05,boxShadow:"0 8px 25px rgba(".concat((null===(e=((null===W||void 0===W?void 0:W.secondary)||"#f59e0b").slice(1).match(/.{2}/g))||void 0===e?void 0:e.map(e=>parseInt(e,16)).join(", "))||"245, 158, 11",", 0.4)")},whileTap:{scale:.98},style:{backgroundColor:(null===W||void 0===W?void 0:W.secondary)||"#f59e0b",color:(null===W||void 0===W?void 0:W.black)||"#000000",border:"none",cursor:"pointer",boxShadow:n?"0 2px 10px ".concat((null===W||void 0===W?void 0:W.secondary)||"#f59e0b","30"):"0 4px 15px rgba(0,0,0,0.2)"},children:"Donate Now"})]}),R&&(0,s.jsxs)("div",{className:xe.mobileControls,children:[ge(!0),(0,s.jsx)(de.A,{onClick:J,size:"small",style:{color:ue,backgroundColor:n?"transparent":"rgba(255,255,255,0.1)",backdropFilter:n?"none":"blur(10px)"},children:E?(0,s.jsx)(re.A,{size:20}):(0,s.jsx)(oe.A,{size:20})}),(0,s.jsx)(de.A,{onClick:U,className:xe.mobileMenuToggle,style:{color:ue,backgroundColor:n?"transparent":"rgba(255,255,255,0.1)",backdropFilter:n?"none":"blur(10px)"},children:(0,s.jsx)(pe.P.div,{initial:{rotate:-90,opacity:0},animate:{rotate:0,opacity:1},transition:{duration:.2},children:c?(0,s.jsx)(ie.A,{size:24}):(0,s.jsx)(se.A,{size:24})},c?"close":"menu")})]})]})}),(0,s.jsx)(me.N,{children:c&&(0,s.jsx)(pe.P.div,{className:xe.mobileMenuOverlay,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},style:{backgroundColor:(null===W||void 0===W?void 0:W.overlayBg)||"rgba(0,0,0,0.5)",zIndex:9999},onClick:U,children:(0,s.jsxs)(pe.P.div,{className:xe.mobileMenu,initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},transition:{type:"tween",duration:.3},style:{backgroundColor:(null===W||void 0===W?void 0:W.surface)||"#ffffff",borderLeft:"1px solid ".concat((null===W||void 0===W?void 0:W.border)||"#e5e7eb"),boxShadow:"-10px 0 30px ".concat((null===W||void 0===W?void 0:W.cardShadow)||"rgba(0,0,0,0.1)")},onClick:e=>e.stopPropagation(),children:[(0,s.jsxs)("div",{className:xe.mobileMenuHeader,children:[(0,s.jsx)("div",{className:xe.mobileMenuBrand,children:K()}),(0,s.jsx)(de.A,{onClick:U,style:{color:(null===W||void 0===W?void 0:W.text)||"#000000"},children:(0,s.jsx)(ie.A,{size:24})})]}),(0,s.jsxs)("div",{className:xe.mobileMenuContent,children:[L.map((e,n)=>{var t;return(0,s.jsx)("div",{className:xe.mobileNavItem,children:e.hasDropdown?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("button",{className:xe.mobileDropdownToggle,onClick:()=>m(!p),style:{color:(null===W||void 0===W?void 0:W.text)||"#000000"},children:[e.label,(0,s.jsx)(pe.P.div,{animate:{rotate:p?180:0},transition:{duration:.2},children:(0,s.jsx)(Q.A,{size:16})})]}),(0,s.jsx)(me.N,{children:p&&(0,s.jsx)(pe.P.div,{className:xe.mobileDropdownMenu,initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.2},children:null===(t=e.dropdownItems)||void 0===t?void 0:t.map((e,n)=>(0,s.jsx)("a",{href:e.href,className:xe.mobileDropdownItem,onClick:Y,style:{color:(null===W||void 0===W?void 0:W.textSecondary)||"#6b7280"},children:e.label},n))})})]}):(0,s.jsx)("a",{href:e.href,className:xe.mobileNavLink,onClick:Y,style:{color:(null===W||void 0===W?void 0:W.text)||"#000000",textDecoration:"none",padding:"12px 0",display:"block",borderBottom:"1px solid ".concat((null===W||void 0===W?void 0:W.border)||"#e5e7eb","20"),transition:"color 0.2s ease"},children:e.label})},n)}),(0,s.jsx)("div",{className:xe.mobileLanguageSelector,style:{padding:"20px 0",borderTop:"1px solid ".concat((null===W||void 0===W?void 0:W.border)||"#e5e7eb"),marginTop:"16px"},children:j?(0,s.jsx)(pe.P.button,{onClick:$,className:"flex items-center justify-between w-full p-3 rounded-lg transition-colors",style:{backgroundColor:"#fef2f2",border:"1px solid #fecaca",color:"#dc2626"},whileHover:{backgroundColor:"#fef9c3"},whileTap:{scale:.98},children:(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)(ne.A,{size:20}),(0,s.jsxs)("div",{className:"text-left",children:[(0,s.jsx)("div",{className:"font-medium",children:"Translation Error"}),(0,s.jsx)("div",{className:"text-sm opacity-70",children:"Tap to retry"})]})]})}):(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,s.jsx)(te.A,{size:16,style:{color:null===W||void 0===W?void 0:W.primary}}),(0,s.jsx)("span",{className:"text-sm font-semibold",style:{color:null===W||void 0===W?void 0:W.text},children:"Language"})]}),(0,s.jsx)("div",{className:"grid grid-cols-2 gap-2 max-h-40 overflow-y-auto",children:Object.entries(z).map(e=>{let[n,t]=e;const a=g===n,r=_&&!a;return(0,s.jsxs)(pe.P.button,{onClick:()=>V(n),disabled:_,className:"flex items-center gap-2 p-2 rounded-lg transition-colors text-left",style:{backgroundColor:a?(null===W||void 0===W?void 0:W.primary)+"15":(null===W||void 0===W?void 0:W.backgroundSecondary)||"#f3f4f6",border:"1px solid ".concat(a?null===W||void 0===W?void 0:W.primary:(null===W||void 0===W?void 0:W.border)||"#e5e7eb"),color:(null===W||void 0===W?void 0:W.text)||"#000000",opacity:r?.5:1,cursor:_?"not-allowed":"pointer"},whileHover:_?{}:{backgroundColor:a?(null===W||void 0===W?void 0:W.primary)+"25":(null===W||void 0===W?void 0:W.surface)||"#ffffff"},whileTap:_?{}:{scale:.98},children:[(0,s.jsx)("span",{className:"text-base",children:t.flag}),(0,s.jsx)("div",{className:"flex-1 min-w-0",children:(0,s.jsx)("div",{className:"text-xs font-medium truncate",children:t.name})}),a&&(0,s.jsx)("div",{className:"flex-shrink-0",children:_?(0,s.jsx)("div",{className:"w-3 h-3 border border-current border-t-transparent rounded-full animate-spin opacity-70"}):(0,s.jsx)("div",{className:"w-3 h-3 rounded-full flex items-center justify-center",style:{backgroundColor:null===W||void 0===W?void 0:W.primary},children:(0,s.jsx)(ae.A,{size:8,style:{color:"white"}})})})]},n)})})]})}),(0,s.jsx)(pe.P.button,{className:xe.mobileDonateBtn,onClick:G,whileHover:{scale:1.02},whileTap:{scale:.98},style:{backgroundColor:(null===W||void 0===W?void 0:W.secondary)||"#f59e0b",color:(null===W||void 0===W?void 0:W.black)||"#000000",border:"none",cursor:"pointer",width:"100%",padding:"14px 24px",borderRadius:"8px",fontWeight:"600",fontSize:"16px",marginTop:"20px",boxShadow:"0 4px 15px ".concat((null===W||void 0===W?void 0:W.secondary)||"#f59e0b","40")},children:"Donate Now"})]})]})})}),(0,s.jsx)(Re,{open:f,onClose:Z}),(0,s.jsx)("style",{jsx:!0,children:"\n        @keyframes spin {\n          0% { transform: rotate(0deg); }\n          100% { transform: rotate(360deg); }\n        }\n      "})]})};var Me=t(4632),He=t(4405),qe=t(8814),Oe=t(2330),Ue=t(5711),Ye=t(5746);const Ge="http://localhost:5000/api",Ve="http://localhost:5000";console.log("\ud83c\udf10 API Configuration:"),console.log("API_URL:",Ge),console.log("STATIC_URL:",Ve);const Je=/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Ke=["10minutemail.com","tempmail.org","guerrillamail.com","mailinator.com","yopmail.com","temp-mail.org","getairmail.com","maildrop.cc"];function Xe(e){const n=e.trim().toLowerCase();if(!Je.test(n))return{isValid:!1,message:"Please enter a valid email address"};const t=n.split("@")[1];return Ke.includes(t)?{isValid:!1,message:"Temporary email addresses are not allowed. Please use a permanent email address."}:n.length>254?{isValid:!1,message:"Email address is too long"}:{isValid:!0}}async function Ze(e){const n=e.trim().toLowerCase(),t=Xe(n);if(!t.isValid)return{success:!1,message:t.message};try{const e=await fetch("".concat(Ge,"/newsletter/subscribe"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:n}),credentials:"include"}),t=await e.json();var a;return e.ok?{success:!0,message:t.message||"Successfully subscribed to our newsletter!",data:t.data}:409===e.status?{success:!1,message:"You are already subscribed to our newsletter."}:400===e.status&&null!==(a=t.message)&&void 0!==a&&a.includes("invalid")?{success:!1,message:"Please enter a valid email address."}:{success:!1,message:t.message||"Subscription failed. Please try again."}}catch(r){return console.error("Newsletter subscription error:",r),"TypeError"===r.name&&r.message.includes("fetch")?{success:!1,message:"Connection error. Please check your internet connection and try again."}:{success:!1,message:"Something went wrong. Please try again later."}}}const $e={footer:{position:"relative",background:"black",color:"white",overflow:"hidden",fontFamily:"inherit",padding:"1.5rem 0 1rem"},backgroundEffects:{position:"absolute",inset:"0",background:"\n      radial-gradient(circle at 25% 25%, #facf3c08 0%, transparent 50%),\n      radial-gradient(circle at 75% 75%, #9ccf9f08 0%, transparent 50%)\n    ",opacity:"0.7"},container:{position:"relative",zIndex:"10",maxWidth:"1200px",margin:"0 auto",padding:"0 1.5rem"},mainSection:{display:"grid",gridTemplateColumns:"1fr auto auto",gap:"3rem",alignItems:"center",marginBottom:"1rem"},brandSection:{display:"flex",alignItems:"center",gap:"1rem"},logoContainer:{display:"flex",alignItems:"center",gap:"0.5rem"},logoIcon:{width:"32px",height:"32px",background:"linear-gradient(135deg, #facf3c, #9ccf9f)",borderRadius:"8px",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 4px 15px rgba(250, 207, 60, 0.3)",transition:"transform 0.3s ease"},logoIconHover:{transform:"scale(1.1) rotate(5deg)"},logoText:{fontSize:"1.25rem",fontWeight:"bold",background:"linear-gradient(90deg, #facf3c, #9ccf9f)",backgroundClip:"text",WebkitBackgroundClip:"text",color:"transparent"},brandDescription:{color:"#cbd5e1",fontSize:"0.8rem",lineHeight:"1.4",maxWidth:"200px"},linksSection:{display:"flex",gap:"2rem"},linkItem:{color:"#e2e8f0",textDecoration:"none",fontSize:"0.85rem",transition:"all 0.3s ease",position:"relative"},linkItemHover:{color:"#facf3c"},linkUnderline:{position:"absolute",bottom:"-2px",left:"0",width:"0",height:"1px",backgroundColor:"#facf3c",transition:"width 0.3s ease"},linkUnderlineHover:{width:"100%"},newsletterSection:{display:"flex",alignItems:"center",gap:"0.75rem"},newsletterText:{color:"#94a3b8",fontSize:"0.8rem",whiteSpace:"nowrap"},newsletterForm:{display:"flex",gap:"0.5rem"},emailInput:{padding:"0.4rem 0.75rem",background:"rgba(0, 0, 0, 0.3)",border:"1px solid rgba(255, 255, 255, 0.1)",borderRadius:"6px",color:"white",fontSize:"0.8rem",outline:"none",transition:"border-color 0.3s ease",width:"180px"},emailInputFocus:{borderColor:"#facf3c"},submitButton:{padding:"0.4rem 0.8rem",background:"linear-gradient(90deg, #facf3c, #9ccf9f)",color:"black",border:"none",borderRadius:"6px",fontWeight:"bold",fontSize:"0.8rem",cursor:"pointer",transition:"all 0.3s ease",display:"flex",alignItems:"center",gap:"0.4rem"},submitButtonHover:{transform:"scale(1.05)",boxShadow:"0 4px 15px rgba(250, 207, 60, 0.4)"},bottomSection:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"0.75rem 0 0",borderTop:"1px solid rgba(255, 255, 255, 0.1)",fontSize:"0.75rem"},leftBottom:{display:"flex",alignItems:"center",gap:"2rem"},copyright:{color:"#64748b"},legalLinks:{display:"flex",gap:"1.5rem"},legalLink:{color:"#94a3b8",textDecoration:"none",fontSize:"0.75rem",transition:"all 0.3s ease",position:"relative"},legalLinkHover:{color:"#facf3c"},bottomRight:{display:"flex",alignItems:"center",gap:"1.5rem"},socialLinks:{display:"flex",gap:"0.5rem"},socialLink:{width:"32px",height:"32px",background:"rgba(255, 255, 255, 0.05)",border:"1px solid rgba(255, 255, 255, 0.1)",borderRadius:"8px",display:"flex",alignItems:"center",justifyContent:"center",color:"#94a3b8",textDecoration:"none",transition:"all 0.3s ease"},socialLinkHover:{background:"rgba(250, 207, 60, 0.2)",borderColor:"rgba(250, 207, 60, 0.3)",color:"#facf3c",transform:"translateY(-1px)"},badges:{display:"flex",gap:"0.5rem"},badge:{padding:"0.3rem 0.6rem",borderRadius:"12px",fontSize:"0.7rem",fontWeight:"500"},carbonBadge:{background:"rgba(156, 207, 159, 0.2)",color:"#9ccf9f",border:"1px solid rgba(156, 207, 159, 0.3)"},impactBadge:{background:"rgba(250, 207, 60, 0.2)",color:"#facf3c",border:"1px solid rgba(250, 207, 60, 0.3)"},backToTop:{position:"fixed",bottom:"2rem",right:"2rem",width:"45px",height:"45px",background:"linear-gradient(135deg, #facf3c, #9ccf9f)",color:"black",border:"none",borderRadius:"50%",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 6px 25px rgba(250, 207, 60, 0.4)",transition:"all 0.3s ease",zIndex:1e3,opacity:0,transform:"translateY(20px)",pointerEvents:"none"},backToTopVisible:{opacity:1,transform:"translateY(0)",pointerEvents:"auto"},backToTopHover:{transform:"translateY(-3px) scale(1.1)",boxShadow:"0 8px 30px rgba(250, 207, 60, 0.6)"},"@media (max-width: 768px)":{mainSection:{gridTemplateColumns:"1fr",gap:"1.5rem",textAlign:"center"},linksSection:{justifyContent:"center",flexWrap:"wrap",gap:"1rem"},newsletterSection:{flexDirection:"column",gap:"1rem"},bottomSection:{flexDirection:"column",gap:"1rem",textAlign:"center"},leftBottom:{flexDirection:"column",gap:"0.75rem"},legalLinks:{gap:"1rem"},bottomRight:{flexDirection:"column",gap:"1rem"}}},Qe=()=>{const[e,n]=(0,i.useState)(""),[t,r]=(0,i.useState)({}),[o,l]=(0,i.useState)(!1),{isDarkMode:c,toggleTheme:d,colors:p}=y(),{currentLogo:x,loading:u}=C(),[g,h]=(0,i.useState)(!1),[f,b]=(0,i.useState)(null);(0,i.useEffect)(()=>{const e=()=>{const e=window.pageYOffset||document.documentElement.scrollTop;l(e>400)};return window.addEventListener("scroll",e),()=>window.removeEventListener("scroll",e)},[]);const j=e=>{r(n=>(0,m.A)((0,m.A)({},n),{},{[e]:!0}))},v=e=>{r(n=>(0,m.A)((0,m.A)({},n),{},{[e]:!1}))},w=[{icon:Me.A,url:"https://facebook.com/ACEFoundation",label:"Facebook"},{icon:He.A,url:"https://twitter.com/ACEFoundation",label:"Twitter"},{icon:qe.A,url:"https://linkedin.com/company/ace-foundation",label:"LinkedIn"},{icon:Oe.A,url:"https://instagram.com/ACEFoundation",label:"Instagram"}];return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("button",{style:(0,m.A)((0,m.A)((0,m.A)({},$e.backToTop),o?$e.backToTopVisible:{}),t.backToTop?$e.backToTopHover:{}),onClick:()=>{window.scrollTo({top:0,behavior:"smooth"})},onMouseEnter:()=>j("backToTop"),onMouseLeave:()=>v("backToTop"),"aria-label":"Back to top",children:(0,s.jsx)(Ue.A,{style:{width:"20px",height:"20px"}})}),(0,s.jsxs)("footer",{style:$e.footer,children:[(0,s.jsx)("div",{style:$e.backgroundEffects}),(0,s.jsxs)("div",{style:$e.container,children:[(0,s.jsxs)("div",{style:$e.mainSection,children:[(0,s.jsxs)("div",{style:$e.brandSection,children:[(0,s.jsx)("div",{style:$e.logoContainer,children:(0,s.jsxs)("div",{className:$e.mobileMenuHeader,children:[(0,s.jsx)("div",{className:$e.mobileMenuBrand,children:null!==x&&void 0!==x&&x.full_url?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("img",{src:x.full_url,alt:x.alt_text||"ACEF Logo",style:{width:"32px",height:"32px",objectFit:"contain"},onError:e=>{e.target.style.display="none",e.target.nextSibling.style.display="block"}}),(0,s.jsx)(ee.A,{size:32,style:{color:p.primary,display:"none"}})]}):(0,s.jsx)(ee.A,{size:32,style:{color:p.primary}})}),(0,s.jsx)("logoIcon",{onClick:()=>{h(!g)},style:{color:p.text},children:(0,s.jsx)(ie.A,{size:2})})]})}),(0,s.jsx)("p",{style:$e.brandDescription,children:"Empowering grassroots communities for sustainable environmental change across Africa."})]}),(0,s.jsx)("div",{style:$e.linksSection,children:[{name:"About",path:"/about-us"},{name:"Contact",path:"/contact-us"},{name:"Careers",path:"/jobs"},{name:"Events",path:"/events"},{name:"Countries",path:"/countries"},{name:"Projects",path:"/projectscatalogue"}].map((e,n)=>(0,s.jsxs)(a.N_,{to:e.path,style:(0,m.A)((0,m.A)({},$e.linkItem),t["link-".concat(n)]?$e.linkItemHover:{}),onMouseEnter:()=>j("link-".concat(n)),onMouseLeave:()=>v("link-".concat(n)),children:[e.name,(0,s.jsx)("div",{style:(0,m.A)((0,m.A)({},$e.linkUnderline),t["link-".concat(n)]?$e.linkUnderlineHover:{})})]},n))}),(0,s.jsxs)("div",{style:$e.newsletterSection,children:[(0,s.jsx)("span",{style:$e.newsletterText,children:"Stay Updated:"}),(0,s.jsx)("div",{style:$e.newsletterForm,children:(0,s.jsxs)("form",{onSubmit:async t=>{t.preventDefault();const a=await Ze(e);b(a.message),n("")},style:{display:"flex",gap:"0.5rem"},children:[(0,s.jsx)("input",{type:"email",value:e,onChange:e=>n(e.target.value),placeholder:"your@email.com",style:$e.emailInput}),(0,s.jsx)("button",{style:(0,m.A)((0,m.A)({},$e.submitButton),t.submit?$e.submitButtonHover:{}),onMouseEnter:()=>j("submit"),onMouseLeave:()=>v("submit"),children:(0,s.jsx)(Ye.A,{style:{width:"14px",height:"14px"}})})]})})]})]}),(0,s.jsxs)("div",{style:$e.bottomSection,children:[(0,s.jsxs)("div",{style:$e.leftBottom,children:[(0,s.jsxs)("div",{style:$e.copyright,children:["\xa9 ",(new Date).getFullYear()," Africa Climate and Environment Foundation. All rights reserved."]}),(0,s.jsxs)("div",{style:$e.legalLinks,children:[(0,s.jsx)(a.N_,{to:"/privacy-policy",style:(0,m.A)((0,m.A)({},$e.legalLink),t.privacy?$e.legalLinkHover:{}),onMouseEnter:()=>j("privacy"),onMouseLeave:()=>v("privacy"),children:"Privacy Policy"}),(0,s.jsx)(a.N_,{to:"/terms-of-service",style:(0,m.A)((0,m.A)({},$e.legalLink),t.terms?$e.legalLinkHover:{}),onMouseEnter:()=>j("terms"),onMouseLeave:()=>v("terms"),children:"Terms of Service"})]})]}),(0,s.jsxs)("div",{style:$e.bottomRight,children:[(0,s.jsx)("div",{style:$e.socialLinks,children:w.map((e,n)=>{const a=e.icon;return(0,s.jsx)("a",{href:e.url,target:"_blank",rel:"noopener noreferrer","aria-label":e.label,style:(0,m.A)((0,m.A)({},$e.socialLink),t["social-".concat(n)]?$e.socialLinkHover:{}),onMouseEnter:()=>j("social-".concat(n)),onMouseLeave:()=>v("social-".concat(n)),children:(0,s.jsx)(a,{size:16})},n)})}),(0,s.jsxs)("div",{style:$e.badges,children:[(0,s.jsx)("div",{style:(0,m.A)((0,m.A)({},$e.badge),$e.carbonBadge),children:"\ud83c\udf31 Carbon Neutral"}),(0,s.jsx)("div",{style:(0,m.A)((0,m.A)({},$e.badge),$e.impactBadge),children:"\u26a1 Impact Driven"})]})]})]})]})]})]})},en=()=>{const[e,n]=(0,i.useState)(""),[t,a]=(0,i.useState)(!1),[r,o]=(0,i.useState)(null),[l,c]=(0,i.useState)(""),{colors:d,isDarkMode:p}=y();return(0,s.jsxs)("section",{className:"maillist-section ".concat(p?"dark":"light"),style:{padding:"60px 20px",position:"relative",overflow:"hidden",background:"linear-gradient(135deg, ".concat(d.secondary," 0%, ").concat(d.secondaryLight," 100%)"),color:d.black,minHeight:"300px",display:"flex",alignItems:"center"},children:[(0,s.jsx)("div",{className:"maillist-container",style:{maxWidth:"1200px",margin:"0 auto",width:"100%",position:"relative",zIndex:2},children:(0,s.jsxs)("div",{className:"maillist-content",style:{display:"grid",gridTemplateColumns:window.innerWidth<=968?"1fr":"1fr 1fr",gap:window.innerWidth<=968?"40px":"60px",alignItems:"center",textAlign:window.innerWidth<=968?"center":"left"},children:[(0,s.jsxs)("div",{className:"maillist-text",style:{maxWidth:"500px"},children:[(0,s.jsx)(pe.P.h2,{className:"maillist-title",style:{fontSize:window.innerWidth<=480?"1.6rem":window.innerWidth<=768?"1.8rem":window.innerWidth<=968?"2rem":"2.5rem",fontWeight:700,marginBottom:"20px",lineHeight:1.2,color:d.black},initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.6},viewport:{once:!1},children:"Stay Updated on Climate Action"}),(0,s.jsx)(pe.P.p,{className:"maillist-description",style:{fontSize:window.innerWidth<=768?"1rem":"1.1rem",lineHeight:1.6,color:"rgba(0, 0, 0, 0.8)",marginBottom:0},initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:.2},viewport:{once:!1},children:"Join our community of environmental champions. Get the latest insights, impact stories, and opportunities to make a difference delivered to your inbox."})]}),(0,s.jsxs)(pe.P.div,{className:"maillist-form-container",style:{background:"rgba(0, 0, 0, 0.1)",backdropFilter:"blur(10px)",border:"1px solid rgba(0, 0, 0, 0.2)",borderRadius:"16px",padding:window.innerWidth<=480?"25px 15px":window.innerWidth<=768?"30px 20px":"40px",maxWidth:"450px",marginLeft:window.innerWidth<=968?"0":"auto",marginRight:"0",width:"100%"},initial:{opacity:0,scale:.9},whileInView:{opacity:1,scale:1},transition:{duration:.6,delay:.4},viewport:{once:!1},children:[(0,s.jsx)("form",{className:"maillist-form",onSubmit:async t=>{t.preventDefault();const r=e.trim();if(c(""),o(null),!r)return o("error"),c("Please enter an email address."),void setTimeout(()=>o(null),3e3);const i=Xe(r);if(!i.isValid)return o("error"),c(i.message),void setTimeout(()=>o(null),3e3);a(!0);try{const e=await Ze(r);e.success?(o("success"),c(e.message||"Thank you for subscribing! Welcome to our community."),n("")):(o("error"),c(e.message||"Something went wrong. Please try again."))}catch(s){console.error("Subscription error:",s),o("error"),c("Network error. Please check your connection and try again.")}finally{a(!1)}setTimeout(()=>{o(null),c("")},5e3)},style:{marginBottom:"16px"},children:(0,s.jsxs)("div",{className:"input-wrapper",style:{display:"flex",flexDirection:"column",gap:window.innerWidth<=768?"12px":"16px"},children:[(0,s.jsx)("input",{type:"email",value:e,onChange:e=>n(e.target.value),placeholder:"Enter your email address",style:{padding:window.innerWidth<=768?"14px 18px":"16px 20px",border:"2px solid rgba(0, 0, 0, 0.3)",borderRadius:"12px",background:"rgba(255, 255, 255, 0.9)",color:d.gray900,fontSize:window.innerWidth<=768?"0.95rem":"1rem",fontWeight:500,outline:"none",transition:"all 0.3s ease",width:"100%",boxSizing:"border-box"},onFocus:e=>{e.target.style.borderColor=d.primaryDark,e.target.style.background=d.white},onBlur:e=>{e.target.style.borderColor="rgba(0, 0, 0, 0.3)",e.target.style.background="rgba(255, 255, 255, 0.9)"},disabled:t,required:!0}),(0,s.jsx)(pe.P.button,{type:"submit",style:{padding:window.innerWidth<=768?"14px 18px":"16px 32px",background:p?"linear-gradient(135deg, ".concat(d.primaryDark," 0%, ").concat(d.black," 100%)"):"linear-gradient(135deg, ".concat(d.primary," 0%, ").concat(d.primaryDark," 100%)"),color:d.white,border:"none",borderRadius:"12px",fontSize:window.innerWidth<=768?"0.95rem":"1rem",fontWeight:600,cursor:t?"not-allowed":"pointer",transition:"all 0.3s ease",position:"relative",overflow:"hidden",opacity:t?.7:1,display:"flex",alignItems:"center",justifyContent:"center"},disabled:t,whileHover:{scale:t?1:1.05},whileTap:{scale:t?1:.98},children:t?(0,s.jsx)("div",{style:{width:"20px",height:"20px",border:"2px solid rgba(255, 255, 255, 0.3)",borderTop:"2px solid ".concat(d.white),borderRadius:"50%",animation:"spin 1s linear infinite"}}):"Subscribe"})]})}),r&&(0,s.jsx)(pe.P.div,{style:{marginTop:"12px",padding:"12px",borderRadius:"8px",fontSize:"0.9rem",fontWeight:500,textAlign:"center",background:"success"===r?"rgba(16, 185, 129, 0.2)":"rgba(239, 68, 68, 0.2)",color:"success"===r?"#10b981":"#ef4444",border:"success"===r?"1px solid rgba(16, 185, 129, 0.3)":"1px solid rgba(239, 68, 68, 0.3)"},initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},children:l}),(0,s.jsx)("p",{style:{color:"rgba(0, 0, 0, 0.6)",fontSize:"0.85rem",textAlign:"center",margin:"12px 0 0 0"},children:"We respect your privacy. Unsubscribe at any time."})]})]})}),(0,s.jsx)("style",{jsx:!0,children:"\n        @keyframes spin {\n          0% { transform: rotate(0deg); }\n          100% { transform: rotate(360deg); }\n        }\n      "})]})},nn="http://localhost:5000/api",tn=nn,an="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='400' height='300' viewBox='0 0 400 300'%3E%3Crect width='400' height='300' fill='%23e3f2fd'/%3E%3Ccircle cx='320' cy='60' r='35' fill='%23ffeb3b'/%3E%3Cpath d='M0 200 Q100 140 200 200 T400 200 V300 H0 Z' fill='%23a5d6a7'/%3E%3Cpath d='M0 230 Q120 170 250 230 T400 230 V300 H0 Z' fill='%238bc34a'/%3E%3Crect x='90' y='150' width='18' height='70' fill='%236d4c41'/%3E%3Ccircle cx='99' cy='140' r='40' fill='%234caf50'/%3E%3Crect x='280' y='160' width='16' height='60' fill='%236d4c41'/%3E%3Ccircle cx='288' cy='145' r='35' fill='%23389e3c'/%3E%3C/svg%3E",rn=e=>{if(!e)return an;let n=e;n=n.replace(/^\/+/,""),n=n.replace(/^uploads\//,""),n=n.replace(/^blogs\//,"");return"".concat("http://localhost:5000","/uploads/blogs/").concat(n)},on=()=>{const{colors:e,isDarkMode:n}=y(),[t,a]=(0,i.useState)([]),[r,o]=(0,i.useState)([]),[l,c]=(0,i.useState)(""),[d,p]=(0,i.useState)("all"),[x,u]=(0,i.useState)(null),[g,h]=(0,i.useState)(!1),[f,b]=(0,i.useState)(null),[j,v]=(0,i.useState)(!0),[w,A]=(0,i.useState)(null),[k,S]=(0,i.useState)(new Set),[C,z]=(0,i.useState)("all"),[N,_]=(0,i.useState)("grid"),[I,E]=(0,i.useState)("recent"),[T,W]=(0,i.useState)(6),[F,P]=(0,i.useState)(3),[R,B]=(0,i.useState)(null),[D,ee]=(0,i.useState)(!0),[ne,te]=(0,i.useState)(!1),[ae,re]=(0,i.useState)([]),[oe,ie]=(0,i.useState)(!0),[se,le]=(0,i.useState)([]),ce=(0,i.useRef)(null),de=(0,i.useRef)(null),pe=(0,i.useRef)(!1),me=(0,i.useRef)(!1),xe=(0,i.useCallback)(e=>{if(!e)return null;const n=e.match(/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/);return n&&11===n[2].length?n[2]:null},[]),ue=(0,i.useCallback)(e=>{if(!e)return null;const n=e.youtube_url||e.video_url||e.url;if(!n)return null;if(n.includes("embed"))return n;const t=xe(n);return t?"https://www.youtube.com/embed/".concat(t,"?autoplay=0&rel=0&modestbranding=1"):n},[xe]),ge=(0,i.useCallback)(()=>{try{me.current=!0,de.current&&(clearTimeout(de.current),de.current=null),window.speechSynthesis&&(window.speechSynthesis.cancel(),setTimeout(()=>{(window.speechSynthesis.speaking||window.speechSynthesis.pending)&&window.speechSynthesis.cancel(),setTimeout(()=>{me.current=!1},500)},100)),h(!1),b(null),ce.current=null,pe.current=!1}catch(w){console.error("Error during audio cleanup:",w),h(!1),b(null),ce.current=null,me.current=!1}},[]);(0,i.useEffect)(()=>{(async()=>{try{ee(!0);const e=await fetch("".concat(nn,"/video-sections/latest")),n=await e.json();if(n.success&&n.data){const e=ue(n.data);e?B((0,m.A)((0,m.A)({},n.data),{},{embedUrl:e})):console.warn("No valid video URL found in data:",n.data)}else console.warn("Video data fetch failed:",n.message||"No video data")}catch(e){console.error("Error fetching video data:",e)}finally{ee(!1)}})()},[ue]),(0,i.useEffect)(()=>{(async()=>{try{ie(!0);const e=await fetch("".concat(nn,"/video-sections")),n=await e.json();if(n.success&&Array.isArray(n.data)){const e=n.data.map(e=>(0,m.A)((0,m.A)({},e),{},{embedUrl:ue(e),searchText:"".concat(e.title||""," ").concat(e.description||""," ").concat(e.tag||"").toLowerCase()})).filter(e=>e.embedUrl);re(e)}else console.warn("Videos fetch failed:",n.message||"No videos data")}catch(e){console.error("Error fetching all videos:",e)}finally{ie(!1)}})()},[ue]),(0,i.useEffect)(()=>{const e=()=>{ge()},n=()=>{var e;document.hidden&&(g||null!==(e=window.speechSynthesis)&&void 0!==e&&e.speaking)&&ge()},t=()=>{ge()};return window.addEventListener("beforeunload",e),document.addEventListener("visibilitychange",n),window.addEventListener("pagehide",t),()=>{window.removeEventListener("beforeunload",e),document.removeEventListener("visibilitychange",n),window.removeEventListener("pagehide",t),ge()}},[g,ge]);const he=(0,i.useCallback)(async e=>{if(!k.has(e))try{(await fetch("".concat(tn,"/blogs/").concat(e,"/view"),{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include"})).ok&&(S(n=>new Set([...n,e])),a(n=>n.map(n=>n.id===e?(0,m.A)((0,m.A)({},n),{},{views:(n.views||0)+1}):n)))}catch(w){console.error("Failed to track view:",w)}},[k]),fe=(0,i.useCallback)(async function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];try{var n,t,r;e||(v(!0),A(null));const l=["/blogs","/blogs/published","/articles"];let c=null;for(const e of l)try{const n="".concat(tn).concat(e);if(c=await fetch(n,{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"},credentials:"include"}),c.ok)break}catch(i){console.error("Endpoint ".concat(e," failed:"),i)}var o;if(!c||!c.ok)throw new Error("Failed to fetch articles. Status: ".concat((null===(o=c)||void 0===o?void 0:o.status)||"N/A"));const d=await c.text();let p;try{p=JSON.parse(d)}catch(s){throw new Error("Failed to parse response: ".concat(s.message))}let x=[];Array.isArray(p)?x=p:null!==(n=p)&&void 0!==n&&n.data&&Array.isArray(p.data)?x=p.data:null!==(t=p)&&void 0!==t&&t.articles&&Array.isArray(p.articles)?x=p.articles:null!==(r=p)&&void 0!==r&&r.blogs&&Array.isArray(p.blogs)&&(x=p.blogs);const u=x.filter(e=>"published"===e.status||!0===e.is_published||!0===e.published||!e.status&&!e.is_published&&!e.published).map(e=>(0,m.A)((0,m.A)({},e),{},{id:e.id||e._id||Math.random().toString(36),title:e.title||"Untitled Article",excerpt:e.excerpt||e.summary||"",content:e.content||e.body||"",featured_image:e.featured_image||e.image||e.thumbnail||"",created_at:e.created_at||e.createdAt||(new Date).toISOString(),published_at:e.published_at||e.publishedAt||e.created_at||e.createdAt,is_featured:e.is_featured||e.featured||!1,is_news:e.is_news||"news"===e.category||"news"===e.type||!1,views:e.views||Math.floor(500*Math.random())+50,tags:e.tags||[],likes:e.likes||Math.floor(100*Math.random()),comments:e.comments||Math.floor(20*Math.random()),searchText:"".concat(e.title||""," ").concat(e.excerpt||""," ").concat(e.content||""," ").concat((e.tags||[]).join(" ")).toLowerCase()}));a(u),e||console.log("Successfully fetched articles:",u)}catch(l){console.error("Failed to fetch articles:",l),e||A("Error loading articles: ".concat(l.message))}finally{e||v(!1)}},[]);(0,i.useEffect)(()=>{fe()},[fe]),(0,i.useEffect)(()=>{let e=[...t],n=[...ae];if("blogs"===C?e=e.filter(e=>!e.is_news):"news"===C?e=e.filter(e=>e.is_news):"featured"===C&&(e=e.filter(e=>e.is_featured)),"recent"===d){const n=new Date;n.setDate(n.getDate()-7),e=e.filter(e=>new Date(e.published_at||e.created_at)>=n)}else"popular"===d?e=e.filter(e=>e.views>100):"trending"===d&&(e=e.filter(e=>e.likes>50||e.comments>10));if(l){const t=l.toLowerCase();e=e.filter(e=>e.searchText.includes(t)),n=n.filter(e=>e.searchText.includes(t))}e.sort((e,n)=>"recent"===I?new Date(n.published_at||n.created_at)-new Date(e.published_at||e.created_at):"popular"===I?(n.views||0)-(e.views||0):"title"===I?e.title.localeCompare(n.title):0),n.sort((e,n)=>new Date(n.created_at||new Date)-new Date(e.created_at||new Date)),o(e),le(n),W(6),P(3)},[l,d,t,C,I,ae]),(0,i.useEffect)(()=>{const e=new URLSearchParams(window.location.search),n=e.get("article"),a=e.get("section");if(n&&t.length>0){const e=t.find(e=>e.id===n);e&&(u(e),he(e.id))}a&&z(a)},[t,he]);const be=(0,i.useCallback)(async e=>{ge(),await he(e.id),u(e)},[he,ge]),ye=(0,i.useCallback)(async e=>{window.speechSynthesis?(x&&x.id===e.id||(await he(e.id),u(e)),f===e.id&&g?ge():(ge(),setTimeout(()=>{me.current=!1;let n="";e.title&&(n+=e.title+". "),e.excerpt&&(n+=e.excerpt+". "),e.content&&(n+=e.content);const t=n.replace(/<[^>]*>/g," ").replace(/[^\w\s.,!?;:'-]/g," ").replace(/\s+/g," ").trim().substring(0,1e3);if(t)try{const n=new SpeechSynthesisUtterance(t);n.rate=.9,n.pitch=1,n.volume=.8,n.lang="en-US",n.onstart=()=>{console.log("Speech started for:",e.title),me.current||(h(!0),b(e.id),ce.current=n,pe.current=!0)},n.onend=()=>{console.log("Speech ended for:",e.title),h(!1),b(null),ce.current=null,pe.current=!1},n.onerror=e=>{console.error("Speech error:",e.error,e),h(!1),b(null),ce.current=null,pe.current=!1,"interrupted"===e.error||"canceled"===e.error||"cancelled"===e.error||me.current||setTimeout(()=>{me.current||console.warn("Speech error: ".concat(e.error,". Continuing..."))},100)};const a=()=>{if(!me.current)try{const e=window.speechSynthesis.getVoices();if(e.length>0){const t=e.find(e=>"en-US"===e.lang&&e.localService&&!e.name.toLowerCase().includes("microsoft"))||e.find(e=>"en-US"===e.lang&&e.localService)||e.find(e=>"en-US"===e.lang)||e.find(e=>e.lang.startsWith("en-"))||e[0];t&&(n.voice=t,console.log("Selected voice:",t.name,t.lang))}if(me.current)return;window.speechSynthesis.speaking||window.speechSynthesis.pending?(console.log("Speech synthesis busy, canceling existing..."),window.speechSynthesis.cancel(),setTimeout(()=>{me.current||(ce.current=n,window.speechSynthesis.speak(n),console.log("Speech synthesis started after cleanup"))},100)):(ce.current=n,window.speechSynthesis.speak(n),console.log("Speech synthesis started immediately"))}catch(w){console.error("Error starting speech:",w),me.current||(h(!1),b(null),ce.current=null)}};if(window.speechSynthesis.getVoices().length>0)a();else{let e=!1;const n=2e3,t=()=>{e||me.current||(e=!0,window.speechSynthesis.removeEventListener("voiceschanged",t),a())};window.speechSynthesis.addEventListener("voiceschanged",t),setTimeout(()=>{e||me.current||(e=!0,window.speechSynthesis.removeEventListener("voiceschanged",t),console.log("Voice loading timeout, starting with default voice"),a())},n)}}catch(w){console.error("Error in speech synthesis setup:",w),me.current||(h(!1),b(null),ce.current=null)}else alert("No text content available to read.")},200))):alert("Speech synthesis is not supported in your browser.")},[g,f,ge,x,he]),je=(0,i.useCallback)(e=>{if(!e)return"Recent";const n=new Date,t=new Date(e),a=Math.abs(n-t),r=Math.floor(a/864e5);return 0===r?"Today":1===r?"Yesterday":r<7?"".concat(r," days ago"):r<30?"".concat(Math.floor(r/7)," weeks ago"):t.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})},[]),ve=(0,i.useCallback)(e=>{if(!e)return 1;const n=e.split(" ").length;return Math.ceil(n/200)},[]),we=(0,i.useCallback)(e=>{e.target.src=an,e.target.onerror=null},[]),Ae=r.slice(0,T),ke=se.slice(0,F),Se={container:{minHeight:"100vh",backgroundColor:n?e.background:e.gray50,color:e.text,fontFamily:'"Nunito Sans", -apple-system, BlinkMacSystemFont, sans-serif'},hero:{background:n?"linear-gradient(135deg, ".concat(e.primary," 0%, ").concat(e.primaryDark," 100%)"):"linear-gradient(135deg, ".concat(e.primary," 0%, ").concat(e.accent," 100%)"),padding:"80px 24px 60px",position:"relative",overflow:"hidden"},heroPattern:{position:"absolute",top:0,left:0,right:0,bottom:0,opacity:.1,background:"\n        radial-gradient(circle at 25% 25%, white 2px, transparent 2px),\n        radial-gradient(circle at 75% 75%, white 1px, transparent 1px)\n      ",backgroundSize:"40px 40px",backgroundPosition:"0 0, 20px 20px"},heroContent:{maxWidth:"1200px",margin:"0 auto",textAlign:"center",position:"relative",zIndex:2},heroTitle:{fontSize:"clamp(32px, 6vw, 64px)",fontWeight:800,color:e.white,margin:"0 0 16px 0",lineHeight:"1.1",letterSpacing:"-0.02em"},heroSubtitle:{fontSize:"18px",color:e.white,opacity:.9,margin:"0 auto 32px auto",maxWidth:"600px",lineHeight:"1.6",textAlign:"center"},controlsSection:{maxWidth:"1200px",margin:"0 auto",padding:"40px 24px",display:"grid",gridTemplateColumns:"1fr auto",gap:"24px",alignItems:"center"},searchContainer:{position:"relative",width:"100%",maxWidth:"500px"},searchInput:{width:"100%",padding:"16px 16px 16px 50px",fontSize:"16px",border:"2px solid ".concat(n?e.border:e.gray200),borderRadius:"12px",backgroundColor:n?e.surface:e.white,color:e.text,outline:"none",transition:"all 0.2s ease",fontFamily:"inherit"},filterControls:{display:"flex",gap:"8px",alignItems:"center"},filterButton:{padding:"12px 16px",fontSize:"14px",fontWeight:600,border:"2px solid ".concat(n?e.border:e.gray200),borderRadius:"10px",backgroundColor:n?e.surface:e.white,color:e.text,outline:"none",transition:"all 0.2s ease",fontFamily:"inherit",cursor:"pointer"},filterButtonActive:{backgroundColor:e.primary,borderColor:e.primary,color:e.white},actionBannersSection:{maxWidth:"1200px",margin:"0 auto",padding:"0 24px 40px"},actionBanners:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:"20px",marginBottom:"32px"},actionBanner:{background:n?"linear-gradient(135deg, ".concat(e.primary,"20 0%, ").concat(e.accent,"20 100%)"):"linear-gradient(135deg, ".concat(e.primary,"10 0%, ").concat(e.accent,"10 100%)"),border:"2px solid ".concat(e.primary,"30"),borderRadius:"16px",padding:"24px",cursor:"pointer",transition:"all 0.3s ease",position:"relative",overflow:"hidden"},actionBannerActive:{background:n?"linear-gradient(135deg, ".concat(e.primary,"40 0%, ").concat(e.accent,"40 100%)"):"linear-gradient(135deg, ".concat(e.primary,"20 0%, ").concat(e.accent,"20 100%)"),border:"2px solid ".concat(e.primary),transform:"translateY(-2px)",boxShadow:"0 8px 25px ".concat(e.primary,"25")},bannerIcon:{marginBottom:"12px"},bannerTitle:{fontSize:"18px",fontWeight:700,color:e.text,margin:"0 0 8px 0"},bannerDescription:{fontSize:"14px",color:e.textSecondary,margin:"0 0 16px 0",lineHeight:"1.5"},bannerStats:{fontSize:"12px",color:e.primary,fontWeight:600},tabsContainer:{maxWidth:"1200px",margin:"0 auto",padding:"0 24px"},tabs:{display:"flex",gap:"8px",overflowX:"auto",paddingBottom:"8px"},tab:{padding:"12px 20px",fontSize:"14px",fontWeight:600,border:"2px solid ".concat(n?e.border:e.gray200),borderRadius:"25px",backgroundColor:n?e.surface:e.white,color:e.text,cursor:"pointer",transition:"all 0.2s ease",display:"flex",alignItems:"center",gap:"8px",whiteSpace:"nowrap",minWidth:"fit-content"},tabActive:{backgroundColor:e.primary,color:e.white,borderColor:e.primary,boxShadow:"0 2px 8px ".concat(e.primary,"25")},contentSection:{maxWidth:"1200px",margin:"0 auto",padding:"0 24px 80px"},videoSection:{marginBottom:"48px",backgroundColor:n?e.surface:e.white,borderRadius:"16px",padding:"32px",border:"1px solid ".concat(n?e.border:e.gray200)},videoHeader:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"24px"},videoTitle:{fontSize:"24px",fontWeight:700,color:e.text,margin:0},videoGrid:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:"24px"},articlesGrid:{display:"grid",gridTemplateColumns:"grid"===N?"repeat(auto-fit, minmax(350px, 1fr))":"1fr",gap:"24px",marginTop:"32px"},articleCard:{backgroundColor:n?e.surface:e.white,borderRadius:"16px",overflow:"hidden",cursor:"pointer",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",border:"1px solid ".concat(n?e.border:e.gray200),position:"relative"},articleImage:{width:"100%",height:"grid"===N?"220px":"300px",objectFit:"cover"},articleContent:{padding:"24px"},articleMeta:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"16px",flexWrap:"wrap"},articleTitle:{fontSize:"18px",fontWeight:700,color:e.text,margin:"0 0 12px 0",lineHeight:"1.4",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden"},articleExcerpt:{color:e.textSecondary,fontSize:"14px",lineHeight:"1.6",margin:"0 0 16px 0",display:"-webkit-box",WebkitLineClamp:3,WebkitBoxOrient:"vertical",overflow:"hidden"},articleFooter:{display:"flex",alignItems:"center",justifyContent:"space-between",paddingTop:"16px",borderTop:"1px solid ".concat(n?e.border:e.gray100)},badge:{padding:"4px 8px",borderRadius:"6px",fontSize:"11px",fontWeight:600,textTransform:"uppercase",letterSpacing:"0.5px"},actionButtons:{display:"flex",gap:"8px"},iconButton:{padding:"8px",backgroundColor:"transparent",border:"none",borderRadius:"8px",cursor:"pointer",color:e.textSecondary,transition:"all 0.2s ease",display:"flex",alignItems:"center",justifyContent:"center"},emptyState:{textAlign:"center",padding:"80px 24px"},loadingState:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:"400px",gap:"16px"},spinner:{width:"40px",height:"40px",border:"3px solid ".concat(n?e.border:e.gray200),borderTop:"3px solid ".concat(e.primary),borderRadius:"50%",animation:"spin 1s linear infinite"},videoCard:{backgroundColor:n?e.backgroundSecondary:e.gray50,borderRadius:"12px",overflow:"hidden",cursor:"pointer",transition:"all 0.3s ease",border:"1px solid ".concat(n?e.border:e.gray200)},loadMoreContainer:{display:"flex",justifyContent:"center",marginTop:"40px"},loadMoreButton:{padding:"14px 32px",fontSize:"14px",fontWeight:600,backgroundColor:e.primary,borderColor:e.primary,color:e.white,border:"none",borderRadius:"12px",cursor:"pointer",transition:"all 0.3s ease",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",minWidth:"200px"}};if(j)return(0,s.jsxs)("div",{style:Se.container,children:[(0,s.jsx)(Le,{}),(0,s.jsxs)("div",{style:Se.loadingState,children:[(0,s.jsx)("div",{style:Se.spinner}),(0,s.jsx)("p",{style:{color:e.textSecondary},children:"Loading content..."})]}),(0,s.jsx)(Qe,{})]});if(w)return(0,s.jsxs)("div",{style:Se.container,children:[(0,s.jsx)(Le,{}),(0,s.jsxs)("div",{style:Se.emptyState,children:[(0,s.jsx)("h3",{style:{color:e.text,margin:"0 0 16px 0"},children:"Something went wrong"}),(0,s.jsx)("p",{style:{color:e.textSecondary,margin:"0 0 24px 0"},children:w}),(0,s.jsx)("button",{onClick:()=>fe(!1),style:(0,m.A)((0,m.A)({},Se.filterButton),Se.filterButtonActive),children:"Try Again"})]}),(0,s.jsx)(Qe,{})]});if(x)return(0,s.jsxs)("div",{style:Se.container,children:[(0,s.jsx)(Le,{}),(0,s.jsxs)("div",{style:{maxWidth:"800px",margin:"0 auto",padding:"40px 24px"},children:[(0,s.jsxs)("button",{onClick:()=>{ge(),u(null)},style:(0,m.A)((0,m.A)({},Se.filterButton),{},{marginTop:"40px",marginBottom:"32px"}),children:[(0,s.jsx)(L.A,{style:{transform:"rotate(180deg)"},size:16}),"Back to Articles"]}),(0,s.jsxs)("article",{style:{backgroundColor:n?e.surface:e.white,border:"1px solid ".concat(n?e.border:e.gray200),borderRadius:"16px",overflow:"hidden"},children:[(0,s.jsx)("div",{style:{width:"100%",height:"400px",position:"relative",overflow:"hidden",backgroundColor:n?e.backgroundSecondary:e.gray100},children:(0,s.jsx)("img",{src:x.featured_image?rn(x.featured_image):an,alt:x.title,style:{width:"100%",height:"100%",objectFit:"cover"},onError:we})}),(0,s.jsxs)("div",{style:{padding:"40px"},children:[(0,s.jsxs)("div",{style:Se.articleMeta,children:[(0,s.jsx)("span",{style:(0,m.A)((0,m.A)({},Se.badge),{},{backgroundColor:x.is_news?e.error:e.primary,color:e.white}),children:x.is_news?"News":"Article"}),x.is_featured&&(0,s.jsxs)("span",{style:(0,m.A)((0,m.A)({},Se.badge),{},{backgroundColor:e.warning+"20",color:e.warning}),children:[(0,s.jsx)(M.A,{size:10,style:{marginRight:"4px"}}),"Featured"]}),(0,s.jsxs)("span",{style:{color:e.textSecondary,fontSize:"14px",display:"flex",alignItems:"center",gap:"4px"},children:[(0,s.jsx)(H.A,{size:12}),ve(x.content)," min read"]})]}),(0,s.jsx)("h1",{style:{color:e.text,fontSize:"36px",fontWeight:800,lineHeight:"1.2",margin:"0 0 16px 0"},children:x.title}),x.excerpt&&(0,s.jsx)("p",{style:{color:e.textSecondary,fontSize:"18px",lineHeight:"1.6",margin:"0 0 24px 0"},children:x.excerpt}),(0,s.jsx)("div",{style:{display:"flex",alignItems:"center",gap:"24px",marginBottom:"32px",flexWrap:"wrap"},children:(0,s.jsxs)("div",{style:{color:e.textSecondary,fontSize:"14px",display:"flex",alignItems:"center",gap:"4px"},children:[(0,s.jsx)(q.A,{size:14}),(0,s.jsx)("span",{children:je(x.published_at||x.created_at)})]})}),(0,s.jsx)("div",{style:{marginBottom:"32px"},children:(0,s.jsx)("button",{onClick:()=>ye(x),style:(0,m.A)((0,m.A)({},Se.filterButton),g&&f===x.id?Se.filterButtonActive:{}),children:g&&f===x.id?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(O.A,{size:16}),"Stop Reading"]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(U.A,{size:16}),"Listen to Article"]})})}),(0,s.jsx)("div",{style:{fontSize:"16px",lineHeight:"1.8",color:e.text},children:x.content&&x.content.split("\n").map((e,n)=>e.trim()&&(0,s.jsx)("p",{style:{marginBottom:"24px"},children:e},n))}),x.tags&&Array.isArray(x.tags)&&x.tags.length>0&&(0,s.jsxs)("div",{style:{paddingTop:"32px",borderTop:"1px solid ".concat(n?e.border:e.gray100),marginTop:"32px"},children:[(0,s.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"16px"},children:[(0,s.jsx)(Y.A,{size:16,style:{color:e.textSecondary}}),(0,s.jsx)("span",{style:{color:e.textSecondary,fontSize:"14px",fontWeight:600},children:"Tags"})]}),(0,s.jsx)("div",{style:{display:"flex",flexWrap:"wrap",gap:"8px"},children:x.tags.map((t,a)=>(0,s.jsxs)("span",{style:(0,m.A)((0,m.A)({},Se.badge),{},{backgroundColor:n?e.backgroundSecondary:e.gray100,color:e.primary}),children:["#",t]},a))})]})]})]})]}),(0,s.jsx)(Qe,{})]});const Ce=t.filter(e=>!e.is_news).length,ze=t.filter(e=>e.is_news).length;return(0,s.jsxs)("div",{style:Se.container,children:[(0,s.jsx)(Le,{}),(0,s.jsxs)("div",{style:Se.hero,children:[(0,s.jsx)("div",{style:Se.heroPattern}),(0,s.jsxs)("div",{style:Se.heroContent,children:[(0,s.jsx)("h1",{style:Se.heroTitle,children:"ACEF Insights & Updates"}),(0,s.jsx)("p",{style:Se.heroSubtitle,children:"Stay informed with the latest climate action stories, environmental insights, and community impact updates from across Africa."})]})]}),(0,s.jsxs)("div",{style:Se.controlsSection,children:[(0,s.jsxs)("div",{style:Se.searchContainer,children:[(0,s.jsx)(G.A,{size:20,style:{position:"absolute",left:"16px",top:"50%",transform:"translateY(-50%)",color:e.textSecondary,zIndex:1}}),(0,s.jsx)("input",{type:"text",placeholder:"Search articles, news, videos, and updates...",value:l,onChange:e=>c(e.target.value),style:Se.searchInput})]}),(0,s.jsxs)("div",{style:Se.filterControls,children:[(0,s.jsxs)("select",{value:I,onChange:e=>E(e.target.value),style:(0,m.A)((0,m.A)({},Se.filterButton),{},{appearance:"none",backgroundImage:"url(\"data:image/svg+xml;charset=UTF-8,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3e%3cpolyline points='6,9 12,15 18,9'%3e%3c/polyline%3e%3c/svg%3e\")",backgroundRepeat:"no-repeat",backgroundPosition:"right 8px center",backgroundSize:"16px",paddingRight:"32px"}),children:[(0,s.jsx)("option",{value:"recent",children:"Recent"}),(0,s.jsx)("option",{value:"popular",children:"Popular"}),(0,s.jsx)("option",{value:"title",children:"A-Z"})]}),(0,s.jsx)("button",{onClick:()=>_("grid"===N?"list":"grid"),style:(0,m.A)((0,m.A)({},Se.filterButton),{},{backgroundColor:e.primary+"10",borderColor:e.primary}),children:"grid"===N?(0,s.jsx)(V.A,{size:16}):(0,s.jsx)(J.A,{size:16})})]})]}),(0,s.jsx)("div",{style:Se.actionBannersSection,children:(0,s.jsxs)("div",{style:Se.actionBanners,children:[(0,s.jsxs)("div",{onClick:()=>{z("blogs"),c(""),p("all")},style:(0,m.A)((0,m.A)({},Se.actionBanner),"blogs"===C?Se.actionBannerActive:{}),children:[(0,s.jsx)("div",{style:Se.bannerIcon,children:(0,s.jsx)(K.A,{size:32,style:{color:e.primary}})}),(0,s.jsx)("h3",{style:Se.bannerTitle,children:"Explore Our Blogs"}),(0,s.jsx)("p",{style:Se.bannerDescription,children:"Discover in-depth articles about climate action, sustainability, and environmental insights."}),(0,s.jsxs)("div",{style:Se.bannerStats,children:[Ce," Articles Available"]})]}),(0,s.jsxs)("div",{onClick:()=>{z("news"),c(""),p("all")},style:(0,m.A)((0,m.A)({},Se.actionBanner),"news"===C?Se.actionBannerActive:{}),children:[(0,s.jsx)("div",{style:Se.bannerIcon,children:(0,s.jsx)(X.A,{size:32,style:{color:e.primary}})}),(0,s.jsx)("h3",{style:Se.bannerTitle,children:"Latest News"}),(0,s.jsx)("p",{style:Se.bannerDescription,children:"Stay updated with the latest news and developments in climate action across Africa."}),(0,s.jsxs)("div",{style:Se.bannerStats,children:[ze," News Updates"]})]})]})}),(0,s.jsx)("div",{style:Se.tabsContainer,children:(0,s.jsx)("div",{style:Se.tabs,children:[{key:"all",label:"All Content",icon:Z.A,count:t.length}].map(e=>{let{key:n,label:t,icon:a,count:r}=e;return(0,s.jsxs)("button",{onClick:()=>z(n),style:(0,m.A)((0,m.A)({},Se.tab),C===n?Se.tabActive:{}),children:[(0,s.jsx)(a,{size:16}),t," (",r,")"]},n)})})}),(0,s.jsxs)("div",{style:Se.contentSection,children:[(!l||l&&se.length>0)&&R&&!D&&(0,s.jsxs)("div",{style:Se.videoSection,children:[(0,s.jsxs)("div",{style:Se.videoHeader,children:[(0,s.jsx)($.A,{size:24,style:{color:e.primary}}),(0,s.jsx)("h2",{style:Se.videoTitle,children:"Latest Video Updates"})]}),(0,s.jsxs)("div",{style:{backgroundColor:n?e.backgroundSecondary:e.gray50,borderRadius:"16px",padding:"24px",display:"grid",gridTemplateColumns:"minmax(300px, 1fr) 1.5fr",gap:"32px",alignItems:"center"},children:[(0,s.jsxs)("div",{children:[R.tag&&(0,s.jsxs)("div",{style:{display:"inline-flex",alignItems:"center",gap:"8px",backgroundColor:e.primary+"15",color:e.primary,padding:"6px 12px",borderRadius:"20px",fontSize:"12px",fontWeight:600,marginBottom:"16px"},children:[(0,s.jsx)("div",{style:{width:"6px",height:"6px",backgroundColor:e.error,borderRadius:"50%",animation:"pulse 2s infinite"}}),R.tag]}),(0,s.jsx)("h3",{style:{fontSize:"20px",fontWeight:700,color:e.text,margin:"0 0 12px 0",lineHeight:"1.3"},children:R.title||"ACEF Video Update"}),R.description&&(0,s.jsx)("p",{style:{color:e.textSecondary,fontSize:"14px",lineHeight:"1.6",margin:"0 0 20px 0"},children:R.description}),(0,s.jsxs)("button",{onClick:()=>te(!0),style:(0,m.A)((0,m.A)({},Se.filterButton),Se.filterButtonActive),children:[(0,s.jsx)(U.A,{size:16}),"Watch Video"]})]}),(0,s.jsx)("div",{style:{position:"relative",width:"100%",paddingBottom:"56.25%",height:0,borderRadius:"12px",overflow:"hidden",backgroundColor:e.primary+"10",cursor:"pointer"},onClick:()=>te(!0),children:R.embedUrl?(0,s.jsx)("iframe",{src:R.embedUrl.replace("autoplay=0","autoplay=0"),title:R.title||"ACEF Video",style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",border:"none"},allow:"accelerometer; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0}):(0,s.jsx)("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:e.primary,color:e.white},children:(0,s.jsxs)("div",{style:{textAlign:"center"},children:[(0,s.jsx)(U.A,{size:48,style:{marginBottom:"12px"}}),(0,s.jsx)("p",{style:{margin:0,fontSize:"14px"},children:"Video Preview"})]})})})]})]}),(0,s.jsx)("div",{style:{display:"flex",gap:"8px",marginBottom:"24px",flexWrap:"wrap"},children:[{key:"all",label:"All"},{key:"recent",label:"Recent"},{key:"popular",label:"Popular"},{key:"trending",label:"Trending"}].map(e=>{let{key:n,label:t}=e;return(0,s.jsx)("button",{onClick:()=>p(n),style:(0,m.A)((0,m.A)({},Se.filterButton),d===n?Se.filterButtonActive:{}),children:t},n)})}),0===r.length&&0===se.length?(0,s.jsxs)("div",{style:Se.emptyState,children:[(0,s.jsx)("div",{style:{fontSize:"48px",marginBottom:"16px"},children:"\ud83d\udcf0"}),(0,s.jsx)("h3",{style:{color:e.text,margin:"0 0 16px 0"},children:"No content found"}),(0,s.jsx)("p",{style:{color:e.textSecondary,marginBottom:"24px"},children:0===t.length?"We're working on bringing you great content. Check back soon!":"Try adjusting your search or filters to find what you're looking for."}),(l||"all"!==d)&&(0,s.jsx)("button",{onClick:()=>{c(""),p("all"),z("all")},style:(0,m.A)((0,m.A)({},Se.filterButton),Se.filterButtonActive),children:"Clear Filters"})]}):(0,s.jsxs)(s.Fragment,{children:[Ae.length>0&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{style:Se.articlesGrid,children:Ae.map(t=>(0,s.jsxs)("article",{onClick:()=>be(t),style:(0,m.A)((0,m.A)({},Se.articleCard),"list"===N?{display:"flex",flexDirection:"row",alignItems:"stretch"}:{}),onMouseEnter:n=>{n.currentTarget.style.transform="translateY(-4px)",n.currentTarget.style.boxShadow="0 12px 40px ".concat(e.cardShadow||"rgba(0, 0, 0, 0.15)")},onMouseLeave:e=>{e.currentTarget.style.transform="translateY(0)",e.currentTarget.style.boxShadow="none"},children:[(0,s.jsx)("div",{style:(0,m.A)((0,m.A)({},"list"===N?{width:"300px",flexShrink:0}:{width:"100%",height:"220px"}),{},{position:"relative",overflow:"hidden",backgroundColor:n?e.backgroundSecondary:e.gray100}),children:(0,s.jsx)("img",{src:t.featured_image?rn(t.featured_image):an,alt:t.title,style:(0,m.A)((0,m.A)({},Se.articleImage),"list"===N?{height:"100%"}:{}),onError:we,loading:"lazy"})}),(0,s.jsxs)("div",{style:Se.articleContent,children:[(0,s.jsx)("h3",{style:Se.articleTitle,children:t.title}),t.excerpt&&(0,s.jsx)("p",{style:Se.articleExcerpt,children:t.excerpt}),(0,s.jsxs)("div",{style:Se.articleFooter,children:[(0,s.jsxs)("div",{style:Se.articleMeta,children:[(0,s.jsxs)("span",{style:{color:e.textSecondary,fontSize:"12px",display:"flex",alignItems:"center",gap:"4px"},children:[(0,s.jsx)(q.A,{size:12}),je(t.published_at||t.created_at)]}),(0,s.jsxs)("span",{style:{color:e.textSecondary,fontSize:"12px",display:"flex",alignItems:"center",gap:"4px"},children:[(0,s.jsx)(H.A,{size:12}),ve(t.content)," min"]})]}),(0,s.jsx)("div",{style:Se.actionButtons,children:(0,s.jsx)("button",{onClick:e=>{e.stopPropagation(),ye(t)},style:(0,m.A)((0,m.A)({},Se.iconButton),g&&f===t.id?{backgroundColor:e.primary,color:e.white}:{}),title:"Listen to article",children:g&&f===t.id?(0,s.jsx)(O.A,{size:14}):(0,s.jsx)(U.A,{size:14})})})]})]})]},t.id))}),T<r.length&&(0,s.jsx)("div",{style:Se.loadMoreContainer,children:(0,s.jsxs)("button",{onClick:()=>{W(e=>Math.min(e+6,r.length))},style:Se.loadMoreButton,onMouseEnter:n=>{n.target.style.backgroundColor=e.primaryDark||e.primary,n.target.style.transform="translateY(-2px)"},onMouseLeave:n=>{n.target.style.backgroundColor=e.primary,n.target.style.transform="translateY(0)"},children:[(0,s.jsx)(Q.A,{size:16}),"Load More Articles (",Math.min(6,r.length-T)," more)"]})})]}),ke.length>0&&(0,s.jsxs)("div",{style:{marginTop:Ae.length>0?"60px":"0",backgroundColor:n?e.surface:e.white,borderRadius:"16px",padding:"32px",border:"1px solid ".concat(n?e.border:e.gray200)},children:[(0,s.jsxs)("div",{style:Se.videoHeader,children:[(0,s.jsx)($.A,{size:24,style:{color:e.primary}}),(0,s.jsx)("h2",{style:Se.videoTitle,children:"Video Library"})]}),(0,s.jsx)("div",{style:Se.videoGrid,children:ke.map((n,t)=>(0,s.jsxs)("div",{style:Se.videoCard,children:[(0,s.jsx)("div",{style:{position:"relative",width:"100%",paddingBottom:"56.25%",height:0,overflow:"hidden"},children:n.embedUrl?(0,s.jsx)("iframe",{src:n.embedUrl,title:n.title||"ACEF Video ".concat(t+1),style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",border:"none"},allow:"accelerometer; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0}):(0,s.jsx)("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",backgroundColor:e.primary+"20",display:"flex",alignItems:"center",justifyContent:"center",color:e.primary},children:(0,s.jsxs)("div",{style:{textAlign:"center"},children:[(0,s.jsx)(U.A,{size:32,style:{marginBottom:"8px"}}),(0,s.jsx)("p",{style:{margin:0,fontSize:"12px"},children:"Video Preview"})]})})}),(0,s.jsxs)("div",{style:{padding:"16px"},children:[n.tag&&(0,s.jsx)("div",{style:{display:"inline-block",backgroundColor:e.primary+"15",color:e.primary,padding:"4px 8px",borderRadius:"12px",fontSize:"10px",fontWeight:600,marginBottom:"8px",textTransform:"uppercase"},children:n.tag}),(0,s.jsx)("h4",{style:{fontSize:"14px",fontWeight:600,color:e.text,margin:"0 0 8px 0",lineHeight:"1.3",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden"},children:n.title||"ACEF Video Update"}),n.description&&(0,s.jsx)("p",{style:{color:e.textSecondary,fontSize:"12px",lineHeight:"1.4",margin:"0 0 12px 0",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden"},children:n.description}),n.created_at&&(0,s.jsxs)("div",{style:{color:e.textSecondary,fontSize:"11px",display:"flex",alignItems:"center",gap:"4px"},children:[(0,s.jsx)(q.A,{size:10}),je(n.created_at)]})]})]},n.id||t))}),F<se.length&&(0,s.jsx)("div",{style:Se.loadMoreContainer,children:(0,s.jsxs)("button",{onClick:()=>{P(e=>Math.min(e+3,se.length))},style:Se.loadMoreButton,onMouseEnter:n=>{n.target.style.backgroundColor=e.primaryDark||e.primary,n.target.style.transform="translateY(-2px)"},onMouseLeave:n=>{n.target.style.backgroundColor=e.primary,n.target.style.transform="translateY(0)"},children:[(0,s.jsx)(Q.A,{size:16}),"Load More Videos (",Math.min(3,se.length-F)," more)"]})})]})]})]}),ne&&R&&(0,s.jsx)("div",{style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",backgroundColor:"rgba(0, 0, 0, 0.9)",backdropFilter:"blur(10px)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,padding:"20px"},children:(0,s.jsxs)("div",{style:{backgroundColor:n?e.surface:e.white,borderRadius:"16px",padding:"0",maxWidth:"900px",width:"100%",maxHeight:"90vh",overflow:"hidden",position:"relative"},children:[(0,s.jsx)("button",{onClick:()=>te(!1),style:{position:"absolute",top:"16px",right:"16px",background:"rgba(0, 0, 0, 0.5)",border:"none",color:e.white,cursor:"pointer",fontSize:"24px",width:"40px",height:"40px",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",zIndex:10,transition:"all 0.2s ease"},onMouseEnter:e=>{e.target.style.background="rgba(0, 0, 0, 0.8)"},onMouseLeave:e=>{e.target.style.background="rgba(0, 0, 0, 0.5)"},children:"\xd7"}),R.embedUrl?(0,s.jsx)("div",{style:{position:"relative",width:"100%",paddingBottom:"56.25%",height:0},children:(0,s.jsx)("iframe",{src:R.embedUrl.replace("autoplay=0","autoplay=1"),title:R.title||"ACEF Video Update",style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",border:"none",borderRadius:"16px"},allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})}):(0,s.jsx)("div",{style:{width:"100%",height:"400px",backgroundColor:e.backgroundSecondary,display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"16px",color:e.textSecondary},children:(0,s.jsxs)("div",{style:{textAlign:"center"},children:[(0,s.jsx)($.A,{size:64,style:{marginBottom:"16px"}}),(0,s.jsx)("h3",{style:{margin:"0 0 8px 0",color:e.text},children:R.title||"ACEF Video Update"}),(0,s.jsx)("p",{style:{margin:0},children:"Video content will be available soon"})]})}),(R.title||R.description)&&(0,s.jsxs)("div",{style:{padding:"24px"},children:[R.title&&(0,s.jsx)("h3",{style:{color:e.text,margin:"0 0 12px 0",fontSize:"20px",fontWeight:700},children:R.title}),R.description&&(0,s.jsx)("p",{style:{color:e.textSecondary,margin:0,lineHeight:"1.6",fontSize:"14px"},children:R.description})]})]})}),(0,s.jsx)(en,{}),(0,s.jsx)(Qe,{}),(0,s.jsx)("style",{jsx:!0,children:"\n        @keyframes spin {\n          0% { transform: rotate(0deg); }\n          100% { transform: rotate(360deg); }\n        }\n        \n        @keyframes pulse {\n          0% {\n            box-shadow: 0 0 0 0 rgba(239, 68, 68, 0.7);\n          }\n          70% {\n            box-shadow: 0 0 0 10px rgba(239, 68, 68, 0);\n          }\n          100% {\n            box-shadow: 0 0 0 0 rgba(239, 68, 68, 0);\n          }\n        }\n        \n        @media (max-width: 768px) {\n          .controls-section {\n            grid-template-columns: 1fr !important;\n            gap: 16px !important;\n          }\n          \n          .filter-controls {\n            justify-content: center;\n          }\n          \n          .tabs {\n            flex-wrap: wrap;\n          }\n          \n          .tab {\n            min-width: 120px;\n          }\n          \n          .articles-grid {\n            grid-template-columns: 1fr !important;\n          }\n          \n          .article-card.list-mode {\n            flex-direction: column !important;\n          }\n          \n          .article-card.list-mode .article-image {\n            width: 100% !important;\n            height: 200px !important;\n          }\n          \n          .video-section-content {\n            grid-template-columns: 1fr !important;\n            gap: 20px !important;\n            text-align: center;\n          }\n          \n          .section-header {\n            grid-template-columns: 1fr !important;\n            gap: 24px !important;\n            text-align: center;\n          }\n          \n          .contextual-banner {\n            max-width: none !important;\n            min-width: auto !important;\n          }\n          \n          .dual-banner-container {\n            grid-template-columns: 1fr !important;\n          }\n        }\n      "})]})},sn=()=>{var e,n,t;const[a,r]=(0,i.useState)([]),[o,l]=(0,i.useState)(""),[c,d]=(0,i.useState)(!1),[p,x]=(0,i.useState)(!1),[u,g]=(0,i.useState)(!1),h=(0,i.useRef)(null),[f,b]=(0,i.useState)(""),[y,j]=(0,i.useState)("ACEF Support"),[v,w]=(0,i.useState)({userIntent:null,collectingInfo:!1,collectedData:{},missingFields:[],waitingFor:null,actionType:null,currentStep:0,totalSteps:0,userEmail:null,hasSubscribedToNewsletter:!1}),[A,k]=(0,i.useState)({apiData:[],pageContent:[],fullDataMap:new Map,lastUpdated:null}),[S,C]=(0,i.useState)(null),[z,N]=(0,i.useState)(!1),[_,I]=(0,i.useState)(null),E="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",T="https://models.github.ai/inference/chat/completions",W="gpt-4o-mini",F="http://localhost:5000/api",P=3e4,R=3,B=2e3,D=[{url:"".concat(F,"/projects"),name:"projects",critical:!0},{url:"".concat(F,"/blogs"),name:"blogs",critical:!0},{url:"".concat(F,"/team"),name:"team",critical:!0},{url:"".concat(F,"/partners"),name:"partners",critical:!0},{url:"".concat(F,"/countries"),name:"countries",critical:!0},{url:"".concat(F,"/categories"),name:"categories",critical:!0},{url:"".concat(F,"/pillars"),name:"pillars",critical:!0},{url:"".concat(F,"/events"),name:"events",critical:!0},{url:"".concat(F,"/jobs"),name:"jobs",critical:!0},{url:"".concat(F,"/impacts"),name:"impacts",critical:!1},{url:"".concat(F,"/video-sections"),name:"videos",critical:!1},{url:"".concat(F,"/highlights"),name:"highlights",critical:!1},{url:"".concat(F,"/transaction-details"),name:"transaction_methods",critical:!1},{url:"".concat(F,"/volunteer-forms"),name:"volunteer_forms",critical:!1},{url:"".concat(F,"/whatsapp"),name:"whatsapp_contacts",critical:!1},{url:"".concat(F,"/country-contacts"),name:"country_contacts",critical:!1},{url:"".concat(F,"/newsletter/stats"),name:"newsletter_stats",critical:!1},{url:"".concat(F,"/donations"),name:"donations",critical:!1},{url:"".concat(F,"/contacts"),name:"contact_submissions",critical:!1},{url:"".concat(F,"/job-applications"),name:"job_applications",critical:!1},{url:"".concat(F,"/event-interests"),name:"event_applications",critical:!1}],L={job_inquiry:{required:["fullName","email","position"],optional:["phone","location","experience","coverLetter"],steps:["Collect personal information","Gather position details","Optional documents","Submit application"]},event_inquiry:{required:["fullName","email","eventName"],optional:["phone","organization","message"],steps:["Collect personal information","Select event","Additional requirements","Confirm registration"]},partnership_inquiry:{required:["organizationName","contactPerson","email","partnershipType"],optional:["phone","website","description"],steps:["Organization details","Contact information","Partnership specifics","Submit proposal"]},donation_inquiry:{required:["donorName","email","amount"],optional:["phone","message","anonymous"],steps:["Donor information","Donation details","Confirm transaction"]},contact_inquiry:{required:["name","email","subject","message"],optional:["phone","organization"],steps:["Contact details","Message content","Send message"]},volunteer_inquiry:{required:["fullName","email","country","availability"],optional:["phone","skills","experience"],steps:["Personal information","Location & availability","Submit application"]},newsletter_subscription:{required:["email"],optional:["name"],steps:["Email subscription"]}},M=async function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const t=(0,m.A)({method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"},credentials:"include"},n);for(let r=1;r<=R;r++)try{const n=new AbortController,a=setTimeout(()=>n.abort(),P),r=await fetch(e,(0,m.A)((0,m.A)({},t),{},{signal:n.signal}));if(clearTimeout(a),!r.ok)throw new Error("HTTP ".concat(r.status,": ").concat(r.statusText));return await r.json()}catch(a){if(console.warn("API request attempt ".concat(r," failed:"),a.message),r===R)throw a;await new Promise(e=>setTimeout(e,B*r))}},H=(e,n)=>{const t=L[n];return t?t.required.filter(n=>!e[n]||""===e[n].toString().trim()):[]},q=()=>{var e,n,t,a,r,o;return{from:"bot",text:"Hi there! \ud83d\udc4b I'm your comprehensive ACEF assistant. I can help you with:\n\n\ud83c\udf0d **Information & Resources**\n\u2022 Learn about our programs and projects across Africa\n\u2022 Explore our work in ".concat((null===(e=A.fullDataMap)||void 0===e||null===(n=e.get("countries"))||void 0===n?void 0:n.length)||"20+"," countries\n\u2022 Get details about our team, partners, and impact statistics\n\n\ud83d\udcbc **Career Opportunities**\n\u2022 Browse ").concat((null===(t=A.fullDataMap)||void 0===t||null===(a=t.get("jobs"))||void 0===a?void 0:a.length)||"current"," job openings\n\u2022 Submit job applications with guided assistance\n\u2022 Get information about working with ACEF\n\n\ud83c\udfaf **Get Involved**\n\u2022 Register for ").concat((null===(r=A.fullDataMap)||void 0===r||null===(o=r.get("events"))||void 0===o?void 0:o.length)||"upcoming"," events and workshops\n\u2022 Apply for volunteer opportunities in your country\n\u2022 Explore partnership and collaboration options\n\n\ud83d\udcb0 **Support Our Mission**\n\u2022 Learn about donation methods and impact\n\u2022 Get information about supporting specific projects or countries\n\u2022 Subscribe to our newsletter for updates\n\n\ud83d\udce7 **Direct Communication**\n\u2022 Contact our team with questions or inquiries\n\u2022 Connect with country-specific representatives\n\u2022 Get WhatsApp contact information").concat(f?" (".concat(f,")"):"",'\n\nI can perform actions for you - just tell me what you need! For example, say "I want to apply for a job" or "How can I volunteer in Kenya?" and I\'ll guide you through the process.\n\nHow can I assist you today?')}};(0,i.useEffect)(()=>{(()=>{var e;null===(e=h.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})})()},[a,c]);const O=async()=>{N(!0),I(null);try{console.log("\ud83d\udd04 Starting comprehensive data fetch from:",F);const e=D.map(async e=>{try{console.log("\ud83d\udd0d Fetching: ".concat(e.url));const n=await M(e.url),t=n.data||n;if(console.log("\u2705 ".concat(e.name," data loaded:"),Array.isArray(t)?t.length:"N/A","items"),"whatsapp_contacts"===e.name&&Array.isArray(t)&&t.length>0){const e=t[0];console.log("\ud83d\udcf1 WhatsApp contact loaded:",e),b(e.number||e.phone||""),j(e.description||"ACEF Support")}return{source:e.name,data:Array.isArray(t)?t:[t],status:"success",critical:e.critical,timestamp:(new Date).toISOString()}}catch(n){return console.error("\u274c Error fetching ".concat(e.name,":"),n.message),{source:e.name,data:null,status:"error",critical:e.critical,error:n.message}}}),n=await Promise.all(e),t=n.filter(e=>"success"===e.status&&e.data),a=n.filter(e=>"error"===e.status),r=a.filter(e=>e.critical);console.log("\ud83d\udcca Data fetch complete: ".concat(t.length,"/").concat(n.length," endpoints successful"));const o=new Map;t.forEach(e=>{o.set(e.source,e.data)});const i={apiData:t,pageContent:[],fullDataMap:o,lastUpdated:(new Date).toISOString(),stats:{total:n.length,successful:t.length,failed:a.length,criticalFailures:r.length}};return k(i),C(new Date),r.length>0?I("".concat(r.length," critical data sources unavailable")):t.length>0?console.log("\ud83c\udf89 Comprehensive website data successfully loaded"):I("Unable to load any website data"),i}catch(e){return console.error("\u274c Critical error in fetchWebsiteData:",e),I("Data loading failed: ".concat(e.message)),{apiData:[],pageContent:[],fullDataMap:new Map,error:e.message}}finally{N(!1)}},U=(e,n)=>{switch(e){case"job_inquiry":return"Thank you ".concat(n.fullName||n.name,"! Your job application has been submitted successfully. Our HR team will review your application and contact you at ").concat(n.email," within 5-7 business days.");case"event_inquiry":return"Great! Your interest in ".concat(n.eventName||"the event"," has been registered. You'll receive event details and updates at ").concat(n.email,".");case"contact_inquiry":return"Your message has been sent successfully! We'll respond to your inquiry at ".concat(n.email," within 2-3 business days.");case"newsletter_subscription":return"Welcome to the ACEF newsletter! You'll now receive updates and news at ".concat(n.email,".");case"partnership_inquiry":return"Thank you for your partnership inquiry! Our partnerships team will review your proposal and contact ".concat(n.organizationName," at ").concat(n.email," soon.");default:return"Your submission has been processed successfully!"}},Y=async function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const t=[2e3,5e3,8e3];try{console.log("\ud83e\udd16 Making enhanced API call...",n>0?"(Retry ".concat(n,")"):"");const a=(e=>{const n=e.toLowerCase();return n.includes("job")||n.includes("career")||n.includes("position")||n.includes("apply")||n.includes("work")||n.includes("employment")||n.includes("hire")||n.includes("opportunity")?{type:"job_inquiry",confidence:"high"}:n.includes("event")||n.includes("register")||n.includes("attend")||n.includes("workshop")||n.includes("seminar")||n.includes("conference")?{type:"event_inquiry",confidence:"high"}:n.includes("volunteer")||n.includes("help out")||n.includes("participate")||n.includes("get involved")||n.includes("contribute")?{type:"volunteer_inquiry",confidence:"high"}:n.includes("partner")||n.includes("collaborate")||n.includes("organization")||n.includes("ngo")||n.includes("company")||n.includes("cooperation")?{type:"partnership_inquiry",confidence:"medium"}:n.includes("donat")||n.includes("contribut")||n.includes("support")||n.includes("fund")||n.includes("sponsor")||n.includes("give")?{type:"donation_inquiry",confidence:"medium"}:n.includes("newsletter")||n.includes("subscribe")||n.includes("updates")||n.includes("email list")||n.includes("news")?{type:"newsletter_subscription",confidence:"high"}:n.includes("contact")||n.includes("speak")||n.includes("talk")||n.includes("meet")||n.includes("email")||n.includes("call")||n.includes("reach")||n.includes("message")?{type:"contact_inquiry",confidence:"medium"}:{type:"information_request",confidence:"low"}})(e);console.log("\ud83c\udfaf Detected user intent:",a);const o=((e,n)=>{const t={},a=e.toLowerCase(),r=e.match(/[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}/);r&&(t.email=r[0]);const o=[/(?:\+254|0)[0-9]{9,10}/,/(?:\+\d{1,3}[-.\s]?)?\(?\d{3}\)?[-.\s]?\d{3}[-.\s]?\d{4}/,/(?:\+\d{1,4}[-.\s]?)?\d{7,15}/];for(const s of o){const n=e.match(s);if(n){t.phone=n[0];break}}const i=[/my name is ([A-Za-z\s]+)/i,/i'?m ([A-Za-z\s]+)/i,/i am ([A-Za-z\s]+)/i,/call me ([A-Za-z\s]+)/i,/this is ([A-Za-z\s]+)/i];for(const s of i){const n=e.match(s);if(n&&n[1].trim().length>1){const e=n[1].trim();if(!["interested","looking","calling","writing","applying"].some(n=>e.toLowerCase().includes(n))){t.fullName=e,t.name=e;break}}}if("job_inquiry"===n){const e=["coordinator","manager","officer","assistant","director","specialist","analyst","developer","engineer","consultant","supervisor","administrator","technician","intern"];for(const n of e)if(a.includes(n)){t.position=n.charAt(0).toUpperCase()+n.slice(1);break}}if("partnership_inquiry"===n){const n=[/from ([A-Za-z\s&]+(?:foundation|organization|ngo|company|corp|ltd|inc))/i,/represent ([A-Za-z\s&]+)/i,/work at ([A-Za-z\s&]+)/i,/organization (?:is )?([A-Za-z\s&]+)/i];for(const a of n){const n=e.match(a);if(n){t.organizationName=n[1].trim();break}}}if("volunteer_inquiry"===n){const e=["kenya","rwanda","tanzania","uganda","ghana","cameroon","ethiopia","nigeria","south africa","zambia","zimbabwe"];for(const n of e)if(a.includes(n)){t.country=n.charAt(0).toUpperCase()+n.slice(1);break}}if("donation_inquiry"===n){const n=[/\$(\d+(?:\.\d{2})?)/,/(\d+)\s*dollars?/i,/(\d+)\s*usd/i,/amount.*?(\d+)/i];for(const a of n){const n=e.match(a);if(n){t.amount=parseFloat(n[1]);break}}}return t})(e,a.type);console.log("\ud83d\udcdd Extracted information:",o);const i=Date.now(),s=localStorage.getItem("lastAPICall"),l=1500;if(s&&i-parseInt(s)<l){const e=l-(i-parseInt(s));console.log("\u23f1\ufe0f Rate limiting: waiting ".concat(e,"ms")),await new Promise(n=>setTimeout(n,e))}const c=new AbortController,d=setTimeout(()=>c.abort(),P);let p=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{apiData:[],pageContent:[],fullDataMap:new Map};const n=(new Date).toLocaleString();let t="You are an advanced AI assistant for ACEF (African Climate and Environmental Foundation). You excel at collecting information through natural conversation and can perform various actions for users.\n\nACEF CORE INFORMATION:\n\ud83c\udf0d Mission: Supporting sustainable development and climate resilience across Africa\n\ud83c\udfaf Focus Areas:\n- Sustainable agriculture training and support  \n- Renewable energy projects (especially solar)\n- Water conservation and management initiatives\n- Reforestation and biodiversity programs\n- Community resilience building\n- Climate education and awareness campaigns\n\n\ud83c\udf0d Operating Region: Africa - Headquarters: Limbe, Cameroon\n\ud83d\udce7 General Contact: info@acef.org\n\ud83d\udcf1 WhatsApp: ".concat(f).concat("ACEF Support"!==y?" (".concat(y,")"):"","\n\ud83c\udf10 Website: https://acef.org\n\nData Last Updated: ").concat(n);return e.fullDataMap&&e.fullDataMap.size>0&&(t+="\n\n=== COMPREHENSIVE ACEF DATA ===\n",e.fullDataMap.forEach((e,n)=>{e&&e.length>0&&(t+="\n\ud83d\udccb ".concat(n.toUpperCase()," (").concat(e.length," items):\n"),e.slice(0,25).forEach((e,a)=>{switch(n){case"team":e.name&&(t+="\u2022 ".concat(e.name).concat(e.position?" - ".concat(e.position):"").concat(e.department?" (".concat(e.department,")"):"").concat(e.country?" in ".concat(e.country):"").concat(e.email?" - ".concat(e.email):"","\n"));break;case"countries":e.name&&(t+="\u2022 ".concat(e.name).concat(e.code?" (".concat(e.code,")"):"").concat(e.region?" - ".concat(e.region):"").concat(e.continent?" in ".concat(e.continent):"","\n"));break;case"projects":e.title&&(t+="\u2022 ".concat(e.title).concat(e.location?" (".concat(e.location,")"):"").concat(e.country_name?" in ".concat(e.country_name):"").concat(e.status?" [Status: ".concat(e.status,"]"):"").concat(e.short_description?" | ".concat(e.short_description.substring(0,100),"..."):"","\n"));break;case"jobs":e.title&&(t+="\u2022 ".concat(e.title).concat(e.location?" in ".concat(e.location):"").concat(e.level?" (".concat(e.level,")"):"").concat(e.deadline||e.lastDate?" | Deadline: ".concat(e.deadline||e.lastDate):"").concat(e.salary?" | Salary: ".concat(e.salary):"","\n"));break;case"events":e.title&&(t+="\u2022 ".concat(e.title).concat(e.start_date?" on ".concat(e.start_date):"").concat(e.location?" at ".concat(e.location):"").concat(e.country?" in ".concat(e.country):"").concat(e.is_paid?" (Paid event)":" (Free event)","\n"));break;case"blogs":e.title&&(t+="\u2022 ".concat(e.title).concat(e.author?" by ".concat(e.author):"").concat(e.created_at?" (".concat(e.created_at.split("T")[0],")"):"").concat(e.is_news?" [NEWS]":"","\n"));break;case"volunteer_forms":e.form_title&&(t+="\u2022 ".concat(e.country_name||"Country",": ").concat(e.form_title).concat(e.form_url?" - ".concat(e.form_url):"").concat(e.is_active?" [ACTIVE]":" [INACTIVE]","\n"));break;case"transaction_methods":e.name&&(t+="\u2022 ".concat(e.type,": ").concat(e.name).concat(e.country?" (".concat(e.country,")"):"").concat(e.fields?" | ".concat(e.fields.length," fields"):"","\n"));break;case"impacts":e.name&&(t+="\u2022 ".concat(e.name,": ").concat(e.current_value||0).concat(e.unit?" ".concat(e.unit):"").concat(e.is_featured?" [FEATURED]":"","\n"));break;case"partners":e.name&&(t+="\u2022 ".concat(e.name).concat(e.type?" (".concat(e.type,")"):"").concat(e.country?" - ".concat(e.country):"").concat(e.website?" | ".concat(e.website):"","\n"));break;case"country_contacts":e.country&&(t+="\u2022 ".concat(e.country,": ").concat(e.email||"No email").concat(e.phone?" | ".concat(e.phone):"").concat(e.physical_address?" | ".concat(e.physical_address):"","\n"));break;default:(e.name||e.title)&&(t+="\u2022 ".concat(e.name||e.title).concat(e.description?" | ".concat(e.description.substring(0,100),"..."):"","\n"))}}),t+="\n")})),t+="\n=== ACTION CAPABILITIES ===\n\ud83c\udfaf I can help users perform these actions:\n\u2705 Job Applications - Collect information and submit job applications\n\u2705 Event Registration - Register interest in events and workshops\n\u2705 Volunteer Applications - Help users apply for volunteer opportunities in their country\n\u2705 Partnership Inquiries - Submit partnership and collaboration proposals\n\u2705 Newsletter Subscription - Subscribe users to ACEF newsletter\n\u2705 Contact Form Submission - Submit general inquiries and messages\n\u2705 Donation Information - Provide donation methods and process guidance\n\n\ud83d\udce7 AUTO-NEWSLETTER SUBSCRIPTION:\n\u2022 When I collect a user's email for any purpose, they are automatically subscribed to our newsletter\n\u2022 This keeps them informed about ACEF's work and opportunities\n\n\ud83c\udfaf INFORMATION COLLECTION STRATEGY:\n\u2705 Always extract any information provided in user messages (emails, names, phone numbers, etc.)\n\u2705 When users express interest in actions, proactively start collecting required information\n\u2705 Ask ONE specific follow-up question at a time - don't overwhelm users\n\u2705 Acknowledge information received before asking for the next piece\n\u2705 Use natural, conversational language for follow-ups\n\u2705 Show progress when collecting multiple pieces of information",v.collectingInfo&&(t+="\n\n=== ACTIVE CONVERSATION CONTEXT ===\nUser Intent: ".concat(v.userIntent,"\nAction Type: ").concat(v.actionType,"\nStep: ").concat(v.currentStep+1,"/").concat(v.totalSteps,"\nInformation Collected: ").concat(JSON.stringify(v.collectedData,null,2),"\nMissing Required Fields: ").concat(v.missingFields.join(", "),"\n\nINSTRUCTIONS: \n- Continue collecting the missing information listed above\n- Ask for ONE piece of missing information at a time\n- Be encouraging and show progress\n- When all required info is collected, confirm details and proceed with submission")),t+="\n\n=== RESPONSE GUIDELINES ===\n\ud83c\udfaf ALWAYS be proactive and helpful\n\ud83c\udfaf Extract any information provided in user messages\n\ud83c\udfaf Ask natural follow-up questions when information is missing\n\ud83c\udfaf Show empathy and understanding\n\ud83c\udfaf Provide clear next steps\n\ud83c\udfaf Celebrate progress made in information collection\n\ud83c\udfaf For general questions, provide comprehensive answers using the data above\n\n\ud83d\udeab LIMITATIONS:\n- Cannot access external websites beyond ACEF's systems\n- Cannot make financial transactions directly\n- Always verify important information with users",t}(A),x=(0,m.A)({},v);if("information_request"===a.type||v.collectingInfo&&v.actionType===a.type){if(v.collectingInfo){const e=(0,m.A)((0,m.A)({},v.collectedData),o),n=H(e,v.actionType);if(x=(0,m.A)((0,m.A)({},v),{},{collectedData:e,missingFields:n,userEmail:e.email||v.userEmail}),o.email&&!v.userEmail&&setTimeout(()=>{(async e=>{if(!e||v.hasSubscribedToNewsletter)return!1;try{if((await M("".concat(F,"/newsletter/subscribe"),{method:"POST",body:JSON.stringify({email:e.toLowerCase().trim(),source:"chatbot_auto_subscribe"})})).success)return console.log("\u2705 Auto-subscribed user to newsletter:",e),w(e=>(0,m.A)((0,m.A)({},e),{},{hasSubscribedToNewsletter:!0})),setTimeout(()=>{r(e=>[...e,{from:"bot",text:"\ud83d\udce7 I've also subscribed you to our newsletter to keep you updated on ACEF's latest initiatives and opportunities!",isAutoSubscribe:!0}])},1e3),!0}catch(n){console.log("Newsletter subscription failed (non-critical):",n)}})(o.email)},2e3),0===n.length){console.log("\ud83c\udf89 All required information collected, processing...");const n=await(async(e,n)=>{try{let t="",a={};switch(e){case"job_inquiry":t="".concat(F,"/job-applications"),a={job_id:n.jobId||1,name:n.fullName||n.name,email:n.email,phone:n.phone||"",position:n.position||"General Application",cover_letter:n.coverLetter||"I am interested in the ".concat(n.position||"available"," position at ACEF."),experience:n.experience||"",location:n.location||""};break;case"event_inquiry":t="".concat(F,"/event-interests"),a={event_id:n.eventId||1,name:n.fullName||n.name,email:n.email,phone:n.phone||"",organization:n.organization||"",message:n.message||"I am interested in attending ".concat(n.eventName||"the event",".")};break;case"contact_inquiry":t="".concat(F,"/contacts"),a={name:n.name||n.fullName,email:n.email,subject:n.subject,message:n.message,phone:n.phone||"",organization:n.organization||""};break;case"newsletter_subscription":t="".concat(F,"/newsletter/subscribe"),a={email:n.email,name:n.name||n.fullName||"",source:"chatbot_subscription"};break;case"donation_inquiry":return{success:!0,message:"Thank you for your interest in donating ".concat(n.amount?"".concat(n.amount):""," to ACEF! Please visit our donation page or contact us directly to complete your donation. Our team will be in touch with you at ").concat(n.email," with detailed donation instructions."),data:n};case"partnership_inquiry":t="".concat(F,"/contacts"),a={name:n.contactPerson||n.name,email:n.email,subject:"Partnership Inquiry - ".concat(n.organizationName),message:"Organization: ".concat(n.organizationName,"\nPartnership Type: ").concat(n.partnershipType,"\nDescription: ").concat(n.description||"Partnership inquiry submitted via chatbot"),phone:n.phone||"",organization:n.organizationName};break;default:throw new Error("Submission not implemented for ".concat(e))}const r=await M(t,{method:"POST",body:JSON.stringify(a)});if(!1!==r.success)return{success:!0,message:r.message||U(e,n),data:r.data||r};throw new Error(r.message||"Submission failed")}catch(t){return console.error("Submission error:",t),{success:!1,message:t.message||"Failed to submit. Please try again.",error:t}}})(v.actionType,e);return n.success?(x={userIntent:null,collectingInfo:!1,collectedData:{},missingFields:[],waitingFor:null,actionType:null,currentStep:0,totalSteps:0,userEmail:null,hasSubscribedToNewsletter:!1},w(x),n.message):"\u274c ".concat(n.message,"\n\nPlease check your information and try again, or contact us directly via WhatsApp for immediate assistance at ").concat(f,".")}}}else{const e=L[a.type];e&&(x={userIntent:a.type,collectingInfo:!0,collectedData:o,missingFields:H(o,a.type),waitingFor:null,actionType:a.type,currentStep:0,totalSteps:e.steps.length,userEmail:o.email||null,hasSubscribedToNewsletter:!1})}w(x);let u=p;x.collectingInfo&&(u+="\n\n\ud83e\udd16 CURRENT TASK: Collecting information for ".concat(x.actionType,"\n\ud83d\udcca PROGRESS: ").concat(x.totalSteps-x.missingFields.length,"/").concat(x.totalSteps," steps complete\n\ud83d\udccb COLLECTED DATA: ").concat(JSON.stringify(x.collectedData,null,2),"\n\ud83c\udfaf MISSING FIELDS: ").concat(x.missingFields.join(", "),"\n\nIMPORTANT INSTRUCTIONS:\n- If the user has already provided information in previous messages, acknowledge it and don't ask again\n- Focus on collecting ONLY the missing fields: ").concat(x.missingFields.join(", "),"\n- If no fields are missing, confirm the details and proceed with submission\n- Be natural and conversational, not robotic")),localStorage.setItem("lastAPICall",i.toString());const g=await fetch(T,{method:"POST",headers:{Authorization:"Bearer ".concat(E),"Content-Type":"application/json",Accept:"application/json"},signal:c.signal,body:JSON.stringify({messages:[{role:"system",content:u},{role:"user",content:e}],model:W,temperature:.7,max_tokens:1e3,top_p:.9})});if(clearTimeout(d),429===g.status){const a=g.headers.get("Retry-After"),r=a?1e3*parseInt(a):t[n]||8e3;return n<3?(console.log("\u23f1\ufe0f Rate limited. Retrying in ".concat(r/1e3,"s... (").concat(n+1,"/").concat(3,")")),await new Promise(e=>setTimeout(e,r)),Y(e,n+1)):G(e,x)}if(!g.ok)throw new Error("HTTP error! status: ".concat(g.status));return(await g.json()).choices[0].message.content}catch(a){if(console.error("\u274c API Error:",a),"AbortError"===a.name&&n<3)return console.log("\u23f1\ufe0f Request timeout. Retrying... (".concat(n+1,"/").concat(3,")")),Y(e,n+1);if(n>=3||a.message.includes("429"))return G(e,v);throw a}},G=(e,n)=>{var t,a;const r=e.toLowerCase();if("volunteer_inquiry"===n.actionType||r.includes("volunteer")){var o;if(!n.collectedData.email)return"I'd love to help you with volunteering! To get started, could you please share your email address?";if(!n.collectedData.fullName)return"Great! What's your full name?";if(!n.collectedData.country)return"Perfect! Which country are you interested in volunteering in? We operate across Africa including Kenya, Uganda, Tanzania, Rwanda, Ethiopia, Cameroon, and others.";const e=((null===A||void 0===A||null===(o=A.fullDataMap)||void 0===o?void 0:o.get("volunteer_forms"))||[]).find(e=>{var t,a;return(null===(t=e.country_name)||void 0===t?void 0:t.toLowerCase())===(null===(a=n.collectedData.country)||void 0===a?void 0:a.toLowerCase())});return e&&e.is_active?"Perfect! Here's how you can volunteer with ACEF in ".concat(n.collectedData.country,":\n\n\ud83d\udccb **").concat(e.form_title,"**\n\n\ud83d\udd17 **Complete your application here:**\n").concat(e.form_url,"\n\nThank you for your interest in supporting ACEF's mission! \ud83c\udf0d"):"Thank you for your interest in volunteering in ".concat(n.collectedData.country||"your area","! Please contact us directly to discuss volunteer opportunities:\n\n\ud83d\udce7 Email: info@acef.org\n\ud83d\udcf1 WhatsApp: ").concat(f).concat("ACEF Support"!==y?" (".concat(y,")"):"","\n\ud83c\udf10 Website: https://acef.org")}if("job_inquiry"===n.actionType||r.includes("job")||r.includes("career")){var i;const e=(null===A||void 0===A||null===(i=A.fullDataMap)||void 0===i?void 0:i.get("jobs"))||[];if(e.length>0){const n=e.slice(0,3).map(e=>"\u2022 ".concat(e.title," ").concat(e.location?"in ".concat(e.location):"")).join("\n");return"I can help you with job opportunities at ACEF! Here are some current openings:\n\n".concat(n,"\n\nWhat type of position interests you? I can guide you through the application process.")}return"I can help you with job opportunities at ACEF! You can view our current openings on our website or contact us at info@acef.org. What type of position interests you?"}if("event_inquiry"===n.actionType||r.includes("event")){var s;const e=(null===A||void 0===A||null===(s=A.fullDataMap)||void 0===s?void 0:s.get("events"))||[];if(e.length>0){const n=e.slice(0,3).map(e=>"\u2022 ".concat(e.title," ").concat(e.start_date?"on ".concat(new Date(e.start_date).toLocaleDateString()):"")).join("\n");return"Here are some upcoming ACEF events:\n\n".concat(n,"\n\nWhich event interests you? I can help you register!")}return"I can help you with ACEF events and workshops! Contact us for information about upcoming events: info@acef.org"}if(r.includes("contact")||r.includes("email"))return"You can reach ACEF through:\n\n\ud83d\udce7 Email: info@acef.org\n\ud83d\udcf1 WhatsApp: ".concat(f).concat("ACEF Support"!==y?" (".concat(y,")"):"","\n\ud83c\udf10 Website: https://acef.org\n\nHow can we help you today?");if(r.includes("donate")||r.includes("support")){var l;const e=(null===A||void 0===A||null===(l=A.fullDataMap)||void 0===l?void 0:l.get("transaction_methods"))||[];return e.length>0?"Thank you for your interest in supporting ACEF! We have ".concat(e.length," donation methods available. You can find detailed donation information on our website at https://acef.org or contact us at info@acef.org for specific donation methods in your country."):"Thank you for your interest in supporting ACEF! You can find donation information on our website at https://acef.org or contact us at info@acef.org for specific donation methods in your country."}if(r.includes("partner")||r.includes("collaborate"))return"We're always interested in partnerships! Please contact us with details about your organization and proposed collaboration:\n\n\ud83d\udce7 Email: info@acef.org\n\ud83d\udcf1 WhatsApp: ${whatsappNumber}\n\nWhat type of partnership are you interested in?";const c=null!==A&&void 0!==A&&A.fullDataMap?"We operate in ".concat((null===(t=A.fullDataMap.get("countries"))||void 0===t?void 0:t.length)||"20+"," countries with ").concat((null===(a=A.fullDataMap.get("projects"))||void 0===a?void 0:a.length)||"numerous"," active projects."):"";return"I'm currently experiencing high traffic, but I'm here to help! ".concat(c,"\n\nHere's what I can assist you with:\n\n\ud83c\udf0d **Information about ACEF's work** across Africa\n\ud83d\udcbc **Career opportunities** and job applications  \n\ud83e\udd1d **Volunteer opportunities** in your country\n\ud83d\udcb0 **Donation and support** information\n\ud83d\udce7 **Contact information** and direct communication\n\nFor immediate assistance, contact us:\n\ud83d\udce7 info@acef.org\n\ud83d\udcf1 WhatsApp: ").concat(f,"\n\nWhat would you like to know more about?")},V=async()=>{if(!o.trim())return;const e=[...a,{from:"user",text:o}];r(e);const n=o;l(""),d(!0);try{const t=await Y(n);r([...e,{from:"bot",text:t}]);const a=t.includes("submitted")||t.includes("completed")||t.includes("sent successfully")||t.includes("registered successfully");if(t.includes("Complete your application here:")||t.includes("\ud83d\udd17")&&"volunteer_inquiry"===v.actionType||t.includes("volunteer form")){const e=t.match(/https:\/\/[^\s\n]+/);if(e){const n=e[0];setTimeout(()=>{r(e=>[...e,{from:"bot",text:"Click here to open your volunteer form: ".concat(n,"\n\nOr copy and paste the link above into your browser. Need assistance? Contact us directly via WhatsApp for immediate assistance at ").concat(f,"."),isVolunteerLink:!0,formUrl:n}])},1500)}setTimeout(()=>{w({userIntent:null,collectingInfo:!1,collectedData:{},missingFields:[],waitingFor:null,actionType:null,currentStep:0,totalSteps:0,userEmail:null,hasSubscribedToNewsletter:!1})},1e3)}else a&&setTimeout(()=>{w({userIntent:null,collectingInfo:!1,collectedData:{},missingFields:[],waitingFor:null,actionType:null,currentStep:0,totalSteps:0,userEmail:null,hasSubscribedToNewsletter:!1})},1e3)}catch(t){let n;console.error("API Error:",t),n=t.message.includes("429")||t.message.includes("Too Many Requests")?"I'm currently experiencing high traffic. I can still help you with basic information! For immediate assistance, contact us via WhatsApp at ".concat(f," or email info@acef.org."):"I'm experiencing technical difficulties. Please try again or contact us directly via WhatsApp for immediate assistance at ".concat(f,"."),r([...e,{from:"bot",text:n,isError:!0}])}finally{d(!1)}};(0,i.useEffect)(()=>{console.log("\ud83d\ude80 Enhanced ChatAssistant initializing..."),O();const e=setInterval(()=>{console.log("\ud83d\udd04 Periodic comprehensive data refresh"),O()},9e5);return()=>clearInterval(e)},[]);const J=e=>{let{className:n,buttonText:t,customMessage:a=null}=e;return(0,s.jsx)("button",{className:n,onClick:()=>{const e=encodeURIComponent(a||"Hello! I need assistance with ACEF services."),n=f.replace(/(?!^\+)\D/g,""),t="https://wa.me/".concat(n.replace("+",""),"?text=").concat(e);console.log("\ud83d\udcf1 Opening WhatsApp:",{number:n,description:y,url:t}),window.open(t,"_blank")},title:y,children:t})};return(0,s.jsxs)("div",{className:"chat-float-container",children:[(0,s.jsx)("style",{jsx:!0,children:"\n        .chat-float-container {\n          position: fixed;\n          bottom: 20px;\n          right: 20px;\n          z-index: 1000;\n          font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;\n        }\n\n        .chat-toggle-button {\n          width: 60px;\n          height: 60px;\n          border-radius: 50%;\n          background: linear-gradient(135deg, #2d7d32 0%, #4caf50 100%);\n          color: white;\n          border: none;\n          font-size: 24px;\n          cursor: pointer;\n          box-shadow: 0 4px 20px rgba(0,0,0,0.15);\n          transition: all 0.3s ease;\n          position: relative;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n        }\n\n        .chat-toggle-button:hover {\n          transform: scale(1.05);\n          box-shadow: 0 6px 25px rgba(0,0,0,0.2);\n        }\n\n        .chat-toggle-button img {\n          width: 35px;\n          height: 35px;\n        }\n\n        .data-status-indicator {\n          position: absolute;\n          top: -2px;\n          right: -2px;\n          width: 12px;\n          height: 12px;\n          border-radius: 50%;\n          background: ".concat((null===(e=A.fullDataMap)||void 0===e?void 0:e.size)>0?"#4caf50":z?"#ff9800":"#f44336",";\n          border: 2px solid white;\n        }\n\n        .progress-indicator {\n          position: absolute;\n          top: -2px;\n          left: -2px;\n          width: 16px;\n          height: 16px;\n          border-radius: 50%;\n          background: ").concat(v.collectingInfo?"#2196f3":"transparent",";\n          border: 2px solid white;\n          display: ").concat(v.collectingInfo?"flex":"none",";\n          align-items: center;\n          justify-content: center;\n          font-size: 10px;\n          color: white;\n          font-weight: bold;\n        }\n\n        .chat-box {\n          position: absolute;\n          bottom: 70px;\n          right: 0;\n          width: 380px;\n          height: 500px;\n          background: white;\n          border-radius: 12px;\n          box-shadow: 0 10px 40px rgba(0,0,0,0.1);\n          display: flex;\n          flex-direction: column;\n          overflow: hidden;\n        }\n\n        .chat-header {\n          background: linear-gradient(135deg, #2d7d32 0%, #4caf50 100%);\n          color: white;\n          padding: 16px;\n          text-align: center;\n          font-weight: 600;\n          position: relative;\n        }\n\n        .data-status {\n          font-size: 10px;\n          opacity: 0.9;\n          margin-top: 2px;\n        }\n\n        .conversation-progress {\n          background: rgba(255,255,255,0.1);\n          padding: 8px 12px;\n          margin-top: 8px;\n          border-radius: 6px;\n          font-size: 11px;\n          display: ").concat(v.collectingInfo?"block":"none",";\n        }\n\n        .progress-bar {\n          width: 100%;\n          height: 4px;\n          background: rgba(255,255,255,0.2);\n          border-radius: 2px;\n          margin-top: 4px;\n          overflow: hidden;\n        }\n\n        .progress-fill {\n          height: 100%;\n          background: white;\n          border-radius: 2px;\n          transition: width 0.3s ease;\n          width: ").concat(v.totalSteps>0?(v.currentStep+1)/v.totalSteps*100:0,"%;\n        }\n\n        .chat-messages {\n          flex: 1;\n          padding: 16px;\n          overflow-y: auto;\n          display: flex;\n          flex-direction: column;\n          gap: 12px;\n        }\n\n        .message {\n          max-width: 80%;\n          padding: 10px 14px;\n          border-radius: 18px;\n          word-wrap: break-word;\n          white-space: pre-wrap;\n          position: relative;\n          line-height: 1.4;\n        }\n\n        .message.user {\n          background: #2d7d32;\n          color: white;\n          align-self: flex-end;\n          margin-left: auto;\n        }\n\n        .message.bot {\n          background: #f1f3f4;\n          color: #333;\n          align-self: flex-start;\n        }\n\n        .message.bot.error {\n          background: #ffebee;\n          border-left: 4px solid #f44336;\n        }\n\n        .message.bot.auto-subscribe {\n          background: #e3f2fd;\n          border-left: 4px solid #2196f3;\n          font-size: 13px;\n          opacity: 0.9;\n        }\n\n        .info-extracted {\n          position: absolute;\n          top: -8px;\n          right: -8px;\n          background: #4caf50;\n          color: white;\n          border-radius: 50%;\n          width: 16px;\n          height: 16px;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          font-size: 10px;\n        }\n\n        .chat-input {\n          display: flex;\n          padding: 16px;\n          border-top: 1px solid #e9ecef;\n          gap: 8px;\n        }\n\n        .chat-input input {\n          flex: 1;\n          padding: 10px 14px;\n          border: 1px solid #ddd;\n          border-radius: 20px;\n          outline: none;\n          font-size: 14px;\n        }\n\n        .chat-input input:focus {\n          border-color: #4caf50;\n        }\n\n        .chat-input button {\n          padding: 10px 20px;\n          background: linear-gradient(135deg, #2d7d32 0%, #4caf50 100%);\n          color: white;\n          border: none;\n          border-radius: 20px;\n          cursor: pointer;\n          font-size: 14px;\n          font-weight: 500;\n        }\n\n        .chat-input button:hover:not(:disabled) {\n          background: linear-gradient(135deg, #1b5e20 0%, #388e3c 100%);\n        }\n\n        .chat-input button:disabled {\n          opacity: 0.6;\n          cursor: not-allowed;\n        }\n\n        .chat-options {\n          padding: 12px 16px;\n          border-top: 1px solid #e9ecef;\n          display: flex;\n          gap: 8px;\n          flex-wrap: wrap;\n        }\n\n        .chat-link-button {\n          flex: 1;\n          min-width: 80px;\n          padding: 8px 12px;\n          background: #fff8e1;\n          border: 1px solid #ffb300;\n          border-radius: 6px;\n          cursor: pointer;\n          font-size: 12px;\n          color: #2d7d32;\n          transition: all 0.2s ease;\n          font-weight: 500;\n        }\n\n        .chat-link-button:hover {\n          background: #ffecb3;\n          border-color: #ffa000;\n        }\n\n        .typing-indicator {\n          display: flex;\n          align-items: center;\n          gap: 4px;\n        }\n\n        .typing-dots {\n          display: flex;\n          gap: 2px;\n        }\n\n        .typing-dots span {\n          width: 6px;\n          height: 6px;\n          border-radius: 50%;\n          background: #4caf50;\n          animation: typing 1.4s infinite ease-in-out;\n        }\n\n        .typing-dots span:nth-child(1) { animation-delay: -0.32s; }\n        .typing-dots span:nth-child(2) { animation-delay: -0.16s; }\n\n        @keyframes typing {\n          0%, 80%, 100% { transform: scale(0); }\n          40% { transform: scale(1); }\n        }\n\n        @media (max-width: 480px) {\n          .chat-box {\n            width: 100vw;\n            height: 100vh;\n            bottom: 0;\n            right: 0;\n            border-radius: 0;\n          }\n        }\n      ")}),(0,s.jsxs)("button",{className:"chat-toggle-button",onClick:()=>{x(!p),p||u||(r([q()]),g(!0))},children:[(0,s.jsx)("img",{src:"/bird.png",alt:"ACEF Assistant",style:{transform:"scaleX(-1)"}}),(0,s.jsx)("div",{className:"data-status-indicator"}),(0,s.jsx)("div",{className:"progress-indicator",children:v.collectingInfo?"".concat(v.currentStep+1):""})]}),p&&(0,s.jsxs)("div",{className:"chat-box",children:[(0,s.jsxs)("div",{className:"chat-header",children:[(0,s.jsx)("div",{children:"ACEF AI Assistant"}),(0,s.jsx)("div",{className:"data-status",children:z?"Loading...":(null===(n=A.fullDataMap)||void 0===n?void 0:n.size)>0?"Full Access (".concat(A.fullDataMap.size," sources)"):"Limited data"}),v.collectingInfo&&(0,s.jsxs)("div",{className:"conversation-progress",children:[(0,s.jsxs)("div",{children:[null===(t=v.actionType)||void 0===t?void 0:t.replace("_"," ").replace(/\b\w/g,e=>e.toUpperCase())," - Step ",v.currentStep+1,"/",v.totalSteps]}),(0,s.jsx)("div",{className:"progress-bar",children:(0,s.jsx)("div",{className:"progress-fill"})}),(0,s.jsx)("div",{style:{fontSize:"10px",marginTop:"2px",opacity:"0.8"},children:v.missingFields.length>0?"Still need: ".concat(v.missingFields.slice(0,2).join(", ")).concat(v.missingFields.length>2?"...":""):"Information complete!"})]})]}),(0,s.jsxs)("div",{className:"chat-messages",children:[a.map((e,n)=>{var t;return(0,s.jsxs)("div",{className:"message ".concat(e.from," ").concat(e.isError?"error":""," ").concat(e.isAutoSubscribe?"auto-subscribe":""),children:[e.text,"user"===e.from&&a[n+1]&&(null===(t=a[n+1].text)||void 0===t?void 0:t.includes("thank"))&&(0,s.jsx)("div",{className:"info-extracted",title:"Information extracted",children:"!"})]},n)}),c&&(0,s.jsx)("div",{className:"message bot",children:(0,s.jsxs)("div",{className:"typing-indicator",children:[(0,s.jsx)("span",{children:"Processing"}),(0,s.jsxs)("div",{className:"typing-dots",children:[(0,s.jsx)("span",{}),(0,s.jsx)("span",{}),(0,s.jsx)("span",{})]})]})}),(0,s.jsx)("div",{ref:h})]}),(0,s.jsxs)("div",{className:"chat-input",children:[(0,s.jsx)("input",{value:o,onChange:e=>l(e.target.value),onKeyDown:e=>"Enter"===e.key&&!c&&V(),placeholder:v.collectingInfo&&v.missingFields.length>0?"Please provide your ".concat(v.missingFields[0],"..."):"Ask me anything or tell me what you'd like to do...",disabled:c}),(0,s.jsx)("button",{onClick:V,disabled:c||!o.trim(),children:c?"...":"Send"})]}),(0,s.jsxs)("div",{className:"chat-options",children:[(0,s.jsx)(J,{className:"chat-link-button",buttonText:"WhatsApp"}),(0,s.jsx)("button",{className:"chat-link-button",onClick:()=>O(),disabled:z,children:z?"Refreshing...":"Refresh"}),(0,s.jsx)("button",{className:"chat-link-button",onClick:()=>{r([q()]),w({userIntent:null,collectingInfo:!1,collectedData:{},missingFields:[],waitingFor:null,actionType:null,currentStep:0,totalSteps:0,userEmail:null,hasSubscribedToNewsletter:!1})},title:"Start new conversation",children:"Clear"}),v.collectingInfo&&(0,s.jsx)("button",{className:"chat-link-button",onClick:()=>{w({userIntent:null,collectingInfo:!1,collectedData:{},missingFields:[],waitingFor:null,actionType:null,currentStep:0,totalSteps:0,userEmail:null,hasSubscribedToNewsletter:!1})},style:{backgroundColor:"#ffebee",borderColor:"#f44336",color:"#d32f2f"},title:"Cancel current process",children:"Cancel"})]})]})]})},ln=()=>{const[e,n]=(0,i.useState)({dailyVisits:0,lifetimeVisits:0,visitDate:null,lastUpdated:null}),[t,a]=(0,i.useState)([]),[r,o]=(0,i.useState)([]),[l,c]=(0,i.useState)(!0),[d,p]=(0,i.useState)(null),m="http://localhost:5000/api",x=async()=>{try{c(!0);const e=await fetch("".concat(m,"/visits/stats"),{method:"GET",credentials:"include",headers:{"Content-Type":"application/json"}});if(!e.ok)throw new Error("HTTP error! status: ".concat(e.status));const t=await e.json();if(!t.success)throw new Error(t.message||"Failed to fetch visit statistics");n(t.data),p(null)}catch(e){console.error("Error fetching visit stats:",e),p(e.message)}finally{c(!1)}},u=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:7;try{const n=await fetch("".concat(m,"/visits/history?days=").concat(e),{method:"GET",credentials:"include",headers:{"Content-Type":"application/json"}});if(!n.ok)throw new Error("HTTP error! status: ".concat(n.status));const t=await n.json();t.success&&a(t.data.history)}catch(n){console.error("Error fetching visit history:",n)}},g=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:7;try{const n=await fetch("".concat(m,"/visits/trends?days=").concat(e),{method:"GET",credentials:"include",headers:{"Content-Type":"application/json"}});if(!n.ok)throw new Error("HTTP error! status: ".concat(n.status));const t=await n.json();t.success&&o(t.data)}catch(n){console.error("Error fetching visit trends:",n)}};(0,i.useEffect)(()=>{(async()=>{await x(),await u(),await g()})()},[]),(0,i.useEffect)(()=>{const e=setInterval(()=>{x()},3e4);return()=>clearInterval(e)},[]);const h=e=>e?new Date(e).toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"}):"N/A";return l?(0,s.jsx)("div",{className:"max-w-4xl mx-auto p-6",children:(0,s.jsxs)("div",{className:"animate-pulse",children:[(0,s.jsx)("div",{className:"h-8 bg-gray-200 rounded mb-6"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[(0,s.jsx)("div",{className:"h-32 bg-gray-200 rounded"}),(0,s.jsx)("div",{className:"h-32 bg-gray-200 rounded"})]}),(0,s.jsx)("div",{className:"h-64 bg-gray-200 rounded"})]})}):(0,s.jsxs)("div",{className:"max-w-4xl mx-auto p-6",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,s.jsx)("h1",{className:"text-3xl font-bold text-gray-800",children:"Website Analytics Dashboard"}),(0,s.jsxs)("div",{className:"flex items-center px-3 py-1 rounded-full text-sm ".concat(d?"bg-red-100 text-red-800":"bg-green-100 text-green-800"),children:[(0,s.jsx)("div",{className:"w-2 h-2 rounded-full mr-2 ".concat(d?"bg-red-400":"bg-green-400")}),d?"Offline":"Live"]})]}),d&&(0,s.jsxs)("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg",children:[(0,s.jsxs)("p",{className:"text-red-700",children:[(0,s.jsx)("strong",{children:"Connection Error:"})," ",d]}),(0,s.jsx)("button",{onClick:()=>{p(null),x()},className:"mt-2 text-sm text-red-600 hover:text-red-800 underline",children:"Retry Connection"})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[(0,s.jsx)("div",{className:"bg-gradient-to-br from-blue-500 to-blue-600 p-6 rounded-xl shadow-lg text-white",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-blue-100 text-sm font-medium",children:"Today's Visits"}),(0,s.jsx)("p",{className:"text-3xl font-bold",children:e.dailyVisits.toLocaleString()}),(0,s.jsx)("p",{className:"text-blue-100 text-xs mt-1",children:h(e.visitDate)})]}),(0,s.jsx)("div",{className:"text-4xl opacity-80",children:"\ud83d\udcc8"})]})}),(0,s.jsx)("div",{className:"bg-gradient-to-br from-green-500 to-green-600 p-6 rounded-xl shadow-lg text-white",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-green-100 text-sm font-medium",children:"Total Visits"}),(0,s.jsx)("p",{className:"text-3xl font-bold",children:e.lifetimeVisits.toLocaleString()}),(0,s.jsx)("p",{className:"text-green-100 text-xs mt-1",children:"All time tracking"})]}),(0,s.jsx)("div",{className:"text-4xl opacity-80",children:"\ud83c\udf0d"})]})})]}),(0,s.jsx)("div",{className:"mb-8",children:(0,s.jsxs)("div",{className:"flex flex-wrap gap-3",children:[(0,s.jsx)("button",{onClick:async()=>{try{const e=await fetch("".concat(m,"/visits/record"),{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"}});if(!e.ok)throw new Error("HTTP error! status: ".concat(e.status));const t=await e.json();if(!t.success)throw new Error(t.message||"Failed to record visit");n(t.data),p(null),await u(),await g()}catch(e){console.error("Error recording visit:",e),p(e.message)}},disabled:l,className:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 disabled:bg-gray-400 transition-colors font-medium",children:"Record New Visit"}),(0,s.jsx)("button",{onClick:x,disabled:l,className:"px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 disabled:bg-gray-400 transition-colors font-medium",children:"Refresh Data"}),(0,s.jsx)("button",{onClick:()=>u(30),className:"px-4 py-2 bg-purple-500 text-white rounded-lg hover:bg-purple-600 transition-colors font-medium",children:"Load 30 Days"})]})}),t.length>0&&(0,s.jsxs)("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden mb-8",children:[(0,s.jsx)("div",{className:"px-6 py-4 bg-gray-50 border-b",children:(0,s.jsx)("h2",{className:"text-xl font-semibold text-gray-800",children:"Recent Visit History"})}),(0,s.jsx)("div",{className:"overflow-x-auto",children:(0,s.jsxs)("table",{className:"w-full",children:[(0,s.jsx)("thead",{className:"bg-gray-100",children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Date"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Daily Visits"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Day of Week"})]})}),(0,s.jsx)("tbody",{className:"divide-y divide-gray-200",children:t.map((e,n)=>(0,s.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,s.jsx)("td",{className:"px-6 py-4 text-sm text-gray-900",children:h(e.visit_date)}),(0,s.jsx)("td",{className:"px-6 py-4 text-sm font-medium text-gray-900",children:e.daily_count.toLocaleString()}),(0,s.jsx)("td",{className:"px-6 py-4 text-sm text-gray-500",children:new Date(e.visit_date).toLocaleDateString("en-US",{weekday:"long"})})]},n))})]})})]}),r.length>0&&(0,s.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[(0,s.jsx)("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Visit Trends"}),(0,s.jsx)("div",{className:"space-y-4",children:r.map((e,n)=>(0,s.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[(0,s.jsx)("span",{className:"text-sm font-medium text-gray-700",children:h(e.visit_date)}),(0,s.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,s.jsxs)("span",{className:"text-sm text-gray-600",children:["Daily: ",e.daily_count]}),(0,s.jsxs)("span",{className:"text-sm font-medium text-blue-600",children:["Total: ",e.cumulative_total]})]})]},n))})]}),e.lastUpdated&&(0,s.jsxs)("div",{className:"mt-6 text-center text-sm text-gray-500",children:["Last updated: ",(f=e.lastUpdated,f?new Date(f).toLocaleString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A")]})]});var f};var cn=t(9722);const dn=()=>{const{colors:e,isDarkMode:n}=y(),[t,a]=(0,i.useState)([]),[r,o]=(0,i.useState)(!0),[l,c]=(0,i.useState)(null),[d,p]=(0,i.useState)(new Set),[m,x]=(0,i.useState)(new Set);(0,i.useRef)(null);(0,i.useEffect)(()=>{(async()=>{try{o(!0),c(null);const e=(await cn.A.get("".concat(Ge,"/partners"),{withCredentials:!0})).data.sort((e,n)=>e.featured&&!n.featured?-1:!e.featured&&n.featured?1:e.name.localeCompare(n.name));a(e)}catch(e){console.error("Error fetching partners:",e),c("Failed to load partners")}finally{o(!1)}})()},[]);const u=t.filter(e=>"partner"===(e.type||"").toLowerCase()||"both"===(e.type||"").toLowerCase()),g=t.filter(e=>"accreditator"===(e.type||"").toLowerCase()||"both"===(e.type||"").toLowerCase());if((0,i.useEffect)(()=>{0===u.length&&0===g.length||(p(new Set(u.map((e,n)=>n))),x(new Set(g.map((e,n)=>n))))},[u.length,g.length]),r)return(0,s.jsx)("section",{style:{backgroundColor:e.background,padding:"60px 0",width:"100%",margin:0},children:(0,s.jsxs)("div",{style:{maxWidth:"1200px",margin:"0 auto",textAlign:"center",padding:"0 20px"},children:[(0,s.jsx)("div",{style:{display:"inline-block",width:"40px",height:"40px",border:"4px solid ".concat(e.border),borderTop:"4px solid ".concat(e.primary),borderRadius:"50%",animation:"spin 1s linear infinite"}}),(0,s.jsx)("p",{style:{marginTop:"20px",color:e.textSecondary,fontSize:"16px"},children:"Loading our partners and accreditors..."})]})});if(l)return(0,s.jsx)("section",{style:{backgroundColor:e.background,padding:"60px 0",width:"100%",margin:0},children:(0,s.jsxs)("div",{style:{maxWidth:"1200px",margin:"0 auto",textAlign:"center",padding:"0 20px"},children:[(0,s.jsx)("p",{style:{color:e.error,fontSize:"16px"},children:l}),(0,s.jsx)("button",{onClick:()=>window.location.reload(),style:{marginTop:"16px",padding:"10px 20px",backgroundColor:e.primary,color:e.white,border:"none",borderRadius:"6px",cursor:"pointer"},children:"Try Again"})]})});if(!t.length)return null;const h=(n,t)=>t.length?(0,s.jsxs)("div",{style:{marginBottom:"80px"},children:[(0,s.jsx)("div",{style:{borderBottom:"2px solid ".concat(e.border),marginBottom:"40px",paddingBottom:"10px"},children:(0,s.jsx)("h2",{style:{fontSize:"24px",fontWeight:"600",color:e.text,margin:0,fontFamily:"system-ui, -apple-system, sans-serif"},children:n})}),(0,s.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(160px, 1fr))",gap:"20px",maxWidth:"1000px",margin:"0 auto",justifyItems:"center"},children:t.map((n,t)=>((n,t)=>(0,s.jsxs)(pe.P.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3,delay:.1*t},style:{display:"flex",alignItems:"center",justifyContent:"center",padding:"10px",cursor:"pointer"},whileHover:{scale:1.05,transition:{duration:.2}},children:[(0,s.jsx)("img",{src:"".concat(Ve,"/uploads/partners/").concat(n.logo),alt:n.name,style:{maxWidth:"160px",maxHeight:"80px",objectFit:"contain",transition:"filter 0.3s ease"},onError:e=>{e.target.style.display="none",e.target.nextSibling.style.display="flex"}}),(0,s.jsx)("div",{style:{display:"none",alignItems:"center",justifyContent:"center",width:"120px",height:"60px",fontSize:"12px",color:e.textSecondary,textAlign:"center",border:"1px dashed ".concat(e.border),borderRadius:"4px"},children:n.name})]},n.id))(n,t))})]}):null;return(0,s.jsxs)("section",{style:{backgroundColor:e.background,padding:"60px 0",width:"100%",margin:0},children:[(0,s.jsxs)("div",{style:{textAlign:"center",marginBottom:"80px",padding:"0 20px"},children:[(0,s.jsxs)(pe.P.h1,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!1},transition:{duration:.6},style:{fontSize:"48px",fontWeight:"800",lineHeight:"1.1",color:e.primary,marginBottom:"24px",fontFamily:'"Nunito Sans", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif'},children:["Our Affiliations",(0,s.jsx)(pe.P.div,{initial:{width:0},whileInView:{width:"120px"},viewport:{once:!1},transition:{duration:.8,delay:.3},style:{height:"4px",backgroundColor:e.secondary,margin:"16px auto 0",borderRadius:"2px"}})]}),(0,s.jsx)(pe.P.p,{initial:{opacity:0},whileInView:{opacity:1},viewport:{once:!1},transition:{duration:.6,delay:.2},style:{fontSize:"18px",color:e.textSecondary,marginTop:"20px",fontWeight:"300",fontFamily:"inherit"},children:"Building Stronger Networks \u2022 Driven by Impact"})]}),(0,s.jsxs)("div",{style:{maxWidth:"1200px",margin:"0 auto",padding:"0 40px"},children:[u.length>0&&h("Partners",u),g.length>0&&(0,s.jsx)(pe.P.div,{initial:{opacity:0,y:40},whileInView:{opacity:1,y:0},viewport:{once:!1,amount:.3},transition:{duration:.6,ease:"easeOut"},children:h("Accreditors",g)})]}),(0,s.jsx)("style",{jsx:!0,children:"\n        @keyframes spin {\n          0% { transform: rotate(0deg); }\n          100% { transform: rotate(360deg); }\n        }\n        \n        @media (max-width: 768px) {\n          section {\n            padding: 40px 0 !important;\n          }\n          \n          section > div:last-child {\n            padding: 0 20px !important;\n          }\n          \n          h2 {\n            font-size: 20px !important;\n          }\n          \n          img {\n            max-width: 100px !important;\n            max-height: 50px !important;\n          }\n        }\n        \n        @media (max-width: 480px) {\n          section > div:last-child {\n            padding: 0 16px !important;\n          }\n          \n          .logo-grid {\n            grid-template-columns: repeat(2, 1fr) !important;\n          }\n        }\n      "})]})},pn="HomePage_homepage__EM7Rg",mn="HomePage_container__0yAm2",xn="HomePage_hero__uOSHw",un="HomePage_heroSlider__Pqygh",gn="HomePage_heroSlide__wSq3f",hn="HomePage_active__N1+Bw",fn="HomePage_heroContent__5nfmT",bn="HomePage_heroText__KqHk4",yn="HomePage_heroActions__MaT0G",jn=()=>{const{theme:e,colors:n}=y();return(0,s.jsxs)("section",{className:"join-movement","data-theme":e.name,children:[(0,s.jsx)("div",{className:"join-movement__texture-overlay"}),(0,s.jsx)("div",{className:"join-movement__container",children:(0,s.jsxs)("div",{className:"join-movement__content",children:[(0,s.jsx)("h2",{className:"join-movement__title",children:"Shape Africa's Sustainable Future"}),(0,s.jsx)("p",{className:"join-movement__description",children:"Join industry leaders, policymakers, and innovators in driving transformative change across the continent. Your partnership creates lasting impact."}),(0,s.jsxs)("div",{className:"join-movement__actions",children:[(0,s.jsxs)(a.N_,{to:"/get-involved",className:"join-movement__button join-movement__button--primary",children:[(0,s.jsx)("span",{children:"Join Us"}),(0,s.jsx)("svg",{className:"join-movement__button-icon",viewBox:"0 0 24 24",fill:"none",children:(0,s.jsx)("path",{d:"M5 12h14m-7-7l7 7-7 7",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})]}),(0,s.jsx)(a.N_,{to:"/about-us",className:"join-movement__button join-movement__button--secondary",children:(0,s.jsx)("span",{children:"Learn More"})})]})]})})]})},vn=()=>{const[e,n]=(0,i.useState)([]),[t,a]=(0,i.useState)(!1),[r,o]=(0,i.useState)(""),{colors:l,isDarkMode:c}=y();(0,i.useEffect)(()=>{(async()=>{try{const e=(await cn.A.get("".concat(Ge,"/team"),{withCredentials:!0})).data,t=Array.isArray(e)?e:e.data||e.members||[];n(t)}catch(e){console.error("Error fetching team members:",e)}})()},[]);const d=e.find(e=>{var n;return"founder"===(null===(n=e.department)||void 0===n?void 0:n.trim().toLowerCase())}),p={section:{minHeight:"100vh",display:"flex",alignItems:"center",position:"relative",background:c?l.background:l.white,fontFamily:'"Nunito Sans", -apple-system, BlinkMacSystemFont, sans-serif',padding:"0"},backgroundPattern:{position:"absolute",top:0,left:0,right:0,bottom:0,opacity:c?.03:.02,background:"\n        radial-gradient(circle at 25% 25%, ".concat(l.primary," 1px, transparent 1px),\n        radial-gradient(circle at 75% 75%, ").concat(l.accent," 1px, transparent 1px)\n      "),backgroundSize:"60px 60px",backgroundPosition:"0 0, 30px 30px"},container:{maxWidth:"1200px",margin:"0 auto",padding:"120px 24px",display:"grid",gridTemplateColumns:"1fr 400px",gap:"80px",alignItems:"center",position:"relative",zIndex:2},leftContent:{maxWidth:"600px"},rightContent:{display:"flex",justifyContent:"center",alignItems:"center",position:"relative"},sectionLabel:{display:"inline-block",fontSize:"12px",fontWeight:700,letterSpacing:"0.1em",textTransform:"uppercase",color:l.primary,backgroundColor:"".concat(l.primary,c?"15":"08"),padding:"8px 16px",borderRadius:"20px",marginBottom:"32px",border:"1px solid ".concat(c?l.primary+"25":l.primary+"15")},title:{fontSize:"clamp(36px, 5vw, 56px)",fontWeight:800,color:c?l.text:l.primary,lineHeight:"1.1",marginBottom:"24px",letterSpacing:"-0.02em",fontFamily:'"Nunito Sans", sans-serif'},titleAccent:{background:"linear-gradient(135deg, ".concat(l.primary," 0%, ").concat(l.accent," 100%)"),backgroundClip:"text",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",position:"relative"},subtitle:{fontSize:"16px",color:c?l.textSecondary:l.gray600,lineHeight:"1.7",marginBottom:"48px",fontWeight:400,maxWidth:"520px"},buttonContainer:{display:"flex",gap:"16px",alignItems:"flex-start",flexWrap:"wrap"},primaryButton:{display:"inline-flex",alignItems:"center",justifyContent:"center",padding:"14px 28px",backgroundColor:l.primary,color:l.white,border:"none",borderRadius:"12px",fontSize:"14px",fontWeight:600,fontFamily:'"Nunito Sans", sans-serif',cursor:"pointer",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",textDecoration:"none",letterSpacing:"0.01em",boxShadow:"0 4px 20px ".concat(l.primary,"25"),position:"relative",overflow:"hidden"},secondaryButton:{display:"inline-flex",alignItems:"center",justifyContent:"center",padding:"14px 28px",backgroundColor:"transparent",color:c?l.text:l.primary,border:"1.5px solid ".concat(c?l.border:l.primary+"25"),borderRadius:"12px",fontSize:"14px",fontWeight:600,fontFamily:'"Nunito Sans", sans-serif',cursor:"pointer",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",textDecoration:"none",letterSpacing:"0.01em",position:"relative",overflow:"hidden"},imageContainer:{position:"relative",borderRadius:"24px",overflow:"hidden",background:c?"linear-gradient(145deg, ".concat(l.surface,", ").concat(l.surfaceSecondary,")"):"linear-gradient(145deg, ".concat(l.white,", ").concat(l.gray50,")"),padding:"4px",boxShadow:c?"0 20px 60px ".concat(l.black,"40, 0 8px 25px ").concat(l.black,"20"):"0 20px 60px ".concat(l.primary,"15, 0 8px 25px ").concat(l.primary,"08")},founderImage:{width:"400px",height:"480px",objectFit:"cover",borderRadius:"20px",position:"relative",filter:"contrast(1.05) brightness(1.02)"},imageOverlay:{position:"absolute",bottom:"16px",left:"16px",right:"16px",background:c?"rgba(0, 0, 0, 0.7)":"rgba(255, 255, 255, 0.9)",backdropFilter:"blur(12px)",borderRadius:"12px",padding:"16px 20px",border:"1px solid ".concat(c?l.border:l.gray200)},overlayName:{margin:"0 0 4px 0",fontSize:"16px",fontWeight:700,color:c?l.text:l.primary,lineHeight:"1.2"},overlayPosition:{margin:0,fontSize:"13px",color:c?l.textSecondary:l.gray600,fontWeight:500,lineHeight:"1.2"},modal:{position:"fixed",top:0,left:0,width:"100%",height:"100%",backgroundColor:c?"rgba(0, 0, 0, 0.8)":"rgba(0, 0, 0, 0.6)",backdropFilter:"blur(20px)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3,padding:"20px"},modalContent:{backgroundColor:c?l.surface:l.white,backdropFilter:"blur(20px)",padding:"40px",borderRadius:"20px",maxWidth:"700px",width:"100%",maxHeight:"80vh",overflowY:"auto",fontFamily:'"Nunito Sans", sans-serif',lineHeight:"1.7",color:c?l.text:l.primary,boxShadow:c?"0 40px 120px ".concat(l.black,"60, 0 20px 60px ").concat(l.black,"40"):"0 40px 120px ".concat(l.primary,"20, 0 20px 60px ").concat(l.primary,"15"),border:"1px solid ".concat(c?l.border:l.gray200),position:"relative"},modalHeader:{marginTop:0,marginBottom:"32px",fontWeight:800,color:c?l.text:l.primary,fontSize:"28px",letterSpacing:"-0.01em",textAlign:"center",lineHeight:"1.2"},modalText:{whiteSpace:"pre-wrap",color:c?l.textSecondary:l.gray700,fontSize:"15px",lineHeight:"1.7",fontWeight:400},closeButton:{marginTop:"32px",padding:"12px 24px",backgroundColor:l.primary,color:l.white,border:"none",borderRadius:"10px",fontWeight:600,cursor:"pointer",fontFamily:'"Nunito Sans", sans-serif',fontSize:"14px",boxShadow:"0 4px 20px ".concat(l.primary,"25"),transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",display:"block",margin:"32px auto 0"},"@media (max-width: 1024px)":{container:{gridTemplateColumns:"1fr",gap:"60px",textAlign:"center",padding:"100px 24px"},founderImage:{width:"350px",height:"420px"}},"@media (max-width: 768px)":{container:{padding:"80px 20px",gap:"48px"},founderImage:{width:"300px",height:"360px"},buttonContainer:{justifyContent:"center"},modalContent:{padding:"32px 24px",borderRadius:"16px"},modalHeader:{fontSize:"24px"},modalText:{fontSize:"14px"}},"@media (max-width: 480px)":{buttonContainer:{flexDirection:"column",alignItems:"center",width:"100%"},primaryButton:{width:"100%",maxWidth:"280px"},secondaryButton:{width:"100%",maxWidth:"280px"}}},m={hidden:{opacity:0,y:30,filter:"blur(8px)"},visible:{opacity:1,y:0,filter:"blur(0px)",transition:{duration:.8,ease:[.25,.46,.45,.94]}}};return(0,s.jsxs)("section",{style:p.section,children:[(0,s.jsx)("div",{style:p.backgroundPattern}),(0,s.jsxs)(pe.P.div,{style:p.container,variants:{hidden:{opacity:0},visible:{opacity:1,transition:{duration:.6,staggerChildren:.2}}},initial:"hidden",whileInView:"visible",viewport:{once:!0,margin:"-100px"},children:[(0,s.jsxs)("div",{style:p.leftContent,children:[(0,s.jsx)(pe.P.div,{variants:m,style:p.sectionLabel,children:"Leadership"}),(0,s.jsxs)(pe.P.h1,{style:p.title,variants:m,children:["A message from our"," ",(0,s.jsx)("span",{style:p.titleAccent,children:"Founder"})]}),(0,s.jsx)(pe.P.p,{style:p.subtitle,variants:m,children:"Discover the vision and commitment driving ACEF's mission to create sustainable solutions for climate challenges across Africa, fostering community resilience and environmental harmony."}),(0,s.jsx)(pe.P.div,{style:p.buttonContainer,variants:m,children:(0,s.jsx)(pe.P.button,{style:p.primaryButton,onClick:()=>{o("\n      Dear Friends and Supporters,\n\n      Welcome to the Africa Climate and Environment Foundation (ACEF)!\n\n      As the founder of ACEF, it is with immense pride and a profound sense of purpose that I share our journey with you. Our organization was born out of a deep conviction that the future of Africa lies in the hands of its vibrant, dedicated youth, women, and grassroots communities.\n\n      Since our registration on March 31st, 2021, ACEF has grown into a network of over 2,000 passionate individuals working tirelessly to address climate change, environmental degradation, and poverty across Africa. We believe in the power of collective action and unwavering commitment to create lasting change.\n\n      Our mission extends beyond just addressing environmental challenges - we aim to bridge the hunger and poverty gap, build community resilience, protect our precious environment, promote peace, and conserve the vital natural resources that sustain life across our beautiful continent.\n\n      I invite you to join us in this vital movement. Together, we can build a resilient, thriving Africa where communities flourish in harmony with nature.\n\n      Thank you for your support and belief in our mission.\n\n      Warm regards,\n      ".concat((null===d||void 0===d?void 0:d.name)||"Founder","\n      ").concat((null===d||void 0===d?void 0:d.position)||"Founder & CEO","\n      Africa Climate and Environment Foundation (ACEF)\n    ")),a(!0)},whileHover:{scale:1.02,backgroundColor:l.primaryDark,boxShadow:"0 6px 25px ".concat(l.primary,"35"),transition:{duration:.2}},whileTap:{scale:.98,transition:{duration:.1}},children:"Read Founder's Message"})})]}),(0,s.jsx)("div",{style:p.rightContent,children:(0,s.jsxs)(pe.P.div,{style:p.imageContainer,variants:{hidden:{opacity:0,scale:.9,filter:"blur(10px)"},visible:{opacity:1,scale:1,filter:"blur(0px)",transition:{duration:1,delay:.4,ease:[.25,.46,.45,.94]}}},whileHover:{scale:1.02,transition:{duration:.4}},children:[(0,s.jsx)(pe.P.img,{src:null!==d&&void 0!==d&&d.image_url?"".concat(Ve).concat(d.image_url):"https://images.unsplash.com/photo-1594736797933-d0401ba2fe65?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80",alt:(null===d||void 0===d?void 0:d.name)||"ACEF Founder",style:p.founderImage,whileHover:{scale:1.05,transition:{duration:.3}}}),(0,s.jsxs)("div",{style:p.imageOverlay,children:[(0,s.jsx)("h3",{style:p.overlayName,children:(null===d||void 0===d?void 0:d.name)||"Founder"}),(0,s.jsx)("p",{style:p.overlayPosition,children:(null===d||void 0===d?void 0:d.position)||"Founder & CEO"})]})]})})]}),(0,s.jsx)(me.N,{children:t&&(0,s.jsx)(pe.P.div,{style:p.modal,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},onClick:()=>a(!1),children:(0,s.jsxs)(pe.P.div,{style:p.modalContent,variants:{hidden:{opacity:0,scale:.9,y:40},visible:{opacity:1,scale:1,y:0,transition:{duration:.4,ease:[.25,.46,.45,.94]}},exit:{opacity:0,scale:.9,y:-40,transition:{duration:.3,ease:[.25,.46,.45,.94]}}},initial:"hidden",animate:"visible",exit:"exit",onClick:e=>e.stopPropagation(),children:[(0,s.jsx)("h2",{style:p.modalHeader,children:"A Message from Our Founder"}),(0,s.jsx)("pre",{style:p.modalText,children:r}),(0,s.jsx)(pe.P.button,{style:p.closeButton,onClick:()=>a(!1),whileHover:{scale:1.02,backgroundColor:l.primaryDark,boxShadow:"0 6px 25px ".concat(l.primary,"35"),transition:{duration:.2}},whileTap:{scale:.98,transition:{duration:.1}},children:"Close"})]})})})]})},wn=e=>{let{onStartClick:n}=e;const[t,a]=(0,i.useState)(!1),{colors:r,isDarkMode:o}=y(),l=["/heroimageget.jpg","./heroimageget.jpg","heroimageget.jpg","/public/heroimageget.jpg","/heroimageget.jpg"],[c,d]=(0,i.useState)(0),[p,m]=(0,i.useState)([]),x="https://picsum.photos/800/1000?random=".concat(Date.now());return(0,s.jsxs)("div",{className:"image-container",children:[(0,s.jsx)("style",{children:"\n        .image-container {\n          position: relative;\n          width: 100%;\n          min-height: 100vh;\n\n          background-color: ".concat(r.surface,";\n          margin-top: 80px;\n          display: flex;\n          align-items: center;\n          justify-content: flex-start;\n          overflow: hidden;\n          font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;\n        }\n        \n        .content-wrapper {\n          position: relative;\n          width: 100%;\n          height: 100vh;\n          display: flex;\n          align-items: center;\n          justify-content: space-between;\n        }\n        \n        .text-content {\n          position: relative;\n          z-index: 10;\n          flex: 0 0 45%;\n          padding: 0 5%;\n          color: ").concat(r.text,";\n          backdrop-filter: blur(2px);\n        }\n        \n        .text-content h1 {\n          font-size: clamp(1.5rem, 4vw, 3rem);\n          font-weight: 800;\n          margin-bottom: 1.5rem;\n          color: ").concat(r.primary,";\n          line-height: 1.1;\n          text-shadow: ").concat(o?"0 2px 4px rgba(0, 0, 0, 0.5)":"0 2px 4px rgba(255, 255, 255, 0.9)",";\n          letter-spacing: -0.02em;\n        }\n        \n        .text-content .subtitle {\n          font-size: clamp(0.5rem, 1vw, 1.0rem);\n          font-weight: 600;\n          color: ").concat(r.secondary,";\n          margin-bottom: 1rem;\n          text-transform: uppercase;\n          letter-spacing: 0.1em;\n        }\n        \n        .text-content p {\n          font-size: clamp(1rem, 0.8vw, 0.5rem);\n          line-height: 1.7;\n          margin-bottom: 2.5rem;\n          color: ").concat(r.textSecondary,";\n          font-weight: 400;\n          text-shadow: ").concat(o?"0 1px 2px rgba(0, 0, 0, 0.5)":"0 1px 2px rgba(255, 255, 255, 0.8)",";\n        }\n        \n        .button-group {\n          display: flex;\n          gap: 1.5rem;\n          align-items: center;\n          flex-wrap: wrap;\n        }\n        \n        .cta-button {\n          background-color: ").concat(r.primary,";\n          color: ").concat(r.white||"#ffffff",';\n          padding: 12px 24px;\n          border-radius: 12px;\n          border: none;\n          font-weight: 600;\n          font-size: 16px;\n          cursor: pointer;\n          display: inline-flex;\n          align-items: center;\n          gap: 8px;\n          transition: all 0.3s ease;\n          font-family: "Nunito Sans", sans-serif;\n          position: relative;\n          overflow: hidden;\n          text-decoration: none;\n          box-shadow: 0 4px 15px rgba(250, 207, 60, 0.3);\n        }\n        \n        .secondary-button {\n          background-color: transparent;\n          color: ').concat(r.primary,";\n          border: 2px solid ").concat(r.primary,';\n          padding: 10px 22px;\n          border-radius: 12px;\n          font-weight: 600;\n          font-size: 16px;\n          cursor: pointer;\n          display: inline-flex;\n          align-items: center;\n          gap: 8px;\n          transition: all 0.3s ease;\n          font-family: "Nunito Sans", sans-serif;\n          position: relative;\n          overflow: hidden;\n          text-decoration: none;\n          box-shadow: 0 4px 15px ').concat(o?"rgba(250, 207, 60, 0.1)":"rgba(250, 207, 60, 0.2)",";\n        }\n        \n        .cta-button::before,\n        .secondary-button::before {\n          content: '';\n          position: absolute;\n          top: 0;\n          left: -100%;\n          width: 100%;\n          height: 100%;\n          background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);\n          transition: left 0.6s ease;\n        }\n        \n        .cta-button:hover::before,\n        .secondary-button:hover::before {\n          left: 100%;\n        }\n        \n        .cta-button:hover {\n          transform: translateY(-3px) scale(1.02);\n          box-shadow: 0 12px 40px rgba(250, 207, 60, 0.5);\n          filter: brightness(1.1);\n        }\n        \n        .secondary-button:hover {\n          transform: translateY(-3px) scale(1.02);\n          background-color: ").concat(r.primary,";\n          color: ").concat(r.white||"#ffffff",";\n          box-shadow: 0 12px 40px rgba(250, 207, 60, 0.4);\n        }\n        \n        .cta-button:active,\n        .secondary-button:active {\n          transform: translateY(-1px) scale(1.01);\n        }\n        \n        .image-section {\n          position: absolute;\n          right: 0;\n          top: 0;\n          width: 65%;\n          height: 100vh;\n          z-index: 1;\n        }\n        \n        .main-image {\n          width: 100%;\n          height: 100%;\n          object-fit: cover;\n          object-position: center;\n        }\n        \n        .image-overlay {\n          position: absolute;\n          top: 0;\n          left: 0;\n          right: 0;\n          bottom: 0;\n          z-index: 2;\n          background: ").concat("linear-gradient(\n                  90deg,\n                  ".concat(r.surface,o?" 0%,\n                  rgba(18, 18, 18, 0.98) 5%,\n                  rgba(18, 18, 18, 0.85) 12%,\n                  rgba(18, 18, 18, 0.7) 20%,\n                  rgba(18, 18, 18, 0.5) 30%,\n                  rgba(18, 18, 18, 0.3) 40%,\n                  rgba(18, 18, 18, 0.1) 50%,\n                  transparent 60%\n                )":" 0%,\n                  rgba(255, 255, 255, 0.98) 5%,\n                  rgba(255, 255, 255, 0.85) 12%,\n                  rgba(255, 255, 255, 0.7) 20%,\n                  rgba(255, 255, 255, 0.5) 30%,\n                  rgba(255, 255, 255, 0.3) 40%,\n                  rgba(255, 255, 255, 0.1) 50%,\n                  transparent 60%\n                )"),";\n        }\n        \n        .bottom-fade {\n          position: absolute;\n          bottom: 0;\n          left: 0;\n          right: 0;\n          height: 100px;\n          background: linear-gradient(\n            to bottom,\n            transparent 0%,\n            ").concat(o?"rgba(18, 18, 18, 0.1)":"rgba(255, 255, 255, 0.1)"," 30%,\n            ").concat(o?"rgba(18, 18, 18, 0.3)":"rgba(255, 255, 255, 0.3)"," 60%,\n            ").concat(o?"rgba(18, 18, 18, 0.6)":"rgba(255, 255, 255, 0.6)"," 80%,\n            ").concat(o?"rgba(18, 18, 18, 0.9)":"rgba(255, 255, 255, 0.9)"," 100%\n          );\n          z-index: 5;\n          pointer-events: none;\n        }\n        \n        .futuristic-overlay {\n          position: absolute;\n          top: 0;\n          left: 0;\n          right: 0;\n          bottom: 0;\n          background: linear-gradient(\n            45deg,\n            ").concat(o?"rgba(10, 69, 28, 0.08)":"rgba(10, 69, 28, 0.05)"," 0%,\n            transparent 30%,\n            ").concat(o?"rgba(250, 207, 60, 0.05)":"rgba(250, 207, 60, 0.03)"," 70%,\n            transparent 100%\n          );\n          z-index: 3;\n          pointer-events: none;\n        }\n        \n        .accent-elements {\n          position: absolute;\n          top: 20%;\n          right: 10%;\n          width: 200px;\n          height: 200px;\n          z-index: 4;\n          pointer-events: none;\n        }\n        \n        .accent-circle {\n          position: absolute;\n          border: 2px solid rgba(250, 207, 60, ").concat(o?"0.4":"0.3",");\n          border-radius: 50%;\n          animation: pulse 3s infinite ease-in-out;\n        }\n        \n        .accent-circle:nth-child(1) {\n          width: 80px;\n          height: 80px;\n          top: 0;\n          right: 0;\n        }\n        \n        .accent-circle:nth-child(2) {\n          width: 120px;\n          height: 120px;\n          top: 40px;\n          right: 60px;\n          animation-delay: -1s;\n        }\n        \n        .fallback-indicator {\n          position: absolute;\n          top: 30px;\n          right: 30px;\n          background: rgba(10, 69, 28, 0.9);\n          color: #fff;\n          padding: 0.8rem 1.2rem;\n          border-radius: 25px;\n          font-size: 0.9rem;\n          z-index: 15;\n          backdrop-filter: blur(10px);\n          font-weight: 600;\n          border: 1px solid rgba(250, 207, 60, 0.3);\n        }\n        \n        .local-indicator {\n          position: absolute;\n          top: 30px;\n          right: 30px;\n          background: rgba(10, 69, 28, 0.9);\n          color: #fff;\n          padding: 0.8rem 1.2rem;\n          border-radius: 25px;\n          font-size: 0.9rem;\n          z-index: 15;\n          backdrop-filter: blur(10px);\n          font-weight: 600;\n          border: 1px solid rgba(250, 207, 60, 0.3);\n        }\n        \n        .highlight {\n          background: linear-gradient(135deg, ").concat(r.secondary,", #f0c346);\n          background-clip: text;\n          -webkit-background-clip: text;\n          -webkit-text-fill-color: transparent;\n          font-weight: 700;\n        }\n        \n        @keyframes pulse {\n          0%, 100% {\n            transform: scale(1);\n            opacity: ").concat(o?"0.4":"0.3",";\n          }\n          50% {\n            transform: scale(1.1);\n            opacity: ").concat(o?"0.7":"0.6",";\n          }\n        }\n        \n        @keyframes float {\n          0%, 100% {\n            transform: translateY(0px);\n          }\n          50% {\n            transform: translateY(-10px);\n          }\n        }\n        \n        .text-content {\n          animation: float 6s ease-in-out infinite;\n        }\n        \n        @media (max-width: 1024px) {\n          .image-container {\n            margin-top: 60px;\n          }\n          \n          .content-wrapper {\n            flex-direction: column;\n            justify-content: center;\n          }\n          \n          .text-content {\n            flex: none;\n            padding: 2rem;\n            text-align: center;\n            backdrop-filter: blur(5px);\n            background: ").concat(o?"rgba(18, 18, 18, 0.9)":"rgba(255, 255, 255, 0.9)",";\n            border-radius: 20px;\n            margin: 2rem;\n            box-shadow: 0 20px 40px ").concat(o?"rgba(0, 0, 0, 0.3)":"rgba(0, 0, 0, 0.1)",";\n          }\n          \n          .image-section {\n            position: absolute;\n            width: 100%;\n            height: 100%;\n            z-index: 0;\n          }\n          \n          .image-overlay {\n            background: ").concat(o?"linear-gradient(\n                    180deg,\n                    transparent 0%,\n                    rgba(18, 18, 18, 0.1) 20%,\n                    rgba(18, 18, 18, 0.3) 40%,\n                    rgba(18, 18, 18, 0.6) 60%,\n                    rgba(18, 18, 18, 0.8) 80%,\n                    rgba(18, 18, 18, 0.95) 100%\n                  )":"linear-gradient(\n                    180deg,\n                    transparent 0%,\n                    rgba(255, 255, 255, 0.1) 20%,\n                    rgba(255, 255, 255, 0.3) 40%,\n                    rgba(255, 255, 255, 0.6) 60%,\n                    rgba(255, 255, 255, 0.8) 80%,\n                    rgba(255, 255, 255, 0.95) 100%\n                  )",";\n          }\n          \n          .accent-elements {\n            display: none;\n          }\n          \n          .button-group {\n            justify-content: center;\n            gap: 1rem;\n          }\n        }\n        \n        @media (max-width: 768px) {\n          .image-container {\n            margin-top: 50px;\n          }\n          \n          .text-content {\n            margin: 1rem;\n            padding: 1.5rem;\n          }\n          \n          .cta-button,\n          .secondary-button {\n            padding: 12px 20px;\n            font-size: 15px;\n          }\n          \n          .button-group {\n            flex-direction: column;\n            gap: 1rem;\n            width: 100%;\n          }\n          \n          .cta-button,\n          .secondary-button {\n            width: 100%;\n            justify-content: center;\n          }\n        }\n        \n        @media (max-width: 480px) {\n          .image-container {\n            margin-top: 40px;\n          }\n          \n          .cta-button,\n          .secondary-button {\n            padding: 10px 18px;\n            font-size: 14px;\n          }\n        }\n      ")}),(0,s.jsxs)("div",{className:"content-wrapper",children:[(0,s.jsxs)("div",{className:"text-content",children:[(0,s.jsx)("h1",{children:"Join ACEF in Empowering Grassroots"}),(0,s.jsxs)("p",{children:["Be part of a movement that transforms communities from the ground up. Together, we're building sustainable solutions, fostering innovation, and creating lasting change that ",(0,s.jsx)("span",{className:"highlight",children:"empowers every voice"}),". Your involvement makes the difference between hope and reality for countless lives across Africa."]}),(0,s.jsxs)("div",{className:"button-group",children:[(0,s.jsx)("button",{className:"cta-button",onClick:()=>{n&&n()},children:"Start"}),(0,s.jsx)("button",{className:"secondary-button",onClick:()=>{const e=document.getElementById("collvolunteerstestimonials");e&&e.scrollIntoView({behavior:"smooth"})},children:"Read Impact Stories"})]})]}),(0,s.jsxs)("div",{className:"image-section",children:[o?(0,s.jsxs)("video",{className:"main-image",autoPlay:!0,loop:!0,muted:!0,playsInline:!0,children:[(0,s.jsx)("source",{src:"/plantdripping.mp4",type:"video/mp4"}),"Your browser does not support the video tag."]}):(0,s.jsx)("img",{src:t?x:l[c],alt:"Community empowerment and grassroots development",className:"main-image",onError:()=>{const e=l[c];console.log("Image failed to load from: ".concat(e)),m(n=>[...n,e]),c<l.length-1?(console.log("Trying next path: ".concat(l[c+1])),d(e=>e+1)):(console.log("All paths failed, using fallback image"),a(!0))},onLoad:()=>{console.log("Image loaded successfully from: ".concat(l[c]))}}),(0,s.jsx)("div",{className:"image-overlay"}),(0,s.jsx)("div",{className:"bottom-fade"}),(0,s.jsx)("div",{className:"futuristic-overlay"}),(0,s.jsxs)("div",{className:"accent-elements",children:[(0,s.jsx)("div",{className:"accent-circle"}),(0,s.jsx)("div",{className:"accent-circle"})]})]})]})]})},An=e=>{let{partners:n}=e;const{colors:t,isDarkMode:a}=y();return 0===n.length?null:(0,s.jsxs)(pe.P.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{margin:"-50px"},transition:{duration:.6},style:{marginTop:"2rem",marginBottom:"2rem"},children:[(0,s.jsx)(pe.P.div,{initial:{scaleX:0},whileInView:{scaleX:1},viewport:{margin:"-50px"},transition:{duration:.8},style:{height:"1px",background:"linear-gradient(to right, transparent 0%, ".concat(t.border," 20%, ").concat(t.border," 80%, transparent 100%)"),marginBottom:"1.5rem",width:"100%",maxWidth:"100%",transformOrigin:"center"}}),(0,s.jsx)(pe.P.h3,{initial:{opacity:0,x:-30},whileInView:{opacity:1,x:0},viewport:{margin:"-50px"},transition:{duration:.6},style:{textAlign:"left",fontSize:"clamp(1.1rem, 3vw, 1.3rem)",fontWeight:700,color:t.text,marginBottom:"1rem",fontFamily:'"Nunito Sans", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif'},children:"Trusted and Accredited by"}),(0,s.jsx)("div",{style:{display:"flex",flexWrap:"wrap",gap:"1rem",alignItems:"flex-start"},children:n.map((e,n)=>(0,s.jsxs)(pe.P.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{margin:"-50px"},transition:{duration:.5,delay:.1*n},style:{position:"relative",display:"inline-flex",alignItems:"center",justifyContent:"center",padding:"0.5rem",transition:"all 0.3s ease",cursor:"pointer",minWidth:"80px",minHeight:"80px",maxWidth:"100px",maxHeight:"100px",overflow:"visible"},onMouseEnter:e=>{e.currentTarget.style.transform="translateY(-3px) scale(1.1)",e.currentTarget.style.filter="drop-shadow(0 8px 25px rgba(0, 0, 0, 0.15))";const n=e.currentTarget.querySelector(".partner-tooltip");n&&(n.style.opacity="1",n.style.transform="translateX(-50%) translateY(-10px)",n.style.visibility="visible")},onMouseLeave:e=>{e.currentTarget.style.transform="translateY(0) scale(1)",e.currentTarget.style.filter="none";const n=e.currentTarget.querySelector(".partner-tooltip");n&&(n.style.opacity="0",n.style.transform="translateX(-50%) translateY(0)",n.style.visibility="hidden")},children:[(0,s.jsx)("img",{src:e.logo?"".concat(Ve,"/uploads/partners/").concat(e.logo):"/placeholder-logo.png",alt:"".concat(e.name," logo"),style:{width:"100%",height:"100%",objectFit:"contain",maxWidth:"64px",maxHeight:"64px",filter:a?"brightness(0.9)":"none"},onError:n=>{n.target.style.display="none";const a=n.target.parentElement,r=document.createElement("div");r.style.cssText="\n                  display: flex;\n                  align-items: center;\n                  justify-content: center;\n                  width: 64px;\n                  height: 64px;\n                  background: ".concat(t.primary,"20;\n                  color: ").concat(t.primary,";\n                  font-weight: 700;\n                  font-size: 16px;\n                  border-radius: 8px;\n                  font-family: inherit;\n                "),r.textContent=e.name.split(" ").map(e=>e[0]).join("").substring(0,3),a.appendChild(r)}}),(0,s.jsxs)("div",{className:"partner-tooltip",style:{position:"absolute",bottom:"100%",left:"50%",transform:"translateX(-50%) translateY(0)",backgroundColor:t.surface,color:t.text,padding:"0.6rem 1rem",borderRadius:"0.5rem",fontSize:"0.8rem",fontWeight:600,whiteSpace:"nowrap",boxShadow:"0 8px 25px ".concat(t.cardShadow,"80"),border:"1px solid ".concat(t.border),opacity:"0",visibility:"hidden",pointerEvents:"none",transition:"all 0.3s ease",zIndex:1e3,fontFamily:'"Nunito Sans", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif',maxWidth:"250px",textAlign:"center"},children:[e.name,(0,s.jsx)("div",{style:{position:"absolute",top:"100%",left:"50%",transform:"translateX(-50%)",width:"0",height:"0",borderLeft:"6px solid transparent",borderRight:"6px solid transparent",borderTop:"6px solid ".concat(t.surface)}})]})]},e.id))})]})},kn=()=>{const[e,n]=(0,i.useState)(""),[t,a]=(0,i.useState)([]),[r,o]=(0,i.useState)(!0),[l,c]=(0,i.useState)(!1),{colors:d,isDarkMode:p}=y(),[x,u]=(0,i.useState)(null);(0,i.useEffect)(()=>{(async()=>{try{o(!0);const e=await fetch("".concat(Ge,"/partners"),{credentials:"include",headers:{"Content-Type":"application/json"}});if(!e.ok)throw new Error("Failed to fetch partners");const n=(await e.json()).filter(e=>{var n,t;return"accreditator"===(null===(n=e.type)||void 0===n?void 0:n.toLowerCase())||"both"===(null===(t=e.type)||void 0===t?void 0:t.toLowerCase())});a(n)}catch(e){console.error("Error fetching partners:",e),a([{id:1,name:"UN Environment Programme",logo:"unep-logo.png"},{id:2,name:"African Union",logo:"au-logo.png"},{id:3,name:"Climate Investment Funds",logo:"cif-logo.png"},{id:4,name:"Green Climate Fund",logo:"gcf-logo.png"},{id:5,name:"WWF Africa",logo:"wwf-logo.png"},{id:6,name:"UNEP FI",logo:"unepfi-logo.png"}])}finally{o(!1)}})()},[]);const g={fontFamily:'"Nunito Sans", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif',lineHeight:1.6,color:d.text,background:d.background},h={background:p?"linear-gradient(135deg, ".concat(d.backgroundSecondary," 0%, ").concat(d.background," 100%)"):"linear-gradient(135deg, ".concat(d.gray50," 0%, ").concat(d.backgroundSecondary," 50%, #fef7ff 100%)"),minHeight:"100vh",padding:"4rem 0",position:"relative"},f={display:"grid",gridTemplateColumns:window.innerWidth>768?"minmax(0, 1.2fr) minmax(0, 1fr)":"1fr",gap:window.innerWidth>768?"4rem":"2rem",alignItems:"start"},b={flex:1,padding:"1rem 1.25rem",border:"none",fontSize:"1rem",outline:"none",background:d.surface,color:d.text,borderRadius:window.innerWidth<=768?"0.5rem 0.5rem 0 0":"0"},j={background:l?d.gray400:d.primary,color:d.white,border:"none",padding:"1rem 2rem",fontWeight:600,cursor:l?"not-allowed":"pointer",transition:"all 0.3s ease",fontSize:"1rem",whiteSpace:"nowrap",borderRadius:window.innerWidth<=768?"0 0 0.5rem 0.5rem":"0",opacity:l?.7:1};return(0,s.jsxs)("div",{style:g,children:[(0,s.jsx)("div",{style:h,children:(0,s.jsx)("div",{style:{maxWidth:"1200px",margin:"0 auto",padding:"0 2rem",width:"100%"},children:(0,s.jsxs)("div",{style:f,children:[(0,s.jsxs)("div",{style:{maxWidth:"100%",zIndex:2,padding:window.innerWidth<=768?"0 0.5rem":"0"},children:[(0,s.jsx)(pe.P.h1,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{margin:"-50px"},transition:{duration:.6},style:{fontSize:"48px",fontWeight:"800",lineHeight:"1.1",marginBottom:"24px",fontFamily:"inherit",color:d.primary},children:"Empowering Youth for Climate Action"}),(0,s.jsxs)(pe.P.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{margin:"-50px"},transition:{duration:.6,delay:.2},style:{color:d.textSecondary,marginBottom:"2.5rem",fontSize:"clamp(0.9rem, 2.5vw, 1rem)",lineHeight:1.7,fontFamily:'"Nunito Sans", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif'},children:[(0,s.jsxs)("p",{style:{marginBottom:"1.5rem"},children:[(0,s.jsx)("strong",{style:{color:d.text,fontWeight:700,fontFamily:'"Nunito Sans", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif'},children:"Africa Climate and Environment Foundation (ACEF)"})," is a youth focused non-governmental organization (NGO) founded in 2021, dedicated to empowering grassroots youth and women while supporting locally driven initiatives to address the triple planetary crisis of climate change, biodiversity loss, and pollution."]}),(0,s.jsx)("p",{style:{marginBottom:"1.5rem"},children:"ACEF works toward addressing global issues related to climate change, environmental degradation, and poverty alleviation by focusing on Sustainable Development Goals (SDGs) such as clean water and sanitation (SDG 6), climate action (SDG 13), Life below water (SDG 14), and quality education (SDG 4)."})]}),(0,s.jsxs)(pe.P.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{margin:"-50px"},transition:{duration:.6,delay:.4},style:{display:"flex",gap:0,marginBottom:"1rem",boxShadow:"0 10px 25px ".concat(d.cardShadow),borderRadius:"0.5rem",overflow:"hidden",maxWidth:"100%",width:"100%",maxWidth:window.innerWidth<=768?"100%":"450px",flexDirection:window.innerWidth<=768?"column":"row"},children:[(0,s.jsx)("input",{type:"email",placeholder:"Your email address",value:e,onChange:e=>n(e.target.value),disabled:l,style:(0,m.A)((0,m.A)({},b),{},{fontFamily:'"Nunito Sans", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif'})}),(0,s.jsx)("button",{type:"button",onClick:async t=>{if(t&&t.preventDefault(),!e)return;c(!0);const a=await Ze(e);u(a.message),n(""),c(!1)},disabled:l||!e,style:(0,m.A)((0,m.A)({},j),{},{fontFamily:'"Nunito Sans", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif'}),onMouseEnter:e=>{l||(e.target.style.transform="translateY(-1px)",e.target.style.boxShadow="0 4px 12px ".concat(d.cardShadow),e.target.style.backgroundColor=d.primaryLight)},onMouseLeave:e=>{e.target.style.transform="translateY(0)",e.target.style.boxShadow="none",e.target.style.backgroundColor=l?d.gray400:d.primary},children:l?"Connecting...":"Stay Connected"})]}),!r&&t.length>0&&(0,s.jsx)(An,{partners:t})]}),(0,s.jsxs)(pe.P.div,{initial:{opacity:0,x:30},whileInView:{opacity:1,x:0},viewport:{margin:"-50px"},transition:{duration:.8},style:{position:"relative",borderRadius:"0.75rem",overflow:"visible",boxShadow:"0 20px 40px ".concat(d.cardShadow),height:window.innerWidth>768?"600px":"400px",order:window.innerWidth<=768?-1:0,marginTop:window.innerWidth>768?"6rem":"0"},children:[(0,s.jsxs)("div",{style:{width:"100%",height:"100%",borderRadius:"0.75rem",overflow:"hidden",position:"relative"},children:[(0,s.jsx)("img",{src:"/youth.jpg",alt:"African youth engaged in climate action and environmental protection activities",style:{width:"100%",height:"100%",objectFit:"cover",display:"block",filter:p?"brightness(0.9) contrast(1.1)":"none"},onError:e=>{e.target.src="https://images.unsplash.com/photo-1542601906990-b4d3fb778b09?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80"}}),(0,s.jsx)("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,background:p?"linear-gradient(135deg, rgba(0,0,0,0.3) 0%, rgba(0,0,0,0.1) 100%)":"linear-gradient(135deg, rgba(255,255,255,0.1) 0%, rgba(0,0,0,0.05) 100%)",pointerEvents:"none"}})]}),(0,s.jsx)("div",{style:{position:"absolute",bottom:"-15px",left:"-15px",width:"60px",height:"60px",backgroundColor:d.white,borderRadius:"12px",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 4px 12px ".concat(d.cardShadow),zIndex:10},children:(0,s.jsxs)("svg",{width:"30",height:"30",viewBox:"0 0 24 24",fill:"none",stroke:"#0a451c",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,s.jsx)("circle",{cx:"12",cy:"12",r:"10"}),(0,s.jsx)("path",{d:"M2 12h20"}),(0,s.jsx)("path",{d:"M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"}),(0,s.jsx)("path",{d:"M8 12c0-2 2-4 4-4s4 2 4 4-2 4-4 4-4-2-4-4z"})]})})]})]})})}),r&&(0,s.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",padding:"2rem",background:d.backgroundSecondary},children:(0,s.jsx)("div",{style:{width:"32px",height:"32px",border:"3px solid ".concat(d.border),borderTop:"3px solid ".concat(d.primary),borderRadius:"50%",animation:"spin 1s linear infinite"}})}),(0,s.jsx)("style",{jsx:!0,children:"\n        @keyframes spin {\n          0% { transform: rotate(0deg); }\n          100% { transform: rotate(360deg); }\n        }\n        \n        input::placeholder {\n          color: ".concat(d.textMuted," !important;\n        }\n        \n        input:focus {\n          outline: 2px solid ").concat(d.primary," !important;\n          outline-offset: 2px;\n        }\n        \n        @media (max-width: 768px) {\n          .grid-mobile {\n            grid-template-columns: 1fr !important;\n            gap: 2rem !important;\n          }\n        }\n      ")})]})},Sn=()=>{const[e,n]=(0,i.useState)(null),[t,a]=(0,i.useState)(!0),[r,o]=(0,i.useState)(null),{theme:l,colors:c,isDarkMode:d}=y(),p="http://localhost:5000/api";(0,i.useEffect)(()=>{(async()=>{try{let i,s;a(!0);try{if(console.log("Attempting to fetch featured video..."),i=await fetch("".concat(p,"/video-sections/featured")),i.ok&&(s=await i.json(),console.log("Featured video API Response:",s),s.success&&s.data))return console.log("Featured video found:",s.data),void n(s.data);console.log("No featured video available, trying latest...")}catch(e){console.log("Featured endpoint failed, trying latest...",e.message)}try{if(console.log("Attempting to fetch latest video..."),i=await fetch("".concat(p,"/video-sections/latest")),i.ok&&(s=await i.json(),console.log("Latest video API Response:",s),s.success&&s.data))return console.log("Latest video found:",s.data),void n(s.data);console.log("No latest video available, trying general endpoint...")}catch(t){console.log("Latest endpoint failed, trying general...",t.message)}try{if(console.log("Attempting to fetch all videos..."),i=await fetch("".concat(p,"/video-sections")),i.ok&&(s=await i.json(),console.log("All videos API Response:",s),s.success&&Array.isArray(s.data)&&s.data.length>0)){const e=s.data.find(e=>e.is_featured&&e.is_active),t=s.data.find(e=>e.is_featured),a=s.data.find(e=>e.is_active),r=e||t||a||s.data[0];return console.log("Selected video from all videos:",r),void n(r)}}catch(r){console.log("General endpoint failed:",r.message)}console.log("No videos found at all"),o("No video content available")}catch(i){console.error("Error in fetchVideoData:",i),o("Failed to load video content")}finally{a(!1)}})()},[p]);const m=()=>d?"linear-gradient(135deg, #000408ff, #000308ff)":"linear-gradient(135deg, #ffffff, #9ccf9f, #ffffff)",x=()=>d?c.accent:c.primary,u=()=>c.text,g=()=>{var e;return{backgroundColor:c.primaryDark||"#052310",boxShadow:"0 12px 35px rgba(".concat((null===(e=c.primary.slice(1).match(/.{2}/g))||void 0===e?void 0:e.map(e=>parseInt(e,16)).join(", "))||"10, 69, 28",", 0.4)")}};if(t)return(0,s.jsxs)("section",{className:"video-section",children:[(0,s.jsx)("style",{jsx:!0,children:"\n          .video-section {\n            position: relative;\n            padding: 120px 0;\n            background: ".concat(m(),";\n            overflow: hidden;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n          }\n          .loading-spinner {\n            width: 40px;\n            height: 40px;\n            border: 3px solid ").concat(x(),"30;\n            border-top: 3px solid ").concat(x(),";\n            border-radius: 50%;\n            animation: spin 1s linear infinite;\n          }\n          @keyframes spin {\n            0% { transform: rotate(0deg); }\n            100% { transform: rotate(360deg); }\n          }\n        ")}),(0,s.jsx)("div",{className:"loading-spinner"})]});if(r)return(0,s.jsxs)("section",{className:"video-section",children:[(0,s.jsx)("style",{jsx:!0,children:"\n          .video-section {\n            position: relative;\n            padding: 120px 0;\n            background: ".concat(m(),";\n            overflow: hidden;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n          }\n          .error-message {\n            color: ").concat(u(),";\n            font-size: 1.1rem;\n            text-align: center;\n          }\n        ")}),(0,s.jsx)("div",{className:"error-message",children:"Unable to load video content. Please try again later."})]});if(!e)return null;const{tag:h,title:f,description:b,youtube_url:j,is_featured:v}=e,w=(A=v,d?A?{background:"rgba(251, 191, 36, 0.15)",border:"1px solid rgba(251, 191, 36, 0.3)",color:"#fbbf24"}:{background:"rgba(156, 207, 159, 0.15)",border:"1px solid rgba(156, 207, 159, 0.3)",color:c.accent}:A?{background:"rgba(251, 191, 36, 0.15)",border:"1px solid rgba(251, 191, 36, 0.3)",color:"#92400e"}:{background:"rgba(10, 69, 28, 0.15)",border:"1px solid rgba(10, 69, 28, 0.2)",color:c.primary});var A;const k=d?{boxShadow:"0 25px 60px rgba(0, 0, 0, 0.5), 0 10px 30px rgba(0, 0, 0, 0.3)",border:"1px solid rgba(255, 255, 255, 0.1)"}:{boxShadow:"0 25px 60px rgba(0, 0, 0, 0.3), 0 10px 30px rgba(0, 0, 0, 0.2)",border:"1px solid rgba(255, 255, 255, 0.2)"},S=(()=>{var e;return{backgroundColor:c.primary,color:c.white,boxShadow:"0 8px 25px rgba(".concat((null===(e=c.primary.slice(1).match(/.{2}/g))||void 0===e?void 0:e.map(e=>parseInt(e,16)).join(", "))||"10, 69, 28",", 0.3)")}})();return(0,s.jsxs)("section",{className:"video-section",children:[(0,s.jsx)("style",{jsx:!0,children:"\n        .video-section {\n          position: relative;\n          padding: 120px 0;\n          background: ".concat(m(),";\n          overflow: hidden;\n          transition: all 0.3s ease;\n        }\n\n        .video-section::before {\n          content: '';\n          position: absolute;\n          top: 0;\n          left: 0;\n          right: 0;\n          bottom: 0;\n          background: \n            radial-gradient(circle at 20% 80%, ").concat(d?"rgba(255, 255, 255, 0.03)":"rgba(255, 255, 255, 0.1)"," 0%, transparent 50%),\n            radial-gradient(circle at 80% 20%, ").concat(d?"rgba(255, 255, 255, 0.03)":"rgba(255, 255, 255, 0.1)"," 0%, transparent 50%);\n          pointer-events: none;\n        }\n\n        .video-section::after {\n          content: '';\n          position: absolute;\n          top: 0;\n          left: 0;\n          right: 0;\n          bottom: 0;\n          background-image: \n            linear-gradient(45deg, transparent 48%, ").concat(d?"rgba(255, 255, 255, 0.01)":"rgba(255, 255, 255, 0.02)"," 49%, ").concat(d?"rgba(255, 255, 255, 0.01)":"rgba(255, 255, 255, 0.02)"," 51%, transparent 52%),\n            linear-gradient(-45deg, transparent 48%, ").concat(d?"rgba(255, 255, 255, 0.01)":"rgba(255, 255, 255, 0.02)"," 49%, ").concat(d?"rgba(255, 255, 255, 0.01)":"rgba(255, 255, 255, 0.02)"," 51%, transparent 52%);\n          background-size: 60px 60px;\n          opacity: 0.5;\n          pointer-events: none;\n        }\n\n        .container {\n          max-width: 1200px;\n          margin: 0 auto;\n          padding: 0 20px;\n          position: relative;\n          z-index: 1;\n        }\n\n        .video-content {\n          display: grid;\n          grid-template-columns: 1fr 1fr;\n          gap: 60px;\n          align-items: center;\n        }\n\n        .video-wrapper {\n          position: relative;\n          width: 100%;\n          height: 0;\n          padding-bottom: 56.25%;\n          border-radius: 20px;\n          overflow: hidden;\n          box-shadow: ").concat(k.boxShadow,";\n          backdrop-filter: blur(10px);\n          border: ").concat(k.border,";\n          transition: all 0.3s ease;\n        }\n\n        .video-wrapper:hover {\n          transform: translateY(-4px);\n          box-shadow: ").concat(d?"0 35px 80px rgba(0, 0, 0, 0.6), 0 15px 40px rgba(0, 0, 0, 0.4)":"0 35px 80px rgba(0, 0, 0, 0.4), 0 15px 40px rgba(0, 0, 0, 0.3)",";\n        }\n\n        .video-wrapper::before {\n          content: '';\n          position: absolute;\n          top: 0;\n          left: 0;\n          right: 0;\n          bottom: 0;\n          background: ").concat(d?"linear-gradient(45deg, rgba(255, 255, 255, 0.05) 0%, transparent 100%)":"linear-gradient(45deg, rgba(255, 255, 255, 0.1) 0%, transparent 100%)",";\n          z-index: 1;\n          pointer-events: none;\n        }\n\n        .video-iframe {\n          position: absolute;\n          top: 0;\n          left: 0;\n          width: 100%;\n          height: 100%;\n          border: none;\n          border-radius: 20px;\n        }\n\n        .video-text {\n          color: ").concat(u(),";\n        }\n\n        .video-badge {\n          display: inline-flex;\n          align-items: center;\n          gap: 8px;\n          background: ").concat(w.background,";\n          backdrop-filter: blur(10px);\n          padding: 8px 20px;\n          border-radius: 25px;\n          border: ").concat(w.border,";\n          font-size: 14px;\n          font-weight: 500;\n          margin-bottom: 20px;\n          color: ").concat(w.color,";\n          transition: all 0.3s ease;\n        }\n\n        .video-badge:hover {\n          transform: translateY(-2px);\n          box-shadow: 0 4px 15px ").concat(w.color,"30;\n        }\n\n        .pulse-dot {\n          width: 8px;\n          height: 8px;\n          background: ").concat(v?"#fbbf24":"#ff6b6b",";\n          border-radius: 50%;\n          animation: pulse 2s infinite;\n        }\n\n        @keyframes pulse {\n          0% {\n            box-shadow: 0 0 0 0 ").concat(v?"rgba(251, 191, 36, 0.7)":"rgba(255, 107, 107, 0.7)",";\n          }\n          70% {\n            box-shadow: 0 0 0 10px ").concat(v?"rgba(251, 191, 36, 0)":"rgba(255, 107, 107, 0)",";\n          }\n          100% {\n            box-shadow: 0 0 0 0 ").concat(v?"rgba(251, 191, 36, 0)":"rgba(255, 107, 107, 0)",";\n          }\n        }\n\n        .video-title {\n          font-size: 2.5rem;\n          font-weight: 700;\n          line-height: 1.2;\n          margin-bottom: 20px;\n          background: ").concat(d?"linear-gradient(45deg, ".concat(c.accent," 0%, ").concat(c.accentLight," 100%)"):"linear-gradient(45deg, ".concat(c.primary," 0%, rgba(10, 69, 28, 0.8) 100%)"),";\n          -webkit-background-clip: text;\n          -webkit-text-fill-color: transparent;\n          background-clip: text;\n          transition: all 0.3s ease;\n        }\n\n        .video-title:hover {\n          transform: translateX(4px);\n        }\n\n        .video-description {\n          font-size: 1.1rem;\n          line-height: 1.6;\n          color: ").concat(c.textSecondary,";\n          margin-bottom: 30px;\n          transition: color 0.3s ease;\n        }\n\n        .video-actions {\n          display: flex;\n          justify-content: center;\n          margin-top: 40px;\n        }\n\n        .read-latest-btn {\n          display: inline-flex;\n          align-items: center;\n          gap: 10px;\n          padding: 15px 30px;\n          background: ").concat(S.backgroundColor,";\n          color: ").concat(S.color,";\n          border: none;\n          border-radius: 50px;\n          font-size: 16px;\n          font-weight: 600;\n          text-decoration: none;\n          cursor: pointer;\n          transition: all 0.3s ease;\n          backdrop-filter: blur(10px);\n          border: 2px solid ").concat("rgba(255, 255, 255, 0.1)",";\n          box-shadow: ").concat(S.boxShadow,";\n          font-family: '\"Nunito Sans\", sans-serif';\n        }\n\n        .read-latest-btn:hover {\n          background: ").concat(g().backgroundColor,";\n          transform: translateY(-2px);\n          box-shadow: ").concat(g().boxShadow,";\n          border-color: ").concat("rgba(255, 255, 255, 0.2)",";\n        }\n\n        .read-latest-btn:active {\n          transform: translateY(0);\n        }\n\n        .btn-icon {\n          width: 18px;\n          height: 18px;\n          transition: transform 0.3s ease;\n        }\n\n        .read-latest-btn:hover .btn-icon {\n          transform: translateX(3px);\n        }\n\n        @media (max-width: 768px) {\n          .video-section {\n            padding: 80px 0;\n          }\n\n          .video-content {\n            grid-template-columns: 1fr;\n            gap: 40px;\n            text-align: center;\n          }\n\n          .video-title {\n            font-size: 2rem;\n          }\n\n          .video-actions {\n            margin-top: 30px;\n          }\n\n          .read-latest-btn {\n            font-size: 14px;\n            padding: 12px 24px;\n          }\n        }\n\n        @media (prefers-reduced-motion: reduce) {\n          .video-wrapper,\n          .video-badge,\n          .video-title,\n          .read-latest-btn,\n          .pulse-dot {\n            animation: none !important;\n            transition: none !important;\n          }\n          \n          .video-wrapper:hover,\n          .video-badge:hover,\n          .video-title:hover,\n          .read-latest-btn:hover {\n            transform: none !important;\n          }\n        }\n      ")}),(0,s.jsxs)("div",{className:"container",children:[(0,s.jsxs)("div",{className:"video-content",children:[(0,s.jsxs)("div",{className:"video-text",children:[(0,s.jsxs)("div",{className:"video-badge",children:[(0,s.jsx)("span",{className:"pulse-dot"}),h]}),(0,s.jsx)("h2",{className:"video-title",children:f}),(0,s.jsx)("p",{className:"video-description",children:b})]}),(0,s.jsx)("div",{className:"video-wrapper",children:(0,s.jsx)("iframe",{className:"video-iframe",src:j,title:"ACEF Video",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})})]}),(0,s.jsx)("div",{className:"video-actions",children:(0,s.jsxs)("a",{href:"/insights",style:{padding:"16px 32px",borderRadius:"12px",border:"none",fontWeight:"600",fontSize:"16px",cursor:"pointer",display:"inline-flex",alignItems:"center",gap:"8px",transition:"all 0.3s ease",boxShadow:S.boxShadow,alignSelf:"flex-start",fontFamily:'"Nunito Sans", sans-serif',backgroundColor:S.backgroundColor,color:S.color,textDecoration:"none"},onMouseEnter:e=>{const n=g();e.currentTarget.style.backgroundColor=n.backgroundColor,e.currentTarget.style.boxShadow=n.boxShadow,e.currentTarget.style.transform="translateY(-2px)";const t=e.currentTarget.querySelector(".btn-icon");t&&(t.style.transform="translateX(3px)")},onMouseLeave:e=>{e.currentTarget.style.backgroundColor=S.backgroundColor,e.currentTarget.style.boxShadow=S.boxShadow,e.currentTarget.style.transform="translateY(0)";const n=e.currentTarget.querySelector(".btn-icon");n&&(n.style.transform="translateX(0)")},children:["Read the Latest from ACEF",(0,s.jsx)("svg",{className:"btn-icon",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",style:{width:"20px",height:"20px",transition:"transform 0.3s ease",strokeWidth:"2"},children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17 8l4 4m0 0l-4 4m4-4H3"})})]})})]})]})};var Cn=t(7118),zn=t(1751),Nn=t(7033),_n=t(4919),In=t(2024);const En={people:Cn.A,location_city:ye.A,check_circle:ze.A,handshake:zn.A,attach_money:Ce.A,volunteer_activism:Ae.A,assessment:Nn.A,trending_up:_n.A},Tn=[{url:"https://images.unsplash.com/photo-1441974231531-c6227db76b6e?w=400&h=400&fit=crop",alt:"Dense forest canopy"},{url:"https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=400&h=400&fit=crop",alt:"Tropical paradise"},{url:"https://images.unsplash.com/photo-1574263867128-a3d5c1b1decc?w=400&h=400&fit=crop",alt:"Conservation worker"},{url:"https://images.unsplash.com/photo-1437622368342-7a3d73a34c8f?w=400&h=400&fit=crop",alt:"Endangered wildlife"},{url:"https://images.unsplash.com/photo-1519904981063-b0cf448d479e?w=400&h=400&fit=crop",alt:"Local community"},{url:"https://images.unsplash.com/photo-1463320726281-696a485928c7?w=400&h=400&fit=crop",alt:"Protected mountains"},{url:"https://images.unsplash.com/photo-1542273917363-3b1817f69a2d?w=400&h=400&fit=crop",alt:"Ocean conservation"},{url:"https://images.unsplash.com/photo-1511593358241-7eea1f3c84e5?w=400&h=400&fit=crop",alt:"Tree planting"}],Wn=()=>{const[e,n]=(0,i.useState)([]),[t,a]=(0,i.useState)(!0),[r,o]=(0,i.useState)(null),[l,c]=(0,i.useState)(!1),d=(0,i.useRef)(null),{colors:p,isDarkMode:x}=y();(0,i.useEffect)(()=>{const e=new IntersectionObserver(e=>{const[n]=e;n.isIntersecting&&n.intersectionRatio>.3&&c(!0)},{threshold:[0,.1,.3,.5],rootMargin:"-100px 0px -100px 0px"}),n=d.current;return n&&e.observe(n),()=>{n&&e.unobserve(n)}},[]);(0,i.useEffect)(()=>{(async()=>{try{a(!0),o(null);const e="http://localhost:5000/api",t=await fetch("".concat(e,"/impacts?is_featured=true&is_active=true"),{method:"GET",credentials:"include",headers:{"Content-Type":"application/json"}});if(!t.ok)throw new Error("HTTP error! status: ".concat(t.status));const r=await t.json();if(!r.success||!Array.isArray(r.data))throw new Error("Invalid response format");{const e=r.data.filter(e=>e.is_featured&&e.is_active).sort((e,n)=>(e.order_index||0)-(n.order_index||0)).slice(0,6);n(e)}}catch(e){o("Failed to load impact data"),console.error("Error fetching impacts:",e),n([{id:1,name:"Trees Protected",current_value:25e5,starting_value:1e6,unit:"trees",color:p.success,icon:"volunteer_activism",description:"Ancient rainforest trees saved from deforestation",project_count:45},{id:2,name:"Hectares Preserved",current_value:15e4,starting_value:5e4,unit:"hectares",color:p.info,icon:"location_city",description:"Protected forest land across multiple countries",project_count:32},{id:3,name:"Communities Supported",current_value:75,starting_value:25,unit:"communities",color:p.secondary,icon:"people",description:"Indigenous and local communities empowered",project_count:18},{id:4,name:"CO\u2082 Reduced",current_value:12e5,starting_value:4e5,unit:"tons",color:p.warning,icon:"trending_up",description:"Carbon emissions prevented through conservation",project_count:28},{id:5,name:"Species Protected",current_value:500,starting_value:200,unit:"species",color:p.error,icon:"heart",description:"Endangered species given a second chance",project_count:15},{id:6,name:"Countries Reached",current_value:25,starting_value:10,unit:"countries",color:p.accent,icon:"check_circle",description:"Global reach of our conservation efforts",project_count:8}])}finally{a(!1)}})()},[]);const u=(e,n)=>"USD"===n?e>=1e6?"$".concat((e/1e6).toFixed(1),"M"):e>=1e3?"$".concat((e/1e3).toFixed(0),"K"):"$".concat(e.toLocaleString()):e>=1e6?(e/1e6).toFixed(1)+"M":e>=1e3?(e/1e3).toFixed(1)+"K":e.toLocaleString(),g=(e,n)=>0===n?e>0?100:0:Math.round((e-n)/n*100),h={container:{minHeight:"100vh",backgroundColor:p.background,color:p.text,fontFamily:'"Nunito Sans", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif',transition:"all 0.3s ease"},mainContent:{display:"flex",alignItems:"stretch",maxWidth:"1180px",margin:"0 auto",padding:"80px 24px",gap:"60px",minHeight:"calc(100vh - 160px)"},leftContent:{flex:"1",maxWidth:"500px",display:"flex",flexDirection:"column",justifyContent:"center",paddingRight:"24px"},mainHeading:{fontSize:"48px",fontWeight:"800",lineHeight:"1.1",color:p.primary,marginBottom:"24px",fontFamily:"inherit"},subHeading:{color:p.textSecondary,marginBottom:"2.5rem",fontSize:"clamp(0.9rem, 2.5vw, 1rem)",lineHeight:1.7,fontFamily:'"Nunito Sans", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif',maxWidth:"450px",fontWeight:"400"},ctaButton:{backgroundColor:p.primary,color:p.white,padding:"16px 32px",borderRadius:"12px",border:"none",fontWeight:"600",fontSize:"16px",cursor:"pointer",display:"inline-flex",alignItems:"center",gap:"8px",transition:"all 0.3s ease",boxShadow:"0 4px 16px rgba(10, 69, 28, 0.3)",alignSelf:"flex-start",fontFamily:'"Nunito Sans", sans-serif'},rightContent:{flex:"1",display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gridTemplateRows:"repeat(4, 150px)",gap:"16px",maxWidth:"600px",paddingLeft:"24px",transform:l?"scale(1)":"scale(0.8)",opacity:l?1:.7,transition:"all 0.8s cubic-bezier(0.4, 0, 0.2, 1)",transformOrigin:"center center"},gridItem:{borderRadius:"16px",overflow:"hidden",position:"relative",transition:"all 0.3s ease",transform:l?"translateY(0) scale(1)":"translateY(20px) scale(0.9)",opacity:l?1:0},imageCell:{backgroundSize:"cover",backgroundPosition:"center",position:"relative",cursor:"pointer"},imageOverlay:{position:"absolute",inset:0,background:"linear-gradient(135deg, rgba(0,0,0,0.2), rgba(0,0,0,0.4))",display:"flex",alignItems:"center",justifyContent:"center",opacity:0,transition:"all 0.3s ease"},statCell:{backgroundColor:p.cardBg,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"20px",border:"1px solid ".concat(p.border),position:"relative",boxShadow:"0 4px 12px ".concat(p.cardShadow)},statNumber:{fontSize:"24px",fontWeight:"800",marginBottom:"4px",fontFamily:"inherit"},statLabel:{fontSize:"11px",color:p.textSecondary,textAlign:"center",fontWeight:"500",lineHeight:1.2,fontFamily:'"Nunito Sans", sans-serif'},growthIndicator:{position:"absolute",top:"8px",right:"8px",backgroundColor:p.success,color:p.white,borderRadius:"12px",padding:"2px 6px",fontSize:"10px",fontWeight:"600",display:"flex",alignItems:"center",gap:"2px",fontFamily:'"Nunito Sans", sans-serif'},loadingContainer:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"400px",flexDirection:"column",gap:"16px"},loadingText:{color:p.textSecondary,fontSize:"16px",fontFamily:'"Nunito Sans", sans-serif'},cell1:{gridColumn:"1",gridRow:"1",transitionDelay:l?"0.1s":"0s"},cell2:{gridColumn:"2",gridRow:"1",transitionDelay:l?"0.2s":"0s"},cell3:{gridColumn:"3",gridRow:"1 / 3",transitionDelay:l?"0.3s":"0s"},cell4:{gridColumn:"1",gridRow:"2",transitionDelay:l?"0.4s":"0s"},cell5:{gridColumn:"2",gridRow:"2",transitionDelay:l?"0.5s":"0s"},cell6:{gridColumn:"1 / 3",gridRow:"3",transitionDelay:l?"0.6s":"0s"},cell7:{gridColumn:"3",gridRow:"3",transitionDelay:l?"0.7s":"0s"},cell8:{gridColumn:"1",gridRow:"4",transitionDelay:l?"0.8s":"0s"},cell9:{gridColumn:"2",gridRow:"4",transitionDelay:l?"0.9s":"0s"},cell10:{gridColumn:"3",gridRow:"4",transitionDelay:l?"1.0s":"0s"}};return(0,s.jsxs)("div",{style:h.container,children:[(0,s.jsx)("style",{children:"\n        @keyframes spin {\n          0% { transform: rotate(0deg); }\n          100% { transform: rotate(360deg); }\n        }\n        \n        .cta-button:hover {\n          background-color: ".concat(p.primaryDark,";\n          transform: translateY(-2px);\n          box-shadow: 0 8px 25px rgba(10, 69, 28, 0.4);\n        }\n        \n        @media (max-width: 1200px) {\n          .main-content {\n            padding: 60px 0 !important;\n            gap: 40px !important;\n          }\n        }\n        \n        @media (max-width: 1024px) {\n          .main-content {\n            flex-direction: column !important;\n            gap: 40px !important;\n            padding: 40px 0 !important;\n            min-height: auto !important;\n          }\n          \n          .left-content {\n            max-width: none !important;\n            padding-right: 0 !important;\n            text-align: center !important;\n          }\n          \n          .right-content {\n            max-width: none !important;\n            padding-left: 0 !important;\n            justify-self: center !important;\n            width: 100% !important;\n            max-width: 600px !important;\n            margin: 0 auto !important;\n          }\n        }\n        \n        @media (max-width: 768px) {\n          .container {\n            padding: 0 1rem !important;\n          }\n          \n          .main-heading {\n            font-size: 36px !important;\n          }\n          \n          .sub-heading {\n            font-size: 16px !important;\n          }\n          \n          .right-content {\n            grid-template-columns: repeat(2, 1fr) !important;\n            grid-template-rows: repeat(5, 120px) !important;\n          }\n          \n          .main-content {\n            padding: 40px 0 !important;\n          }\n        }\n        \n        @media (max-width: 480px) {\n          .container {\n            padding: 0 1rem !important;\n          }\n          \n          .main-heading {\n            font-size: 28px !important;\n          }\n          \n          .sub-heading {\n            font-size: 15px !important;\n          }\n          \n          .right-content {\n            grid-template-columns: 1fr !important;\n            grid-template-rows: repeat(10, 100px) !important;\n          }\n          \n          .main-content {\n            padding: 20px 0 !important;\n          }\n        }\n        \n        @media (max-width: 375px) {\n          .container {\n            padding: 0 0.75rem !important;\n          }\n          \n          .main-heading {\n            font-size: 24px !important;\n            margin-bottom: 16px !important;\n          }\n          \n          .sub-heading {\n            font-size: 14px !important;\n            margin-bottom: 24px !important;\n          }\n        }\n      ")}),(0,s.jsxs)("main",{style:h.mainContent,className:"main-content",children:[(0,s.jsxs)("div",{style:h.leftContent,className:"left-content",children:[(0,s.jsxs)("h1",{style:h.mainHeading,className:"main-heading",children:["We protect the world's",(0,s.jsx)("br",{}),"most precious ecosystems"]}),(0,s.jsx)("p",{style:h.subHeading,className:"sub-heading",children:"Our innovative conservation approach directly supports high-impact environmental protection and community empowerment"}),(0,s.jsx)("button",{style:h.ctaButton,className:"cta-button",onClick:()=>window.open("/impact","_blank"),children:"View Our Impact \u2192"})]}),(0,s.jsx)("div",{ref:d,style:h.rightContent,className:"right-content",children:(()=>{if(t)return(0,s.jsxs)("div",{style:h.loadingContainer,children:[(0,s.jsx)(In.A,{size:48,color:p.primary,style:{animation:"spin 2s linear infinite"}}),(0,s.jsx)("p",{style:h.loadingText,children:"Loading our impact..."})]});const n=[];let a=0,r=0;for(let t=0;t<10;t++){const o="cell".concat(t+1);if([1,3,6,8].includes(t)&&r<e.length){const t=e[r],a=(En[t.icon]||Nn.A,g(t.current_value,t.starting_value));n.push((0,s.jsxs)("div",{style:(0,m.A)((0,m.A)((0,m.A)({},h.gridItem),h.statCell),h[o]),onMouseEnter:e=>{e.currentTarget.style.transform="translateY(-4px) scale(1.02)",e.currentTarget.style.boxShadow="0 8px 25px ".concat(p.cardShadow)},onMouseLeave:e=>{const n=l?"translateY(0) scale(1)":"translateY(20px) scale(0.9)";e.currentTarget.style.transform=n,e.currentTarget.style.boxShadow="0 4px 12px ".concat(p.cardShadow)},children:[(0,s.jsx)("div",{style:(0,m.A)((0,m.A)({},h.statNumber),{},{color:t.color}),children:u(t.current_value,t.unit)}),(0,s.jsx)("div",{style:h.statLabel,children:t.name}),a>0&&(0,s.jsxs)("div",{style:h.growthIndicator,children:[(0,s.jsx)(_n.A,{size:10}),"+",a,"%"]})]},"stat-".concat(t.id))),r++}else{const e=Tn[a%Tn.length];n.push((0,s.jsx)("div",{style:(0,m.A)((0,m.A)((0,m.A)((0,m.A)({},h.gridItem),h.imageCell),h[o]),{},{backgroundImage:"url(".concat(e.url,")")}),onMouseEnter:e=>{e.currentTarget.style.transform="scale(1.05)";const n=e.currentTarget.querySelector(".image-overlay");n&&(n.style.opacity="1")},onMouseLeave:e=>{e.currentTarget.style.transform="scale(1)";const n=e.currentTarget.querySelector(".image-overlay");n&&(n.style.opacity="0")},children:(0,s.jsx)("div",{className:"image-overlay",style:h.imageOverlay,children:(0,s.jsx)(Ae.A,{size:24,color:"white",style:{opacity:.9}})})},"image-".concat(a))),a++}}return n})()})]})]})};var Fn=t(9806),Pn=t(298),Rn=t(4799),Bn=t(6154),Dn=t(3699),Ln=t(256),Mn=t(9067),Hn=t(4282),qn=t(7471),On=t(172),Un=t(3089),Yn=t(1244),Gn=t(6128),Vn=t(5979),Jn=t(6013),Kn=t(3201),Xn=t(6396),Zn=t(7601),$n=t(3745),Qn=t(2426),et=t(8104),nt=t(3900),tt=t(8231),at=t(7079);const rt=Ge,ot=e=>{let{initialCategoryFilter:n=null}=e;const t=(0,a.Zp)(),{colors:r,isDarkMode:o}=y(),l=(0,a.zy)(),[c,d]=(0,i.useState)([]),[p,x]=(0,i.useState)([]),[u,g]=(0,i.useState)([]),[h,f]=(0,i.useState)([]),[b,j]=(0,i.useState)(!0),[v,w]=(0,i.useState)(new Set),[A,k]=(0,i.useState)("grid"),[S,C]=(0,i.useState)({search:"",categoryId:n||"",countryId:"",status:"",featured:""}),z=(0,i.useRef)([]),I=[{id:"placeholder-1",title:"Clean Water Initiative - Lake Victoria",short_description:"Providing sustainable clean water solutions to rural communities around Lake Victoria through innovative filtration systems.",category_name:"Water & Sanitation",status:"ongoing",location:"Kisumu County, Kenya",is_featured:!0,featured_image:null},{id:"placeholder-2",title:"Solar Energy for Schools Project",short_description:"Installing solar panel systems in primary schools across rural Kenya to improve learning conditions and reduce energy costs.",category_name:"Renewable Energy",status:"ongoing",location:"Nakuru County, Kenya",is_featured:!1,featured_image:null},{id:"placeholder-3",title:"Community Reforestation Program",short_description:"Engaging local communities in large-scale tree planting initiatives to combat deforestation and promote biodiversity.",category_name:"Environment",status:"completed",location:"Mount Kenya Region",is_featured:!0,featured_image:null},{id:"placeholder-4",title:"Urban Waste Management System",short_description:"Implementing innovative waste sorting and recycling programs in Nairobi informal settlements.",category_name:"Waste Management",status:"planning",location:"Nairobi County, Kenya",is_featured:!1,featured_image:null},{id:"placeholder-5",title:"Agricultural Technology Training",short_description:"Teaching modern farming techniques and providing agricultural equipment to smallholder farmers.",category_name:"Agriculture",status:"ongoing",location:"Central Kenya",is_featured:!1,featured_image:null},{id:"placeholder-6",title:"Coastal Conservation Initiative",short_description:"Protecting marine ecosystems through community-based conservation programs along the Kenyan coast.",category_name:"Marine Conservation",status:"ongoing",location:"Mombasa County, Kenya",is_featured:!0,featured_image:null}],T=[{id:"cat-1",name:"Water & Sanitation"},{id:"cat-2",name:"Renewable Energy"},{id:"cat-3",name:"Environment"},{id:"cat-4",name:"Waste Management"},{id:"cat-5",name:"Agriculture"},{id:"cat-6",name:"Marine Conservation"}],W={planning:{label:"Planning",icon:(0,s.jsx)(Vn.A,{}),color:r.warning,bgColor:"".concat(r.warning,"20")},ongoing:{label:"Ongoing",icon:(0,s.jsx)(Jn.A,{}),color:r.info,bgColor:"".concat(r.info,"20")},completed:{label:"Completed",icon:(0,s.jsx)(Kn.A,{}),color:r.success,bgColor:"".concat(r.success,"20")},on_hold:{label:"On Hold",icon:(0,s.jsx)(Vn.A,{}),color:r.warning,bgColor:"".concat(r.warning,"20")}},F={hidden:{opacity:0,y:20,scale:.95},visible:{opacity:1,y:0,scale:1,transition:{duration:.5,ease:"easeOut"}},hover:{y:-8,scale:1.02,transition:{duration:.3,ease:"easeOut"}}};(0,i.useEffect)(()=>{(async()=>{j(!0);try{await Promise.all([B(),D()]),await R()}catch(e){console.error("Error initializing data:",e),d(I),g(T),f([{id:"ke",name:"Kenya"},{id:"ug",name:"Uganda"},{id:"tz",name:"Tanzania"}])}finally{j(!1)}})()},[]),(0,i.useEffect)(()=>{n&&u.length>0&&C(e=>(0,m.A)((0,m.A)({},e),{},{categoryId:n}))},[n,u]),(0,i.useEffect)(()=>{P()},[S,c]);const P=()=>{let e=[...c];S.search&&(e=e.filter(e=>e.title.toLowerCase().includes(S.search.toLowerCase())||e.short_description&&e.short_description.toLowerCase().includes(S.search.toLowerCase())||e.description&&e.description.toLowerCase().includes(S.search.toLowerCase())||e.location&&e.location.toLowerCase().includes(S.search.toLowerCase()))),S.categoryId&&(e=e.filter(e=>{var n;return e.category_id===S.categoryId||e.category_name===(null===(n=u.find(e=>e.id===S.categoryId))||void 0===n?void 0:n.name)})),S.countryId&&(e=e.filter(e=>e.country_id===S.countryId)),S.status&&(e=e.filter(e=>e.status===S.status)),"true"===S.featured?e=e.filter(e=>e.is_featured):"false"===S.featured&&(e=e.filter(e=>!e.is_featured)),e.sort((e,n)=>e.is_featured&&!n.is_featured?-1:!e.is_featured&&n.is_featured?1:e.title.localeCompare(n.title)),x(e)};(0,i.useEffect)(()=>{const e=[];return z.current.forEach((n,t)=>{if(n){const a=new IntersectionObserver(e=>{let[n]=e;n.isIntersecting&&w(e=>new Set([...e,t]))},{threshold:.1,rootMargin:"50px"});a.observe(n),e.push(a)}}),()=>{e.forEach(e=>e.disconnect())}},[p]);const R=async()=>{try{const e=await fetch("".concat(rt,"/projects"),{method:"GET",credentials:"include",headers:{"Content-Type":"application/json"}});if(!e.ok)throw new Error("HTTP error! status: ".concat(e.status));const n=await e.json();if(n.success){const e=Array.isArray(n.data)?n.data:[];e.length>0?d(e):d(I)}else Array.isArray(n)?d(n.length>0?n:I):d(I)}catch(e){console.error("Error fetching projects:",e),d(I)}},B=async()=>{try{const e=await fetch("".concat(rt,"/categories"),{credentials:"include"});if(!e.ok)throw new Error("HTTP error! status: ".concat(e.status));const n=await e.json();if(n.success){const e=Array.isArray(n.data)?n.data:[];g(e.length>0?e:T)}else Array.isArray(n)?g(n.length>0?n:T):g(T)}catch(e){console.error("Error fetching categories:",e),g(T)}},D=async()=>{try{const e=await fetch("".concat(rt,"/countries"),{credentials:"include"});if(!e.ok)throw new Error("HTTP error! status: ".concat(e.status));const n=await e.json();if(n.success){const e=Array.isArray(n.data)?n.data:[];f(e.length>0?e:[{id:"ke",name:"Kenya"},{id:"ug",name:"Uganda"},{id:"tz",name:"Tanzania"}])}else Array.isArray(n)?f(n.length>0?n:[{id:"ke",name:"Kenya"},{id:"ug",name:"Uganda"},{id:"tz",name:"Tanzania"}]):f([{id:"ke",name:"Kenya"},{id:"ug",name:"Uganda"},{id:"tz",name:"Tanzania"}])}catch(e){console.error("Error fetching countries:",e),f([{id:"ke",name:"Kenya"},{id:"ug",name:"Uganda"},{id:"tz",name:"Tanzania"}])}},L=(e,n)=>{C(t=>(0,m.A)((0,m.A)({},t),{},{[e]:n})),w(new Set)},M=()=>{C({search:"",categoryId:"",countryId:"",status:"",featured:""}),w(new Set)},H=e=>W[e]||W.planning,q=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:120;return e?e.length<=n?e:e.substring(0,n)+"...":""},O=c.length,U=c.filter(e=>e.is_featured).length,Y=c.filter(e=>"ongoing"===e.status).length,G=c.filter(e=>"completed"===e.status).length;return(0,s.jsxs)(N.A,{sx:{minHeight:"100vh",minWidth:"100vh",minlength:"100vh",backgroundColor:r.background,py:6},children:[(0,s.jsx)(Le,{}),(0,s.jsxs)(Fn.A,{maxWidth:"xl",children:[(0,s.jsx)(pe.P.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.8},children:(0,s.jsxs)(N.A,{sx:{textAlign:"center",mb:8,py:4},children:[(0,s.jsx)(_.A,{variant:"h1",sx:{fontWeight:800,color:r.text,mb:2,fontSize:{xs:"2.5rem",md:"3.5rem"},letterSpacing:"-0.02em"},children:"Impact Projects"}),(0,s.jsx)(_.A,{variant:"h6",sx:{color:r.textSecondary,fontWeight:400,maxWidth:"600px",mx:"auto",mb:4},children:"Driving sustainable environmental change across Africa"}),(0,s.jsxs)(Pn.A,{direction:{xs:"column",sm:"row"},spacing:3,justifyContent:"center",alignItems:"center",sx:{mb:2},children:[(0,s.jsxs)(N.A,{sx:{display:"flex",alignItems:"center",gap:2,px:3,py:2,borderRadius:"50px",backgroundColor:r.surface,border:"1px solid ".concat(r.border)},children:[(0,s.jsx)(Xn.A,{sx:{color:r.primary,fontSize:24}}),(0,s.jsx)(_.A,{variant:"h4",sx:{color:r.text,fontWeight:700,mr:1},children:O}),(0,s.jsx)(_.A,{variant:"body1",sx:{color:r.textSecondary,fontWeight:500},children:"Total Projects"})]}),(0,s.jsxs)(N.A,{sx:{display:"flex",alignItems:"center",gap:2,px:3,py:2,borderRadius:"50px",backgroundColor:r.surface,border:"1px solid ".concat(r.border)},children:[(0,s.jsx)(Zn.A,{sx:{color:r.secondary,fontSize:24}}),(0,s.jsx)(_.A,{variant:"h4",sx:{color:r.text,fontWeight:700,mr:1},children:U}),(0,s.jsx)(_.A,{variant:"body1",sx:{color:r.textSecondary,fontWeight:500},children:"Featured"})]}),(0,s.jsxs)(N.A,{sx:{display:"flex",alignItems:"center",gap:2,px:3,py:2,borderRadius:"50px",backgroundColor:r.surface,border:"1px solid ".concat(r.border)},children:[(0,s.jsx)(Jn.A,{sx:{color:r.info,fontSize:24}}),(0,s.jsx)(_.A,{variant:"h4",sx:{color:r.text,fontWeight:700,mr:1},children:Y}),(0,s.jsx)(_.A,{variant:"body1",sx:{color:r.textSecondary,fontWeight:500},children:"Active"})]}),(0,s.jsxs)(N.A,{sx:{display:"flex",alignItems:"center",gap:2,px:3,py:2,borderRadius:"50px",backgroundColor:r.surface,border:"1px solid ".concat(r.border)},children:[(0,s.jsx)(Kn.A,{sx:{color:r.success,fontSize:24}}),(0,s.jsx)(_.A,{variant:"h4",sx:{color:r.text,fontWeight:700,mr:1},children:G}),(0,s.jsx)(_.A,{variant:"body1",sx:{color:r.textSecondary,fontWeight:500},children:"Completed"})]})]}),(0,s.jsx)(_.A,{variant:"body2",sx:{color:r.textMuted,fontWeight:500,mt:2},children:p.length===O?"Showing all ".concat(O," projects"):"Showing ".concat(p.length," of ").concat(O," projects")})]})}),(0,s.jsx)(pe.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},children:(0,s.jsx)(Rn.A,{sx:{p:3,mb:6,backgroundColor:r.surface,border:"1px solid ".concat(r.border),borderRadius:3,boxShadow:"none"},children:(0,s.jsxs)(Pn.A,{direction:{xs:"column",md:"row"},spacing:3,alignItems:"center",children:[(0,s.jsx)(Bn.A,{placeholder:"Search projects...",value:S.search,onChange:e=>{const n=e.target.value;C(e=>(0,m.A)((0,m.A)({},e),{},{search:n})),w(new Set)},size:"medium",sx:{minWidth:{xs:"100%",md:"300px"},"& .MuiOutlinedInput-root":{backgroundColor:r.background,"& fieldset":{borderColor:r.borderLight},"&:hover fieldset":{borderColor:r.primary}}},InputProps:{startAdornment:(0,s.jsx)(Dn.A,{position:"start",children:(0,s.jsx)($n.A,{sx:{color:r.textMuted}})})}}),(0,s.jsxs)(Ln.A,{size:"medium",sx:{minWidth:160},children:[(0,s.jsx)(Mn.A,{children:"Category"}),(0,s.jsxs)(Hn.A,{value:S.categoryId,onChange:e=>L("categoryId",e.target.value),sx:{backgroundColor:r.background},children:[(0,s.jsx)(qn.A,{value:"",children:"All Categories"}),u.map(e=>(0,s.jsx)(qn.A,{value:e.id,children:e.name},e.id))]})]}),(0,s.jsxs)(Ln.A,{size:"medium",sx:{minWidth:140},children:[(0,s.jsx)(Mn.A,{children:"Status"}),(0,s.jsxs)(Hn.A,{value:S.status,onChange:e=>L("status",e.target.value),sx:{backgroundColor:r.background},children:[(0,s.jsx)(qn.A,{value:"",children:"All Status"}),Object.entries(W).map(e=>{let[n,t]=e;return(0,s.jsx)(qn.A,{value:n,children:t.label},n)})]})]}),(0,s.jsxs)(Ln.A,{size:"medium",sx:{minWidth:120},children:[(0,s.jsx)(Mn.A,{children:"Featured"}),(0,s.jsxs)(Hn.A,{value:S.featured,onChange:e=>L("featured",e.target.value),sx:{backgroundColor:r.background},children:[(0,s.jsx)(qn.A,{value:"",children:"All Projects"}),(0,s.jsx)(qn.A,{value:"true",children:"Featured Only"}),(0,s.jsx)(qn.A,{value:"false",children:"Regular Only"})]})]}),(0,s.jsx)(E.A,{onClick:M,variant:"outlined",startIcon:(0,s.jsx)(Qn.A,{}),sx:{borderColor:r.border,color:r.textSecondary,"&:hover":{borderColor:r.primary,backgroundColor:"".concat(r.primary,"10")}},children:"Clear"}),(0,s.jsxs)(N.A,{sx:{ml:"auto",display:"flex",gap:1},children:[(0,s.jsx)(ce.A,{title:"Grid View",children:(0,s.jsx)(de.A,{onClick:()=>k("grid"),sx:{backgroundColor:"grid"===A?r.primary:"transparent",color:"grid"===A?r.white:r.textSecondary,"&:hover":{backgroundColor:"grid"===A?r.primaryDark:"".concat(r.primary,"20")}},children:(0,s.jsx)(et.A,{})})}),(0,s.jsx)(ce.A,{title:"List View",children:(0,s.jsx)(de.A,{onClick:()=>k("list"),sx:{backgroundColor:"list"===A?r.primary:"transparent",color:"list"===A?r.white:r.textSecondary,"&:hover":{backgroundColor:"list"===A?r.primaryDark:"".concat(r.primary,"20")}},children:(0,s.jsx)(nt.A,{})})})]})]})})}),b?(0,s.jsxs)(N.A,{sx:{display:"flex",flexDirection:"column",alignItems:"center",py:12},children:[(0,s.jsx)(On.A,{size:60,thickness:4,sx:{color:r.primary,mb:3}}),(0,s.jsx)(_.A,{variant:"h6",sx:{color:r.textSecondary,fontWeight:500},children:"Loading Projects..."})]}):0===p.length?(0,s.jsxs)(N.A,{sx:{textAlign:"center",py:12},children:[(0,s.jsx)(Xn.A,{sx:{fontSize:80,color:r.textMuted,mb:3}}),(0,s.jsx)(_.A,{variant:"h4",sx:{color:r.text,fontWeight:600,mb:2},children:"No Projects Found"}),(0,s.jsx)(_.A,{variant:"body1",sx:{color:r.textSecondary,maxWidth:"400px",mx:"auto",mb:3},children:"Try adjusting your search or filters to discover more projects"}),(0,s.jsx)(E.A,{onClick:M,variant:"outlined",sx:{borderColor:r.primary,color:r.primary,"&:hover":{borderColor:r.primaryDark,backgroundColor:"".concat(r.primary,"10")}},children:"Clear All Filters"})]}):(0,s.jsx)(pe.P.div,{variants:{hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},initial:"hidden",animate:"visible",children:(0,s.jsx)(Un.A,{container:!0,spacing:4,children:p.map((e,n)=>(0,s.jsx)(Un.A,{item:!0,xs:12,sm:6,lg:4,children:(0,s.jsx)("div",{ref:e=>z.current[n]=e,children:(0,s.jsx)(pe.P.div,{variants:F,whileHover:"hover",layout:!0,children:(0,s.jsxs)(Yn.A,{onClick:n=>((e,n)=>{console.log("Project clicked:",e.id,e.title),n&&(n.preventDefault(),n.stopPropagation());try{t("/project/".concat(e.id),{state:{project:e,from:l.pathname},replace:!1})}catch(a){console.error("Navigation failed:",a)}})(e,n),sx:{height:"520px",minHeight:"520px",width:"100%",display:"flex",flexDirection:"column",borderRadius:3,overflow:"hidden",backgroundColor:r.surface,border:"1px solid ".concat(r.borderLight),boxShadow:"none",cursor:"pointer",transition:"all 0.3s ease",position:"relative","&:hover":{transform:"translateY(-4px)",boxShadow:"0 12px 40px ".concat(r.primary,"20")}},children:[(0,s.jsxs)(N.A,{sx:{height:200,position:"relative",background:e.featured_image?"none":"Water & Sanitation"===e.category_name?"linear-gradient(135deg, #26BDE2 0%, #1976d2 100%)":"Renewable Energy"===e.category_name?"linear-gradient(135deg, #FCC30B 0%, #FF9800 100%)":"Environment"===e.category_name?"linear-gradient(135deg, #56C02B 0%, #4CAF50 100%)":"Waste Management"===e.category_name?"linear-gradient(135deg, #9C27B0 0%, #673AB7 100%)":"Agriculture"===e.category_name?"linear-gradient(135deg, #FF9800 0%, #FF5722 100%)":"Marine Conservation"===e.category_name?"linear-gradient(135deg, #0A97D9 0%, #1976d2 100%)":"linear-gradient(135deg, ".concat(r.primary," 0%, ").concat(r.primaryDark," 100%)"),backgroundImage:e.featured_image?"url(".concat(e.featured_image.startsWith("http")?e.featured_image:"".concat(Ve||"").concat(e.featured_image),")"):"none",backgroundSize:"cover",backgroundPosition:"center",display:"flex",alignItems:"center",justifyContent:"center",color:"white"},children:[e.featured_image&&(0,s.jsx)(N.A,{sx:{position:"absolute",top:0,left:0,right:0,bottom:0,background:"linear-gradient(135deg, rgba(0,0,0,0.4) 0%, rgba(0,0,0,0.2) 100%)"}}),!e.featured_image&&(0,s.jsx)(N.A,{sx:{fontSize:"4rem",opacity:.9,zIndex:1},children:"Water & Sanitation"===e.category_name?"\ud83d\udca7":"Renewable Energy"===e.category_name?"\u26a1":"Environment"===e.category_name?"\ud83c\udf33":"Waste Management"===e.category_name?"\u267b\ufe0f":"Agriculture"===e.category_name?"\ud83c\udf3e":"Marine Conservation"===e.category_name?"\ud83c\udf0a":"\ud83c\udf0d"}),(0,s.jsx)(N.A,{sx:{position:"absolute",top:16,right:16,backgroundColor:"rgba(255, 255, 255, 0.2)",backdropFilter:"blur(10px)",px:2,py:1,borderRadius:2,border:"1px solid rgba(255, 255, 255, 0.3)",zIndex:2},children:(0,s.jsx)(_.A,{variant:"body2",sx:{color:"white",fontWeight:600},children:"2024"})}),(0,s.jsx)(N.A,{sx:{position:"absolute",top:16,left:16,backgroundColor:"rgba(255, 255, 255, 0.9)",px:2,py:.5,borderRadius:1,backdropFilter:"blur(10px)",zIndex:2},children:(0,s.jsx)(_.A,{variant:"caption",sx:{fontWeight:600,fontSize:"0.7rem",textTransform:"uppercase",letterSpacing:"0.5px",color:e.featured_image?r.text:"inherit"},children:e.category_name||"Project"})}),e.is_featured&&(0,s.jsxs)(N.A,{sx:{position:"absolute",bottom:16,right:16,backgroundColor:r.secondary,color:r.black,px:2,py:.5,borderRadius:1,display:"flex",alignItems:"center",gap:.5,zIndex:2},children:[(0,s.jsx)(Zn.A,{sx:{fontSize:16}}),(0,s.jsx)(_.A,{variant:"caption",sx:{fontWeight:700,fontSize:"0.7rem"},children:"FEATURED"})]})]}),(0,s.jsxs)(Gn.A,{sx:{p:3,height:"calc(100% - 200px)",display:"flex",flexDirection:"column"},children:[(0,s.jsx)(_.A,{variant:"h6",sx:{fontSize:"1.2rem",fontWeight:700,color:r.text,mb:2,lineHeight:1.3,overflow:"hidden",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical"},children:e.title}),(0,s.jsx)(_.A,{variant:"body2",sx:{color:r.textSecondary,lineHeight:1.6,mb:3,flex:1,overflow:"hidden",display:"-webkit-box",WebkitLineClamp:3,WebkitBoxOrient:"vertical"},children:q(e.short_description||e.description,140)}),e.location&&(0,s.jsxs)(N.A,{sx:{display:"flex",alignItems:"center",mb:3},children:[(0,s.jsx)(tt.A,{sx:{fontSize:16,mr:1,color:r.textMuted}}),(0,s.jsx)(_.A,{variant:"body2",sx:{color:r.textSecondary,fontWeight:500},children:e.location})]}),(0,s.jsxs)(N.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3,gap:2},children:[(0,s.jsxs)(N.A,{sx:{display:"flex",alignItems:"center",gap:1},children:["Water & Sanitation"===e.category_name&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(N.A,{sx:{width:8,height:8,borderRadius:"50%",backgroundColor:r.success}}),(0,s.jsx)(_.A,{variant:"caption",sx:{color:r.textSecondary},children:"500+ volunteers"})]}),"Renewable Energy"===e.category_name&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(N.A,{sx:{width:8,height:8,borderRadius:"50%",backgroundColor:r.info}}),(0,s.jsx)(_.A,{variant:"caption",sx:{color:r.textSecondary},children:"15 Communities"})]}),"Environment"===e.category_name&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(N.A,{sx:{width:8,height:8,borderRadius:"50%",backgroundColor:r.success}}),(0,s.jsx)(_.A,{variant:"caption",sx:{color:r.textSecondary},children:"Rural Areas"})]}),(!e.category_name||!["Water & Sanitation","Renewable Energy","Environment"].includes(e.category_name))&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(N.A,{sx:{width:8,height:8,borderRadius:"50%",backgroundColor:r.primary}}),(0,s.jsx)(_.A,{variant:"caption",sx:{color:r.textSecondary},children:"Active Project"})]})]}),(0,s.jsxs)(N.A,{sx:{display:"flex",alignItems:"center",gap:1},children:[H(e.status).icon,(0,s.jsx)(_.A,{variant:"caption",sx:{color:H(e.status).color,fontWeight:600},children:H(e.status).label})]})]}),(0,s.jsxs)(N.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3,gap:2},children:[(0,s.jsxs)(N.A,{sx:{display:"flex",alignItems:"center",gap:1},children:["Water & Sanitation"===e.category_name&&(0,s.jsx)(_.A,{variant:"caption",sx:{color:r.textSecondary},children:"500 trees planted"}),"Renewable Energy"===e.category_name&&(0,s.jsx)(_.A,{variant:"caption",sx:{color:r.textSecondary},children:"25 workshops"}),"Environment"===e.category_name&&(0,s.jsx)(_.A,{variant:"caption",sx:{color:r.textSecondary},children:"15 training sessions"}),(!e.category_name||!["Water & Sanitation","Renewable Energy","Environment"].includes(e.category_name))&&(0,s.jsx)(_.A,{variant:"caption",sx:{color:r.textSecondary},children:"In Progress"})]}),(0,s.jsxs)(N.A,{sx:{display:"flex",alignItems:"center",gap:1},children:["Water & Sanitation"===e.category_name&&(0,s.jsx)(_.A,{variant:"caption",sx:{color:r.success,fontWeight:600},children:"On track"}),"Renewable Energy"===e.category_name&&(0,s.jsx)(_.A,{variant:"caption",sx:{color:r.success,fontWeight:600},children:"Excellent"}),"Environment"===e.category_name&&(0,s.jsx)(_.A,{variant:"caption",sx:{color:r.warning,fontWeight:600},children:"In progress"}),(!e.category_name||!["Water & Sanitation","Renewable Energy","Environment"].includes(e.category_name))&&(0,s.jsx)(_.A,{variant:"caption",sx:{color:r.primary,fontWeight:600},children:"Active"})]})]}),(0,s.jsxs)(N.A,{sx:{mb:3},children:[(0,s.jsxs)(N.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:1},children:[(0,s.jsx)(_.A,{variant:"body2",sx:{color:r.text,fontWeight:600},children:"Progress"}),(0,s.jsx)(_.A,{variant:"body2",sx:{color:r.text,fontWeight:700},children:"Water & Sanitation"===e.category_name?"85%":"Renewable Energy"===e.category_name?"92%":"Environment"===e.category_name?"70%":"completed"===e.status?"100%":"ongoing"===e.status?"65%":"25%"})]}),(0,s.jsx)(N.A,{sx:{height:6,backgroundColor:r.borderLight,borderRadius:3,overflow:"hidden"},children:(0,s.jsx)(N.A,{sx:{height:"100%",width:"Water & Sanitation"===e.category_name?"85%":"Renewable Energy"===e.category_name?"92%":"Environment"===e.category_name?"70%":"completed"===e.status?"100%":"ongoing"===e.status?"65%":"25%",backgroundColor:"Water & Sanitation"===e.category_name?"#4CAF50":"Renewable Energy"===e.category_name?"#2196F3":"Environment"===e.category_name?"#FF9800":r.primary,borderRadius:3,transition:"width 0.3s ease"}})})]}),(0,s.jsx)(E.A,{variant:"contained",endIcon:(0,s.jsx)(at.A,{}),fullWidth:!0,sx:{backgroundColor:"Water & Sanitation"===e.category_name?"#4CAF50":"Renewable Energy"===e.category_name?"#2196F3":"Environment"===e.category_name?"#FF9800":r.primary,color:"white",fontWeight:600,py:1.5,borderRadius:2,textTransform:"none",fontSize:"0.9rem","&:hover":{backgroundColor:"Water & Sanitation"===e.category_name?"#45a049":"Renewable Energy"===e.category_name?"#1976d2":"Environment"===e.category_name?"#f57c00":r.primaryDark,transform:"translateY(-1px)"}},children:"Learn More"})]})]})})})},e.id))})})]}),(0,s.jsx)(jn,{}),(0,s.jsx)(Qe,{})]})};var it=t(3759),st=t(6370);const lt=Ge,ct=e=>{let{initialCategoryFilter:n=null}=e;const t=(0,a.Zp)(),{colors:r,isDarkMode:o}=y(),l=(0,a.zy)(),[c,d]=(0,i.useState)([]),[p,m]=(0,i.useState)([]),[x,u]=(0,i.useState)(!0),[g,h]=(0,i.useState)(0),[f,b]=(0,i.useState)(!1),j=((0,i.useRef)(),(0,i.useRef)(null)),v="#0a451c",w="#facf3c",A="#9ccf9f",k="#3b82f6",S="#1a5a2c",C="#ffffff",z="#fafafa",I="#f3f4f6",T="#e5e7eb",F="#d1d5db",P="#9ca3af",R="#1f2937",B="#6b7280",D="#e5e7eb",L=[{id:"placeholder-1",title:"Clean Water Initiative - Lake Victoria",short_description:"Providing sustainable clean water solutions to rural communities around Lake Victoria through innovative filtration systems.",category_name:"Water & Sanitation",status:"ongoing",location:"Kisumu County, Kenya",is_featured:!0,featured_image:null,person_name:"Sarah Wanjiku"},{id:"placeholder-2",title:"Solar Energy for Schools Project",short_description:"Installing solar panel systems in primary schools across rural Kenya to improve learning conditions.",category_name:"Renewable Energy",status:"ongoing",location:"Nakuru County, Kenya",is_featured:!1,featured_image:null,person_name:"James Kiprotich"},{id:"placeholder-3",title:"Community Reforestation Program",short_description:"Engaging local communities in large-scale tree planting initiatives to combat deforestation.",category_name:"Environment",status:"completed",location:"Mount Kenya Region",is_featured:!0,featured_image:null,person_name:"Grace Muthoni"},{id:"placeholder-4",title:"Urban Waste Management System",short_description:"Implementing innovative waste sorting and recycling programs in Nairobi settlements.",category_name:"Waste Management",status:"planning",location:"Nairobi County, Kenya",is_featured:!1,featured_image:null,person_name:"Peter Ochieng"},{id:"placeholder-5",title:"Agricultural Technology Training",short_description:"Teaching modern farming techniques and providing equipment to smallholder farmers.",category_name:"Agriculture",status:"ongoing",location:"Central Kenya",is_featured:!1,featured_image:null,person_name:"Mary Nyambura"},{id:"placeholder-6",title:"Coastal Conservation Initiative",short_description:"Protecting marine ecosystems through community-based conservation programs.",category_name:"Marine Conservation",status:"ongoing",location:"Mombasa County, Kenya",is_featured:!0,featured_image:null,person_name:"Hassan Omar"}],M=[{id:"cat-1",name:"Water & Sanitation"},{id:"cat-2",name:"Renewable Energy"},{id:"cat-3",name:"Environment"},{id:"cat-4",name:"Waste Management"},{id:"cat-5",name:"Agriculture"},{id:"cat-6",name:"Marine Conservation"}],H={planning:{label:"Planning",icon:(0,s.jsx)(Vn.A,{}),color:k,bgColor:"".concat(k,"20")},ongoing:{label:"Ongoing",icon:(0,s.jsx)(Jn.A,{}),color:A,bgColor:"".concat(A,"20")},completed:{label:"Completed",icon:(0,s.jsx)(Kn.A,{}),color:v,bgColor:"".concat(v,"20")},on_hold:{label:"On Hold",icon:(0,s.jsx)(Vn.A,{}),color:w,bgColor:"".concat(w,"20")}};(0,i.useEffect)(()=>{(async()=>{u(!0);try{await Promise.all([O()]),await q()}catch(e){console.error("Error initializing data:",e),d(L),m(M)}finally{u(!1)}})()},[]);const q=async()=>{try{const e=await fetch("".concat(lt,"/projects"),{method:"GET",credentials:"include",headers:{"Content-Type":"application/json"}});if(!e.ok)throw new Error("HTTP error! status: ".concat(e.status));const n=await e.json();if(n.success){const e=Array.isArray(n.data)?n.data:[];e.length>0?d(e):d(L)}else Array.isArray(n)?d(n.length>0?n:L):d(L)}catch(e){console.error("Error fetching projects:",e),d(L)}},O=async()=>{try{const e=await fetch("".concat(lt,"/categories"),{credentials:"include"});if(!e.ok)throw new Error("HTTP error! status: ".concat(e.status));const n=await e.json();if(n.success){const e=Array.isArray(n.data)?n.data:[];m(e.length>0?e:M)}else Array.isArray(n)?m(n.length>0?n:M):m(M)}catch(e){console.error("Error fetching categories:",e),m(M)}},U=e=>H[e]||H.planning,Y=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100;return e?e.length<=n?e:e.substring(0,n)+"...":""},G=g<c.length-Math.floor(4.5),V=g>0,J=()=>{G&&!f&&(b(!0),h(e=>e+1),setTimeout(()=>b(!1),300))};return(0,i.useEffect)(()=>{const e=setInterval(()=>{G?J():h(0)},8e3);return()=>clearInterval(e)},[G,g]),x?(0,s.jsxs)(N.A,{sx:{display:"flex",flexDirection:"column",alignItems:"center",py:8},children:[(0,s.jsx)(On.A,{size:50,thickness:4,sx:{color:v,mb:2}}),(0,s.jsx)(_.A,{sx:{color:B,fontWeight:500,fontSize:"0.85rem"},children:"Loading projects..."})]}):(0,s.jsxs)(N.A,{sx:{backgroundColor:C,fontFamily:'"Inter", sans-serif',position:"relative",py:6},children:[(0,s.jsxs)(Fn.A,{maxWidth:"xl",children:[(0,s.jsx)(pe.P.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.8},children:(0,s.jsxs)(N.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",mb:4,ml:"96px"},children:[(0,s.jsxs)(N.A,{children:[(0,s.jsx)(_.A,{variant:"h3",sx:{fontSize:"2.5rem",fontWeight:700,color:v,mb:2,letterSpacing:"-0.02em"},children:"Recent Projects"}),(0,s.jsx)(_.A,{sx:{color:B,fontWeight:400,fontSize:"1.1rem",maxWidth:"500px",lineHeight:1.6,mb:3},children:"Our completed and ongoing projects are acively creating a tremendous change in Africa. We continue to roll out new projects following gaps we identify from the societies we are impacting.              "}),(0,s.jsxs)(Pn.A,{direction:"row",spacing:3,sx:{mb:2},children:[(0,s.jsxs)(N.A,{sx:{textAlign:"center"},children:[(0,s.jsx)(_.A,{sx:{fontSize:"2rem",fontWeight:700,color:v},children:c.length}),(0,s.jsx)(_.A,{sx:{fontSize:"0.8rem",color:B,fontWeight:500},children:"Active Projects"})]}),(0,s.jsxs)(N.A,{sx:{textAlign:"center"},children:[(0,s.jsx)(_.A,{sx:{fontSize:"2rem",fontWeight:700,color:A},children:c.filter(e=>"completed"===e.status).length}),(0,s.jsx)(_.A,{sx:{fontSize:"0.8rem",color:B,fontWeight:500},children:"Completed"})]}),(0,s.jsxs)(N.A,{sx:{textAlign:"center"},children:[(0,s.jsx)(_.A,{sx:{fontSize:"2rem",fontWeight:700,color:w},children:c.filter(e=>e.is_featured).length}),(0,s.jsx)(_.A,{sx:{fontSize:"0.8rem",color:B,fontWeight:500},children:"Featured"})]})]})]}),(0,s.jsxs)(N.A,{sx:{display:"flex",flexDirection:"column",alignItems:"flex-end",gap:2},children:[(0,s.jsx)(E.A,{variant:"contained",onClick:()=>{t("/projectscatalogue")},endIcon:(0,s.jsx)(st.A,{}),sx:{backgroundColor:v,color:C,px:3,py:1.5,borderRadius:"12px",fontWeight:600,fontSize:"0.95rem",textTransform:"none",boxShadow:"0 4px 15px ".concat(v,"40"),"&:hover":{backgroundColor:S,transform:"translateY(-2px)",boxShadow:"0 8px 25px ".concat(v,"60")}},children:"Go to Projects Catalogue"}),(0,s.jsxs)(Pn.A,{direction:"row",spacing:1,children:[(0,s.jsx)(de.A,{onClick:()=>{V&&!f&&(b(!0),h(e=>e-1),setTimeout(()=>b(!1),300))},disabled:!V||f,sx:{backgroundColor:V?z:T,color:V?R:P,border:"1px solid ".concat(D),"&:hover":{backgroundColor:V?I:T},"&:disabled":{opacity:.5}},children:(0,s.jsx)(W.A,{})}),(0,s.jsx)(de.A,{onClick:J,disabled:!G||f,sx:{backgroundColor:G?z:T,color:G?R:P,border:"1px solid ".concat(D),"&:hover":{backgroundColor:G?I:T},"&:disabled":{opacity:.5}},children:(0,s.jsx)(at.A,{})})]})]})]})}),(0,s.jsx)(N.A,{sx:{position:"relative",overflow:"hidden",width:"100%",ml:"96px"},children:(0,s.jsx)(pe.P.div,{ref:j,style:{display:"flex",transform:"translateX(-".concat(320*g,"px)"),transition:"transform 0.5s cubic-bezier(0.4, 0, 0.2, 1)",gap:"24px"},children:c.map((e,n)=>(0,s.jsx)(pe.P.div,{style:{minWidth:"296px",flexShrink:0},initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1*n},children:(0,s.jsxs)(Yn.A,{onClick:n=>((e,n)=>{console.log("Project clicked:",e.id,e.title),n&&(n.preventDefault(),n.stopPropagation());try{t("/project/".concat(e.id),{state:{project:e,from:l.pathname},replace:!1})}catch(a){console.error("Navigation failed:",a)}})(e,n),sx:{height:"580px",width:"296px",borderRadius:"16px",overflow:"hidden",backgroundColor:C,border:"1px solid ".concat(D),boxShadow:"0 4px 12px rgba(0,0,0,0.05)",cursor:"pointer",transition:"all 0.4s cubic-bezier(0.4, 0, 0.2, 1)",position:"relative",display:"flex",flexDirection:"column",flexShrink:0,"&:hover":{transform:"translateY(-8px)",boxShadow:"0 12px 30px ".concat(v,"20"),borderColor:"".concat(v,"60")}},children:[(0,s.jsxs)(N.A,{sx:{height:240,position:"relative",flexShrink:0,background:e.featured_image?"none":"Water & Sanitation"===e.category_name?"linear-gradient(135deg, #26BDE2 0%, #1976d2 100%)":"Renewable Energy"===e.category_name?"linear-gradient(135deg, #FCC30B 0%, #FF9800 100%)":"Environment"===e.category_name?"linear-gradient(135deg, #56C02B 0%, #4CAF50 100%)":"Waste Management"===e.category_name?"linear-gradient(135deg, #9C27B0 0%, #673AB7 100%)":"Agriculture"===e.category_name?"linear-gradient(135deg, #FF9800 0%, #FF5722 100%)":"Marine Conservation"===e.category_name?"linear-gradient(135deg, #0A97D9 0%, #1976d2 100%)":"linear-gradient(135deg, ".concat(v," 0%, ").concat(S," 100%)"),backgroundImage:e.featured_image?"url(".concat(e.featured_image.startsWith("http")?e.featured_image:"".concat(Ve||"").concat(e.featured_image),")"):"none",backgroundSize:"cover",backgroundPosition:"center",display:"flex",alignItems:"flex-end",color:"white"},children:[e.featured_image&&(0,s.jsx)(N.A,{sx:{position:"absolute",top:0,left:0,right:0,bottom:0,background:"linear-gradient(0deg, rgba(0,0,0,0.6) 0%, transparent 50%)"}}),e.person_name&&(0,s.jsx)(N.A,{sx:{position:"absolute",bottom:16,left:16,backgroundColor:w,color:R,px:2,py:1,borderRadius:"8px",fontWeight:600,fontSize:"0.85rem",zIndex:2},children:e.person_name}),(0,s.jsxs)(N.A,{sx:{position:"absolute",top:16,right:16,backgroundColor:U(e.status).bgColor,color:U(e.status).color,px:1.5,py:.5,borderRadius:"12px",display:"flex",alignItems:"center",gap:.5,backdropFilter:"blur(10px)",zIndex:2},children:[i.cloneElement(U(e.status).icon,{sx:{fontSize:14}}),(0,s.jsx)(_.A,{sx:{fontWeight:600,fontSize:"0.7rem"},children:U(e.status).label.toUpperCase()})]}),e.is_featured&&(0,s.jsxs)(N.A,{sx:{position:"absolute",top:16,left:16,backgroundColor:v,color:C,px:1.5,py:.5,borderRadius:"12px",display:"flex",alignItems:"center",gap:.5,zIndex:2},children:[(0,s.jsx)(Zn.A,{sx:{fontSize:14}}),(0,s.jsx)(_.A,{sx:{fontWeight:600,fontSize:"0.7rem"},children:"FEATURED"})]})]}),(0,s.jsxs)(Gn.A,{sx:{p:3,height:"340px",display:"flex",flexDirection:"column",justifyContent:"space-between",overflow:"hidden"},children:[(0,s.jsxs)(N.A,{sx:{height:"220px",display:"flex",flexDirection:"column"},children:[(0,s.jsx)(it.A,{label:e.category_name||"Project",size:"small",sx:{backgroundColor:"".concat(v,"15"),color:v,fontWeight:600,fontSize:"0.7rem",mb:2,alignSelf:"flex-start"}}),(0,s.jsx)(_.A,{sx:{fontSize:"1.1rem",fontWeight:700,color:R,mb:2,lineHeight:1.3,height:"2.6em",overflow:"hidden",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical"},children:e.title}),(0,s.jsx)(_.A,{sx:{color:B,lineHeight:1.5,mb:2,height:"4.5em",overflow:"hidden",display:"-webkit-box",WebkitLineClamp:3,WebkitBoxOrient:"vertical",fontSize:"0.85rem"},children:Y(e.short_description||e.description,120)})]}),(0,s.jsxs)(N.A,{sx:{height:"120px",display:"flex",flexDirection:"column",justifyContent:"space-between"},children:[(0,s.jsx)(N.A,{sx:{display:"flex",alignItems:"center",mb:2,height:"24px",overflow:"hidden"},children:e.location?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(tt.A,{sx:{fontSize:16,mr:.5,color:B}}),(0,s.jsx)(_.A,{sx:{color:B,fontWeight:500,fontSize:"0.8rem",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:e.location})]}):(0,s.jsx)(N.A,{sx:{height:"16px"}})}),(0,s.jsx)(E.A,{variant:"outlined",endIcon:(0,s.jsx)(at.A,{sx:{fontSize:16}}),fullWidth:!0,sx:{borderColor:v,color:v,fontWeight:600,borderRadius:"10px",textTransform:"none",fontSize:"0.85rem",py:1.2,"&:hover":{backgroundColor:v,color:C,transform:"translateY(-1px)",borderColor:v}},children:"Read Story"})]})]})]})},e.id))})}),(0,s.jsx)(N.A,{sx:{display:"flex",justifyContent:"center",alignItems:"center",mt:4,gap:1},children:Array.from({length:Math.max(1,c.length-Math.floor(4.5)+1)}).map((e,n)=>(0,s.jsx)(N.A,{onClick:()=>{f||h(n)},sx:{width:g===n?24:8,height:8,borderRadius:4,backgroundColor:g===n?v:F,cursor:"pointer",transition:"all 0.3s ease","&:hover":{backgroundColor:g===n?S:P}}},n))})]}),(0,s.jsx)("style",{children:"\n        @media (max-width: 768px) {\n          .carousel-container {\n            padding: 0 16px;\n          }\n        }\n      "})]})},dt=()=>{const[e,n]=(0,i.useState)(null),[t,r]=(0,i.useState)(!0),[o,l]=(0,i.useState)(null),c=(0,a.Zp)(),{colors:d,isDarkMode:p}=y(),x=(0,i.useCallback)(async()=>{try{r(!0),l(null);const t=["/blogs","/blogs/published","/articles"];let a=null;for(const n of t)try{if(a=await fetch("".concat("http://localhost:5000/api").concat(n),{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"},credentials:"include"}),a.ok)break}catch(e){console.error("Endpoint ".concat(n," failed:"),e)}if(!a||!a.ok)throw new Error("Failed to fetch articles");const o=await a.json();let i=[];Array.isArray(o)?i=o:null!==o&&void 0!==o&&o.data&&Array.isArray(o.data)?i=o.data:null!==o&&void 0!==o&&o.articles&&Array.isArray(o.articles)?i=o.articles:null!==o&&void 0!==o&&o.blogs&&Array.isArray(o.blogs)&&(i=o.blogs);const s=i.filter(e=>"published"===e.status||!0===e.is_published||!0===e.published||!e.status&&!e.is_published&&!e.published).sort((e,n)=>new Date(n.published_at||n.created_at)-new Date(e.published_at||e.created_at))[0];s&&n((0,m.A)((0,m.A)({},s),{},{id:s.id||s._id||Math.random().toString(36),title:s.title||"Untitled Article",excerpt:s.excerpt||s.summary||"",content:s.content||s.body||"",created_at:s.created_at||s.createdAt||(new Date).toISOString(),published_at:s.published_at||s.publishedAt||s.created_at||s.createdAt,is_featured:s.is_featured||s.featured||!1,is_news:s.is_news||"news"===s.category||"news"===s.type||!1}))}catch(t){console.error("Failed to fetch latest article:",t),l(t.message)}finally{r(!1)}},[]);(0,i.useEffect)(()=>{x()},[x]);const u=(0,i.useCallback)(e=>{if(!e)return"Recent";const n=new Date,t=new Date(e),a=Math.abs(n-t),r=Math.floor(a/864e5);return 0===r?"Today":1===r?"Yesterday":r<7?"".concat(r," days ago"):t.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})},[]),g=(0,i.useCallback)(()=>{e&&c("/insights?article=".concat(e.id))},[e,c]),h=(0,i.useCallback)(()=>{c("/insights?section=news")},[c]),f={section:{padding:"60px 0 40px",backgroundColor:d.background,position:"relative"},container:{maxWidth:"1200px",margin:"0 auto",padding:"0 24px"},header:{display:"flex",justifyContent:"flex-end",marginBottom:"24px"},newsroomLink:{color:d.primary,fontSize:"14px",fontWeight:600,textDecoration:"none",cursor:"pointer",transition:"all 0.2s ease",padding:"8px 0",borderBottom:"2px solid transparent"},contentWrapper:{cursor:"pointer",transition:"all 0.3s ease",padding:"32px",borderRadius:"16px",background:p?"rgba(255, 255, 255, 0.02)":"rgba(0, 0, 0, 0.02)",border:"1px solid ".concat(p?"rgba(255, 255, 255, 0.05)":"rgba(0, 0, 0, 0.05)"),backdropFilter:"blur(10px)"},title:{fontSize:"clamp(24px, 4vw, 36px)",fontWeight:700,color:d.text,margin:"0 0 16px 0",lineHeight:"1.3"},excerpt:{color:d.textSecondary,fontSize:"16px",lineHeight:"1.6",margin:"0 0 24px 0"},footer:{display:"flex",alignItems:"center",justifyContent:"space-between",flexWrap:"wrap",gap:"16px"},meta:{display:"flex",alignItems:"center",gap:"6px",color:d.textSecondary,fontSize:"14px",fontWeight:500},readButton:{display:"inline-flex",alignItems:"center",gap:"8px",padding:"12px 24px",backgroundColor:d.primary,color:d.white,border:"none",borderRadius:"8px",fontSize:"14px",fontWeight:600,cursor:"pointer",transition:"all 0.3s ease",textDecoration:"none"},loading:{display:"flex",alignItems:"center",justifyContent:"center",minHeight:"200px",color:d.textSecondary},error:{textAlign:"center",padding:"40px 0",color:d.error},empty:{textAlign:"center",padding:"40px 0",color:d.textSecondary}};return t?(0,s.jsx)("section",{style:f.section,children:(0,s.jsx)("div",{style:f.container,children:(0,s.jsx)("div",{style:f.loading,children:(0,s.jsx)("p",{children:"Loading latest news..."})})})}):o?(0,s.jsx)("section",{style:f.section,children:(0,s.jsx)("div",{style:f.container,children:(0,s.jsx)("div",{style:f.error,children:(0,s.jsxs)("p",{children:["Unable to load content: ",o]})})})}):e?(0,s.jsxs)("section",{style:f.section,children:[(0,s.jsxs)("div",{style:f.container,children:[(0,s.jsx)("div",{style:f.header,children:(0,s.jsx)("button",{onClick:h,style:f.newsroomLink,onMouseEnter:e=>{e.target.style.color=d.primaryDark||d.primary,e.target.style.borderBottomColor=d.primary},onMouseLeave:e=>{e.target.style.color=d.primary,e.target.style.borderBottomColor="transparent"},children:"Go to Newsroom"})}),(0,s.jsxs)("div",{onClick:g,style:f.contentWrapper,onMouseEnter:e=>{e.currentTarget.style.transform="translateY(-4px)",e.currentTarget.style.background=p?"rgba(255, 255, 255, 0.04)":"rgba(0, 0, 0, 0.04)",e.currentTarget.style.border="1px solid ".concat(p?"rgba(255, 255, 255, 0.1)":"rgba(0, 0, 0, 0.1)")},onMouseLeave:e=>{e.currentTarget.style.transform="translateY(0)",e.currentTarget.style.background=p?"rgba(255, 255, 255, 0.02)":"rgba(0, 0, 0, 0.02)",e.currentTarget.style.border="1px solid ".concat(p?"rgba(255, 255, 255, 0.05)":"rgba(0, 0, 0, 0.05)")},children:[(0,s.jsx)("h3",{style:f.title,children:e.title}),e.excerpt&&(0,s.jsx)("p",{style:f.excerpt,children:e.excerpt}),(0,s.jsxs)("div",{style:f.footer,children:[(0,s.jsxs)("div",{style:f.meta,children:[(0,s.jsx)(q.A,{size:16,style:{color:d.primary}}),(0,s.jsx)("span",{children:u(e.published_at||e.created_at)})]}),(0,s.jsxs)("button",{style:f.readButton,onClick:e=>{e.stopPropagation(),g()},onMouseEnter:e=>{e.target.style.backgroundColor=d.primaryDark||d.primary,e.target.style.transform="translateY(-1px)"},onMouseLeave:e=>{e.target.style.backgroundColor=d.primary,e.target.style.transform="translateY(0)"},children:["Learn More",(0,s.jsx)(L.A,{size:16})]})]})]})]}),(0,s.jsx)("style",{jsx:!0,children:"\n        @media (max-width: 768px) {\n          .footer {\n            flex-direction: column !important;\n            align-items: center !important;\n            gap: 16px !important;\n          }\n          \n          .contentWrapper {\n            padding: 24px !important;\n          }\n          \n          .title {\n            font-size: 22px !important;\n          }\n        }\n      "})]}):(0,s.jsx)("section",{style:f.section,children:(0,s.jsx)("div",{style:f.container,children:(0,s.jsx)("div",{style:f.empty,children:(0,s.jsx)("p",{children:"No articles available. Check back soon!"})})})})};function pt(){const[e,n]=(0,i.useState)(!1),[t,a]=(0,i.useState)(!1);return(0,s.jsxs)("div",{className:"glass-button-container",children:[(0,s.jsxs)("div",{className:"glass-button ".concat(e?"hovered":""," ").concat(t?"pressed":""),onMouseEnter:()=>n(!0),onMouseLeave:()=>n(!1),onClick:()=>{a(!0),setTimeout(()=>a(!1),150),setTimeout(()=>{window.location.href="/findbycountry"},200)},children:[(0,s.jsx)("div",{className:"glow-effect"}),(0,s.jsxs)("div",{className:"button-content",children:[(0,s.jsxs)("div",{className:"icon-container",children:[(0,s.jsx)("div",{className:"icon-bg",children:(0,s.jsx)(te.A,{className:"globe-icon",size:24})}),(0,s.jsx)(ye.A,{className:"map-pin",size:20})]}),(0,s.jsxs)("div",{className:"text-content",children:[(0,s.jsx)("h3",{className:"main-title",children:"Find Us Globally"}),(0,s.jsx)("p",{className:"subtitle",children:"Discover ACEF in your country"})]}),(0,s.jsx)("div",{className:"arrow-container",children:(0,s.jsx)(L.A,{className:"arrow-icon",size:20})})]}),(0,s.jsx)("div",{className:"animated-border"})]}),(0,s.jsx)("style",{jsx:!0,children:"\n        .glass-button-container {\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          min-height: 60vh;\n          padding: 2rem;\n          position: relative;\n          z-index: 1;\n        }\n\n        .glass-button {\n          position: relative;\n          width: 350px;\n          height: 120px;\n          background: rgba(255, 255, 255, 0.08);\n          backdrop-filter: blur(20px);\n          -webkit-backdrop-filter: blur(20px);\n          border: 1px solid rgba(255, 255, 255, 0.1);\n          border-radius: 20px;\n          cursor: pointer;\n          overflow: hidden;\n          transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);\n          user-select: none;\n          box-shadow: \n            0 8px 32px rgba(0, 0, 0, 0.1),\n            inset 0 1px 0 rgba(255, 255, 255, 0.1);\n        }\n\n        .glass-button:hover {\n          background: rgba(255, 255, 255, 0.12);\n          border-color: rgba(255, 255, 255, 0.2);\n          transform: translateY(-2px);\n          box-shadow: \n            0 12px 40px rgba(0, 0, 0, 0.15),\n            inset 0 1px 0 rgba(255, 255, 255, 0.15);\n        }\n\n        .glass-button.pressed {\n          transform: translateY(0px) scale(0.98);\n          background: rgba(255, 255, 255, 0.15);\n        }\n\n        .glow-effect {\n          position: absolute;\n          top: -50%;\n          left: -50%;\n          width: 200%;\n          height: 200%;\n          background: radial-gradient(\n            circle,\n            rgba(76, 175, 80, 0.1) 0%,\n            rgba(76, 175, 80, 0.05) 30%,\n            transparent 70%\n          );\n          opacity: 0;\n          transition: opacity 0.4s ease;\n          pointer-events: none;\n        }\n\n        .glass-button:hover .glow-effect {\n          opacity: 1;\n        }\n\n        .button-content {\n          display: flex;\n          align-items: center;\n          justify-content: space-between;\n          padding: 1.5rem 2rem;\n          height: 100%;\n          position: relative;\n          z-index: 2;\n        }\n\n        .icon-container {\n          position: relative;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n        }\n\n        .icon-bg {\n          width: 50px;\n          height: 50px;\n          background: linear-gradient(135deg, rgba(76, 175, 80, 0.2), rgba(56, 142, 60, 0.2));\n          border-radius: 15px;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          border: 1px solid rgba(76, 175, 80, 0.3);\n          position: relative;\n        }\n\n        .globe-icon {\n          color: rgba(255, 255, 255, 0.9);\n          animation: rotate 8s linear infinite;\n        }\n\n        .map-pin {\n          position: absolute;\n          top: -5px;\n          right: -5px;\n          color: #4CAF50;\n          background: rgba(255, 255, 255, 0.1);\n          border-radius: 50%;\n          padding: 2px;\n          backdrop-filter: blur(10px);\n        }\n\n        .text-content {\n          flex: 1;\n          margin-left: 1.5rem;\n          text-align: left;\n        }\n\n        .main-title {\n          font-size: 1.2rem;\n          font-weight: 600;\n          color: rgba(255, 255, 255, 0.95);\n          margin: 0 0 0.25rem 0;\n          letter-spacing: -0.01em;\n        }\n\n        .subtitle {\n          font-size: 0.9rem;\n          color: rgba(255, 255, 255, 0.7);\n          margin: 0;\n          font-weight: 400;\n        }\n\n        .arrow-container {\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          width: 40px;\n          height: 40px;\n          background: rgba(255, 255, 255, 0.1);\n          border-radius: 12px;\n          transition: all 0.3s ease;\n        }\n\n        .glass-button:hover .arrow-container {\n          background: rgba(76, 175, 80, 0.2);\n          transform: translateX(5px);\n        }\n\n        .arrow-icon {\n          color: rgba(255, 255, 255, 0.8);\n          transition: all 0.3s ease;\n        }\n\n        .glass-button:hover .arrow-icon {\n          color: #4CAF50;\n        }\n\n        .animated-border {\n          position: absolute;\n          top: 0;\n          left: 0;\n          right: 0;\n          bottom: 0;\n          border-radius: 20px;\n          padding: 1px;\n          background: linear-gradient(\n            45deg,\n            transparent,\n            rgba(76, 175, 80, 0.3),\n            transparent,\n            rgba(76, 175, 80, 0.3),\n            transparent\n          );\n          background-size: 300% 300%;\n          opacity: 0;\n          transition: opacity 0.3s ease;\n          pointer-events: none;\n        }\n\n        .glass-button:hover .animated-border {\n          opacity: 1;\n          animation: borderMove 3s ease-in-out infinite;\n        }\n\n        @keyframes rotate {\n          from {\n            transform: rotate(0deg);\n          }\n          to {\n            transform: rotate(360deg);\n          }\n        }\n\n        @keyframes borderMove {\n          0%, 100% {\n            background-position: 0% 50%;\n          }\n          50% {\n            background-position: 100% 50%;\n          }\n        }\n\n        /* Responsive design */\n        @media (max-width: 768px) {\n          .glass-button {\n            width: 300px;\n            height: 100px;\n          }\n\n          .button-content {\n            padding: 1rem 1.5rem;\n          }\n\n          .icon-bg {\n            width: 40px;\n            height: 40px;\n          }\n\n          .globe-icon {\n            width: 20px;\n            height: 20px;\n          }\n\n          .map-pin {\n            width: 16px;\n            height: 16px;\n          }\n\n          .main-title {\n            font-size: 1.1rem;\n          }\n\n          .subtitle {\n            font-size: 0.8rem;\n          }\n\n          .text-content {\n            margin-left: 1rem;\n          }\n        }\n\n        @media (max-width: 480px) {\n          .glass-button {\n            width: 280px;\n            height: 90px;\n          }\n\n          .main-title {\n            font-size: 1rem;\n          }\n\n          .subtitle {\n            font-size: 0.75rem;\n          }\n        }\n      "})]})}var mt=t(7104),xt=t(8306);const ut=()=>{var e;const[n,t]=(0,i.useState)(null),[a,r]=(0,i.useState)(!1);(0,i.useEffect)(()=>{(async()=>{try{const{data:e}=await cn.A.get("".concat(Ge,"/events"));if(e.length>0){const n=e.sort((e,n)=>new Date(e.start_date)-new Date(n.start_date));t(n[0])}}catch(e){console.error("Error fetching events:",e)}})()},[]);const o=e=>{var n;n="/events?eventId=".concat(e.id),console.log("Would navigate to:",n)};if(!n)return null;const l={position:"relative",width:"400px",height:"600px",margin:"0 auto",borderRadius:"24px",overflow:"hidden",cursor:"pointer",background:n.image_url&&Ve?"linear-gradient(135deg, rgba(0,0,0,0.7) 0%, rgba(0,0,0,0.4) 40%, rgba(0,0,0,0.8) 100%), url(".concat(Ve).concat(n.image_url,")"):"linear-gradient(135deg, #667eea 0%, #764ba2 50%, #f093fb 100%)",backgroundSize:"cover",backgroundPosition:"center",boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.25), 0 0 0 1px rgba(255,255,255,0.1)",transform:a?"scale(1.02)":"scale(1)",transition:"all 0.4s cubic-bezier(0.4, 0, 0.2, 1)"},c={fontSize:"11px",fontWeight:"500",opacity:"0.9",marginBottom:"4px",display:"flex",alignItems:"center",gap:"8px",textShadow:"0 1px 2px rgba(0,0,0,0.5)"},d={display:"flex",gap:"12px",opacity:a?1:0,transform:a?"translateY(0)":"translateY(10px)",transition:"all 0.3s ease"},p={flex:1,padding:"12px 16px",border:"1px solid rgba(255,255,255,0.2)",borderRadius:"12px",backgroundColor:"rgba(255,255,255,0.1)",backdropFilter:"blur(10px)",color:"white",fontSize:"10px",fontWeight:"600",cursor:"pointer",transition:"all 0.2s ease",textAlign:"center"},x={width:"36px",height:"36px",borderRadius:"50%",backgroundColor:"rgba(255,255,255,0.1)",backdropFilter:"blur(10px)",border:"1px solid rgba(255,255,255,0.2)",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",transition:"all 0.2s ease",color:"white"},u=()=>(0,s.jsx)("div",{style:{position:"absolute",inset:0,background:"linear-gradient(135deg, #667eea 0%, #764ba2 50%, #f093fb 100%)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"48px",opacity:"0.3"},children:"\ud83c\udfaf"});return(0,s.jsxs)("div",{style:l,onMouseEnter:()=>r(!0),onMouseLeave:()=>r(!1),onClick:()=>o(n),children:[!n.image_url&&(0,s.jsx)(u,{}),(0,s.jsx)("div",{style:{position:"absolute",inset:0,background:"linear-gradient(to bottom, transparent 0%, rgba(0,0,0,0.3) 50%, rgba(0,0,0,0.9) 100%)",zIndex:1}}),(0,s.jsxs)("div",{style:{position:"absolute",top:"20px",right:"20px",display:"flex",gap:"8px",zIndex:3},children:[(0,s.jsx)("button",{style:x,onClick:e=>{e.stopPropagation();const t=document.createElement("canvas"),a=t.getContext("2d");t.width=400,t.height=600;const r=new Image;r.crossOrigin="anonymous",r.src="".concat(Ve).concat(n.image_url),r.onload=()=>{let e,o,i,s;r.width/r.height>t.width/t.height?(o=t.height,e=r.width*(t.height/r.height),i=(t.width-e)/2,s=0):(e=t.width,o=r.height*(t.width/r.width),i=0,s=(t.height-o)/2),a.drawImage(r,i,s,e,o);const l=a.createLinearGradient(0,t.height-150,0,t.height);l.addColorStop(0,"rgba(0,0,0,0)"),l.addColorStop(1,"rgba(0,0,0,0.6)"),a.fillStyle=l,a.fillRect(0,t.height-150,t.width,150),a.fillStyle="white",a.font="bold 20px sans-serif",a.fillText(n.title,20,t.height-110),a.font="14px sans-serif",a.fillText(new Date(n.start_date).toLocaleDateString(),20,t.height-80),a.fillText(n.location||"Venue TBA",20,t.height-50);const c=document.createElement("a");c.download="".concat(n.title.replace(/\s+/g,"-"),"-poster.png"),t.toBlob(e=>{c.href=URL.createObjectURL(e),c.click()})},r.onerror=()=>{console.error("Failed to load event image for poster")}},onMouseEnter:e=>e.target.style.backgroundColor="rgba(255,255,255,0.2)",onMouseLeave:e=>e.target.style.backgroundColor="rgba(255,255,255,0.1)",children:(0,s.jsx)(mt.A,{size:16})}),(0,s.jsx)("button",{style:x,onClick:e=>{e.stopPropagation(),navigator.share?navigator.share({title:null===n||void 0===n?void 0:n.title,text:null===n||void 0===n?void 0:n.one_liner,url:window.location.href}):console.log("Share event")},onMouseEnter:e=>e.target.style.backgroundColor="rgba(255,255,255,0.2)",onMouseLeave:e=>e.target.style.backgroundColor="rgba(255,255,255,0.1)",children:(0,s.jsx)(xt.A,{size:16})})]}),(0,s.jsxs)("div",{style:{position:"absolute",inset:0,zIndex:2,padding:"32px 24px",display:"flex",flexDirection:"column",justifyContent:"space-between",color:"white"},children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{style:{fontSize:"28px",fontWeight:"800",lineHeight:"1.2",marginBottom:"8px",textShadow:"0 2px 4px rgba(0,0,0,0.5)",background:"linear-gradient(45deg, #fff, #e2e8f0)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text"},children:n.title}),(0,s.jsx)("p",{style:{fontSize:"11px",lineHeight:"1.4",opacity:"0.8",marginBottom:"16px",textShadow:"0 1px 2px rgba(0,0,0,0.5)"},children:(null===(e=n.one_liner)||void 0===e?void 0:e.length)>120?n.one_liner.substring(0,120)+"...":n.one_liner||"Join us for an amazing event experience"})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{style:c,children:[(0,s.jsx)(ye.A,{size:14}),n.location||"Venue TBA"]}),(0,s.jsxs)("div",{style:c,children:[(0,s.jsx)(q.A,{size:14}),new Date(n.start_date).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})]}),(0,s.jsxs)("div",{style:c,children:[(0,s.jsx)(Ce.A,{size:14}),n.is_paid?"".concat(n.currency||"$"," ").concat(n.price):"Free Entry"]}),(0,s.jsxs)("div",{style:d,children:[(0,s.jsx)("button",{style:p,onMouseEnter:e=>{e.target.style.backgroundColor="rgba(255,255,255,0.2)",e.target.style.transform="translateY(-2px)"},onMouseLeave:e=>{e.target.style.backgroundColor="rgba(255,255,255,0.1)",e.target.style.transform="translateY(0)"},onClick:e=>{e.stopPropagation(),o(n)},children:"MORE ABOUT"}),(0,s.jsx)("button",{style:(0,m.A)((0,m.A)({},p),{},{background:"linear-gradient(45deg, #667eea, #764ba2)",border:"1px solid rgba(255,255,255,0.3)"}),onMouseEnter:e=>{e.target.style.background="linear-gradient(45deg, #5a6fd8, #6a42a0)",e.target.style.transform="translateY(-2px)"},onMouseLeave:e=>{e.target.style.background="linear-gradient(45deg, #667eea, #764ba2)",e.target.style.transform="translateY(0)"},onClick:e=>{e.stopPropagation(),o(n)},children:"APPLY NOW"})]})]})]})]})};var gt=t(4459);const ht=e=>{let{title:n="Featured Testimonial",showCTA:t=!0,className:r="",LatestNewsSection:o}=e;const[l,c]=(0,i.useState)(null),[d,p]=(0,i.useState)(!0),[m,x]=(0,i.useState)(""),u=(0,a.Zp)(),{colors:g}=y();(0,i.useEffect)(()=>{h()},[]);const h=async()=>{try{p(!0);const e=(await cn.A.get("".concat(Ge,"/generaltestimonials/public"))).data,n=e.find(e=>!0===e.featured);c(n||e[0]),x("")}catch(e){console.error("Error fetching featured testimonial:",e),x("Failed to load featured testimonial"),c(null)}finally{p(!1)}};return d?(0,s.jsxs)("div",{className:"three-column-layout",children:[(0,s.jsx)("video",{autoPlay:!0,muted:!0,loop:!0,style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",objectFit:"cover",zIndex:-1},children:(0,s.jsx)("source",{src:"https://www.videvo.net/video/abstract-dark-motion-background/885/abstract-dark-motion-background.mp4",type:"video/mp4"})}),(0,s.jsx)("div",{className:"column-empty"}),(0,s.jsx)("div",{className:"column-news",children:o&&(0,s.jsx)(o,{})}),(0,s.jsx)("div",{className:"column-testimonial",children:(0,s.jsx)("div",{className:"testimonial-loading",children:(0,s.jsx)("div",{className:"loading-spinner"})})})]}):m||!l?(0,s.jsxs)("div",{className:"three-column-layout",children:[(0,s.jsx)("video",{autoPlay:!0,muted:!0,loop:!0,style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",objectFit:"cover",zIndex:-1},children:(0,s.jsx)("source",{src:"https://www.videvo.net/video/abstract-dark-motion-background/885/abstract-dark-motion-background.mp4",type:"video/mp4"})}),(0,s.jsx)("div",{className:"column-empty"}),(0,s.jsx)("div",{className:"column-news",children:o&&(0,s.jsx)(o,{})}),(0,s.jsx)("div",{className:"column-testimonial",children:(0,s.jsx)("div",{className:"testimonial-error",children:(0,s.jsx)("h3",{children:"Unable to load testimonial"})})})]}):(0,s.jsxs)("div",{className:"three-column-layout ".concat(r),children:[(0,s.jsx)("video",{autoPlay:!0,muted:!0,loop:!0,style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",objectFit:"cover",zIndex:-1},children:(0,s.jsx)("source",{src:"https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/BigBuckBunny.mp4",type:"video/mp4"})}),(0,s.jsx)("div",{className:"column-news",children:o&&(0,s.jsx)(o,{})}),(0,s.jsx)("div",{className:"column-glass-button",children:(0,s.jsx)(pt,{})}),(0,s.jsxs)("div",{className:"column-testimonial",children:[(0,s.jsxs)("div",{className:"testimonial-card-modern",children:[(0,s.jsxs)("div",{className:"testimonial-background",children:[l.image?(0,s.jsx)("img",{src:"".concat(Ve,"/uploads/testimonials/").concat(l.image),alt:"".concat(l.first_name," ").concat(l.last_name),className:"background-image",onError:e=>{e.target.style.display="none"}}):(0,s.jsx)("div",{className:"background-placeholder",children:(0,s.jsx)(gt.A,{size:80})}),(0,s.jsx)("div",{className:"background-overlay"})]}),(0,s.jsxs)("div",{className:"testimonial-overlay",children:[(0,s.jsxs)("div",{className:"testimonial-header",children:[(0,s.jsx)("h2",{className:"testimonial-main-title",children:"TESTIMONIAL"}),(0,s.jsx)("div",{className:"star-rating",children:[...Array(5)].map((e,n)=>(0,s.jsx)(M.A,{className:"star filled"},n))})]}),(0,s.jsx)("div",{className:"testimonial-quote-section",children:(0,s.jsxs)("blockquote",{className:"testimonial-quote",children:['"',l.testimonial,'"']})}),(0,s.jsxs)("div",{className:"testimonial-author",children:[(0,s.jsxs)("div",{className:"author-avatar",children:[l.image?(0,s.jsx)("img",{src:"".concat(Ve,"/uploads/testimonials/").concat(l.image),alt:"".concat(l.first_name," ").concat(l.last_name),className:"author-image",onError:e=>{e.target.style.display="none",e.target.nextSibling.style.display="flex"}}):null,(0,s.jsx)("div",{className:"author-placeholder",style:{display:l.image?"none":"flex"},children:(0,s.jsx)(gt.A,{size:20})})]}),(0,s.jsxs)("div",{className:"author-details",children:[(0,s.jsxs)("h3",{className:"author-name",children:[l.first_name," ",l.last_name]}),(0,s.jsx)("p",{className:"author-role",children:(e=>{switch(null===e||void 0===e?void 0:e.toLowerCase()){case"community":return"Community Member";case"volunteers":return"Volunteer";case"collaborators":return"Collaborator";default:return"Member"}})(l.type)})]})]}),(0,s.jsx)("div",{className:"testimonial-footer",children:(0,s.jsx)("p",{className:"website-url",children:"www.acef-ngo.com"})})]})]}),t&&(0,s.jsxs)("div",{className:"testimonials-cta-modern",onClick:()=>{u("/impact"),setTimeout(()=>{const e=document.getElementById("general-testimonials-section");if(e)e.scrollIntoView({behavior:"smooth",block:"start"});else{const e=['[data-component="GeneralTestimonialsDisplay"]',".general-testimonials-display",'[class*="GeneralTestimonials"]','[class*="testimonials-display"]'];for(const n of e){const e=document.querySelector(n);if(e){e.scrollIntoView({behavior:"smooth",block:"start"});break}}}},300)},style:{cursor:"pointer"},children:[(0,s.jsx)("h3",{className:"cta-title",children:"Read more Stories"}),(0,s.jsx)("p",{className:"cta-description",children:"Every story is a testament to ACEF's commitment to sustainability. Learn more."})]})]})]})},ft=()=>{const e=(0,a.Zp)(),[n,t]=(0,i.useState)(0),[r,o]=(0,i.useState)(!1),[l,c]=(0,i.useState)(0),[d,p]=(0,i.useState)(null),{colors:m,isDarkMode:x,theme:u}=y(),[g,h]=(0,i.useState)(null),[f,b]=(0,i.useState)(!1),[j,v]=(0,i.useState)(!1),[w,A]=(0,i.useState)(!0),[k,S]=(0,i.useState)(null),[C,z]=(0,i.useState)(null),[N,_]=(0,i.useState)([]),[I,E]=(0,i.useState)(!0),[T,W]=(0,i.useState)(null),[F,P]=(0,i.useState)([]),[R,B]=(0,i.useState)(!0),[D,H]=(0,i.useState)(null),O=[{id:"placeholder-1",title:"Clean Water Initiative - Lake Victoria",short_description:"Providing sustainable clean water solutions to rural communities around Lake Victoria through innovative filtration systems.",category_name:"Water & Sanitation",status:"ongoing",location:"Kisumu County, Kenya",is_featured:!0,featured_image:null,progress:85},{id:"placeholder-2",title:"Community Reforestation Program",short_description:"Engaging local communities in large-scale tree planting initiatives to combat deforestation and promote biodiversity.",category_name:"Environment",status:"ongoing",location:"Mount Kenya Region",is_featured:!0,featured_image:null,progress:70}],U={id:"placeholder-news-1",title:"ACEF Launches Major Climate Initiative Across East Africa",excerpt:"Our foundation announces a groundbreaking multi-year program to combat climate change through grassroots community engagement and sustainable technology deployment.",content:"This comprehensive initiative will span across Kenya, Uganda, and Tanzania, focusing on reforestation, clean energy access, and water conservation projects.",is_featured:!0,featured_image:null,published_at:(new Date).toISOString(),author:"ACEF Communications Team"},Y=[{image:"https://images.unsplash.com/photo-1441974231531-c6227db76b6e?w=1920&h=1080&fit=crop&auto=format&q=80",title:"ACEF",description:"Africa Climate and Environment Foundation",accent:"Empowering Grassroots for a Sustainable Future",gradient:"linear-gradient(135deg, ".concat(m.primary,"ee 0%, ").concat(m.secondary,"cc 50%, ").concat(m.accent,"ee 100%)")}];(0,i.useEffect)(()=>{sessionStorage.setItem("lastVisitedPath","/")},[]),(0,i.useEffect)(()=>{(async()=>{try{A(!0);const e=await fetch("".concat(Ge,"/blogs"));if(!e.ok)throw new Error("HTTP ".concat(e.status,": ").concat(e.statusText));const n=await e.json(),t=n.data||n||[],a=t.filter(e=>{const n="published"===e.status,t=!0===e.approved||1===e.approved||"1"===e.approved||"true"===e.approved,a=!0===e.is_news||1===e.is_news||"1"===e.is_news||"true"===e.is_news;return n&&t&&a}).sort((e,n)=>{const t=new Date(e.published_at||e.created_at);return new Date(n.published_at||n.created_at)-t});if(a.length>0){const e=a[0];h(e);const n="news-popup-closed-".concat(e.id),t="true"===localStorage.getItem(n);e.is_featured&&!t&&setTimeout(()=>b(!0),2e3)}else h(U),localStorage.getItem("news-popup-closed-".concat(U.id))||setTimeout(()=>b(!0),2e3);S(null)}catch(e){console.error("Error fetching latest news:",e),S(e.message),h(U),localStorage.getItem("news-popup-closed-".concat(U.id))||setTimeout(()=>b(!0),2e3)}finally{A(!1)}})()},[]),(0,i.useEffect)(()=>{(async()=>{try{E(!0);const e=await fetch("".concat(Ge,"/blogs"));if(!e.ok)throw new Error("HTTP ".concat(e.status,": ").concat(e.statusText));const n=await e.json(),t=n.data||n||[],a=t.filter(e=>{const n="published"===e.status,t=!0===e.approved||1===e.approved||"1"===e.approved||"true"===e.approved;return n&&t}).sort((e,n)=>{const t=new Date(e.published_at||e.created_at);return new Date(n.published_at||n.created_at)-t}),r=a.filter(e=>!0===e.is_news||1===e.is_news||"1"===e.is_news||"true"===e.is_news),o=a.filter(e=>!(!0===e.is_news||1===e.is_news||"1"===e.is_news||"true"===e.is_news));z(r.length>0?r[0]:null),_(o.slice(0,3)),W(null)}catch(e){console.error("Error fetching articles:",e),W(e.message)}finally{E(!1)}})()},[]),(0,i.useEffect)(()=>{(async()=>{try{B(!0);const e=await fetch("".concat(Ge,"/projects"));if(!e.ok)throw new Error("HTTP ".concat(e.status,": ").concat(e.statusText));const n=await e.json(),t=n.data||n||[];if(Array.isArray(t)&&t.length>0){const e=t.filter(e=>!e.is_hidden).sort((e,n)=>{if(e.is_featured&&!n.is_featured)return-1;if(!e.is_featured&&n.is_featured)return 1;const t=new Date(e.created_at||0);return new Date(n.created_at||0)-t});P(e.slice(0,2))}else P(O);H(null)}catch(e){console.error("Error fetching projects:",e),H(e.message),P(O)}finally{B(!1)}})()},[]),(0,i.useEffect)(()=>{const e=()=>{const e=window.scrollY;c(e),o(e>50)};return window.addEventListener("scroll",e,{passive:!0}),()=>{window.removeEventListener("scroll",e)}},[]),(0,i.useEffect)(()=>{const e=setInterval(()=>{t(e=>(e+1)%Y.length)},6e3);return()=>clearInterval(e)},[Y.length]);const G=()=>{b(!1),v(!0),g&&localStorage.setItem("news-popup-closed-".concat(g.id),"true")},V=e=>void 0!==e.progress?e.progress:"completed"===e.status?100:"ongoing"===e.status?"Water & Sanitation"===e.category_name?85:"Environment"===e.category_name?70:"Renewable Energy"===e.category_name?92:65:"planning"===e.status?25:50,J=e=>{switch(e){case"ongoing":return m.info;case"completed":return m.success;case"planning":return m.warning;default:return m.primary}},K=e=>{switch(e){case"Water & Sanitation":return"linear-gradient(135deg, #26BDE2 0%, #1976d2 100%)";case"Renewable Energy":return"linear-gradient(135deg, #FCC30B 0%, #FF9800 100%)";case"Environment":return"linear-gradient(135deg, #56C02B 0%, #4CAF50 100%)";case"Waste Management":return"linear-gradient(135deg, #9C27B0 0%, #673AB7 100%)";case"Agriculture":return"linear-gradient(135deg, #FF9800 0%, #FF5722 100%)";case"Marine Conservation":return"linear-gradient(135deg, #0A97D9 0%, #1976d2 100%)";default:return"linear-gradient(135deg, ".concat(m.primary," 0%, ").concat(m.primaryDark," 100%)")}},Z=e=>{switch(e){case"Water & Sanitation":return"\ud83d\udca7";case"Renewable Energy":return"\u26a1";case"Environment":return"\ud83c\udf33";case"Waste Management":return"\u267b\ufe0f";case"Agriculture":return"\ud83c\udf3e";case"Marine Conservation":return"\ud83c\udf0a";default:return"\ud83c\udf0d"}};return(0,s.jsxs)("div",{className:pn,style:{position:"relative",backgroundColor:m.background,color:m.text,transition:"background-color 0.3s ease, color 0.3s ease"},children:[(0,s.jsx)(Le,{}),f&&g&&!j&&(0,s.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.7)",backdropFilter:"blur(8px)",zIndex:9999,display:"flex",alignItems:"center",justifyContent:"center",padding:"20px"},children:(0,s.jsxs)("div",{style:{backgroundColor:m.surface,borderRadius:"16px",maxWidth:"600px",width:"100%",maxHeight:"80vh",overflow:"hidden",position:"relative",border:"1px solid ".concat(m.borderLight),boxShadow:"0 20px 60px ".concat(m.primary,"30")},children:[(0,s.jsx)("button",{onClick:G,style:{position:"absolute",top:"16px",right:"16px",background:"rgba(0, 0, 0, 0.5)",border:"none",borderRadius:"50%",width:"36px",height:"36px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",zIndex:2,transition:"all 0.3s ease"},onMouseEnter:e=>{e.target.style.background="rgba(0, 0, 0, 0.7)"},onMouseLeave:e=>{e.target.style.background="rgba(0, 0, 0, 0.5)"},children:(0,s.jsx)(ie.A,{size:20,color:"white"})}),(0,s.jsxs)("div",{style:{height:"200px",background:g.featured_image?"url(".concat(g.featured_image.startsWith("http")?g.featured_image:"".concat(Ve||"").concat(g.featured_image),")"):"linear-gradient(135deg, ".concat(m.primary," 0%, ").concat(m.secondary," 100%)"),backgroundSize:"cover",backgroundPosition:"center",position:"relative",display:"flex",alignItems:"center",justifyContent:"center"},children:[(0,s.jsx)("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,background:g.featured_image?"linear-gradient(135deg, rgba(0,0,0,0.4) 0%, rgba(0,0,0,0.2) 100%)":"none"}}),(0,s.jsx)("div",{style:{position:"absolute",top:"16px",left:"16px",backgroundColor:m.error,color:m.white,padding:"6px 16px",borderRadius:"20px",fontSize:"12px",fontWeight:"700",textTransform:"uppercase",letterSpacing:"0.5px",zIndex:1,animation:"pulse 2s infinite"},children:"\ud83d\udd25 Latest News"}),!g.featured_image&&(0,s.jsx)(X.A,{size:60,style:{color:m.white,opacity:.9}})]}),(0,s.jsxs)("div",{style:{padding:"24px",maxHeight:"400px",overflowY:"auto"},children:[(0,s.jsx)("h2",{style:{fontSize:"1.5rem",fontWeight:"700",color:m.text,marginBottom:"12px",lineHeight:"1.3"},children:g.title}),(0,s.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"16px",color:m.textSecondary,fontSize:"0.9rem"},children:[(0,s.jsx)(q.A,{size:16}),(0,s.jsx)("span",{children:(e=>{if(!e)return"Recently";return new Date(e).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})})(g.published_at)}),g.author&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("span",{children:"\u2022"}),(0,s.jsx)("span",{children:g.author})]})]}),(0,s.jsx)("p",{style:{color:m.textSecondary,lineHeight:"1.6",marginBottom:"24px",fontSize:"1rem"},children:g.excerpt||function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:150;return e?e.length<=n?e:e.substring(0,n)+"...":""}(g.content,200)}),(0,s.jsxs)("div",{style:{display:"flex",gap:"12px",alignItems:"center"},children:[(0,s.jsxs)("button",{onClick:n=>{return t=g,(a=n)&&(a.preventDefault(),a.stopPropagation()),sessionStorage.setItem("lastVisitedPath","/"),void e("/blog/".concat(t.id),{state:{article:t,from:"/",fromPath:"/"}});var t,a},style:{backgroundColor:m.primary,color:m.white,border:"none",padding:"12px 24px",borderRadius:"8px",fontWeight:"600",cursor:"pointer",display:"flex",alignItems:"center",gap:"8px",transition:"all 0.3s ease"},onMouseEnter:e=>{e.target.style.backgroundColor=m.primaryDark},onMouseLeave:e=>{e.target.style.backgroundColor=m.primary},children:["Read Full Story",(0,s.jsx)(L.A,{size:16})]}),(0,s.jsx)("button",{onClick:G,style:{backgroundColor:"transparent",color:m.textSecondary,border:"1px solid ".concat(m.borderLight),padding:"12px 24px",borderRadius:"8px",fontWeight:"600",cursor:"pointer",transition:"all 0.3s ease"},onMouseEnter:e=>{e.target.style.backgroundColor="".concat(m.primary,"10"),e.target.style.borderColor=m.primary},onMouseLeave:e=>{e.target.style.backgroundColor="transparent",e.target.style.borderColor=m.borderLight},children:"Maybe Later"})]})]})]})}),(0,s.jsxs)("section",{className:xn,style:{position:"relative",overflow:"hidden",height:"100vh",minHeight:"700px",background:Y[n].gradient},children:[(0,s.jsx)("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,backgroundImage:"\n            linear-gradient(".concat(m.primary,"30 1px, transparent 1px),\n            linear-gradient(90deg, ").concat(m.primary,"30 1px, transparent 1px)\n          "),backgroundSize:"50px 50px",zIndex:1}}),(0,s.jsx)("div",{className:un,children:Y.map((e,t)=>(0,s.jsx)("div",{className:"".concat(gn," ").concat(t===n?hn:""),style:{backgroundImage:"url(".concat(e.image,")"),filter:"brightness(0.3) contrast(1.2) saturate(1.3)",opacity:t===n?1:0,transition:"opacity 1.5s ease"},children:(0,s.jsx)("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,background:e.gradient,opacity:.6,mixBlendMode:"overlay"}})},t))}),(0,s.jsx)("div",{className:fn,style:{position:"relative",zIndex:10,display:"flex",alignItems:"center",justifyContent:"center",height:"100%",textAlign:"center"},children:(0,s.jsx)("div",{className:mn,style:{maxWidth:"1200px",margin:"0 auto",padding:"0 20px"},children:(0,s.jsxs)("div",{className:bn,style:{maxWidth:"900px",margin:"0 auto"},children:[(0,s.jsx)("h1",{style:{fontSize:"clamp(3rem, 8vw, 6rem)",fontWeight:"700",background:"linear-gradient(135deg, ".concat(m.white," 0%, ").concat(m.secondary," 50%, ").concat(m.accent," 100%)"),WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text",lineHeight:"1.1",marginBottom:"25px",letterSpacing:"-0.02em",textShadow:"0 0 50px ".concat(m.primary,"60")},children:Y[n].title}),(0,s.jsx)("p",{style:{fontSize:"1.3rem",color:m.white,marginBottom:"20px",fontWeight:"400",lineHeight:"1.6",maxWidth:"700px",margin:"0 auto 20px auto",textShadow:"0 2px 20px rgba(0, 0, 0, 0.5)"},children:Y[n].description}),(0,s.jsx)("p",{style:{fontSize:"1.1rem",color:m.white,marginBottom:"40px",fontWeight:"300",lineHeight:"1.6",maxWidth:"600px",margin:"0 auto 40px auto",textShadow:"0 2px 20px rgba(0, 0, 0, 0.5)"},children:Y[n].accent}),(0,s.jsx)("div",{className:yn,style:{display:"flex",gap:"20px",alignItems:"center",justifyContent:"center"},children:(0,s.jsxs)("button",{style:{backgroundColor:m.primary,color:m.white,padding:"16px 32px",borderRadius:"12px",border:"none",fontWeight:"600",fontSize:"16px",cursor:"pointer",display:"inline-flex",alignItems:"center",gap:"8px",transition:"all 0.3s ease",boxShadow:"0 4px 16px rgba(10, 69, 28, 0.3)",fontFamily:'"Nunito Sans", sans-serif'},onMouseEnter:e=>{e.target.style.transform="scale(1.05) translateY(-2px)",e.target.style.boxShadow="0 15px 40px ".concat(m.secondary,"70")},onMouseLeave:e=>{e.target.style.transform="scale(1) translateY(0)",e.target.style.boxShadow="0 4px 16px rgba(10, 69, 28, 0.3)"},children:["Get Involved",(0,s.jsx)(L.A,{size:20})]})})]})})})]}),(0,s.jsx)("div",{style:{backgroundColor:m.background,borderTop:"1px solid ".concat(m.border,"20")},children:(0,s.jsx)(kn,{})}),(0,s.jsxs)("div",{style:{background:"linear-gradient(135deg, ".concat(m.primary,"10 0%, ").concat(m.accent,"05 100%)"),backdropFilter:"blur(10px)",borderTop:"1px solid ".concat(m.border,"30"),borderBottom:"1px solid ".concat(m.border,"30")},children:[(0,s.jsx)(dt,{}),(0,s.jsx)("div",{style:{backgroundColor:x?m.backgroundSecondary:m.surface,padding:"80px 0",borderTop:"1px solid ".concat(m.border,"20")},children:(0,s.jsxs)("div",{style:{maxWidth:"1200px",margin:"0 auto",padding:"0 20px"},children:[(0,s.jsxs)("div",{style:{textAlign:"center",marginBottom:"60px"},children:[(0,s.jsx)("div",{style:{display:"inline-flex",alignItems:"center",gap:"12px",backgroundColor:"".concat(m.primary,"15"),padding:"8px 20px",borderRadius:"50px",border:"1px solid ".concat(m.primary,"30"),marginBottom:"20px"}}),(0,s.jsx)("h2",{style:{fontSize:"clamp(2rem, 4vw, 3rem)",fontWeight:"700",color:m.text,marginBottom:"16px",lineHeight:"1.2"},children:"Making Real Impact"}),(0,s.jsx)("p",{style:{fontSize:"1.1rem",color:m.textSecondary,maxWidth:"600px",margin:"0 auto",lineHeight:"1.6"},children:"Discover our ongoing initiatives creating sustainable environmental change across communities"})]}),R?(0,s.jsxs)("div",{style:{textAlign:"center",padding:"60px 20px",color:m.textSecondary},children:[(0,s.jsx)("div",{style:{display:"inline-block",width:"40px",height:"40px",border:"3px solid ".concat(m.primary,"30"),borderTop:"3px solid ".concat(m.primary),borderRadius:"50%",animation:"spin 1s linear infinite",marginBottom:"16px"}}),(0,s.jsx)("p",{children:"Loading featured projects..."})]}):(0,s.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(450px, 1fr))",gap:"30px",marginBottom:"50px"},children:F.map((n,t)=>(0,s.jsxs)("div",{onClick:t=>((n,t)=>{t&&(t.preventDefault(),t.stopPropagation()),sessionStorage.setItem("lastVisitedPath","/"),e("/project/".concat(n.id),{state:{project:n,from:"/",fromPath:"/"}})})(n,t),style:{backgroundColor:m.background,borderRadius:"16px",overflow:"hidden",border:"1px solid ".concat(m.borderLight),transition:"all 0.3s ease",cursor:"pointer",position:"relative",height:"420px"},onMouseEnter:e=>{e.currentTarget.style.transform="translateY(-8px)",e.currentTarget.style.boxShadow="0 20px 40px ".concat(m.primary,"20"),e.currentTarget.style.borderColor=m.primary},onMouseLeave:e=>{e.currentTarget.style.transform="translateY(0)",e.currentTarget.style.boxShadow="none",e.currentTarget.style.borderColor=m.borderLight},children:[(0,s.jsxs)("div",{style:{height:"180px",background:n.featured_image?"url(".concat(n.featured_image.startsWith("http")?n.featured_image:"".concat(Ve||"").concat(n.featured_image),")"):K(n.category_name),backgroundSize:"cover",backgroundPosition:"center",position:"relative",display:"flex",alignItems:"center",justifyContent:"center"},children:[n.featured_image&&(0,s.jsx)("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,background:"linear-gradient(135deg, rgba(0,0,0,0.3) 0%, rgba(0,0,0,0.1) 100%)"}}),!n.featured_image&&(0,s.jsx)("span",{style:{fontSize:"3rem",opacity:.9,zIndex:1},children:Z(n.category_name)}),n.is_featured&&(0,s.jsxs)("div",{style:{position:"absolute",top:"12px",right:"12px",backgroundColor:m.secondary,color:m.black,padding:"4px 12px",borderRadius:"20px",fontSize:"12px",fontWeight:"700",display:"flex",alignItems:"center",gap:"4px",zIndex:2},children:[(0,s.jsx)(M.A,{size:12}),"FEATURED"]}),(0,s.jsx)("div",{style:{position:"absolute",top:"12px",left:"12px",backgroundColor:"rgba(255, 255, 255, 0.9)",color:m.text,padding:"4px 12px",borderRadius:"12px",fontSize:"11px",fontWeight:"600",textTransform:"uppercase",letterSpacing:"0.5px",zIndex:2},children:n.category_name||"Project"})]}),(0,s.jsxs)("div",{style:{padding:"24px",display:"flex",flexDirection:"column",height:"calc(100% - 180px)"},children:[(0,s.jsx)("h3",{style:{fontSize:"1.3rem",fontWeight:"700",color:m.text,marginBottom:"12px",lineHeight:"1.3",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden"},children:n.title}),(0,s.jsx)("p",{style:{color:m.textSecondary,lineHeight:"1.6",marginBottom:"16px",flex:1,display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden"},children:n.short_description||n.description}),n.location&&(0,s.jsxs)("div",{style:{display:"flex",alignItems:"center",marginBottom:"16px"},children:[(0,s.jsx)(ye.A,{size:16,style:{marginRight:"6px",color:m.textMuted}}),(0,s.jsx)("span",{style:{color:m.textSecondary,fontSize:"0.9rem",fontWeight:"500"},children:n.location})]}),(0,s.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,s.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"8px"},children:[(0,s.jsx)("span",{style:{fontSize:"0.9rem",fontWeight:"600",color:m.text},children:"Progress"}),(0,s.jsxs)("span",{style:{fontSize:"0.9rem",fontWeight:"700",color:J(n.status)},children:[V(n),"%"]})]}),(0,s.jsx)("div",{style:{height:"6px",backgroundColor:m.borderLight,borderRadius:"3px",overflow:"hidden"},children:(0,s.jsx)("div",{style:{width:"".concat(V(n),"%"),height:"100%",backgroundColor:J(n.status),borderRadius:"3px",transition:"width 0.3s ease"}})})]}),(0,s.jsxs)("div",{style:{display:"flex",alignItems:"center",color:m.primary,fontWeight:"600",fontSize:"0.9rem",gap:"6px"},children:["Learn More",(0,s.jsx)(L.A,{size:16})]})]})]},n.id))}),(0,s.jsx)("div",{style:{textAlign:"center"},children:(0,s.jsxs)("button",{onClick:()=>{sessionStorage.setItem("lastVisitedPath","/"),e("/projectscatalogue")},style:{backgroundColor:"transparent",color:m.primary,border:"2px solid ".concat(m.primary),padding:"14px 28px",borderRadius:"8px",fontWeight:"600",fontSize:"16px",cursor:"pointer",display:"inline-flex",alignItems:"center",gap:"8px",transition:"all 0.3s ease",fontFamily:'"Nunito Sans", sans-serif'},onMouseEnter:e=>{e.target.style.backgroundColor=m.primary,e.target.style.color=m.white},onMouseLeave:e=>{e.target.style.backgroundColor="transparent",e.target.style.color=m.primary},children:["View All Projects",(0,s.jsx)(L.A,{size:20})]})})]})})]}),(0,s.jsxs)("div",{style:{backgroundColor:m.background,position:"relative",overflow:"hidden"},children:[(0,s.jsx)("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,opacity:.03,backgroundImage:"radial-gradient(circle at 20% 50%, ".concat(m.primary," 0%, transparent 50%), radial-gradient(circle at 80% 20%, ").concat(m.secondary," 0%, transparent 50%), radial-gradient(circle at 40% 80%, ").concat(m.accent," 0%, transparent 50%)"),pointerEvents:"none"}}),(0,s.jsx)(Wn,{})]}),(0,s.jsx)("div",{style:{backgroundColor:m.surface,padding:"80px 0"},children:(0,s.jsx)(Sn,{})}),(0,s.jsxs)("div",{style:{position:"relative",overflow:"hidden"},children:[(0,s.jsx)("video",{autoPlay:!0,loop:!0,muted:!0,playsInline:!0,"aria-hidden":"true",style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"cover",zIndex:0},children:(0,s.jsx)("source",{src:"/greenwater.mp4",type:"video/mp4"})}),(0,s.jsx)("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",background:"rgba(10, 10, 10, 0.6)",zIndex:1}}),(0,s.jsx)("div",{style:{position:"relative",zIndex:2},children:(0,s.jsx)(ht,{title:"Featured Testimonial",LatestNewsSection:ut,showCTA:!0})})]}),(0,s.jsx)("div",{style:{background:"linear-gradient(135deg, ".concat(m.secondary,"08 0%, ").concat(m.primary,"06 100%)"),backdropFilter:"blur(5px)",borderTop:"1px solid ".concat(m.border,"20")}}),(0,s.jsx)(Qe,{}),(0,s.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,height:"3px",background:"linear-gradient(90deg, ".concat(m.secondary," 0%, ").concat(m.primary," 50%, ").concat(m.accent," 100%)"),transformOrigin:"0%",zIndex:1e3,boxShadow:"0 0 10px ".concat(m.primary,"40"),transform:"scaleX(".concat(l/(document.body.scrollHeight-window.innerHeight),")")}}),(0,s.jsx)("style",{jsx:!0,children:'\n        /* Responsive design */\n        @media (max-width: 968px) {\n          .grid-responsive {\n            grid-template-columns: 1fr !important;\n          }\n          \n          .hero-text h1 {\n            font-size: clamp(2rem, 6vw, 4rem) !important;\n          }\n          \n          .hero-actions {\n            flex-direction: column !important;\n            gap: 15px !important;\n          }\n        }\n        \n        @media (max-width: 640px) {\n          .hero-content {\n            padding: 0 15px !important;\n          }\n          \n          .hero-nav {\n            bottom: 20px !important;\n          }\n        }\n\n        @media (max-width: 500px) {\n          div[style*="grid-template-columns: repeat(auto-fit, minmax(450px, 1fr))"] {\n            grid-template-columns: 1fr !important;\n          }\n        }\n        \n        /* Keyframes for loading spinner */\n        @keyframes spin {\n          0% { transform: rotate(0deg); }\n          100% { transform: rotate(360deg); }\n        }\n        \n        /* Basic theme transitions only */\n        * {\n          transition: background-color 0.3s ease, \n                      color 0.3s ease, \n                      border-color 0.3s ease,\n                      box-shadow 0.3s ease !important;\n        }\n        \n        /* High contrast mode support */\n        @media (prefers-contrast: high) {\n          .theme-border {\n            border-width: 2px !important;\n          }\n          \n          .theme-text {\n            font-weight: 600 !important;\n          }\n        }\n      '})]})};var bt=t(5727),yt=t(5327),jt=t(4651),vt=t(5087);const wt="LoginForm_container__xvVsp",At="LoginForm_loginCard__73hhk",kt="LoginForm_header__LrhdO",St="LoginForm_logo__Mu4zQ",Ct="LoginForm_logoIcon__1ZwOI",zt="LoginForm_title__B3krV",Nt="LoginForm_subtitle__RfiGp",_t="LoginForm_errorContainer__7E2Ie",It="LoginForm_errorIcon__o-qS6",Et="LoginForm_errorMessage__HoGoz",Tt="LoginForm_form__x+plo",Wt="LoginForm_inputGroup__pFq+t",Ft="LoginForm_label__z2MCw",Pt="LoginForm_inputWrapper__Q3PHN",Rt="LoginForm_inputIcon__rRbdk",Bt="LoginForm_input__XXVHH",Dt="LoginForm_togglePassword__fd77z",Lt="LoginForm_submitButton__vG4he",Mt="LoginForm_loadingContainer__pGdtI",Ht="LoginForm_spinner__hAL3B",qt="LoginForm_footer__4lY5o",Ot="LoginForm_forgotLink__1f5oe",Ut="LoginForm_backgroundElements__fprct",Yt="LoginForm_circle1__55Hi4",Gt="LoginForm_circle2__K7mNo",Vt="LoginForm_circle3__C2qpj",Jt=()=>{const{login:e}=c(),{theme:n,colors:t}=y(),r=(0,a.Zp)(),[o,l]=(0,i.useState)({email:"",password:""}),[d,p]=(0,i.useState)(null),[x,u]=(0,i.useState)(!1),[g,h]=(0,i.useState)(!1),f=e=>{l((0,m.A)((0,m.A)({},o),{},{[e.target.name]:e.target.value})),d&&p(null)};return(0,s.jsxs)("div",{className:wt,children:[(0,s.jsxs)("div",{className:At,children:[(0,s.jsxs)("div",{className:kt,children:[(0,s.jsx)("div",{className:St,children:(0,s.jsx)(bt.A,{size:32,className:Ct})}),(0,s.jsx)("h1",{className:zt,children:"Admin Login"}),(0,s.jsx)("p",{className:Nt,children:"Welcome back! Please sign in to your account."})]}),d&&(0,s.jsxs)("div",{className:_t,children:[(0,s.jsx)(ne.A,{size:20,className:It}),(0,s.jsx)("p",{className:Et,children:d})]}),(0,s.jsxs)("form",{onSubmit:async n=>{n.preventDefault(),u(!0),p(null);try{await e(o.email,o.password),r("/admin/dashboard")}catch(t){p(t.message||"Login failed")}finally{u(!1)}},className:Tt,children:[(0,s.jsxs)("div",{className:Wt,children:[(0,s.jsx)("label",{htmlFor:"email",className:Ft,children:"Email Address"}),(0,s.jsxs)("div",{className:Pt,children:[(0,s.jsx)(yt.A,{size:20,className:Rt}),(0,s.jsx)("input",{id:"email",className:Bt,name:"email",type:"email",placeholder:"Enter your email",value:o.email,onChange:f,required:!0,autoComplete:"email"})]})]}),(0,s.jsxs)("div",{className:Wt,children:[(0,s.jsx)("label",{htmlFor:"password",className:Ft,children:"Password"}),(0,s.jsxs)("div",{className:Pt,children:[(0,s.jsx)(bt.A,{size:20,className:Rt}),(0,s.jsx)("input",{id:"password",className:Bt,name:"password",type:g?"text":"password",placeholder:"Enter your password",value:o.password,onChange:f,required:!0,autoComplete:"current-password"}),(0,s.jsx)("button",{type:"button",className:Dt,onClick:()=>{h(!g)},"aria-label":g?"Hide password":"Show password",children:g?(0,s.jsx)(jt.A,{size:20}):(0,s.jsx)(vt.A,{size:20})})]})]}),(0,s.jsx)("button",{className:Lt,type:"submit",disabled:x||!o.email||!o.password,children:x?(0,s.jsxs)("div",{className:Mt,children:[(0,s.jsx)("div",{className:Ht}),(0,s.jsx)("span",{children:"Signing in..."})]}):"Sign In"})]}),(0,s.jsx)("div",{className:qt,children:(0,s.jsx)(a.N_,{to:"/forgot-password",className:Ot,children:"Forgot your password?"})})]}),(0,s.jsxs)("div",{className:Ut,children:[(0,s.jsx)("div",{className:Yt}),(0,s.jsx)("div",{className:Gt}),(0,s.jsx)("div",{className:Vt})]})]})},Kt=()=>{const{user:e,logout:n}=c();return e?(0,s.jsxs)("div",{children:[(0,s.jsxs)("h2",{children:["Welcome, ",e.name]}),(0,s.jsxs)("p",{children:["Email: ",e.email]}),(0,s.jsxs)("p",{children:["Role: ",e.role]}),(0,s.jsx)("button",{onClick:n,children:"Logout"})]}):(0,s.jsx)("p",{children:"You are not logged in."})},Xt=()=>{const{theme:e,colors:n,isDarkMode:t}=y(),[r,o]=(0,i.useState)([]),[l,c]=(0,i.useState)([]),[d,p]=(0,i.useState)(""),[x,u]=(0,i.useState)(null),[g,h]=(0,i.useState)("grid"),[f,b]=(0,i.useState)(null),[j,v]=(0,i.useState)(new Date),[A,k]=(0,i.useState)([]),S=(0,a.zy)(),[C,z]=(0,i.useState)({x:0,y:0}),[N,_]=(0,i.useState)(new Set),[I,E]=(0,i.useState)(!1),[T,W]=(0,i.useState)({name:"",email:"",phone:"",message:"",event_id:null}),[F,P]=(0,i.useState)(!0),[R,B]=(0,i.useState)(!1),[D,L]=(0,i.useState)({message:"",type:""}),M=(0,i.useRef)();(0,i.useEffect)(()=>{const e=e=>{z({x:e.clientX,y:e.clientY})};return M.current=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting&&_(n=>new Set([...n,e.target.dataset.animateId]))})},{threshold:.1,rootMargin:"50px"}),window.addEventListener("mousemove",e),()=>{window.removeEventListener("mousemove",e),M.current&&M.current.disconnect()}},[]),(0,i.useEffect)(()=>{document.querySelectorAll("[data-animate-id]").forEach(e=>{M.current&&M.current.observe(e)})},[r,g]),(0,i.useEffect)(()=>{const e=new URLSearchParams(S.search).get("eventId");if(e&&r.length>0){const n=r.find(n=>n.id.toString()===e);n&&O(n)}},[S.search,r]);(0,i.useEffect)(()=>{(async()=>{try{const{data:e}=await cn.A.get("".concat(Ge,"/events"));o(e),k(e),P(!1)}catch(e){console.error("Error fetching events:",e),P(!1)}})(),(async()=>{try{const{data:e}=await cn.A.get("".concat(Ge,"/countries"));c(e)}catch(e){console.error("Error fetching countries:",e)}})()},[]);const H=d?r.filter(e=>e.country===d):r,q=e=>{const{name:n,value:t}=e.target;W((0,m.A)((0,m.A)({},T),{},{[n]:t})),D.message&&L({message:"",type:""})},O=e=>{u(e),W({name:"",email:"",phone:"",message:"",event_id:e.id}),E(!0),L({message:"",type:""})},U=e=>{b(e),h("detail")},Y=()=>{E(!1),u(null),W({name:"",email:"",phone:"",message:"",event_id:null}),L({message:"",type:""})},G=e=>new Date(e).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}),V={pageContainer:{minHeight:"100vh",background:t?"radial-gradient(ellipse at top, ".concat(w(n.primaryDark,.3),", ").concat(n.black,")"):"radial-gradient(ellipse at top, ".concat(w(n.primary,.1),", ").concat(n.white,")"),fontFamily:'"Nunito Sans", -apple-system, BlinkMacSystemFont, sans-serif',color:e.colors.text,position:"relative",fontSize:"14px",lineHeight:1.5},backgroundEffect:{position:"fixed",top:0,left:0,right:0,bottom:0,background:t?"radial-gradient(600px circle at ".concat(C.x,"px ").concat(C.y,"px, ").concat(w(n.primary,.1),", transparent 40%)"):"radial-gradient(800px circle at ".concat(C.x,"px ").concat(C.y,"px, ").concat(w(n.secondary,.08),", transparent 40%)"),pointerEvents:"none",zIndex:0,transition:"all 0.3s ease"},heroSection:{position:"relative",minHeight:"70vh",display:"flex",alignItems:"center",justifyContent:"center",background:t?"linear-gradient(135deg, ".concat(n.primary," 0%, ").concat(n.primaryDark," 50%, ").concat(n.secondary," 100%)"):"linear-gradient(135deg, ".concat(n.primary," 0%, ").concat(n.secondary," 50%, ").concat(n.primary," 100%)"),color:n.white,zIndex:1},heroContent:{maxWidth:"800px",textAlign:"center",padding:"0 2rem"},heroTitle:{fontSize:"clamp(2.5rem, 5vw, 4rem)",fontWeight:800,marginBottom:"1.5rem",lineHeight:1.1,letterSpacing:"-0.02em",textShadow:"0 4px 8px rgba(0,0,0,0.3)"},heroSubtitle:{fontSize:"clamp(1.125rem, 2.5vw, 1.5rem)",opacity:.95,lineHeight:1.6,fontWeight:300,marginBottom:"3rem"},mainContainer:{maxWidth:"1400px",margin:"0 auto",padding:"4rem 2rem",position:"relative",zIndex:1},viewToggle:{display:"flex",justifyContent:"center",gap:"0.5rem",marginBottom:"2rem",padding:"0.5rem",background:t?w(n.black,.3):w(n.white,.7),borderRadius:"50px",backdropFilter:"blur(20px)",border:"1px solid ".concat(w(n.primary,.2)),maxWidth:"400px",margin:"0 auto 2rem auto"},viewButton:{padding:"0.75rem 1.5rem",border:"none",borderRadius:"25px",cursor:"pointer",fontSize:"0.875rem",fontWeight:600,transition:"all 0.3s ease",fontFamily:"inherit"},filterSection:{background:t?"linear-gradient(145deg, ".concat(w(n.black,.4),", ").concat(w(n.primaryDark,.1),")"):"linear-gradient(145deg, ".concat(w(n.white,.9),", ").concat(w(n.primary,.05),")"),backdropFilter:"blur(20px)",borderRadius:"24px",padding:"2rem",marginBottom:"3rem",border:"1px solid ".concat(w(n.primary,.2)),boxShadow:"0 8px 32px ".concat(w(n.black,.1))},select:{width:"100%",maxWidth:"300px",padding:"1rem 1.5rem",background:t?w(n.black,.3):w(n.white,.8),border:"1px solid ".concat(w(n.primary,.2)),borderRadius:"50px",fontSize:"1rem",fontFamily:"inherit",color:e.colors.text,cursor:"pointer",transition:"all 0.3s ease",outline:"none",appearance:"none",backgroundImage:"url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='".concat(n.primary.replace("#","%23"),"' viewBox='0 0 16 16'%3e%3cpath d='m7.247 4.86-4.796 5.481c-.566.647-.106 1.659.753 1.659h9.592a1 1 0 0 0 .753-1.659l-4.796-5.48a1 1 0 0 0-1.506 0z'/%3e%3c/svg%3e\")"),backgroundRepeat:"no-repeat",backgroundPosition:"right 1rem center",backgroundSize:"12px"},eventsGrid:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(350px, 1fr))",gap:"2rem",marginBottom:"4rem"},eventCard:{background:t?"linear-gradient(145deg, ".concat(w(n.black,.4),", ").concat(w(n.primaryDark,.1),")"):"linear-gradient(145deg, ".concat(w(n.white,.95),", ").concat(w(n.primary,.05),")"),borderRadius:"24px",overflow:"hidden",boxShadow:"0 8px 32px ".concat(w(n.black,.1)),backdropFilter:"blur(20px)",border:"1px solid ".concat(w(n.primary,.2)),transition:"all 0.4s cubic-bezier(0.4, 0, 0.2, 1)",position:"relative"},calendar:{background:t?"linear-gradient(145deg, ".concat(w(n.black,.4),", ").concat(w(n.primaryDark,.1),")"):"linear-gradient(145deg, ".concat(w(n.white,.95),", ").concat(w(n.primary,.05),")"),borderRadius:"24px",padding:"2rem",boxShadow:"0 8px 32px ".concat(w(n.black,.1)),backdropFilter:"blur(20px)",border:"1px solid ".concat(w(n.primary,.2))},calendarGrid:{display:"grid",gridTemplateColumns:"repeat(7, 1fr)",gap:"1px",background:w(n.primary,.1),borderRadius:"12px",overflow:"hidden"},calendarDay:{minHeight:"60px",background:t?n.black:n.white,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"flex-start",padding:"0.5rem",position:"relative",cursor:"pointer",transition:"all 0.2s ease"},animateSlideUp:{transform:"translateY(50px)",opacity:0,transition:"all 0.8s cubic-bezier(0.4, 0, 0.2, 1)"},animateSlideUpVisible:{transform:"translateY(0)",opacity:1},animateFadeIn:{opacity:0,transition:"all 0.8s ease-in-out"},animateFadeInVisible:{opacity:1},loadingSpinner:{width:"50px",height:"50px",border:"3px solid ".concat(w(n.primary,.2)),borderTopColor:n.primary,borderRadius:"50%",animation:"spin 1s linear infinite",margin:"0 auto 1rem"}};return F?(0,s.jsxs)("div",{style:V.pageContainer,children:[(0,s.jsx)("div",{style:V.backgroundEffect}),(0,s.jsx)(Le,{}),(0,s.jsxs)("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column"},children:[(0,s.jsx)("div",{style:V.loadingSpinner}),(0,s.jsx)("p",{style:{fontSize:"1.125rem",fontWeight:"500",color:e.colors.text},children:"Loading events..."})]})]}):(0,s.jsxs)("div",{style:V.pageContainer,children:[(0,s.jsx)("div",{style:V.backgroundEffect}),(0,s.jsx)(Le,{}),(0,s.jsx)("div",{style:V.heroSection,children:(0,s.jsxs)("div",{style:V.heroContent,children:[(0,s.jsx)("h1",{style:V.heroTitle,children:"Discover Amazing Events"}),(0,s.jsx)("p",{style:V.heroSubtitle,children:"Connect, learn, and grow with events happening around the world"})]})}),(0,s.jsxs)("div",{style:V.mainContainer,children:["detail"!==g&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{style:V.viewToggle,"data-animate-id":"view-toggle",children:[(0,s.jsx)("button",{style:(0,m.A)((0,m.A)({},V.viewButton),{},{background:"grid"===g?"linear-gradient(135deg, ".concat(n.primary,", ").concat(n.secondary,")"):"transparent",color:"grid"===g?n.white:e.colors.text}),onClick:()=>h("grid"),children:"\ud83d\udcf1 Grid View"}),(0,s.jsx)("button",{style:(0,m.A)((0,m.A)({},V.viewButton),{},{background:"calendar"===g?"linear-gradient(135deg, ".concat(n.primary,", ").concat(n.secondary,")"):"transparent",color:"calendar"===g?n.white:e.colors.text}),onClick:()=>h("calendar"),children:"\ud83d\udcc5 Calendar View"})]}),(0,s.jsxs)("div",{style:(0,m.A)((0,m.A)((0,m.A)({},V.filterSection),V.animateSlideUp),N.has("filter")?V.animateSlideUpVisible:{}),"data-animate-id":"filter",children:[(0,s.jsx)("h3",{style:{fontSize:"1.25rem",fontWeight:600,color:n.primary,marginBottom:"1.5rem",textAlign:"center"},children:"Filter by Location"}),(0,s.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:(0,s.jsxs)("select",{value:d,onChange:e=>p(e.target.value),style:V.select,children:[(0,s.jsx)("option",{value:"",children:"All Countries"}),l.map(e=>(0,s.jsx)("option",{value:e.name,children:e.name},e.id))]})})]}),H.length>0&&(0,s.jsx)("div",{style:{textAlign:"center",marginBottom:"3rem",fontSize:"1.125rem",opacity:.9},"data-animate-id":"count",children:(0,s.jsxs)("span",{style:{background:t?w(n.black,.3):w(n.white,.7),padding:"0.75rem 2rem",borderRadius:"25px",backdropFilter:"blur(10px)",border:"1px solid ".concat(w(n.primary,.2)),color:e.colors.text},children:[H.length," event",1!==H.length?"s":""," available",d&&" in ".concat(d)]})})]}),"grid"===g&&(0,s.jsx)(s.Fragment,{children:0===H.length?(0,s.jsxs)("div",{style:{textAlign:"center",padding:"4rem 2rem",background:t?w(n.black,.3):w(n.white,.7),borderRadius:"24px",backdropFilter:"blur(20px)",border:"1px solid ".concat(w(n.primary,.2))},children:[(0,s.jsx)("h3",{style:{fontSize:"1.5rem",fontWeight:600,margin:"0 0 1rem 0",color:e.colors.text},children:"No events found"}),(0,s.jsxs)("p",{style:{color:e.colors.textSecondary},children:["Check back later for upcoming events",d&&" in ".concat(d),"."]})]}):(0,s.jsx)("div",{style:V.eventsGrid,children:H.map((t,a)=>{const r=new Date,o=new Date(t.start_date),i=t.end_date?new Date(t.end_date):null;let l="upcoming";return i&&r>i?l="past":r>=o&&(!i||r<=i)&&(l="ongoing"),(0,s.jsxs)("div",{style:(0,m.A)((0,m.A)((0,m.A)({},V.eventCard),V.animateSlideUp),{},{transitionDelay:"".concat(.1*a,"s")},N.has("events-grid")?V.animateSlideUpVisible:{}),"data-animate-id":"events-grid",onMouseEnter:e=>{e.currentTarget.style.transform="translateY(-8px) scale(1.02)",e.currentTarget.style.boxShadow="0 20px 40px ".concat(w(n.primary,.2))},onMouseLeave:e=>{e.currentTarget.style.transform="translateY(0) scale(1)",e.currentTarget.style.boxShadow="0 8px 32px ".concat(w(n.black,.1))},children:[(0,s.jsx)("div",{style:{position:"absolute",top:"1rem",right:"1rem",padding:"0.5rem 1rem",borderRadius:"25px",fontSize:"0.75rem",fontWeight:600,textTransform:"uppercase",letterSpacing:"0.05em",zIndex:10,backgroundColor:"upcoming"===l?n.success:"ongoing"===l?n.warning:n.gray500,color:n.white},children:"upcoming"===l?"Upcoming":"ongoing"===l?"Live Now":"Past Event"}),t.image_url?(0,s.jsx)("img",{src:"".concat(Ve).concat(t.image_url),alt:t.title,style:{width:"100%",height:"200px",objectFit:"cover"}}):(0,s.jsx)("div",{style:{width:"100%",height:"200px",background:"linear-gradient(135deg, ".concat(n.primary,", ").concat(n.secondary,")"),display:"flex",alignItems:"center",justifyContent:"center",color:n.white,fontSize:"1.125rem",fontWeight:500},children:t.title}),(0,s.jsxs)("div",{style:{padding:"1.5rem"},children:[(0,s.jsx)("h3",{style:{fontSize:"1.25rem",fontWeight:700,color:e.colors.text,margin:"0 0 1rem 0",lineHeight:1.3},children:t.title}),(0,s.jsxs)("div",{style:{display:"flex",flexWrap:"wrap",gap:"0.5rem",marginBottom:"1rem"},children:[t.country&&(0,s.jsx)("span",{style:{padding:"0.25rem 0.75rem",borderRadius:"20px",fontSize:"0.75rem",fontWeight:600,backgroundColor:n.info,color:n.white},children:t.country}),t.is_paid?(0,s.jsxs)("span",{style:{padding:"0.25rem 0.75rem",borderRadius:"20px",fontSize:"0.75rem",fontWeight:600,backgroundColor:n.success,color:n.white},children:[t.currency," ",parseFloat(t.price).toFixed(2)]}):(0,s.jsx)("span",{style:{padding:"0.25rem 0.75rem",borderRadius:"20px",fontSize:"0.75rem",fontWeight:600,backgroundColor:n.secondary,color:n.black},children:"Free"})]}),t.description&&(0,s.jsx)("p",{style:{color:e.colors.textSecondary,lineHeight:1.6,marginBottom:"1.5rem",fontSize:"0.875rem"},children:t.description.length>100?"".concat(t.description.substring(0,100),"..."):t.description}),(0,s.jsxs)("div",{style:{marginBottom:"1.5rem"},children:[(0,s.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"0.25rem",color:e.colors.textSecondary,fontSize:"0.8125rem"},children:[(0,s.jsx)("span",{children:"\ud83d\udcc5"}),(0,s.jsx)("span",{children:(c=t.start_date,new Date(c).toLocaleDateString("en-US",{month:"short",day:"numeric"}))})]}),t.location&&(0,s.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",color:e.colors.textSecondary,fontSize:"0.8125rem"},children:[(0,s.jsx)("span",{children:"\ud83d\udccd"}),(0,s.jsx)("span",{children:t.location})]})]}),(0,s.jsxs)("div",{style:{display:"flex",gap:"0.75rem"},children:[(0,s.jsx)("button",{onClick:()=>U(t),style:{flex:1,padding:"0.75rem 1rem",border:"2px solid ".concat(n.primary),borderRadius:"25px",background:"transparent",color:n.primary,fontWeight:600,fontSize:"0.875rem",cursor:"pointer",transition:"all 0.3s ease",fontFamily:"inherit"},onMouseEnter:e=>{e.target.style.background=n.primary,e.target.style.color=n.white},onMouseLeave:e=>{e.target.style.background="transparent",e.target.style.color=n.primary},children:"View Details"}),(0,s.jsx)("button",{onClick:()=>O(t),disabled:"past"===l,style:{flex:1,padding:"0.75rem 1rem",border:"none",borderRadius:"25px",background:"past"===l?n.gray400:"linear-gradient(135deg, ".concat(n.primary,", ").concat(n.secondary,")"),color:n.white,fontWeight:600,fontSize:"0.875rem",cursor:"past"===l?"not-allowed":"pointer",transition:"all 0.3s ease",opacity:"past"===l?.6:1,fontFamily:"inherit"},onMouseEnter:e=>{"past"!==l&&(e.target.style.transform="translateY(-2px)",e.target.style.boxShadow="0 4px 12px ".concat(w(n.primary,.3)))},onMouseLeave:e=>{"past"!==l&&(e.target.style.transform="translateY(0)",e.target.style.boxShadow="none")},children:"past"===l?"Event Ended":"Express Interest"})]})]})]},t.id);var c})})}),"calendar"===g&&(0,s.jsxs)("div",{style:(0,m.A)((0,m.A)((0,m.A)({},V.calendar),V.animateSlideUp),N.has("calendar")?V.animateSlideUpVisible:{}),"data-animate-id":"calendar",children:[(0,s.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2rem"},children:[(0,s.jsx)("button",{onClick:()=>v(new Date(j.getFullYear(),j.getMonth()-1,1)),style:{padding:"0.75rem 1.5rem",border:"1px solid ".concat(w(n.primary,.3)),borderRadius:"25px",background:"transparent",color:n.primary,cursor:"pointer",fontWeight:600,transition:"all 0.3s ease",fontFamily:"inherit"},onMouseEnter:e=>{e.target.style.background=w(n.primary,.1)},onMouseLeave:e=>{e.target.style.background="transparent"},children:"\u2190 Previous"}),(0,s.jsx)("h2",{style:{fontSize:"1.5rem",fontWeight:700,color:e.colors.text,margin:0},children:j.toLocaleDateString("en-US",{month:"long",year:"numeric"})}),(0,s.jsx)("button",{onClick:()=>v(new Date(j.getFullYear(),j.getMonth()+1,1)),style:{padding:"0.75rem 1.5rem",border:"1px solid ".concat(w(n.primary,.3)),borderRadius:"25px",background:"transparent",color:n.primary,cursor:"pointer",fontWeight:600,transition:"all 0.3s ease",fontFamily:"inherit"},onMouseEnter:e=>{e.target.style.background=w(n.primary,.1)},onMouseLeave:e=>{e.target.style.background="transparent"},children:"Next \u2192"})]}),(0,s.jsxs)("div",{style:V.calendarGrid,children:[["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(t=>(0,s.jsx)("div",{style:{padding:"1rem",fontWeight:700,textAlign:"center",background:w(n.primary,.1),color:e.colors.text},children:t},t)),Array.from({length:(J=j,new Date(J.getFullYear(),J.getMonth(),1).getDay())},(e,n)=>(0,s.jsx)("div",{style:V.calendarDay},"empty-".concat(n))),Array.from({length:(e=>new Date(e.getFullYear(),e.getMonth()+1,0).getDate())(j)},(a,r)=>{const o=new Date(j.getFullYear(),j.getMonth(),r+1),i=(e=>H.filter(n=>new Date(n.start_date).toDateString()===e.toDateString()))(o),l=o.toDateString()===(new Date).toDateString();return(0,s.jsxs)("div",{style:(0,m.A)((0,m.A)({},V.calendarDay),{},{background:l?w(n.primary,.2):t?n.black:n.white}),onMouseEnter:e=>{i.length>0&&(e.target.style.background=w(n.secondary,.2))},onMouseLeave:e=>{e.target.style.background=l?w(n.primary,.2):t?n.black:n.white},children:[(0,s.jsx)("div",{style:{fontSize:"0.875rem",fontWeight:l?700:500,color:l?n.primary:e.colors.text,marginBottom:"0.25rem"},children:r+1}),i.slice(0,2).map((e,t)=>(0,s.jsx)("div",{onClick:()=>U(e),style:{width:"100%",padding:"0.125rem 0.25rem",background:n.primary,color:n.white,fontSize:"0.625rem",borderRadius:"3px",marginBottom:"0.125rem",cursor:"pointer",overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},title:e.title,children:e.title},e.id)),i.length>2&&(0,s.jsxs)("div",{style:{fontSize:"0.625rem",color:e.colors.textSecondary,cursor:"pointer"},children:["+",i.length-2," more"]})]},r+1)})]})]}),"detail"===g&&f&&(0,s.jsxs)("div",{style:(0,m.A)((0,m.A)((0,m.A)({},V.calendar),V.animateSlideUp),N.has("detail")?V.animateSlideUpVisible:{}),"data-animate-id":"detail",children:[(0,s.jsx)("button",{onClick:()=>h("grid"),style:{display:"flex",alignItems:"center",gap:"0.5rem",padding:"0.75rem 1.5rem",background:"transparent",border:"1px solid ".concat(w(n.primary,.3)),borderRadius:"25px",color:n.primary,cursor:"pointer",fontSize:"0.875rem",fontWeight:600,marginBottom:"2rem",transition:"all 0.3s ease",fontFamily:"inherit"},onMouseEnter:e=>{e.target.style.background=w(n.primary,.1)},onMouseLeave:e=>{e.target.style.background="transparent"},children:"\u2190 Back to Events"}),f.image_url&&(0,s.jsx)("div",{style:{width:"100%",height:"300px",borderRadius:"16px",overflow:"hidden",marginBottom:"2rem",boxShadow:"0 8px 24px ".concat(w(n.black,.1))},children:(0,s.jsx)("img",{src:"".concat(Ve).concat(f.image_url),alt:f.title,style:{width:"100%",height:"100%",objectFit:"cover"}})}),(0,s.jsxs)("div",{style:{marginBottom:"2rem"},children:[(0,s.jsx)("h1",{style:{fontSize:"2.5rem",fontWeight:800,color:e.colors.text,margin:"0 0 1rem 0",lineHeight:1.2},children:f.title}),(0,s.jsxs)("div",{style:{display:"flex",flexWrap:"wrap",gap:"1rem",marginBottom:"1.5rem"},children:[f.country&&(0,s.jsxs)("span",{style:{padding:"0.5rem 1rem",borderRadius:"25px",fontSize:"0.875rem",fontWeight:600,backgroundColor:n.info,color:n.white},children:["\ud83d\udccd ",f.country]}),f.is_paid?(0,s.jsxs)("span",{style:{padding:"0.5rem 1rem",borderRadius:"25px",fontSize:"0.875rem",fontWeight:600,backgroundColor:n.success,color:n.white},children:["\ud83d\udcb0 ",f.currency," ",parseFloat(f.price).toFixed(2)]}):(0,s.jsx)("span",{style:{padding:"0.5rem 1rem",borderRadius:"25px",fontSize:"0.875rem",fontWeight:600,backgroundColor:n.secondary,color:n.black},children:"\ud83c\udf89 Free Event"})]}),(0,s.jsxs)("div",{style:{background:t?w(n.black,.3):w(n.white,.5),padding:"1.5rem",borderRadius:"16px",border:"1px solid ".concat(w(n.primary,.2))},children:[(0,s.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem",marginBottom:f.end_date?"0.75rem":0,color:e.colors.text,fontSize:"1rem",fontWeight:500},children:[(0,s.jsx)("span",{children:"\ud83d\udcc5"}),(0,s.jsxs)("span",{children:["Starts: ",G(f.start_date)]})]}),f.end_date&&(0,s.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem",color:e.colors.text,fontSize:"1rem",fontWeight:500},children:[(0,s.jsx)("span",{children:"\u23f0"}),(0,s.jsxs)("span",{children:["Ends: ",G(f.end_date)]})]}),f.location&&(0,s.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem",marginTop:"0.75rem",color:e.colors.text,fontSize:"1rem",fontWeight:500},children:[(0,s.jsx)("span",{children:"\ud83d\udccd"}),(0,s.jsx)("span",{children:f.location})]})]})]}),f.description&&(0,s.jsxs)("div",{style:{marginBottom:"2rem"},children:[(0,s.jsx)("h2",{style:{fontSize:"1.5rem",fontWeight:700,color:e.colors.text,marginBottom:"1rem"},children:"About This Event"}),(0,s.jsx)("div",{style:{color:e.colors.textSecondary,lineHeight:1.8,fontSize:"1rem",whiteSpace:"pre-wrap"},children:f.description})]}),(0,s.jsx)("div",{style:{textAlign:"center"},children:(0,s.jsx)("button",{onClick:()=>O(f),style:{padding:"1rem 3rem",border:"none",borderRadius:"50px",background:"linear-gradient(135deg, ".concat(n.primary,", ").concat(n.secondary,")"),color:n.white,fontWeight:700,fontSize:"1.125rem",cursor:"pointer",transition:"all 0.3s ease",fontFamily:"inherit",boxShadow:"0 4px 20px ".concat(w(n.primary,.3))},onMouseEnter:e=>{e.target.style.transform="translateY(-3px)",e.target.style.boxShadow="0 8px 30px ".concat(w(n.primary,.4))},onMouseLeave:e=>{e.target.style.transform="translateY(0)",e.target.style.boxShadow="0 4px 20px ".concat(w(n.primary,.3))},children:"Express Interest"})})]}),I&&(0,s.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.8)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,padding:"1rem",backdropFilter:"blur(10px)"},onClick:Y,children:(0,s.jsxs)("div",{style:{background:t?"linear-gradient(145deg, ".concat(n.black,", ").concat(w(n.primaryDark,.2),")"):"linear-gradient(145deg, ".concat(n.white,", ").concat(w(n.primary,.05),")"),borderRadius:"24px",width:"100%",maxWidth:"500px",maxHeight:"90vh",overflowY:"auto",position:"relative",boxShadow:"0 20px 60px ".concat(w(n.black,.3)),border:"1px solid ".concat(w(n.primary,.2)),backdropFilter:"blur(20px)"},onClick:e=>e.stopPropagation(),children:[(0,s.jsx)("button",{onClick:Y,style:{position:"absolute",top:"1rem",right:"1rem",background:"none",border:"none",fontSize:"1.5rem",cursor:"pointer",color:e.colors.textSecondary,width:"2.5rem",height:"2.5rem",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"50%",transition:"all 0.2s ease"},onMouseEnter:e=>{e.target.style.backgroundColor=w(n.primary,.1),e.target.style.color=n.primary},onMouseLeave:n=>{n.target.style.backgroundColor="transparent",n.target.style.color=e.colors.textSecondary},children:"\xd7"}),(0,s.jsxs)("div",{style:{padding:"2rem 2rem 1rem 2rem",borderBottom:"1px solid ".concat(w(n.primary,.1))},children:[(0,s.jsx)("h2",{style:{fontSize:"1.5rem",fontWeight:700,color:e.colors.text,margin:"0 0 0.5rem 0"},children:"Express Interest"}),(0,s.jsx)("p",{style:{color:e.colors.textSecondary,margin:"0",fontSize:"0.875rem"},children:null===x||void 0===x?void 0:x.title})]}),(0,s.jsxs)("div",{style:{padding:"2rem"},children:[D.message&&(0,s.jsx)("div",{style:{padding:"1rem",borderRadius:"12px",marginBottom:"1.5rem",backgroundColor:"error"===D.type?w(n.error,.1):"success"===D.type?w(n.success,.1):"warning"===D.type?w(n.warning,.1):w(n.info,.1),color:"error"===D.type?n.error:"success"===D.type?n.success:"warning"===D.type?n.warning:n.info,border:"1px solid ".concat("error"===D.type?w(n.error,.3):"success"===D.type?w(n.success,.3):"warning"===D.type?w(n.warning,.3):w(n.info,.3)),fontSize:"0.875rem"},children:D.message}),(0,s.jsxs)("form",{onSubmit:async e=>{e.preventDefault();const n=(()=>{const e=[];return T.name.trim()||e.push("Name is required"),T.email.trim()||e.push("Email is required"),T.email&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(T.email)&&e.push("Please enter a valid email address"),e})();if(n.length>0)L({message:n.join(", "),type:"error"});else{B(!0),L({message:"Submitting your interest...",type:"info"});try{if(await(async(e,n)=>{try{return(await cn.A.get("".concat(Ge,"/event-interests/check"),{params:{event_id:e,email:n.toLowerCase().trim()}})).data.exists}catch(t){return console.error("Error checking existing interest:",t),!1}})(T.event_id,T.email))return void L({message:"You have already expressed interest in this event",type:"warning"});const e=await cn.A.post("".concat(Ge,"/event-interests"),(0,m.A)((0,m.A)({},T),{},{email:T.email.toLowerCase().trim(),name:T.name.trim(),phone:T.phone.trim(),message:T.message.trim()}));!1!==e.data.success?(L({message:"Thank you for your interest! We'll be in touch soon.",type:"success"}),setTimeout(()=>{Y()},2e3)):L({message:e.data.error||"Failed to submit interest",type:"error"})}catch(i){var t,a,r,o;console.error("Error submitting interest:",i);let e="Sorry, there was an error submitting your interest. Please try again.";null!==(t=i.response)&&void 0!==t&&null!==(a=t.data)&&void 0!==a&&a.error?e=i.response.data.error:null!==(r=i.response)&&void 0!==r&&null!==(o=r.data)&&void 0!==o&&o.message&&(e=i.response.data.message),L({message:e,type:"error"})}finally{B(!1)}}},children:[(0,s.jsxs)("div",{style:{marginBottom:"1.5rem"},children:["                    ",(0,s.jsx)("label",{style:{display:"block",fontWeight:"600",color:t?n.white:n.gray700,marginBottom:"0.5rem",fontSize:"0.875rem"},children:"Full Name *"}),(0,s.jsx)("input",{type:"text",name:"name",value:T.name,onChange:q,required:!0,disabled:R,placeholder:"Enter your full name",style:{width:"100%",padding:"1rem",border:"2px solid ".concat(t?n.gray600:n.gray300),borderRadius:"12px",fontSize:"1rem",backgroundColor:t?n.gray700:n.white,color:t?n.white:n.gray900,transition:"all 0.3s ease",outline:"none",boxSizing:"border-box"},onFocus:e=>{e.target.style.borderColor=n.primary,e.target.style.boxShadow="0 0 0 3px rgba(10, 69, 28, 0.1)"},onBlur:e=>{e.target.style.borderColor=t?n.gray600:n.gray300,e.target.style.boxShadow="none"}})]}),(0,s.jsxs)("div",{style:{marginBottom:"1.5rem"},children:[(0,s.jsx)("label",{style:{display:"block",fontWeight:"600",color:t?n.white:n.gray700,marginBottom:"0.5rem",fontSize:"0.875rem"},children:"Email Address *"}),(0,s.jsx)("input",{type:"email",name:"email",value:T.email,onChange:q,required:!0,disabled:R,placeholder:"Enter your email address",style:{width:"100%",padding:"1rem",border:"2px solid ".concat(t?n.gray600:n.gray300),borderRadius:"12px",fontSize:"1rem",backgroundColor:t?n.gray700:n.white,color:t?n.white:n.gray900,transition:"all 0.3s ease",outline:"none",boxSizing:"border-box"},onFocus:e=>{e.target.style.borderColor=n.primary,e.target.style.boxShadow="0 0 0 3px rgba(10, 69, 28, 0.1)"},onBlur:e=>{e.target.style.borderColor=t?n.gray600:n.gray300,e.target.style.boxShadow="none"}})]}),(0,s.jsxs)("div",{style:{marginBottom:"1.5rem"},children:[(0,s.jsx)("label",{style:{display:"block",fontWeight:"600",color:t?n.white:n.gray700,marginBottom:"0.5rem",fontSize:"0.875rem"},children:"Phone Number"}),(0,s.jsx)("input",{type:"tel",name:"phone",value:T.phone,onChange:q,disabled:R,placeholder:"Enter your phone number",style:{width:"100%",padding:"1rem",border:"2px solid ".concat(t?n.gray600:n.gray300),borderRadius:"12px",fontSize:"1rem",backgroundColor:t?n.gray700:n.white,color:t?n.white:n.gray900,transition:"all 0.3s ease",outline:"none",boxSizing:"border-box"},onFocus:e=>{e.target.style.borderColor=n.primary,e.target.style.boxShadow="0 0 0 3px rgba(10, 69, 28, 0.1)"},onBlur:e=>{e.target.style.borderColor=t?n.gray600:n.gray300,e.target.style.boxShadow="none"}})]}),(0,s.jsxs)("div",{style:{marginBottom:"2rem"},children:[(0,s.jsx)("label",{style:{display:"block",fontWeight:"600",color:t?n.white:n.gray700,marginBottom:"0.5rem",fontSize:"0.875rem"},children:"Message (Optional)"}),(0,s.jsx)("textarea",{name:"message",value:T.message,onChange:q,disabled:R,placeholder:"Any questions or additional information...",style:{width:"100%",padding:"1rem",border:"2px solid ".concat(t?n.gray600:n.gray300),borderRadius:"12px",fontSize:"1rem",backgroundColor:t?n.gray700:n.white,color:t?n.white:n.gray900,minHeight:"100px",resize:"vertical",transition:"all 0.3s ease",outline:"none",boxSizing:"border-box",fontFamily:"inherit"},onFocus:e=>{e.target.style.borderColor=n.primary,e.target.style.boxShadow="0 0 0 3px rgba(10, 69, 28, 0.1)"},onBlur:e=>{e.target.style.borderColor=t?n.gray600:n.gray300,e.target.style.boxShadow="none"}})]}),(0,s.jsxs)("div",{style:{display:"flex",gap:"1rem"},children:[(0,s.jsx)("button",{type:"button",onClick:Y,disabled:R,style:{flex:"1",padding:"1rem",border:"2px solid ".concat(t?n.gray600:n.gray300),borderRadius:"50px",backgroundColor:t?n.gray700:n.gray100,color:t?n.white:n.gray700,fontWeight:"600",fontSize:"1rem",cursor:R?"not-allowed":"pointer",transition:"all 0.3s ease",opacity:R?.6:1},onMouseEnter:e=>{R||(e.target.style.backgroundColor=t?n.gray600:n.gray200)},onMouseLeave:e=>{R||(e.target.style.backgroundColor=t?n.gray700:n.gray100)},children:"Cancel"}),(0,s.jsx)("button",{type:"submit",disabled:R,style:{flex:"1",padding:"1rem",border:"none",borderRadius:"50px",background:"linear-gradient(135deg, ".concat(n.primary," 0%, ").concat(n.accent," 100%)"),color:n.white,fontWeight:"600",fontSize:"1rem",cursor:R?"not-allowed":"pointer",transition:"all 0.3s ease",opacity:R?.6:1},onMouseEnter:e=>{R||(e.target.style.transform="translateY(-2px)",e.target.style.boxShadow="0 8px 20px rgba(10, 69, 28, 0.3)")},onMouseLeave:e=>{R||(e.target.style.transform="translateY(0)",e.target.style.boxShadow="none")},children:R?"Submitting...":"Submit Interest"})]})]})]})]})})]}),(0,s.jsx)(Qe,{}),(0,s.jsx)("style",{jsx:!0,children:"\n        @import url('https://fonts.googleapis.com/css2?family=Nunito+Sans:wght@200;300;400;500;600;700;800;900&display=swap');\n\n        @keyframes spin {\n          0% { transform: rotate(0deg); }\n          100% { transform: rotate(360deg); }\n        }\n        \n        @keyframes fadeInUp {\n          from {\n            opacity: 0;\n            transform: translateY(30px);\n          }\n          to {\n            opacity: 1;\n            transform: translateY(0);\n          }\n        }\n        \n        @keyframes fadeInLeft {\n          from {\n            opacity: 0;\n            transform: translateX(-30px);\n          }\n          to {\n            opacity: 1;\n            transform: translateX(0);\n          }\n        }\n        \n        @keyframes fadeInRight {\n          from {\n            opacity: 0;\n            transform: translateX(30px);\n          }\n          to {\n            opacity: 1;\n            transform: translateX(0);\n          }\n        }\n        \n        @keyframes scaleIn {\n          from {\n            opacity: 0;\n            transform: scale(0.9);\n          }\n          to {\n            opacity: 1;\n            transform: scale(1);\n          }\n        }\n\n        .pulse {\n          animation: pulse 2s infinite;\n        }\n        \n        @keyframes pulse {\n          0%, 100% { transform: scale(1); }\n          50% { transform: scale(1.05); }\n        }\n\n        @media (max-width: 768px) {\n          .hero-title {\n            font-size: 2.5rem !important;\n          }\n          \n          .hero-subtitle {\n            font-size: 1.125rem !important;\n          }\n          \n          .events-grid {\n            grid-template-columns: 1fr !important;\n            gap: 1.5rem !important;\n          }\n          \n          .view-toggle {\n            flex-direction: column !important;\n            gap: 0.25rem !important;\n          }\n          \n          .calendar-grid {\n            font-size: 0.75rem !important;\n          }\n          \n          .calendar-day {\n            min-height: 50px !important;\n            padding: 0.25rem !important;\n          }\n        }\n\n        @media (max-width: 480px) {\n          .main-container {\n            padding: 2rem 1rem !important;\n          }\n          \n          .hero-title {\n            font-size: 2rem !important;\n          }\n          \n          .hero-subtitle {\n            font-size: 1rem !important;\n          }\n          \n          .event-card {\n            margin: 0 !important;\n          }\n          \n          .filter-section {\n            padding: 1.5rem !important;\n            border-radius: 16px !important;\n          }\n          \n          .calendar {\n            padding: 1.5rem !important;\n            border-radius: 16px !important;\n          }\n          \n          .modal-content {\n            margin: 0.5rem !important;\n            border-radius: 16px !important;\n          }\n        }\n\n        /* Scrollbar Styling */\n        ::-webkit-scrollbar {\n          width: 8px;\n        }\n\n        ::-webkit-scrollbar-track {\n          background: ".concat(t?n.gray800:n.gray100,";\n          border-radius: 10px;\n        }\n\n        ::-webkit-scrollbar-thumb {\n          background: ").concat(n.primary,";\n          border-radius: 10px;\n        }\n\n        ::-webkit-scrollbar-thumb:hover {\n          background: ").concat(n.primaryDark,";\n        }\n\n        /* Selection styling */\n        ::selection {\n          background: ").concat(w(n.primary,.3),";\n          color: ").concat(e.colors.text,";\n        }\n\n        /* Focus outline styling */\n        button:focus-visible,\n        select:focus-visible,\n        input:focus-visible,\n        textarea:focus-visible {\n          outline: 2px solid ").concat(n.primary," !important;\n          outline-offset: 2px !important;\n        }\n      ")})]});var J},Zt=()=>(0,s.jsxs)("section",{style:{width:"100%",padding:"60px 20px",backgroundColor:"#fff",textAlign:"center"},children:[(0,s.jsx)("h2",{style:{fontFamily:'"Georgia", "Times New Roman", serif',fontSize:"28px",fontWeight:"500",marginBottom:"40px",color:"#0a451c"},children:"Follow ACEF"}),(0,s.jsxs)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",gap:"40px",flexWrap:"wrap"},children:[(0,s.jsx)("a",{href:"https://www.facebook.com/share/172ZDMd2dL/",target:"_blank",rel:"noopener noreferrer",style:{color:"#1877F2",fontSize:"32px",textDecoration:"none"},children:(0,s.jsx)("i",{className:"fab fa-facebook"})}),(0,s.jsx)("a",{href:"https://www.linkedin.com/company/acef-africa-climate-and-environment-foundation/",target:"_blank",rel:"noopener noreferrer",style:{color:"#0A66C2",fontSize:"32px",textDecoration:"none"},children:(0,s.jsx)("i",{className:"fab fa-linkedin"})}),(0,s.jsx)("a",{href:"https://www.instagram.com/acefngo?igsh=MXE3YXRmd2hvZ2xodg==",target:"_blank",rel:"noopener noreferrer",style:{color:"#E1306C",fontSize:"32px",textDecoration:"none"},children:(0,s.jsx)("i",{className:"fab fa-instagram"})}),(0,s.jsx)("a",{href:"https://youtube.com/@acef-africaclimateandenvir6363?si=YfaOJ9L1IpKG0H8X",target:"_blank",rel:"noopener noreferrer",style:{color:"#FF0000",fontSize:"32px",textDecoration:"none"},children:(0,s.jsx)("i",{className:"fab fa-youtube"})}),(0,s.jsx)("a",{href:"https://x.com/ACEFngo?t=H00D4LR0XgHHRHS73lQ76A&s=09",target:"_blank",rel:"noopener noreferrer",style:{color:"#000",fontSize:"32px",textDecoration:"none"},children:(0,s.jsx)("i",{className:"fab fa-x-twitter"})}),(0,s.jsx)("a",{href:"#",target:"_blank",rel:"noopener noreferrer",style:{color:"#000000",fontSize:"32px",textDecoration:"none"},children:(0,s.jsx)("i",{className:"fab fa-tiktok"})})]})]}),$t=Ge,Qt=()=>{const{theme:e,colors:n}=y(),t=(0,i.useRef)(null),a=(0,i.useRef)(null),r=(0,i.useRef)([]),[o,l]=(0,i.useState)([]),[c,d]=(0,i.useState)(!0),[p,m]=(0,i.useState)(""),[x,u]=(0,i.useState)([]),[g,h]=(0,i.useState)(!1),f=(0,i.useCallback)(function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const t=(new Date).toLocaleTimeString(),a="[".concat(t,"] ").concat(e);console.log(a,n),u(e=>[...e.slice(-9),{message:a,data:n}])},[]),b=(0,i.useCallback)(async()=>{f("Starting data fetch..."),d(!0),m("");try{f("Fetching contacts...");const e=await fetch("".concat($t,"/country-contacts"));if(f("Contacts response status: ".concat(e.status)),!e.ok)throw new Error("Contacts fetch failed: ".concat(e.status));const n=await e.json();if(f("Raw contacts data received:",n),!Array.isArray(n))throw new Error("Contacts data is not an array");f("Found ".concat(n.length," contacts"));const t=n.filter(e=>{const n=null!==e.latitude&&void 0!==e.latitude&&""!==e.latitude,t=null!==e.longitude&&void 0!==e.longitude&&""!==e.longitude;return n&&t});f("Contacts with coordinates: ".concat(t.length));const a=t.map(e=>{const n=parseFloat(e.latitude),t=parseFloat(e.longitude);return isNaN(n)||isNaN(t)||n<-90||n>90||t<-180||t>180?(f("Invalid coordinates for ".concat(e.country,": ").concat(n,", ").concat(t)),null):(f("Valid coordinates for ".concat(e.country,": ").concat(n,", ").concat(t)),{id:e.id||e.country,name:e.country,lat:n,lng:t,contact:e,source:"database"})}).filter(Boolean);f("Final processed locations: ".concat(a.length),a),l(a)}catch(e){f("Error in fetchLocationData: ".concat(e.message)),console.error("Fetch error:",e),m("Failed to load location data: ".concat(e.message))}finally{d(!1),f("Data fetch completed")}},[f]);return(0,i.useEffect)(()=>{f("Component mounted, fetching data..."),b()},[b]),(0,i.useEffect)(()=>{if(c||0===o.length)return void f("Skipping Leaflet load - loading: ".concat(c,", locations: ").concat(o.length));(async()=>{f("Loading Leaflet...");try{if(window.L)return f("Leaflet already loaded"),void h(!0);f("Loading Leaflet CSS...");const e=new Promise((e,n)=>{const t=document.createElement("link");t.rel="stylesheet",t.href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css",t.crossOrigin="",t.onload=()=>{f("Leaflet CSS loaded"),e()},t.onerror=()=>{f("Leaflet CSS failed to load"),n(new Error("Failed to load Leaflet CSS"))},document.head.appendChild(t)});await e,f("Loading Leaflet JS...");const n=new Promise((e,n)=>{const t=document.createElement("script");t.src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js",t.crossOrigin="",t.onload=()=>{f("Leaflet JS loaded"),e()},t.onerror=()=>{f("Leaflet JS failed to load"),n(new Error("Failed to load Leaflet JS"))},document.head.appendChild(t)});await n,setTimeout(()=>{window.L&&"function"===typeof window.L.map?(f("Leaflet ready and verified"),h(!0)):(f("Leaflet failed to initialize properly"),m("Map library failed to initialize"))},500)}catch(e){f("Leaflet loading error: ".concat(e.message)),m("Failed to load map: ".concat(e.message))}})()},[c,o.length,f]),(0,i.useEffect)(()=>{if(g&&window.L&&t.current&&0!==o.length){f("Initializing map...");try{const n=window.L;a.current&&(f("Cleaning up existing map"),a.current.remove()),f("Creating map instance");const i=n.map(t.current,{center:[0,0],zoom:2,zoomControl:!0,scrollWheelZoom:!1,doubleClickZoom:!1,touchZoom:!1});let s=!1;const l=()=>{if(!s){i.scrollWheelZoom.enable(),i.doubleClickZoom.enable(),i.touchZoom.enable(),s=!0;const e=document.createElement("div");e.innerHTML="Map activated - scroll to zoom",e.style.cssText="\n            position: absolute;\n            top: 50%;\n            left: 50%;\n            transform: translate(-50%, -50%);\n            background: rgba(0, 0, 0, 0.8);\n            color: white;\n            padding: 8px 12px;\n            border-radius: 4px;\n            font-size: 12px;\n            z-index: 1000;\n            pointer-events: none;\n          ",t.current.appendChild(e),setTimeout(()=>{e.parentNode&&e.parentNode.removeChild(e)},1500)}},c=()=>{i.scrollWheelZoom.disable(),i.doubleClickZoom.disable(),i.touchZoom.disable(),s=!1};if(i.on("focus",l),i.on("click",l),document.addEventListener("click",e=>{var n;null!==(n=t.current)&&void 0!==n&&n.contains(e.target)||c()}),t.current.tabIndex=0,t.current.addEventListener("keydown",e=>{"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),l())}),f("Adding tile layer"),n.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:"\xa9 OpenStreetMap contributors",maxZoom:18}).addTo(i),r.current.forEach(e=>{try{i.removeLayer(e)}catch(n){}}),r.current=[],f("Adding ".concat(o.length," markers...")),o.forEach((e,t)=>{f("Adding marker ".concat(t+1,": ").concat(e.name," at ").concat(e.lat,", ").concat(e.lng));try{var a,o;const s=n.marker([e.lat,e.lng]).addTo(i),l="\n            <div>\n              <h3>".concat(e.name,"</h3>\n              <p>Coordinates: ").concat(e.lat.toFixed(4),", ").concat(e.lng.toFixed(4),"</p>\n              <p>Source: ").concat(e.source,"</p>\n              ").concat(null!==(a=e.contact)&&void 0!==a&&a.email?"<p>Email: ".concat(e.contact.email,"</p>"):"","\n              ").concat(null!==(o=e.contact)&&void 0!==o&&o.phone?"<p>Phone: ".concat(e.contact.phone,"</p>"):"","\n            </div>\n          ");s.bindPopup(l),r.current.push(s),f("Marker ".concat(t+1," added successfully"))}catch(s){f("Error adding marker ".concat(t+1,": ").concat(s.message))}}),r.current.length>0){f("Fitting map bounds");try{const e=new n.featureGroup(r.current);i.fitBounds(e.getBounds().pad(.1))}catch(e){f("Error fitting bounds: ".concat(e.message)),i.setView([20,0],2)}}else f("No markers to fit, using default view"),i.setView([20,0],2);a.current=i,m(""),f("Map initialization completed successfully")}catch(e){f("Map initialization error: ".concat(e.message)),m("Map initialization failed: ".concat(e.message))}}else f("Skipping map init - leafletReady: ".concat(g,", hasL: ").concat(!!window.L,", hasMapRef: ").concat(!!t.current,", locations: ").concat(o.length))},[g,o,f]),(0,i.useEffect)(()=>()=>{if(a.current)try{a.current.remove()}catch(e){}},[]),c?(0,s.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"80vh",margin:"2rem",fontFamily:"Inter, sans-serif",backgroundColor:n.background,color:n.text,borderRadius:"12px",border:"1px solid ".concat(n.border),padding:"2rem"},children:[(0,s.jsx)("div",{style:{width:"50px",height:"50px",border:"4px solid ".concat(n.border),borderTop:"4px solid ".concat(n.primary),borderRadius:"50%",animation:"spin 1s linear infinite"}}),(0,s.jsx)("p",{style:{marginTop:"1rem"},children:"Loading location data..."}),(0,s.jsxs)("div",{style:{marginTop:"2rem",padding:"1rem",backgroundColor:n.backgroundSecondary,borderRadius:"8px",width:"100%",maxWidth:"600px",fontSize:"12px",fontFamily:"monospace"},children:[(0,s.jsx)("h4",{children:"Debug Log:"}),x.slice(-5).map((e,t)=>(0,s.jsx)("div",{style:{margin:"4px 0",color:n.textSecondary},children:e.message},t))]})]}):p?(0,s.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"80vh",margin:"2rem",fontFamily:"Inter, sans-serif",backgroundColor:n.background,color:n.text,borderRadius:"12px",border:"1px solid ".concat(n.error),padding:"2rem"},children:[(0,s.jsx)("h3",{style:{color:n.error,marginBottom:"1rem"},children:"Map Error"}),(0,s.jsx)("p",{style:{marginBottom:"1.5rem",textAlign:"center"},children:p}),(0,s.jsx)("button",{onClick:b,style:{padding:"0.75rem 1.5rem",backgroundColor:n.primary,color:n.white,border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"16px",marginBottom:"2rem"},children:"Retry"}),(0,s.jsxs)("div",{style:{padding:"1rem",backgroundColor:n.backgroundSecondary,borderRadius:"8px",width:"100%",maxWidth:"800px",fontSize:"12px",fontFamily:"monospace",maxHeight:"300px",overflowY:"auto"},children:[(0,s.jsx)("h4",{children:"Full Debug Log:"}),x.map((e,t)=>(0,s.jsxs)("div",{style:{margin:"4px 0",color:n.textSecondary},children:[e.message,e.data&&(0,s.jsx)("pre",{style:{margin:"4px 0 8px 16px",fontSize:"11px"},children:JSON.stringify(e.data,null,2)})]},t))]})]}):(0,s.jsxs)("div",{style:{position:"relative",width:"calc(100% - 4rem)",height:"80vh",margin:"2rem",fontFamily:"Inter, sans-serif",backgroundColor:n.backgroundSecondary,borderRadius:"12px",overflow:"hidden",boxShadow:"0 8px 32px ".concat(w(n.black,.1)),border:"1px solid ".concat(n.border)},children:[(0,s.jsx)("style",{children:"\n        @keyframes spin {\n          0% { transform: rotate(0deg); }\n          100% { transform: rotate(360deg); }\n        }\n        .leaflet-container {\n          height: 100%;\n          width: 100%;\n          border-radius: 12px;\n        }\n      "}),(0,s.jsxs)("div",{style:{position:"absolute",top:"1rem",left:"1rem",zIndex:1e3,backgroundColor:w(n.background,.9),padding:"0.75rem",borderRadius:"8px",border:"1px solid ".concat(n.border),fontSize:"12px"},children:[(0,s.jsxs)("div",{children:["Locations: ",o.length]}),(0,s.jsxs)("div",{children:["Leaflet Ready: ",g?"Yes":"No"]})]}),(0,s.jsx)("div",{style:{position:"absolute",top:"1rem",right:"1rem",zIndex:1e3,backgroundColor:w(n.primary,.9),color:n.white,padding:"0.5rem 0.75rem",borderRadius:"6px",fontSize:"11px",pointerEvents:"none"},children:"Click map to enable scroll zoom"}),(0,s.jsxs)("details",{style:{position:"absolute",bottom:"1rem",left:"1rem",zIndex:1e3,backgroundColor:w(n.background,.95),padding:"0.5rem",borderRadius:"8px",border:"1px solid ".concat(n.border),fontSize:"11px",fontFamily:"monospace",maxWidth:"400px"},children:[(0,s.jsx)("summary",{style:{cursor:"pointer",marginBottom:"0.5rem"},children:"Debug Info"}),x.slice(-10).map((e,t)=>(0,s.jsx)("div",{style:{margin:"2px 0",color:n.textSecondary},children:e.message},t))]}),(0,s.jsx)("div",{ref:t,style:{width:"100%",height:"100%"}})]})},ea=document.createElement("style");ea.textContent="\n  @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');\n  \n  @keyframes fadeInUp {\n    from { \n      opacity: 0; \n      transform: translateY(30px);\n    }\n    to { \n      opacity: 1; \n      transform: translateY(0);\n    }\n  }\n  \n  @keyframes fadeIn {\n    from { opacity: 0; }\n    to { opacity: 1; }\n  }\n  \n  @keyframes shimmer {\n    0% { transform: translateX(-100%); }\n    100% { transform: translateX(100%); }\n  }\n  \n  .scroll-reveal {\n    opacity: 0;\n    transform: translateY(20px);\n    transition: all 0.6s ease-out;\n  }\n  \n  .scroll-reveal.visible {\n    opacity: 1;\n    transform: translateY(0);\n  }\n  \n  .minimal-card {\n    background: rgba(255, 255, 255, 0.4);\n    backdrop-filter: blur(10px);\n    border: 1px solid rgba(255, 255, 255, 0.2);\n    transition: all 0.3s ease;\n  }\n  \n  .minimal-card:hover {\n    background: rgba(255, 255, 255, 0.6);\n    transform: translateY(-2px);\n    box-shadow: 0 8px 25px rgba(0, 0, 0, 0.08);\n  }\n  \n  .minimal-input {\n    background: rgba(255, 255, 255, 0.3);\n    backdrop-filter: blur(10px);\n    border: 1px solid rgba(255, 255, 255, 0.2);\n    transition: all 0.2s ease;\n  }\n  \n  .minimal-input:focus {\n    background: rgba(255, 255, 255, 0.5);\n    border-color: rgba(10, 69, 28, 0.3);\n    outline: none;\n  }\n  \n  .minimal-button {\n    background: rgba(255, 255, 255, 0.3);\n    backdrop-filter: blur(10px);\n    border: 1px solid rgba(255, 255, 255, 0.2);\n    transition: all 0.2s ease;\n  }\n  \n  .minimal-button:hover {\n    background: rgba(255, 255, 255, 0.5);\n  }\n  \n  .minimal-button.active {\n    background: rgba(10, 69, 28, 0.9);\n    color: white;\n    border-color: rgba(10, 69, 28, 0.3);\n  }\n",document.head.querySelector("style[data-minimal-countries]")||(ea.setAttribute("data-minimal-countries","true"),document.head.appendChild(ea));const na="#0a451c",ta="#6b7280",aa="#9ccf9f",ra="#374151",oa="#9ca3af",ia="#ef4444",sa={"United States":"North America",Canada:"North America",Mexico:"North America",Guatemala:"North America","Costa Rica":"North America",Panama:"North America",Jamaica:"North America",Bahamas:"North America",Cuba:"North America","Dominican Republic":"North America",Haiti:"North America","Trinidad and Tobago":"North America",Barbados:"North America",Nicaragua:"North America",Honduras:"North America",Belize:"North America","El Salvador":"North America","Antigua and Barbuda":"North America",Dominica:"North America",Grenada:"North America","Saint Kitts and Nevis":"North America","Saint Lucia":"North America","Saint Vincent and the Grenadines":"North America",Brazil:"South America",Argentina:"South America",Chile:"South America",Peru:"South America",Colombia:"South America",Venezuela:"South America",Ecuador:"South America",Uruguay:"South America",Paraguay:"South America",Bolivia:"South America",Guyana:"South America",Suriname:"South America","United Kingdom":"Europe",Germany:"Europe",France:"Europe",Italy:"Europe",Spain:"Europe",Netherlands:"Europe",Belgium:"Europe",Switzerland:"Europe",Austria:"Europe",Sweden:"Europe",Norway:"Europe",Denmark:"Europe",Finland:"Europe",Poland:"Europe","Czech Republic":"Europe",Hungary:"Europe",Portugal:"Europe",Greece:"Europe",Ireland:"Europe",Luxembourg:"Europe",Iceland:"Europe",Malta:"Europe",Cyprus:"Europe",Croatia:"Europe",Slovenia:"Europe",Slovakia:"Europe",Estonia:"Europe",Latvia:"Europe",Lithuania:"Europe",Romania:"Europe",Bulgaria:"Europe",Serbia:"Europe",Montenegro:"Europe","Bosnia and Herzegovina":"Europe",Albania:"Europe","North Macedonia":"Europe",Moldova:"Europe",Ukraine:"Europe",Belarus:"Europe",Russia:"Europe",Monaco:"Europe",Andorra:"Europe","San Marino":"Europe","Vatican City":"Europe",Liechtenstein:"Europe",China:"Asia",Japan:"Asia",India:"Asia","South Korea":"Asia",Thailand:"Asia",Singapore:"Asia",Malaysia:"Asia",Indonesia:"Asia",Philippines:"Asia",Vietnam:"Asia",Cambodia:"Asia",Laos:"Asia",Myanmar:"Asia",Bangladesh:"Asia",Pakistan:"Asia","Sri Lanka":"Asia",Nepal:"Asia",Bhutan:"Asia",Mongolia:"Asia",Kazakhstan:"Asia",Uzbekistan:"Asia",Kyrgyzstan:"Asia",Tajikistan:"Asia",Turkmenistan:"Asia",Afghanistan:"Asia",Iran:"Asia",Iraq:"Asia",Turkey:"Asia",Syria:"Asia",Lebanon:"Asia",Jordan:"Asia",Israel:"Asia",Palestine:"Asia","Saudi Arabia":"Asia","United Arab Emirates":"Asia",Qatar:"Asia",Kuwait:"Asia",Bahrain:"Asia",Oman:"Asia",Yemen:"Asia",Georgia:"Asia",Armenia:"Asia",Azerbaijan:"Asia",Maldives:"Asia",Brunei:"Asia","Timor-Leste":"Asia","North Korea":"Asia","South Africa":"Africa",Nigeria:"Africa",Egypt:"Africa",Kenya:"Africa",Ghana:"Africa",Ethiopia:"Africa",Morocco:"Africa",Algeria:"Africa",Tunisia:"Africa",Libya:"Africa",Sudan:"Africa","South Sudan":"Africa",Chad:"Africa","Central African Republic":"Africa",Cameroon:"Africa","Democratic Republic of the Congo":"Africa",Congo:"Africa",Gabon:"Africa","Equatorial Guinea":"Africa","Sao Tome and Principe":"Africa",Angola:"Africa",Zambia:"Africa",Zimbabwe:"Africa",Botswana:"Africa",Namibia:"Africa",Lesotho:"Africa",Eswatini:"Africa",Mozambique:"Africa",Malawi:"Africa",Tanzania:"Africa",Uganda:"Africa",Rwanda:"Africa",Burundi:"Africa",Somalia:"Africa",Djibouti:"Africa",Eritrea:"Africa",Mali:"Africa","Burkina Faso":"Africa",Niger:"Africa",Mauritania:"Africa",Senegal:"Africa",Gambia:"Africa","Guinea-Bissau":"Africa",Guinea:"Africa","Sierra Leone":"Africa",Liberia:"Africa","Ivory Coast":"Africa",Togo:"Africa",Benin:"Africa","Cabo Verde":"Africa",Mauritius:"Africa",Seychelles:"Africa",Comoros:"Africa",Madagascar:"Africa",Australia:"Oceania","New Zealand":"Oceania","Papua New Guinea":"Oceania",Fiji:"Oceania","Solomon Islands":"Oceania",Vanuatu:"Oceania",Samoa:"Oceania",Tonga:"Oceania",Kiribati:"Oceania",Tuvalu:"Oceania",Nauru:"Oceania",Palau:"Oceania","Marshall Islands":"Oceania",Micronesia:"Oceania"},la={container:{minHeight:"100vh",fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",color:ra,background:"linear-gradient(135deg, #e0f7fa, #80deea, #e0f7fa, #ffffff)"},loadingContainer:{minHeight:"100vh",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:"1rem"},spinner:{width:"24px",height:"24px",border:"2px solid rgba(10, 69, 28, 0.2)",borderTop:"2px solid #0a451c",borderRadius:"50%",animation:"spin 1s linear infinite"},loadingText:{fontSize:"0.875rem",color:ta,fontWeight:"500"},header:{textAlign:"center",padding:"2rem 1rem 1rem",maxWidth:"800px",margin:"0 auto"},headerContent:{display:"flex",flexDirection:"column",alignItems:"center",gap:"1rem"},badge:{display:"flex",alignItems:"center",gap:"0.5rem",padding:"0.5rem 1rem",borderRadius:"20px",fontSize:"0.75rem",fontWeight:"500",color:na},statusDot:{width:"6px",height:"6px",borderRadius:"50%",backgroundColor:"#10b981"},title:{fontSize:"1.75rem",fontWeight:"600",margin:"0",color:ra},mainHeading:{fontSize:"2.5rem",fontWeight:"700",color:na,fontFamily:"inherit"},subtitle:{fontSize:"0.875rem",color:ta,margin:"0"},controls:{maxWidth:"1000px",margin:"0 auto",padding:"1rem"},controlsGrid:{display:"flex",alignItems:"center",gap:"1rem",marginBottom:"1rem",flexWrap:"wrap"},searchInput:{flex:"1",minWidth:"200px",padding:"0.5rem 0.75rem",fontSize:"0.875rem",borderRadius:"8px",color:ra},viewToggle:{display:"flex",gap:"0.25rem"},toggleBtn:{padding:"0.5rem 0.75rem",fontSize:"0.75rem",fontWeight:"500",borderRadius:"6px",cursor:"pointer"},filters:{display:"flex",flexWrap:"wrap",gap:"0.5rem",justifyContent:"center"},filterBtn:{display:"flex",alignItems:"center",gap:"0.375rem",padding:"0.375rem 0.75rem",fontSize:"0.75rem",fontWeight:"500",borderRadius:"16px",cursor:"pointer"},count:{backgroundColor:"rgba(255, 255, 255, 0.4)",padding:"0.125rem 0.375rem",borderRadius:"8px",fontSize:"0.625rem",fontWeight:"600"},content:{maxWidth:"1000px",margin:"0 auto",padding:"0 1rem 2rem"},grid:{display:"grid",gap:"0.75rem"},card:{padding:"1rem",borderRadius:"12px",cursor:"pointer",textAlign:"center",position:"relative",overflow:"hidden"},listCard:{display:"flex",alignItems:"center",textAlign:"left",padding:"0.75rem 1rem"},indicator:{width:"8px",height:"8px",borderRadius:"50%",margin:"0 auto 0.75rem"},indicatorSmall:{width:"8px",height:"8px",borderRadius:"50%",marginRight:"0.75rem",flexShrink:0},countryName:{fontSize:"0.875rem",fontWeight:"600",margin:"0 0 0.375rem 0",color:ra},region:{fontSize:"0.75rem",fontWeight:"500"},listContent:{flex:"1"},listName:{fontSize:"0.875rem",fontWeight:"600",margin:"0 0 0.125rem 0",color:ra},listRegion:{fontSize:"0.75rem",fontWeight:"500"},arrow:{fontSize:"0.875rem",fontWeight:"600"},errorState:{display:"flex",alignItems:"center",gap:"1rem",padding:"1.5rem",borderRadius:"12px",maxWidth:"400px",margin:"0 auto"},errorIcon:{fontSize:"1.25rem",color:ia,fontWeight:"600"},errorTitle:{fontSize:"0.875rem",fontWeight:"600",color:ia,margin:"0 0 0.25rem 0"},errorMessage:{fontSize:"0.75rem",color:ta,margin:"0 0 0.75rem 0"},retryBtn:{padding:"0.375rem 0.75rem",fontSize:"0.75rem",fontWeight:"500",borderRadius:"6px",cursor:"pointer"},emptyState:{display:"flex",alignItems:"center",gap:"1rem",padding:"1.5rem",borderRadius:"12px",maxWidth:"400px",margin:"0 auto"},emptyIcon:{fontSize:"1.25rem",color:oa,fontWeight:"300"},emptyTitle:{fontSize:"0.875rem",fontWeight:"600",color:ra,margin:"0 0 0.25rem 0"},emptyMessage:{fontSize:"0.75rem",color:ta,margin:"0"}};if(!document.head.querySelector("style[data-spin-animation]")){const e=document.createElement("style");e.setAttribute("data-spin-animation","true"),e.textContent="\n  @keyframes spin {\n    0% { transform: rotate(0deg); }\n    100% { transform: rotate(360deg); }\n  }\n",document.head.appendChild(e)}const ca=()=>{const e=(0,a.Zp)(),[n,t]=(0,i.useState)([]),[r,o]=(0,i.useState)(!0),[l,c]=(0,i.useState)(""),[d,p]=(0,i.useState)("All"),[x,u]=(0,i.useState)(""),[g,h]=(0,i.useState)("grid");(0,i.useEffect)(()=>{const e=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting&&e.target.classList.add("visible")})},{threshold:.1,rootMargin:"0px 0px -50px 0px"});return document.querySelectorAll(".scroll-reveal").forEach(n=>e.observe(n)),()=>e.disconnect()},[n]);const f=async()=>{o(!0),c("");try{const e=await fetch("".concat("http://localhost:5000/api","/countries"));if(!e.ok)throw new Error("HTTP error! status: ".concat(e.status));const n=await e.json();if(!Array.isArray(n))throw new Error("Invalid response format");const a=n.map(e=>(0,m.A)({id:e.id,name:e.name,region:sa[e.name]||"Other",reached:!0},e)).sort((e,n)=>e.name.localeCompare(n.name));t(a)}catch(e){console.error("Error fetching countries:",e),c("Failed to load countries: ".concat(e.message))}finally{o(!1)}};(0,i.useEffect)(()=>{f()},[]);const b=n.reduce((e,n)=>(e[n.region]||(e[n.region]=[]),e[n.region].push(n),e),{}),y=["All",...Object.keys(b).sort()],j=("All"===d?n:b[d]||[]).filter(e=>e.name.toLowerCase().includes(x.toLowerCase()));return r?(0,s.jsx)("div",{style:la.container,children:(0,s.jsxs)("div",{style:la.loadingContainer,children:[(0,s.jsx)("div",{style:la.spinner}),(0,s.jsx)("div",{style:la.loadingText,children:"Loading network..."})]})}):(0,s.jsxs)("div",{style:la.container,children:[(0,s.jsx)(Le,{}),(0,s.jsx)("div",{style:la.header,className:"scroll-reveal",children:(0,s.jsxs)("div",{style:la.headerContent,children:[(0,s.jsxs)("div",{style:la.badge,className:"minimal-card",children:[(0,s.jsx)("div",{style:la.statusDot}),(0,s.jsx)("span",{children:"Global Network"})]}),(0,s.jsx)(_.A,{variant:"h3",sx:{fontSize:"2.5rem",fontWeight:700,color:na,mb:2,letterSpacing:"-0.02em"},children:"Countries Reached              "}),"          ",(0,s.jsxs)("p",{style:la.subtitle,children:[n.length," countries across ",Object.keys(b).length," regions"]})]})}),(0,s.jsxs)("div",{style:la.controls,className:"scroll-reveal",children:[(0,s.jsxs)("div",{style:la.controlsGrid,children:[(0,s.jsx)("input",{type:"text",placeholder:"Search...",value:x,onChange:e=>u(e.target.value),style:la.searchInput,className:"minimal-input"}),(0,s.jsxs)("div",{style:la.viewToggle,children:[(0,s.jsx)("button",{onClick:()=>h("grid"),className:"minimal-button ".concat("grid"===g?"active":""),style:la.toggleBtn,children:"Grid"}),(0,s.jsx)("button",{onClick:()=>h("list"),className:"minimal-button ".concat("list"===g?"active":""),style:la.toggleBtn,children:"List"})]})]}),(0,s.jsx)("div",{style:la.filters,children:y.map(e=>(0,s.jsxs)("button",{onClick:()=>p(e),className:"minimal-button ".concat(d===e?"active":""),style:la.filterBtn,children:[e,"All"!==e&&(0,s.jsx)("span",{style:la.count,children:(b[e]||[]).length})]},e))})]}),(0,s.jsx)("div",{style:la.content,children:l?(0,s.jsxs)("div",{style:la.errorState,className:"minimal-card scroll-reveal",children:[(0,s.jsx)("div",{style:la.errorIcon,children:"!"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{style:la.errorTitle,children:"Connection Error"}),(0,s.jsx)("p",{style:la.errorMessage,children:l}),(0,s.jsx)("button",{onClick:f,style:la.retryBtn,className:"minimal-button",children:"Retry"})]})]}):0===j.length?(0,s.jsxs)("div",{style:la.emptyState,className:"minimal-card scroll-reveal",children:[(0,s.jsx)("div",{style:la.emptyIcon,children:"\u2205"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{style:la.emptyTitle,children:"No Results"}),(0,s.jsx)("p",{style:la.emptyMessage,children:x?'No matches for "'.concat(x,'"'):"Adjust filters"})]})]}):(0,s.jsx)("div",{style:(0,m.A)((0,m.A)({},la.grid),{},{gridTemplateColumns:"grid"===g?"repeat(auto-fill, minmax(200px, 1fr))":"1fr"}),children:j.map((n,t)=>{const a=(r=n.region,{"North America":"#0ea5e9","South America":"#10b981",Europe:"#8b5cf6",Africa:"#f59e0b",Asia:"#ef4444",Oceania:"#06b6d4",Other:oa}[r]||aa);var r;return(0,s.jsx)("div",{className:"minimal-card scroll-reveal",style:(0,m.A)((0,m.A)((0,m.A)({},la.card),"list"===g?la.listCard:{}),{},{transitionDelay:"".concat(30*t,"ms")}),onClick:()=>(n=>{e("/country/".concat(encodeURIComponent(n.name)))})(n),children:"grid"===g?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{style:(0,m.A)((0,m.A)({},la.indicator),{},{backgroundColor:a})}),(0,s.jsx)("h3",{style:la.countryName,children:n.name}),(0,s.jsx)("span",{style:(0,m.A)((0,m.A)({},la.region),{},{color:a}),children:n.region})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{style:(0,m.A)((0,m.A)({},la.indicatorSmall),{},{backgroundColor:a})}),(0,s.jsxs)("div",{style:la.listContent,children:[(0,s.jsx)("h3",{style:la.listName,children:n.name}),(0,s.jsx)("span",{style:(0,m.A)((0,m.A)({},la.listRegion),{},{color:a}),children:n.region})]}),(0,s.jsx)("div",{style:(0,m.A)((0,m.A)({},la.arrow),{},{color:a}),children:"\u2192"})]})},n.id)})})}),(0,s.jsx)(Qt,{}),(0,s.jsx)(Zt,{}),(0,s.jsx)(Qe,{})]})};var da=t(3472),pa=t(5347),ma=t(9463),xa=t(8326);const ua=e=>{let{impact:n,getIconForCategory:t,formatNumber:a}=e;return(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-6 hover:shadow-xl transition-shadow duration-300 group",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,s.jsx)("div",{className:"p-3 rounded-lg",style:{backgroundColor:n.color+"20",color:n.color},children:n.icon?(0,s.jsx)("span",{className:"text-2xl",children:n.icon}):t(n.category)}),(0,s.jsx)("span",{className:"px-3 py-1 text-xs font-medium rounded-full capitalize",style:{backgroundColor:n.color+"20",color:n.color},children:n.category})]}),(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsxs)("h3",{className:"text-2xl font-bold text-gray-900 mb-1",children:[a(n.value)," ",n.unit]}),(0,s.jsx)("h4",{className:"text-lg font-semibold text-gray-800 mb-2 group-hover:text-blue-600 transition-colors",children:n.title}),(0,s.jsx)("p",{className:"text-gray-600 text-sm leading-relaxed",children:n.description})]})]})},ga=e=>{let{impact:n,getIconForCategory:t,formatNumber:a}=e;return(0,s.jsxs)("div",{className:"bg-gradient-to-br from-white to-gray-50 rounded-xl shadow-xl p-8 hover:shadow-2xl transition-all duration-300 group border border-gray-100",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,s.jsx)("div",{className:"p-4 rounded-xl shadow-sm",style:{backgroundColor:n.color,color:"white"},children:n.icon?(0,s.jsx)("span",{className:"text-3xl",children:n.icon}):t(n.category)}),(0,s.jsx)("span",{className:"px-4 py-2 text-sm font-medium rounded-full capitalize border",style:{backgroundColor:"white",color:n.color,borderColor:n.color+"40"},children:n.category})]}),(0,s.jsxs)("div",{className:"text-center mb-6",children:[(0,s.jsx)("h3",{className:"text-4xl font-bold mb-2",style:{color:n.color},children:a(n.value)}),(0,s.jsx)("span",{className:"text-lg text-gray-500 font-medium",children:n.unit})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"text-xl font-bold text-gray-800 mb-3 group-hover:text-blue-600 transition-colors text-center",children:n.title}),(0,s.jsx)("p",{className:"text-gray-600 leading-relaxed text-center",children:n.description})]})]})},ha=e=>{let{title:n="Our Impact",subtitle:t="Making a difference through measurable outcomes",showCategories:a=!0,maxItems:r=8,layout:o="grid",className:l=""}=e;const[c,d]=(0,i.useState)([]),[p,m]=(0,i.useState)([]),[x,u]=(0,i.useState)(""),[g,h]=(0,i.useState)(!0),[f,b]=(0,i.useState)(""),[y,j]=(0,i.useState)(0);(0,i.useEffect)(()=>{v(),a&&w()},[]);const v=async()=>{try{const e="featured"===o?"/api/impacts/featured":"/api/impacts/public",n=r?"".concat(e,"?limit=").concat(r):e,t=await fetch(n),a=await t.json();a.success?d(a.data):b("Failed to load impact data")}catch(e){b("Unable to fetch impact statistics")}finally{h(!1)}},w=async()=>{try{const e=await fetch("/api/impacts/categories"),n=await e.json();n.success&&m(n.data)}catch(e){console.error("Failed to fetch categories")}},A=e=>{u(e),(async e=>{if(e){h(!0);try{const n=await fetch("/api/impacts/category/".concat(e)),t=await n.json();t.success&&d(t.data)}catch(n){b("Failed to fetch category data")}finally{h(!1)}}else v()})(e),j(0)},k=e=>e>=1e6?(e/1e6).toFixed(1)+"M":e>=1e3?(e/1e3).toFixed(1)+"K":e.toLocaleString(),S=e=>({environment:(0,s.jsx)(da.A,{className:"h-6 w-6"}),social:(0,s.jsx)(Cn.A,{className:"h-6 w-6"}),economic:(0,s.jsx)(_n.A,{className:"h-6 w-6"}),education:(0,s.jsx)(pa.A,{className:"h-6 w-6"}),health:(0,s.jsx)(Ae.A,{className:"h-6 w-6"}),community:(0,s.jsx)(te.A,{className:"h-6 w-6"})}[e.toLowerCase()]||(0,s.jsx)(_n.A,{className:"h-6 w-6"}));return g?(0,s.jsx)("section",{className:"py-16 bg-gray-50 ".concat(l),children:(0,s.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,s.jsxs)("div",{className:"text-center mb-12",children:[(0,s.jsx)("div",{className:"h-8 bg-gray-200 rounded w-64 mx-auto mb-4 animate-pulse"}),(0,s.jsx)("div",{className:"h-4 bg-gray-200 rounded w-96 mx-auto animate-pulse"})]}),(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[...Array(4)].map((e,n)=>(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-6 animate-pulse",children:[(0,s.jsx)("div",{className:"h-12 w-12 bg-gray-200 rounded-lg mb-4"}),(0,s.jsx)("div",{className:"h-8 bg-gray-200 rounded mb-2"}),(0,s.jsx)("div",{className:"h-4 bg-gray-200 rounded mb-4"}),(0,s.jsx)("div",{className:"h-6 bg-gray-200 rounded w-20"})]},n))})]})}):f?(0,s.jsx)("section",{className:"py-16 bg-gray-50 ".concat(l),children:(0,s.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:(0,s.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-8",children:(0,s.jsx)("p",{className:"text-red-800",children:f})})})}):0===c.length?(0,s.jsx)("section",{className:"py-16 bg-gray-50 ".concat(l),children:(0,s.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[(0,s.jsx)("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:n}),(0,s.jsx)("p",{className:"text-gray-600 mb-8",children:t}),(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-12",children:[(0,s.jsx)(_n.A,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),(0,s.jsx)("p",{className:"text-gray-500",children:"No impact statistics available at this time."})]})]})}):(0,s.jsx)("section",{className:"py-16 bg-gray-50 ".concat(l),children:(0,s.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,s.jsxs)("div",{className:"text-center mb-12",children:[(0,s.jsx)("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:n}),(0,s.jsx)("p",{className:"text-lg text-gray-600 max-w-3xl mx-auto",children:t})]}),a&&p.length>0&&(0,s.jsxs)("div",{className:"flex flex-wrap justify-center gap-3 mb-12",children:[(0,s.jsx)("button",{onClick:()=>A(""),className:"px-6 py-3 rounded-full text-sm font-medium transition-all duration-200 ".concat(""===x?"bg-blue-600 text-white shadow-lg":"bg-white text-gray-700 hover:bg-gray-50 shadow"),children:"All Categories"}),p.map(e=>(0,s.jsx)("button",{onClick:()=>A(e),className:"px-6 py-3 rounded-full text-sm font-medium transition-all duration-200 capitalize ".concat(x===e?"bg-blue-600 text-white shadow-lg":"bg-white text-gray-700 hover:bg-gray-50 shadow"),children:e},e))]}),"carousel"===o?(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("div",{className:"overflow-hidden",children:(0,s.jsx)("div",{className:"flex transition-transform duration-500 ease-in-out",style:{transform:"translateX(-".concat(100*y,"%)")},children:Array.from({length:Math.ceil(c.length/4)}).map((e,n)=>(0,s.jsx)("div",{className:"min-w-full grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:c.slice(4*n,4*(n+1)).map(e=>(0,s.jsx)(ua,{impact:e,getIconForCategory:S,formatNumber:k},e.id))},n))})}),Math.ceil(c.length/4)>1&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("button",{onClick:()=>{"carousel"===o&&j(e=>(e-1+Math.ceil(c.length/4))%Math.ceil(c.length/4))},className:"absolute left-0 top-1/2 -translate-y-1/2 -translate-x-4 bg-white rounded-full p-3 shadow-lg hover:bg-gray-50 transition-colors",children:(0,s.jsx)(ma.A,{className:"h-5 w-5 text-gray-600"})}),(0,s.jsx)("button",{onClick:()=>{"carousel"===o&&j(e=>(e+1)%Math.ceil(c.length/4))},className:"absolute right-0 top-1/2 -translate-y-1/2 translate-x-4 bg-white rounded-full p-3 shadow-lg hover:bg-gray-50 transition-colors",children:(0,s.jsx)(xa.A,{className:"h-5 w-5 text-gray-600"})}),(0,s.jsx)("div",{className:"flex justify-center space-x-2 mt-8",children:Array.from({length:Math.ceil(c.length/4)}).map((e,n)=>(0,s.jsx)("button",{onClick:()=>j(n),className:"w-3 h-3 rounded-full transition-colors ".concat(n===y?"bg-blue-600":"bg-gray-300")},n))})]})]}):"featured"===o?(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:c.slice(0,4).map(e=>(0,s.jsx)(ga,{impact:e,getIconForCategory:S,formatNumber:k},e.id))}):(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:c.map(e=>(0,s.jsx)(ua,{impact:e,getIconForCategory:S,formatNumber:k},e.id))}),c.length>=r&&(0,s.jsx)("div",{className:"text-center mt-12",children:(0,s.jsxs)("button",{className:"inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 transition-colors",children:["View All Impact Statistics",(0,s.jsx)(_n.A,{className:"ml-2 h-5 w-5"})]})})]})})},fa=document.createElement("style");fa.textContent="\n  @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');\n  \n  @keyframes fadeInUp {\n    from { \n      opacity: 0; \n      transform: translateY(30px);\n    }\n    to { \n      opacity: 1; \n      transform: translateY(0);\n    }\n  }\n  \n  @keyframes fadeIn {\n    from { opacity: 0; }\n    to { opacity: 1; }\n  }\n  \n  @keyframes shimmer {\n    0% { transform: translateX(-100%); }\n    100% { transform: translateX(100%); }\n  }\n  \n  .scroll-reveal {\n    opacity: 0;\n    transform: translateY(20px);\n    transition: all 0.6s ease-out;\n  }\n  \n  .scroll-reveal.visible {\n    opacity: 1;\n    transform: translateY(0);\n  }\n  \n  .minimal-card {\n    background: rgba(255, 255, 255, 0.4);\n    backdrop-filter: blur(10px);\n    border: 1px solid rgba(255, 255, 255, 0.2);\n    transition: all 0.3s ease;\n  }\n  \n  .minimal-card:hover {\n    background: rgba(255, 255, 255, 0.6);\n    transform: translateY(-2px);\n    box-shadow: 0 8px 25px rgba(0, 0, 0, 0.08);\n  }\n  \n  .minimal-input {\n    background: rgba(255, 255, 255, 0.3);\n    backdrop-filter: blur(10px);\n    border: 1px solid rgba(255, 255, 255, 0.2);\n    transition: all 0.2s ease;\n  }\n  \n  .minimal-input:focus {\n    background: rgba(255, 255, 255, 0.5);\n    border-color: rgba(10, 69, 28, 0.3);\n    outline: none;\n  }\n  \n  .minimal-button {\n    background: rgba(255, 255, 255, 0.3);\n    backdrop-filter: blur(10px);\n    border: 1px solid rgba(255, 255, 255, 0.2);\n    transition: all 0.2s ease;\n  }\n  \n  .minimal-button:hover {\n    background: rgba(255, 255, 255, 0.5);\n  }\n  \n  .minimal-button.active {\n    background: rgba(10, 69, 28, 0.9);\n    color: white;\n    border-color: rgba(10, 69, 28, 0.3);\n  }\n",document.head.querySelector("style[data-minimal-countries]")||(fa.setAttribute("data-minimal-countries","true"),document.head.appendChild(fa));const ba="#0a451c",ya="#6b7280",ja="#9ccf9f",va="#374151",wa="#9ca3af",Aa="#ef4444",ka={"United States":"North America",Canada:"North America",Mexico:"North America",Guatemala:"North America","Costa Rica":"North America",Panama:"North America",Jamaica:"North America",Bahamas:"North America",Cuba:"North America","Dominican Republic":"North America",Haiti:"North America","Trinidad and Tobago":"North America",Barbados:"North America",Nicaragua:"North America",Honduras:"North America",Belize:"North America","El Salvador":"North America","Antigua and Barbuda":"North America",Dominica:"North America",Grenada:"North America","Saint Kitts and Nevis":"North America","Saint Lucia":"North America","Saint Vincent and the Grenadines":"North America",Brazil:"South America",Argentina:"South America",Chile:"South America",Peru:"South America",Colombia:"South America",Venezuela:"South America",Ecuador:"South America",Uruguay:"South America",Paraguay:"South America",Bolivia:"South America",Guyana:"South America",Suriname:"South America","United Kingdom":"Europe",Germany:"Europe",France:"Europe",Italy:"Europe",Spain:"Europe",Netherlands:"Europe",Belgium:"Europe",Switzerland:"Europe",Austria:"Europe",Sweden:"Europe",Norway:"Europe",Denmark:"Europe",Finland:"Europe",Poland:"Europe","Czech Republic":"Europe",Hungary:"Europe",Portugal:"Europe",Greece:"Europe",Ireland:"Europe",Luxembourg:"Europe",Iceland:"Europe",Malta:"Europe",Cyprus:"Europe",Croatia:"Europe",Slovenia:"Europe",Slovakia:"Europe",Estonia:"Europe",Latvia:"Europe",Lithuania:"Europe",Romania:"Europe",Bulgaria:"Europe",Serbia:"Europe",Montenegro:"Europe","Bosnia and Herzegovina":"Europe",Albania:"Europe","North Macedonia":"Europe",Moldova:"Europe",Ukraine:"Europe",Belarus:"Europe",Russia:"Europe",Monaco:"Europe",Andorra:"Europe","San Marino":"Europe","Vatican City":"Europe",Liechtenstein:"Europe",China:"Asia",Japan:"Asia",India:"Asia","South Korea":"Asia",Thailand:"Asia",Singapore:"Asia",Malaysia:"Asia",Indonesia:"Asia",Philippines:"Asia",Vietnam:"Asia",Cambodia:"Asia",Laos:"Asia",Myanmar:"Asia",Bangladesh:"Asia",Pakistan:"Asia","Sri Lanka":"Asia",Nepal:"Asia",Bhutan:"Asia",Mongolia:"Asia",Kazakhstan:"Asia",Uzbekistan:"Asia",Kyrgyzstan:"Asia",Tajikistan:"Asia",Turkmenistan:"Asia",Afghanistan:"Asia",Iran:"Asia",Iraq:"Asia",Turkey:"Asia",Syria:"Asia",Lebanon:"Asia",Jordan:"Asia",Israel:"Asia",Palestine:"Asia","Saudi Arabia":"Asia","United Arab Emirates":"Asia",Qatar:"Asia",Kuwait:"Asia",Bahrain:"Asia",Oman:"Asia",Yemen:"Asia",Georgia:"Asia",Armenia:"Asia",Azerbaijan:"Asia",Maldives:"Asia",Brunei:"Asia","Timor-Leste":"Asia","North Korea":"Asia","South Africa":"Africa",Nigeria:"Africa",Egypt:"Africa",Kenya:"Africa",Ghana:"Africa",Ethiopia:"Africa",Morocco:"Africa",Algeria:"Africa",Tunisia:"Africa",Libya:"Africa",Sudan:"Africa","South Sudan":"Africa",Chad:"Africa","Central African Republic":"Africa",Cameroon:"Africa","Democratic Republic of the Congo":"Africa",Congo:"Africa",Gabon:"Africa","Equatorial Guinea":"Africa","Sao Tome and Principe":"Africa",Angola:"Africa",Zambia:"Africa",Zimbabwe:"Africa",Botswana:"Africa",Namibia:"Africa",Lesotho:"Africa",Eswatini:"Africa",Mozambique:"Africa",Malawi:"Africa",Tanzania:"Africa",Uganda:"Africa",Rwanda:"Africa",Burundi:"Africa",Somalia:"Africa",Djibouti:"Africa",Eritrea:"Africa",Mali:"Africa","Burkina Faso":"Africa",Niger:"Africa",Mauritania:"Africa",Senegal:"Africa",Gambia:"Africa","Guinea-Bissau":"Africa",Guinea:"Africa","Sierra Leone":"Africa",Liberia:"Africa","Ivory Coast":"Africa",Togo:"Africa",Benin:"Africa","Cabo Verde":"Africa",Mauritius:"Africa",Seychelles:"Africa",Comoros:"Africa",Madagascar:"Africa",Australia:"Oceania","New Zealand":"Oceania","Papua New Guinea":"Oceania",Fiji:"Oceania","Solomon Islands":"Oceania",Vanuatu:"Oceania",Samoa:"Oceania",Tonga:"Oceania",Kiribati:"Oceania",Tuvalu:"Oceania",Nauru:"Oceania",Palau:"Oceania","Marshall Islands":"Oceania",Micronesia:"Oceania"},Sa={container:{minHeight:"100vh",fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, sans-serif",color:va,background:"linear-gradient(135deg, #e0f7fa, #80deea, #e0f7fa, #ffffff)"},loadingContainer:{minHeight:"100vh",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:"1rem"},spinner:{width:"24px",height:"24px",border:"2px solid rgba(10, 69, 28, 0.2)",borderTop:"2px solid #0a451c",borderRadius:"50%",animation:"spin 1s linear infinite"},loadingText:{fontSize:"0.875rem",color:ya,fontWeight:"500"},header:{textAlign:"center",padding:"2rem 1rem 1rem",maxWidth:"800px",margin:"0 auto"},headerContent:{display:"flex",flexDirection:"column",alignItems:"center",gap:"1rem"},badge:{display:"flex",alignItems:"center",gap:"0.5rem",padding:"0.5rem 1rem",borderRadius:"20px",fontSize:"0.75rem",fontWeight:"500",color:ba},statusDot:{width:"6px",height:"6px",borderRadius:"50%",backgroundColor:"#10b981"},title:{fontSize:"1.75rem",fontWeight:"600",margin:"0",color:va},mainHeading:{fontSize:"2.5rem",fontWeight:"700",color:ba,fontFamily:"inherit"},subtitle:{fontSize:"0.875rem",color:ya,margin:"0"},controls:{maxWidth:"1000px",margin:"0 auto",padding:"1rem"},controlsGrid:{display:"flex",alignItems:"center",gap:"1rem",marginBottom:"1rem",flexWrap:"wrap"},searchInput:{flex:"1",minWidth:"200px",padding:"0.5rem 0.75rem",fontSize:"0.875rem",borderRadius:"8px",color:va},viewToggle:{display:"flex",gap:"0.25rem"},toggleBtn:{padding:"0.5rem 0.75rem",fontSize:"0.75rem",fontWeight:"500",borderRadius:"6px",cursor:"pointer"},filters:{display:"flex",flexWrap:"wrap",gap:"0.5rem",justifyContent:"center"},filterBtn:{display:"flex",alignItems:"center",gap:"0.375rem",padding:"0.375rem 0.75rem",fontSize:"0.75rem",fontWeight:"500",borderRadius:"16px",cursor:"pointer"},count:{backgroundColor:"rgba(255, 255, 255, 0.4)",padding:"0.125rem 0.375rem",borderRadius:"8px",fontSize:"0.625rem",fontWeight:"600"},content:{maxWidth:"1000px",margin:"0 auto",padding:"0 1rem 2rem"},grid:{display:"grid",gap:"0.75rem"},card:{padding:"1rem",borderRadius:"12px",cursor:"pointer",textAlign:"center",position:"relative",overflow:"hidden"},listCard:{display:"flex",alignItems:"center",textAlign:"left",padding:"0.75rem 1rem"},indicator:{width:"8px",height:"8px",borderRadius:"50%",margin:"0 auto 0.75rem"},indicatorSmall:{width:"8px",height:"8px",borderRadius:"50%",marginRight:"0.75rem",flexShrink:0},countryName:{fontSize:"0.875rem",fontWeight:"600",margin:"0 0 0.375rem 0",color:va},region:{fontSize:"0.75rem",fontWeight:"500"},listContent:{flex:"1"},listName:{fontSize:"0.875rem",fontWeight:"600",margin:"0 0 0.125rem 0",color:va},listRegion:{fontSize:"0.75rem",fontWeight:"500"},arrow:{fontSize:"0.875rem",fontWeight:"600"},errorState:{display:"flex",alignItems:"center",gap:"1rem",padding:"1.5rem",borderRadius:"12px",maxWidth:"400px",margin:"0 auto"},errorIcon:{fontSize:"1.25rem",color:Aa,fontWeight:"600"},errorTitle:{fontSize:"0.875rem",fontWeight:"600",color:Aa,margin:"0 0 0.25rem 0"},errorMessage:{fontSize:"0.75rem",color:ya,margin:"0 0 0.75rem 0"},retryBtn:{padding:"0.375rem 0.75rem",fontSize:"0.75rem",fontWeight:"500",borderRadius:"6px",cursor:"pointer"},emptyState:{display:"flex",alignItems:"center",gap:"1rem",padding:"1.5rem",borderRadius:"12px",maxWidth:"400px",margin:"0 auto"},emptyIcon:{fontSize:"1.25rem",color:wa,fontWeight:"300"},emptyTitle:{fontSize:"0.875rem",fontWeight:"600",color:va,margin:"0 0 0.25rem 0"},emptyMessage:{fontSize:"0.75rem",color:ya,margin:"0"}};if(!document.head.querySelector("style[data-spin-animation]")){const e=document.createElement("style");e.setAttribute("data-spin-animation","true"),e.textContent="\n  @keyframes spin {\n    0% { transform: rotate(0deg); }\n    100% { transform: rotate(360deg); }\n  }\n",document.head.appendChild(e)}const Ca=()=>{const e=(0,a.Zp)(),[n,t]=(0,i.useState)([]),[r,o]=(0,i.useState)(!0),[l,c]=(0,i.useState)(""),[d,p]=(0,i.useState)("All"),[x,u]=(0,i.useState)(""),[g,h]=(0,i.useState)("grid");(0,i.useEffect)(()=>{const e=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting&&e.target.classList.add("visible")})},{threshold:.1,rootMargin:"0px 0px -50px 0px"});return document.querySelectorAll(".scroll-reveal").forEach(n=>e.observe(n)),()=>e.disconnect()},[n]);const f=async()=>{o(!0),c("");try{const e=await fetch("".concat("http://localhost:5000/api","/countries"));if(!e.ok)throw new Error("HTTP error! status: ".concat(e.status));const n=await e.json();if(!Array.isArray(n))throw new Error("Invalid response format");const a=n.map(e=>(0,m.A)({id:e.id,name:e.name,region:ka[e.name]||"Other",reached:!0},e)).sort((e,n)=>e.name.localeCompare(n.name));t(a)}catch(e){console.error("Error fetching countries:",e),c("Failed to load countries: ".concat(e.message))}finally{o(!1)}};(0,i.useEffect)(()=>{f()},[]);const b=n.reduce((e,n)=>(e[n.region]||(e[n.region]=[]),e[n.region].push(n),e),{}),y=["All",...Object.keys(b).sort()],j=("All"===d?n:b[d]||[]).filter(e=>e.name.toLowerCase().includes(x.toLowerCase()));return r?(0,s.jsx)("div",{style:Sa.container,children:(0,s.jsxs)("div",{style:Sa.loadingContainer,children:[(0,s.jsx)("div",{style:Sa.spinner}),(0,s.jsx)("div",{style:Sa.loadingText,children:"Loading network..."})]})}):(0,s.jsxs)("div",{style:Sa.container,children:[(0,s.jsx)("div",{style:Sa.header,className:"scroll-reveal",children:(0,s.jsxs)("div",{style:Sa.headerContent,children:[(0,s.jsxs)("div",{style:Sa.badge,className:"minimal-card",children:[(0,s.jsx)("div",{style:Sa.statusDot}),(0,s.jsx)("span",{children:"Global Network"})]}),(0,s.jsx)("h1",{style:Sa.mainHeading,children:"Countries Reached"}),(0,s.jsxs)("p",{style:Sa.subtitle,children:[n.length," countries across ",Object.keys(b).length," regions"]})]})}),(0,s.jsxs)("div",{style:Sa.controls,className:"scroll-reveal",children:[(0,s.jsxs)("div",{style:Sa.controlsGrid,children:[(0,s.jsx)("input",{type:"text",placeholder:"Search...",value:x,onChange:e=>u(e.target.value),style:Sa.searchInput,className:"minimal-input"}),(0,s.jsxs)("div",{style:Sa.viewToggle,children:[(0,s.jsx)("button",{onClick:()=>h("grid"),className:"minimal-button ".concat("grid"===g?"active":""),style:Sa.toggleBtn,children:"Grid"}),(0,s.jsx)("button",{onClick:()=>h("list"),className:"minimal-button ".concat("list"===g?"active":""),style:Sa.toggleBtn,children:"List"})]})]}),(0,s.jsx)("div",{style:Sa.filters,children:y.map(e=>(0,s.jsxs)("button",{onClick:()=>p(e),className:"minimal-button ".concat(d===e?"active":""),style:Sa.filterBtn,children:[e,"All"!==e&&(0,s.jsx)("span",{style:Sa.count,children:(b[e]||[]).length})]},e))})]}),(0,s.jsx)("div",{style:Sa.content,children:l?(0,s.jsxs)("div",{style:Sa.errorState,className:"minimal-card scroll-reveal",children:[(0,s.jsx)("div",{style:Sa.errorIcon,children:"!"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{style:Sa.errorTitle,children:"Connection Error"}),(0,s.jsx)("p",{style:Sa.errorMessage,children:l}),(0,s.jsx)("button",{onClick:f,style:Sa.retryBtn,className:"minimal-button",children:"Retry"})]})]}):0===j.length?(0,s.jsxs)("div",{style:Sa.emptyState,className:"minimal-card scroll-reveal",children:[(0,s.jsx)("div",{style:Sa.emptyIcon,children:"\u2205"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{style:Sa.emptyTitle,children:"No Results"}),(0,s.jsx)("p",{style:Sa.emptyMessage,children:x?'No matches for "'.concat(x,'"'):"Adjust filters"})]})]}):(0,s.jsx)("div",{style:(0,m.A)((0,m.A)({},Sa.grid),{},{gridTemplateColumns:"grid"===g?"repeat(auto-fill, minmax(200px, 1fr))":"1fr"}),children:j.map((n,t)=>{const a=(r=n.region,{"North America":"#0ea5e9","South America":"#10b981",Europe:"#8b5cf6",Africa:"#f59e0b",Asia:"#ef4444",Oceania:"#06b6d4",Other:wa}[r]||ja);var r;return(0,s.jsx)("div",{className:"minimal-card scroll-reveal",style:(0,m.A)((0,m.A)((0,m.A)({},Sa.card),"list"===g?Sa.listCard:{}),{},{transitionDelay:"".concat(30*t,"ms")}),onClick:()=>(n=>{e("/country/".concat(encodeURIComponent(n.name)))})(n),children:"grid"===g?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{style:(0,m.A)((0,m.A)({},Sa.indicator),{},{backgroundColor:a})}),(0,s.jsx)("h3",{style:Sa.countryName,children:n.name}),(0,s.jsx)("span",{style:(0,m.A)((0,m.A)({},Sa.region),{},{color:a}),children:n.region})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{style:(0,m.A)((0,m.A)({},Sa.indicatorSmall),{},{backgroundColor:a})}),(0,s.jsxs)("div",{style:Sa.listContent,children:[(0,s.jsx)("h3",{style:Sa.listName,children:n.name}),(0,s.jsx)("span",{style:(0,m.A)((0,m.A)({},Sa.listRegion),{},{color:a}),children:n.region})]}),(0,s.jsx)("div",{style:(0,m.A)((0,m.A)({},Sa.arrow),{},{color:a}),children:"\u2192"})]})},n.id)})})})]})},za=[{key:"applicantType",question:"Are you applying as an individual or representing an organization?",type:"select",options:["Individual","Organization"],required:!0},{key:"fullName",question:e=>"Individual"===e.applicantType?"What's your full name?":"What's your organization's full name?",type:"text",required:!0,validation:e=>e.trim().length>=2?null:"Name must be at least 2 characters"},{key:"email",question:"What's your primary email address?",type:"email",required:!0,validation:e=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)?null:"Please enter a valid email address"},{key:"country",question:"Which country are you based in?",type:"select",options:["Cameroon","Kenya","Nigeria","Ghana","Uganda","Tanzania","Zimbabwe","Zambia","Sierra Leone","Liberia","Rwanda","Benin","Togo","DR Congo","Somalia","South Africa","Ethiopia","Senegal","Mali","Burkina Faso","Ivory Coast","Mozambique","Madagascar","Angola","Chad","Niger","Guinea","Malawi","Botswana","Namibia","Mauritius","Seychelles","Gabon","Equatorial Guinea","Central African Republic","Republic of Congo","Djibouti","Eritrea","South Sudan","Lesotho","Swaziland","Gambia","Guinea-Bissau","Cape Verde","Comoros","Sao Tome and Principe","Other"],required:!0},{key:"organizationType",question:"What type of organization do you represent?",type:"select",options:["Youth-led NGO/Non-Profit","Environmental NGO","Climate Action Organization","Community-Based Organization","Educational Institution","Research Institute","Government Institution","UN Agency/International Organization","Private Company/Social Enterprise","Tech Company","Legal/Advocacy Organization","Healthcare Organization","Faith-Based Organization","Other"],condition:e=>"Organization"===e.applicantType,required:!0},{key:"individualProfession",question:"What's your current profession/occupation?",type:"text",condition:e=>"Individual"===e.applicantType,required:!0,validation:e=>e.trim().length>=3?null:"Please provide your profession"},{key:"expertise",question:e=>"Individual"===e.applicantType?"What are your key skills or areas of expertise? (e.g., Climate Science, Environmental Law, Community Development, Digital Technology, Agriculture, Marine Conservation)":"What are your organization's core competencies and focus areas related to climate, environment, or sustainable development?",type:"textarea",required:!0,validation:e=>e.trim().length>=30?null:"Please provide at least 30 characters describing your expertise"},{key:"previousExperience",question:e=>"Individual"===e.applicantType?"Do you have previous experience in climate action, environmental conservation, or sustainable development projects?":"Does your organization have experience in climate action, environmental conservation, or sustainable development initiatives?",type:"select",options:["Yes - Extensive experience (5+ years)","Yes - Moderate experience (2-4 years)","Some experience (Less than 2 years)","No - New to this field but passionate to learn"],required:!0},{key:"acefFocusAreas",question:"Which ACEF programme areas align most with your interests/expertise? (Select your primary area of interest)",type:"select",options:["Climate Resilience & Adaptation","Net Zero & Energy Access","Climate Migration, Peace & Security","Chemicals & Waste Management","Natural Resources Conservation (Terrestrial & Aquatic)","WASH (Water, Sanitation, and Hygiene)","Agriculture & Food Security","Education Access & Environmental Literacy","Health Access & Environmental Health","Youth Empowerment & Green Job Creation","Policy Advocacy & International Engagement","Marine Conservation & Ocean Literacy","All of the above"],required:!0},{key:"collaborationIdea",question:"Describe your specific collaboration idea with ACEF. How do you envision working together to address climate and environmental challenges in Africa?",type:"textarea",required:!0,validation:e=>e.trim().length>=100?null:"Please provide at least 100 characters describing your collaboration idea"},{key:"resources",question:"What resources can you contribute to this partnership? (e.g., technical skills, funding, expertise, networks, time commitment, local knowledge)",type:"textarea",required:!0,validation:e=>e.trim().length>=30?null:"Please describe the resources you can contribute (minimum 30 characters)"},{key:"youthFocus",question:e=>"Individual"===e.applicantType?"How do you see yourself contributing to ACEF's mission of youth empowerment in climate and environmental action?":"How does your organization support or plan to support youth empowerment in climate and environmental initiatives?",type:"textarea",required:!0,validation:e=>e.trim().length>=50?null:"Please describe your approach to youth empowerment (minimum 50 characters)"},{key:"expectations",question:"What specific outcomes do you hope to achieve through this partnership with ACEF?",type:"textarea",required:!0,validation:e=>e.trim().length>=40?null:"Please describe your expected outcomes (minimum 40 characters)"},{key:"challenges",question:"What do you see as the main climate or environmental challenges in your region that this collaboration could help address?",type:"textarea",required:!0,validation:e=>e.trim().length>=40?null:"Please describe the challenges you want to address (minimum 40 characters)"},{key:"proposalLink",question:"If you have a detailed proposal, project document, or additional materials, please share the link here (optional):",type:"text",required:!1,validation:e=>{if(!e.trim())return null;return/^https?:\/\/.+\..+/.test(e.trim())?null:"Please enter a valid URL starting with http:// or https://"}},{key:"additionalInfo",question:"Is there anything else you'd like ACEF to know about your collaboration proposal?",type:"textarea",required:!1}],Na=e=>{var n,t,a;let{flowType:r="collaborate",onSubmit:o,onExit:l,initialData:c={},className:d="",style:p={}}=e;const{theme:x,colors:u,isDarkMode:g}=y(),[h,f]=(0,i.useState)([]),[b,j]=(0,i.useState)(""),[v,A]=(0,i.useState)(0),[k,S]=(0,i.useState)(c),[C,z]=(0,i.useState)(""),[N,_]=(0,i.useState)(!1),[I,E]=(0,i.useState)(!1),[T,W]=(0,i.useState)(null),[F,P]=(0,i.useState)([]),[R,B]=(0,i.useState)(!1),D=(0,i.useRef)(null);(0,i.useEffect)(()=>{D.current&&D.current.scrollTo({top:D.current.scrollHeight,behavior:"smooth"})},[h]),(0,i.useEffect)(()=>{if(R)return;const e={collaborate:"Welcome! I'm excited to help you start a collaboration with ACEF. I'll ask you some questions to understand your background and ideas better.",partner:"Wonderful! Let's explore how we can build a meaningful partnership together."},n=setTimeout(()=>{B(!0),f([{sender:"bot",message:e[r],id:Date.now(),stepIndex:null}]),setTimeout(()=>{const e=za[0],n="function"===typeof e.question?e.question({}):e.question;f(e=>[...e,{sender:"bot",message:n,id:Date.now()+1,stepIndex:0}])},1e3)},500);return()=>clearTimeout(n)},[r,R]);const L=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"bot",t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;"bot"===n?(E(!0),setTimeout(()=>{f(a=>[...a,{sender:n,message:e,id:Date.now()+Math.random(),stepIndex:null!==t?t:v}]),E(!1)},800)):f(a=>[...a,{sender:n,message:e,id:Date.now()+Math.random(),stepIndex:null!==t?t:v}])},M=()=>{const e=null!==T?za[T]:za[v],n=((e,n,t)=>{if(n.required&&!e.trim())return"This field is required";if(n.validation){const t=n.validation(e);if(t)return t}if("select"===n.type&&n.options&&e){const a="function"===typeof n.options?n.options(t):n.options;if(!a.includes(e))return"Please select one of the available options: ".concat(a.join(", "))}return null})(b,e,k);if(n)return void z(n);if(z(""),null!==T){f(e=>e.map(e=>e.stepIndex===T&&"user"===e.sender?(0,m.A)((0,m.A)({},e),{},{message:b}):e));const e=za[T],n=(0,m.A)((0,m.A)({},k),{},{[e.key]:b});return S(n),j(""),W(null),void setTimeout(()=>{L("\u2705 Your response has been updated!","bot"),setTimeout(()=>{if(!N&&za[v]){const e=za[v],t="function"===typeof e.question?e.question(n):e.question;h.some(e=>"bot"===e.sender&&e.stepIndex===v&&e.message.includes(t.split("?")[0]))||L("Now, let's continue: ".concat(t),"bot",v)}},800)},300)}const t=za[v];L(b,"user",v);const a=(0,m.A)((0,m.A)({},k),{},{[t.key]:b});S(a),P(e=>[...e,{stepIndex:v,questionKey:t.key,question:"function"===typeof t.question?t.question(k):t.question,answer:b}]),j("");const r=((e,n)=>{for(let t=e+1;t<za.length;t++){const e=za[t];if(!e.condition||e.condition(n))return t}return-1})(v,a);-1===r?setTimeout(()=>{L("Excellent! I've collected all the information. Let me summarize what you've shared:","bot"),setTimeout(()=>{const e=Object.entries(a).map(e=>{let[n,t]=e;const r=za.find(e=>e.key===n);if(!r||!t)return null;const o="function"===typeof r.question?r.question(a):r.question;return"\u2022 ".concat(o.replace(/[?:]/g,""),": ").concat(t)}).filter(Boolean).join("\n");L(e,"bot"),setTimeout(()=>{L("Please review the information above. You can click on any of your responses to edit them, or submit your collaboration request if everything looks correct.","bot"),_(!0)},1e3)},1e3)},1e3):A(r)};(0,i.useEffect)(()=>{if(!R||!za[v]||N||null!==T||h.length<=1)return;const e=za[v],n="function"===typeof e.question?e.question(k):e.question;if(!h.some(e=>"bot"===e.sender&&e.stepIndex===v&&(e.message.includes(n.split("?")[0])||e.message.includes("Now, let's continue:")))&&!I){const e=setTimeout(()=>L(n,"bot",v),500);return()=>clearTimeout(e)}},[v,N,T,k,R,h.length,I]);const H={container:(0,m.A)({background:g?"linear-gradient(145deg, ".concat(w(u.black,.6),", ").concat(w(u.primaryDark,.2),")"):"linear-gradient(145deg, ".concat(w(u.white,.95),", ").concat(w(u.primary,.05),")"),backdropFilter:"blur(20px)",borderRadius:"24px",padding:"32px",boxShadow:"0 8px 40px ".concat(w(u.primary,.15)),border:"1px solid ".concat(w(u.primary,.2)),position:"relative"},p),header:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"24px",paddingBottom:"20px",borderBottom:"1px solid ".concat(w(u.primary,.1))},title:{fontSize:"1.25rem",fontWeight:700,color:u.primary,display:"flex",alignItems:"center",gap:"10px"},exitButton:{background:"transparent",border:"1px solid ".concat(w(u.primary,.3)),borderRadius:"20px",padding:"8px 16px",cursor:"pointer",fontSize:"0.875rem",fontWeight:600,color:x.colors.textSecondary,transition:"all 0.3s ease",fontFamily:"inherit"},chatContainer:{minHeight:"400px"},chatMessages:{maxHeight:"500px",overflowY:"auto",marginBottom:"24px",paddingRight:"6px"},message:{marginBottom:"20px",animation:"messageSlide 0.4s ease-out"},botMessage:{display:"flex",alignItems:"flex-start",gap:"12px"},botAvatar:{width:"32px",height:"32px",borderRadius:"50%",background:"linear-gradient(135deg, ".concat(u.primary,", ").concat(u.secondary,")"),display:"flex",alignItems:"center",justifyContent:"center",fontSize:"0.875rem",flexShrink:0},botMessageContent:{background:w(u.primary,g?.15:.08),padding:"12px 16px",borderRadius:"16px 16px 16px 6px",color:x.colors.text,fontSize:"0.875rem",lineHeight:1.5,maxWidth:"75%",whiteSpace:"pre-line",border:"1px solid ".concat(w(u.primary,.1))},userMessage:{display:"flex",justifyContent:"flex-end"},userMessageContent:{background:"linear-gradient(135deg, ".concat(u.primary,", ").concat(u.primaryDark,")"),padding:"12px 16px",borderRadius:"16px 16px 6px 16px",color:u.white,fontSize:"0.875rem",lineHeight:1.5,maxWidth:"75%",cursor:"pointer",transition:"all 0.3s ease",position:"relative",boxShadow:"0 2px 8px ".concat(w(u.primary,.3))},editHint:{position:"absolute",top:"-6px",right:"-6px",background:u.warning,color:u.white,borderRadius:"50%",width:"16px",height:"16px",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"0.625rem",opacity:0,transition:"opacity 0.3s ease"},typingIndicator:{display:"flex",alignItems:"flex-start",gap:"12px",marginBottom:"20px"},typingDots:{background:w(u.primary,g?.15:.08),padding:"12px 16px",borderRadius:"16px 16px 16px 6px",border:"1px solid ".concat(w(u.primary,.1)),display:"flex",gap:"3px"},dot:{width:"6px",height:"6px",borderRadius:"50%",background:u.primary,animation:"typingDots 1.4s infinite ease-in-out"},inputSection:{display:"flex",flexDirection:"column",gap:"16px"},inputGroup:{position:"relative"},input:{width:"100%",padding:"14px 16px",background:g?w(u.black,.3):w(u.gray50,.8),border:"1px solid ".concat(w(u.primary,.2)),borderRadius:"12px",fontSize:"0.875rem",fontFamily:"inherit",color:x.colors.text,transition:"all 0.3s ease",outline:"none"},textarea:{width:"100%",padding:"14px 16px",background:g?w(u.black,.3):w(u.gray50,.8),border:"1px solid ".concat(w(u.primary,.2)),borderRadius:"12px",fontSize:"0.875rem",fontFamily:"inherit",color:x.colors.text,transition:"all 0.3s ease",outline:"none",minHeight:"80px",resize:"vertical"},select:{width:"100%",padding:"14px 16px",background:g?w(u.black,.3):w(u.gray50,.8),border:"1px solid ".concat(w(u.primary,.2)),borderRadius:"12px",fontSize:"0.875rem",fontFamily:"inherit",color:x.colors.text,cursor:"pointer",transition:"all 0.3s ease",outline:"none",appearance:"none",backgroundImage:"url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='".concat(u.primary.replace("#","%23"),"' viewBox='0 0 16 16'%3e%3cpath d='m7.247 4.86-4.796 5.481c-.566.647-.106 1.659.753 1.659h9.592a1 1 0 0 0 .753-1.659l-4.796-5.48a1 1 0 0 0-1.506 0z'/%3e%3c/svg%3e\")"),backgroundRepeat:"no-repeat",backgroundPosition:"right 12px center",backgroundSize:"12px"},buttonGroup:{display:"flex",gap:"12px",justifyContent:"center",flexWrap:"wrap"},primaryButton:{padding:"12px 24px",background:"linear-gradient(135deg, ".concat(u.primary,", ").concat(u.primaryDark,")"),color:u.white,border:"none",borderRadius:"20px",fontSize:"0.875rem",fontWeight:600,cursor:"pointer",transition:"all 0.3s ease",fontFamily:"inherit",minWidth:"120px",boxShadow:"0 4px 12px ".concat(w(u.primary,.3))},secondaryButton:{padding:"12px 24px",background:"transparent",color:x.colors.text,border:"1px solid ".concat(w(u.primary,.3)),borderRadius:"20px",fontSize:"0.875rem",fontWeight:600,cursor:"pointer",transition:"all 0.3s ease",fontFamily:"inherit",minWidth:"120px"},successButton:{background:"linear-gradient(135deg, ".concat(u.success,", #059669)")},errorMessage:{color:u.error,fontSize:"0.8125rem",textAlign:"center",padding:"10px 16px",background:"".concat(u.error,"15"),borderRadius:"10px",border:"1px solid ".concat(u.error,"30")},editingIndicator:{color:u.warning,fontSize:"0.8125rem",textAlign:"center",padding:"8px 16px",background:"".concat(u.warning,"15"),borderRadius:"10px",marginBottom:"12px",fontWeight:600}};return(0,s.jsxs)("div",{className:d,style:H.container,children:[(0,s.jsxs)("div",{style:H.header,children:[(0,s.jsxs)("div",{style:H.title,children:[(0,s.jsx)("span",{children:"collaborate"===r?"\ud83e\udd1d":"\ud83c\udfe2"}),(0,s.jsx)("span",{children:"collaborate"===r?"Collaborate":"Partner"})]}),l&&(0,s.jsx)("button",{style:H.exitButton,onClick:l,children:"\u2190 Back to Options"})]}),(0,s.jsxs)("div",{style:H.chatContainer,children:[(0,s.jsxs)("div",{style:H.chatMessages,ref:D,children:[h.map(e=>(0,s.jsx)("div",{style:H.message,children:"bot"===e.sender?(0,s.jsxs)("div",{style:H.botMessage,children:[(0,s.jsx)("div",{style:H.botAvatar,children:(0,s.jsx)("img",{src:"/bird.png",alt:"Bird Avatar",style:{width:"100%",height:"100%",borderRadius:"50%"}})}),(0,s.jsx)("div",{style:H.botMessageContent,children:e.message})]}):(0,s.jsx)("div",{style:H.userMessage,children:(0,s.jsxs)("div",{style:H.userMessageContent,onClick:()=>(e=>{if(void 0!==e&&null!==e&&e<za.length){const n=za[e];W(e),j(k[n.key]||""),z("");const t="function"===typeof n.question?n.question(k):n.question;L("\u270f\ufe0f Editing: ".concat(t),"bot")}})(e.stepIndex),onMouseEnter:e=>{const n=e.target.querySelector(".edit-hint");n&&(n.style.opacity="1")},onMouseLeave:e=>{const n=e.target.querySelector(".edit-hint");n&&(n.style.opacity="0")},title:"Click to edit this response",children:[e.message,(0,s.jsx)("div",{className:"edit-hint",style:H.editHint,children:"\u270f\ufe0f"})]})})},e.id)),I&&(0,s.jsxs)("div",{style:H.typingIndicator,children:[(0,s.jsx)("div",{style:H.botAvatar,children:"\ud83e\udd16"}),(0,s.jsxs)("div",{style:H.typingDots,children:[(0,s.jsx)("div",{style:(0,m.A)((0,m.A)({},H.dot),{},{animationDelay:"0s"})}),(0,s.jsx)("div",{style:(0,m.A)((0,m.A)({},H.dot),{},{animationDelay:"0.2s"})}),(0,s.jsx)("div",{style:(0,m.A)((0,m.A)({},H.dot),{},{animationDelay:"0.4s"})})]})]})]}),(0,s.jsx)("div",{style:H.inputSection,children:N?(0,s.jsxs)("div",{style:H.buttonGroup,children:[(0,s.jsx)("button",{style:(0,m.A)((0,m.A)({},H.primaryButton),H.successButton),onClick:async()=>{E(!0);try{var e;const n=(e=>{const n=(0,m.A)({},e);return n.name||(n.name=n.fullName||n.full_name||n.firstName||n.user_name||""),n.email||(n.email=n.emailAddress||n.email_address||n.primaryEmail||n.contact_email||""),n.organization||(n.organization=n.organizationName||n.company||n.institution||null),n})(k);if(!n.name||!n.name.trim())return E(!1),L("I notice the name field is missing. Please go back and edit your response to include your full name.","bot"),void _(!1);if(!n.email||!n.email.trim())return E(!1),L("I notice the email field is missing. Please go back and edit your response to include your email address.","bot"),void _(!1);const t={flowType:r,formData:n,additionalData:{submissionMethod:"chatbot",questionHistory:F.map(e=>({question:e.question,answer:e.answer,questionKey:e.questionKey})),completionTime:Date.now()-((null===(e=h[0])||void 0===e?void 0:e.id)||Date.now()),originalFormData:k}};console.log("Submitting data:",t);const a=await fetch("".concat(Ge||"/api","/collaboration/submit"),{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(t)}),i=await a.json();if(!i.success)throw new Error(i.message||"Submission failed");E(!1),L("Perfect! Your ".concat(r," request has been submitted successfully. Reference ID: ").concat(i.data.collaborationId),"bot"),setTimeout(()=>{L("Our team will review your request and contact you within 2-3 business days. Thank you for your interest in working with ACEF!","bot")},1e3),o&&o((0,m.A)((0,m.A)({},n),{},{collaborationId:i.data.collaborationId,submittedAt:i.data.submittedAt}))}catch(n){E(!1),console.error("Submission error:",n),L("I'm sorry, there was an error submitting your request: ".concat(n.message,". Please try again or contact us directly."),"bot"),setTimeout(()=>{L("You can try submitting again by clicking the submit button below.","bot"),_(!0)},2e3)}_(!1)},children:"\u2713 Submit Request"}),(0,s.jsx)("button",{style:H.secondaryButton,onClick:()=>{L("No worries! You can edit any response by clicking on it above.","bot"),_(!1)},children:"\u2190 Review & Edit"})]}):za[v]?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{style:H.inputGroup,children:[null!==T&&(0,s.jsx)("div",{style:H.editingIndicator,children:"\u270f\ufe0f Editing your response - press Continue when done"}),(()=>{const e=za[null!==T?T:v];if(!e)return null;const n="select"===e.type&&e.options?"function"===typeof e.options?e.options(k):e.options:null;return"select"===e.type&&n?(0,s.jsxs)("select",{value:b,onChange:e=>j(e.target.value),style:(0,m.A)((0,m.A)({},H.select),{},{borderColor:b?u.primary:w(u.primary,.2)}),children:[(0,s.jsx)("option",{value:"",children:"Choose an option..."}),n.map(e=>(0,s.jsx)("option",{value:e,children:e},e))]}):"textarea"===e.type?(0,s.jsx)("textarea",{placeholder:"Type your response...",value:b,onChange:e=>j(e.target.value),style:(0,m.A)((0,m.A)({},H.textarea),{},{borderColor:b.length>0?u.primary:w(u.primary,.2)})}):(0,s.jsx)("input",{type:"email"===e.type?"email":"url"===e.type?"url":"text",placeholder:"Type your response...",value:b,onChange:e=>j(e.target.value),onKeyPress:e=>"Enter"===e.key&&M(),style:(0,m.A)((0,m.A)({},H.input),{},{borderColor:b.length>0?u.primary:w(u.primary,.2)})})})()]}),(0,s.jsxs)("div",{style:H.buttonGroup,children:[(0,s.jsx)("button",{style:(0,m.A)((0,m.A)({},H.secondaryButton),{},{opacity:0===v&&null===T?.5:1,cursor:0===v&&null===T?"not-allowed":"pointer"}),onClick:null!==T?()=>{W(null),j(""),z(""),L("Edit cancelled. Let's continue where we left off.","bot")}:()=>{const e=((e,n)=>{for(let t=e-1;t>=0;t--){const e=za[t];if(!e.condition||e.condition(n))return t}return-1})(v,k);-1!==e&&(f(e=>e.slice(0,-2)),A(e),j(k[za[e].key]||""))},disabled:0===v&&null===T,children:null!==T?"\u2715 Cancel Edit":"\u2190 Previous"}),(0,s.jsx)("button",{style:(0,m.A)((0,m.A)({},H.primaryButton),{},{opacity:!b.trim()&&null!==(n=za[null!==T?T:v])&&void 0!==n&&n.required?.6:1,cursor:!b.trim()&&null!==(t=za[null!==T?T:v])&&void 0!==t&&t.required?"not-allowed":"pointer"}),onClick:M,disabled:!b.trim()&&(null===(a=za[null!==T?T:v])||void 0===a?void 0:a.required),children:"Continue \u2192"})]}),C&&(0,s.jsxs)("div",{style:H.errorMessage,children:["\u26a0\ufe0f ",C]})]}):null})]}),(0,s.jsx)("style",{jsx:!0,children:"\n        @keyframes messageSlide {\n          from {\n            opacity: 0;\n            transform: translateY(16px);\n          }\n          to {\n            opacity: 1;\n            transform: translateY(0);\n          }\n        }\n\n        @keyframes typingDots {\n          0%, 60%, 100% { \n            transform: translateY(0); \n            opacity: 0.4; \n          }\n          30% { \n            transform: translateY(-6px); \n            opacity: 1; \n          }\n        }\n\n        .user-message-content:hover {\n          transform: translateY(-1px);\n          box-shadow: 0 4px 12px ".concat(w(u.primary,.4)," !important;\n        }\n\n        .user-message-content:hover .edit-hint {\n          opacity: 1 !important;\n        }\n\n        .chat-messages::-webkit-scrollbar {\n          width: 4px;\n        }\n\n        .chat-messages::-webkit-scrollbar-track {\n          background: ").concat(w(u.primary,.1),";\n          border-radius: 1px;\n        }\n\n        .chat-messages::-webkit-scrollbar-thumb {\n          background: ").concat(u.primary,";\n          border-radius: 1px;\n        }\n\n        .chat-messages::-webkit-scrollbar-thumb:hover {\n          background: ").concat(u.primaryDark,";\n        }\n\n        button:focus,\n        input:focus,\n        textarea:focus,\n        select:focus {\n          outline: 2px solid ").concat(u.primary,";\n          outline-offset: 2px;\n        }\n\n        .primary-button:hover {\n          transform: translateY(-1px);\n          box-shadow: 0 6px 16px ").concat(w(u.primary,.4)," !important;\n        }\n\n        .secondary-button:hover {\n          background: ").concat(w(u.primary,.05)," !important;\n          border-color: ").concat(u.primary," !important;\n          color: ").concat(u.primary," !important;\n          transform: translateY(-1px);\n        }\n\n        .exit-button:hover {\n          background: ").concat(w(u.primary,.05)," !important;\n          border-color: ").concat(u.primary," !important;\n          color: ").concat(u.primary," !important;\n        }\n\n        input:focus,\n        textarea:focus,\n        select:focus {\n          border-color: ").concat(u.primary," !important;\n          box-shadow: 0 0 0 2px ").concat(w(u.primary,.2)," !important;\n        }\n\n        @media (max-width: 768px) {\n          .button-group {\n            flex-direction: column !important;\n          }\n          \n          .primary-button,\n          .secondary-button {\n            width: 100% !important;\n          }\n          \n          .chat-messages {\n            max-height: 350px !important;\n          }\n          \n          .bot-message-content,\n          .user-message-content {\n            font-size: 0.8125rem !important;\n            max-width: 85% !important;\n          }\n        }\n      ")})]})},_a=e=>{let{onClose:n,autoCloseDelay:t=5e3,className:a="",style:r={}}=e;const{theme:o,colors:l,isDarkMode:c}=y();(0,i.useEffect)(()=>{if(t&&n){const e=setTimeout(()=>{n()},t);return()=>clearTimeout(e)}},[t,n]);const d={container:(0,m.A)({textAlign:"center",padding:"60px 32px",background:c?"linear-gradient(145deg, ".concat(w(l.black,.6),", ").concat(w(l.success,.1),")"):"linear-gradient(145deg, ".concat(w(l.white,.95),", ").concat(w(l.success,.05),")"),backdropFilter:"blur(20px)",borderRadius:"24px",border:"1px solid ".concat(w(l.success,.2)),boxShadow:"0 8px 32px ".concat(w(l.success,.15)),animation:"thankYouSlideIn 0.8s ease-out"},r),icon:{fontSize:"3rem",marginBottom:"20px",animation:"bounce 1s ease-in-out infinite alternate"},title:{fontSize:"2rem",fontWeight:700,marginBottom:"12px",background:"linear-gradient(135deg, ".concat(l.success,", ").concat(l.primary,")"),backgroundClip:"text",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"},message:{fontSize:"1rem",color:o.colors.textSecondary,lineHeight:1.6,marginBottom:"24px",maxWidth:"500px",margin:"0 auto 24px"},button:{padding:"12px 24px",background:"linear-gradient(135deg, ".concat(l.success,", #059669)"),color:l.white,border:"none",borderRadius:"20px",fontSize:"0.875rem",fontWeight:600,cursor:"pointer",transition:"all 0.3s ease",fontFamily:"inherit",minWidth:"180px",boxShadow:"0 4px 12px ".concat(w(l.success,.3)),animation:"successPulse 2s ease-in-out infinite"}};return(0,s.jsxs)("div",{className:a,style:d.container,children:[(0,s.jsx)("div",{style:d.icon,children:"\ud83c\udf89"}),(0,s.jsx)("h2",{style:d.title,children:"Thank You!"}),(0,s.jsx)("p",{style:d.message,children:"We've received your collaboration request and our team will review it shortly. Expect to hear from us within 24-48 hours."}),n&&(0,s.jsx)("button",{style:d.button,onClick:n,children:"Continue Exploring \u2728"}),(0,s.jsx)("style",{jsx:!0,children:"\n        @keyframes bounce {\n          0%, 100% { transform: translateY(0px); }\n          50% { transform: translateY(-8px); }\n        }\n\n        @keyframes thankYouSlideIn {\n          from {\n            opacity: 0;\n            transform: translateY(30px) scale(0.95);\n          }\n          to {\n            opacity: 1;\n            transform: translateY(0) scale(1);\n          }\n        }\n\n        @keyframes successPulse {\n          0%, 100% { \n            box-shadow: 0 4px 12px ".concat(w(l.success,.3),";\n          }\n          50% { \n            box-shadow: 0 6px 16px ").concat(w(l.success,.4),";\n          }\n        }\n\n        button:hover {\n          transform: translateY(-1px);\n          box-shadow: 0 6px 16px ").concat(w(l.success,.4)," !important;\n        }\n\n        button:focus {\n          outline: 2px solid ").concat(l.success,";\n          outline-offset: 2px;\n        }\n\n        button:active {\n          transform: translateY(0) scale(0.98);\n        }\n\n        @media (max-width: 768px) {\n          .container {\n            padding: 40px 24px !important;\n          }\n          \n          .title {\n            font-size: 1.75rem !important;\n          }\n          \n          .message {\n            font-size: 0.9375rem !important;\n          }\n          \n          .button {\n            width: 100% !important;\n          }\n        }\n\n        @media (max-width: 480px) {\n          .container {\n            padding: 32px 20px !important;\n            border-radius: 20px !important;\n          }\n          \n          .title {\n            font-size: 1.5rem !important;\n          }\n          \n          .message {\n            font-size: 0.875rem !important;\n          }\n          \n          .icon {\n            font-size: 2.5rem !important;\n          }\n        }\n      ")})]})},Ia=e=>{let{title:n="Our Volunteers & Collaborators",maxItems:t=null,showFeaturedFirst:a=!0,showCTA:r=!0,className:o=""}=e;const[l,c]=(0,i.useState)([]),[d,p]=(0,i.useState)(!0),[x,u]=(0,i.useState)(""),[g,h]=(0,i.useState)({}),[f,b]=(0,i.useState)(0),[j,v]=(0,i.useState)(!0),{colors:w}=y();(0,i.useEffect)(()=>{A()},[]),(0,i.useEffect)(()=>{if(!j||l.length<=1)return;const e=setInterval(()=>{b(e=>(e+1)%l.length)},5e3);return()=>clearInterval(e)},[j,l.length]);const A=async()=>{try{p(!0);let e=(await cn.A.get("".concat(Ge,"/generaltestimonials/public"))).data.filter(e=>"volunteers"===e.type||"collaborators"===e.type);a&&(e=e.sort((e,n)=>e.featured&&!n.featured?-1:!e.featured&&n.featured?1:0)),t&&t>0&&(e=e.slice(0,t)),c(e),u("")}catch(e){console.error("Error fetching testimonials:",e),u("Failed to load testimonials"),c([])}finally{p(!1)}};if(d)return(0,s.jsxs)("div",{className:"testimonials-container ".concat(o),style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:w.background},children:[(0,s.jsx)("div",{style:{width:"40px",height:"40px",border:"3px solid ".concat(w.primary,"20"),borderTop:"3px solid ".concat(w.primary),borderRadius:"50%",animation:"spin 1s linear infinite"}}),(0,s.jsx)("style",{jsx:!0,children:"\n          @keyframes spin {\n            0% { transform: rotate(0deg); }\n            100% { transform: rotate(360deg); }\n          }\n        "})]});if(x||0===l.length)return(0,s.jsxs)("div",{className:"testimonials-container ".concat(o),style:{minHeight:"100vh",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",backgroundColor:w.background,padding:"2rem",textAlign:"center"},children:[(0,s.jsx)("h3",{style:{color:w.text,marginBottom:"1rem",fontSize:"1.5rem",fontWeight:"600"},children:x?"Unable to load testimonials":"No testimonials available"}),(0,s.jsx)("p",{style:{color:w.textSecondary,fontSize:"1rem",maxWidth:"500px"},children:x||"Check back soon for inspiring stories from our volunteers and collaborators."})]});const k=l[f],S=g[null===k||void 0===k?void 0:k.id];return(0,s.jsxs)("div",{className:"testimonials-container ".concat(o),style:{backgroundColor:w.background,width:"100%",minHeight:"100vh",position:"relative",overflow:"hidden"},onMouseEnter:()=>v(!1),onMouseLeave:()=>v(!0),children:[(0,s.jsxs)("div",{style:{height:"100vh",display:"grid",gridTemplateColumns:"45% 55%","@media (max-width: 768px)":{gridTemplateColumns:"1fr"}},children:[(0,s.jsx)("div",{style:{position:"relative",backgroundColor:"".concat(w.primary,"08"),display:"flex",alignItems:"center",justifyContent:"center",overflow:"hidden"},children:k.image?(0,s.jsx)("img",{src:"".concat(Ve,"/uploads/testimonials/").concat(k.image),alt:"".concat(k.first_name," ").concat(k.last_name),style:{width:"100%",height:"100%",objectFit:"cover",objectPosition:"center",transition:"opacity 0.5s ease",opacity:S?1:0},onLoad:()=>{return e=k.id,void h(n=>(0,m.A)((0,m.A)({},n),{},{[e]:!0}));var e}}):(0,s.jsxs)("div",{style:{textAlign:"center",color:w.primary,display:"flex",flexDirection:"column",alignItems:"center",padding:"2rem"},children:[(0,s.jsx)(gt.A,{size:60}),(0,s.jsx)("h4",{style:{margin:"1rem 0 0 0",fontSize:"1.25rem",fontWeight:"600",color:w.text},children:k.first_name})]})}),(0,s.jsxs)("div",{style:{padding:"2rem 3rem",display:"flex",flexDirection:"column",justifyContent:"center",backgroundColor:w.surface,position:"relative"},children:[(0,s.jsxs)("blockquote",{style:{fontSize:"1.25rem",lineHeight:"1.5",color:w.text,fontWeight:"400",margin:"0 0 1.5rem 0",fontStyle:"italic"},children:['"',k.testimonial,'"']}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("h4",{style:{fontSize:"1.125rem",fontWeight:"600",color:w.text,margin:"0 0 0.5rem 0"},children:[k.first_name," ",k.last_name]}),(0,s.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px",color:w.primary,fontSize:"0.9rem",fontWeight:"500"},children:[(e=>{switch(null===e||void 0===e?void 0:e.toLowerCase()){case"volunteers":return(0,s.jsx)(Ae.A,{size:16});case"collaborators":return(0,s.jsx)(zn.A,{size:16});default:return(0,s.jsx)(gt.A,{size:16})}})(k.type),(e=>{switch(null===e||void 0===e?void 0:e.toLowerCase()){case"volunteers":return"Volunteer";case"collaborators":return"Collaborator";default:return"Member"}})(k.type)]})]})]})]}),l.length>1&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("button",{onClick:()=>{b(e=>(e-1+l.length)%l.length)},style:{position:"absolute",left:"2rem",top:"50%",transform:"translateY(-50%)",zIndex:20,backgroundColor:"".concat(w.surface,"95"),border:"1px solid ".concat(w.borderLight),borderRadius:"50%",width:"45px",height:"45px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",color:w.text},children:(0,s.jsx)(ma.A,{size:20})}),(0,s.jsx)("button",{onClick:()=>{b(e=>(e+1)%l.length)},style:{position:"absolute",right:"2rem",top:"50%",transform:"translateY(-50%)",zIndex:20,backgroundColor:"".concat(w.surface,"95"),border:"1px solid ".concat(w.borderLight),borderRadius:"50%",width:"45px",height:"45px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",color:w.text},children:(0,s.jsx)(xa.A,{size:20})})]}),l.length>1&&(0,s.jsx)("div",{style:{position:"absolute",bottom:"2rem",left:"50%",transform:"translateX(-50%)",display:"flex",gap:"10px",zIndex:20},children:l.map((e,n)=>(0,s.jsx)("button",{onClick:()=>(e=>{b(e)})(n),style:{width:"10px",height:"10px",borderRadius:"50%",border:"none",backgroundColor:n===f?w.primary:"".concat(w.textMuted,"40"),cursor:"pointer",transition:"all 0.3s ease"}},n))})]})},Ea=()=>{const{theme:e,colors:n,isDarkMode:t}=y(),r=Ge,[o,l]=(0,i.useState)(null),[c,d]=(0,i.useState)(""),[p,x]=(0,i.useState)([]),[u,g]=(0,i.useState)(null),[h,f]=(0,i.useState)(!1),[b,j]=(0,i.useState)(""),[v,A]=(0,i.useState)(!1),[k,S]=(0,i.useState)(!1),C=(0,a.Zp)(),[z,N]=(0,i.useState)({x:0,y:0}),[_,I]=(0,i.useState)(0),[E,T]=(0,i.useState)(new Set),W=(0,i.useRef)(null);(0,i.useEffect)(()=>{const e=e=>{N({x:e.clientX,y:e.clientY})},n=()=>{I(window.scrollY)},t=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting&&T(n=>new Set([...n,e.target.dataset.animateId]))})},{threshold:.1,rootMargin:"0px 0px -50px 0px"});return document.querySelectorAll("[data-animate-id]").forEach(e=>t.observe(e)),window.addEventListener("mousemove",e),window.addEventListener("scroll",n,{passive:!0}),()=>{window.removeEventListener("mousemove",e),window.removeEventListener("scroll",n),t.disconnect()}},[]);const F=e=>{console.log("Email sent with comprehensive data:",e)},P=e=>{l(e),S(!1),"volunteer"===e&&(async()=>{try{const e=await fetch("".concat(r,"/countries"),{method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"});if(!e.ok)throw new Error("Failed to fetch countries");const n=await e.json();if(!Array.isArray(n))throw new Error("Invalid response format");const t=[...n].sort((e,n)=>e.name.localeCompare(n.name));x(t)}catch(e){console.error("Error fetching countries:",e),j("Failed to load countries");const n=["Afghanistan","Albania","Algeria","Argentina","Australia","Austria","Bangladesh","Belgium","Brazil","Canada","China","Denmark","Egypt","France","Germany","Ghana","India","Indonesia","Italy","Japan","Kenya","Malaysia","Mexico","Netherlands","Nigeria","Norway","Pakistan","Philippines","Poland","Russia","Saudi Arabia","Singapore","South Africa","South Korea","Spain","Sweden","Switzerland","Thailand","Turkey","Uganda","Ukraine","United Kingdom","United States","Vietnam"].map((e,n)=>({id:n+1,name:e}));x(n)}})()},R=()=>{l(null),S(!1),d(""),g(null),j("")},B=[{id:"collaborate",title:"Collaborate",subtitle:"Strategic partnerships & projects",icon:"\ud83e\udd1d",gradient:"linear-gradient(135deg, ".concat(n.primary,", ").concat(n.secondary,")"),description:"Work with us on transformative projects that bridge law and technology"},{id:"volunteer",title:"Volunteer",subtitle:"Direct community impact",icon:"\ud83c\udf1f",gradient:"linear-gradient(135deg, ".concat(n.secondary,", ").concat(n.success,")"),description:"Contribute your time and skills to meaningful community programs"},{id:"partner",title:"Partner",subtitle:"Long-term organizational partnerships",icon:"\ud83c\udfe2",gradient:"linear-gradient(135deg, ".concat(n.success,", ").concat(n.primary,")"),description:"Establish sustainable partnerships for lasting social impact"},{id:"donate",title:"Support",subtitle:"Financial contributions",icon:"\ud83d\udc9d",gradient:"linear-gradient(135deg, ".concat(n.warning,", ").concat(n.primary,")"),description:"Fuel our mission with financial support for key initiatives"}],D={pageContainer:{minHeight:"100vh",background:t?"radial-gradient(ellipse at top, ".concat(w(n.primaryDark,.3),", ").concat(n.black,")"):"radial-gradient(ellipse at top, ".concat(w(n.primary,.1),", ").concat(n.white,")"),fontFamily:'"Nunito Sans", -apple-system, BlinkMacSystemFont, sans-serif',color:e.colors.text,position:"relative",fontSize:"14px",lineHeight:1.5},backgroundEffect:{position:"fixed",top:0,left:0,right:0,bottom:0,background:t?"radial-gradient(600px circle at ".concat(z.x,"px ").concat(z.y,"px, ").concat(w(n.primary,.1),", transparent 40%)"):"radial-gradient(800px circle at ".concat(z.x,"px ").concat(z.y,"px, ").concat(w(n.secondary,.08),", transparent 40%)"),pointerEvents:"none",zIndex:0,transition:"all 0.3s ease"},heroSection:{position:"relative",minHeight:"60vh",display:"flex",alignItems:"center",justifyContent:"center",background:t?"linear-gradient(135deg, ".concat(n.primary," 0%, ").concat(n.secondaryDark," 50%, ").concat(n.secondary," 100%)"):"linear-gradient(135deg, ".concat(n.primary," 0%, ").concat(n.secondary," 50%, ").concat(n.primary," 100%)"),color:n.white,zIndex:1},heroContent:{maxWidth:"700px",textAlign:"center",padding:"0 20px"},heroTitle:{fontSize:"3rem",fontWeight:800,marginBottom:"20px",lineHeight:1.1,letterSpacing:"-0.02em"},heroSubtitle:{fontSize:"1.125rem",opacity:.95,lineHeight:1.6,fontWeight:300,marginBottom:"40px"},mainContainer:{maxWidth:"1200px",margin:"0 auto",padding:"60px 20px",position:"relative",zIndex:1,paddingTop:"80px"},navigationSection:{textAlign:"center",marginBottom:"60px"},sectionTitle:{fontSize:"2rem",fontWeight:700,marginBottom:"12px",background:"linear-gradient(135deg, ".concat(n.primary,", ").concat(n.secondary,")"),backgroundClip:"text",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"},sectionSubtitle:{fontSize:"1rem",color:e.colors.textSecondary,marginBottom:"48px",fontWeight:400},buttonGrid:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(240px, 1fr))",gap:"20px",marginBottom:"40px"},animateSlideUp:{transform:"translateY(50px)",opacity:0,transition:"all 0.8s cubic-bezier(0.4, 0, 0.2, 1)"},animateSlideUpVisible:{transform:"translateY(0)",opacity:1},animateSlideLeft:{transform:"translateX(-50px)",opacity:0,transition:"all 0.8s cubic-bezier(0.4, 0, 0.2, 1)"},animateSlideLeftVisible:{transform:"translateX(0)",opacity:1},animateSlideRight:{transform:"translateX(50px)",opacity:0,transition:"all 0.8s cubic-bezier(0.4, 0, 0.2, 1)"},animateSlideRightVisible:{transform:"translateX(0)",opacity:1},animateFadeIn:{opacity:0,transition:"all 0.8s ease-in-out"},animateFadeInVisible:{opacity:1},actionButton:{background:t?w(n.primaryDark,.1):n.white,borderRadius:"20px",padding:"24px",border:"1px solid ".concat(w(n.primary,.2)),cursor:"pointer",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",textAlign:"left",position:"relative",overflow:"hidden",boxShadow:"0 4px 20px ".concat(w(n.primary,.08)),backdropFilter:"blur(10px)"},buttonIcon:{fontSize:"2rem",marginBottom:"12px",display:"block"},buttonTitle:{fontSize:"1.125rem",fontWeight:700,marginBottom:"6px",color:e.colors.text},buttonSubtitle:{fontSize:"0.875rem",color:n.primary,marginBottom:"8px",fontWeight:600},buttonDescription:{fontSize:"0.875rem",color:e.colors.textSecondary,lineHeight:1.4,fontWeight:400},backButton:{display:"flex",alignItems:"center",gap:"8px",padding:"12px 20px",background:"transparent",border:"1px solid ".concat(w(n.primary,.3)),borderRadius:"24px",color:n.primary,cursor:"pointer",fontSize:"0.875rem",fontWeight:600,marginBottom:"24px",transition:"all 0.3s ease",fontFamily:"inherit",backdropFilter:"blur(10px)"},volunteerSection:{padding:"40px",textAlign:"center",background:t?"linear-gradient(145deg, ".concat(w(n.black,.6),", ").concat(w(n.primaryDark,.2),")"):"linear-gradient(145deg, ".concat(w(n.white,.95),", ").concat(w(n.primary,.05),")"),backdropFilter:"blur(20px)",borderRadius:"24px",boxShadow:"0 8px 40px ".concat(w(n.primary,.15)),border:"1px solid ".concat(w(n.primary,.2))},volunteerTitle:{fontSize:"1.25rem",marginBottom:"24px",color:n.primary,fontWeight:700},volunteerDescription:{fontSize:"0.875rem",color:e.colors.textSecondary,marginBottom:"24px",lineHeight:1.6},countrySelector:{maxWidth:"400px",margin:"0 auto 24px",display:"block"},select:{width:"100%",padding:"14px 16px",background:t?w(n.black,.3):w(n.gray50,.8),border:"1px solid ".concat(w(n.primary,.2)),borderRadius:"12px",fontSize:"0.875rem",fontFamily:"inherit",color:e.colors.text,cursor:"pointer",transition:"all 0.3s ease",outline:"none",appearance:"none",backgroundImage:"url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='".concat(n.primary.replace("#","%23"),"' viewBox='0 0 16 16'%3e%3cpath d='m7.247 4.86-4.796 5.481c-.566.647-.106 1.659.753 1.659h9.592a1 1 0 0 0 .753-1.659l-4.796-5.48a1 1 0 0 0-1.506 0z'/%3e%3c/svg%3e\")"),backgroundRepeat:"no-repeat",backgroundPosition:"right 12px center",backgroundSize:"12px"},loadingState:{textAlign:"center",padding:"40px",color:n.primary,fontSize:"0.875rem",fontWeight:500},loadingSpinner:{width:"32px",height:"32px",border:"3px solid ".concat(w(n.primary,.2)),borderTopColor:n.primary,borderRadius:"50%",animation:"spin 1s linear infinite",margin:"0 auto 16px"},errorState:{textAlign:"center",padding:"32px",background:"".concat(n.error,"10"),borderRadius:"16px",border:"1px solid ".concat(n.error,"20"),margin:"24px 0"},primaryButton:{backgroundColor:n.primary,color:n.white,padding:"16px 32px",borderRadius:"12px",border:"none",fontWeight:"600",fontSize:"16px",cursor:"pointer",display:"inline-flex",alignItems:"center",gap:"8px",transition:"all 0.3s ease",boxShadow:"0 4px 16px rgba(10, 69, 28, 0.3)",fontFamily:'"Nunito Sans", sans-serif'},careerEventSection:{width:"100%",display:"flex",margin:"4rem 0",flexDirection:window.innerWidth<=768?"column":"row"},careerBlock:{flex:1,background:t?"linear-gradient(135deg, ".concat(w(n.primary,.15),", ").concat(w(n.primaryDark,.25),")"):"linear-gradient(135deg, #ebf4ff, #dbeafe)",padding:"4rem 2rem",textAlign:"center",minHeight:"400px",display:"flex",flexDirection:"column",justifyContent:"center",backdropFilter:"blur(10px)",border:t?"1px solid ".concat(w(n.primary,.2)):"none"},eventsBlock:{flex:1,background:t?"linear-gradient(135deg, ".concat(w(n.secondary,.15),", ").concat(w(n.success,.2),")"):"linear-gradient(135deg, #ecfdf5, #d1fae5)",padding:"4rem 2rem",textAlign:"center",minHeight:"400px",display:"flex",flexDirection:"column",justifyContent:"center",backdropFilter:"blur(10px)",border:t?"1px solid ".concat(w(n.secondary,.2)):"none"}};return(0,s.jsxs)("div",{style:D.pageContainer,children:[(0,s.jsx)("div",{style:D.backgroundEffect}),(0,s.jsx)(Le,{}),(0,s.jsx)(wn,{onStartClick:()=>{W.current&&W.current.scrollIntoView({behavior:"smooth",block:"start"})}}),(0,s.jsx)("div",{style:D.mainContainer,ref:W,children:k?(0,s.jsx)(_a,{onClose:R}):o?(0,s.jsxs)(s.Fragment,{children:[("collaborate"===o||"partner"===o)&&(0,s.jsx)(Na,{flowType:o,onSubmit:e=>{console.log("Collaboration data received:",e),F(e),S(!0)},onExit:R}),"volunteer"===o&&(0,s.jsxs)("div",{style:D.volunteerSection,children:[(0,s.jsx)("button",{style:D.backButton,onClick:R,onMouseEnter:e=>{e.target.style.background=w(n.primary,.1),e.target.style.borderColor=n.primary},onMouseLeave:e=>{e.target.style.background="transparent",e.target.style.borderColor=w(n.primary,.3)},children:"\u2190 Back to Options"}),(0,s.jsx)("h3",{style:D.volunteerTitle,children:"\ud83c\udf0d Volunteer Opportunities"}),(0,s.jsx)("p",{style:D.volunteerDescription,children:"Select a country you'd like to volunteer in."}),(0,s.jsx)("div",{style:D.countrySelector,children:(0,s.jsxs)("select",{value:c,onChange:e=>{const n=e.target.value;d(n),n?(async e=>{f(!0),j("");try{const n=await fetch("".concat(r,"/volunteer-forms/country/").concat(encodeURIComponent(e)),{method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"});if(n.ok){const t=await n.json();t.data&&t.data.is_active?g(t.data):(j("Thank you for your interest in ".concat(e,".")),g(null))}else{if(404!==n.status){const e=await n.json().catch(()=>({}));throw new Error(e.message||"Failed to fetch volunteer form")}j("Thank you for your interest in ACEF ".concat(e,".")),g(null)}}catch(n){console.error("Error fetching volunteer form:",n),j("Error loading volunteer form for ".concat(e,". Please try again later.")),g(null)}finally{f(!1)}})(n):(g(null),j(""))},style:D.select,children:[(0,s.jsx)("option",{value:"",children:"Choose country of interest..."}),p.map(e=>(0,s.jsx)("option",{value:e.name,children:e.name},e.id||e.name))]})}),h&&(0,s.jsxs)("div",{style:D.loadingState,children:[(0,s.jsx)("div",{style:D.loadingSpinner}),(0,s.jsxs)("p",{children:["Loading volunteer opportunities for ",c,"..."]})]}),b&&!h&&(0,s.jsxs)("div",{style:D.errorState,children:[(0,s.jsx)("h4",{style:{color:n.primary,marginBottom:"12px",fontSize:"1rem"},children:"Sorry, we are not accepting applications here at this time. Please check back later or try another ACEF region."}),(0,s.jsx)("p",{style:{marginBottom:"16px",fontSize:"0.875rem"},children:b})]}),u&&!h&&!b&&(()=>{if(!u)return null;const a=(e=>{if(!e)return"";try{if(e.includes("docs.google.com/forms")){if(e.includes("/viewform"))return e.includes("embedded=true")?e:"".concat(e,"&embedded=true");if(e.includes("/d/")){const n=e.match(/\/d\/([a-zA-Z0-9-_]+)/);if(n)return"https://docs.google.com/forms/d/e/".concat(n[1],"/viewform?embedded=true")}}if(e.includes("typeform.com"))return e;if(e.includes("jotform.com"))return e.includes("?")?"".concat(e,"&embed=1"):"".concat(e,"?embed=1");const n=e.includes("?")?"&":"?";return"".concat(e).concat(n,"embedded=true")}catch(n){return console.error("Error processing form URL:",n),e}})(u.form_url);return(0,s.jsxs)("div",{style:{marginTop:"32px",background:t?"linear-gradient(145deg, ".concat(w(n.black,.4),", ").concat(w(n.primaryDark,.1),")"):"linear-gradient(145deg, ".concat(w(n.white,.9),", ").concat(w(n.primary,.05),")"),backdropFilter:"blur(20px)",borderRadius:"24px",padding:"40px",border:"1px solid ".concat(w(n.primary,.2)),boxShadow:"0 8px 32px ".concat(w(n.black,.1))},children:[(0,s.jsxs)("div",{style:{marginBottom:"32px",textAlign:"center"},children:[(0,s.jsx)("h3",{style:{color:n.primary,fontSize:"1.25rem",fontWeight:700,marginBottom:"12px",background:"linear-gradient(135deg, ".concat(n.primary,", ").concat(n.secondary,")"),backgroundClip:"text",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"},children:u.form_title}),u.description&&(0,s.jsx)("p",{style:{color:e.colors.textSecondary,fontSize:"0.95rem",lineHeight:1.6,maxWidth:"600px",margin:"0 auto"},children:u.description})]}),(0,s.jsxs)("div",{style:{position:"relative",minHeight:"600px",borderRadius:"16px",overflow:"hidden",boxShadow:"inset 0 2px 8px ".concat(w(n.black,.05))},children:[(0,s.jsx)("iframe",{src:a,width:"100%",height:"600",frameBorder:"0",title:u.form_title,sandbox:"allow-scripts allow-forms allow-same-origin allow-popups allow-top-navigation",loading:"lazy",style:{border:"none",borderRadius:"16px",backgroundColor:e.colors.surface}}),(0,s.jsx)("div",{style:{textAlign:"center",marginTop:"24px"},children:(0,s.jsxs)("p",{style:{color:e.colors.textSecondary,fontSize:"0.875rem"},children:["Having trouble with the form?"," ",(0,s.jsx)("a",{href:u.form_url,target:"_blank",rel:"noopener noreferrer",style:{color:n.primary,textDecoration:"none",fontWeight:600,borderBottom:"1px solid ".concat(w(n.primary,.3)),transition:"all 0.3s ease"},children:"Open in new tab \u2192"})]})})]})]})})()]}),"donate"===o&&(0,s.jsxs)("div",{style:D.volunteerSection,children:[(0,s.jsx)("button",{style:D.backButton,onClick:R,onMouseEnter:e=>{e.target.style.background=w(n.primary,.1),e.target.style.borderColor=n.primary},onMouseLeave:e=>{e.target.style.background="transparent",e.target.style.borderColor=w(n.primary,.3)},children:"\u2190 Back to Options"}),(0,s.jsx)("h3",{style:D.volunteerTitle,children:"\ud83d\udc9d Support Our Mission"}),(0,s.jsx)("p",{style:D.volunteerDescription,children:"Your financial support enables us to expand our reach, develop innovative solutions, and create lasting positive change across Africa."}),(0,s.jsx)("button",{style:D.primaryButton,onClick:()=>A(!0),children:"\ud83d\udc9d Make a Donation"})]})]}):(0,s.jsxs)("div",{style:D.navigationSection,children:[(0,s.jsxs)("div",{style:(0,m.A)((0,m.A)({},D.animateSlideUp),E.has("section-title")?D.animateSlideUpVisible:{}),"data-animate-id":"section-title",children:[(0,s.jsx)("h2",{style:D.sectionTitle,children:"Choose Your Path"}),(0,s.jsx)("p",{style:D.sectionSubtitle,children:"Select how you'd like to contribute to our mission"})]}),(0,s.jsx)("div",{style:(0,m.A)((0,m.A)((0,m.A)({},D.buttonGrid),D.animateFadeIn),E.has("action-cards")?D.animateFadeInVisible:{}),"data-animate-id":"action-cards",children:B.map((e,t)=>(0,s.jsxs)("div",{style:(0,m.A)((0,m.A)((0,m.A)({},D.actionButton),D.animateSlideUp),{},{transitionDelay:"".concat(.1*t,"s")},E.has("action-cards")?D.animateSlideUpVisible:{}),onClick:()=>P(e.id),onMouseEnter:e=>{e.target.style.transform="translateY(-4px)",e.target.style.boxShadow="0 8px 32px ".concat(w(n.primary,.2)),e.target.style.borderColor=n.primary},onMouseLeave:e=>{e.target.style.transform="translateY(0)",e.target.style.boxShadow="0 4px 20px ".concat(w(n.primary,.08)),e.target.style.borderColor=w(n.primary,.2)},children:[(0,s.jsx)("span",{style:D.buttonIcon,children:e.icon}),(0,s.jsx)("h3",{style:D.buttonTitle,children:e.title}),(0,s.jsx)("p",{style:D.buttonSubtitle,children:e.subtitle}),(0,s.jsx)("p",{style:D.buttonDescription,children:e.description})]},e.id))}),(0,s.jsxs)("div",{style:D.careerEventSection,children:[(0,s.jsxs)("div",{style:D.careerBlock,children:[(0,s.jsx)("div",{style:{fontSize:"3rem",marginBottom:"1.5rem"},children:"\ud83d\udcbc"}),(0,s.jsx)("h3",{style:{fontSize:"1.5rem",fontWeight:700,marginBottom:"1rem",color:n.primary},children:"Explore Careers"}),(0,s.jsx)("p",{style:{fontSize:"1rem",lineHeight:1.6,marginBottom:"2rem",color:e.colors.textSecondary},children:"Be part of a dynamic team driving legal innovation across Africa. Explore career opportunities that combine purpose with professional growth."}),(0,s.jsx)("button",{style:(0,m.A)((0,m.A)({},D.primaryButton),{},{background:"linear-gradient(135deg, ".concat(n.primary,", ").concat(n.secondary,")")}),onMouseEnter:e=>{e.target.style.transform="translateY(-2px)",e.target.style.boxShadow="0 6px 20px ".concat(w(n.primary,.4))},onMouseLeave:e=>{e.target.style.transform="translateY(0)",e.target.style.boxShadow="0 4px 12px ".concat(w(n.primary,.3))},onClick:()=>C("/jobs"),children:"View Open Positions"})]}),(0,s.jsxs)("div",{style:D.eventsBlock,children:[(0,s.jsx)("div",{style:{fontSize:"3rem",marginBottom:"1.5rem"},children:"\ud83d\udcc5"}),(0,s.jsx)("h3",{style:{fontSize:"1.5rem",fontWeight:700,marginBottom:"1rem",color:n.secondary},children:"Upcoming Events"}),(0,s.jsx)("p",{style:{fontSize:"1rem",lineHeight:1.6,marginBottom:"2rem",color:e.colors.textSecondary},children:"Join our workshops, conferences, and community events. Connect with legal professionals and innovators across the continent."}),(0,s.jsx)("button",{style:(0,m.A)((0,m.A)({},D.primaryButton),{},{background:"linear-gradient(135deg, ".concat(n.secondary,", ").concat(n.success,")")}),onMouseEnter:e=>{e.target.style.transform="translateY(-2px)",e.target.style.boxShadow="0 6px 20px ".concat(w(n.secondary,.4))},onMouseLeave:e=>{e.target.style.transform="translateY(0)",e.target.style.boxShadow="0 4px 12px ".concat(w(n.secondary,.3))},onClick:()=>C("/events"),children:"Explore Events"})]})]})]})}),(0,s.jsx)(Re,{open:v,onClose:()=>A(!1)}),(0,s.jsx)(Ia,{}),(0,s.jsx)(en,{}),(0,s.jsx)(Qe,{}),(0,s.jsx)("style",{jsx:!0,children:"\n        @import url('https://fonts.googleapis.com/css2?family=Nunito+Sans:wght@200;300;400;500;600;700;800;900&display=swap');\n\n        @keyframes spin {\n          to { transform: rotate(360deg); }\n        }\n\n        .action-button:hover {\n          transform: translateY(-4px) !important;\n          box-shadow: 0 8px 32px ".concat(w(n.primary,.2)," !important;\n          border-color: ").concat(n.primary," !important;\n        }\n\n        .primary-button:hover {\n          transform: translateY(-1px);\n          box-shadow: 0 6px 16px ").concat(w(n.primary,.4)," !important;\n        }\n\n        select:focus {\n          border-color: ").concat(n.primary," !important;\n          box-shadow: 0 0 0 2px ").concat(w(n.primary,.2)," !important;\n        }\n\n        @media (max-width: 768px) {\n          .hero-title {\n            font-size: 2.25rem !important;\n          }\n          \n          .hero-subtitle {\n            font-size: 1rem !important;\n          }\n          \n          .section-title {\n            font-size: 1.75rem !important;\n          }\n          \n          .button-grid {\n            grid-template-columns: 1fr !important;\n            gap: 16px !important;\n          }\n          \n          .action-button {\n            padding: 20px !important;\n          }\n          \n          .volunteer-section {\n            padding: 24px !important;\n          }\n        }\n\n        @media (max-width: 480px) {\n          .main-container {\n            padding: 40px 16px !important;\n          }\n          \n          .hero-title {\n            font-size: 1.875rem !important;\n          }\n          \n          .hero-subtitle {\n            font-size: 0.9375rem !important;\n          }\n          \n          .volunteer-section {\n            padding: 20px 16px !important;\n            border-radius: 16px !important;\n          }\n        }\n      ")})]})};var Ta=t(9211),Wa=t(5156),Fa=t(8844),Pa=t(3974),Ra=t(6941),Ba=t(3602),Da=t(9685),La=t(7135),Ma=t(740),Ha=t(3421),qa=t(9841),Oa=t(8128),Ua=t(73),Ya=t(4537),Ga=t(3165);const Va={people:Cn.A,location_city:ye.A,check_circle:ze.A,handshake:zn.A,attach_money:Ce.A,volunteer_activism:Ae.A,assessment:Nn.A,trending_up:_n.A},Ja=()=>{const[e,n]=(0,i.useState)([]),[t,a]=(0,i.useState)(!0),[r,o]=(0,i.useState)(null),[l,c]=(0,i.useState)(null),d=async()=>{try{a(!0),o(null);const e="http://localhost:5000/api",t=await fetch("".concat(e,"/impacts?is_active=true"),{method:"GET",credentials:"include",headers:{"Content-Type":"application/json"}});if(!t.ok)throw new Error("HTTP error! status: ".concat(t.status));const r=await t.json();if(!r.success||!Array.isArray(r.data))throw new Error("Invalid response format");{const e=r.data.filter(e=>e.is_active).sort((e,n)=>e.is_featured&&!n.is_featured?-1:!e.is_featured&&n.is_featured?1:(e.order_index||0)-(n.order_index||0));n(e)}}catch(e){o("Failed to load impact data"),console.error("Error fetching impacts:",e),n([])}finally{a(!1)}};(0,i.useEffect)(()=>{d()},[]);return t?(0,s.jsx)("section",{style:{minHeight:"50vh",background:"linear-gradient(135deg, rgba(16, 185, 129, 0.03) 0%, rgba(59, 130, 246, 0.05) 100%)",display:"flex",alignItems:"center",justifyContent:"center",fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif'},children:(0,s.jsxs)("div",{style:{textAlign:"center",background:"rgba(255, 255, 255, 0.9)",backdropFilter:"blur(20px)",borderRadius:"16px",padding:"32px",border:"1px solid rgba(255, 255, 255, 0.3)",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.1)"},children:[(0,s.jsx)("div",{style:{width:"40px",height:"40px",background:"linear-gradient(135deg, #10b981, #3b82f6)",borderRadius:"50%",animation:"spin 2s linear infinite",marginBottom:"16px",margin:"0 auto 16px"}}),(0,s.jsx)("p",{style:{color:"#6b7280",fontSize:"14px",fontWeight:"500",margin:0},children:"Loading impact data..."})]})}):r?(0,s.jsx)("section",{style:{minHeight:"40vh",display:"flex",alignItems:"center",justifyContent:"center",padding:"24px",fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif'},children:(0,s.jsxs)("div",{style:{background:"rgba(255, 255, 255, 0.95)",backdropFilter:"blur(20px)",borderRadius:"16px",padding:"32px",textAlign:"center",border:"1px solid rgba(239, 68, 68, 0.2)",maxWidth:"400px",boxShadow:"0 8px 32px rgba(239, 68, 68, 0.1)"},children:[(0,s.jsx)("div",{style:{width:"48px",height:"48px",borderRadius:"50%",background:"rgba(239, 68, 68, 0.1)",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 16px"},children:(0,s.jsx)(Ua.A,{size:24,color:"#ef4444"})}),(0,s.jsx)("h3",{style:{fontSize:"18px",fontWeight:"600",color:"#1f2937",margin:"0 0 8px 0"},children:"Unable to load data"}),(0,s.jsx)("p",{style:{fontSize:"14px",color:"#6b7280",margin:"0 0 20px 0"},children:r}),(0,s.jsx)("button",{onClick:d,style:{background:"#ef4444",color:"white",border:"none",padding:"10px 20px",borderRadius:"8px",fontSize:"14px",fontWeight:"500",cursor:"pointer",transition:"all 0.2s ease"},onMouseOver:e=>e.target.style.background="#dc2626",onMouseOut:e=>e.target.style.background="#ef4444",children:"Try again"})]})}):(0,s.jsx)("section",{style:{padding:"60px 20px",background:"linear-gradient(135deg, rgba(16, 185, 129, 0.02) 0%, rgba(59, 130, 246, 0.03) 100%)",position:"relative",fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif'},children:(0,s.jsxs)("div",{style:{maxWidth:"1200px",margin:"0 auto",position:"relative"},children:[(0,s.jsxs)("div",{style:{textAlign:"center",marginBottom:"48px"},children:[(0,s.jsxs)("div",{style:{display:"inline-flex",alignItems:"center",background:"rgba(255, 255, 255, 0.8)",backdropFilter:"blur(20px)",padding:"8px 16px",borderRadius:"20px",border:"1px solid rgba(16, 185, 129, 0.2)",gap:"8px",marginBottom:"16px"},children:[(0,s.jsx)("div",{style:{width:"6px",height:"6px",borderRadius:"50%",background:"#10b981",animation:"pulse 2s infinite"}}),(0,s.jsx)("span",{style:{fontSize:"12px",fontWeight:"500",color:"#10b981"},children:"Live metrics"})]}),(0,s.jsx)("h2",{style:{fontSize:"32px",fontWeight:"700",color:"#1f2937",margin:"0 0 12px 0",letterSpacing:"-0.5px"},children:"Impact dashboard"}),(0,s.jsx)("p",{style:{fontSize:"16px",color:"#6b7280",margin:0,maxWidth:"500px",marginLeft:"auto",marginRight:"auto"},children:"Real-time metrics from our active projects"})]}),(0,s.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(280px, 1fr))",gap:"20px",marginBottom:"32px"},children:e.map((e,n)=>{const t=Va[e.icon]||Nn.A,a=l===e.id;return(0,s.jsxs)("div",{style:{background:a?"rgba(255, 255, 255, 0.95)":"rgba(255, 255, 255, 0.8)",backdropFilter:"blur(20px)",borderRadius:"16px",padding:"24px",border:a?"2px solid ".concat(e.color||"#10b981"):"1px solid rgba(255, 255, 255, 0.3)",transition:"all 0.3s ease",transform:a?"translateY(-4px)":"translateY(0)",boxShadow:a?"0 8px 25px ".concat(e.color||"#10b981","20"):"0 4px 15px rgba(0, 0, 0, 0.05)",cursor:"pointer",position:"relative"},onMouseEnter:()=>c(e.id),onMouseLeave:()=>c(null),children:[e.is_featured&&(0,s.jsxs)("div",{style:{position:"absolute",top:"16px",right:"16px",background:"#fbbf24",borderRadius:"6px",padding:"4px 6px",display:"flex",alignItems:"center",gap:"4px"},children:[(0,s.jsx)(M.A,{size:10,color:"#ffffff"}),(0,s.jsx)("span",{style:{fontSize:"10px",fontWeight:"600",color:"white"},children:"Featured"})]}),(0,s.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"20px"},children:[(0,s.jsx)("div",{style:{width:"40px",height:"40px",borderRadius:"10px",background:"".concat(e.color||"#10b981","20"),display:"flex",alignItems:"center",justifyContent:"center"},children:(0,s.jsx)(t,{size:20,color:e.color||"#10b981"})}),(0,s.jsxs)("div",{style:{flex:1},children:[(0,s.jsx)("h3",{style:{margin:"0 0 4px 0",fontSize:"16px",fontWeight:"600",color:"#1f2937"},children:e.name}),(0,s.jsx)("p",{style:{margin:"0",fontSize:"12px",color:"#6b7280",fontWeight:"500"},children:e.unit||"Units"})]})]}),(0,s.jsxs)("div",{style:{textAlign:"center",marginBottom:"16px"},children:[(0,s.jsx)("div",{style:{fontSize:"28px",fontWeight:"700",color:e.color||"#10b981",marginBottom:"8px",lineHeight:"1"},children:(r=e.current_value,o=e.unit,"USD"===o?r>=1e6?"$".concat((r/1e6).toFixed(1),"M"):r>=1e3?"$".concat((r/1e3).toFixed(0),"K"):"$".concat(r.toLocaleString()):r>=1e6?(r/1e6).toFixed(1)+"M":r>=1e3?(r/1e3).toFixed(1)+"K":r.toLocaleString())}),(0,s.jsx)("div",{style:{height:"3px",background:"rgba(107, 114, 128, 0.1)",borderRadius:"2px",overflow:"hidden"},children:(0,s.jsx)("div",{style:{height:"100%",background:e.color||"#10b981",width:"100%",borderRadius:"2px"}})})]}),(0,s.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"6px",paddingTop:"12px",borderTop:"1px solid rgba(107, 114, 128, 0.1)"},children:[(0,s.jsx)(Ya.A,{size:12,color:"#6b7280"}),(0,s.jsx)("span",{style:{fontSize:"11px",color:"#6b7280",fontWeight:"500"},children:"Updated now"})]})]},e.id);var r,o})}),(0,s.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"24px"},children:[(0,s.jsxs)("div",{style:{background:"rgba(255, 255, 255, 0.95)",backdropFilter:"blur(40px)",borderRadius:"60px",padding:"20px 48px",border:"3px solid rgba(16, 185, 129, 0.2)",boxShadow:"0 12px 48px rgba(16, 185, 129, 0.2)",display:"flex",alignItems:"center",gap:"20px",position:"relative",overflow:"hidden"},children:[(0,s.jsx)("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,borderRadius:"60px",padding:"3px",background:"linear-gradient(45deg, #10b981, #3b82f6, #8b5cf6, #ef4444, #f59e0b, #10b981)",backgroundSize:"300% 300%",animation:"gradientRotate 6s ease-in-out infinite"},children:(0,s.jsx)("div",{style:{background:"rgba(255, 255, 255, 0.95)",borderRadius:"57px",width:"100%",height:"100%"}})}),(0,s.jsxs)("div",{style:{position:"relative",zIndex:1,display:"flex",alignItems:"center",gap:"20px"},children:[(0,s.jsx)("div",{style:{width:"48px",height:"48px",borderRadius:"50%",background:"linear-gradient(135deg, #10b981, #34d399)",display:"flex",alignItems:"center",justifyContent:"center",animation:"certificationPulse 3s ease-in-out infinite"},children:(0,s.jsx)(Ga.A,{size:24,color:"white"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{style:{fontSize:"24px",fontWeight:"900",background:"linear-gradient(135deg, #10b981, #1f2937)",backgroundClip:"text",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",marginBottom:"4px",letterSpacing:"0.5px",textTransform:"uppercase"},children:"100% Verified Impact"}),(0,s.jsx)("p",{style:{fontSize:"14px",color:"#6b7280",margin:0,fontWeight:"500"},children:"All metrics independently audited and blockchain-verified"})]}),(0,s.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px",background:"rgba(16, 185, 129, 0.1)",padding:"8px 16px",borderRadius:"20px",border:"1px solid rgba(16, 185, 129, 0.2)"},children:[(0,s.jsx)("div",{style:{width:"8px",height:"8px",borderRadius:"50%",background:"#10b981",animation:"pulse 2s infinite"}}),(0,s.jsx)("span",{style:{fontSize:"12px",fontWeight:"700",color:"#10b981",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Live Feed"})]})]})]}),(0,s.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:(0,s.jsxs)("div",{style:{background:"rgba(255, 255, 255, 0.9)",backdropFilter:"blur(20px)",borderRadius:"20px",padding:"12px 24px",border:"1px solid rgba(16, 185, 129, 0.2)",display:"flex",alignItems:"center",gap:"8px"},children:[(0,s.jsx)(ze.A,{size:16,color:"#10b981"}),(0,s.jsx)("span",{style:{fontSize:"14px",fontWeight:"500",color:"#374151"},children:"Verified data"})]})}),0===e.length&&!t&&(0,s.jsxs)("div",{style:{textAlign:"center",padding:"60px 20px",background:"rgba(255, 255, 255, 0.7)",backdropFilter:"blur(20px)",borderRadius:"16px",border:"1px solid rgba(255, 255, 255, 0.3)"},children:[(0,s.jsx)("div",{style:{width:"48px",height:"48px",borderRadius:"50%",background:"rgba(107, 114, 128, 0.1)",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 16px"},children:(0,s.jsx)(Nn.A,{size:24,color:"#6b7280"})}),(0,s.jsx)("h3",{style:{fontSize:"18px",fontWeight:"600",color:"#374151",margin:"0 0 8px 0"},children:"No impact data available"}),(0,s.jsx)("p",{style:{fontSize:"14px",color:"#6b7280",margin:"0"},children:"Metrics will appear here when data becomes available"})]})]}),(0,s.jsx)("style",{jsx:!0,children:"\n        @keyframes spin {\n          0% { transform: rotate(0deg); }\n          100% { transform: rotate(360deg); }\n        }\n        \n        @keyframes pulse {\n          0%, 100% { opacity: 1; }\n          50% { opacity: 0.5; }\n        }\n        \n        @media (max-width: 768px) {\n          section {\n            padding: 40px 16px !important;\n          }\n          \n          h2 {\n            font-size: 28px !important;\n          }\n          \n          .grid {\n            grid-template-columns: 1fr !important;\n            gap: 16px !important;\n          }\n        }\n      "})]})})},Ka={section:{position:"relative",minHeight:"80vh",display:"flex",alignItems:"center",background:"linear-gradient(135deg, rgba(156, 207, 159, 0.05) 0%, rgba(250, 207, 60, 0.03) 50%, rgba(10, 69, 28, 0.02) 100%)",overflow:"hidden",fontFamily:"inherit",perspective:"1000px"},backgroundPattern:{position:"absolute",top:0,left:0,right:0,bottom:0,background:"url(\"data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg opacity='0.03'%3E%3Ccircle cx='15' cy='15' r='1' fill='%230a451c'/%3E%3Ccircle cx='45' cy='15' r='1' fill='%230a451c'/%3E%3Ccircle cx='30' cy='30' r='1' fill='%230a451c'/%3E%3Cline x1='15' y1='15' x2='45' y2='15' stroke='%230a451c' stroke-width='0.5'/%3E%3C/g%3E%3C/svg%3E\")",pointerEvents:"none",zIndex:1,transition:"all 0.3s ease-out"},imageContainer:{position:"absolute",right:0,bottom:0,width:"60%",height:"70%",zIndex:2,transformStyle:"preserve-3d"},heroImage:{width:"100%",height:"130%",backgroundSize:"cover",backgroundPosition:"center",borderRadius:"20px 0 0 20px",transition:"all 0.8s ease-out",willChange:"transform, opacity"},imageOverlay:{position:"absolute",top:0,left:0,right:0,bottom:0,borderRadius:"20px 0 0 20px",transition:"background 0.3s ease-out"},contentOverlay:{position:"relative",zIndex:10,maxWidth:"1200px",margin:"0 auto",padding:"0 2rem",width:"100%"},mainContent:{marginTop:"6rem",maxWidth:"600px",marginBottom:"3rem"},title:{fontSize:"48px",fontWeight:"800",lineHeight:"1.1",color:u.primary,marginBottom:"24px",fontFamily:"inherit"},subtitle:{color:u.textSecondary,marginBottom:"2.5rem",fontSize:"clamp(0.9rem, 2.5vw, 1rem)",lineHeight:1.7,fontFamily:'"Nunito Sans", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif',maxWidth:"450px",fontWeight:"400"},ctaContainer:{display:"flex",gap:"1rem",flexWrap:"wrap",marginBottom:"3rem"},primaryButton:{position:"relative",padding:"1rem 2rem",borderRadius:"15px",fontSize:"1rem",fontWeight:"600",cursor:"pointer",border:"1px solid rgba(10, 69, 28, 0.2)",color:"#0a451c",overflow:"hidden",transition:"transform 0.3s ease-out"},secondaryButton:{backgroundColor:u.primary,color:u.white,padding:"16px 32px",borderRadius:"12px",border:"none",fontWeight:"600",fontSize:"16px",cursor:"pointer",display:"inline-flex",alignItems:"center",gap:"8px",transition:"all 0.3s ease",boxShadow:"0 4px 16px rgba(10, 69, 28, 0.3)",alignSelf:"flex-start",fontFamily:'"Nunito Sans", sans-serif'},buttonGlow:{position:"absolute",top:0,left:"-100%",width:"100%",height:"100%",background:"linear-gradient(90deg, transparent, rgba(10, 69, 28, 0.1), transparent)",animation:"buttonGlow 2s ease-in-out infinite",pointerEvents:"none"},statsContainer:{display:"flex",gap:"1.5rem",flexWrap:"wrap",maxWidth:"500px"},statCard:{padding:"1.5rem 1.25rem",borderRadius:"16px",textAlign:"center",minWidth:"120px",flex:"1"},statNumber:{fontSize:"1.75rem",fontWeight:"800",margin:"0 0 0.5rem 0",lineHeight:1,transition:"transform 0.3s ease-out"},statLabel:{fontSize:"12px",color:"#6b7280",fontWeight:"600",letterSpacing:"0.5px",textTransform:"uppercase"}},Xa=e=>{let{onStartClick:n}=e;const[t,a]=(0,i.useState)(!1),[r,o]=(0,i.useState)(0),[l,c]=(0,i.useState)(!1),[d,p]=(0,i.useState)(0),{colors:x,isDarkMode:u}=y(),g=(0,i.useRef)(null),h=(0,i.useRef)(null);(0,i.useEffect)(()=>{a(!0);const e=setInterval(()=>{o(e=>(e+1)%6)},2e3),n=new IntersectionObserver(e=>{let[n]=e;c(n.isIntersecting)},{threshold:.1,rootMargin:"50px"});g.current&&n.observe(g.current);const t=()=>{if(g.current){const e=g.current.getBoundingClientRect(),n=window.innerHeight,t=e.top,a=e.height,r=Math.max(0,-t),o=Math.min(a,n-t),i=Math.max(0,o-r)/n;p(Math.min(1,Math.max(0,i)))}};return window.addEventListener("scroll",t),t(),()=>{clearInterval(e),n.disconnect(),window.removeEventListener("scroll",t)}},[]);const f=Array.from({length:6},(e,n)=>(0,s.jsx)("div",{style:{position:"absolute",width:"4px",height:"4px",borderRadius:"50%",backgroundColor:r===n?"#10b981":"rgba(10, 69, 28, 0.3)",top:"".concat(20+12*n,"%"),left:"".concat(10+15*n,"%"),animation:"floatParticle ".concat(3+.5*n,"s ease-in-out infinite"),transition:"all 0.5s ease",zIndex:3,transform:l?"scale(1) translateY(0)":"scale(0) translateY(20px)",opacity:l?1:0,transitionDelay:"".concat(.1*n,"s")}},n));return(0,s.jsxs)("section",{ref:g,style:Ka.section,children:[(0,s.jsx)("div",{style:(0,m.A)((0,m.A)({},Ka.backgroundPattern),{},{transform:"translateY(".concat(20*d,"px)"),opacity:.5+.5*d})}),f,(0,s.jsxs)("div",{ref:h,style:(0,m.A)((0,m.A)({},Ka.imageContainer),{},{transform:"translateX(".concat(l?0:100,"px) scale(").concat(l?1:.9,") rotateY(").concat(-5*d,"deg)"),opacity:l?1:0,transition:"all 1.2s cubic-bezier(0.23, 1, 0.32, 1)",transformOrigin:"left center"}),children:[(0,s.jsx)("div",{style:(0,m.A)((0,m.A)({},Ka.heroImage),{},{backgroundImage:"url('/vol.jpg')",opacity:t&&l?1:0,transform:"scale(".concat(1+.1*d,") translateZ(0)"),transition:"all 0.8s ease-out"})}),(0,s.jsx)("div",{style:(0,m.A)((0,m.A)({},Ka.imageOverlay),{},{background:"linear-gradient(135deg, rgba(10, 69, 28, ".concat(.1-.05*d,") 0%, rgba(156, 207, 159, ").concat(.05+.03*d,") 100%)")})})]}),(0,s.jsxs)("div",{style:Ka.contentOverlay,children:[(0,s.jsxs)("div",{style:Ka.mainContent,children:[(0,s.jsx)("h2",{style:(0,m.A)({},Ka.title),className:"holographic-text",children:"Transforming Communities"}),(0,s.jsxs)("p",{style:(0,m.A)((0,m.A)({},Ka.subtitle),{},{transform:"translateY(".concat(l?0:40,"px) translateX(").concat(-10*d,"px)"),opacity:l?1:0}),children:["Empowering grassroots initiatives for a sustainable future across Africa.",(0,s.jsx)("br",{}),"Every action creates ripples of positive change."]}),(0,s.jsxs)("div",{style:(0,m.A)((0,m.A)({},Ka.ctaContainer),{},{transform:"translateY(".concat(l?0:30,"px)"),opacity:l?1:0,transition:"all 0.8s cubic-bezier(0.4, 0, 0.2, 1) 0.6s"}),children:[(0,s.jsxs)("button",{style:(0,m.A)((0,m.A)({},Ka.primaryButton),{},{transform:"translateX(".concat(-5*d,"px)")}),className:"glass-card primary-action",onClick:()=>{n&&n()},children:[(0,s.jsx)("span",{children:"View Our Impact"}),(0,s.jsx)("div",{style:Ka.buttonGlow})]}),(0,s.jsx)("button",{style:(0,m.A)((0,m.A)({},Ka.secondaryButton),{},{transform:"translateX(".concat(-3*d,"px)")}),className:"glass-card",onClick:()=>{},children:"Explore Projects"})]})]}),(0,s.jsx)("div",{style:(0,m.A)((0,m.A)({},Ka.statsContainer),{},{transform:"translateY(".concat(l?0:30,"px)"),opacity:l?1:0,transition:"all 0.8s cubic-bezier(0.4, 0, 0.2, 1) 0.8s"}),children:[{number:"500K+",label:"Lives Impacted"},{number:"50+",label:"Communities"},{number:"100K",label:"Youths"}].map((e,n)=>(0,s.jsxs)("div",{style:(0,m.A)((0,m.A)({},Ka.statCard),{},{transform:"translateY(".concat(l?0:20,"px) scale(").concat(l?1:.9,")"),opacity:l?1:0,transition:"all 0.6s cubic-bezier(0.4, 0, 0.2, 1) ".concat(.9+.1*n,"s")}),className:"glass-card",children:[(0,s.jsx)("div",{style:(0,m.A)((0,m.A)({},Ka.statNumber),{},{transform:"scale(".concat(1+.05*d,")")}),className:"holographic-text",children:e.number}),(0,s.jsx)("div",{style:Ka.statLabel,children:e.label})]},n))})]}),(0,s.jsx)("style",{jsx:!0,children:"\n        \n        @keyframes floatParticle {\n          0%, 100% { transform: translateY(0px) rotate(0deg); }\n          50% { transform: translateY(-20px) rotate(180deg); }\n        }\n        \n        @keyframes shimmerEffect {\n          0% { background-position: -200% center; }\n          100% { background-position: 200% center; }\n        }\n        \n        @keyframes softPulse {\n          0%, 100% { opacity: 1; transform: scale(1); }\n          50% { opacity: 0.7; transform: scale(1.05); }\n        }\n        \n        @keyframes buttonGlow {\n          0%, 100% { opacity: 0; }\n          50% { opacity: 1; }\n        }\n        \n        @keyframes imageSlideIn {\n          0% {\n            transform: translateX(100px) scale(0.9) rotateY(-10deg);\n            opacity: 0;\n          }\n          100% {\n            transform: translateX(0) scale(1) rotateY(0deg);\n            opacity: 1;\n          }\n        }\n        \n        .glass-card {\n          background: rgba(255, 255, 255, 0.8);\n          backdrop-filter: blur(20px);\n          border: 1px solid rgba(255, 255, 255, 0.3);\n          transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);\n        }\n        \n        .glass-card:hover {\n          background: rgba(255, 255, 255, 0.95);\n          transform: translateY(-2px) scale(1.02);\n          box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);\n          border-color: rgba(10, 69, 28, 0.2);\n        }\n        \n        .primary-action:hover {\n          border-color: rgba(10, 69, 28, 0.4) !important;\n          box-shadow: 0 20px 40px rgba(10, 69, 28, 0.2) !important;\n        }\n        \n        .holographic-text {\n     \n        }\n        \n        /* Enhanced scroll animations */\n        @media (prefers-reduced-motion: no-preference) {\n          .scroll-reveal {\n            opacity: 0;\n            transform: translateY(30px);\n            transition: all 0.8s cubic-bezier(0.4, 0, 0.2, 1);\n          }\n          \n          .scroll-reveal.visible {\n            opacity: 1;\n            transform: translateY(0);\n          }\n        }\n        \n        @media (max-width: 768px) {\n          .mobile-stack {\n            flex-direction: column !important;\n            gap: 1rem !important;\n          }\n          \n          .mobile-full {\n            width: 100% !important;\n          }\n        }\n      "})]})};var Za=t(978),$a=t(9340),Qa=t(4830);const er=e=>{let{showTabs:n=!0,defaultType:t="all",maxItems:a=null,showFeaturedFirst:r=!0,title:o="Stories of transformation",showCTA:l=!0,className:c=""}=e;const[d,p]=(0,i.useState)([]),[x,u]=(0,i.useState)([]),[g,h]=(0,i.useState)(!0),[f,b]=(0,i.useState)(""),[j,v]=(0,i.useState)({all:0,community:1,volunteers:2,collaborators:3}[t]||0);const[w,A]=(0,i.useState)(0),[k,S]=(0,i.useState)(!0),{colors:C,isDarkMode:z}=y();(0,i.useEffect)(()=>{if(!k||x.length<=1)return;const e=setInterval(()=>{A(e=>(e+1)%x.length)},6e3);return()=>clearInterval(e)},[k,x.length]),(0,i.useEffect)(()=>{N()},[]),(0,i.useEffect)(()=>{_(),A(0)},[d,j,a,r]);const N=async()=>{try{h(!0);const e=await cn.A.get("".concat(Ge,"/generaltestimonials/public"));p(e.data),b("")}catch(e){console.error("Error fetching testimonials:",e),b("Failed to load testimonials"),p([])}finally{h(!1)}},_=()=>{let e=[...d];if(1===j?e=e.filter(e=>"community"===e.type):2===j?e=e.filter(e=>"volunteers"===e.type):3===j&&(e=e.filter(e=>"collaborators"===e.type)),r){const n=e.filter(e=>e.featured),t=e.filter(e=>!e.featured);e=[...n,...t],a&&a>0&&(e=[...n.slice(0,a),...t.slice(0,a-n.length)])}else a&&a>0&&(e=e.slice(0,a));u(e)},I=e=>{switch(null===e||void 0===e?void 0:e.toLowerCase()){case"community":return"#3b82f6";case"volunteers":return"#ef4444";case"collaborators":return"#10b981";default:return C.primary}},E=[{label:"All stories",icon:(0,s.jsx)(Cn.A,{size:14})},{label:"Community",icon:(0,s.jsx)(Cn.A,{size:14})},{label:"Volunteers",icon:(0,s.jsx)(Ae.A,{size:14})},{label:"Collaborators",icon:(0,s.jsx)(zn.A,{size:14})}];if(g)return(0,s.jsx)("section",{style:{minHeight:"60vh",display:"flex",alignItems:"center",justifyContent:"center",fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif',background:z?"linear-gradient(135deg, rgba(15, 23, 42, 0.8) 0%, rgba(30, 41, 59, 0.6) 100%)":"linear-gradient(135deg, rgba(248, 250, 252, 0.8) 0%, rgba(241, 245, 249, 0.6) 100%)"},children:(0,s.jsxs)("div",{style:{textAlign:"center",background:z?"rgba(30, 41, 59, 0.8)":"rgba(255, 255, 255, 0.9)",backdropFilter:"blur(20px)",borderRadius:"24px",padding:"40px",border:"1px solid ".concat(z?"rgba(71, 85, 105, 0.3)":"rgba(255, 255, 255, 0.3)"),boxShadow:z?"0 8px 32px rgba(0, 0, 0, 0.3)":"0 8px 32px rgba(0, 0, 0, 0.1)"},children:[(0,s.jsx)("div",{style:{width:"32px",height:"32px",background:"linear-gradient(135deg, #3b82f6, #10b981)",borderRadius:"50%",animation:"spin 2s linear infinite",marginBottom:"16px",margin:"0 auto 16px"}}),(0,s.jsx)("p",{style:{color:C.textSecondary,fontSize:"14px",fontWeight:"500",margin:0},children:"Loading stories..."})]})});if(f)return(0,s.jsx)("section",{style:{minHeight:"50vh",display:"flex",alignItems:"center",justifyContent:"center",padding:"40px 20px",fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif',background:z?"linear-gradient(135deg, rgba(15, 23, 42, 0.8) 0%, rgba(30, 41, 59, 0.6) 100%)":"linear-gradient(135deg, rgba(248, 250, 252, 0.8) 0%, rgba(241, 245, 249, 0.6) 100%)"},children:(0,s.jsxs)("div",{style:{background:z?"rgba(30, 41, 59, 0.9)":"rgba(255, 255, 255, 0.95)",backdropFilter:"blur(20px)",borderRadius:"24px",padding:"40px",textAlign:"center",border:"1px solid rgba(239, 68, 68, 0.2)",maxWidth:"400px",boxShadow:"0 8px 32px rgba(239, 68, 68, 0.1)"},children:[(0,s.jsx)("div",{style:{width:"40px",height:"40px",borderRadius:"50%",background:"rgba(239, 68, 68, 0.1)",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 16px"},children:(0,s.jsx)(Za.A,{size:20,color:"#ef4444"})}),(0,s.jsx)("h3",{style:{fontSize:"18px",fontWeight:"600",color:C.text,margin:"0 0 8px 0"},children:"Unable to load stories"}),(0,s.jsx)("p",{style:{fontSize:"14px",color:C.textSecondary,margin:"0 0 20px 0"},children:f}),(0,s.jsx)("button",{onClick:N,style:{background:"#ef4444",color:"white",border:"none",padding:"8px 16px",borderRadius:"8px",fontSize:"12px",fontWeight:"500",cursor:"pointer",transition:"all 0.2s ease"},onMouseOver:e=>e.target.style.background="#dc2626",onMouseOut:e=>e.target.style.background="#ef4444",children:"Try again"})]})});const T=x.length>0?x[w]:null;return(0,s.jsxs)("section",{style:{fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif',background:z?"linear-gradient(135deg, rgba(15, 23, 42, 1) 0%, rgba(30, 41, 59, 1) 100%)":"linear-gradient(135deg, rgba(248, 250, 252, 1) 0%, rgba(241, 245, 249, 1) 100%)",position:"relative",overflow:"hidden"},children:[(0,s.jsxs)("div",{style:{padding:"60px 20px 40px",textAlign:"center",maxWidth:"1200px",margin:"0 auto"},children:[(0,s.jsx)("h2",{style:{fontSize:"28px",fontWeight:"700",color:C.text,margin:"0 0 12px 0",letterSpacing:"-0.5px"},children:o}),(0,s.jsx)("p",{style:{fontSize:"16px",color:C.textSecondary,margin:"0 0 32px 0",maxWidth:"500px",marginLeft:"auto",marginRight:"auto",lineHeight:"1.6"},children:"Real stories from the people whose lives we've touched and who have helped us grow"}),n&&(0,s.jsx)("div",{style:{display:"flex",justifyContent:"center",marginBottom:"20px"},children:(0,s.jsx)("div",{style:{background:z?"rgba(30, 41, 59, 0.8)":"rgba(255, 255, 255, 0.8)",backdropFilter:"blur(20px)",borderRadius:"16px",padding:"4px",border:"1px solid ".concat(z?"rgba(71, 85, 105, 0.3)":"rgba(255, 255, 255, 0.3)"),boxShadow:z?"0 4px 20px rgba(0, 0, 0, 0.3)":"0 4px 20px rgba(0, 0, 0, 0.1)",display:"inline-flex",gap:"2px"},children:E.map((e,n)=>(0,s.jsxs)("button",{onClick:()=>(v(n),void A(0)),style:{background:j===n?z?C.surface:"white":"transparent",color:j===n?C.text:C.textSecondary,border:"none",padding:"8px 14px",borderRadius:"12px",fontSize:"12px",fontWeight:j===n?"600":"500",cursor:"pointer",transition:"all 0.2s ease",display:"flex",alignItems:"center",gap:"6px",boxShadow:j===n?z?"0 2px 8px rgba(0, 0, 0, 0.4)":"0 2px 8px rgba(0, 0, 0, 0.1)":"none"},onMouseOver:e=>{j!==n&&(e.target.style.background=z?"rgba(71, 85, 105, 0.3)":"rgba(255, 255, 255, 0.5)")},onMouseOut:e=>{j!==n&&(e.target.style.background="transparent")},children:[e.icon,e.label]},n))})})]}),(0,s.jsx)("div",{style:{maxWidth:"1400px",margin:"0 auto",padding:"0 20px 60px"},children:T?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{style:{position:"relative"},children:[(0,s.jsx)("button",{onClick:()=>{x.length>1&&(A(e=>(e-1+x.length)%x.length),S(!1))},disabled:x.length<=1,style:{position:"absolute",left:"-60px",top:"50%",transform:"translateY(-50%)",background:z?"rgba(30, 41, 59, 0.9)":"rgba(255, 255, 255, 0.95)",backdropFilter:"blur(20px)",border:"1px solid ".concat(z?"rgba(71, 85, 105, 0.3)":"rgba(255, 255, 255, 0.3)"),borderRadius:"50%",width:"48px",height:"48px",display:"flex",alignItems:"center",justifyContent:"center",cursor:x.length>1?"pointer":"not-allowed",transition:"all 0.3s ease",opacity:x.length<=1?.3:1,boxShadow:"0 4px 20px rgba(0, 0, 0, 0.1)",zIndex:10},onMouseOver:e=>{x.length>1&&(e.target.style.transform="translateY(-50%) scale(1.1)",e.target.style.boxShadow="0 6px 30px rgba(0, 0, 0, 0.15)")},onMouseOut:e=>{e.target.style.transform="translateY(-50%) scale(1)",e.target.style.boxShadow="0 4px 20px rgba(0, 0, 0, 0.1)"},children:(0,s.jsx)(ma.A,{size:24,color:C.text})}),(0,s.jsx)("button",{onClick:()=>{x.length>1&&(A(e=>(e+1)%x.length),S(!1))},disabled:x.length<=1,style:{position:"absolute",right:"-60px",top:"50%",transform:"translateY(-50%)",background:z?"rgba(30, 41, 59, 0.9)":"rgba(255, 255, 255, 0.95)",backdropFilter:"blur(20px)",border:"1px solid ".concat(z?"rgba(71, 85, 105, 0.3)":"rgba(255, 255, 255, 0.3)"),borderRadius:"50%",width:"48px",height:"48px",display:"flex",alignItems:"center",justifyContent:"center",cursor:x.length>1?"pointer":"not-allowed",transition:"all 0.3s ease",opacity:x.length<=1?.3:1,boxShadow:"0 4px 20px rgba(0, 0, 0, 0.1)",zIndex:10},onMouseOver:e=>{x.length>1&&(e.target.style.transform="translateY(-50%) scale(1.1)",e.target.style.boxShadow="0 6px 30px rgba(0, 0, 0, 0.15)")},onMouseOut:e=>{e.target.style.transform="translateY(-50%) scale(1)",e.target.style.boxShadow="0 4px 20px rgba(0, 0, 0, 0.1)"},children:(0,s.jsx)(xa.A,{size:24,color:C.text})}),(0,s.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"60px",alignItems:"center",minHeight:"450px",background:z?"rgba(30, 41, 59, 0.5)":"rgba(255, 255, 255, 0.8)",backdropFilter:"blur(20px)",borderRadius:"0px",padding:"50px",border:"1px solid ".concat(z?"rgba(71, 85, 105, 0.3)":"rgba(255, 255, 255, 0.3)"),boxShadow:z?"0 20px 60px rgba(0, 0, 0, 0.4)":"0 20px 60px rgba(0, 0, 0, 0.08)"},children:[(0,s.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",position:"relative"},children:(0,s.jsxs)("div",{style:{position:"relative",width:"380px",height:"380px"},children:[T.image?(0,s.jsx)("img",{src:"".concat(Ve,"/uploads/testimonials/").concat(T.image),alt:"".concat(T.first_name," ").concat(T.last_name),style:{width:"100%",height:"100%",borderRadius:"0px",objectFit:"cover",border:"none",boxShadow:"0 20px 60px ".concat(I(T.type),"20"),filter:"brightness(1.02) contrast(1.01)",transition:"all 0.3s ease"},onError:e=>{e.target.style.display="none",e.target.nextSibling.style.display="flex"}}):null,(0,s.jsx)("div",{style:{display:T.image?"none":"flex",width:"380px",height:"380px",borderRadius:"0px",background:"linear-gradient(135deg, ".concat(I(T.type),"15, ").concat(I(T.type),"08)"),alignItems:"center",justifyContent:"center",border:"none",boxShadow:"0 20px 60px ".concat(I(T.type),"20")},children:(0,s.jsx)(gt.A,{size:80,color:I(T.type),strokeWidth:1})}),T.featured&&(0,s.jsxs)("div",{style:{position:"absolute",top:"12px",right:"12px",background:"linear-gradient(135deg, #fbbf24, #f59e0b)",borderRadius:"16px",padding:"6px 10px",display:"flex",alignItems:"center",gap:"4px",boxShadow:"0 4px 20px rgba(251, 191, 36, 0.4)",animation:"pulse 2s infinite"},children:[(0,s.jsx)(M.A,{size:12,color:"white",fill:"white"}),(0,s.jsx)("span",{style:{fontSize:"10px",fontWeight:"600",color:"white"},children:"Featured"})]})]})}),(0,s.jsxs)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",gap:"24px"},children:[(0,s.jsx)(Za.A,{size:32,color:I(T.type),style:{opacity:.7}}),(0,s.jsxs)("blockquote",{style:{fontSize:"18px",lineHeight:"1.6",color:C.text,margin:0,fontStyle:"italic",fontWeight:"400"},children:['"',T.testimonial,'"']}),(0,s.jsx)("div",{style:{display:"flex",alignItems:"center",gap:"12px",paddingTop:"20px",borderTop:"2px solid ".concat(z?"rgba(71, 85, 105, 0.3)":"rgba(107, 114, 128, 0.1)")},children:(0,s.jsxs)("div",{children:[(0,s.jsxs)("h4",{style:{fontSize:"16px",fontWeight:"600",color:C.text,margin:"0 0 6px 0"},children:[T.first_name," ",T.last_name]}),(0,s.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"6px",background:"".concat(I(T.type),"15"),padding:"4px 10px",borderRadius:"12px",width:"fit-content"},children:[(e=>{const n={size:16,strokeWidth:2};switch(null===e||void 0===e?void 0:e.toLowerCase()){case"community":return(0,s.jsx)(Cn.A,(0,m.A)({},n));case"volunteers":return(0,s.jsx)(Ae.A,(0,m.A)({},n));case"collaborators":return(0,s.jsx)(zn.A,(0,m.A)({},n));default:return(0,s.jsx)(gt.A,(0,m.A)({},n))}})(T.type),(0,s.jsx)("span",{style:{fontSize:"12px",fontWeight:"500",color:I(T.type)},children:(e=>{switch(null===e||void 0===e?void 0:e.toLowerCase()){case"community":return"Community member";case"volunteers":return"Volunteer";case"collaborators":return"Collaborator";default:return"Member"}})(T.type)})]})]})})]})]})]}),(0,s.jsxs)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",gap:"16px",marginTop:"32px"},children:[(0,s.jsx)("div",{style:{display:"flex",gap:"6px",alignItems:"center"},children:x.map((e,n)=>(0,s.jsx)("button",{onClick:()=>(e=>{A(e),S(!1)})(n),style:{width:w===n?"20px":"6px",height:"6px",borderRadius:"3px",background:w===n?I(T.type):z?"rgba(71, 85, 105, 0.5)":"rgba(107, 114, 128, 0.3)",border:"none",cursor:"pointer",transition:"all 0.3s ease"}},n))}),x.length>1&&(0,s.jsx)("button",{onClick:()=>{S(!k)},style:{background:k?I(T.type):z?"rgba(30, 41, 59, 0.8)":"rgba(255, 255, 255, 0.9)",backdropFilter:"blur(20px)",border:"1px solid ".concat(k?I(T.type):z?"rgba(71, 85, 105, 0.3)":"rgba(255, 255, 255, 0.3)"),borderRadius:"16px",width:"40px",height:"40px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",transition:"all 0.2s ease",marginLeft:"8px"},onMouseOver:e=>{e.target.style.transform="scale(1.05)"},onMouseOut:e=>{e.target.style.transform="scale(1)"},children:k?(0,s.jsx)($a.A,{size:16,color:"white"}):(0,s.jsx)(Qa.A,{size:16,color:C.text})})]}),x.length>1&&(0,s.jsxs)("div",{style:{marginTop:"20px",textAlign:"center",color:C.textSecondary,fontSize:"12px"},children:[w+1," of ",x.length," stories"]})]}):(0,s.jsxs)("div",{style:{textAlign:"center",padding:"60px 40px",background:z?"rgba(30, 41, 59, 0.6)":"rgba(255, 255, 255, 0.7)",backdropFilter:"blur(20px)",borderRadius:"32px",border:"1px solid ".concat(z?"rgba(71, 85, 105, 0.3)":"rgba(255, 255, 255, 0.3)")},children:[(0,s.jsx)("div",{style:{width:"48px",height:"48px",borderRadius:"50%",background:z?"rgba(71, 85, 105, 0.3)":"rgba(107, 114, 128, 0.1)",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 16px"},children:(0,s.jsx)(Za.A,{size:24,color:C.textMuted})}),(0,s.jsx)("h3",{style:{fontSize:"20px",fontWeight:"600",color:C.text,margin:"0 0 8px 0"},children:"No testimonials available"}),(0,s.jsx)("p",{style:{fontSize:"14px",color:C.textSecondary,margin:"0"},children:"Check back later for inspiring stories from our community"})]})}),(0,s.jsx)("style",{jsx:!0,children:"\n        @keyframes spin {\n          0% { transform: rotate(0deg); }\n          100% { transform: rotate(360deg); }\n        }\n        \n        @keyframes pulse {\n          0%, 100% { opacity: 1; transform: scale(1); }\n          50% { opacity: 0.8; transform: scale(1.05); }\n        }\n        \n        @media (max-width: 1024px) {\n          .testimonial-main {\n            grid-template-columns: 1fr !important;\n            gap: 40px !important;\n            text-align: center !important;\n            padding: 40px !important;\n          }\n          \n          .image-section {\n            width: 280px !important;\n            height: 280px !important;\n            margin: 0 auto !important;\n          }\n          \n          .content-section blockquote {\n            font-size: 16px !important;\n            text-align: center !important;\n          }\n        }\n        \n        @media (max-width: 768px) {\n          .header-section {\n            padding: 40px 16px 30px !important;\n          }\n          \n          .header-section h2 {\n            font-size: 24px !important;\n          }\n          \n          .testimonial-main {\n            padding: 30px 20px !important;\n            gap: 30px !important;\n          }\n          \n          .image-section {\n            width: 220px !important;\n            height: 220px !important;\n          }\n          \n          .content-section blockquote {\n            font-size: 15px !important;\n          }\n          \n          .tab-navigation {\n            flex-wrap: wrap !important;\n            gap: 4px !important;\n          }\n          \n          .navigation-controls {\n            gap: 12px !important;\n          }\n        }\n        \n        @media (max-width: 480px) {\n          .tab-navigation button {\n            font-size: 11px !important;\n            padding: 6px 10px !important;\n          }\n          \n          .testimonial-main {\n            padding: 20px 16px !important;\n          }\n          \n          .image-section {\n            width: 180px !important;\n            height: 180px !important;\n          }\n          \n          .content-section blockquote {\n            font-size: 14px !important;\n          }\n          \n          .person-name {\n            font-size: 14px !important;\n          }\n        }\n      "})]})},nr=Ge,tr="#0a451c",ar="#9ccf9f",rr="#1a5a2c",or="#ffffff",ir="#fafafa",sr="#1f2937",lr="#6b7280",cr="#e5e7eb",dr=(0,Oa.Ay)(N.A)(e=>{var n;let{customTheme:t}=e;return{minHeight:"100vh",backgroundColor:(null===t||void 0===t||null===(n=t.colors)||void 0===n?void 0:n.background)||ir,position:"relative",overflow:"hidden",fontFamily:'"Inter", sans-serif'}}),pr=(0,Oa.Ay)(N.A)({position:"relative",background:or,padding:"40px 20px",overflow:"hidden"}),mr=(0,Oa.Ay)(E.A)(e=>{let{variant:n="primary"}=e;return{background:"primary"===n?"linear-gradient(135deg, ".concat(tr," 0%, ").concat(rr," 100%)"):or,color:"primary"===n?or:tr,border:"outline"===n?"1px solid ".concat(cr):"none",borderRadius:"12px",padding:"0.75rem 1.5rem",fontSize:"0.9rem",fontWeight:500,textTransform:"none",fontFamily:'"Inter", sans-serif',boxShadow:"primary"===n?"0 4px 16px ".concat(tr,"20"):"0 2px 8px rgba(0,0,0,0.04)",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)","&:hover":(0,m.A)({transform:"translateY(-2px)",boxShadow:"primary"===n?"0 8px 24px ".concat(tr,"30"):"0 6px 16px rgba(0,0,0,0.08)"},"outline"===n&&{background:"".concat(tr,"08"),borderColor:tr})}}),xr=(0,Oa.Ay)("button")(e=>{let{delay:n=0,isVisible:t=!1}=e;return{width:"100%",minHeight:"80px",backgroundColor:or,border:"1px solid ".concat(cr),borderRadius:"12px",padding:"20px 18px",position:"relative",cursor:"pointer",fontFamily:'"Inter", sans-serif',fontSize:"1rem",fontWeight:600,color:sr,textAlign:"left",display:"flex",alignItems:"center",gap:"12px",transform:t?"translateY(0)":"translateY(15px)",opacity:t?1:0,transition:"all 0.4s cubic-bezier(0.4, 0, 0.2, 1) ".concat(.05*n,"s"),boxShadow:"0 2px 8px rgba(0,0,0,0.04)",overflow:"hidden","&::before":{content:'""',position:"absolute",top:0,left:0,right:0,height:"2px",background:tr,opacity:0,transition:"opacity 0.3s ease"},"&:hover":{transform:"translateY(-3px)",boxShadow:"0 8px 25px ".concat(tr,"15"),borderColor:"".concat(tr,"40"),"&::before":{opacity:1}}}}),ur=e=>{const n={people:Ta.A,location_city:Wa.A,check_circle:Kn.A,handshake:Fa.A,attach_money:Pa.A,volunteer_activism:Ra.A,assessment:Vn.A,trending_up:Jn.A,public:Wa.A,nature:Ba.A,school:Da.A,water_drop:La.A,forest:Ma.A,recycling:Ha.A}[e]||Vn.A;return(0,s.jsx)(n,{})},gr=e=>{const n=e.toLowerCase();return n.includes("marine")||n.includes("water")||n.includes("coastal")?(0,s.jsx)(La.A,{}):n.includes("climate")||n.includes("nature")||n.includes("environment")||n.includes("agriculture")||n.includes("farming")||n.includes("food")?(0,s.jsx)(Ba.A,{}):n.includes("waste")||n.includes("recycling")||n.includes("circular")?(0,s.jsx)(Ha.A,{}):n.includes("community")||n.includes("empowerment")||n.includes("social")?(0,s.jsx)(Ta.A,{}):n.includes("education")||n.includes("training")||n.includes("awareness")?(0,s.jsx)(Da.A,{}):n.includes("forest")||n.includes("tree")||n.includes("biodiversity")?(0,s.jsx)(Ma.A,{}):(0,s.jsx)(qa.A,{})};function hr(){const{theme:e}=y(),[n,t]=(0,i.useState)([]),[a,r]=(0,i.useState)(!0),[o,l]=(0,i.useState)(""),[c,d]=(0,i.useState)(!1),[p,x]=(0,i.useState)(null),[u,g,h]=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const[n,t]=(0,i.useState)(!1),[a,r]=(0,i.useState)(0),o=(0,i.useRef)(null),s=(0,i.useMemo)(()=>(0,m.A)({threshold:.3},e),[e]);return(0,i.useEffect)(()=>{const e=o.current,n=new IntersectionObserver(e=>{let[n]=e;t(n.isIntersecting)},s);return e&&n.observe(e),()=>{e&&n.unobserve(e)}},[s]),(0,i.useEffect)(()=>{const e=()=>{r(window.scrollY)};return window.addEventListener("scroll",e,{passive:!0}),()=>window.removeEventListener("scroll",e)},[]),[o,n,a]}(),f=(0,i.useCallback)((e,n)=>{const t=parseInt(e)||0;let a="";return a=t>=1e6?(t/1e6).toFixed(1)+"M":t>=1e3?(t/1e3).toFixed(1)+"K":t.toLocaleString(),!n||n.toLowerCase().includes("usd")||n.toLowerCase().includes("$")||(a+="+"),a},[]),b=(0,i.useCallback)(async()=>{try{const e=await fetch("".concat(nr,"/categories")),n=await e.json();if(!e.ok)throw new Error(n.message||"Failed to load categories");t(Array.isArray(n)?n:[])}catch(e){console.error("\u274c Fetch categories error:",e),l("Failed to fetch focus areas.")}finally{r(!1)}},[]),j=(0,i.useCallback)(async()=>{try{const e=await fetch("".concat(nr,"/impacts?is_active=true"),{method:"GET",credentials:"include",headers:{"Content-Type":"application/json"}});if(!e.ok)throw new Error("HTTP error! status: ".concat(e.status));const n=await e.json();if(n.success&&Array.isArray(n.data)){const e=n.data.filter(e=>e.is_active).sort((e,n)=>(e.order_index||0)-(n.order_index||0)).map(e=>({icon:ur(e.icon),value:f(e.current_value,e.unit),label:e.name,color:e.color||tr,description:e.description}));console.log("Impact stats loaded:",e)}else console.error("Unexpected impact response format:",n)}catch(e){console.error("\u274c Fetch impact stats error:",e)}},[f]);(0,i.useEffect)(()=>{(async()=>{await Promise.all([b(),j()])})()},[b,j]);const v=()=>{d(!1),x(null),window.scrollTo({top:0,behavior:"smooth"})};return c?(0,s.jsxs)(dr,{customTheme:e,children:[(0,s.jsx)(Le,{}),(0,s.jsxs)(N.A,{sx:{pt:"80px"},children:[(0,s.jsx)(Fn.A,{maxWidth:"lg",sx:{py:4},children:(0,s.jsx)(mr,{variant:"outline",onClick:v,startIcon:(0,s.jsx)(at.A,{sx:{transform:"rotate(180deg)"}}),sx:{mb:4},children:"Back to Impact Overview"})}),(0,s.jsx)(ct,{initialCategoryFilter:p})]}),(0,s.jsx)(Qe,{})]}):(0,s.jsxs)(dr,{customTheme:e,children:[(0,s.jsx)(Le,{}),(0,s.jsx)(Xa,{}),(0,s.jsx)(Ja,{}),(0,s.jsx)(Ca,{}),(0,s.jsxs)(pr,{ref:u,children:[(0,s.jsx)("div",{style:{position:"absolute",margin:"96px",top:"50%",height:"100px",background:"linear-gradient(180deg, #21a851 0%, #067a3a 100%)",transform:"translateY(-50%) translateY(".concat(-.02*h,"px)")}}),(0,s.jsxs)("div",{style:{maxWidth:"1000px",margin:"96px",position:"relative",zIndex:2},children:[(0,s.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"32px",transform:g?"translateY(0)":"translateY(20px)",opacity:g?1:0,transition:"all 0.6s ease"},children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(_.A,{variant:"h3",sx:{fontSize:"2.5rem",fontWeight:700,color:tr,mb:2,letterSpacing:"-0.02em"},children:"Focus Areas              "}),(0,s.jsx)("div",{style:{width:"40px",height:"2px",background:"linear-gradient(90deg, ".concat(tr,", ").concat(ar,")"),borderRadius:"1px"}})]}),(0,s.jsx)("div",{style:{fontSize:"0.75rem",color:lr,fontWeight:"500",fontFamily:'"Inter", sans-serif'},children:"IMPACT AREAS"})]}),a&&(0,s.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:"200px",gap:"16px"},children:[(0,s.jsx)(On.A,{size:50,thickness:4,style:{color:tr}}),(0,s.jsx)("div",{style:{fontSize:"0.85rem",color:lr,fontWeight:"500"},children:"Loading focus areas..."})]}),o&&!a&&(0,s.jsxs)("div",{style:{textAlign:"center",padding:"48px 0"},children:[(0,s.jsx)("div",{style:{fontSize:"0.95rem",color:lr,marginBottom:"24px",fontWeight:"500"},children:o}),(0,s.jsx)(mr,{onClick:b,children:"Try Again"})]}),!a&&!o&&n.length>0&&(0,s.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(280px, 1fr))",gap:"16px",marginBottom:"28px"},children:n.map((e,n)=>(0,s.jsxs)(xr,{delay:n,isVisible:g,onClick:()=>{return n=e.id,x(n),d(!0),void setTimeout(()=>{const e=document.getElementById("projects");e&&e.scrollIntoView({behavior:"smooth",block:"start"})},300);var n},children:[(0,s.jsx)("div",{style:{width:"36px",height:"36px",backgroundColor:"".concat(tr,"10"),borderRadius:"8px",display:"flex",alignItems:"left",justifyContent:"left",flexShrink:0},children:i.cloneElement(gr(e.name),{style:{fontSize:"18px",color:tr}})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{style:{fontWeight:"600",fontSize:"1rem",color:sr,lineHeight:"1.3"},children:e.name}),(0,s.jsx)("div",{style:{fontSize:"0.7rem",color:tr,backgroundColor:"".concat(tr,"08"),padding:"2px 6px",borderRadius:"8px",fontWeight:"500",display:"inline-block",marginTop:"4px"},children:"Initiative"})]})]},e.id))}),!a&&!o&&0===n.length&&(0,s.jsxs)("div",{style:{textAlign:"center",padding:"48px 0"},children:[(0,s.jsx)("div",{style:{fontSize:"0.95rem",color:lr,marginBottom:"24px",fontWeight:"500"},children:"No focus areas available at the moment"}),(0,s.jsx)(mr,{onClick:b,children:"Refresh"})]}),(0,s.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",marginTop:"24px",gap:"6px",opacity:g?1:0,transition:"opacity 0.8s ease 0.4s"},children:[(0,s.jsx)("div",{style:{width:"12px",height:"1px",background:"linear-gradient(90deg, transparent, ".concat(tr,"40)")}}),(0,s.jsx)("div",{style:{width:"12px",height:"1px",background:"linear-gradient(90deg, ".concat(tr,"40, transparent)")}})]})]}),(0,s.jsx)("style",{children:'\n          @media (max-width: 768px) {\n            div[style*="gridTemplateColumns: repeat(auto-fit, minmax(280px, 1fr))"] {\n              grid-template-columns: 1fr !important;\n              gap: 12px !important;\n            }\n            \n            h2[style*="fontSize: \'1.75rem\'"] {\n              font-size: 1.5rem !important;\n            }\n          }\n        '})]}),(0,s.jsx)(ct,{}),(0,s.jsx)(er,{}),(0,s.jsx)(jn,{}),(0,s.jsx)(Qe,{})]})}const fr="AuthPages_container__9tvRp",br="AuthPages_forgotPasswordCard__vdIJu",yr="AuthPages_header__OgaTd",jr="AuthPages_logo__KLLor",vr="AuthPages_logoIcon__WCdR6",wr="AuthPages_title__4uVpG",Ar="AuthPages_subtitle__zn+4O",kr="AuthPages_successContainer__M4fz1",Sr="AuthPages_successIcon__U6lcB",Cr="AuthPages_successMessage__3jwb2",zr="AuthPages_errorContainer__do4iv",Nr="AuthPages_errorIcon__z9WPQ",_r="AuthPages_errorMessage__mgbvG",Ir="AuthPages_form__sAshk",Er="AuthPages_inputGroup__XsCO9",Tr="AuthPages_label__7tm4C",Wr="AuthPages_inputWrapper__Ol3f3",Fr="AuthPages_inputIcon__CIUQp",Pr="AuthPages_input__c7jRq",Rr="AuthPages_submitButton__0Nmah",Br="AuthPages_buttonContent__ejrF2",Dr="AuthPages_loadingContainer__X8MWi",Lr="AuthPages_spinner__+MPoY",Mr="AuthPages_successActions__UOG0b",Hr="AuthPages_instructionText__wLZ1j",qr="AuthPages_resendButton__joNi4",Or="AuthPages_footer__ZhwTr",Ur="AuthPages_backLink__+nef4",Yr="AuthPages_backgroundElements__fW9cy",Gr="AuthPages_circle1__eFXf7",Vr="AuthPages_circle2__sz5f2",Jr="AuthPages_circle3__hy2D0",Kr=()=>{const{theme:e,colors:n}=y(),[t,r]=(0,i.useState)(""),[o,l]=(0,i.useState)(""),[c,d]=(0,i.useState)(""),[p,m]=(0,i.useState)(!1),[x,u]=(0,i.useState)(!1);return(0,s.jsxs)("div",{className:fr,children:[(0,s.jsxs)("div",{className:br,children:[(0,s.jsxs)("div",{className:yr,children:[(0,s.jsx)("div",{className:jr,children:(0,s.jsx)(yt.A,{size:32,className:vr})}),(0,s.jsx)("h1",{className:wr,children:x?"Check Your Email":"Forgot Password?"}),(0,s.jsx)("p",{className:Ar,children:x?"We've sent a password reset link to ".concat(t):"No worries! Enter your email address and we'll send you a link to reset your password."})]}),o&&!c&&(0,s.jsxs)("div",{className:kr,children:[(0,s.jsx)(ze.A,{size:20,className:Sr}),(0,s.jsx)("p",{className:Cr,children:o})]}),c&&(0,s.jsxs)("div",{className:zr,children:[(0,s.jsx)(ne.A,{size:20,className:Nr}),(0,s.jsx)("p",{className:_r,children:c})]}),x?(0,s.jsxs)("div",{className:Mr,children:[(0,s.jsx)("p",{className:Hr,children:"Didn't receive the email? Check your spam folder or try again."}),(0,s.jsx)("button",{className:qr,onClick:()=>{u(!1),l(""),d("")},children:"Try Again"})]}):(0,s.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),d(""),l(""),m(!0);const n=Ge;try{const e=await fetch("".concat(n,"/auth/forgot-password"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t}),credentials:"include"}),a=e.headers.get("content-type");if(!a||!a.includes("application/json")){const n=await e.text();throw console.error("Expected JSON, got:",n),new Error("Server error: unexpected response")}const r=await e.json();if(!e.ok)throw new Error(r.message||"Failed to send reset email");l("Password reset link sent! Please check your email."),u(!0)}catch(a){d(a.message||"An error occurred")}finally{m(!1)}},className:Ir,children:[(0,s.jsxs)("div",{className:Er,children:[(0,s.jsx)("label",{htmlFor:"email",className:Tr,children:"Email Address"}),(0,s.jsxs)("div",{className:Wr,children:[(0,s.jsx)(yt.A,{size:20,className:Fr}),(0,s.jsx)("input",{id:"email",className:Pr,type:"email",placeholder:"Enter your email address",value:t,onChange:e=>{r(e.target.value),c&&d("")},required:!0,autoComplete:"email",autoFocus:!0})]})]}),(0,s.jsx)("button",{className:Rr,type:"submit",disabled:p||!t,children:p?(0,s.jsxs)("div",{className:Dr,children:[(0,s.jsx)("div",{className:Lr}),(0,s.jsx)("span",{children:"Sending..."})]}):(0,s.jsxs)("div",{className:Br,children:[(0,s.jsx)(Ye.A,{size:20}),(0,s.jsx)("span",{children:"Send Reset Link"})]})})]}),(0,s.jsx)("div",{className:Or,children:(0,s.jsxs)(a.N_,{to:"/login",className:Ur,children:[(0,s.jsx)(Ne.A,{size:16}),(0,s.jsx)("span",{children:"Back to Sign In"})]})})]}),(0,s.jsxs)("div",{className:Yr,children:[(0,s.jsx)("div",{className:Gr}),(0,s.jsx)("div",{className:Vr}),(0,s.jsx)("div",{className:Jr})]})]})};var Xr=t(2489);const Zr=()=>{const[e,n]=(0,i.useState)(""),[t,r]=(0,i.useState)(""),[o,l]=(0,i.useState)(""),[c,d]=(0,i.useState)(""),[p,m]=(0,i.useState)(!1),[x,u]=(0,i.useState)(!1),[g,h]=(0,i.useState)(!1),f=(0,a.Zp)();return(0,s.jsxs)("div",{className:"container",children:[(0,s.jsxs)("div",{className:"backgroundElements",children:[(0,s.jsx)("div",{className:"circle1"}),(0,s.jsx)("div",{className:"circle2"}),(0,s.jsx)("div",{className:"circle3"})]}),(0,s.jsxs)("div",{className:"forgotPasswordCard",children:[(0,s.jsxs)("div",{className:"header",children:[(0,s.jsx)("div",{className:"logo",children:(0,s.jsx)(Xr.A,{className:"logoIcon",size:32})}),(0,s.jsx)("h1",{className:"title",children:"Reset Your Password"}),(0,s.jsx)("p",{className:"subtitle",children:"Enter your new password below. Make sure it's strong and secure."})]}),o&&(0,s.jsxs)("div",{className:"successContainer",children:[(0,s.jsx)(ae.A,{className:"successIcon",size:20}),(0,s.jsx)("p",{className:"successMessage",children:o})]}),c&&(0,s.jsxs)("div",{className:"errorContainer",children:[(0,s.jsx)(ne.A,{className:"errorIcon",size:20}),(0,s.jsx)("p",{className:"errorMessage",children:c})]}),(0,s.jsxs)("div",{className:"form",children:[(0,s.jsxs)("div",{className:"inputGroup",children:[(0,s.jsx)("label",{className:"label",htmlFor:"password",children:"New Password"}),(0,s.jsxs)("div",{className:"inputWrapper",children:[(0,s.jsx)(bt.A,{className:"inputIcon",size:20}),(0,s.jsx)("input",{id:"password",className:"input",type:x?"text":"password",placeholder:"Enter your new password",value:e,onChange:e=>n(e.target.value),required:!0,minLength:6}),(0,s.jsx)("button",{type:"button",onClick:()=>u(!x),style:{position:"absolute",right:"1rem",background:"none",border:"none",cursor:"pointer",color:"var(--color-text-muted)",padding:"0.25rem",display:"flex",alignItems:"center",justifyContent:"center"},children:x?(0,s.jsx)(jt.A,{size:20}):(0,s.jsx)(vt.A,{size:20})})]})]}),(0,s.jsxs)("div",{className:"inputGroup",children:[(0,s.jsx)("label",{className:"label",htmlFor:"confirmPassword",children:"Confirm New Password"}),(0,s.jsxs)("div",{className:"inputWrapper",children:[(0,s.jsx)(bt.A,{className:"inputIcon",size:20}),(0,s.jsx)("input",{id:"confirmPassword",className:"input",type:g?"text":"password",placeholder:"Confirm your new password",value:t,onChange:e=>r(e.target.value),required:!0,minLength:6}),(0,s.jsx)("button",{type:"button",onClick:()=>h(!g),style:{position:"absolute",right:"1rem",background:"none",border:"none",cursor:"pointer",color:"var(--color-text-muted)",padding:"0.25rem",display:"flex",alignItems:"center",justifyContent:"center"},children:g?(0,s.jsx)(jt.A,{size:20}):(0,s.jsx)(vt.A,{size:20})})]})]}),(0,s.jsx)("button",{onClick:async()=>{if(d(""),l(""),e!==t)return d("Passwords don't match");if(e.length<6)return d("Password must be at least 6 characters");m(!0);try{await new Promise(e=>setTimeout(e,2e3)),l("Password reset successful. Redirecting to login..."),setTimeout(()=>{f("/login"),console.log("Redirecting to login...")},2500)}catch(n){d(n.message||"An error occurred")}finally{m(!1)}},className:"submitButton",disabled:p||!e||!t,children:p?(0,s.jsxs)("div",{className:"loadingContainer",children:[(0,s.jsx)("div",{className:"spinner"}),(0,s.jsx)("span",{children:"Resetting Password..."})]}):(0,s.jsxs)("div",{className:"buttonContent",children:[(0,s.jsx)(Xr.A,{size:20}),(0,s.jsx)("span",{children:"Reset Password"})]})})]}),(0,s.jsx)("div",{className:"footer",children:(0,s.jsxs)("button",{onClick:()=>{f("/login")},className:"backLink",style:{background:"none",border:"none",cursor:"pointer"},children:[(0,s.jsx)(Ne.A,{size:16}),(0,s.jsx)("span",{children:"Back to Login"})]})})]}),(0,s.jsx)("style",{jsx:!0,children:"\n        /* CSS Variables for theming */\n        :root {\n          --color-primary: #0a451c;\n          --color-primary-dark: #062a11;\n          --color-secondary: #facf3c;\n          --color-secondary-light: #fde047;\n          --color-surface: #ffffff;\n          --color-text: #1f2937;\n          --color-text-secondary: #6b7280;\n          --color-text-muted: #9ca3af;\n          --color-border: #e5e7eb;\n          --color-border-hover: #d1d5db;\n          --color-success: #10b981;\n          --color-error: #ef4444;\n          --color-white: #ffffff;\n          --color-black: #000000;\n        }\n\n        .container {\n          min-height: 100vh;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          padding: 1rem;\n          background: linear-gradient(135deg, var(--color-primary) 0%, var(--color-primary-dark) 100%);\n          position: relative;\n          overflow: hidden;\n        }\n\n        .forgotPasswordCard {\n          background: var(--color-surface);\n          padding: 3rem 2.5rem;\n          border-radius: 1.5rem;\n          box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);\n          backdrop-filter: blur(10px);\n          border: 1px solid var(--color-border);\n          width: 100%;\n          max-width: 420px;\n          position: relative;\n          z-index: 10;\n          animation: slideUp 0.6s ease-out;\n        }\n\n        @keyframes slideUp {\n          from {\n            opacity: 0;\n            transform: translateY(30px);\n          }\n          to {\n            opacity: 1;\n            transform: translateY(0);\n          }\n        }\n\n        .header {\n          text-align: center;\n          margin-bottom: 2rem;\n        }\n\n        .logo {\n          display: inline-flex;\n          align-items: center;\n          justify-content: center;\n          width: 4rem;\n          height: 4rem;\n          background: linear-gradient(135deg, var(--color-secondary) 0%, var(--color-secondary-light) 100%);\n          border-radius: 1rem;\n          margin-bottom: 1.5rem;\n          box-shadow: 0 10px 30px rgba(250, 207, 60, 0.3);\n        }\n\n        .logoIcon {\n          color: var(--color-black);\n        }\n\n        .title {\n          font-size: 1.875rem;\n          font-weight: 700;\n          color: var(--color-text);\n          margin: 0 0 0.5rem 0;\n          line-height: 1.2;\n        }\n\n        .subtitle {\n          color: var(--color-text-secondary);\n          margin: 0;\n          font-size: 0.95rem;\n          line-height: 1.5;\n          max-width: 350px;\n          margin-left: auto;\n          margin-right: auto;\n        }\n\n        .successContainer {\n          display: flex;\n          align-items: center;\n          gap: 0.75rem;\n          background: linear-gradient(135deg, rgba(16, 185, 129, 0.1) 0%, rgba(16, 185, 129, 0.05) 100%);\n          border: 1px solid rgba(16, 185, 129, 0.2);\n          border-radius: 0.75rem;\n          padding: 1rem;\n          margin-bottom: 1.5rem;\n          animation: slideIn 0.5s ease-out;\n        }\n\n        @keyframes slideIn {\n          from {\n            opacity: 0;\n            transform: translateX(-10px);\n          }\n          to {\n            opacity: 1;\n            transform: translateX(0);\n          }\n        }\n\n        .successIcon {\n          color: var(--color-success);\n          flex-shrink: 0;\n        }\n\n        .successMessage {\n          color: var(--color-success);\n          margin: 0;\n          font-size: 0.875rem;\n          font-weight: 500;\n        }\n\n        .errorContainer {\n          display: flex;\n          align-items: center;\n          gap: 0.75rem;\n          background: linear-gradient(135deg, rgba(239, 68, 68, 0.1) 0%, rgba(239, 68, 68, 0.05) 100%);\n          border: 1px solid rgba(239, 68, 68, 0.2);\n          border-radius: 0.75rem;\n          padding: 1rem;\n          margin-bottom: 1.5rem;\n          animation: shake 0.5s ease-in-out;\n        }\n\n        @keyframes shake {\n          0%, 100% { transform: translateX(0); }\n          25% { transform: translateX(-5px); }\n          75% { transform: translateX(5px); }\n        }\n\n        .errorIcon {\n          color: var(--color-error);\n          flex-shrink: 0;\n        }\n\n        .errorMessage {\n          color: var(--color-error);\n          margin: 0;\n          font-size: 0.875rem;\n          font-weight: 500;\n        }\n\n        .form {\n          display: flex;\n          flex-direction: column;\n          gap: 1.5rem;\n        }\n\n        .inputGroup {\n          display: flex;\n          flex-direction: column;\n          gap: 0.5rem;\n        }\n\n        .label {\n          font-weight: 600;\n          color: var(--color-text);\n          font-size: 0.875rem;\n          margin: 0;\n        }\n\n        .inputWrapper {\n          position: relative;\n          display: flex;\n          align-items: center;\n        }\n\n        .inputIcon {\n          position: absolute;\n          left: 1rem;\n          color: var(--color-text-muted);\n          z-index: 2;\n          pointer-events: none;\n        }\n\n        .input {\n          width: 100%;\n          padding: 1rem 3rem 1rem 3rem;\n          border: 2px solid var(--color-border);\n          border-radius: 0.75rem;\n          font-size: 1rem;\n          color: var(--color-text);\n          background: var(--color-surface);\n          transition: all 0.3s ease;\n          outline: none;\n          box-sizing: border-box;\n        }\n\n        .input:focus {\n          border-color: var(--color-secondary);\n          box-shadow: 0 0 0 3px rgba(250, 207, 60, 0.1);\n          transform: translateY(-1px);\n        }\n\n        .input:hover {\n          border-color: var(--color-border-hover);\n        }\n\n        .input::placeholder {\n          color: var(--color-text-muted);\n        }\n\n        .submitButton {\n          width: 100%;\n          padding: 1rem 1.5rem;\n          background: linear-gradient(135deg, var(--color-secondary) 0%, var(--color-secondary-light) 100%);\n          color: var(--color-black);\n          border: none;\n          border-radius: 0.75rem;\n          font-size: 1rem;\n          font-weight: 600;\n          cursor: pointer;\n          transition: all 0.3s ease;\n          box-shadow: 0 4px 15px rgba(250, 207, 60, 0.3);\n          margin-top: 0.5rem;\n          position: relative;\n          overflow: hidden;\n        }\n\n        .submitButton:hover:not(:disabled) {\n          transform: translateY(-2px);\n          box-shadow: 0 8px 25px rgba(250, 207, 60, 0.4);\n        }\n\n        .submitButton:active:not(:disabled) {\n          transform: translateY(0);\n        }\n\n        .submitButton:disabled {\n          opacity: 0.6;\n          cursor: not-allowed;\n          transform: none;\n          box-shadow: 0 4px 15px rgba(250, 207, 60, 0.2);\n        }\n\n        .buttonContent {\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          gap: 0.5rem;\n        }\n\n        .loadingContainer {\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          gap: 0.75rem;\n        }\n\n        .spinner {\n          width: 1.25rem;\n          height: 1.25rem;\n          border: 2px solid rgba(0, 0, 0, 0.3);\n          border-top: 2px solid var(--color-black);\n          border-radius: 50%;\n          animation: spin 1s linear infinite;\n        }\n\n        @keyframes spin {\n          0% { transform: rotate(0deg); }\n          100% { transform: rotate(360deg); }\n        }\n\n        .footer {\n          text-align: center;\n          margin-top: 2rem;\n          padding-top: 2rem;\n          border-top: 1px solid var(--color-border);\n        }\n\n        .backLink {\n          display: inline-flex;\n          align-items: center;\n          gap: 0.5rem;\n          color: var(--color-primary);\n          text-decoration: none;\n          font-weight: 500;\n          font-size: 0.875rem;\n          transition: all 0.2s ease;\n          padding: 0.5rem 1rem;\n          border-radius: 0.5rem;\n          background: none;\n          border: none;\n          cursor: pointer;\n        }\n\n        .backLink:hover {\n          color: var(--color-primary-dark);\n          background: rgba(10, 69, 28, 0.05);\n          transform: translateX(-3px);\n        }\n\n        .passwordStrength {\n          margin-top: 0.5rem;\n          font-size: 0.75rem;\n          color: var(--color-text-muted);\n        }\n\n        .strengthIndicator {\n          display: flex;\n          gap: 0.25rem;\n          margin-top: 0.25rem;\n        }\n\n        .strengthBar {\n          height: 0.25rem;\n          flex: 1;\n          border-radius: 0.125rem;\n          background: var(--color-border);\n          transition: all 0.3s ease;\n        }\n\n        .strengthBar.weak {\n          background: var(--color-error);\n        }\n\n        .strengthBar.medium {\n          background: #f59e0b;\n        }\n\n        .strengthBar.strong {\n          background: var(--color-success);\n        }\n\n        /* Background decorative elements */\n        .backgroundElements {\n          position: absolute;\n          top: 0;\n          left: 0;\n          right: 0;\n          bottom: 0;\n          overflow: hidden;\n          pointer-events: none;\n        }\n\n        .circle1,\n        .circle2,\n        .circle3 {\n          position: absolute;\n          border-radius: 50%;\n          background: linear-gradient(135deg, rgba(156, 207, 159, 0.1) 0%, rgba(156, 207, 159, 0.05) 100%);\n          animation: float 6s ease-in-out infinite;\n        }\n\n        .circle1 {\n          width: 180px;\n          height: 180px;\n          top: 15%;\n          right: -5%;\n          animation-delay: 0s;\n        }\n\n        .circle2 {\n          width: 120px;\n          height: 120px;\n          bottom: 20%;\n          left: -10%;\n          animation-delay: 2s;\n        }\n\n        .circle3 {\n          width: 90px;\n          height: 90px;\n          top: 50%;\n          left: 10%;\n          animation-delay: 4s;\n        }\n\n        @keyframes float {\n          0%, 100% {\n            transform: translateY(0) rotate(0deg);\n          }\n          33% {\n            transform: translateY(-15px) rotate(120deg);\n          }\n          66% {\n            transform: translateY(8px) rotate(240deg);\n          }\n        }\n\n        /* Responsive design */\n        @media (max-width: 480px) {\n          .container {\n            padding: 0.75rem;\n          }\n          \n          .forgotPasswordCard {\n            padding: 2rem 1.5rem;\n            border-radius: 1rem;\n          }\n          \n          .title {\n            font-size: 1.5rem;\n          }\n          \n          .subtitle {\n            font-size: 0.875rem;\n          }\n          \n          .input {\n            padding: 0.875rem 2.75rem 0.875rem 2.75rem;\n          }\n          \n          .inputIcon {\n            left: 0.875rem;\n          }\n          \n          .circle1,\n          .circle2,\n          .circle3 {\n            opacity: 0.3;\n          }\n        }\n      "})]})};var $r=t(2632),Qr=t(3665);const eo="http://localhost:5000",no=()=>{const{token:e}=(0,a.g)(),n=(0,a.Zp)(),[t,r]=(0,i.useState)(""),[o,l]=(0,i.useState)(""),[c,d]=(0,i.useState)(!1),[p,m]=(0,i.useState)(!1),[x,u]=(0,i.useState)(!1),[g,h]=(0,i.useState)(""),[f,b]=(0,i.useState)(!1),[y,j]=(0,i.useState)(null),[v,w]=(0,i.useState)(null);(0,i.useEffect)(()=>{e?(async()=>{try{console.log("\ud83d\udd0d Validating token:",e);const n=await fetch("".concat(eo,"/api/auth/validate-token/").concat(e),{method:"GET"});console.log("\ud83d\udce1 Token validation response:",n.status);const t=await n.json();console.log("\ud83d\udce6 Token validation data:",t),n.ok?(j(!0),w(t.user),console.log("\u2705 Token is valid, user info:",t.user)):(j(!1),h(t.message||"Invalid or expired activation link"),console.log("\u274c Token validation failed:",t.message))}catch(n){console.error("\u274c Token validation error:",n),j(!1),h("Unable to validate activation link")}})():(console.log("\u274c No token provided in URL"),j(!1),h("No activation token provided"))},[e]);const A=0===t.length?{strength:0,text:"",color:""}:t.length<6?{strength:25,text:"Weak",color:"error.main"}:t.length<8?{strength:50,text:"Fair",color:"warning.main"}:t.length>=8&&/[A-Z]/.test(t)&&/[0-9]/.test(t)?{strength:100,text:"Strong",color:"success.main"}:{strength:75,text:"Good",color:"info.main"};return null===y?(0,s.jsx)(Fn.A,{maxWidth:"sm",sx:{mt:8},children:(0,s.jsx)(Rn.A,{elevation:3,sx:{p:4,textAlign:"center"},children:(0,s.jsx)(_.A,{variant:"h6",children:"Validating activation link..."})})}):!1===y?(0,s.jsx)(Fn.A,{maxWidth:"sm",sx:{mt:8},children:(0,s.jsxs)(Rn.A,{elevation:3,sx:{p:4,textAlign:"center"},children:[(0,s.jsx)(I.A,{severity:"error",sx:{mb:3},children:g||"Invalid or expired activation link"}),(0,s.jsx)(_.A,{variant:"h6",gutterBottom:!0,children:"Activation Link Invalid"}),(0,s.jsx)(_.A,{variant:"body1",color:"textSecondary",sx:{mb:3},children:"This activation link is either invalid or has expired. Please contact your administrator for a new invitation."}),(0,s.jsx)(E.A,{variant:"contained",onClick:()=>n("/login"),children:"Back to Login"})]})}):f?(0,s.jsx)(Fn.A,{maxWidth:"sm",sx:{mt:8},children:(0,s.jsxs)(Rn.A,{elevation:3,sx:{p:4,textAlign:"center"},children:[(0,s.jsx)(Kn.A,{color:"success",sx:{fontSize:60,mb:2}}),(0,s.jsx)(_.A,{variant:"h5",gutterBottom:!0,color:"success.main",children:"Account Activated Successfully!"}),(0,s.jsx)(_.A,{variant:"body1",color:"textSecondary",sx:{mb:3},children:"Your account has been activated. Redirecting to login..."})]})}):(0,s.jsx)(Fn.A,{maxWidth:"sm",sx:{mt:8},children:(0,s.jsx)(Yn.A,{elevation:3,children:(0,s.jsxs)(Gn.A,{sx:{p:4},children:[(0,s.jsxs)(N.A,{sx:{textAlign:"center",mb:4},children:[(0,s.jsx)(T.A,{sx:{fontSize:60,color:"primary.main",mb:2}}),(0,s.jsx)(_.A,{variant:"h4",gutterBottom:!0,children:"Activate Your Account"}),v&&(0,s.jsxs)(I.A,{severity:"info",sx:{mt:2,mb:2},children:["Welcome ",(0,s.jsx)("strong",{children:v.name}),"! You're joining as ",(0,s.jsx)("strong",{children:v.role}),"."]}),(0,s.jsx)(_.A,{variant:"body1",color:"textSecondary",children:"Welcome to ACEF! Please set your password to complete your account activation."})]}),g&&(0,s.jsx)(I.A,{severity:"error",sx:{mb:3},children:g}),(0,s.jsxs)("form",{onSubmit:async a=>{if(a.preventDefault(),t&&o)if(t.length<6)h("Password must be at least 6 characters long");else if(t===o){u(!0),h("");try{console.log("\ud83d\udd10 Activating account with token:",e);const a=await fetch("".concat(eo,"/api/auth/activate/").concat(e),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({password:t})});console.log("\ud83d\udce1 Activation response:",a.status);const r=await a.json();console.log("\ud83d\udce6 Activation data:",r),a.ok?(b(!0),console.log("\u2705 Account activated successfully"),setTimeout(()=>{n("/login",{state:{message:"Account activated successfully! Please log in."}})},2e3)):(console.log("\u274c Activation failed:",r.message),h(r.message||"Account activation failed"))}catch(r){console.error("\u274c Activation network error:",r),h("Network error. Please try again.")}finally{u(!1)}}else h("Passwords do not match");else h("Please fill in all fields")},children:[(0,s.jsxs)(N.A,{sx:{mb:3},children:[(0,s.jsx)(Bn.A,{fullWidth:!0,label:"New Password",type:c?"text":"password",value:t,onChange:e=>r(e.target.value),required:!0,InputProps:{endAdornment:(0,s.jsx)(Dn.A,{position:"end",children:(0,s.jsx)(de.A,{onClick:()=>d(!c),edge:"end",children:c?(0,s.jsx)($r.A,{}):(0,s.jsx)(Qr.A,{})})})},sx:{mb:1}}),t&&(0,s.jsx)(N.A,{sx:{mt:1},children:(0,s.jsxs)(N.A,{sx:{display:"flex",alignItems:"center",mb:1},children:[(0,s.jsx)(N.A,{sx:{height:4,flex:1,bgcolor:"grey.200",borderRadius:2,mr:1,overflow:"hidden"},children:(0,s.jsx)(N.A,{sx:{height:"100%",width:"".concat(A.strength,"%"),bgcolor:A.color,transition:"all 0.3s ease"}})}),(0,s.jsx)(_.A,{variant:"caption",sx:{color:A.color},children:A.text})]})})]}),(0,s.jsx)(Bn.A,{fullWidth:!0,label:"Confirm Password",type:p?"text":"password",value:o,onChange:e=>l(e.target.value),required:!0,error:o&&t!==o,helperText:o&&t!==o?"Passwords do not match":"",InputProps:{endAdornment:(0,s.jsx)(Dn.A,{position:"end",children:(0,s.jsx)(de.A,{onClick:()=>m(!p),edge:"end",children:p?(0,s.jsx)($r.A,{}):(0,s.jsx)(Qr.A,{})})})},sx:{mb:3}}),(0,s.jsx)(E.A,{type:"submit",fullWidth:!0,variant:"contained",size:"large",disabled:x||!t||!o||t!==o,sx:{mb:2,py:1.5},children:x?"Activating Account...":"Activate Account"})]}),(0,s.jsx)(N.A,{sx:{textAlign:"center",mt:3,pt:2,borderTop:1,borderColor:"divider"},children:(0,s.jsxs)(_.A,{variant:"body2",color:"textSecondary",children:["Already have an account?"," ",(0,s.jsx)(E.A,{variant:"text",onClick:()=>n("/login"),sx:{textTransform:"none"},children:"Sign In"})]})})]})})})},to=()=>{const[e,n]=(0,i.useState)([]),[t,a]=(0,i.useState)([]),[r,o]=(0,i.useState)([]),[l,c]=(0,i.useState)(6),[d,p]=(0,i.useState)(!0),[m,x]=(0,i.useState)(""),[u,g]=(0,i.useState)(null),[h,f]=(0,i.useState)(!1),[b,j]=(0,i.useState)("All"),{colors:v,isDarkMode:w}=y();(0,i.useEffect)(()=>{(async()=>{try{p(!0);const e=await cn.A.get("".concat(Ge,"/team"),{withCredentials:!0}),t=Array.isArray(e.data)?e.data:e.data.members||e.data.data||[],r=(await cn.A.get("".concat(Ge,"/team/departments"),{withCredentials:!0})).data.data||[],i={};r.forEach((e,n)=>{i[e.name]=void 0!==e.order_index?e.order_index:n});const s=[...t].sort((e,n)=>(void 0!==i[e.department]?i[e.department]:999)-(void 0!==i[n.department]?i[n.department]:999));n(s),o(s),a(["All",...r.map(e=>e.name)]),x("")}catch(e){console.error("Failed to load team data:",e),x("Failed to load team members"),n([]),o([]),a(["All"])}finally{p(!1)}})()},[]),(0,i.useEffect)(()=>{o("All"===b?e:e.filter(e=>e.department===b)),c(6)},[b,e]);const A=e=>{g(e),f(!0)},k=()=>{f(!1),g(null)},S=e=>{e&&window.open(e.startsWith("http")?e:"https://".concat(e),"_blank")};return d?(0,s.jsxs)("section",{style:{minHeight:"100vh",background:"linear-gradient(135deg, #f8fffe 0%, #f0f9f5 100%)",display:"flex",alignItems:"center",justifyContent:"center",fontFamily:'"Nunito Sans", sans-serif'},children:[(0,s.jsxs)(pe.P.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"20px"},children:[(0,s.jsx)("div",{style:{width:"60px",height:"60px",border:"3px solid #e5f4e8",borderTop:"3px solid #2d5a3d",borderRadius:"50%",animation:"spin 1s linear infinite"}}),(0,s.jsx)("p",{style:{fontSize:"1.1rem",color:"#2d5a3d",fontWeight:500},children:"Loading team members..."})]}),(0,s.jsx)("style",{jsx:!0,children:"\n          @keyframes spin {\n            0% { transform: rotate(0deg); }\n            100% { transform: rotate(360deg); }\n          }\n        "})]}):m?(0,s.jsx)("section",{style:{minHeight:"100vh",background:"linear-gradient(135deg, #f8fffe 0%, #f0f9f5 100%)",display:"flex",alignItems:"center",justifyContent:"center",fontFamily:'"Nunito Sans", sans-serif'},children:(0,s.jsx)("div",{style:{textAlign:"center",color:"#2d5a3d",fontSize:"1.1rem"},children:m})}):0===e.length?(0,s.jsx)("section",{style:{minHeight:"100vh",background:"linear-gradient(135deg, #f8fffe 0%, #f0f9f5 100%)",display:"flex",alignItems:"center",justifyContent:"center",textAlign:"center",fontFamily:'"Nunito Sans", sans-serif'},children:(0,s.jsxs)("div",{style:{color:"#2d5a3d"},children:[(0,s.jsx)("h3",{style:{fontSize:"1.5rem",fontWeight:700,margin:"0 0 12px 0"},children:"No team members found"}),(0,s.jsx)("p",{style:{fontSize:"1rem",opacity:.7,margin:0},children:"Team members will appear here once they are added."})]})}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("section",{style:{background:"linear-gradient(135deg, #f8fffe 0%, #f0f9f5 100%)",minHeight:"100vh",fontFamily:'"Nunito Sans", sans-serif',position:"relative"},children:(0,s.jsxs)("div",{style:{position:"relative",padding:"80px 24px",maxWidth:"1400px",margin:"0 auto"},children:[(0,s.jsxs)(pe.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,ease:[.4,0,.2,1]},style:{textAlign:"center",marginBottom:"60px"},children:[(0,s.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"12px",marginBottom:"20px"},children:[(0,s.jsx)(Cn.A,{size:32,style:{color:"#2d5a3d"}}),(0,s.jsx)("h1",{style:{fontSize:"clamp(2.5rem, 5vw, 3.5rem)",fontWeight:700,color:"#2d5a3d",margin:0,letterSpacing:"-0.02em"},children:"Our Team"})]}),(0,s.jsx)("p",{style:{fontSize:"1.2rem",color:"#5a7a65",maxWidth:"540px",margin:"0 auto",lineHeight:"1.6",fontWeight:400},children:"Meet the passionate individuals driving positive environmental change across Africa"})]}),(0,s.jsx)(pe.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.1},style:{display:"flex",flexWrap:"wrap",gap:"8px",justifyContent:"center",marginBottom:"50px",padding:"0 20px"},children:t.map(n=>(0,s.jsxs)(pe.P.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>{j(n)},style:{padding:"10px 20px",borderRadius:"12px",border:"none",background:b===n?"#2d5a3d":"rgba(255,255,255,0.7)",color:b===n?"white":"#2d5a3d",fontSize:"0.9rem",fontWeight:600,cursor:"pointer",transition:"all 0.2s ease",fontFamily:'"Nunito Sans", sans-serif',backdropFilter:"blur(10px)",boxShadow:b===n?"0 4px 20px rgba(45,90,61,0.25)":"0 2px 10px rgba(45,90,61,0.1)",border:b===n?"none":"1px solid rgba(45,90,61,0.15)"},children:[n,"All"!==n&&(0,s.jsxs)("span",{style:{marginLeft:"6px",opacity:.7,fontSize:"0.85rem"},children:["(",e.filter(e=>e.department===n).length,")"]})]},n))}),(0,s.jsx)(pe.P.div,{layout:!0,style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(320px, 1fr))",gap:"24px",marginBottom:"50px"},children:(0,s.jsx)(me.N,{mode:"popLayout",children:r.slice(0,l).map((e,n)=>(0,s.jsx)(pe.P.div,{layout:!0,initial:{opacity:0,y:30},animate:{opacity:1,y:0},exit:{opacity:0,scale:.95},transition:{duration:.4,delay:.05*n,ease:[.4,0,.2,1]},whileHover:{y:-4,transition:{duration:.2}},style:{background:"rgba(255,255,255,0.8)",backdropFilter:"blur(20px)",borderRadius:"16px",padding:"24px",border:"1px solid rgba(255,255,255,0.3)",boxShadow:"0 8px 32px rgba(45,90,61,0.08)",cursor:"pointer",transition:"all 0.2s ease",position:"relative",overflow:"hidden"},onClick:()=>A(e),children:(0,s.jsxs)("div",{style:{textAlign:"center"},children:[(0,s.jsx)("div",{style:{marginBottom:"20px",display:"flex",justifyContent:"center"},children:(0,s.jsx)("div",{style:{position:"relative",borderRadius:"16px",overflow:"hidden",background:"linear-gradient(145deg, rgba(45,90,61,0.05), transparent)",padding:"3px"},children:(0,s.jsx)("img",{src:e.image_url?"".concat(Ve).concat(e.image_url):"/default-profile.png",alt:e.name,style:{width:"160px",height:"180px",objectFit:"cover",borderRadius:"13px",filter:"brightness(1.02) contrast(1.05)",transition:"all 0.3s ease"},onError:e=>{e.target.src="/default-profile.png"}})})}),(0,s.jsx)("h3",{style:{fontSize:"1.25rem",fontWeight:700,color:"#2d5a3d",margin:"0 0 8px 0",lineHeight:"1.3"},children:e.name}),(0,s.jsx)("p",{style:{fontSize:"1rem",color:"#5a7a65",margin:"0 0 12px 0",fontWeight:500,lineHeight:"1.4"},children:e.position}),e.country&&(0,s.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"6px",background:"rgba(45,90,61,0.05)",color:"#5a7a65",padding:"6px 12px",borderRadius:"8px",fontSize:"0.85rem",fontWeight:500,marginBottom:"16px"},children:[(0,s.jsx)(ye.A,{size:14}),e.country]}),(0,s.jsxs)("div",{style:{display:"flex",gap:"8px",justifyContent:"center",alignItems:"center"},children:[(0,s.jsx)("button",{onClick:n=>{n.stopPropagation(),A(e)},style:{background:"#2d5a3d",color:"white",border:"none",padding:"10px 18px",borderRadius:"10px",fontSize:"0.9rem",fontWeight:600,cursor:"pointer",transition:"all 0.2s ease",fontFamily:'"Nunito Sans", sans-serif'},onMouseEnter:e=>{e.target.style.backgroundColor="#1e3d29"},onMouseLeave:e=>{e.target.style.backgroundColor="#2d5a3d"},children:"Read Bio"}),(e.linkedin_url||e.website_url)&&(0,s.jsx)("button",{onClick:n=>{n.stopPropagation(),S(e.linkedin_url||e.website_url)},style:{background:"transparent",color:"#2d5a3d",border:"1px solid rgba(45,90,61,0.3)",padding:"10px",borderRadius:"10px",cursor:"pointer",transition:"all 0.2s ease",display:"flex",alignItems:"center",justifyContent:"center",width:"38px",height:"38px"},onMouseEnter:e=>{e.target.style.backgroundColor="#2d5a3d",e.target.style.color="white"},onMouseLeave:e=>{e.target.style.backgroundColor="transparent",e.target.style.color="#2d5a3d"},title:e.linkedin_url?"LinkedIn Profile":"Website",children:(0,s.jsx)(je.A,{size:16})})]})]})},e.id))})}),l<r.length&&(0,s.jsx)(pe.P.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.4},style:{display:"flex",justifyContent:"center"},children:(0,s.jsxs)("button",{onClick:()=>c(e=>e+6),style:{background:"rgba(255,255,255,0.9)",color:"#2d5a3d",border:"1px solid rgba(45,90,61,0.2)",padding:"12px 24px",borderRadius:"12px",fontSize:"0.95rem",fontWeight:600,cursor:"pointer",transition:"all 0.2s ease",fontFamily:'"Nunito Sans", sans-serif',boxShadow:"0 4px 16px rgba(45,90,61,0.1)",backdropFilter:"blur(10px)"},onMouseEnter:e=>{e.target.style.backgroundColor="#2d5a3d",e.target.style.color="white",e.target.style.transform="translateY(-1px)"},onMouseLeave:e=>{e.target.style.backgroundColor="rgba(255,255,255,0.9)",e.target.style.color="#2d5a3d",e.target.style.transform="translateY(0)"},children:["Show More Team Members (",r.length-l," remaining)"]})})]})}),(0,s.jsx)(me.N,{children:h&&u&&(0,s.jsx)(pe.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},style:{position:"fixed",inset:0,background:"rgba(45,90,61,0.4)",backdropFilter:"blur(8px)",zIndex:2e3,display:"flex",alignItems:"center",justifyContent:"center",padding:"20px"},onClick:k,children:(0,s.jsxs)(pe.P.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:10},transition:{duration:.3,ease:[.4,0,.2,1]},style:{background:"rgba(255,255,255,0.98)",backdropFilter:"blur(20px)",borderRadius:"20px",maxWidth:"700px",width:"100%",maxHeight:"80vh",overflow:"auto",position:"relative",border:"1px solid rgba(255,255,255,0.3)",boxShadow:"0 20px 60px rgba(45,90,61,0.15)"},onClick:e=>e.stopPropagation(),children:[(0,s.jsx)("button",{onClick:k,style:{position:"absolute",top:"16px",right:"16px",background:"rgba(45,90,61,0.1)",border:"none",color:"#2d5a3d",cursor:"pointer",padding:"8px",borderRadius:"8px",transition:"all 0.2s ease",zIndex:10},onMouseEnter:e=>{e.target.style.backgroundColor="#2d5a3d",e.target.style.color="white"},onMouseLeave:e=>{e.target.style.backgroundColor="rgba(45,90,61,0.1)",e.target.style.color="#2d5a3d"},children:(0,s.jsx)(ie.A,{size:18})}),(0,s.jsxs)("div",{style:{padding:"30px"},children:[(0,s.jsxs)("div",{style:{display:"flex",alignItems:"flex-start",gap:"24px",marginBottom:"28px"},children:[(0,s.jsx)("div",{style:{borderRadius:"16px",overflow:"hidden",background:"linear-gradient(145deg, rgba(45,90,61,0.05), transparent)",padding:"3px",flexShrink:0},children:(0,s.jsx)("img",{src:u.image_url?"".concat(Ve).concat(u.image_url):"/default-profile.png",alt:u.name,style:{width:"130px",height:"150px",objectFit:"cover",borderRadius:"13px"},onError:e=>{e.target.src="/default-profile.png"}})}),(0,s.jsxs)("div",{style:{flex:1},children:[(0,s.jsx)("h2",{style:{fontSize:"1.8rem",fontWeight:700,color:"#2d5a3d",margin:"0 0 8px 0",lineHeight:"1.2"},children:u.name}),(0,s.jsx)("p",{style:{fontSize:"1.1rem",color:"#5a7a65",margin:"0 0 12px 0",fontWeight:500},children:u.position}),(0,s.jsx)("div",{style:{display:"inline-flex",alignItems:"center",gap:"6px",background:"rgba(45,90,61,0.08)",color:"#2d5a3d",padding:"8px 14px",borderRadius:"10px",fontSize:"0.9rem",fontWeight:600,marginBottom:"12px"},children:u.department}),u.country&&(0,s.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"6px",background:"rgba(45,90,61,0.05)",color:"#5a7a65",padding:"6px 12px",borderRadius:"8px",fontSize:"0.85rem",fontWeight:500,marginBottom:"12px",width:"fit-content"},children:[(0,s.jsx)(ye.A,{size:14}),u.country]})]})]}),u.bio&&(0,s.jsx)("div",{style:{fontSize:"1.1rem",color:"#2d5a3d",lineHeight:"1.6",marginBottom:"28px",opacity:.9,padding:"20px",background:"rgba(45,90,61,0.03)",borderRadius:"16px",border:"1px solid rgba(45,90,61,0.08)"},children:u.bio}),(0,s.jsxs)("div",{style:{display:"flex",gap:"12px",flexWrap:"wrap"},children:[u.linkedin_url&&(0,s.jsxs)("button",{onClick:()=>S(u.linkedin_url),style:{background:"#2d5a3d",color:"white",border:"none",padding:"12px 20px",borderRadius:"12px",cursor:"pointer",transition:"all 0.2s ease",display:"flex",alignItems:"center",gap:"8px",fontSize:"0.95rem",fontWeight:600,fontFamily:'"Nunito Sans", sans-serif'},onMouseEnter:e=>{e.target.style.backgroundColor="#1e3d29"},onMouseLeave:e=>{e.target.style.backgroundColor="#2d5a3d"},children:[(0,s.jsx)(qe.A,{size:18}),"Portfolio"]}),u.website_url&&(0,s.jsxs)("button",{onClick:()=>S(u.website_url),style:{background:"transparent",color:"#2d5a3d",border:"1px solid rgba(45,90,61,0.3)",padding:"12px 20px",borderRadius:"12px",cursor:"pointer",transition:"all 0.2s ease",display:"flex",alignItems:"center",gap:"8px",fontSize:"0.95rem",fontWeight:600,fontFamily:'"Nunito Sans", sans-serif'},onMouseEnter:e=>{e.target.style.backgroundColor="#2d5a3d",e.target.style.color="white"},onMouseLeave:e=>{e.target.style.backgroundColor="transparent",e.target.style.color="#2d5a3d"},children:[(0,s.jsx)(te.A,{size:18}),"Website"]})]})]})]})})}),(0,s.jsx)("style",{jsx:!0,children:"\n        @import url('https://fonts.googleapis.com/css2?family=Nunito+Sans:wght@300;400;500;600;700;800;900&display=swap');\n        \n        @media (max-width: 1024px) {\n          .team-grid {\n            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)) !important;\n            gap: 20px !important;\n          }\n        }\n        \n        @media (max-width: 768px) {\n          .filter-buttons {\n            justify-content: flex-start !important;\n            overflow-x: auto !important;\n            padding-bottom: 8px !important;\n          }\n          \n          .filter-buttons::-webkit-scrollbar {\n            height: 4px;\n          }\n          \n          .filter-buttons::-webkit-scrollbar-track {\n            background: rgba(45,90,61,0.1);\n            border-radius: 2px;\n          }\n          \n          .filter-buttons::-webkit-scrollbar-thumb {\n            background: rgba(45,90,61,0.3);\n            border-radius: 2px;\n          }\n          \n          .modal-content {\n            margin: 10px !important;\n            max-height: 85vh !important;\n          }\n          \n\n\n\n          \n          .modal-header {\n            flex-direction: column !important;\n            text-align: center !important;\n            gap: 16px !important;\n          }\n          \n          .modal-header img {\n            width: 80px !important;\n            height: 100px !important;\n          }\n          \n          .modal-body {\n            padding: 20px !important;\n          }\n        }\n        \n        @media (max-width: 480px) {\n          .team-grid {\n            grid-template-columns: 1fr !important;\n            gap: 16px !important;\n          }\n          \n          .card {\n            padding: 16px !important;\n          }\n          \n          .card img {\n            width: 100px !important;\n            height: 120px !important;\n          }\n        }\n        \n        /* Smooth scrolling for filter buttons on mobile */\n        .filter-buttons {\n          scrollbar-width: thin;\n          scrollbar-color: rgba(45,90,61,0.3) rgba(45,90,61,0.1);\n        }\n        \n        /* Enhanced focus states for accessibility */\n        button:focus-visible {\n          outline: 2px solid #2d5a3d;\n          outline-offset: 2px;\n        }\n        \n        /* Smooth scrolling for modal */\n        .modal-content {\n          scroll-behavior: smooth;\n        }\n        \n        /* Custom scrollbar for modal */\n        .modal-content::-webkit-scrollbar {\n          width: 6px;\n        }\n        \n        .modal-content::-webkit-scrollbar-track {\n          background: rgba(45,90,61,0.05);\n          border-radius: 3px;\n        }\n        \n        .modal-content::-webkit-scrollbar-thumb {\n          background: rgba(45,90,61,0.2);\n          border-radius: 3px;\n        }\n        \n        .modal-content::-webkit-scrollbar-thumb:hover {\n          background: rgba(45,90,61,0.3);\n        }\n        \n        @keyframes spin {\n          0% { transform: rotate(0deg); }\n          100% { transform: rotate(360deg); }\n        }\n      "})]})},ao=()=>{const[e,n]=(0,i.useState)([]),[t,a]=(0,i.useState)(null),[r,o]=(0,i.useState)({x:0,y:0}),{colors:l,isDarkMode:c}=y();(0,i.useEffect)(()=>{const e=setTimeout(()=>{n(e=>[...e,"vision"])},400),t=setTimeout(()=>{n(e=>[...e,"mission"])},700);return()=>{clearTimeout(e),clearTimeout(t)}},[]);const d=(e,n)=>{a(n?e:null)},p=(e,n)=>{if(t===n){const n=e.currentTarget.getBoundingClientRect(),t=(e.clientX-n.left)/n.width*100,a=(e.clientY-n.top)/n.height*100;o({x:t,y:a})}},x={borderRadius:"16px",position:"relative",transition:"all 0.7s cubic-bezier(0.16, 1, 0.3, 1)",overflow:"hidden",cursor:"pointer",height:"520px",backgroundColor:l.surface,boxShadow:"0 8px 32px ".concat(l.cardShadow)},u=(0,m.A)((0,m.A)({},x),{},{height:"480px"});return(0,s.jsxs)("div",{style:{padding:"80px 20px",minHeight:"100vh",fontFamily:'"SF Pro Display", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif',background:c?"linear-gradient(180deg, ".concat(l.background," 0%, ").concat(l.backgroundSecondary," 100%)"):"linear-gradient(180deg, ".concat(l.backgroundSecondary," 0%, ").concat(l.background," 100%)"),position:"relative"},children:[(0,s.jsxs)("div",{style:{maxWidth:"1100px",margin:"0 auto 80px auto",textAlign:"center"},children:[(0,s.jsx)(pe.P.h1,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{margin:"-50px"},transition:{duration:.6},style:{fontSize:"clamp(36px, 5vw, 56px)",fontWeight:600,color:c?l.text:l.primary,lineHeight:"1.1",marginBottom:"24px",letterSpacing:"-0.02em",fontFamily:'"Nunito Sans", sans-serif'},children:"Mission & Vision"}),(0,s.jsx)(pe.P.div,{initial:{scaleX:0},whileInView:{scaleX:1},viewport:{margin:"-50px"},transition:{duration:.8},style:{width:"60px",height:"2px",background:"linear-gradient(90deg, ".concat(l.secondary," 0%, ").concat(l.secondaryLight," 100%)"),margin:"0 auto 24px auto",borderRadius:"1px",transformOrigin:"center"}}),(0,s.jsx)(pe.P.p,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{margin:"-50px"},transition:{duration:.6,delay:.2},style:{fontSize:"16px",color:l.textSecondary,margin:"0",letterSpacing:"0.5px",fontWeight:400,opacity:.9},children:"Guided by Purpose \xb7 Driven by Impact"})]}),(0,s.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(min(400px, 100%), 1fr))",gap:"clamp(24px, 5vw, 48px)",maxWidth:"1100px",margin:"0 auto",padding:"0 clamp(16px, 4vw, 0px)"},children:[(0,s.jsxs)(pe.P.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{margin:"-50px"},transition:{duration:.6,delay:.1},style:(0,m.A)((0,m.A)({},window.innerWidth<=768?u:x),{},{boxShadow:e.includes("vision")?"vision"===t?"0 20px 40px ".concat(l.cardShadow,", 0 8px 16px ").concat(l.cardShadow):"0 12px 24px ".concat(l.cardShadow):"0 6px 16px ".concat(l.cardShadow),transform:e.includes("vision")?"vision"===t?"translateY(-8px)":"translateY(0)":"translateY(32px)"}),onMouseEnter:()=>d("vision",!0),onMouseLeave:()=>d("vision",!1),onMouseMove:e=>p(e,"vision"),children:[(0,s.jsxs)("div",{style:{position:"relative",height:window.innerWidth<=768?"240px":"280px",overflow:"hidden",borderRadius:"16px 16px 0 0"},children:[(0,s.jsx)("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,backgroundImage:'url("/yellowlady.avif")',backgroundSize:"cover",backgroundPosition:"center",transition:"all 0.8s ease",transform:"vision"===t?"scale(1.08)":"scale(1.04)",filter:c?"brightness(0.8) contrast(1.2) saturate(1.1)":"brightness(0.85) contrast(1.15) saturate(1.1)"}}),(0,s.jsx)("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,background:"\n                  linear-gradient(180deg, \n                    rgba(255, 215, 0, 0.05) 0%,\n                    rgba(255, 193, 7, 0.1) 20%,\n                    rgba(218, 165, 32, 0.25) 50%,\n                    rgba(184, 134, 11, 0.5) 75%,\n                    rgba(148, 111, 9, 0.75) 90%,\n                    ".concat(l.secondary," 100%\n                  )\n                "),transition:"opacity 0.6s ease",opacity:"vision"===t?.9:1}}),(0,s.jsx)("div",{style:{position:"absolute",top:"50%",left:"clamp(16px, 4vw, 32px)",color:l.white,fontSize:"clamp(28px, 5vw, 36px)",fontWeight:600,letterSpacing:"-0.02em",textShadow:"0 4px 20px rgba(0,0,0,0.7), 0 2px 8px rgba(0,0,0,0.5)",transition:"all 0.6s ease",opacity:"vision"===t?1:.95,transform:"vision"===t?"translateY(-50%) translateX(8px)":"translateY(-50%)"},children:"Vision"})]}),(0,s.jsxs)("div",{style:{padding:"clamp(24px, 5vw, 40px) clamp(16px, 4vw, 28px)",background:l.secondary,borderRadius:"0 0 16px 16px",position:"relative",height:"calc(100% - ".concat(window.innerWidth<=768?"240px":"280px",")"),display:"flex",alignItems:"center"},children:[(0,s.jsx)("p",{style:{fontSize:"clamp(14px, 2.5vw, 16px)",lineHeight:"1.7",color:"rgba(44, 36, 22, 0.95)",margin:"0",fontWeight:400,transition:"all 0.4s ease",opacity:"vision"===t?1:.92},children:"A resilient Africa where empowered youth lead innovative solutions for climate action, environmental protection, and sustainable development \u2014 ensuring a future free from hunger and poverty."}),(0,s.jsx)("div",{style:{position:"absolute",bottom:0,left:0,right:0,height:"24px",background:"linear-gradient(to bottom, \n                  transparent 0%, \n                  rgba(212, 175, 55, 0.3) 40%, \n                  rgba(212, 175, 55, 0.6) 70%,\n                  rgba(212, 175, 55, 0.8) 85%,\n                  rgba(212, 175, 55, 0.95) 100%\n                )",borderRadius:"0 0 16px 16px",pointerEvents:"none"}})]}),(0,s.jsx)("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,background:"vision"===t?"radial-gradient(circle at ".concat(r.x,"% ").concat(r.y,"%, rgba(255,215,0,0.08) 0%, transparent 60%)"):"transparent",transition:"opacity 0.4s ease",opacity:"vision"===t?1:0,pointerEvents:"none",borderRadius:"16px"}})]}),(0,s.jsxs)(pe.P.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{margin:"-50px"},transition:{duration:.6,delay:.3},style:(0,m.A)((0,m.A)({},window.innerWidth<=768?u:x),{},{boxShadow:e.includes("mission")?"mission"===t?"0 20px 40px ".concat(l.cardShadow,", 0 8px 16px ").concat(l.cardShadow):"0 12px 24px ".concat(l.cardShadow):"0 6px 16px ".concat(l.cardShadow),transform:e.includes("mission")?"mission"===t?"translateY(-8px)":"translateY(0)":"translateY(32px)"}),onMouseEnter:()=>d("mission",!0),onMouseLeave:()=>d("mission",!1),onMouseMove:e=>p(e,"mission"),children:[(0,s.jsxs)("div",{style:{position:"relative",height:window.innerWidth<=768?"240px":"280px",overflow:"hidden",borderRadius:"16px 16px 0 0"},children:[(0,s.jsx)("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,backgroundImage:'url("/africafruits.avif")',backgroundSize:"cover",backgroundPosition:"center 30%",transition:"all 0.8s ease",transform:"mission"===t?"scale(1.18)":"scale(1.15)",filter:c?"brightness(0.8) contrast(1.2) saturate(1.1)":"brightness(0.85) contrast(1.15) saturate(1.1)"}}),(0,s.jsx)("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,background:"\n                  linear-gradient(180deg, \n                    rgba(34, 139, 34, 0.05) 0%,\n                    rgba(56, 142, 60, 0.1) 20%,\n                    rgba(46, 125, 50, 0.25) 50%,\n                    rgba(39, 108, 42, 0.5) 75%,\n                    rgba(33, 91, 36, 0.75) 90%,\n                    ".concat(l.primary," 100%\n                  )\n                "),transition:"opacity 0.6s ease",opacity:"mission"===t?.9:1}}),(0,s.jsx)("div",{style:{position:"absolute",top:"50%",left:"clamp(16px, 4vw, 32px)",color:l.white,fontSize:"clamp(28px, 5vw, 36px)",fontWeight:600,letterSpacing:"-0.02em",textShadow:"0 4px 20px rgba(0,0,0,0.7), 0 2px 8px rgba(0,0,0,0.5)",transition:"all 0.6s ease",opacity:"mission"===t?1:.95,transform:"mission"===t?"translateY(-50%) translateX(8px)":"translateY(-50%)"},children:"Mission"})]}),(0,s.jsxs)("div",{style:{padding:"clamp(24px, 5vw, 40px) clamp(16px, 4vw, 28px)",background:l.primary,borderRadius:"0 0 16px 16px",position:"relative",height:"calc(100% - ".concat(window.innerWidth<=768?"240px":"280px",")"),display:"flex",alignItems:"center"},children:[(0,s.jsx)("p",{style:{fontSize:"clamp(14px, 2.5vw, 16px)",lineHeight:"1.7",color:"rgba(232, 245, 232, 0.95)",margin:"0",fontWeight:400,transition:"all 0.4s ease",opacity:"mission"===t?1:.92},children:"To mobilize and empower African youth to actively participate in the Climate, Environment, and Sustainable Development agenda, bridging the hunger and poverty gap, mitigating climate change, protecting the environment, and conserving natural resources in Africa."}),(0,s.jsx)("div",{style:{position:"absolute",bottom:0,left:0,right:0,height:"24px",background:"linear-gradient(to bottom, \n                  transparent 0%, \n                  rgba(10, 69, 28, 0.3) 40%, \n                  rgba(10, 69, 28, 0.6) 70%,\n                  rgba(10, 69, 28, 0.8) 85%,\n                  rgba(10, 69, 28, 0.95) 100%\n                )",borderRadius:"0 0 16px 16px",pointerEvents:"none"}})]}),(0,s.jsx)("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,background:"mission"===t?"radial-gradient(circle at ".concat(r.x,"% ").concat(r.y,"%, rgba(76,175,80,0.08) 0%, transparent 60%)"):"transparent",transition:"opacity 0.4s ease",opacity:"mission"===t?1:0,pointerEvents:"none",borderRadius:"16px"}})]})]})]})},ro=()=>{const[e,n]=(0,i.useState)(null),{colors:t,isDarkMode:a}=y(),r=[{title:"We are youth-centered.",subtitle:"Centering young people as agents of change.",backgroundColor:t.accentLight,textColor:t.primaryDark},{title:"We are innovative.",subtitle:" Fostering creative and context-specific solutions",backgroundColor:t.secondaryLight,textColor:t.primaryDark},{title:"We are collaborative.",subtitle:"Building strong partnerships with diverse stakeholders",backgroundColor:t.accent,textColor:t.primaryDark},{title:"We are impact-driven.",subtitle:"Driving measurable and sustainable positive change.",backgroundColor:t.primaryLight,textColor:t.white},{title:"We are transparent.",subtitle:"Operating with transparency, accountability, and ethical principles.",backgroundColor:t.accentDark,textColor:t.white},{title:"We are inclusive.",subtitle:"Ensuring equitable participation and benefits for all, especially marginalized groups.",backgroundColor:t.secondaryDark,textColor:t.primaryDark}],o={backgroundColor:t.background,padding:"32px 48px",fontFamily:'"Nunito Sans", "Helvetica Neue", Helvetica, Arial, sans-serif'},l={fontSize:"clamp(2rem, 4vw, 2.5rem)",fontWeight:300,marginBottom:"8px",color:t.text,lineHeight:1.2},c=(n,t)=>{const a={position:"relative",overflow:"hidden",cursor:"pointer",transition:"transform 0.3s ease",backgroundColor:t,borderRadius:"0px",transform:e===n?"scale(1.02)":"scale(1)",display:"flex",flexDirection:"column"};if(window.innerWidth<1024)return(0,m.A)((0,m.A)({},a),{},{minHeight:"180px",marginBottom:"12px"});return(0,m.A)((0,m.A)((0,m.A)({},a),{0:{gridArea:"1 / 1 / 3 / 2"},1:{gridArea:"1 / 2 / 2 / 3"},2:{gridArea:"1 / 3 / 3 / 4"},3:{gridArea:"1 / 4 / 3 / 5"},4:{gridArea:"1 / 5 / 3 / 6"},5:{gridArea:"2 / 2 / 3 / 3"}}[n]),{},{minHeight:1===n||5===n?"160px":"320px"})},d={padding:"24px 20px",height:"100%",display:"flex",flexDirection:"column",justifyContent:"space-between",position:"relative",zIndex:10},p=e=>({fontSize:"0.8rem",fontWeight:500,color:e,opacity:.8,lineHeight:1.4}),x={position:"absolute",width:"100%",pointerEvents:"none"},u={fontSize:"1rem",lineHeight:1.6,color:t.text},g={hidden:{opacity:0,y:50,scale:.9},visible:{opacity:1,y:0,scale:1,transition:{duration:.6,ease:[.4,0,.2,1]}}};return(0,s.jsx)("div",{style:o,children:(0,s.jsxs)("div",{style:{maxWidth:"1200px",margin:"0 auto",padding:"0 24px"},children:[(0,s.jsx)("div",{style:{marginBottom:"32px"},children:(0,s.jsx)(pe.P.h1,{style:l,variants:{hidden:{opacity:0,y:30},visible:{opacity:1,y:0,transition:{duration:.8,ease:[.4,0,.2,1]}}},initial:"hidden",whileInView:"visible",viewport:{once:!1,margin:"-100px"},children:"We are transformative because..."})}),(0,s.jsx)(pe.P.div,{style:window.innerWidth>=1024?{display:"grid",gridTemplateColumns:"repeat(5, 1fr)",gridTemplateRows:"repeat(2, 1fr)",gap:"12px",marginBottom:"32px",height:"360px"}:window.innerWidth>=768?{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"12px",marginBottom:"32px",gridAutoRows:"minmax(180px, auto)"}:{display:"flex",flexDirection:"column",gap:"12px",marginBottom:"32px"},variants:{hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1,delayChildren:.3}}},initial:"hidden",whileInView:"visible",viewport:{once:!1,margin:"-100px"},children:r.map((a,r)=>{return(0,s.jsxs)(pe.P.div,{style:c(r,a.backgroundColor),variants:g,whileHover:{scale:e===r?1.02:1.01,transition:{duration:.2}},onMouseEnter:()=>n(r),onMouseLeave:()=>n(null),children:[0===r&&(0,s.jsx)(pe.P.svg,{style:(0,m.A)((0,m.A)({},x),{},{bottom:0,left:0,height:"96px"}),viewBox:"0 0 200 100",preserveAspectRatio:"none",initial:{pathLength:0,opacity:0},whileInView:{pathLength:1,opacity:.3},transition:{duration:1.5,delay:.5},viewport:{once:!1},children:(0,s.jsx)(pe.P.path,{d:"M0,100 C50,20 150,80 200,40 L200,100 Z",fill:t.primary,fillOpacity:"0.3"})}),2===r&&(0,s.jsx)(pe.P.svg,{style:(0,m.A)((0,m.A)({},x),{},{top:0,right:0,height:"128px"}),viewBox:"0 0 200 100",preserveAspectRatio:"none",initial:{pathLength:0,opacity:0},whileInView:{pathLength:1,opacity:.3},transition:{duration:1.5,delay:.7},viewport:{once:!1},children:(0,s.jsx)(pe.P.path,{d:"M200,0 C150,40 50,10 0,30 L0,0 Z",fill:t.secondary,fillOpacity:"0.3"})}),3===r&&(0,s.jsx)(pe.P.svg,{style:(0,m.A)((0,m.A)({},x),{},{bottom:0,right:0,height:"112px"}),viewBox:"0 0 200 100",preserveAspectRatio:"none",initial:{pathLength:0,opacity:0},whileInView:{pathLength:1,opacity:.3},transition:{duration:1.5,delay:.9},viewport:{once:!1},children:(0,s.jsx)(pe.P.path,{d:"M200,100 C100,30 80,70 0,20 L0,100 Z",fill:t.accent,fillOpacity:"0.3"})}),4===r&&(0,s.jsx)(pe.P.svg,{style:(0,m.A)((0,m.A)({},x),{},{top:"33%",left:0,height:"80px"}),viewBox:"0 0 200 100",preserveAspectRatio:"none",initial:{pathLength:0,opacity:0},whileInView:{pathLength:1,opacity:.3},transition:{duration:1.5,delay:1.1},viewport:{once:!1},children:(0,s.jsx)(pe.P.path,{d:"M0,50 C80,10 120,90 200,30 L200,100 L0,100 Z",fill:t.primaryLight,fillOpacity:"0.3"})}),5===r&&(0,s.jsx)(pe.P.svg,{style:(0,m.A)((0,m.A)({},x),{},{top:0,left:0,height:"96px"}),viewBox:"0 0 200 100",preserveAspectRatio:"none",initial:{pathLength:0,opacity:0},whileInView:{pathLength:1,opacity:.3},transition:{duration:1.5,delay:1.3},viewport:{once:!1},children:(0,s.jsx)(pe.P.path,{d:"M0,0 C70,60 130,20 200,50 L200,0 Z",fill:t.accentDark,fillOpacity:"0.3"})}),(0,s.jsxs)("div",{style:d,children:[(0,s.jsx)(pe.P.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5,delay:.1*r+.6},viewport:{once:!1},children:(0,s.jsx)("h2",{style:(o=a.textColor,{fontSize:"clamp(1.125rem, 2.2vw, 1.375rem)",fontWeight:500,marginBottom:"6px",color:o,lineHeight:1.3}),children:a.title})}),(0,s.jsx)(pe.P.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5,delay:.1*r+.8},viewport:{once:!1},children:(0,s.jsx)("p",{style:p(a.textColor),children:a.subtitle})})]})]},r);var o})}),(0,s.jsx)("div",{style:{marginTop:"32px",maxWidth:"768px"},children:(0,s.jsx)(pe.P.p,{style:u,variants:{hidden:{opacity:0,y:30},visible:{opacity:1,y:0,transition:{duration:.6,delay:.8,ease:[.4,0,.2,1]}}},initial:"hidden",whileInView:"visible",viewport:{once:!1,margin:"-100px"},children:"Our core values guide every decision we make, every partnership we build, and every initiative we launch. They represent our commitment to creating meaningful change through youth empowerment, innovation, and collaborative action."})})]})})};var oo=t(1161),io=t(6833);function so(){const[e,n]=(0,i.useState)(0),[t,a]=(0,i.useState)(!1),[r,o]=(0,i.useState)(0),[l,c]=(0,i.useState)(null),d=(0,i.useRef)(null),{colors:p,isDarkMode:m}=y(),x=[{id:1,icon:Cn.A,title:"Economic Empowerment",description:"Promote economic empowerment and ensure meaningful participation of the community in poverty reduction",category:"Community",color:p.primary},{id:2,icon:oo.A,title:"Education & Training",description:"Provide education and training in sustainable development and climate change through collaboration",category:"Capacity",color:p.info},{id:3,icon:Nn.A,title:"Waste Management",description:"Promote effective solid waste management through proper dumping, sorting, and recycling initiatives",category:"Environment",color:p.accent},{id:4,icon:te.A,title:"Water Conservation",description:"Empower community action on water conservation, quality management, and sanitation infrastructure",category:"Resources",color:p.secondary},{id:5,icon:Ga.A,title:"Innovation & Sustainability",description:"Develop innovations to eliminate harmful processes and utilize natural resources sustainably",category:"Innovation",color:p.primary},{id:6,icon:zn.A,title:"Community Advocacy",description:"Campaign against traditions that hinder sustainable development and promote climate action",category:"Social",color:p.info},{id:7,icon:io.A,title:"Environmental Protection",description:"Safeguard environmental protection rights through advocacy and community mobilization",category:"Advocacy",color:p.accent}],u=Math.ceil(x.length/3);(0,i.useEffect)(()=>{const e=()=>n(window.scrollY);return window.addEventListener("scroll",e,{passive:!0}),()=>window.removeEventListener("scroll",e)},[]),(0,i.useEffect)(()=>{const e=new IntersectionObserver(e=>{let[n]=e;return a(n.isIntersecting)},{threshold:.3});return d.current&&e.observe(d.current),()=>e.disconnect()},[]),(0,i.useEffect)(()=>{if(!t)return;const e=setInterval(()=>{o(e=>(e+1)%u),c(null)},5e3);return()=>clearInterval(e)},[t,u]);return(0,s.jsxs)("section",{ref:d,style:{fontFamily:'"Inter", sans-serif',background:m?"linear-gradient(180deg, ".concat(p.background," 0%, ").concat(p.backgroundSecondary," 100%)"):"linear-gradient(180deg, ".concat(p.backgroundSecondary," 0%, ").concat(p.background," 100%)"),padding:"50px 20px",position:"relative",overflow:"hidden"},children:[(0,s.jsx)("div",{style:{position:"absolute",top:"50%",right:"8%",width:"1px",height:"100px",background:"linear-gradient(180deg, transparent, ".concat(p.accent,"30, transparent)"),transform:"translateY(-50%) translateY(".concat(-.02*e,"px)")}}),(0,s.jsxs)("div",{style:{maxWidth:"1000px",margin:"0 auto",position:"relative",zIndex:2},children:[(0,s.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"36px",transform:t?"translateY(0)":"translateY(20px)",opacity:t?1:0,transition:"all 0.6s ease"},children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{style:{fontSize:"1.6rem",fontWeight:"700",color:p.text,margin:"0 0 6px 0",letterSpacing:"-0.01em"},children:"Strategic Objectives"}),(0,s.jsx)("div",{style:{width:"50px",height:"3px",background:"linear-gradient(90deg, ".concat(p.primary,", ").concat(p.accent,")"),borderRadius:"2px"}})]}),(0,s.jsxs)("div",{style:{fontSize:"0.85rem",color:p.textSecondary,fontWeight:"500",fontFamily:"monospace"},children:[String(r+1).padStart(2,"0")," / ",String(u).padStart(2,"0")]})]}),(0,s.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(240px, 1fr))",gap:"20px",marginBottom:"32px",minHeight:"200px"},children:(()=>{const e=3*r;return x.slice(e,e+3)})().map((e,n)=>{const a=3*r+n,o=l===n;return(0,s.jsxs)("div",{style:{backgroundColor:m?p.surface:p.white,border:"1px solid ".concat(o?"".concat(e.color,"60"):p.border),borderRadius:"12px",padding:"22px 20px",position:"relative",cursor:"pointer",transform:t?o?"translateY(-4px)":"translateY(0)":"translateY(15px)",opacity:t?1:0,transition:"all 0.4s cubic-bezier(0.4, 0, 0.2, 1) ".concat(.05*n,"s"),boxShadow:o?"0 8px 25px ".concat(e.color,"25"):m?"0 2px 6px rgba(0,0,0,0.6)":"0 2px 8px rgba(0,0,0,0.08)",overflow:"hidden"},onMouseEnter:()=>c(n),onMouseLeave:()=>c(null),children:[(0,s.jsx)("div",{style:{position:"absolute",top:0,left:0,right:0,height:"2px",background:e.color,opacity:o?1:.4,transition:"opacity 0.3s ease"}}),(0,s.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"14px"},children:[(0,s.jsx)("div",{style:{width:"38px",height:"38px",backgroundColor:"".concat(e.color,"15"),borderRadius:"8px",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.3s ease",transform:o?"scale(1.1)":"scale(1)"},children:(0,s.jsx)(e.icon,{size:20,style:{color:e.color}})}),(0,s.jsx)("div",{style:{fontSize:"0.8rem",fontWeight:"600",color:p.textSecondary,fontFamily:"monospace"},children:String(a+1).padStart(2,"0")})]}),(0,s.jsx)("div",{style:{fontSize:"0.7rem",color:e.color,backgroundColor:"".concat(e.color,"15"),padding:"4px 10px",borderRadius:"12px",fontWeight:"600",display:"inline-block",marginBottom:"10px"},children:e.category}),(0,s.jsx)("h3",{style:{fontSize:"1rem",fontWeight:"600",color:p.text,margin:"0 0 10px 0",lineHeight:"1.35"},children:e.title}),(0,s.jsx)("p",{style:{fontSize:"0.9rem",lineHeight:"1.5",color:p.textSecondary,margin:0},children:e.description})]},e.id)})}),(0,s.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"16px"},children:[(0,s.jsx)("button",{onClick:()=>{o(e=>(e-1+u)%u),c(null)},disabled:u<=1,style:{width:"38px",height:"38px",border:"1px solid ".concat(p.border),background:m?p.surface:p.white,borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",cursor:u<=1?"not-allowed":"pointer",opacity:u<=1?.4:1},children:(0,s.jsx)(Ne.A,{size:18,style:{color:p.primary}})}),(0,s.jsx)("div",{style:{display:"flex",gap:"6px"},children:Array.from({length:u},(e,n)=>(0,s.jsx)("button",{onClick:()=>{o(n),c(null)},style:{width:n===r?"18px":"7px",height:"7px",borderRadius:"4px",border:"none",background:n===r?"linear-gradient(90deg, ".concat(p.primary,", ").concat(p.accent,")"):p.textSecondary,cursor:"pointer",transition:"all 0.3s ease"}},n))}),(0,s.jsx)("button",{onClick:()=>{o(e=>(e+1)%u),c(null)},disabled:u<=1,style:{width:"38px",height:"38px",border:"1px solid ".concat(p.border),background:m?p.surface:p.white,borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",cursor:u<=1?"not-allowed":"pointer",opacity:u<=1?.4:1},children:(0,s.jsx)(L.A,{size:18,style:{color:p.primary}})})]})]})]})}const lo=()=>{var e,n;const[t,a]=(0,i.useState)({}),[r,o]=(0,i.useState)([]),[l,c]=(0,i.useState)(null),[d,p]=(0,i.useState)(0),[m,x]=(0,i.useState)(!0),[u,g]=(0,i.useState)(""),{colors:h,isDarkMode:f}=y(),b=e=>{const n=e?e.split(" ").map(e=>e[0]).join("").substring(0,2).toUpperCase():"ACE",t='\n      <svg width="400" height="300" xmlns="http://www.w3.org/2000/svg">\n        <defs>\n          <linearGradient id="bg" x1="0%" y1="0%" x2="100%" y2="100%">\n            <stop offset="0%" style="stop-color:'.concat(h.primary,';stop-opacity:0.8" />\n            <stop offset="100%" style="stop-color:').concat(h.accent,';stop-opacity:0.8" />\n          </linearGradient>\n        </defs>\n        <rect width="100%" height="100%" fill="url(#bg)"/>\n        <text x="50%" y="50%" font-family="Arial, sans-serif" font-size="48" font-weight="bold" \n              text-anchor="middle" dominant-baseline="middle" fill="').concat(h.white,'">').concat(n,'</text>\n        <text x="50%" y="70%" font-family="Arial, sans-serif" font-size="14" \n              text-anchor="middle" dominant-baseline="middle" fill="').concat(h.white,'" opacity="0.8">\n          No Image Available\n        </text>\n      </svg>\n    ');return"data:image/svg+xml;base64,".concat(btoa(t))};(0,i.useEffect)(()=>{(async()=>{try{x(!0);const e=await fetch("".concat("http://localhost:5000/api","/highlights"));if(!e.ok)throw new Error("Failed to fetch highlights");const n=(await e.json()).data||{};a(n);const t=Object.keys(n).map(Number).sort((e,n)=>n-e);o(t),t.length>0&&(c(t[0]),p(0)),g("")}catch(e){console.error("Error fetching highlights:",e),g("Failed to load highlights")}finally{x(!1)}})()},[]);const j=e=>{const n=t[l]||[];let a=d+e;if(a<0){const e=r.indexOf(l)-1;if(e>=0){const n=r[e];c(n),p((t[n]||[]).length-1)}}else if(a>=n.length){const e=r.indexOf(l)+1;e<r.length&&(c(r[e]),p(0))}else p(a)},v=null===(e=t[l])||void 0===e?void 0:e[d],w=(null===(n=t[l])||void 0===n?void 0:n.length)||0;return m?(0,s.jsx)("div",{style:{minHeight:"80vh",background:f?"linear-gradient(135deg, ".concat(h.primaryLight," 0%, ").concat(h.accentDark," 100%)"):"linear-gradient(135deg, ".concat(h.primary," 0%, ").concat(h.accent," 100%)"),display:"flex",alignItems:"center",justifyContent:"center",color:h.white},children:(0,s.jsxs)("div",{style:{textAlign:"center"},children:[(0,s.jsx)("div",{style:{width:"50px",height:"50px",border:"4px solid ".concat(h.white,"30"),borderTop:"4px solid ".concat(h.white),animation:"spin 1s linear infinite",margin:"0 auto 1rem auto"}}),(0,s.jsx)("p",{children:"Loading highlights..."})]})}):u?(0,s.jsx)("div",{style:{minHeight:"80vh",background:f?"linear-gradient(135deg, ".concat(h.primaryDark," 0%, ").concat(h.accentDark," 100%)"):"linear-gradient(135deg, ".concat(h.primary," 0%, ").concat(h.accent," 100%)"),display:"flex",alignItems:"center",justifyContent:"center",color:h.white,textAlign:"center"},children:(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{style:{fontSize:"1.2rem",marginBottom:"1rem"},children:u}),(0,s.jsx)("p",{style:{opacity:.8},children:"Please try refreshing the page"})]})}):0===r.length?(0,s.jsx)("div",{style:{minHeight:"80vh",background:f?"linear-gradient(135deg, ".concat(h.primaryDark," 0%, ").concat(h.accentDark," 100%)"):"linear-gradient(135deg, ".concat(h.primary," 0%, ").concat(h.accent," 100%)"),display:"flex",alignItems:"center",justifyContent:"center",color:h.white,textAlign:"center"},children:(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{style:{fontSize:"2rem",marginBottom:"1rem"},children:"No highlights available"}),(0,s.jsx)("p",{style:{opacity:.8},children:"Check back soon for our organizational achievements and milestones."})]})}):(0,s.jsxs)("div",{style:{minHeight:"80vh",background:f?"linear-gradient(135deg, ".concat(h.primaryDark," 0%, ").concat(h.accentDark," 100%)"):"linear-gradient(135deg, ".concat(h.primary," 0%, ").concat(h.accent," 100%)"),padding:"1.5rem 1rem",position:"relative",overflow:"hidden"},children:[(0,s.jsx)("style",{children:"\n        @keyframes spin {\n          0% { transform: rotate(0deg); }\n          100% { transform: rotate(360deg); }\n        }\n      "}),(0,s.jsxs)("div",{style:{textAlign:"center",marginBottom:"2rem",color:h.white},children:[(0,s.jsx)("h1",{style:{fontSize:"clamp(1.8rem, 4vw, 2.8rem)",fontWeight:700,margin:"0 0 0.8rem 0",textShadow:"0 2px 4px rgba(0,0,0,0.3)"},children:"Key Highlights and Achievements"}),(0,s.jsx)("p",{style:{fontSize:"1.1rem",opacity:.9,maxWidth:"500px",margin:"0 auto",lineHeight:1.5},children:"Discover our achievements and milestones throughout the years"})]}),(0,s.jsxs)("div",{style:{position:"relative",margin:"0 auto 2rem auto",maxWidth:"700px",padding:"1.5rem 1rem"},children:[(0,s.jsx)("div",{style:{position:"absolute",top:"50%",left:"50px",right:"50px",height:"4px",background:"".concat(h.white,"50"),transform:"translateY(-50%)"},children:(0,s.jsx)("div",{style:{position:"absolute",top:0,left:0,height:"100%",background:"linear-gradient(90deg, ".concat(h.secondary," 0%, ").concat(h.accent," 100%)"),width:"".concat((r.indexOf(l)+1)/r.length*100,"%"),transition:"width 0.5s ease"}})}),(0,s.jsx)("div",{style:{position:"relative",display:"flex",justifyContent:"space-between",alignItems:"center",padding:"0 50px"},children:r.map(e=>(0,s.jsx)("div",{onClick:()=>(e=>{c(e),p(0)})(e),style:{position:"relative",background:l===e?"linear-gradient(135deg, ".concat(h.secondary," 0%, ").concat(h.accent," 100%)"):"".concat(h.white,"30"),border:l===e?"3px solid ".concat(h.white):"3px solid ".concat(h.white,"60"),width:"50px",height:"50px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",fontWeight:700,fontSize:"0.9rem",color:h.white,backdropFilter:"blur(10px)",boxShadow:l===e?"0 0 20px ".concat(h.secondary,"80"):"none",transition:"all 0.3s ease"},onMouseEnter:e=>{e.currentTarget.style.transform="scale(1.1)"},onMouseLeave:n=>{n.currentTarget.style.transform=l===e?"scale(1.15)":"scale(1)"},children:e},e))})]}),(0,s.jsxs)("div",{style:{position:"relative",maxWidth:"1100px",margin:"0 auto",background:"".concat(h.white,"F5"),overflow:"hidden",boxShadow:"0 20px 60px rgba(0,0,0,0.3)",backdropFilter:"blur(20px)",minHeight:"500px"},children:[(0,s.jsx)("button",{onClick:()=>j(-1),disabled:0===r.indexOf(l)&&0===d,style:{position:"absolute",left:"20px",top:"50%",transform:"translateY(-50%)",zIndex:20,background:"".concat(h.white,"F0"),border:"2px solid ".concat(h.primary,"40"),width:"60px",height:"60px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",backdropFilter:"blur(10px)",fontSize:"1.5rem",color:h.primary,transition:"all 0.3s ease",opacity:0===r.indexOf(l)&&0===d?.4:1,boxShadow:"0 4px 20px ".concat(h.primary,"20")},onMouseEnter:e=>{e.target.disabled||(e.target.style.transform="translateY(-50%) scale(1.1)",e.target.style.backgroundColor=h.primary,e.target.style.color=h.white)},onMouseLeave:e=>{e.target.style.transform="translateY(-50%) scale(1)",e.target.style.backgroundColor="".concat(h.white,"F0"),e.target.style.color=h.primary},children:"\u2039"}),(0,s.jsx)("button",{onClick:()=>j(1),disabled:r.indexOf(l)===r.length-1&&d===w-1,style:{position:"absolute",right:"20px",top:"50%",transform:"translateY(-50%)",zIndex:20,background:"".concat(h.white,"F0"),border:"2px solid ".concat(h.primary,"40"),width:"60px",height:"60px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",backdropFilter:"blur(10px)",fontSize:"1.5rem",color:h.primary,transition:"all 0.3s ease",opacity:r.indexOf(l)===r.length-1&&d===w-1?.4:1,boxShadow:"0 4px 20px ".concat(h.primary,"20")},onMouseEnter:e=>{e.target.disabled||(e.target.style.transform="translateY(-50%) scale(1.1)",e.target.style.backgroundColor=h.primary,e.target.style.color=h.white)},onMouseLeave:e=>{e.target.style.transform="translateY(-50%) scale(1)",e.target.style.backgroundColor="".concat(h.white,"F0"),e.target.style.color=h.primary},children:"\u203a"}),(0,s.jsx)("div",{style:{position:"relative",height:"100%",minHeight:"500px",overflow:"hidden"},children:v&&(0,s.jsxs)("div",{style:{display:"grid",gridTemplateColumns:window.innerWidth<=768?"1fr":"1fr 1fr",gridTemplateRows:window.innerWidth<=768?"300px 1fr":"1fr",height:"100%",minHeight:"500px"},children:[(0,s.jsx)("div",{style:{position:"relative",overflow:"hidden",background:"linear-gradient(135deg, ".concat(h.primary,"20 0%, ").concat(h.accent,"20 100%)")},children:(0,s.jsx)("img",{src:v.image_url&&v.image_url.trim()?"".concat("http://localhost:5000").concat(v.image_url):b(v.title),alt:v.title,onError:e=>{e.target.src=b(v.title)},style:{width:"100%",height:"100%",objectFit:"cover",transition:"transform 0.5s ease"}})}),(0,s.jsxs)("div",{style:{padding:"3rem",display:"flex",flexDirection:"column",justifyContent:"center",background:"linear-gradient(135deg, ".concat(h.surface," 0%, ").concat(h.backgroundSecondary," 100%)"),position:"relative"},children:[w>1&&(0,s.jsx)("div",{style:{position:"absolute",top:"2rem",right:"2rem",display:"flex",gap:"0.5rem"},children:Array.from({length:w},(e,n)=>(0,s.jsx)("div",{onClick:()=>p(n),style:{width:n===d?"24px":"8px",height:"8px",backgroundColor:n===d?h.accent:"".concat(h.gray400,"60"),cursor:"pointer",transition:"all 0.3s ease"}},n))}),(0,s.jsx)("h3",{style:{fontSize:"2rem",fontWeight:700,color:h.text,margin:"0 0 1.5rem 0",lineHeight:1.3,paddingRight:"4rem"},children:v.title}),v.description&&(0,s.jsx)("p",{style:{fontSize:"1.1rem",color:h.textSecondary,lineHeight:1.7,margin:0},children:v.description})]})]})})]})]})},co=()=>{const{colors:e,isDarkMode:n}=y(),[t,a]=(0,i.useState)(0),[r,o]=(0,i.useState)({x:0,y:0}),l=(0,i.useRef)([]),c=(0,i.useRef)(null);(0,i.useRef)(null);(0,i.useEffect)(()=>{const e=()=>{a(window.scrollY),l.current.forEach(e=>{if(e){e.getBoundingClientRect().top<.8*window.innerHeight&&e.classList.add("visible")}})},n=e=>{o({x:e.clientX,y:e.clientY})};return window.addEventListener("scroll",e),window.addEventListener("mousemove",n),e(),()=>{window.removeEventListener("scroll",e),window.removeEventListener("mousemove",n)}},[]);(0,i.useEffect)(()=>{const e=document.createElement("style");return e.textContent="\n      html {\n        scroll-behavior: smooth;\n      }\n    ",document.head.appendChild(e),()=>{document.head.contains(e)&&document.head.removeChild(e)}},[]);const d={container:{backgroundColor:e.background,color:e.text,fontFamily:"'Nunito Sans', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif",transition:"all 0.3s ease"},heroContent:{color:n?e.text:"#FFFFFF"},heroTitle:{color:n?e.text:"#FFFFFF",fontWeight:"800",textShadow:n?"0 4px 20px rgba(0,0,0,0.6), 0 2px 10px rgba(0,0,0,0.4)":"0 4px 20px rgba(0,0,0,0.4), 0 2px 10px rgba(0,0,0,0.2)"},heroSubtitle:{color:n?e.textSecondary:"rgba(255,255,255,0.9)",fontWeight:"400"},heroBg:{background:n?"linear-gradient(135deg, \n            ".concat(e.background,"00 0%, \n            ").concat(e.backgroundSecondary,"40 25%, \n            ").concat(e.surface,"60 50%, \n            ").concat(e.backgroundSecondary,"40 75%, \n            ").concat(e.background,"00 100%)"):"linear-gradient(135deg, \n            ".concat(e.background,"00 0%, \n            ").concat(e.backgroundSecondary,"20 25%, \n            ").concat(e.surface,"40 50%, \n            ").concat(e.backgroundSecondary,"20 75%, \n            ").concat(e.background,"00 100%)"),opacity:n?.9:.7},sectionTitle:{color:e.text,fontFamily:"'Nunito Sans', sans-serif",fontWeight:"700"},cardBg:{backgroundColor:n?e.surface:"".concat(e.surface,"F5"),borderColor:n?e.border:"".concat(e.border,"80"),boxShadow:n?"0 8px 32px ".concat(e.cardShadow,"40, 0 4px 16px ").concat(e.cardShadow,"20"):"0 8px 32px ".concat(e.cardShadow,"15, 0 4px 16px ").concat(e.cardShadow,"08")},cardText:{color:e.textSecondary,fontFamily:"'Nunito Sans', sans-serif"},buttonPrimary:{backgroundColor:e.primary,color:n?e.background:e.white,border:"none",fontFamily:"'Nunito Sans', sans-serif",fontWeight:"600"},buttonSecondary:{backgroundColor:"transparent",color:e.primary,border:"2px solid ".concat(e.primary),fontFamily:"'Nunito Sans', sans-serif",fontWeight:"600"},dividerText:{color:n?e.textSecondary:"rgba(255,255,255,0.8)",fontFamily:"'Nunito Sans', sans-serif",fontWeight:"500"},dividerLine:{backgroundColor:n?e.border:"".concat(e.border,"60")}};return(0,s.jsxs)("div",{className:"about-container",style:d.container,children:[(0,s.jsx)(Le,{}),(0,s.jsxs)("div",{className:"floating-bg",children:[(0,s.jsx)("div",{className:"floating-orb orb-1",style:{transform:"translate(".concat(.02*r.x,"px, ").concat(.02*r.y,"px)"),backgroundColor:"".concat(e.primary,n?"25":"15")}}),(0,s.jsx)("div",{className:"floating-orb orb-2",style:{transform:"translate(".concat(-.015*r.x,"px, ").concat(-.015*r.y,"px)"),backgroundColor:"".concat(e.secondary,n?"25":"15")}}),(0,s.jsx)("div",{className:"floating-orb orb-3",style:{transform:"translate(".concat(.01*r.x,"px, ").concat(.01*r.y,"px)"),backgroundColor:"".concat(e.accent,n?"25":"15")}})]}),(0,s.jsx)("section",{ref:c}),(0,s.jsx)(vn,{}),(0,s.jsx)(ao,{}),(0,s.jsx)(so,{}),(0,s.jsx)(lo,{}),(0,s.jsx)(to,{}),(0,s.jsx)(ro,{}),(0,s.jsx)(dn,{}),(0,s.jsx)(jn,{}),(0,s.jsx)(Qe,{})]})};function po(){const{colors:e}=y();return(0,s.jsx)("div",{style:{position:"relative",width:"100%",maxWidth:"100vw",overflow:"hidden"},children:(0,s.jsxs)("div",{style:{position:"relative",width:"100%",height:"clamp(65vh, 75vh, 85vh)",background:v(e.primary,e.primaryLight,"135deg"),display:"flex",alignItems:"center",justifyContent:"flex-start",padding:"0 clamp(1rem, 5vw, 4rem)",overflow:"hidden"},children:[(0,s.jsx)("div",{style:{position:"absolute",inset:0,background:"radial-gradient(circle at 30% 50%, ".concat(w(e.accent,.1)," 0%, transparent 70%)"),zIndex:1}}),(0,s.jsxs)("div",{style:{position:"relative",zIndex:2,maxWidth:"min(55%, 600px)",width:"100%"},children:[(0,s.jsx)("h1",{style:{fontSize:"clamp(2.5rem, 5vw, 4.5rem)",fontWeight:"600",lineHeight:"1.1",marginBottom:"clamp(1rem, 3vw, 2rem)",color:e.white,fontFamily:'Inter, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif',letterSpacing:"-0.02em"},children:"Get in touch"}),(0,s.jsx)("p",{style:{fontSize:"clamp(1rem, 1.5vw, 1.25rem)",lineHeight:"1.6",color:w(e.white,.9),fontWeight:"400",margin:0,maxWidth:"480px"},children:"Ready to drive climate action in Africa? We'd love to connect and explore how we can work together."}),(0,s.jsx)("div",{style:{display:"flex",gap:"clamp(1rem, 2vw, 1.5rem)",marginTop:"clamp(2rem, 4vw, 3rem)",flexWrap:"wrap"},children:[{name:"Facebook",svg:(0,s.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"currentColor",children:(0,s.jsx)("path",{d:"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"})})},{name:"Twitter",svg:(0,s.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"currentColor",children:(0,s.jsx)("path",{d:"M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"})})},{name:"Instagram",svg:(0,s.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"currentColor",children:(0,s.jsx)("path",{d:"M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069z"})})},{name:"LinkedIn",svg:(0,s.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"currentColor",children:(0,s.jsx)("path",{d:"M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"})})}].map((n,t)=>(0,s.jsx)("div",{title:n.name,style:{width:"clamp(44px, 6vw, 52px)",height:"clamp(44px, 6vw, 52px)",backgroundColor:w(e.white,.1),backdropFilter:"blur(12px)",border:"1px solid ".concat(w(e.white,.25)),borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",color:e.white,cursor:"pointer",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)"},onMouseOver:n=>{n.currentTarget.style.transform="translateY(-3px) scale(1.1)",n.currentTarget.style.backgroundColor=w(e.white,.2),n.currentTarget.style.borderColor=w(e.white,.4)},onMouseOut:n=>{n.currentTarget.style.transform="translateY(0) scale(1)",n.currentTarget.style.backgroundColor=w(e.white,.1),n.currentTarget.style.borderColor=w(e.white,.25)},children:n.svg},t))})]})]})})}var mo=t(8452);const xo=Ge;const uo=new class{constructor(){this.configCache=new Map,this.cacheTimeout=3e5}async getCountryConfig(e){try{const n=e.toLowerCase(),t=this.configCache.get(n);if(t&&Date.now()-t.timestamp<this.cacheTimeout)return t.config;const a=await fetch("".concat(xo,"/country-contacts/").concat(encodeURIComponent(e)));if(!a.ok)throw new Error("Failed to fetch config for ".concat(e,": ").concat(a.status));const r=await a.json();if(!r.success||!r.data)throw new Error("No configuration found for ".concat(e));const o=r.data;if(!o.service_id||!o.template_id||!o.public_key)throw new Error("Incomplete EmailJS configuration for ".concat(e));const i={serviceId:o.service_id,templateId:o.template_id,publicKey:o.public_key,contactEmail:o.email,contactPhone:o.phone,physicalAddress:o.physical_address,mailingAddress:o.mailing_address};return this.configCache.set(n,{config:i,timestamp:Date.now()}),i}catch(n){throw console.error("Error fetching country config:",n),n}}async initializeForCountry(e){try{const n=await this.getCountryConfig(e);return mo.Ay.init(n.publicKey),n}catch(n){throw console.error("Failed to initialize EmailJS for ".concat(e,":"),n),n}}async sendEmail(e,n){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;try{const a=await this.getCountryConfig(e);mo.Ay.init(a.publicKey);const r=(0,m.A)((0,m.A)({},n),{},{to_email:a.contactEmail,contact_phone:a.contactPhone,physical_address:a.physicalAddress,mailing_address:a.mailingAddress,country:e});let o;return o=t?await mo.Ay.sendForm(a.serviceId,a.templateId,t,a.publicKey):await mo.Ay.send(a.serviceId,a.templateId,r,a.publicKey),console.log("Email sent successfully for ".concat(e,":"),o),{success:!0,result:o,message:"Email sent successfully"}}catch(a){return console.error("Failed to send email for ".concat(e,":"),a),{success:!1,error:a.message||"Failed to send email",message:"Email sending failed"}}}async validateCountryConfig(e){try{const n=await this.getCountryConfig(e),t=["serviceId","templateId","publicKey"].filter(e=>!n[e]);return t.length>0?{valid:!1,message:"Missing required fields: ".concat(t.join(", ")),config:n}:{valid:!0,message:"Configuration is valid",config:n}}catch(n){return{valid:!1,message:n.message,config:null}}}async getConfiguredCountries(){try{const e=await fetch("".concat(xo,"/country-contacts"));if(!e.ok)throw new Error("Failed to fetch contacts: ".concat(e.status));const n=await e.json();return n.filter(e=>e.service_id&&e.template_id&&e.public_key).map(e=>({country:e.country,email:e.email,phone:e.phone,hasCompleteConfig:!0}))}catch(e){throw console.error("Error fetching configured countries:",e),e}}clearCache(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;e?this.configCache.delete(e.toLowerCase()):this.configCache.clear()}async testConfiguration(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;try{const t=await this.getCountryConfig(e),a={to_email:n||t.contactEmail,subject:"EmailJS Configuration Test - ".concat(e),message:"This is a test email to verify EmailJS configuration for ".concat(e,"."),test_mode:!0,timestamp:(new Date).toISOString()},r=await this.sendEmail(e,a);return{success:r.success,message:r.success?"Test email sent successfully for ".concat(e):"Test failed for ".concat(e,": ").concat(r.error),config:t}}catch(t){return{success:!1,message:"Test failed for ".concat(e,": ").concat(t.message),config:null}}}},go=uo,ho=e=>{let{isEmbedded:n=!1,selectedCountry:t="Kenya"}=e;const{theme:a,colors:r}=y(),[o,l]=(0,i.useState)({firstName:"",lastName:"",user_email:"",user_message:""}),[c,d]=(0,i.useState)(null),[p,x]=(0,i.useState)([]),[u,g]=(0,i.useState)(t),[h,f]=(0,i.useState)(!1),[b,j]=(0,i.useState)(null),[v,w]=(0,i.useState)(null);(0,i.useEffect)(()=>{A(),k(u)},[]),(0,i.useEffect)(()=>{u&&k(u)},[u]);const A=async()=>{try{const e=await go.getConfiguredCountries();x(e)}catch(e){console.error("Failed to load countries:",e)}},k=async e=>{try{const n=await go.validateCountryConfig(e);w(n),n.valid&&n.config?d(n.config):(d(null),n.valid||j({type:"warning",message:"Contact form may not work for ".concat(e,". EmailJS not fully configured.")}))}catch(n){console.error("Failed to load contact info:",n),d(null),w({valid:!1,message:"Failed to load configuration"})}},S=e=>{l((0,m.A)((0,m.A)({},o),{},{[e.target.name]:e.target.value})),b&&"warning"!==b.type&&j(null)},C={width:"100%",padding:"10px 14px",border:"2px solid ".concat(r.border),borderRadius:"8px",fontSize:"14px",fontFamily:"inherit",outline:"none",backgroundColor:r.surface,color:r.text,transition:"all 0.2s ease"},z={borderColor:r.primary,backgroundColor:r.background};return(0,s.jsxs)("div",{style:{minHeight:n?"unset":"100vh",background:n?"transparent":"linear-gradient(135deg, ".concat(r.primary," 0%, ").concat(r.primaryLight," 100%)"),display:"flex",alignItems:n?"flex-start":"center",justifyContent:"center",padding:n?"0.5rem":"2rem",fontFamily:'Inter, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif',transform:n?"scale(0.88)":"none",transformOrigin:"top left"},children:[(0,s.jsxs)("div",{style:{backgroundColor:n?r.backgroundSecondary:r.background,borderRadius:"16px",boxShadow:n?"0 2px 6px ".concat(r.cardShadow):"0 20px 40px ".concat(r.cardShadow),padding:n?"1rem":"3rem",width:"100%",maxWidth:n?"100%":"1000px",display:"flex",gap:"2rem",flexDirection:window.innerWidth<768?"column":"row",border:"1px solid ".concat(r.border)},children:[(0,s.jsxs)("div",{style:{flex:"1",minWidth:"300px",paddingRight:window.innerWidth>=768?"1rem":"0",borderRight:window.innerWidth>=768?"1px solid ".concat(r.border):"none",borderBottom:window.innerWidth<768?"1px solid ".concat(r.border):"none",paddingBottom:window.innerWidth<768?"1rem":"0",textAlign:"center"},children:[(0,s.jsxs)("div",{style:{marginBottom:"1.5rem"},children:[(0,s.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:r.primary,width:"80",height:"80",style:{margin:"0 auto"},children:[(0,s.jsx)("path",{d:"M12 1a9 9 0 00-9 9v3a4 4 0 004 4h1v-2H7a2 2 0 01-2-2v-3a7 7 0 0114 0v3a2 2 0 01-2 2h-1v2h1a4 4 0 004-4v-3a9 9 0 00-9-9z"}),(0,s.jsx)("path",{d:"M9 21h6v-2H9v2z"})]}),(0,s.jsx)("h2",{style:{color:r.text,marginTop:"0.5rem",fontWeight:"500"},children:"Get Localized Support"}),(0,s.jsx)("p",{style:{color:r.textSecondary,fontSize:"14px"},children:"Our country teams are here to help you"})]}),(0,s.jsxs)("div",{style:{marginBottom:"1.5rem"},children:[(0,s.jsx)("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"600",color:r.textSecondary,fontSize:"14px"},children:"Choose Your Country:"}),(0,s.jsx)("select",{value:u,onChange:e=>{const n=e.target.value;g(n),j(null)},style:{width:"100%",padding:"10px 14px",border:"2px solid ".concat(r.border),borderRadius:"8px",fontSize:"14px",fontFamily:"inherit",backgroundColor:r.background,color:r.text,cursor:"pointer"},children:p.map(e=>(0,s.jsxs)("option",{value:e.country,children:[e.country,e.hasCompleteConfig?" \u2705":" \u26a0\ufe0f"]},e.country))})]}),c&&(0,s.jsxs)("div",{style:{backgroundColor:r.surfaceSecondary,padding:"1.5rem",borderRadius:"12px",border:"1px solid ".concat(r.border),textAlign:"left"},children:[(0,s.jsx)("h3",{style:{marginTop:0,marginBottom:"1rem",color:r.text},children:"Contact Information"}),c.contactEmail&&(0,s.jsxs)("p",{style:{fontSize:"14px",margin:"0.5rem 0"},children:["\ud83d\udce7 ",(0,s.jsx)("a",{href:"mailto:".concat(c.contactEmail),style:{color:r.primary},children:c.contactEmail})]}),c.contactPhone&&(0,s.jsxs)("p",{style:{fontSize:"14px",margin:"0.5rem 0"},children:["\ud83d\udcde ",(0,s.jsx)("a",{href:"tel:".concat(c.contactPhone),style:{color:r.primary},children:c.contactPhone})]})]}),!c&&(0,s.jsxs)("div",{style:{backgroundColor:r.warning+"20",padding:"1rem",borderRadius:"8px",border:"1px solid ".concat(r.warning,"40"),fontSize:"14px",color:r.warning},children:["\u26a0\ufe0f Contact information not available for ",u,". Please try selecting a different region or contact us directly."]})]}),(0,s.jsxs)("div",{style:{flex:"1",minWidth:"300px"},children:[b&&(0,s.jsx)("div",{style:(e=>{const n={padding:"0.75rem",borderRadius:"8px",marginBottom:"1rem",fontSize:"14px"};switch(e){case"success":return(0,m.A)((0,m.A)({},n),{},{backgroundColor:r.success+"20",color:r.success,border:"1px solid ".concat(r.success,"40")});case"error":return(0,m.A)((0,m.A)({},n),{},{backgroundColor:r.error+"20",color:r.error,border:"1px solid ".concat(r.error,"40")});case"warning":return(0,m.A)((0,m.A)({},n),{},{backgroundColor:r.warning+"20",color:r.warning,border:"1px solid ".concat(r.warning,"40")});default:return n}})(b.type),children:b.message}),(0,s.jsxs)("form",{onSubmit:async e=>{e.preventDefault();const n=(()=>{const e=[];return o.firstName.trim()||e.push("First name is required"),o.lastName.trim()||e.push("Last name is required"),o.user_email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(o.user_email)||e.push("Please enter a valid email address"):e.push("Email is required"),o.user_message.trim()?o.user_message.length<10&&e.push("Message must be at least 10 characters long"):e.push("Message is required"),e})();if(n.length>0)j({type:"error",message:n.join(", ")});else if(null!==v&&void 0!==v&&v.valid){f(!0),j(null);try{const e={user_name:"".concat(o.firstName," ").concat(o.lastName),from_name:"".concat(o.firstName," ").concat(o.lastName),user_email:o.user_email,from_email:o.user_email,user_company:o.company_name||"Not provided",company:o.company_name||"Not provided",user_message:o.user_message,message:o.user_message,country:u,timestamp:(new Date).toISOString(),subject:"Contact Form Submission from ".concat(o.firstName," ").concat(o.lastName)},n=await go.sendEmail(u,e);if(!n.success)throw new Error(n.error||"Failed to send message");j({type:"success",message:"Thank you! Your message has been sent successfully. We will get back to you soon."}),l({firstName:"",lastName:"",user_email:"",company_name:"",user_message:""})}catch(t){console.error("Form submission error:",t),j({type:"error",message:"Failed to send message: ".concat(t.message,". Please try again or contact us directly.")})}finally{f(!1)}}else j({type:"error",message:"Cannot send email: EmailJS not configured for ".concat(u)})},style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[(0,s.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:[(0,s.jsx)("input",{name:"firstName",type:"text",required:!0,value:o.firstName,onChange:S,placeholder:"First Name",style:C,disabled:h,onFocus:e=>Object.assign(e.target.style,z),onBlur:e=>e.target.style.borderColor=r.border}),(0,s.jsx)("input",{name:"lastName",type:"text",required:!0,value:o.lastName,onChange:S,placeholder:"Last Name",style:C,disabled:h,onFocus:e=>Object.assign(e.target.style,z),onBlur:e=>e.target.style.borderColor=r.border})]}),(0,s.jsx)("input",{name:"user_email",type:"email",required:!0,value:o.user_email,onChange:S,placeholder:"Email Address",style:C,disabled:h,onFocus:e=>Object.assign(e.target.style,z),onBlur:e=>e.target.style.borderColor=r.border}),(0,s.jsx)("textarea",{name:"user_message",rows:"4",required:!0,value:o.user_message,onChange:S,placeholder:"Your message",style:(0,m.A)((0,m.A)({},C),{},{resize:"vertical",minHeight:"100px",fontFamily:"inherit"}),disabled:h,onFocus:e=>Object.assign(e.target.style,z),onBlur:e=>e.target.style.borderColor=r.border}),(0,s.jsx)("button",{type:"submit",disabled:h||!(null!==v&&void 0!==v&&v.valid),style:{backgroundColor:h||null===v||void 0===v||!v.valid?r.gray400:r.text,color:r.white,border:"none",borderRadius:"8px",padding:"12px",fontSize:"16px",fontWeight:"600",cursor:h||null===v||void 0===v||!v.valid?"not-allowed":"pointer",transition:"all 0.2s ease",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem"},children:h?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("span",{style:{width:"16px",height:"16px",border:"2px solid ".concat(r.white),borderTop:"2px solid transparent",borderRadius:"50%",animation:"spin 1s linear infinite"}}),"Sending..."]}):(0,s.jsx)(s.Fragment,{children:"\ud83d\udce7 Send Message"})}),!(null!==v&&void 0!==v&&v.valid)&&(0,s.jsxs)("div",{style:{fontSize:"12px",color:r.warning,textAlign:"center",backgroundColor:r.warning+"20",padding:"0.5rem",borderRadius:"6px",border:"1px solid ".concat(r.warning,"40")},children:["Form disabled: EmailJS not configured for ",u]})]})]})]}),(0,s.jsx)("style",{jsx:!0,children:"\n        @keyframes spin {\n          0% { transform: rotate(0deg); }\n          100% { transform: rotate(360deg); }\n        }\n      "})]})},fo=()=>(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(Le,{}),"         ",(0,s.jsx)(po,{}),(0,s.jsx)(ho,{}),(0,s.jsx)(Zt,{}),(0,s.jsx)(Qt,{}),(0,s.jsx)(Qe,{}),"         "]});var bo=t(4527),yo=t(6020),jo=t(7873),vo=t(6582),wo=t(5837),Ao=t(9700),ko=t(7777),So=t(2518);const Co=Ge,zo=()=>{var e,n;const{id:t}=(0,a.g)(),r=(0,a.zy)(),o=(0,a.Zp)(),{colors:l}=y(),[c,d]=(0,i.useState)((null===(e=r.state)||void 0===e?void 0:e.project)||null),[p,m]=(0,i.useState)(!c),[x,u]=(0,i.useState)(null),[g,h]=(0,i.useState)(!1),[f,b]=(0,i.useState)(!1),[j,v]=(0,i.useState)("/projects"),[w,A]=(0,i.useState)("Projects"),k={1:{title:"No Poverty",color:"#E5243B",icon:"\ud83c\udfe0"},2:{title:"Zero Hunger",color:"#DDA63A",icon:"\ud83c\udf3e"},3:{title:"Good Health and Well-being",color:"#4C9F38",icon:"\u2764\ufe0f"},4:{title:"Quality Education",color:"#C5192D",icon:"\ud83d\udcda"},5:{title:"Gender Equality",color:"#FF3A21",icon:"\u2696\ufe0f"},6:{title:"Clean Water and Sanitation",color:"#26BDE2",icon:"\ud83d\udca7"},7:{title:"Affordable and Clean Energy",color:"#FCC30B",icon:"\u26a1"},13:{title:"Climate Action",color:"#3F7E44",icon:"\ud83c\udf0d"},14:{title:"Life Below Water",color:"#0A97D9",icon:"\ud83c\udf0a"},15:{title:"Life on Land",color:"#56C02B",icon:"\ud83c\udf33"}};(0,i.useEffect)(()=>{!c&&t&&S(),setTimeout(()=>b(!0),1e3)},[t,c]);const S=async()=>{try{m(!0);const e=await fetch("".concat(Co,"/projects/").concat(t),{method:"GET",credentials:"include",headers:{"Content-Type":"application/json"}});if(!e.ok)throw new Error("HTTP error! status: ".concat(e.status));const n=await e.json();if(!n.success)throw new Error(n.message||"Failed to fetch project");d(n.data)}catch(x){console.error("Error fetching project:",x),u(x.message)}finally{m(!1)}},C=e=>e?new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"Not specified",z=()=>{o(-1)},T=()=>{o("/projectscatalogue")};if(p)return(0,s.jsx)(N.A,{sx:{minHeight:"100vh",backgroundColor:l.background,display:"flex",alignItems:"center",justifyContent:"center"},children:(0,s.jsxs)(N.A,{sx:{textAlign:"center"},children:[(0,s.jsx)(On.A,{size:60,thickness:4,sx:{color:l.primary,mb:3}}),(0,s.jsx)(_.A,{variant:"h6",sx:{color:l.textSecondary,fontWeight:500},children:"Loading Project Details..."})]})});if(x||!c)return(0,s.jsx)(N.A,{sx:{minHeight:"100vh",backgroundColor:l.background,p:4},children:(0,s.jsxs)(Fn.A,{maxWidth:"lg",children:[(0,s.jsx)(I.A,{severity:"error",sx:{mb:3,backgroundColor:"".concat(l.error,"15"),color:l.error,border:"1px solid ".concat(l.error,"30")},children:x||"Project not found"}),(0,s.jsxs)(E.A,{variant:"contained",startIcon:(0,s.jsx)(W.A,{}),onClick:z,sx:{backgroundColor:l.primary,color:l.white,fontWeight:600,px:3,py:1.5,textTransform:"none","&:hover":{backgroundColor:l.primaryDark}},children:["Back to ",w]})]})});const F=(e=>{if(!e||0===Object.keys(e).length)return 75;const n=Object.values(e),t=n.reduce((e,n)=>e+(parseInt(n)||1),0);return Math.min(Math.max(t/n.length*10,20),100)})(c.impact_metrics);return(0,s.jsxs)(N.A,{sx:{minHeight:"100vh",backgroundColor:l.background,py:4},children:[(0,s.jsxs)(Fn.A,{maxWidth:"lg",children:[(0,s.jsx)(pe.P.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.6},children:(0,s.jsx)(Rn.A,{sx:{p:2,mb:4,backgroundColor:l.surface,border:"1px solid ".concat(l.borderLight),boxShadow:"none"},children:(0,s.jsxs)(N.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,s.jsxs)(N.A,{sx:{display:"flex",gap:2,alignItems:"center"},children:[(0,s.jsx)(E.A,{startIcon:(0,s.jsx)(W.A,{}),onClick:z,sx:{color:l.text,fontWeight:600,textTransform:"none","&:hover":{backgroundColor:"".concat(l.primary,"10")}},children:w}),"/projects"!==j&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(bo.A,{orientation:"vertical",flexItem:!0,sx:{mx:1}}),(0,s.jsx)(E.A,{startIcon:(0,s.jsx)(et.A,{}),onClick:T,sx:{color:l.textSecondary,fontWeight:600,textTransform:"none","&:hover":{backgroundColor:"".concat(l.secondary,"10"),color:l.secondary}},children:"See More Projects"})]})]}),(0,s.jsxs)(Pn.A,{direction:"row",spacing:1,children:[(0,s.jsx)(de.A,{onClick:()=>{navigator.share?navigator.share({title:c.title,text:c.description,url:window.location.href}):navigator.clipboard.writeText(window.location.href)},sx:{color:l.textSecondary,"&:hover":{backgroundColor:"".concat(l.primary,"10"),color:l.primary}},children:(0,s.jsx)(vo.A,{})}),(0,s.jsx)(de.A,{onClick:()=>h(!g),sx:{color:g?l.error:l.textSecondary,"&:hover":{backgroundColor:"".concat(l.error,"10"),color:l.error}},children:(0,s.jsx)(wo.A,{})})]})]})})}),(0,s.jsx)(pe.P.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8,delay:.2},children:(0,s.jsxs)(Rn.A,{sx:{p:6,mb:6,backgroundColor:l.surface,border:"1px solid ".concat(l.borderLight),borderRadius:4,boxShadow:"none",position:"relative",overflow:"hidden"},children:[(0,s.jsx)(N.A,{sx:{position:"absolute",top:0,left:0,right:0,height:"4px",background:"linear-gradient(90deg, ".concat(l.primary,", ").concat(l.secondary,")")}}),(0,s.jsx)(_.A,{variant:"h1",sx:{fontWeight:800,color:l.text,mb:3,fontSize:{xs:"2rem",md:"3rem"},lineHeight:1.2},children:c.title}),(0,s.jsxs)(Pn.A,{direction:"row",spacing:2,flexWrap:"wrap",sx:{mb:4},children:[c.category_name&&(0,s.jsx)(it.A,{icon:(0,s.jsx)(qa.A,{}),label:c.category_name,sx:{backgroundColor:"".concat(l.primary,"15"),color:l.primary,border:"1px solid ".concat(l.primary,"30"),fontWeight:600}}),c.country_name&&(0,s.jsx)(it.A,{icon:(0,s.jsx)(Wa.A,{}),label:c.country_name,sx:{backgroundColor:"".concat(l.secondary,"15"),color:l.secondary,border:"1px solid ".concat(l.secondary,"30"),fontWeight:600}}),c.is_featured&&(0,s.jsx)(it.A,{label:"Featured Project",sx:{backgroundColor:l.secondary,color:l.black,fontWeight:700}})]}),(0,s.jsxs)(N.A,{sx:{p:4,backgroundColor:"".concat(l.primary,"08"),borderRadius:3,border:"1px solid ".concat(l.primary,"20")},children:[(0,s.jsxs)(N.A,{sx:{display:"flex",alignItems:"center",mb:2},children:[(0,s.jsx)(Jn.A,{sx:{mr:2,color:l.primary}}),(0,s.jsx)(_.A,{variant:"h6",sx:{color:l.text,fontWeight:700},children:"Project Impact Score"})]}),(0,s.jsxs)(N.A,{sx:{display:"flex",alignItems:"center",gap:3},children:[(0,s.jsxs)(N.A,{sx:{flex:1},children:[(0,s.jsx)(yo.A,{variant:"determinate",value:f?F:0,sx:{height:12,borderRadius:6,backgroundColor:"".concat(l.borderLight),"& .MuiLinearProgress-bar":{backgroundColor:l.primary,borderRadius:6,transition:"width 2s ease-in-out"}}}),(0,s.jsx)(_.A,{variant:"body2",sx:{color:l.textSecondary,mt:1,fontWeight:500},children:"Environmental Impact Rating"})]}),(0,s.jsxs)(_.A,{variant:"h3",sx:{fontWeight:800,color:l.primary},children:[Math.round(F),"%"]})]})]})]})}),c.featured_image&&(0,s.jsx)(pe.P.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.8,delay:.4},children:(0,s.jsx)(Rn.A,{sx:{mb:6,borderRadius:4,overflow:"hidden",backgroundColor:l.surface,boxShadow:"none",border:"1px solid ".concat(l.borderLight)},children:(0,s.jsx)(N.A,{component:"img",src:c.featured_image.startsWith("http")?c.featured_image:"".concat("http://localhost:5000").concat(c.featured_image),alt:c.title,sx:{width:"100%",height:"400px",objectFit:"cover"},onError:e=>{e.target.style.display="none"}})})}),(0,s.jsxs)(Un.A,{container:!0,spacing:6,children:[(0,s.jsx)(Le,{}),(0,s.jsxs)(Un.A,{item:!0,xs:12,md:8,children:[(0,s.jsx)(pe.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.6},children:(0,s.jsxs)(Rn.A,{sx:{p:4,mb:4,backgroundColor:l.surface,border:"1px solid ".concat(l.borderLight),borderRadius:3,boxShadow:"none"},children:[(0,s.jsxs)(N.A,{sx:{display:"flex",alignItems:"center",mb:3},children:[(0,s.jsx)(Ao.A,{sx:{mr:2,color:l.primary,fontSize:28}}),(0,s.jsx)(_.A,{variant:"h4",sx:{fontWeight:700,color:l.text},children:"Project Overview"})]}),(0,s.jsx)(_.A,{variant:"body1",sx:{lineHeight:1.8,fontSize:"1.1rem",color:l.textSecondary},children:c.description})]})}),c.impact_metrics&&Object.keys(c.impact_metrics).length>0&&(0,s.jsx)(pe.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.8},children:(0,s.jsxs)(Rn.A,{sx:{p:4,mb:4,backgroundColor:l.surface,border:"1px solid ".concat(l.borderLight),borderRadius:3,boxShadow:"none"},children:[(0,s.jsxs)(N.A,{sx:{display:"flex",alignItems:"center",mb:4},children:[(0,s.jsx)(ko.A,{sx:{mr:2,color:l.secondary,fontSize:28}}),(0,s.jsx)(_.A,{variant:"h4",sx:{fontWeight:700,color:l.text},children:"Impact Metrics"})]}),(0,s.jsx)(Un.A,{container:!0,spacing:3,children:Object.entries(c.impact_metrics).map((e,n)=>{let[t,a]=e;return(0,s.jsx)(Un.A,{item:!0,xs:6,sm:4,children:(0,s.jsxs)(Rn.A,{sx:{p:3,textAlign:"center",backgroundColor:"".concat(l.primary,"05"),border:"1px solid ".concat(l.primary,"15"),borderRadius:3,transition:"all 0.3s ease","&:hover":{transform:"translateY(-4px)",borderColor:l.primary}},children:[(0,s.jsx)(_.A,{variant:"h3",sx:{fontWeight:800,color:l.primary,mb:1},children:a}),(0,s.jsx)(_.A,{variant:"body2",sx:{color:l.textSecondary,fontWeight:600,textTransform:"capitalize"},children:t.replace(/_/g," ")})]})},t)})})]})}),c.testimonial_text&&(0,s.jsx)(pe.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:1},children:(0,s.jsxs)(Rn.A,{sx:{p:4,backgroundColor:l.surface,border:"1px solid ".concat(l.borderLight),borderRadius:3,boxShadow:"none"},children:[(0,s.jsxs)(N.A,{sx:{display:"flex",alignItems:"center",mb:3},children:[(0,s.jsx)(Ta.A,{sx:{mr:2,color:l.secondary,fontSize:28}}),(0,s.jsx)(_.A,{variant:"h4",sx:{fontWeight:700,color:l.text},children:"Community Voice"})]}),(0,s.jsxs)(N.A,{sx:{p:4,backgroundColor:"".concat(l.secondary,"10"),borderLeft:"4px solid ".concat(l.secondary),borderRadius:2},children:[(0,s.jsxs)(_.A,{variant:"h6",sx:{fontStyle:"italic",mb:3,color:l.text,lineHeight:1.6},children:['"',c.testimonial_text,'"']}),(c.testimonial_author||c.testimonial_position)&&(0,s.jsxs)(N.A,{sx:{pt:2},children:[(0,s.jsx)(_.A,{variant:"body1",sx:{fontWeight:700,color:l.text},children:c.testimonial_author}),c.testimonial_position&&(0,s.jsx)(_.A,{variant:"body2",sx:{color:l.textSecondary,fontWeight:500},children:c.testimonial_position})]})]})]})})]}),(0,s.jsxs)(Un.A,{item:!0,xs:12,md:4,children:[(0,s.jsx)(pe.P.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.6,delay:.6},children:(0,s.jsxs)(Rn.A,{sx:{p:3,mb:3,backgroundColor:l.surface,border:"1px solid ".concat(l.borderLight),borderRadius:3,boxShadow:"none"},children:[(0,s.jsxs)(_.A,{variant:"h5",sx:{fontWeight:700,color:l.text,mb:3,display:"flex",alignItems:"center"},children:[(0,s.jsx)(Xn.A,{sx:{mr:2,color:l.primary}}),"Project Details"]}),c.location&&(0,s.jsxs)(N.A,{sx:{mb:3},children:[(0,s.jsxs)(N.A,{sx:{display:"flex",alignItems:"center",mb:1},children:[(0,s.jsx)(tt.A,{sx:{mr:1,color:l.textMuted,fontSize:20}}),(0,s.jsx)(_.A,{variant:"body2",sx:{color:l.textMuted,fontWeight:600,textTransform:"uppercase",letterSpacing:1},children:"Location"})]}),(0,s.jsx)(_.A,{variant:"body1",sx:{color:l.text,fontWeight:600,ml:3},children:c.location})]}),(c.start_date||c.end_date)&&(0,s.jsxs)(N.A,{sx:{mb:3},children:[(0,s.jsxs)(N.A,{sx:{display:"flex",alignItems:"center",mb:1},children:[(0,s.jsx)(So.A,{sx:{mr:1,color:l.textMuted,fontSize:20}}),(0,s.jsx)(_.A,{variant:"body2",sx:{color:l.textMuted,fontWeight:600,textTransform:"uppercase",letterSpacing:1},children:"Timeline"})]}),(0,s.jsxs)(_.A,{variant:"body1",sx:{color:l.text,fontWeight:600,ml:3},children:[C(c.start_date),c.end_date&&" - ".concat(C(c.end_date))]})]}),(0,s.jsx)(bo.A,{sx:{my:3,borderColor:l.borderLight}}),(0,s.jsx)(Pn.A,{spacing:2,children:(!(null!==(n=r.state)&&void 0!==n&&n.from)||"/projects"!==r.state.from)&&(0,s.jsx)(E.A,{variant:"outlined",fullWidth:!0,startIcon:(0,s.jsx)(et.A,{}),onClick:T,sx:{borderColor:l.secondary,color:l.secondary,fontWeight:600,py:1.5,textTransform:"none",fontSize:"1rem","&:hover":{backgroundColor:"".concat(l.secondary,"10"),borderColor:l.secondary}},children:"See More Projects"})})]})}),c.sdg_goals&&c.sdg_goals.length>0&&(0,s.jsx)(pe.P.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.6,delay:.8},children:(0,s.jsxs)(Rn.A,{sx:{p:3,backgroundColor:l.surface,border:"1px solid ".concat(l.borderLight),borderRadius:3,boxShadow:"none"},children:[(0,s.jsxs)(_.A,{variant:"h5",sx:{fontWeight:700,color:l.text,mb:3,display:"flex",alignItems:"center"},children:[(0,s.jsx)(Wa.A,{sx:{mr:2,color:l.primary}}),"UN SDG Goals"]}),(0,s.jsxs)(N.A,{sx:{mb:3},children:[(0,s.jsxs)(_.A,{variant:"body2",sx:{color:l.textSecondary,fontWeight:600,mb:2},children:["Supporting ",c.sdg_goals.length," Global Goals"]}),(0,s.jsx)(yo.A,{variant:"determinate",value:f?c.sdg_goals.length/17*100:0,sx:{height:8,borderRadius:4,backgroundColor:l.borderLight,"& .MuiLinearProgress-bar":{backgroundColor:l.secondary,borderRadius:4,transition:"width 2s ease-in-out"}}})]}),(0,s.jsx)(Pn.A,{spacing:2,children:c.sdg_goals.map((e,n)=>{var t,a,r,o,i;return(0,s.jsxs)(N.A,{sx:{display:"flex",alignItems:"center",p:2,backgroundColor:"".concat((null===(t=k[e])||void 0===t?void 0:t.color)||l.primary,"10"),borderRadius:2,border:"1px solid ".concat((null===(a=k[e])||void 0===a?void 0:a.color)||l.primary,"20")},children:[(0,s.jsx)(jo.A,{sx:{width:40,height:40,mr:2,backgroundColor:(null===(r=k[e])||void 0===r?void 0:r.color)||l.primary,color:l.white,fontSize:"0.9rem",fontWeight:700},children:e}),(0,s.jsxs)(N.A,{sx:{flex:1},children:[(0,s.jsxs)(_.A,{variant:"body1",sx:{fontWeight:600,color:l.text,mb:.5},children:["SDG ",e]}),(0,s.jsx)(_.A,{variant:"body2",sx:{color:l.textSecondary,fontSize:"0.85rem"},children:(null===(o=k[e])||void 0===o?void 0:o.title)||"Sustainable Development Goal"})]}),(0,s.jsx)(_.A,{sx:{fontSize:"1.2rem"},children:null===(i=k[e])||void 0===i?void 0:i.icon})]},e)})})]})})]})]})]}),(0,s.jsx)(Qe,{})]})},No=()=>(0,s.jsxs)(N.A,{sx:{padding:"3rem",textAlign:"center"},children:[(0,s.jsx)(_.A,{variant:"h4",children:"Unauthorized"}),(0,s.jsx)(_.A,{variant:"body1",children:"You do not have permission to access this page."})]}),_o=Ge,Io=15e3,Eo=300,To=.08,Wo={x:25,y:20},Fo="https://images.unsplash.com/photo-1473341304170-971dccb5ac1e?w=1600&h=1200&fit=crop&q=95&auto=format",Po="https://images.unsplash.com/photo-1578662996442-48f60103fc96?w=1600&h=1200&fit=crop&q=95&auto=format",Ro="https://images.unsplash.com/photo-1532996122724-e3c354a0b15b?w=1600&h=1200&fit=crop&q=95&auto=format",Bo="https://images.unsplash.com/photo-1586348943529-beaae6c28db9?w=1600&h=1200&fit=crop&q=95&auto=format",Do="https://images.unsplash.com/photo-1559827260-dc66d52bef19?w=1600&h=1200&fit=crop&q=95&auto=format",Lo="https://images.unsplash.com/photo-1625246333195-78d9c38ad449?w=1600&h=1200&fit=crop&q=95&auto=format",Mo="https://images.unsplash.com/photo-1497486751825-1233686d5d80?w=1600&h=1200&fit=crop&q=95&auto=format",Ho="https://images.unsplash.com/photo-1576091160399-112ba8d25d1f?w=1600&h=1200&fit=crop&q=95&auto=format",qo="https://images.unsplash.com/photo-1522202176988-66273c2fd55f?w=1600&h=1200&fit=crop&q=95&auto=format",Oo=[{gradient:"from-emerald-900/60 via-green-800/40 to-emerald-900/60",accentColor:"#00ff88",icon:"\ud83c\udf31"},{gradient:"from-blue-900/60 via-indigo-800/40 to-blue-900/60",accentColor:"#00ccff",icon:"\ud83d\udd4a\ufe0f"},{gradient:"from-purple-900/60 via-violet-800/40 to-purple-900/60",accentColor:"#ff44ff",icon:"\u267b\ufe0f"},{gradient:"from-teal-900/60 via-cyan-800/40 to-teal-900/60",accentColor:"#00ffd4",icon:"\ud83c\udf3f"},{gradient:"from-sky-900/60 via-blue-800/40 to-sky-900/60",accentColor:"#0088ff",icon:"\ud83d\udca7"},{gradient:"from-amber-900/60 via-yellow-800/40 to-amber-900/60",accentColor:"#ffaa00",icon:"\ud83c\udf3e"},{gradient:"from-rose-900/60 via-pink-800/40 to-rose-900/60",accentColor:"#ff4488",icon:"\ud83d\udcda"},{gradient:"from-red-900/60 via-rose-800/40 to-red-900/60",accentColor:"#ff3366",icon:"\ud83c\udfe5"},{gradient:"from-orange-900/60 via-amber-800/40 to-orange-900/60",accentColor:"#ff6600",icon:"\ud83d\ude80"}],Uo=(e,n)=>{const t=e.toLowerCase();return t.includes("energy")||t.includes("net zero")?Fo:t.includes("peace")||t.includes("security")||t.includes("migration")?Po:t.includes("waste")||t.includes("chemical")?Ro:t.includes("nature")||t.includes("conservation")||t.includes("resource")?Bo:t.includes("water")||t.includes("wash")||t.includes("sanitation")?Do:t.includes("agriculture")||t.includes("food")?Lo:t.includes("education")||t.includes("learning")?Mo:t.includes("health")?Ho:t.includes("youth")||t.includes("job")||t.includes("employment")?qo:Bo},Yo=()=>{const[e,n]=(0,i.useState)([]),[t,a]=(0,i.useState)(!0),[r,o]=(0,i.useState)(null),s=async()=>{try{a(!0),o(null),console.log("Fetching pillars from API...");const e=await fetch("".concat(_o,"/pillars"),{credentials:"include",headers:{Accept:"application/json"}});if(!e.ok)throw new Error("Failed to fetch pillars: ".concat(e.status," ").concat(e.statusText));const t=await e.json();console.log("Pillars data received:",t);const r=(t.data||[]).map((e,n)=>{const t=Oo[n%Oo.length],a=e.focus_areas?e.focus_areas.map(e=>e.name):[];return{id:e.id,title:e.name,text:e.description,focusAreas:a,number:String(n+1).padStart(2,"0"),image:Uo(e.name,e.description),gradient:t.gradient,accentColor:t.accentColor,icon:t.icon}});n(r)}catch(e){console.error("Error fetching pillars:",e),o(e.message)}finally{a(!1)}};return(0,i.useEffect)(()=>{s()},[]),{pillars:e,loading:t,error:r,refetch:s}},Go=function(e){return"\n  linear-gradient(135deg, \n    ".concat(e.surface,"aa 0%,\n    ").concat(e.cardBg,"77 50%,\n    ").concat(e.surface,"aa 100%)\n")},Vo=(e,n,t)=>"\n  linear-gradient(135deg, \n    ".concat(e," 0%, \n    ").concat(n," 50%,\n    ").concat(e," 100%)\n"),Jo=(e,n)=>"\n  linear-gradient(135deg, \n    ".concat(n.background," 0%,\n    rgba(0, 0, 0, 0.6) 25%,\n    rgba(0, 0, 0, 0.4) 50%,\n    rgba(0, 0, 0, 0.7) 75%,\n    ").concat(n.background," 100%\n  ),\n  radial-gradient(circle at 30% 40%, ").concat(e,"20 0%, transparent 60%),\n  radial-gradient(circle at 80% 20%, ").concat(e,"15 0%, transparent 50%)\n"),Ko=e=>{let{activePillar:n,scrollY:t,mouseParallax:a,colors:r}=e;return(0,s.jsxs)("div",{className:"quantum-background",children:[(0,s.jsx)("img",{src:n.image,alt:n.title,className:"background-image",style:{transform:"scale(".concat(1.1+8e-4*a.x,") translate3d(").concat(.5*a.x,"px, ").concat(.3*a.y,"px, 0)")}},n.number),(0,s.jsx)("div",{className:"dynamic-overlay",style:{background:Jo(n.accentColor,r)}})]})},Xo=e=>{let{activePillar:n,parallaxOffset:t,mouseParallax:a,scrollY:r,colors:o}=e;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"floating-element floating-element--right",style:{background:"conic-gradient(from ".concat(.1*r,"deg at 50% 50%, \n          ").concat(n.accentColor,"40 0deg, \n          transparent 60deg, \n          ").concat(n.accentColor,"20 120deg,\n          transparent 180deg,\n          ").concat(n.accentColor,"30 240deg,\n          transparent 300deg,\n          ").concat(n.accentColor,"40 360deg)"),transform:"translate3d(".concat(1.2*a.x,"px, ").concat(a.y+.08*t,"px, 0) rotate(").concat(.03*r,"deg)")}}),(0,s.jsx)("div",{className:"floating-element floating-element--left",style:{background:"radial-gradient(circle, \n          ".concat(n.accentColor,"25 0%, \n          ").concat(n.accentColor,"15 30%,\n          transparent 70%)"),transform:"translate3d(".concat(.8*-a.x,"px, ").concat(.6*-a.y-.05*t,"px, 0) rotate(").concat(.02*-r,"deg)")}}),(0,s.jsx)("div",{className:"grid-line grid-line--left",style:{background:"linear-gradient(to bottom, \n          transparent, \n          ".concat(n.accentColor,"60, \n          ").concat(n.accentColor,"80,\n          ").concat(n.accentColor,"40,\n          transparent)"),transform:"translate3d(".concat(.8*a.x,"px, ").concat(.15*t,"px, 0) \n          rotateZ(").concat(15+.2*a.x,"deg) \n          perspective(1000px) \n          rotateX(").concat(15+.4*a.y,"deg)"),boxShadow:"0 0 30px ".concat(n.accentColor,"60")}}),(0,s.jsx)("div",{className:"grid-line grid-line--right",style:{background:"linear-gradient(to bottom, \n          transparent, \n          ".concat(n.accentColor,"40, \n          ").concat(n.accentColor,"60,\n          transparent)"),transform:"translate3d(".concat(.6*-a.x,"px, ").concat(.1*-t,"px, 0) \n          rotateZ(").concat(.12*a.x-20,"deg)"),boxShadow:"0 0 20px ".concat(n.accentColor,"40")}})]})},Zo=e=>{let{pillar:n,index:t,isActive:a,onSelect:r,colors:o}=e;return(0,s.jsxs)("div",{className:"pillar-nav-item ".concat(a?"pillar-nav-item--active":""),style:{background:a?Go(o,.2):"transparent",borderColor:a?"".concat(n.accentColor,"40"):"transparent",boxShadow:a?"inset 0 1px 0 ".concat(o.border,", 0 15px 40px ").concat(o.cardShadow,", 0 0 50px ").concat(n.accentColor,"30"):"none"},onClick:()=>r(t),onMouseEnter:e=>{if(!a){const t=e.currentTarget;t.style.opacity="0.8",t.style.transform="translate3d(15px, 0, 15px) scale(1.01)",t.style.background=Go(o,.15),t.style.borderColor="".concat(n.accentColor,"20")}},onMouseLeave:e=>{if(!a){const n=e.currentTarget;n.style.opacity="0.5",n.style.transform="translate3d(0, 0, 0) scale(1)",n.style.background="transparent",n.style.borderColor="transparent"}},children:[a&&(0,s.jsx)("div",{className:"quantum-ripple",style:{background:"radial-gradient(circle, ".concat(n.accentColor,"15 0%, transparent 70%)")}}),(0,s.jsx)("div",{className:"pillar-number",style:{background:a?Vo(n.accentColor,o.text):o.surface,color:a?o.text:o.textSecondary,textShadow:a?"0 0 30px ".concat(n.accentColor,"80"):"none"},children:n.number}),(0,s.jsx)("div",{className:"pillar-icon",style:{filter:a?"drop-shadow(0 0 10px ".concat(n.accentColor,"60)"):"none"},children:n.icon}),(0,s.jsx)("h3",{className:"pillar-title",style:{color:a?o.text:o.textMuted,textShadow:a?"0 0 20px ".concat(n.accentColor,"40"):"none"},children:n.title}),(0,s.jsx)("div",{className:"activation-indicator",style:{background:a?"linear-gradient(to bottom, ".concat(n.accentColor,", ").concat(o.text,", ").concat(n.accentColor,")"):o.border,boxShadow:a?"0 0 25px ".concat(n.accentColor,"80, inset 0 0 10px ").concat(n.accentColor,"40"):"none"},children:a&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"quantum-orb quantum-orb--top",style:{background:n.accentColor,boxShadow:"0 0 20px ".concat(n.accentColor,"80")}}),(0,s.jsx)("div",{className:"quantum-orb quantum-orb--bottom",style:{background:o.text}})]})})]})},$o=e=>{let{pillars:n,activeIndex:t,onPillarChange:a,activePillar:r,isVisible:o,colors:i}=e;return(0,s.jsx)("div",{className:"pillar-navigation ".concat(o?"pillar-navigation--visible":""),children:(0,s.jsxs)("div",{className:"navigation-container",style:{background:Go(i,.12),border:"1px solid ".concat(i.border),boxShadow:"0 30px 80px ".concat(i.cardShadow,", inset 0 1px 0 ").concat(i.border,", 0 0 40px ").concat(r.accentColor,"20")},children:[(0,s.jsx)("div",{className:"quantum-edge-glow",style:{background:"conic-gradient(from 0deg, ".concat(r.accentColor,"40, transparent, ").concat(r.accentColor,"20, transparent, ").concat(r.accentColor,"40)")}}),n.map((e,n)=>(0,s.jsx)(Zo,{pillar:e,index:n,isActive:n===t,onSelect:a,colors:i},e.id))]})})},Qo=e=>{let{focusAreas:n,accentColor:t,isTransitioning:a,isVisible:r,colors:o}=e;return(0,s.jsxs)("div",{className:"focus-areas",children:[(0,s.jsxs)("h4",{className:"focus-areas-title",style:{color:t,textShadow:"0 0 25px ".concat(t,"80")},children:[(0,s.jsx)("div",{style:{background:"linear-gradient(90deg, ".concat(t,", transparent)")},className:"title-line"}),"Focus Areas Matrix",(0,s.jsx)("div",{style:{background:"linear-gradient(90deg, transparent, ".concat(t,")")},className:"title-line"})]}),(0,s.jsx)("div",{className:"focus-areas-grid",children:n.map((e,n)=>(0,s.jsxs)("div",{className:"focus-area-item ".concat(r?"focus-area-item--visible":""),style:{background:Go(o,.15),border:"1px solid ".concat(o.border),opacity:a?.3:1,animationDelay:"".concat(.15*n,"s"),color:o.text},onMouseEnter:e=>{e.target.style.background=Go(o,.25),e.target.style.borderColor="".concat(t,"60"),e.target.style.transform="translate3d(0, -12px, 30px) scale(1.03)",e.target.style.boxShadow="0 25px 60px ".concat(o.cardShadow,", inset 0 1px 0 ").concat(o.border,", 0 0 40px ").concat(t,"60"),e.target.style.color=o.text},onMouseLeave:e=>{e.target.style.background=Go(o,.15),e.target.style.borderColor=o.border,e.target.style.transform="translate3d(0, 0, 0)",e.target.style.boxShadow="inset 0 1px 0 ".concat(o.border,", 0 10px 30px ").concat(o.cardShadow),e.target.style.color=o.text},children:[(0,s.jsx)("div",{className:"quantum-particle",style:{background:t,boxShadow:"0 0 15px ".concat(t,"80")}}),e]},n))})]})},ei=e=>{let{pillars:n,activeIndex:t,activePillar:a,onPillarChange:r,colors:o}=e;const i=(e,n,t)=>(0,s.jsx)("button",{className:"progress-button",style:{background:Go(o,.15),border:"1px solid ".concat(o.border),color:a.accentColor},onClick:()=>r(n),onMouseEnter:e=>{e.target.style.background=Go(o,.3),e.target.style.transform="scale(1.1) translate3d(0, -2px, 10px)",e.target.style.boxShadow="0 10px 25px ".concat(o.cardShadow,", 0 0 30px ").concat(a.accentColor,"60"),e.target.style.color=o.text},onMouseLeave:e=>{e.target.style.background=Go(o,.15),e.target.style.transform="scale(1) translate3d(0, 0, 0)",e.target.style.boxShadow="inset 0 1px 0 ".concat(o.border),e.target.style.color=a.accentColor},children:t});return(0,s.jsxs)("div",{className:"progress-matrix",style:{background:Go(o,.12),border:"1px solid ".concat(o.border),boxShadow:"inset 0 1px 0 ".concat(o.border)},children:[(0,s.jsx)("div",{className:"progress-bars",children:n.map((e,n)=>(0,s.jsx)("div",{className:"progress-bar",style:{background:n<=t?"linear-gradient(90deg, ".concat(a.accentColor,", ").concat(o.text,", ").concat(a.accentColor,")"):o.surface,boxShadow:n<=t?"0 0 20px ".concat(a.accentColor,"80, inset 0 1px 2px ").concat(a.accentColor,"40"):"none"},onClick:()=>r(n),onMouseEnter:e=>{n>t&&(e.target.style.background=o.cardBg)},onMouseLeave:e=>{n>t&&(e.target.style.background=o.surface)},children:n<=t&&(0,s.jsx)("div",{className:"progress-particle",style:{background:o.text}})},e.id))}),(0,s.jsxs)("div",{className:"progress-counter",style:{background:Go(o,.2),border:"1px solid ".concat(o.border),color:o.text,textShadow:"0 0 20px ".concat(a.accentColor,"60"),boxShadow:"inset 0 1px 0 ".concat(o.border,", 0 0 25px ").concat(a.accentColor,"40")},children:[String(t+1).padStart(2,"0")," ",(0,s.jsx)("span",{className:"counter-separator",style:{color:o.textMuted},children:"/"})," ",String(n.length).padStart(2,"0")]}),(0,s.jsxs)("div",{className:"navigation-controls",children:[i(0,t>0?t-1:n.length-1,"\u2190"),i(0,t<n.length-1?t+1:0,"\u2192")]})]})},ni=e=>{let{activePillar:n,isVisible:t,isTransitioning:a,mousePosition:r,colors:o}=e;return(0,s.jsx)("div",{className:"pillar-content ".concat(t?"pillar-content--visible":""),children:(0,s.jsxs)("div",{className:"content-container",style:{background:Go(o,.15),border:"1px solid ".concat(o.border),boxShadow:"0 40px 120px ".concat(o.cardShadow,", inset 0 1px 0 ").concat(o.border,", 0 0 60px ").concat(n.accentColor,"20"),transform:"perspective(1000px) rotateX(".concat(1*r.y,"deg) rotateY(").concat(1*r.x,"deg) translate3d(0, 0, ").concat(a?"-50px":"0",")")},children:[(0,s.jsx)("div",{className:"quantum-mesh",style:{background:"\n            radial-gradient(circle at 20% 80%, ".concat(n.accentColor,"15 0%, transparent 50%),\n            radial-gradient(circle at 80% 20%, ").concat(n.accentColor,"10 0%, transparent 50%),\n            linear-gradient(45deg, transparent 49%, ").concat(n.accentColor,"05 50%, transparent 51%)\n          ")}}),(0,s.jsxs)("div",{className:"content-header",children:[(0,s.jsx)("div",{className:"content-number",style:{background:Vo(n.accentColor,o.text),color:o.text,textShadow:"0 0 50px ".concat(n.accentColor,"80")},children:n.number}),(0,s.jsxs)("div",{className:"content-title-group",children:[(0,s.jsx)("h2",{className:"content-title",style:{background:Vo(o.text,n.accentColor),color:o.text,textShadow:"0 0 40px ".concat(n.accentColor,"60"),opacity:a?.3:1,transform:a?"translate3d(0, 20px, -10px)":"translate3d(0, 0, 0)"},children:n.title}),(0,s.jsx)("div",{className:"content-icon",style:{filter:"drop-shadow(0 0 20px ".concat(n.accentColor,"80)")},children:n.icon})]})]}),(0,s.jsx)("p",{className:"content-text",style:{color:o.textSecondary,opacity:a?.3:1,transform:a?"translate3d(0, 30px, -20px)":"translate3d(0, 0, 0)"},children:n.text}),(0,s.jsx)(Qo,{focusAreas:n.focusAreas,accentColor:n.accentColor,isTransitioning:a,isVisible:t,colors:o}),(0,s.jsxs)("div",{className:"status-matrix",style:{borderColor:o.border},children:[(0,s.jsxs)("div",{className:"status-item",style:{color:o.textMuted},children:["Impact Level: ",(0,s.jsx)("span",{className:"status-value",style:{color:n.accentColor,textShadow:"0 0 10px ".concat(n.accentColor,"60")},children:"Continental"})]}),(0,s.jsxs)("div",{className:"status-item",style:{color:o.textMuted},children:["Status: ",(0,s.jsx)("span",{className:"status-value status-value--active",style:{color:o.accent},children:"Active"})]}),(0,s.jsxs)("div",{className:"quantum-sync",children:[(0,s.jsx)("div",{className:"sync-indicator",style:{background:n.accentColor,boxShadow:"0 0 15px ".concat(n.accentColor,"80")}}),(0,s.jsx)("span",{className:"sync-label",style:{color:o.textMuted},children:"Quantum Sync"})]})]})]})})},ti=e=>{let{colors:n}=e;return(0,s.jsx)("div",{className:"loading-screen",style:{background:n.background},children:(0,s.jsxs)("div",{className:"loading-container",style:{background:Go(n,.1),border:"1px solid ".concat(n.border)},children:[(0,s.jsxs)("div",{className:"quantum-loader",children:[(0,s.jsx)("div",{className:"loader-ring",style:{borderColor:"".concat(n.accent,"40"),borderTopColor:n.accent}}),(0,s.jsx)("div",{className:"loader-pulse",style:{background:"radial-gradient(circle, ".concat(n.accent,"40 0%, transparent 70%)")}})]}),(0,s.jsx)("div",{className:"loading-text",style:{color:n.accent},children:"Initializing Quantum Matrix..."}),(0,s.jsx)("div",{className:"loading-subtitle",style:{color:n.textSecondary},children:"Synchronizing programme data streams"})]})})},ai=e=>{let{error:n,onRetry:t,colors:a}=e;return(0,s.jsx)("div",{className:"error-screen",style:{background:a.background},children:(0,s.jsxs)("div",{className:"error-container",style:{background:Go(a,.1),border:"1px solid ".concat(a.border)},children:[(0,s.jsx)("div",{className:"error-icon",style:{color:a.error},children:"\u26a0\ufe0f"}),(0,s.jsx)("h3",{className:"error-title",style:{color:a.text},children:"Connection Error"}),(0,s.jsx)("p",{className:"error-message",style:{color:a.textSecondary},children:n}),(0,s.jsx)("button",{className:"retry-button",onClick:t,style:{background:Go(a,.2),border:"1px solid ".concat(a.border),color:a.text},onMouseEnter:e=>{e.target.style.background=Go(a,.4),e.target.style.transform="scale(1.05)"},onMouseLeave:e=>{e.target.style.background=Go(a,.2),e.target.style.transform="scale(1)"},children:"Retry Connection"})]})})};function ri(){const[e,n]=(0,i.useState)(0),[t,a]=(0,i.useState)(!1),{colors:r}=(()=>{const[e]=(0,i.useState)(!0);return{colors:{primary:"#0a451c",secondary:"#facf3c",accent:"#9ccf3f",primaryLight:"#1a5a2c",primaryDark:"#052310",secondaryLight:"#fdd835",accentLight:"#b8dfbb",accentDark:"#7a9b2d",success:"#4caf50",warning:"#ff9800",error:"#f44336",info:"#2196f3",white:"#ffffff",black:"#000000",background:"#000000",backgroundSecondary:"#0f0f0f",surface:"#1a1a1a",cardBg:"#1e1e1e",text:"#ffffff",textSecondary:"rgba(255, 255, 255, 0.8)",textMuted:"rgba(255, 255, 255, 0.6)",border:"rgba(255, 255, 255, 0.15)",cardShadow:"rgba(0, 0, 0, 0.3)"},isDarkMode:e}})(),{pillars:o,loading:l,error:c,refetch:d}=Yo(),p=(()=>{const[e,n]=(0,i.useState)(0);return(0,i.useEffect)(()=>{const e=()=>n(window.scrollY);return window.addEventListener("scroll",e,{passive:!0}),()=>window.removeEventListener("scroll",e)},[]),e*To})(),{mousePosition:m,mouseParallax:x}=(()=>{const[e,n]=(0,i.useState)({x:0,y:0});return(0,i.useEffect)(()=>{const e=e=>{n({x:2*(e.clientX/window.innerWidth-.5),y:2*(e.clientY/window.innerHeight-.5)})};return window.addEventListener("mousemove",e,{passive:!0}),()=>window.removeEventListener("mousemove",e)},[]),{mousePosition:e,mouseParallax:{x:e.x*Wo.x,y:e.y*Wo.y}}})(),{isVisible:u,sectionRef:g}=(()=>{const[e,n]=(0,i.useState)(!1),t=(0,i.useRef)(null);return(0,i.useEffect)(()=>{const e=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting&&n(!0)})},{threshold:.05,rootMargin:"0px 0px -50px 0px"});return t.current&&e.observe(t.current),()=>e.disconnect()},[]),{isVisible:e,sectionRef:t}})();!function(e,n){let t=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];(0,i.useEffect)(()=>{if(!t||0===e)return;const a=setInterval(()=>{n(n=>(n+1)%e)},Io);return()=>clearInterval(a)},[e,n,t])}(o.length,n,!l&&o.length>0),(0,i.useEffect)(()=>{o.length>0&&e>=o.length&&n(0)},[o.length,e]);const h=t=>{t!==e&&o.length>0&&(a(!0),setTimeout(()=>{n(t),a(!1)},Eo))};if(l)return(0,s.jsxs)("div",{ref:g,className:"programme-pillars-section",children:[(0,s.jsx)(ti,{colors:r}),(0,s.jsx)("style",{children:oi(r)})]});if(c)return(0,s.jsxs)("div",{ref:g,className:"programme-pillars-section",children:[(0,s.jsx)(ai,{error:c,onRetry:d,colors:r}),(0,s.jsx)("style",{children:oi(r)})]});if(!o||0===o.length)return(0,s.jsxs)("div",{ref:g,className:"programme-pillars-section",children:[(0,s.jsx)("div",{className:"empty-state",style:{background:r.background},children:(0,s.jsxs)("div",{className:"empty-container",style:{background:Go(r,.1),border:"1px solid ".concat(r.border)},children:[(0,s.jsx)("div",{className:"empty-icon",children:"\ud83d\udccb"}),(0,s.jsx)("h3",{className:"empty-title",style:{color:r.text},children:"No Programme Pillars Available"}),(0,s.jsx)("p",{className:"empty-message",style:{color:r.textSecondary},children:"Programme pillars are currently being configured. Please check back later."}),(0,s.jsx)("button",{className:"refresh-button",onClick:d,style:{background:Go(r,.2),border:"1px solid ".concat(r.border),color:r.text},children:"Refresh Data"})]})}),(0,s.jsx)("style",{children:oi(r)})]});const f=o[e];return(0,s.jsxs)("div",{ref:g,className:"programme-pillars-section",style:{backgroundColor:r.background},children:[(0,s.jsx)(Ko,{activePillar:f,scrollY:window.scrollY||0,mouseParallax:x,colors:r}),(0,s.jsx)(Xo,{activePillar:f,parallaxOffset:p,mouseParallax:x,scrollY:window.scrollY||0,colors:r}),(0,s.jsxs)("div",{className:"section-container",children:[(0,s.jsxs)("div",{style:{maxWidth:"1100px",margin:"0 auto 80px auto",textAlign:"center"},children:[(0,s.jsx)(pe.P.h1,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{margin:"-50px"},transition:{duration:.6},style:{fontSize:"clamp(32px, 4vw, 48px)",fontWeight:600,color:r.text,margin:"0 0 16px 0",letterSpacing:"-0.02em",lineHeight:"1.1"},children:"Programme Pillars"}),(0,s.jsx)(pe.P.div,{initial:{scaleX:0},whileInView:{scaleX:1},viewport:{margin:"-50px"},transition:{duration:.8},style:{width:"60px",height:"2px",background:"linear-gradient(90deg, ".concat(r.secondary," 0%, ").concat(r.secondaryLight," 100%)"),margin:"0 auto 24px auto",borderRadius:"1px",transformOrigin:"center"}}),(0,s.jsx)(pe.P.p,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{margin:"-50px"},transition:{duration:.6,delay:.2},style:{fontSize:"16px",color:r.textSecondary,margin:"0",letterSpacing:"0.5px",fontWeight:400,opacity:.9},children:"ACEF's key programme pillars that define our impact and plan."})]}),(0,s.jsxs)("div",{className:"content-grid",children:[(0,s.jsx)($o,{pillars:o,activeIndex:e,onPillarChange:h,activePillar:f,isVisible:u,colors:r}),(0,s.jsx)(ni,{activePillar:f,isVisible:u,isTransitioning:t,mousePosition:m,colors:r})]}),(0,s.jsx)(ei,{pillars:o,activeIndex:e,activePillar:f,onPillarChange:h,colors:r})]}),(0,s.jsx)("style",{children:oi(r)})]})}function oi(e){return"\n    .programme-pillars-section {\n      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;\n      min-height: 100vh;\n      position: relative;\n      overflow: hidden;\n      background-color: ".concat(e.background,";\n    }\n\n    /* Loading States */\n    .loading-screen, .error-screen, .empty-state {\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      min-height: 100vh;\n    }\n\n    .loading-container, .error-container, .empty-container {\n      text-align: center;\n      padding: 60px;\n      backdrop-filter: blur(20px);\n      border-radius: 24px;\n      box-shadow: 0 20px 60px ").concat(e.cardShadow,';\n    }\n\n    .quantum-loader {\n      position: relative;\n      width: 80px;\n      height: 80px;\n      margin: 0 auto 30px;\n    }\n\n    .loader-ring {\n      width: 80px;\n      height: 80px;\n      border: 3px solid transparent;\n      border-radius: 50%;\n      animation: quantumSpin 2s linear infinite;\n    }\n\n    .loader-pulse {\n      position: absolute;\n      top: 50%;\n      left: 50%;\n      width: 40px;\n      height: 40px;\n      transform: translate(-50%, -50%);\n      border-radius: 50%;\n      animation: quantumPulse 1.5s ease-in-out infinite;\n    }\n\n    .loading-text, .error-title, .empty-title {\n      font-size: clamp(20px, 3vw, 24px);\n      font-weight: 700;\n      margin-bottom: 15px;\n      text-shadow: 0 0 20px currentColor;\n      letter-spacing: -0.02em;\n    }\n\n    .loading-subtitle, .error-message, .empty-message {\n      font-size: 16px;\n      margin-bottom: 30px;\n      line-height: 1.6;\n    }\n\n    .error-icon, .empty-icon {\n      font-size: 4rem;\n      margin-bottom: 20px;\n    }\n\n    .retry-button, .refresh-button {\n      padding: 15px 30px;\n      border-radius: 12px;\n      font-weight: 600;\n      cursor: pointer;\n      transition: all 0.3s ease;\n      backdrop-filter: blur(10px);\n      font-size: 14px;\n    }\n\n    @keyframes quantumSpin {\n      0% { transform: rotate(0deg); }\n      100% { transform: rotate(360deg); }\n    }\n\n    /* Background Components */\n    .quantum-background {\n      position: absolute;\n      top: 0;\n      left: 0;\n      width: 100%;\n      height: 100%;\n      z-index: 0;\n    }\n\n    .background-image {\n      width: 100%;\n      height: 100%;\n      object-fit: cover;\n      transition: transform 0.3s ease-out, opacity 1s ease-out;\n      opacity: 0.9;\n    }\n\n    .dynamic-overlay {\n      position: absolute;\n      inset: 0;\n      transition: all 1s ease-out;\n    }\n\n    /* Quantum Effects */\n    .floating-element {\n      position: absolute;\n      border-radius: 50%;\n      filter: blur(150px);\n      transition: background 1s ease-out, transform 0.3s ease-out;\n      z-index: 1;\n    }\n\n    .floating-element--right {\n      top: 15%;\n      right: 8%;\n      width: 600px;\n      height: 600px;\n    }\n\n    .floating-element--left {\n      bottom: 10%;\n      left: -5%;\n      width: 800px;\n      height: 800px;\n      filter: blur(120px);\n    }\n\n    .grid-line {\n      position: absolute;\n      width: 2px;\n      transition: all 0.3s ease-out, background 1s ease-out;\n      z-index: 1;\n    }\n\n    .grid-line--left {\n      top: 20%;\n      left: 10%;\n      height: 300px;\n    }\n\n    .grid-line--right {\n      bottom: 25%;\n      right: 15%;\n      height: 200px;\n      width: 1px;\n    }\n\n    /* Layout */\n    .section-container {\n      max-width: 1200px;\n      margin: 0 auto;\n      padding: 120px 32px 200px;\n      position: relative;\n      z-index: 10;\n    }\n\n    .content-grid {\n      display: grid;\n      grid-template-columns: 580px 1fr;\n      gap: 120px;\n      align-items: start;\n      perspective: 3000px;\n    }\n\n    /* Header */\n    .section-header {\n      text-align: center;\n      margin-bottom: 80px;\n      transform: translate3d(0, 100px, -50px);\n      opacity: 0;\n      transition: all 2.5s cubic-bezier(0.16, 1, 0.3, 1);\n    }\n\n    .section-header--visible {\n      transform: translate3d(0, 0, 0);\n      opacity: 1;\n    }\n\n    .header-subtitle {\n      font-size: 14px;\n      font-weight: 500;\n      text-transform: uppercase;\n      letter-spacing: 0.5px;\n      margin-bottom: 16px;\n      transform: translate3d(0, 30px, -20px);\n      opacity: 0;\n      transition: all 2s ease-out 0.5s, color 1s ease-out;\n      text-shadow: 0 0 20px currentColor;\n      position: relative;\n    }\n\n    .section-header--visible .header-subtitle {\n      transform: translate3d(0, 0, 0);\n      opacity: 1;\n    }\n\n    .header-title {\n      font-size: clamp(32px, 4vw, 48px);\n      font-weight: 600;\n      background-size: 300% 300%;\n      background-clip: text;\n      -webkit-background-clip: text;\n      -webkit-text-fill-color: transparent;\n      margin-bottom: 24px;\n      letter-spacing: -0.02em;\n      line-height: 1.1;\n      transform: translate3d(0, 60px, -30px) scale(0.9);\n      opacity: 0;\n      transition: all 2.5s ease-out 0.7s, background 1s ease-out;\n      animation: holographicShimmer 2s ease-in-out infinite alternate;\n    }\n\n    .section-header--visible .header-title {\n      transform: translate3d(0, 0, 0) scale(1);\n      opacity: 1;\n    }\n\n    .header-divider {\n      width: 60px;\n      height: 2px;\n      margin: 0 auto 24px;\n      transform: scaleX(0);\n      transition: transform 3s ease-out 1s, background 1s ease-out;\n      border-radius: 1px;\n    }\n\n    .section-header--visible .header-divider {\n      transform: scaleX(1);\n    }\n\n    .header-description {\n      font-size: 16px;\n      background-clip: text;\n      -webkit-background-clip: text;\n      -webkit-text-fill-color: transparent;\n      max-width: 512px;\n      margin: 0 auto;\n      line-height: 1.6;\n      font-weight: 400;\n      letter-spacing: 0;\n      transform: translate3d(0, 40px, -20px);\n      opacity: 0;\n      transition: all 2s ease-out 1.2s, background 1s ease-out;\n    }\n\n    .section-header--visible .header-description {\n      transform: translate3d(0, 0, 0);\n      opacity: 1;\n    }\n\n    /* Navigation */\n    .pillar-navigation {\n      position: sticky;\n      top: 100px;\n      transform: translate3d(-200px, 60px, -120px) rotateY(-20deg);\n      opacity: 0;\n      transition: all 2.5s cubic-bezier(0.16, 1, 0.3, 1) 0.6s;\n    }\n\n    .pillar-navigation--visible {\n      transform: translate3d(0, 0, 0) rotateY(0deg);\n      opacity: 1;\n    }\n\n    .navigation-container {\n      backdrop-filter: blur(25px) saturate(200%) brightness(120%);\n      -webkit-backdrop-filter: blur(25px) saturate(200%) brightness(120%);\n      border-radius: 16px;\n      padding: 32px 0;\n      transition: border-color 1s ease-out, box-shadow 1s ease-out;\n      position: relative;\n    }\n\n    .quantum-edge-glow {\n      position: absolute;\n      inset: -1px;\n      border-radius: 16px;\n      z-index: -1;\n      filter: blur(2px);\n      transition: background 1s ease-out;\n    }\n\n    .pillar-nav-item {\n      display: flex;\n      align-items: center;\n      gap: 16px;\n      padding: 16px 24px;\n      cursor: pointer;\n      transition: all 1s cubic-bezier(0.23, 1, 0.32, 1);\n      border-radius: 12px;\n      margin: 0 16px;\n      border: 1px solid transparent;\n      position: relative;\n      overflow: hidden;\n      opacity: 0.5;\n    }\n\n    .pillar-nav-item--active {\n      transform: translate3d(15px, 0, 15px) scale(1.02);\n      opacity: 1;\n    }\n\n    .quantum-ripple {\n      position: absolute;\n      top: 50%;\n      left: 50%;\n      width: 300%;\n      height: 300%;\n      transform: translate(-50%, -50%);\n      border-radius: 50%;\n      animation: quantumPulse 3s ease-in-out infinite;\n      z-index: -1;\n    }\n\n    .pillar-number {\n      font-size: 32px;\n      font-weight: 700;\n      background-size: 200% 200%;\n      background-clip: text;\n      -webkit-background-clip: text;\n      -webkit-text-fill-color: transparent;\n      min-width: 50px;\n      transition: all 0.2s ease;\n      font-feature-settings: "tnum" 1;\n      line-height: 1;\n    }\n\n    .pillar-nav-item--active .pillar-number {\n      animation: numberGlow 2s ease-in-out infinite alternate;\n    }\n\n    .pillar-icon {\n      font-size: 20px;\n      margin: 0;\n      transition: all 0.6s ease;\n    }\n\n    .pillar-title {\n      font-size: 16px;\n      font-weight: 700;\n      margin: 0;\n      transition: color 0.2s ease;\n      line-height: 1.3;\n      letter-spacing: -0.02em;\n      flex: 1;\n    }\n\n    .activation-indicator {\n      width: 4px;\n      height: 40px;\n      transition: all 0.2s ease;\n      border-radius: 3px;\n      position: relative;\n    }\n\n    .quantum-orb {\n      position: absolute;\n      left: 50%;\n      width: 12px;\n      height: 12px;\n      border-radius: 50%;\n      transform: translateX(-50%);\n      animation: quantumOrb 2s ease-in-out infinite;\n    }\n\n    .quantum-orb--top {\n      top: -6px;\n    }\n\n    .quantum-orb--bottom {\n      bottom: -6px;\n      animation-delay: 1s;\n    }\n\n    /* Content */\n    .pillar-content {\n      transform: translate3d(150px, 100px, -100px) rotateY(15deg);\n      opacity: 0;\n      transition: all 2.5s cubic-bezier(0.16, 1, 0.3, 1) 1s;\n    }\n\n    .pillar-content--visible {\n      transform: translate3d(0, 0, 0) rotateY(0deg);\n      opacity: 1;\n    }\n\n    .content-container {\n      backdrop-filter: blur(30px) saturate(200%) brightness(120%);\n      -webkit-backdrop-filter: blur(30px) saturate(200%) brightness(120%);\n      border-radius: 16px;\n      padding: 32px;\n      position: relative;\n      overflow: hidden;\n      transition: all 1s ease-out;\n    }\n\n    .quantum-mesh {\n      position: absolute;\n      top: 0;\n      left: 0;\n      right: 0;\n      bottom: 0;\n      transition: background 1s ease-out;\n      z-index: -1;\n    }\n\n    .content-header {\n      display: flex;\n      align-items: center;\n      gap: 16px;\n      margin-bottom: 24px;\n    }\n\n    .content-number {\n      font-size: 48px;\n      font-weight: 700;\n      background-size: 300% 300%;\n      background-clip: text;\n      -webkit-background-clip: text;\n      -webkit-text-fill-color: transparent;\n      line-height: 1;\n      font-feature-settings: "tnum" 1;\n      animation: holographicShimmer 3s ease-in-out infinite alternate;\n      transition: all 1s ease-out;\n    }\n\n    .content-title-group {\n      flex: 1;\n    }\n\n    .content-title {\n      font-size: clamp(24px, 3vw, 32px);\n      font-weight: 600;\n      background-size: 200% 200%;\n      background-clip: text;\n      -webkit-background-clip: text;\n      -webkit-text-fill-color: transparent;\n      margin: 0;\n      line-height: 1.1;\n      letter-spacing: -0.02em;\n      animation: holographicShimmer 2s ease-in-out infinite alternate 1s;\n      transition: all 1s ease-out;\n    }\n\n    .content-icon {\n      font-size: 24px;\n      margin: 8px 0 0 0;\n      animation: float 3s ease-in-out infinite;\n    }\n\n    .content-text {\n      font-size: 16px;\n      line-height: 1.6;\n      margin-bottom: 32px;\n      font-weight: 400;\n      letter-spacing: 0;\n      text-shadow: 0 2px 4px ').concat(e.cardShadow,";\n      transition: all 0.2s ease-out;\n    }\n\n    /* Focus Areas */\n    .focus-areas {\n      margin-bottom: 32px;\n    }\n\n    .focus-areas-title {\n      font-size: 14px;\n      font-weight: 500;\n      margin-bottom: 16px;\n      text-transform: uppercase;\n      letter-spacing: 0.5px;\n      display: flex;\n      align-items: center;\n      gap: 16px;\n      transition: color 1s ease-out;\n    }\n\n    .title-line {\n      width: 32px;\n      height: 2px;\n      transition: background 1s ease-out;\n    }\n\n    .focus-areas-grid {\n      display: grid;\n      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));\n      gap: 12px;\n    }\n\n    .focus-area-item {\n      backdrop-filter: blur(20px) saturate(180%);\n      -webkit-backdrop-filter: blur(20px) saturate(180%);\n      border-radius: 12px;\n      padding: 16px;\n      font-size: 14px;\n      font-weight: 500;\n      letter-spacing: 0;\n      transition: all 0.6s cubic-bezier(0.23, 1, 0.32, 1);\n      cursor: pointer;\n      box-shadow: inset 0 1px 0 ").concat(e.border,", 0 4px 12px ").concat(e.cardShadow,';\n      transform: translate3d(0, 0, 0);\n      position: relative;\n      overflow: hidden;\n      opacity: 0;\n      transform: translate3d(0, 50px, -30px) scale(0.9);\n    }\n\n    .focus-area-item--visible {\n      animation: quantumSlideIn 1s ease-out forwards;\n    }\n\n    .quantum-particle {\n      position: absolute;\n      top: 8px;\n      right: 8px;\n      width: 6px;\n      height: 6px;\n      border-radius: 50%;\n      animation: quantumParticle 2s ease-in-out infinite;\n    }\n\n    /* Progress Matrix */\n    .progress-matrix {\n      backdrop-filter: blur(20px) saturate(150%);\n      -webkit-backdrop-filter: blur(20px) saturate(150%);\n      border-radius: 16px;\n      padding: 16px;\n      transition: all 1s ease-out;\n      display: flex;\n      align-items: center;\n      gap: 16px;\n      margin-top: 32px;\n    }\n\n    .progress-bars {\n      display: flex;\n      gap: 8px;\n      flex: 1;\n    }\n\n    .progress-bar {\n      flex: 1;\n      height: 6px;\n      border-radius: 3px;\n      transition: all 1.5s ease;\n      position: relative;\n      cursor: pointer;\n    }\n\n    .progress-particle {\n      position: absolute;\n      top: 50%;\n      left: 0;\n      width: 12px;\n      height: 12px;\n      border-radius: 50%;\n      transform: translate(-50%, -50%);\n      box-shadow: 0 0 15px currentColor;\n      animation: quantumFlow 2s ease-in-out infinite;\n    }\n\n    .progress-counter {\n      backdrop-filter: blur(15px);\n      -webkit-backdrop-filter: blur(15px);\n      padding: 12px 16px;\n      border-radius: 12px;\n      font-size: 14px;\n      font-weight: 600;\n      font-feature-settings: "tnum" 1;\n      letter-spacing: 0.05em;\n      transition: all 1s ease-out;\n    }\n\n    .navigation-controls {\n      display: flex;\n      gap: 8px;\n    }\n\n    .progress-button {\n      width: 40px;\n      height: 40px;\n      backdrop-filter: blur(15px);\n      -webkit-backdrop-filter: blur(15px);\n      border-radius: 12px;\n      font-size: 16px;\n      font-weight: 600;\n      cursor: pointer;\n      transition: all 0.2s ease;\n      box-shadow: inset 0 1px 0 ').concat(e.border,";\n      display: flex;\n      align-items: center;\n      justify-content: center;\n    }\n\n    /* Status Matrix */\n    .status-matrix {\n      display: flex;\n      justify-content: space-between;\n      align-items: center;\n      padding: 16px 0;\n      border-top: 1px solid ").concat(e.border,";\n      transition: border-color 1s ease-out;\n    }\n\n    .status-item {\n      font-size: 14px;\n      font-weight: 500;\n      letter-spacing: 0.02em;\n    }\n\n    .status-value {\n      transition: color 1s ease-out;\n      font-weight: 600;\n    }\n\n    .status-value--active {\n      text-shadow: 0 0 10px currentColor;\n    }\n\n    .quantum-sync {\n      display: flex;\n      gap: 8px;\n      align-items: center;\n    }\n\n    .sync-indicator {\n      width: 8px;\n      height: 8px;\n      border-radius: 50%;\n      animation: quantumPulse 1.5s ease-in-out infinite;\n      transition: background 1s ease-out;\n    }\n\n    .sync-label {\n      font-size: 14px;\n      font-weight: 500;\n      letter-spacing: 0.02em;\n    }\n\n    /* Animations */\n    @keyframes holographicShimmer {\n      0% { background-position: 0% 0%; }\n      50% { background-position: 100% 100%; }\n      100% { background-position: 0% 0%; }\n    }\n\n    @keyframes quantumSlideIn {\n      from {\n        transform: translate3d(0, 50px, -30px) scale(0.9);\n        opacity: 0;\n      }\n      to {\n        transform: translate3d(0, 0, 0) scale(1);\n        opacity: 1;\n      }\n    }\n\n    @keyframes quantumPulse {\n      0%, 100% { \n        transform: scale(1) rotate(0deg);\n        opacity: 1; \n      }\n      50% { \n        transform: scale(1.3) rotate(180deg);\n        opacity: 0.7; \n      }\n    }\n\n    @keyframes quantumOrb {\n      0%, 100% { \n        transform: translateX(-50%) scale(1);\n        opacity: 1; \n      }\n      50% { \n        transform: translateX(-50%) scale(1.5);\n        opacity: 0.6; \n      }\n    }\n\n    @keyframes quantumParticle {\n      0%, 100% { \n        transform: scale(1);\n        opacity: 1; \n      }\n      33% { \n        transform: scale(1.5);\n        opacity: 0.8; \n      }\n      66% { \n        transform: scale(0.8);\n        opacity: 1; \n      }\n    }\n\n    @keyframes quantumFlow {\n      0% { left: 0%; }\n      100% { left: 100%; }\n    }\n\n    @keyframes float {\n      0%, 100% { transform: translateY(0px); }\n      50% { transform: translateY(-8px); }\n    }\n\n    @keyframes numberGlow {\n      0% { \n        filter: drop-shadow(0 0 20px currentColor); \n      }\n      100% { \n        filter: drop-shadow(0 0 40px currentColor) drop-shadow(0 0 60px currentColor);\n      }\n    }\n\n    /* Responsive Design */\n    @media (max-width: 1200px) {\n      .content-grid {\n        grid-template-columns: 1fr;\n        gap: 40px;\n      }\n      .pillar-navigation {\n        position: static;\n        margin-bottom: 32px;\n      }\n      .section-container {\n        padding: 80px 24px 120px;\n      }\n    }\n\n    @media (max-width: 768px) {\n      .section-container {\n        padding: 80px 16px 120px;\n      }\n      .content-grid {\n        gap: 32px;\n      }\n      .section-header {\n        margin-bottom: 48px;\n      }\n      .content-container {\n        padding: 24px;\n      }\n      .focus-areas-grid {\n        grid-template-columns: 1fr;\n      }\n      .pillar-nav-item {\n        padding: 12px 16px;\n        gap: 12px;\n      }\n      .pillar-number {\n        font-size: 24px;\n        min-width: 40px;\n      }\n      .content-number {\n        font-size: 36px;\n      }\n      .navigation-container {\n        padding: 16px 0;\n      }\n      .progress-matrix {\n        padding: 12px;\n        gap: 12px;\n        flex-direction: column;\n      }\n      .progress-bars {\n        order: 2;\n        width: 100%;\n      }\n      .progress-counter {\n        order: 1;\n        align-self: center;\n      }\n      .navigation-controls {\n        order: 3;\n        align-self: center;\n      }\n    }\n\n    /* Enhanced Effects */\n    html {\n      scroll-behavior: smooth;\n    }\n\n    ::-webkit-scrollbar {\n      width: 8px;\n    }\n\n    ::-webkit-scrollbar-track {\n      background: ").concat(e.backgroundSecondary,";\n    }\n\n    ::-webkit-scrollbar-thumb {\n      background: linear-gradient(135deg, ").concat(e.accent,", ").concat(e.primary,");\n      border-radius: 4px;\n    }\n\n    ::-webkit-scrollbar-thumb:hover {\n      background: linear-gradient(135deg, ").concat(e.accentLight,", ").concat(e.primaryLight,");\n    }\n\n\n\n\n\n\n        @supports (backdrop-filter: blur(20px)) or (-webkit-backdrop-filter: blur(20px)) {\n          .glass-enhanced {\n            backdrop-filter: blur(20px) saturate(180%) brightness(110%);\n            -webkit-backdrop-filter: blur(20px) saturate(180%) brightness(110%);\n          }\n        }\n      ")}const ii=()=>{const{colors:e,isDarkMode:n}=y(),t=[{id:1,icon:te.A,title:"Policy Advocacy",description:"UN engagement and youth representation in global discussions",features:["Climate policy development","Youth voice amplification","International forums participation","Policy research and analysis"],color:e.primary},{id:2,icon:zn.A,title:"Strategic Partnerships",description:"Collaboration with agencies, governments, and private sector",features:["Multi-sector collaboration","Government partnerships","Private sector engagement","NGO network building"],color:e.secondary},{id:3,icon:Nn.A,title:"Knowledge Sharing",description:"Research dissemination through our online hub",features:["Research publication","Best practices documentation","Digital platform management","Knowledge transfer programs"],color:e.accent},{id:4,icon:Ce.A,title:"Resource Mobilization",description:"Diversified funding for long-term sustainability",features:["Grant writing and management","Donor relationship building","Sustainable financing models","Impact measurement"],color:e.info}];return(0,s.jsx)("section",{className:"cross-cutting-strategies",children:(0,s.jsxs)("div",{className:"strategies-container",children:[(0,s.jsxs)("div",{className:"strategies-header",children:[(0,s.jsxs)("div",{className:"header-content",children:[(0,s.jsx)(_.A,{variant:"h3",sx:{fontSize:"2.5rem",fontWeight:700,color:e.primary,mb:2,letterSpacing:"-0.02em"},children:"Cross-Cutting Strategies"}),(0,s.jsx)("p",{className:"section-description",style:{color:e.textSecondary},children:"Integrated approaches that span across all our programs and initiatives, ensuring comprehensive impact and sustainable change in climate action."})]}),(0,s.jsx)("div",{className:"header-visual",children:(0,s.jsx)("div",{className:"visual-circle",style:{backgroundColor:"".concat(e.primary,"10")},children:(0,s.jsx)(Ga.A,{size:48,style:{color:e.primary}})})})]}),(0,s.jsx)("div",{className:"strategies-grid",children:t.map((t,a)=>(0,s.jsxs)("div",{className:"strategy-card",style:{backgroundColor:n?e.surface:e.white,border:"1px solid ".concat(n?e.border:e.gray200),"--hover-shadow":"0 20px 60px ".concat(t.color,"20")},children:[(0,s.jsxs)("div",{className:"card-header",children:[(0,s.jsx)("div",{className:"icon-wrapper",style:{backgroundColor:"".concat(t.color,"15"),border:"2px solid ".concat(t.color,"30")},children:(0,s.jsx)(t.icon,{size:32,style:{color:t.color}})}),(0,s.jsxs)("div",{className:"header-text",children:[(0,s.jsx)("h3",{className:"strategy-title",style:{color:e.text},children:t.title}),(0,s.jsx)("p",{className:"strategy-description",style:{color:e.textSecondary},children:t.description})]})]}),(0,s.jsxs)("div",{className:"features-section",children:[(0,s.jsx)("h4",{className:"features-title",style:{color:e.text},children:"Activities"}),(0,s.jsx)("ul",{className:"features-list",children:t.features.map((n,a)=>(0,s.jsxs)("li",{className:"feature-item",style:{color:e.textSecondary},children:[(0,s.jsx)("div",{className:"feature-dot",style:{backgroundColor:t.color}}),n]},a))})]}),(0,s.jsx)("div",{className:"card-pattern",style:{backgroundImage:"radial-gradient(circle at 80% 20%, ".concat(t.color,"08 0%, transparent 50%)")}})]},t.id))})]})})};var si=t(3190),li=t(5743),ci=t(4699),di=t(4069),pi=t(9797);const mi=e=>{let{value:n,duration:t=2e3}=e;const[a,r]=(0,i.useState)(0),[o,l]=(0,i.useState)(!1),c=(0,i.useRef)(null);(0,i.useEffect)(()=>{const e=new IntersectionObserver(e=>{let[n]=e;n.isIntersecting&&!o&&l(!0)},{threshold:.1});return c.current&&e.observe(c.current),()=>e.disconnect()},[o]),(0,i.useEffect)(()=>{if(!o)return;const e=parseInt(n.replace(/\D/g,""))||0;let a,i;const s=n=>{a||(a=n);const o=Math.min((n-a)/t,1),l=1-Math.pow(1-o,4),c=Math.floor(e*l);r(c),o<1&&(i=requestAnimationFrame(s))};return i=requestAnimationFrame(s),()=>{i&&cancelAnimationFrame(i)}},[o,n,t]);const d=n.includes("+")?"".concat(a,"+"):a.toString();return(0,s.jsx)("span",{ref:c,children:d})},xi={container:{minHeight:"100vh"},content:{maxWidth:"1200px",margin:"0 auto",padding:"32px 16px"},header:{textAlign:"center",marginBottom:"32px"},badge:{display:"inline-flex",alignItems:"center",gap:"8px",padding:"8px 16px",borderRadius:"24px",marginBottom:"16px"},badgeText:{fontSize:"14px",fontWeight:"500"},title:{fontSize:"64px",fontWeight:"900",marginBottom:"12px",lineHeight:"1"},gradientText:{background:"linear-gradient(45deg, #0a451c 0%, #facf3c 50%, #9ccf9f 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text"},subtitle:{fontSize:"18px",maxWidth:"512px",margin:"0 auto 24px",lineHeight:"1.6"},statsGrid:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:"16px",maxWidth:"384px",margin:"0 auto 32px"},statItem:{textAlign:"center"},statValue:{fontSize:"32px",fontWeight:"700"},statLabel:{fontSize:"12px"},toggleContainer:{display:"flex",justifyContent:"center",marginBottom:"32px"},toggleWrapper:{display:"inline-flex",borderRadius:"16px",padding:"4px"},toggleButton:{display:"flex",alignItems:"center",gap:"12px",padding:"16px 32px",borderRadius:"12px",border:"none",cursor:"pointer",transition:"all 0.3s ease",position:"relative",fontWeight:"500"},toggleButtonActive:{color:"#ffffff",transform:"scale(1.02)"},toggleButtonInactive:{backgroundColor:"transparent"},toggleIcon:{padding:"8px",borderRadius:"8px",transition:"all 0.2s ease"},toggleIconActive:{backgroundColor:"rgba(255,255,255,0.2)"},toggleContent:{textAlign:"left"},toggleLabel:{fontSize:"14px",fontWeight:"600"},toggleSublabel:{fontSize:"12px"},contentWrapper:{position:"relative",overflow:"hidden"},viewSection:{transition:"all 0.5s ease"},viewSectionActive:{transform:"translateX(0)",opacity:1},viewSectionHidden:{transform:"translateX(100%)",opacity:0,position:"absolute",top:0,left:0,right:0},sectionHeader:{textAlign:"center",marginBottom:"24px"},sectionTitle:{fontSize:"32px",fontWeight:"700",marginBottom:"8px"},sectionDesc:{fontSize:"16px"},goalsGrid:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(280px, 1fr))",gap:"16px"},pillarsGrid:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"16px"},gridItem:{animation:"fadeInUp 0.3s ease forwards",opacity:0,transform:"translateY(16px)"},compactCard:{position:"relative",borderRadius:"12px",padding:"16px",cursor:"pointer",transition:"all 0.3s ease"},cardHeader:{display:"flex",alignItems:"flex-start",justifyContent:"space-between",marginBottom:"12px"},iconContainer:{padding:"8px",borderRadius:"8px",transition:"transform 0.2s ease"},timelineTag:{fontSize:"12px",padding:"4px 8px",borderRadius:"12px"},cardTitle:{fontWeight:"700",fontSize:"16px",marginBottom:"4px",transition:"color 0.3s ease"},cardMetric:{fontSize:"16px",fontWeight:"500",marginBottom:"8px"},cardDesc:{fontSize:"15px",lineHeight:"1.4",margin:0},hoverOverlay:{position:"absolute",top:0,left:0,right:0,bottom:0,borderRadius:"12px",transition:"opacity 0.3s ease",pointerEvents:"none"},ctaSection:{marginTop:"48px",textAlign:"center"},ctaButtons:{display:"inline-flex",flexDirection:"column",gap:"12px"},primaryButton:{display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",padding:"12px 24px",borderRadius:"16px",fontWeight:"600",color:"#ffffff",border:"none",cursor:"pointer",transition:"all 0.3s ease"},secondaryButton:{padding:"12px 24px",borderRadius:"16px",fontWeight:"600",border:"1px solid #d1d5db",cursor:"pointer",transition:"all 0.3s ease"}},ui=document.createElement("style");ui.textContent="\n  @keyframes fadeInUp {\n    to {\n      opacity: 1;\n      transform: translateY(0);\n    }\n  }\n\n  @media (min-width: 768px) {\n    .goals-grid {\n      grid-template-columns: repeat(2, 1fr);\n    }\n  }\n\n  @media (min-width: 1024px) {\n    .goals-grid {\n      grid-template-columns: repeat(4, 1fr);\n    }\n    .pillars-grid {\n      grid-template-columns: repeat(3, 1fr);\n    }\n  }\n\n  @media (min-width: 1280px) {\n    .pillars-grid {\n      grid-template-columns: repeat(5, 1fr);\n    }\n  }\n\n  .compact-card:hover {\n    box-shadow: 0 4px 12px rgba(0,0,0,0.15);\n  }\n\n  .icon-container:hover {\n    transform: scale(1.1);\n  }\n\n  .primary-button:hover {\n    transform: scale(1.05);\n  }\n\n  .secondary-button:hover {\n    border-color: #9ca3af;\n  }\n\n  .toggle-buttons {\n    display: flex;\n    flex-direction: column;\n    gap: 12px;\n  }\n\n  @media (min-width: 640px) {\n    .toggle-buttons {\n      flex-direction: row;\n    }\n  }\n",document.head.appendChild(ui);const gi=()=>{const[e,n]=(0,i.useState)("1year"),[t,r]=(0,i.useState)(null),{colors:o,isDarkMode:l}=y(),c=(0,a.Zp)(),d=[{id:"capacity",title:"Youth Capacity",icon:(0,s.jsx)(Cn.A,{size:20}),color:o.primary,metric:"3+ Workshops",desc:"25% growth in policy participation"},{id:"advocacy",title:"Policy Advocacy",icon:(0,s.jsx)(Ga.A,{size:20}),color:o.secondary,metric:"2+ UN Papers",desc:"5+ youth reps at conferences"},{id:"pilots",title:"Community Impact",icon:(0,s.jsx)(da.A,{size:20}),color:o.accent,metric:"1+ Pilot Project",desc:"Framework for youth initiatives"},{id:"sustainability",title:"Org Growth",icon:(0,s.jsx)(si.A,{size:20}),color:o.accentDark,metric:"5+ Grants",desc:"30% social media growth"}],p=[{id:"resilience",title:"Climate Resilience",icon:(0,s.jsx)(Xr.A,{size:16}),color:o.primary,impact:"13 Communities"},{id:"energy",title:"Clean Energy",icon:(0,s.jsx)(Ua.A,{size:16}),color:o.secondary,impact:"20 Enterprises"},{id:"migration",title:"Climate Security",icon:(0,s.jsx)(te.A,{size:16}),color:o.accent,impact:"3 Regional Reports"},{id:"waste",title:"Waste Innovation",icon:(0,s.jsx)(li.A,{size:16}),color:o.success,impact:"5 Urban Areas"},{id:"conservation",title:"Nature Protection",icon:(0,s.jsx)(ee.A,{size:16}),color:o.primaryLight,impact:"5 Hotspots"},{id:"wash",title:"Water & Sanitation",icon:(0,s.jsx)(ci.A,{size:16}),color:o.info,impact:"5 Communities"},{id:"agriculture",title:"Food Security",icon:(0,s.jsx)(di.A,{size:16}),color:o.warning,impact:"15 Cooperatives"},{id:"education",title:"Climate Education",icon:(0,s.jsx)(pi.A,{size:16}),color:"#8b5cf6",impact:"5,000+ Students"},{id:"health",title:"Environmental Health",icon:(0,s.jsx)(Ae.A,{size:16}),color:"#ec4899",impact:"5 Health Projects"},{id:"employment",title:"Green Jobs",icon:(0,s.jsx)(_n.A,{size:16}),color:o.accentDark,impact:"Incubator Program"}],x=e=>{let{item:n,type:a}=e;const i=t===n.id;return(0,s.jsxs)("div",{style:(0,m.A)((0,m.A)({},xi.compactCard),{},{backgroundColor:o.cardBg,border:"1px solid ".concat(o.border),boxShadow:"0 4px 20px ".concat(o.cardShadow)}),onMouseEnter:()=>r(n.id),onMouseLeave:()=>r(null),children:[(0,s.jsxs)("div",{style:xi.cardHeader,children:[(0,s.jsx)("div",{style:(0,m.A)((0,m.A)({},xi.iconContainer),{},{backgroundColor:"".concat(n.color,l?"20":"15")}),children:(0,s.jsx)("div",{style:{color:n.color},children:n.icon})}),"5year"===a&&(0,s.jsx)("span",{style:(0,m.A)((0,m.A)({},xi.timelineTag),{},{backgroundColor:o.backgroundSecondary,color:o.textSecondary}),children:"2025-30"})]}),(0,s.jsx)("h3",{style:(0,m.A)((0,m.A)({},xi.cardTitle),{},{color:o.text}),children:n.title}),(0,s.jsx)("div",{style:(0,m.A)((0,m.A)({},xi.cardMetric),{},{color:n.color}),children:n.metric||n.impact}),n.desc&&(0,s.jsx)("p",{style:(0,m.A)((0,m.A)({},xi.cardDesc),{},{color:o.textSecondary}),children:n.desc}),(0,s.jsx)("div",{style:(0,m.A)((0,m.A)({},xi.hoverOverlay),{},{opacity:i?1:0,backgroundColor:"".concat(n.color,l?"10":"05")})})]})},u=()=>(0,s.jsx)("div",{style:xi.toggleContainer,children:(0,s.jsx)("div",{style:(0,m.A)((0,m.A)({},xi.toggleWrapper),{},{backgroundColor:o.surface,border:"1px solid ".concat(o.border),boxShadow:"0 1px 3px ".concat(o.cardShadow)}),children:[{id:"1year",label:"1-Year Strategic Plan",sublabel:"2025-2026",icon:(0,s.jsx)(Ga.A,{size:20}),color:o.primary},{id:"5year",label:"5-Year Programme Vision",sublabel:"2025-2030",icon:(0,s.jsx)(Z.A,{size:20}),color:o.secondary}].map(t=>(0,s.jsxs)("button",{onClick:()=>n(t.id),style:(0,m.A)((0,m.A)({},xi.toggleButton),e===t.id?(0,m.A)((0,m.A)({},xi.toggleButtonActive),{},{background:"linear-gradient(135deg, ".concat(t.color," 0%, ").concat(t.color,"dd 100%)"),boxShadow:"0 4px 12px rgba(0,0,0,0.15)"}):(0,m.A)((0,m.A)({},xi.toggleButtonInactive),{},{color:o.textSecondary})),children:[(0,s.jsx)("div",{style:(0,m.A)((0,m.A)({},xi.toggleIcon),e===t.id?xi.toggleIconActive:{backgroundColor:o.backgroundSecondary}),children:(0,s.jsx)("div",{style:{color:e===t.id?"white":t.color},children:t.icon})}),(0,s.jsxs)("div",{style:xi.toggleContent,children:[(0,s.jsx)("div",{style:xi.toggleLabel,children:t.label}),(0,s.jsx)("div",{style:(0,m.A)((0,m.A)({},xi.toggleSublabel),{},{color:e===t.id?"rgba(255,255,255,0.8)":o.textMuted}),children:t.sublabel})]})]},t.id))})});return(0,s.jsx)("div",{style:(0,m.A)((0,m.A)({},xi.container),{},{backgroundColor:o.background}),children:(0,s.jsxs)("div",{style:xi.content,children:[(0,s.jsxs)("div",{style:xi.header,children:[(0,s.jsxs)(pe.P.div,{style:(0,m.A)((0,m.A)({},xi.badge),{},{backgroundColor:o.surface,border:"1px solid ".concat(o.border),boxShadow:"0 1px 3px ".concat(o.cardShadow)}),children:[(0,s.jsx)(Z.A,{size:16,style:{color:o.warning}}),(0,s.jsx)("span",{style:(0,m.A)((0,m.A)({},xi.badgeText),{},{color:o.text}),children:"ACEF Strategic Vision"})]}),(0,s.jsxs)("div",{style:{maxWidth:"1100px",margin:"0 auto 80px auto",textAlign:"center"},children:[(0,s.jsx)(pe.P.h1,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{margin:"-50px"},transition:{duration:.6},style:{fontSize:"clamp(32px, 4vw, 48px)",fontWeight:600,color:o.text,margin:"0 0 16px 0",letterSpacing:"-0.02em",lineHeight:"1.1"},children:"Africa 2030"}),(0,s.jsx)(pe.P.div,{initial:{scaleX:0},whileInView:{scaleX:1},viewport:{margin:"-50px"},transition:{duration:.8},style:{width:"60px",height:"2px",background:"linear-gradient(90deg, ".concat(o.secondary," 0%, ").concat(o.secondaryLight," 100%)"),margin:"0 auto 24px auto",borderRadius:"1px",transformOrigin:"center"}}),(0,s.jsx)(pe.P.p,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{margin:"-50px"},transition:{duration:.6,delay:.2},style:{fontSize:"16px",color:o.textSecondary,margin:"0",letterSpacing:"0.5px",fontWeight:400,opacity:.9},children:"Empowering youth-led climate solutions across the continent \xb7"})]}),(0,s.jsx)(pe.P.div,{transition:{duration:.6,delay:.2},style:xi.statsGrid,children:[{value:"10",label:"Pillars"},{value:"5",label:"Years"},{value:"100+",label:"Youth"},{value:"54",label:"Nations"}].map((e,n)=>(0,s.jsxs)("div",{style:xi.statItem,children:[(0,s.jsx)("div",{style:(0,m.A)((0,m.A)({},xi.statValue),{},{color:o.text}),children:(0,s.jsx)(mi,{value:e.value,duration:2e3+200*n})}),(0,s.jsx)("div",{style:(0,m.A)((0,m.A)({},xi.statLabel),{},{color:o.textSecondary}),children:e.label})]},n))})]}),(0,s.jsx)(u,{}),(0,s.jsxs)("div",{style:xi.contentWrapper,children:[(0,s.jsxs)("div",{style:(0,m.A)((0,m.A)({},xi.viewSection),"1year"===e?xi.viewSectionActive:xi.viewSectionHidden),children:[(0,s.jsxs)("div",{style:xi.sectionHeader,children:[(0,s.jsx)("h2",{style:(0,m.A)((0,m.A)({},xi.sectionTitle),{},{color:o.text}),children:"Strategic Goals 2025-2026"}),(0,s.jsx)("p",{style:(0,m.A)((0,m.A)({},xi.sectionDesc),{},{color:o.textSecondary}),children:"Foundation goals establishing ACEF as a leading climate action force"})]}),(0,s.jsx)("div",{style:xi.goalsGrid,children:d.map((e,n)=>(0,s.jsx)("div",{style:(0,m.A)((0,m.A)({},xi.gridItem),{},{animationDelay:"".concat(100*n,"ms")}),children:(0,s.jsx)(x,{item:e,type:"1year"})},e.id))})]}),(0,s.jsxs)("div",{style:(0,m.A)((0,m.A)({},xi.viewSection),"5year"===e?xi.viewSectionActive:xi.viewSectionHidden),children:[(0,s.jsxs)("div",{style:xi.sectionHeader,children:[(0,s.jsx)("h2",{style:(0,m.A)((0,m.A)({},xi.sectionTitle),{},{color:o.text}),children:"Programme Pillars 2025-2030"}),(0,s.jsx)("p",{style:(0,m.A)((0,m.A)({},xi.sectionDesc),{},{color:o.textSecondary}),children:"Comprehensive action framework across key impact areas"})]}),(0,s.jsx)("div",{style:xi.pillarsGrid,children:p.map((e,n)=>(0,s.jsx)("div",{style:(0,m.A)((0,m.A)({},xi.gridItem),{},{animationDelay:"".concat(80*n,"ms")}),children:(0,s.jsx)(x,{item:e,type:"5year"})},e.id))})]})]}),(0,s.jsx)(pe.P.div,{style:xi.ctaSection,initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6,ease:"easeOut"},children:(0,s.jsx)("div",{style:xi.ctaButtons,children:(0,s.jsxs)("button",{style:(0,m.A)((0,m.A)({},xi.primaryButton),{},{backgroundColor:o.primary,boxShadow:"0 4px 12px rgba(0,0,0,0.15)"}),onClick:()=>c("/impact#projects"),children:[(0,s.jsx)("span",{children:"Explore Programmes"}),(0,s.jsx)(L.A,{size:16})]})})})]})})},hi=()=>{const[e,n]=(0,i.useState)(null),[t,a]=(0,i.useState)(0),[r,o]=(0,i.useState)(0);(0,i.useEffect)(()=>{const e=()=>{const e=window.scrollY/(document.body.scrollHeight-window.innerHeight)*100;a(e)};return window.addEventListener("scroll",e,{passive:!0}),()=>window.removeEventListener("scroll",e)},[]);return(0,s.jsxs)("div",{className:"programs-page",children:[(0,s.jsx)("div",{className:"progress-bar",style:{width:"".concat(t,"%")}}),(0,s.jsx)(Le,{}),(0,s.jsx)(ri,{}),(0,s.jsx)(ii,{}),(0,s.jsx)(ct,{}),(0,s.jsx)(gi,{}),(0,s.jsx)(jn,{}),(0,s.jsx)(Qe,{})]})};function fi(){return(0,s.jsxs)("main",{className:"container mx-auto p-6 max-w-4xl",children:[(0,s.jsxs)("header",{className:"mb-6",children:[(0,s.jsx)("h1",{className:"text-3xl font-semibold",children:"Privacy Policy"}),(0,s.jsx)("p",{className:"text-sm text-gray-600 mt-2",children:"Last updated: August 2025"})]}),(0,s.jsxs)("section",{className:"space-y-4",children:[(0,s.jsx)("p",{children:'Africa Climate and Environment Foundation ("ACEF", "we", "our", or "us") respects your privacy and complies with the EU General Data Protection Regulation (GDPR) and other applicable data protection laws. This Privacy Policy explains how we collect, use, share, and protect personal information when you use our website and services.'}),(0,s.jsx)("h2",{className:"text-xl font-medium",children:"1. Information We Collect"}),(0,s.jsxs)("ul",{className:"list-disc pl-6",children:[(0,s.jsx)("li",{children:"Information you provide: name, email address, organization, location, donation details, CV or application details for volunteering or jobs, and other information you submit through forms on our website."}),(0,s.jsx)("li",{children:"Automatically collected data: IP address, device and browser information, pages visited, referral source, and analytics data."}),(0,s.jsx)("li",{children:"Payment information: We do not store full payment card details. Payments are processed by GDPR-compliant third-party processors (e.g., Stripe, PayPal)."})]}),(0,s.jsx)("h2",{className:"text-xl font-medium",children:"2. Legal Bases for Processing"}),(0,s.jsx)("p",{children:"Under GDPR, we process your personal data on the following legal bases: consent, contract performance, legal obligations, and legitimate interests."}),(0,s.jsx)("h2",{className:"text-xl font-medium",children:"3. How We Use Information"}),(0,s.jsx)("p",{children:"We use collected information to provide and improve our services, process donations, communicate with supporters, manage volunteering and partnership applications, personalize content, monitor usage, and comply with legal obligations."}),(0,s.jsx)("h2",{className:"text-xl font-medium",children:"4. Sharing and Disclosure"}),(0,s.jsx)("p",{children:"We share data only with GDPR-compliant service providers, partner organizations, and legal authorities where required. We do not sell your personal data."}),(0,s.jsx)("h2",{className:"text-xl font-medium",children:"5. International Transfers"}),(0,s.jsx)("p",{children:"If we transfer personal data outside the European Economic Area, we ensure appropriate safeguards, such as Standard Contractual Clauses."}),(0,s.jsx)("h2",{className:"text-xl font-medium",children:"6. Cookies and Tracking"}),(0,s.jsx)("p",{children:"We use cookies for functionality and analytics. You can opt-out or adjust preferences via our Cookie Settings."}),(0,s.jsx)("h2",{className:"text-xl font-medium",children:"7. Data Retention"}),(0,s.jsx)("p",{children:"We retain personal data only as long as necessary or as required by law, after which it is securely deleted."}),(0,s.jsx)("h2",{className:"text-xl font-medium",children:"8. Your GDPR Rights"}),(0,s.jsxs)("ul",{className:"list-disc pl-6",children:[(0,s.jsx)("li",{children:"Right of access"}),(0,s.jsx)("li",{children:"Right to rectification"}),(0,s.jsx)("li",{children:"Right to erasure"}),(0,s.jsx)("li",{children:"Right to restrict processing"}),(0,s.jsx)("li",{children:"Right to data portability"}),(0,s.jsx)("li",{children:"Right to object"}),(0,s.jsx)("li",{children:"Right to withdraw consent"}),(0,s.jsx)("li",{children:"Right to lodge a complaint with a supervisory authority"})]}),(0,s.jsx)("h2",{className:"text-xl font-medium",children:"9. Security"}),(0,s.jsx)("p",{children:"We implement technical and organizational measures to secure personal data."}),(0,s.jsx)("h2",{className:"text-xl font-medium",children:"10. Changes to This Policy"}),(0,s.jsx)("p",{children:"We may update this policy and will notify you of significant changes."}),(0,s.jsx)("footer",{className:"mt-8 text-sm text-gray-600",children:(0,s.jsx)("p",{children:"Contact: privacy@acef.org"})})]})]})}function bi(){return(0,s.jsxs)("main",{className:"container mx-auto p-6 max-w-4xl",children:[(0,s.jsxs)("header",{className:"mb-6",children:[(0,s.jsx)("h1",{className:"text-3xl font-semibold",children:"Terms of Service"}),(0,s.jsx)("p",{className:"text-sm text-gray-600 mt-2",children:"Effective date: August 2025"})]}),(0,s.jsxs)("section",{className:"space-y-4",children:[(0,s.jsx)("p",{children:"These Terms govern your access to and use of the ACEF website and services. By using our services, you agree to these Terms and acknowledge our GDPR-compliant Privacy Policy."}),(0,s.jsx)("h2",{className:"text-xl font-medium",children:"Data Protection Compliance"}),(0,s.jsx)("p",{children:"ACEF processes personal data in accordance with GDPR. Users in the EU have specific rights outlined in our Privacy Policy."}),(0,s.jsx)("footer",{className:"mt-6 text-sm text-gray-600",children:(0,s.jsx)("p",{children:"Contact: info@acef.org"})})]})]})}const yi=t.p+"static/media/sitemap.c4f6282cca5ff8d133c9.xml";var ji=t(2629),vi=t(1130),wi=t(2701);const Ai=e=>{let{API_BASE:n="/api"}=e;const[t,a]=(0,i.useState)([]),[r,o]=(0,i.useState)({count:0,totalAmount:0}),[l,c]=(0,i.useState)(!0),[d,p]=(0,i.useState)(0),[m,x]=(0,i.useState)("all");(0,i.useEffect)(()=>{(async()=>{c(!0);try{const e=await fetch("".concat(n,"/donations/donor-wall?limit=100"),{credentials:"include"}),t=await e.json();if(t.success){const e=t.data.donors||[];console.log("Donor wall data received:",{donorsCount:e.length,anonymousData:t.data.anonymous,sampleDonor:e[0]}),a(e),o(t.data.anonymous||{count:0,totalAmount:0}),console.log("Loaded ".concat(e.length," completed donors for wall display"))}else console.error("API returned success: false",t),a([]),o({count:0,totalAmount:0})}catch(e){console.error("Error fetching donor wall data:",e),a([]),o({count:0,totalAmount:0})}finally{c(!1)}})()},[]);const u=(()=>{let e=[...t];switch(m){case"featured":e=e.filter(e=>e.is_featured);break;case"recent":const n=new Date;n.setDate(n.getDate()-30),e=e.filter(e=>new Date(e.donation_date||e.created_at)>n)}return e})(),g=Math.ceil(u.length/12),h=u.slice(12*d,12*(d+1)),f=e=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0}).format(e);return l?(0,s.jsxs)("div",{className:"donor-wall loading",children:[(0,s.jsx)("style",{jsx:!0,children:"\n          .donor-wall.loading {\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            min-height: 400px;\n          }\n          .loading-spinner {\n            text-align: center;\n            color: #6b7280;\n          }\n          .loading-spinner svg {\n            animation: spin 2s linear infinite;\n            color: #0a451c;\n            margin-bottom: 16px;\n          }\n          @keyframes spin {\n            from { transform: rotate(0deg); }\n            to { transform: rotate(360deg); }\n          }\n        "}),(0,s.jsxs)("div",{className:"loading-spinner",children:[(0,s.jsx)(Z.A,{size:40}),(0,s.jsx)("p",{children:"Loading our amazing donors..."})]})]}):(0,s.jsxs)("div",{className:"donor-wall",children:[(0,s.jsx)("style",{jsx:!0,children:"\n        .donor-wall {\n          padding: 40px 20px;\n          background: linear-gradient(135deg, #f9fafb 0%, #f3f4f6 100%);\n          min-height: 500px;\n        }\n\n        .wall-header {\n          text-align: center;\n          margin-bottom: 48px;\n        }\n\n        .wall-title {\n          font-size: 2.5rem;\n          font-weight: 700;\n          color: #0a451c;\n          margin: 0 0 16px 0;\n          position: relative;\n        }\n\n        .wall-title::after {\n          content: '';\n          position: absolute;\n          bottom: -8px;\n          left: 50%;\n          transform: translateX(-50%);\n          width: 80px;\n          height: 4px;\n          background: linear-gradient(90deg, #facf3c, #9ccf9f);\n          border-radius: 2px;\n        }\n\n        .wall-subtitle {\n          font-size: 1.125rem;\n          color: #6b7280;\n          margin: 0 0 32px 0;\n          max-width: 600px;\n          margin-left: auto;\n          margin-right: auto;\n        }\n\n        .completed-badge {\n          display: inline-flex;\n          align-items: center;\n          gap: 4px;\n          background: #d1fae5;\n          color: #065f46;\n          padding: 4px 8px;\n          border-radius: 12px;\n          font-size: 12px;\n          font-weight: 500;\n          margin-left: 12px;\n        }\n\n        .wall-stats {\n          display: flex;\n          justify-content: center;\n          gap: 48px;\n          margin-bottom: 48px;\n          flex-wrap: wrap;\n        }\n\n        .stat-item {\n          text-align: center;\n        }\n\n        .stat-number {\n          font-size: 2rem;\n          font-weight: 700;\n          color: #0a451c;\n          display: block;\n        }\n\n        .stat-label {\n          font-size: 0.875rem;\n          color: #6b7280;\n          text-transform: uppercase;\n          letter-spacing: 0.5px;\n          font-weight: 500;\n        }\n\n        .filter-tabs {\n          display: flex;\n          justify-content: center;\n          gap: 8px;\n          margin-bottom: 32px;\n          flex-wrap: wrap;\n        }\n\n        .filter-tab {\n          padding: 8px 20px;\n          border: 2px solid transparent;\n          border-radius: 25px;\n          background: white;\n          color: #6b7280;\n          font-size: 14px;\n          font-weight: 500;\n          cursor: pointer;\n          transition: all 0.3s ease;\n          display: flex;\n          align-items: center;\n          gap: 6px;\n        }\n\n        .filter-tab.active {\n          background: #0a451c;\n          color: white;\n          border-color: #0a451c;\n        }\n\n        .filter-tab:hover:not(.active) {\n          background: #f3f4f6;\n          border-color: #e5e7eb;\n        }\n\n        .donors-grid {\n          display: grid;\n          grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));\n          gap: 24px;\n          margin-bottom: 40px;\n          min-height: 400px;\n        }\n\n        .donor-card {\n          background: white;\n          border-radius: 16px;\n          padding: 24px;\n          box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);\n          transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n          position: relative;\n          overflow: hidden;\n          border: 2px solid transparent;\n        }\n\n        .donor-card:hover {\n          transform: translateY(-4px);\n          box-shadow: 0 12px 24px rgba(0, 0, 0, 0.15);\n          border-color: #9ccf9f;\n        }\n\n        .donor-card.featured {\n          background: linear-gradient(135deg, #fff7ed, #fef3c7);\n          border-color: #facf3c;\n        }\n\n        .donor-card.featured::before {\n          content: '';\n          position: absolute;\n          top: 0;\n          right: 0;\n          width: 0;\n          height: 0;\n          border-left: 20px solid transparent;\n          border-top: 20px solid #facf3c;\n        }\n\n        .donor-card.featured::after {\n          content: '\u2b50';\n          position: absolute;\n          top: 4px;\n          right: 4px;\n          font-size: 12px;\n        }\n\n        .donor-card.completed::before {\n          content: '\u2705';\n          position: absolute;\n          top: 8px;\n          left: 8px;\n          font-size: 14px;\n          z-index: 1;\n        }\n\n        .donor-badge {\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          width: 48px;\n          height: 48px;\n          border-radius: 50%;\n          margin: 0 auto 16px;\n          position: relative;\n        }\n\n        .donor-badge.glow {\n          animation: glow 2s ease-in-out infinite alternate;\n        }\n\n        .donor-name {\n          font-size: 1.125rem;\n          font-weight: 600;\n          color: #1f2937;\n          text-align: center;\n          margin: 0 0 8px 0;\n        }\n\n        .donor-amount {\n          font-size: 1rem;\n          font-weight: 500;\n          color: #059669;\n          text-align: center;\n          margin: 0 0 8px 0;\n        }\n\n        .donor-date {\n          font-size: 0.875rem;\n          color: #6b7280;\n          text-align: center;\n          margin: 0 0 12px 0;\n        }\n\n        .donor-tier {\n          display: inline-flex;\n          align-items: center;\n          gap: 4px;\n          padding: 4px 12px;\n          border-radius: 12px;\n          font-size: 0.75rem;\n          font-weight: 500;\n          text-transform: uppercase;\n          letter-spacing: 0.5px;\n          margin: 0 auto;\n          background: #f3f4f6;\n          color: #6b7280;\n        }\n\n        .anonymous-card {\n          background: linear-gradient(135deg, #6b7280, #4b5563);\n          color: white;\n          text-align: center;\n          display: flex;\n          flex-direction: column;\n          align-items: center;\n          justify-content: center;\n          min-height: 200px;\n          position: relative;\n          overflow: hidden;\n        }\n\n        .anonymous-card::before {\n          content: '';\n          position: absolute;\n          top: -50%;\n          left: -50%;\n          width: 200%;\n          height: 200%;\n          background: repeating-linear-gradient(\n            45deg,\n            transparent,\n            transparent 10px,\n            rgba(255, 255, 255, 0.05) 10px,\n            rgba(255, 255, 255, 0.05) 20px\n          );\n          animation: slide 20s linear infinite;\n        }\n\n        .anonymous-content {\n          position: relative;\n          z-index: 1;\n        }\n\n        .anonymous-icon {\n          margin-bottom: 16px;\n          opacity: 0.9;\n        }\n\n        .anonymous-count {\n          font-size: 2rem;\n          font-weight: 700;\n          margin: 0 0 8px 0;\n        }\n\n        .anonymous-label {\n          font-size: 1rem;\n          opacity: 0.9;\n          margin: 0 0 8px 0;\n        }\n\n        .anonymous-total {\n          font-size: 0.875rem;\n          opacity: 0.7;\n          margin: 0;\n        }\n\n        .pagination {\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          gap: 16px;\n          margin-top: 32px;\n        }\n\n        .page-button {\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          width: 40px;\n          height: 40px;\n          border: 2px solid #e5e7eb;\n          border-radius: 50%;\n          background: white;\n          color: #6b7280;\n          cursor: pointer;\n          transition: all 0.2s ease;\n        }\n\n        .page-button:hover {\n          background: #0a451c;\n          color: white;\n          border-color: #0a451c;\n        }\n\n        .page-button:disabled {\n          opacity: 0.5;\n          cursor: not-allowed;\n        }\n\n        .page-button:disabled:hover {\n          background: white;\n          color: #6b7280;\n          border-color: #e5e7eb;\n        }\n\n        .page-info {\n          color: #6b7280;\n          font-size: 14px;\n          font-weight: 500;\n        }\n\n        .empty-state {\n          text-align: center;\n          padding: 80px 20px;\n          color: #6b7280;\n        }\n\n        .empty-state h3 {\n          font-size: 1.5rem;\n          margin: 0 0 16px 0;\n          color: #374151;\n        }\n\n        .empty-state p {\n          font-size: 1rem;\n          margin: 0;\n        }\n\n        .debug-info {\n          background: #fee2e2;\n          border: 1px solid #fca5a5;\n          border-radius: 8px;\n          padding: 16px;\n          margin: 16px 0;\n          font-family: monospace;\n          font-size: 12px;\n        }\n\n        @keyframes glow {\n          from {\n            box-shadow: 0 0 10px rgba(139, 92, 246, 0.5);\n          }\n          to {\n            box-shadow: 0 0 20px rgba(139, 92, 246, 0.8), 0 0 30px rgba(139, 92, 246, 0.6);\n          }\n        }\n\n        @keyframes slide {\n          0% { transform: translateX(-50px) translateY(-50px); }\n          100% { transform: translateX(50px) translateY(50px); }\n        }\n\n        @media (max-width: 768px) {\n          .donor-wall {\n            padding: 24px 16px;\n          }\n\n          .wall-title {\n            font-size: 2rem;\n          }\n\n          .wall-stats {\n            gap: 24px;\n          }\n\n          .donors-grid {\n            grid-template-columns: repeat(auto-fill, minmax(240px, 1fr));\n            gap: 16px;\n          }\n\n          .donor-card {\n            padding: 20px;\n          }\n\n          .filter-tabs {\n            gap: 4px;\n          }\n\n          .filter-tab {\n            padding: 6px 16px;\n            font-size: 13px;\n          }\n        }\n\n        @media (max-width: 480px) {\n          .donors-grid {\n            grid-template-columns: 1fr;\n          }\n\n          .wall-stats {\n            flex-direction: column;\n            gap: 16px;\n          }\n        }\n      "}),(0,s.jsxs)("div",{className:"wall-header",children:[(0,s.jsxs)("h2",{className:"wall-title",children:["Our Amazing Donors",(0,s.jsxs)("span",{className:"completed-badge",children:[(0,s.jsx)(vi.A,{size:12}),"Completed Donations"]})]}),(0,s.jsx)("p",{className:"wall-subtitle",children:"These generous individuals have completed their donations and are making a real difference in African communities. Thank you for your support and belief in our mission!"}),(0,s.jsxs)("div",{className:"wall-stats",children:[(0,s.jsxs)("div",{className:"stat-item",children:[(0,s.jsx)("span",{className:"stat-number",children:t.length+r.count}),(0,s.jsx)("span",{className:"stat-label",children:"Completed Donors"})]}),(0,s.jsxs)("div",{className:"stat-item",children:[(0,s.jsx)("span",{className:"stat-number",children:t.length}),(0,s.jsx)("span",{className:"stat-label",children:"Public Donors"})]}),(0,s.jsxs)("div",{className:"stat-item",children:[(0,s.jsx)("span",{className:"stat-number",children:r.count}),(0,s.jsx)("span",{className:"stat-label",children:"Anonymous"})]})]}),!1]}),(0,s.jsxs)("div",{className:"filter-tabs",children:[(0,s.jsxs)("button",{className:"filter-tab ".concat("all"===m?"active":""),onClick:()=>{x("all"),p(0)},children:[(0,s.jsx)(Cn.A,{size:16}),"All Completed"]}),(0,s.jsxs)("button",{className:"filter-tab ".concat("featured"===m?"active":""),onClick:()=>{x("featured"),p(0)},children:[(0,s.jsx)(M.A,{size:16}),"Featured"]}),(0,s.jsxs)("button",{className:"filter-tab ".concat("recent"===m?"active":""),onClick:()=>{x("recent"),p(0)},children:[(0,s.jsx)(Z.A,{size:16}),"Recent"]})]}),0===u.length&&0===r.count?(0,s.jsxs)("div",{className:"empty-state",children:[(0,s.jsx)("h3",{children:"No completed donations yet"}),(0,s.jsx)("p",{children:"Completed donations will appear here once processing is finished!"}),!1]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"donors-grid",children:[0===d&&r.count>0&&(0,s.jsx)("div",{className:"donor-card anonymous-card",children:(0,s.jsxs)("div",{className:"anonymous-content",children:[(0,s.jsx)("div",{className:"anonymous-icon",children:(0,s.jsx)(Cn.A,{size:32})}),(0,s.jsx)("h3",{className:"anonymous-count",children:r.count}),(0,s.jsx)("p",{className:"anonymous-label",children:"Anonymous Donors"}),(0,s.jsxs)("p",{className:"anonymous-total",children:["Total: ",f(r.totalAmount)]}),(0,s.jsx)("div",{style:{fontSize:"12px",opacity:.8,marginTop:"8px"},children:"Completed Donations"})]})}),h.map((e,n)=>{const t=(a=e.donation_amount)>=1e3?{icon:ji.A,color:"#8B5CF6",tier:"Platinum",glow:!0}:a>=500?{icon:vi.A,color:"#F59E0B",tier:"Gold",glow:!0}:a>=100?{icon:pa.A,color:"#6B7280",tier:"Silver",glow:!1}:{icon:wi.A,color:"#CD7F32",tier:"Bronze",glow:!1};var a;const r=t.icon,o="completed"===e.status||"completed"===e.donation_status;return(0,s.jsxs)("div",{className:"donor-card ".concat(e.is_featured?"featured":""," ").concat(o?"completed":""),children:[(0,s.jsx)("div",{className:"donor-badge ".concat(t.glow?"glow":""),style:{backgroundColor:"".concat(t.color,"20"),border:"2px solid ".concat(t.color)},children:(0,s.jsx)(r,{size:24,color:t.color})}),(0,s.jsx)("h3",{className:"donor-name",children:e.is_anonymous?"Anonymous Friend":e.donor_name}),(0,s.jsx)("p",{className:"donor-amount",children:f(e.donation_amount)}),(0,s.jsx)("p",{className:"donor-date",children:(i=e.donation_date||e.completed_at||e.created_at,new Date(i).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}))}),(0,s.jsxs)("div",{className:"donor-tier",style:{color:t.color,backgroundColor:"".concat(t.color,"15")},children:[t.tier," Donor"]}),o&&(0,s.jsx)("div",{style:{marginTop:"8px",fontSize:"11px",color:"#059669",textAlign:"center",fontWeight:"500"},children:"\u2713 Donation Completed"})]},"".concat(e.donation_id,"-").concat(n));var i}),h.length<12&&h.length>0&&Array.from({length:12-h.length},(e,n)=>(0,s.jsx)("div",{style:{visibility:"hidden"}},"empty-".concat(n)))]}),g>1&&(0,s.jsxs)("div",{className:"pagination",children:[(0,s.jsx)("button",{className:"page-button",onClick:()=>{p(e=>(e-1+g)%g)},disabled:0===d,children:(0,s.jsx)(ma.A,{size:20})}),(0,s.jsxs)("span",{className:"page-info",children:["Page ",d+1," of ",g]}),(0,s.jsx)("button",{className:"page-button",onClick:()=>{p(e=>(e+1)%g)},disabled:d===g-1,children:(0,s.jsx)(xa.A,{size:20})})]})]}),(0,s.jsxs)("div",{style:{textAlign:"center",marginTop:"48px",padding:"24px",background:"white",borderRadius:"12px",border:"2px dashed #e5e7eb"},children:[(0,s.jsx)(Ae.A,{size:24,color:"#0a451c",style:{marginBottom:"8px"}}),(0,s.jsx)("p",{style:{margin:0,color:"#6b7280",fontSize:"14px",fontStyle:"italic"},children:'"Every completed contribution creates lasting impact and brings us closer to our climate goals."'})]})]})};var ki=t(3796),Si=t(1286);const Ci={container:{minHeight:"100vh",backgroundColor:"#ffffff",color:"#1e293b",fontFamily:'"Nunito Sans", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif'},stickyHeader:{position:"relative",top:"0",zIndex:10,backgroundColor:"#ffffff",borderBottom:"1px solid #e2e8f0",boxShadow:"0 1px 2px rgba(0, 0, 0, 0.04)"},stickyHeaderContent:{maxWidth:"900px",margin:"0 auto",padding:"0.5rem 1rem",display:"flex",alignItems:"center",gap:"0.75rem",justifyContent:"space-between"},backButton:{backgroundColor:"#f8fafc",border:"1px solid #e2e8f0",borderRadius:"0.375rem",padding:"0.5rem",cursor:"pointer",transition:"all 0.2s ease",display:"flex",alignItems:"center",justifyContent:"center",color:"#64748b"},countryInfo:{display:"flex",alignItems:"center",gap:"0.5rem",flex:1},countryIcon:{color:"#0a451c"},countryTitle:{fontSize:"1.25rem",fontWeight:"600",color:"#1e293b",margin:0},dropdownContainer:{position:"relative"},dropdownButton:{backgroundColor:"#f8fafc",border:"1px solid #e2e8f0",borderRadius:"0.375rem",padding:"0.5rem 0.75rem",cursor:"pointer",transition:"all 0.2s ease",display:"flex",alignItems:"center",gap:"0.5rem",fontSize:"0.875rem",fontWeight:"500",color:"#374151"},dropdownChevron:{transition:"transform 0.2s ease"},dropdownMenu:{position:"absolute",top:"100%",right:0,backgroundColor:"#ffffff",border:"1px solid #e2e8f0",borderRadius:"0.5rem",boxShadow:"0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05)",zIndex:50,minWidth:"200px",maxHeight:"300px",overflow:"hidden",marginTop:"0.25rem"},dropdownHeader:{padding:"0.75rem 1rem",borderBottom:"1px solid #f1f5f9",fontSize:"0.75rem",fontWeight:"600",color:"#64748b",textTransform:"uppercase",letterSpacing:"0.05em"},dropdownList:{maxHeight:"250px",overflowY:"auto"},dropdownItem:{width:"100%",padding:"0.75rem 1rem",fontSize:"0.875rem",color:"#374151",backgroundColor:"transparent",border:"none",cursor:"pointer",transition:"all 0.2s ease",display:"flex",alignItems:"center",justifyContent:"space-between",textAlign:"left"},dropdownItemActive:{backgroundColor:"#f0fdf4",color:"#0a451c",fontWeight:"500"},exploreButton:{backgroundColor:"#0a451c",color:"white",border:"none",borderRadius:"0.375rem",padding:"0.5rem 0.75rem",cursor:"pointer",transition:"all 0.2s ease",fontSize:"0.875rem",fontWeight:"500"},loadingContainer:{minHeight:"50vh",backgroundColor:"#ffffff",display:"flex",alignItems:"center",justifyContent:"center"},loadingContent:{textAlign:"center"},loadingSpinner:{width:"3rem",height:"3rem",border:"4px solid #e5e7eb",borderTop:"4px solid #0a451c",borderRadius:"50%",animation:"spin 1s linear infinite",margin:"0 auto 1rem"},loadingText:{fontSize:"1.25rem",fontWeight:"600",color:"#64748b",fontFamily:'"Nunito Sans", sans-serif'},heroSection:{background:"linear-gradient(135deg, #f0fdf4 0%, #dcfce7 100%)",borderBottom:"1px solid #e5e7eb"},heroContent:{maxWidth:"1200px",margin:"0 auto",padding:"3rem 1.5rem",textAlign:"center"},heroTitleContainer:{display:"flex",alignItems:"center",justifyContent:"center",gap:"1rem",marginBottom:"1.5rem",flexWrap:"wrap"},heroFlag:{fontSize:"3rem",filter:"drop-shadow(0 2px 4px rgba(0, 0, 0, 0.1))"},heroTitle:{fontSize:"3rem",fontWeight:"800",lineHeight:"1.1",color:"#0a451c",margin:0,fontFamily:'"Nunito Sans", sans-serif'},heroSubtitle:{color:"#64748b",marginBottom:"2.5rem",fontSize:"1.125rem",lineHeight:1.7,maxWidth:"600px",margin:"0 auto 2.5rem auto",fontFamily:'"Nunito Sans", sans-serif'},statsGrid:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"1.5rem",maxWidth:"800px",margin:"0 auto"},statCard:{textAlign:"center",transition:"all 0.3s ease"},statContent:{backgroundColor:"#ffffff",borderRadius:"1rem",padding:"1.5rem",transition:"all 0.3s ease",border:"1px solid #e2e8f0",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.08)"},statIcon:{width:"2rem",height:"2rem",color:"#0a451c",margin:"0 auto 0.75rem"},statNumber:{fontSize:"2rem",fontWeight:"800",color:"#0a451c",marginBottom:"0.5rem",fontFamily:'"Nunito Sans", sans-serif'},statLabel:{fontSize:"0.875rem",color:"#64748b",fontWeight:"500",fontFamily:'"Nunito Sans", sans-serif'},mainContainer:{maxWidth:"1200px",margin:"0 auto",padding:"0 1.5rem"},placeholderSection:{padding:"4rem 0"},placeholderCard:{backgroundColor:"#f8fafc",borderRadius:"1rem",padding:"3rem 2rem",textAlign:"center",border:"1px solid #e2e8f0",maxWidth:"600px",margin:"0 auto"},placeholderIcon:{fontSize:"4rem",marginBottom:"1.5rem"},placeholderTitle:{fontSize:"1.5rem",fontWeight:"700",color:"#1e293b",marginBottom:"1rem",fontFamily:'"Nunito Sans", sans-serif'},placeholderText:{color:"#64748b",lineHeight:1.6,marginBottom:"1rem",fontFamily:'"Nunito Sans", sans-serif'},placeholderSubtext:{color:"#94a3b8",fontSize:"0.875rem",lineHeight:1.6,marginBottom:"2rem",fontFamily:'"Nunito Sans", sans-serif'},placeholderActions:{display:"flex",justifyContent:"center"},placeholderButton:{backgroundColor:"#0a451c",color:"white",padding:"0.75rem 1.5rem",borderRadius:"0.5rem",border:"none",fontWeight:"600",cursor:"pointer",transition:"all 0.2s ease",fontFamily:'"Nunito Sans", sans-serif'},section:{padding:"3rem 0",position:"relative"},sectionDivider:{height:"1px",backgroundColor:"#f1f5f9",margin:"2rem 0"},sectionHeader:{display:"flex",alignItems:"flex-start",gap:"1rem",marginBottom:"2.5rem",textAlign:"left"},sectionIcon:{width:"2rem",height:"2rem",color:"#0a451c",flexShrink:0,marginTop:"0.25rem"},sectionTitle:{fontSize:"1.875rem",fontWeight:"700",color:"#1e293b",marginBottom:"0.75rem",fontFamily:'"Nunito Sans", sans-serif',lineHeight:"1.2"},sectionSubtitle:{fontSize:"1rem",color:"#64748b",lineHeight:1.6,fontFamily:'"Nunito Sans", sans-serif'},teamGrid:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:"1.5rem"},teamCard:{backgroundColor:"#ffffff",borderRadius:"0.75rem",overflow:"hidden",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.08)",border:"1px solid #e2e8f0",transition:"all 0.3s ease"},teamCardContent:{padding:"1.5rem",textAlign:"center"},teamAvatar:{position:"relative",width:"4rem",height:"4rem",margin:"0 auto 1rem"},teamAvatarImage:{width:"100%",height:"100%",objectFit:"cover",borderRadius:"50%",border:"2px solid #0a451c"},teamAvatarFallback:{width:"100%",height:"100%",backgroundColor:"#0a451c",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontSize:"1.25rem",fontWeight:"700",fontFamily:'"Nunito Sans", sans-serif'},teamName:{fontSize:"1.125rem",fontWeight:"600",color:"#1e293b",marginBottom:"0.25rem",fontFamily:'"Nunito Sans", sans-serif'},teamPosition:{color:"#0a451c",fontWeight:"500",marginBottom:"0.5rem",fontFamily:'"Nunito Sans", sans-serif'},teamDepartment:{display:"inline-block",backgroundColor:"#f0fdf4",color:"#166534",padding:"0.25rem 0.75rem",borderRadius:"1rem",fontSize:"0.75rem",fontWeight:"500",marginBottom:"1rem",fontFamily:'"Nunito Sans", sans-serif'},teamBio:{color:"#64748b",fontSize:"0.875rem",lineHeight:1.6,marginBottom:"1rem",fontFamily:'"Nunito Sans", sans-serif'},teamActions:{display:"flex",justifyContent:"center",gap:"0.5rem"},teamAction:{backgroundColor:"#f1f5f9",color:"#64748b",padding:"0.5rem 0.75rem",borderRadius:"0.375rem",textDecoration:"none",fontSize:"0.75rem",fontWeight:"500",transition:"all 0.2s ease",display:"flex",alignItems:"center",gap:"0.25rem",fontFamily:'"Nunito Sans", sans-serif'},projectsGrid:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(350px, 1fr))",gap:"1.5rem"},projectCard:{backgroundColor:"#ffffff",borderRadius:"0.75rem",overflow:"hidden",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.08)",border:"1px solid #e2e8f0",transition:"all 0.3s ease",cursor:"pointer"},projectImage:{position:"relative",height:"10rem",overflow:"hidden",background:"linear-gradient(45deg, #f0fdf4, #dcfce7)",display:"flex",alignItems:"center",justifyContent:"center"},projectImageImg:{width:"100%",height:"100%",objectFit:"cover"},projectStatus:{position:"absolute",top:"0.75rem",right:"0.75rem",padding:"0.375rem 0.75rem",borderRadius:"1rem",fontSize:"0.75rem",fontWeight:"600",textTransform:"capitalize",fontFamily:'"Nunito Sans", sans-serif',display:"flex",alignItems:"center",gap:"0.25rem"},statusCompleted:{backgroundColor:"#dcfce7",color:"#166534"},statusOngoing:{backgroundColor:"#dbeafe",color:"#1e40af"},statusPlanning:{backgroundColor:"#fef3c7",color:"#a16207"},statusOnHold:{backgroundColor:"#fee2e2",color:"#991b1b"},projectContent:{padding:"1.5rem"},projectTitle:{fontSize:"1.125rem",fontWeight:"600",color:"#1e293b",marginBottom:"0.75rem",fontFamily:'"Nunito Sans", sans-serif'},projectDescription:{color:"#64748b",marginBottom:"1rem",lineHeight:1.6,fontSize:"0.875rem",fontFamily:'"Nunito Sans", sans-serif'},projectMeta:{display:"flex",flexDirection:"column",gap:"0.5rem"},projectMetaItem:{display:"flex",alignItems:"center",gap:"0.5rem",color:"#64748b",fontSize:"0.75rem",fontFamily:'"Nunito Sans", sans-serif'},eventsGrid:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(350px, 1fr))",gap:"1.5rem"},eventCard:{backgroundColor:"#ffffff",borderRadius:"0.75rem",overflow:"hidden",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.08)",border:"1px solid #e2e8f0",transition:"all 0.3s ease",cursor:"pointer"},eventContent:{padding:"1.5rem"},eventHeader:{display:"flex",alignItems:"flex-start",justifyContent:"space-between",marginBottom:"1rem",gap:"1rem"},eventTitle:{fontSize:"1.125rem",fontWeight:"600",color:"#1e293b",flex:"1",fontFamily:'"Nunito Sans", sans-serif'},eventPricePaid:{backgroundColor:"#dcfce7",color:"#166534",padding:"0.375rem 0.75rem",borderRadius:"1rem",fontSize:"0.75rem",fontWeight:"600",whiteSpace:"nowrap",fontFamily:'"Nunito Sans", sans-serif'},eventPriceFree:{backgroundColor:"#f0fdf4",color:"#15803d",padding:"0.375rem 0.75rem",borderRadius:"1rem",fontSize:"0.75rem",fontWeight:"600",whiteSpace:"nowrap",fontFamily:'"Nunito Sans", sans-serif'},eventDescription:{color:"#64748b",marginBottom:"1rem",lineHeight:1.6,fontSize:"0.875rem",fontFamily:'"Nunito Sans", sans-serif'},eventMeta:{display:"flex",flexDirection:"column",gap:"0.5rem"},eventMetaItem:{display:"flex",alignItems:"center",gap:"0.5rem",color:"#64748b",fontSize:"0.75rem",fontFamily:'"Nunito Sans", sans-serif'},contactGrid:{display:"grid",gridTemplateColumns:"1fr",gap:"2rem",maxWidth:"600px"},contactSection:{display:"flex",flexDirection:"column"},contactTitle:{fontSize:"1.25rem",fontWeight:"600",color:"#1e293b",marginBottom:"1.5rem",fontFamily:'"Nunito Sans", sans-serif'},contactItems:{display:"flex",flexDirection:"column",gap:"1rem"},contactItem:{display:"flex",alignItems:"flex-start",gap:"0.75rem",padding:"1rem",backgroundColor:"#ffffff",borderRadius:"0.5rem",border:"1px solid #e2e8f0",boxShadow:"0 1px 3px rgba(0, 0, 0, 0.05)"},contactItemIcon:{width:"1.25rem",height:"1.25rem",marginTop:"0.125rem",flexShrink:0},contactItemContent:{flex:1},contactItemLabel:{fontWeight:"500",color:"#1e293b",marginBottom:"0.25rem",fontSize:"0.875rem",fontFamily:'"Nunito Sans", sans-serif'},contactItemValue:{color:"#0a451c",fontWeight:"500",textDecoration:"none",transition:"color 0.2s ease",fontSize:"0.875rem",fontFamily:'"Nunito Sans", sans-serif'},contactItemMeta:{color:"#64748b",fontSize:"0.75rem",marginTop:"0.25rem",fontFamily:'"Nunito Sans", sans-serif'},newsGrid:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(350px, 1fr))",gap:"1.5rem"},newsCard:{backgroundColor:"#ffffff",borderRadius:"0.75rem",overflow:"hidden",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.08)",border:"1px solid #e2e8f0",transition:"all 0.3s ease",cursor:"pointer"},newsImage:{position:"relative",height:"10rem",overflow:"hidden",background:"linear-gradient(45deg, #f0fdf4, #dcfce7)"},newsImageImg:{width:"100%",height:"100%",objectFit:"cover"},newsContent:{padding:"1.5rem"},newsTitle:{fontSize:"1.125rem",fontWeight:"600",color:"#1e293b",marginBottom:"0.75rem",fontFamily:'"Nunito Sans", sans-serif'},newsExcerpt:{color:"#64748b",marginBottom:"1rem",lineHeight:1.6,fontSize:"0.875rem",fontFamily:'"Nunito Sans", sans-serif'},newsMeta:{display:"flex",justifyContent:"space-between",alignItems:"center",gap:"0.5rem"},newsMetaItem:{display:"flex",alignItems:"center",gap:"0.5rem",color:"#64748b",fontSize:"0.75rem",fontFamily:'"Nunito Sans", sans-serif'},volunteerGrid:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(350px, 1fr))",gap:"1.5rem"},volunteerCard:{backgroundColor:"#ffffff",borderRadius:"0.75rem",overflow:"hidden",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.08)",border:"1px solid #e2e8f0",transition:"all 0.3s ease"},volunteerContent:{padding:"1.5rem"},volunteerTitle:{fontSize:"1.125rem",fontWeight:"600",color:"#1e293b",marginBottom:"0.75rem",fontFamily:'"Nunito Sans", sans-serif'},volunteerDescription:{color:"#64748b",marginBottom:"1rem",lineHeight:1.6,fontSize:"0.875rem",fontFamily:'"Nunito Sans", sans-serif'},volunteerMeta:{marginBottom:"1rem"},volunteerStatus:{display:"inline-block"},volunteerActions:{display:"flex",justifyContent:"flex-end"},volunteerButton:{display:"inline-flex",alignItems:"center",gap:"0.5rem",backgroundColor:"#0a451c",color:"white",padding:"0.75rem 1.5rem",borderRadius:"0.5rem",textDecoration:"none",fontWeight:"600",transition:"all 0.2s ease",fontFamily:'"Nunito Sans", sans-serif'}},zi=()=>{var e,n,t,r,o,l,c,d,p,x,u;const{countryName:g}=(0,a.g)(),h=(0,a.Zp)(),[f,b]=(0,i.useState)({country:null,team:[],projects:[],events:[],contact:null,transactionMethods:[],countryNews:[],volunteerForms:[]}),[y,j]=(0,i.useState)([]),[v,w]=(0,i.useState)(!0),[A,k]=(0,i.useState)(""),[S,C]=(0,i.useState)(!1),[z,N]=(0,i.useState)({}),[_,I]=(0,i.useState)(null),[E,T]=(0,i.useState)(!1),[W,F]=(0,i.useState)(null),P="http://localhost:5000/api",R="http://localhost:5000",B=()=>({team:[],projects:[],events:[],contact:{country:g||"Unknown",email:"info.".concat((g||"unknown").toLowerCase().replace(/\s+/g,""),"@organization.org"),phone:"+1 (555) 000-0000",physical_address:"Address information coming soon",city:"City information coming soon",postal_code:"00000",mailing_address:"Mailing address information coming soon"},transactionMethods:[],countryNews:[],volunteerForms:[]}),D=()=>{T(!1)},L=(0,i.useCallback)(async()=>{if(!g)return k("No country specified"),void w(!1);w(!0),k("");try{console.log("Fetching data for country: ".concat(g));const[n,t,a,r,o,i,s,l]=await Promise.all([fetch("".concat(P,"/countries")).catch(()=>({ok:!1})),fetch("".concat(P,"/team")).catch(()=>({ok:!1})),fetch("".concat(P,"/projects")).catch(()=>({ok:!1})),fetch("".concat(P,"/events")).catch(()=>({ok:!1})),fetch("".concat(P,"/country-contacts")).catch(()=>({ok:!1})),fetch("".concat(P,"/transaction-details")).catch(()=>({ok:!1})),fetch("".concat(P,"/blogs/news/country/").concat(encodeURIComponent(g))).catch(()=>({ok:!1})),fetch("".concat(P,"/volunteer-forms/country/").concat(encodeURIComponent(g))).catch(()=>({ok:!1}))]);let c=null,d=[],p=[],m=[],x=null,u=[],h=[],f=[],y=[];if(n.ok)try{const e=await n.json(),t=Array.isArray(e)?e:e.data||[];h=t.map(e=>e.name).sort(),j(h),c=t.find(e=>e.name===g),console.log("Countries loaded:",h.length)}catch(e){console.warn("Failed to parse countries data:",e)}if(s.ok)try{const e=await s.json();f=Array.isArray(e)?e:e.data||[],console.log("News data for ".concat(g,":"),f)}catch(e){console.warn("Failed to parse news data:",e),f=[]}else console.warn("News API failed for ".concat(g,":"),s.status);if(l.ok)try{const e=await l.json();y=Array.isArray(e)?e:e.data||[],console.log("Volunteer forms for ".concat(g,":"),y)}catch(e){console.warn("Failed to parse volunteer forms data:",e),y=[]}if(t.ok)try{const e=await t.json();d=(Array.isArray(e)?e:e.members||e.data||[]).filter(e=>e.country===g),console.log("Team members for ".concat(g,":"),d.length)}catch(e){console.warn("Failed to parse team data:",e)}if(a.ok)try{const e=await a.json();p=(Array.isArray(e)?e:e.data||[]).filter(e=>e.country_name===g||e.countryName===g||e.country===g||e.location&&e.location.includes(g)),console.log("Projects for ".concat(g,":"),p.length)}catch(e){console.warn("Failed to parse projects data:",e)}if(r.ok)try{const e=await r.json();m=(Array.isArray(e)?e:e.data||[]).filter(e=>e.country===g||e.location&&e.location.includes(g)),console.log("Events for ".concat(g,":"),m.length)}catch(e){console.warn("Failed to parse events data:",e)}if(o.ok)try{const e=await o.json();x=(Array.isArray(e)?e:e.data||[]).find(e=>e.country===g)}catch(e){console.warn("Failed to parse contacts data:",e)}if(i.ok)try{const e=await i.json();u=(Array.isArray(e)?e:e.data||[]).filter(e=>e.country===g||!e.country)}catch(e){console.warn("Failed to parse transaction data:",e)}const v=B(),w={country:c,team:d||[],projects:p||[],events:m||[],contact:x||v.contact,countryNews:f||[],volunteerForms:y||[],transactionMethods:u||[]};b(w),console.log("Final country data:",{countryNews:w.countryNews,volunteerForms:w.volunteerForms,newsLength:w.countryNews.length,formsLength:w.volunteerForms.length})}catch(n){console.error("Error fetching country data:",n),k("Failed to load country information");const e=B();b({country:null,team:[],projects:[],events:[],contact:e.contact,transactionMethods:[],countryNews:[],volunteerForms:[]})}finally{w(!1)}},[g,P]);(0,i.useEffect)(()=>{g?L():(k("No country specified"),w(!1))},[g,L]);const M=()=>{h("/findbycountry")},H=e=>{if(!e)return"Unknown date";try{return new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})}catch(n){return"Invalid date"}},O=e=>{if(!e)return"Unknown date";try{return new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}catch(n){return"Invalid date"}},U=(e,n)=>{if(!e)return"unknown";try{const t=new Date,a=new Date(e),r=n?new Date(n):null;return t<a?"upcoming":r&&t>r?"completed":"ongoing"}catch(t){return"unknown"}},Y=(null===f||void 0===f||null===(e=f.team)||void 0===e?void 0:e.length)>0||(null===f||void 0===f||null===(n=f.projects)||void 0===n?void 0:n.length)>0||(null===f||void 0===f||null===(t=f.events)||void 0===t?void 0:t.length)>0;if(!g)return(0,s.jsxs)("div",{children:[(0,s.jsx)(Le,{}),(0,s.jsx)("div",{style:Ci.loadingContainer,children:(0,s.jsx)("div",{style:Ci.loadingContent,children:(0,s.jsx)("div",{style:Ci.loadingText,children:"No country specified"})})}),W&&(0,s.jsxs)("div",{className:"modal-overlay",onClick:()=>F(null),children:[(0,s.jsxs)("div",{className:"modal-content",onClick:e=>e.stopPropagation(),children:[(0,s.jsxs)("div",{style:Ci.modalHeader,children:[(0,s.jsx)("h3",{children:W.form_title}),(0,s.jsx)("button",{onClick:()=>F(null),style:Ci.modalCloseButton,children:(0,s.jsx)(ie.A,{size:20})})]}),(0,s.jsx)("iframe",{src:"".concat(W.form_url,"?embedded=true"),title:W.form_title,style:{width:"100%",height:"600px",border:"none",borderRadius:"8px"}})]}),W&&(0,s.jsx)("div",{className:"modal-overlay",onClick:()=>F(null),children:(0,s.jsxs)("div",{className:"modal-content",onClick:e=>e.stopPropagation(),children:[(0,s.jsxs)("div",{style:Ci.modalHeader,children:[(0,s.jsx)("h3",{children:W.form_title}),(0,s.jsx)("button",{onClick:()=>F(null),style:Ci.modalCloseButton,children:(0,s.jsx)(ie.A,{size:20})})]}),(0,s.jsx)("iframe",{src:"".concat(W.form_url,"?embedded=true"),title:W.form_title,style:{width:"100%",height:"600px",border:"none",borderRadius:"8px"}})]})})]}),(0,s.jsx)(Qe,{})]});if(v)return(0,s.jsxs)("div",{children:[(0,s.jsx)(Le,{}),(0,s.jsx)("div",{style:Ci.loadingContainer,children:(0,s.jsxs)("div",{style:Ci.loadingContent,children:[(0,s.jsx)("div",{style:Ci.loadingSpinner}),(0,s.jsxs)("div",{style:Ci.loadingText,children:["Discovering ",g,"..."]})]})}),(0,s.jsx)(Qe,{})]});if(A)return(0,s.jsxs)("div",{children:[(0,s.jsx)(Le,{}),(0,s.jsx)("div",{style:Ci.loadingContainer,children:(0,s.jsxs)("div",{style:Ci.loadingContent,children:[(0,s.jsxs)("div",{style:Ci.loadingText,children:["Error: ",A]}),(0,s.jsx)("button",{onClick:()=>window.location.reload(),style:{marginTop:"16px",padding:"8px 16px"},children:"Retry"})]})}),(0,s.jsx)(Qe,{})]});const G=Array.isArray(null===f||void 0===f?void 0:f.volunteerForms)?f.volunteerForms:null!==f&&void 0!==f&&f.volunteerForms?[f.volunteerForms]:[],V=[{label:"Team Members",value:(null===f||void 0===f||null===(r=f.team)||void 0===r?void 0:r.length)||0,icon:Cn.A},{label:"Active Projects",value:(null===f||void 0===f||null===(o=f.projects)||void 0===o||null===(l=o.filter(e=>"ongoing"===e.status||"planning"===e.status))||void 0===l?void 0:l.length)||0,icon:Ua.A},{label:"Upcoming Events",value:(null===f||void 0===f||null===(c=f.events)||void 0===c||null===(d=c.filter(e=>"upcoming"===U(e.start_date,e.end_date)))||void 0===d?void 0:d.length)||0,icon:q.A},{label:"Volunteer Opportunities",value:G.filter(e=>e.is_active).length,icon:Ae.A,onClick:()=>{T(!0)}},{label:"Payment Methods",value:(null===f||void 0===f||null===(p=f.transactionMethods)||void 0===p?void 0:p.length)||0,icon:Ce.A}];return console.log("\ud83c\udfaf RENDERING DEBUG:"),console.log("- countryData:",f),console.log("- countryData.volunteerForms:",f.volunteerForms),console.log("- countryData.countryNews:",f.countryNews),console.log("- volunteerForms exists?",!!f.volunteerForms),console.log("- volunteerForms length:",null===(x=f.volunteerForms)||void 0===x?void 0:x.length),console.log("- countryNews exists?",!!f.countryNews),console.log("- countryNews length:",null===(u=f.countryNews)||void 0===u?void 0:u.length),console.log("- countryNews > 0?",f.countryNews&&f.countryNews.length>0),(0,s.jsxs)("div",{children:[(0,s.jsx)(Le,{}),(0,s.jsx)("div",{style:Ci.stickyHeader,children:(0,s.jsxs)("div",{style:Ci.stickyHeaderContent,children:[(0,s.jsx)("button",{onClick:()=>{h(-1)},style:Ci.backButton,"aria-label":"Go back",children:(0,s.jsx)(Ne.A,{size:18})}),(0,s.jsxs)("div",{style:Ci.countryInfo,children:[(0,s.jsx)(ki.A,{size:20,style:Ci.countryIcon}),(0,s.jsx)("h2",{style:Ci.countryTitle,children:g})]}),(0,s.jsxs)("div",{style:Ci.dropdownContainer,children:[(0,s.jsxs)("button",{style:Ci.dropdownButton,onClick:()=>C(!S),"aria-label":"Select country",children:["Switch Country",(0,s.jsx)(Q.A,{size:16,style:(0,m.A)((0,m.A)({},Ci.dropdownChevron),{},{transform:S?"rotate(180deg)":"rotate(0deg)"})})]}),S&&(0,s.jsxs)("div",{style:Ci.dropdownMenu,children:[(0,s.jsx)("div",{style:Ci.dropdownHeader,children:"Select a Country"}),(0,s.jsx)("div",{style:Ci.dropdownList,children:y.map(e=>(0,s.jsxs)("button",{style:(0,m.A)((0,m.A)({},Ci.dropdownItem),e===g?Ci.dropdownItemActive:{}),onClick:()=>{return n=e,C(!1),void(n!==g&&h("/country/".concat(encodeURIComponent(n))));var n},children:[e,e===g&&(0,s.jsx)(ze.A,{size:14})]},e))})]})]}),(0,s.jsx)("button",{onClick:M,style:Ci.exploreButton,children:"Explore All"})]})}),(0,s.jsxs)("div",{style:Ci.container,children:[(0,s.jsx)("style",{children:"\n          @keyframes spin {\n            0% { transform: rotate(0deg); }\n            100% { transform: rotate(360deg); }\n          }\n\n          @keyframes fadeInUp {\n            from {\n              opacity: 0;\n              transform: translateY(20px);\n            }\n            to {\n              opacity: 1;\n              transform: translateY(0);\n            }\n          }\n\n          .team-action:hover {\n            background: #0a451c !important;\n            color: white !important;\n            transform: translateY(-1px) !important;\n          }\n\n          .register-button:hover {\n            background: #0f5132 !important;\n            transform: translateY(-1px) !important;\n          }\n\n          .contact-item-value:hover {\n            color: #0f5132 !important;\n          }\n\n          .cta-button:hover {\n            background: #0f5132 !important;\n            transform: translateY(-2px) !important;\n            box-shadow: 0 8px 25px rgba(10, 69, 28, 0.4) !important;\n          }\n\n          .project-card:hover {\n            transform: translateY(-2px) !important;\n            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.15) !important;\n          }\n\n          .event-card:hover {\n            transform: translateY(-2px) !important;\n            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.15) !important;\n          }\n\n          .team-card:hover {\n            transform: translateY(-2px) !important;\n            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.15) !important;\n          }\n\n          .stat-card:hover {\n            transform: translateY(-2px) !important;\n            box-shadow: 0 8px 25px rgba(10, 69, 28, 0.15) !important;\n          }\n            \n          .payment-method:hover {\n            transform: translateY(-1px) !important;\n            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.1) !important;\n          }\n\n          .news-card:hover {\n            transform: translateY(-2px) !important;\n            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.15) !important;\n          }\n\n          .volunteer-card:hover {\n            transform: translateY(-2px) !important;\n            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.15) !important;\n          }\n\n          .volunteer-button:hover {\n            background: #0f5132 !important;\n            transform: translateY(-1px) !important;\n          }\n\n          .modal-overlay {\n            position: fixed;\n            top: 0;\n            left: 0;\n            right: 0;\n            bottom: 0;\n            background: rgba(0, 0, 0, 0.5);\n            display: flex;\n            justify-content: center;\n            align-items: center;\n            z-index: 1000;\n            backdrop-filter: blur(4px);\n            animation: fadeIn 0.2s ease-out;\n          }\n\n          .modal-content {\n            background: white;\n            border-radius: 16px;\n            width: 90%;\n            max-width: 800px;\n            max-height: 90vh;\n            overflow-y: auto;\n            position: relative;\n            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);\n            animation: slideInUp 0.3s ease-out;\n          }\n\n          @keyframes fadeIn {\n            from { opacity: 0; }\n            to { opacity: 1; }\n          }\n\n          @keyframes slideInUp {\n            from { \n              opacity: 0;\n              transform: translateY(30px) scale(0.95);\n            }\n            to { \n              opacity: 1;\n              transform: translateY(0) scale(1);\n            }\n          }\n\n          @media (max-width: 1200px) {\n            .hero-content {\n              padding: 60px 24px !important;\n            }\n          }\n\n          @media (max-width: 1024px) {\n            .hero-title {\n              font-size: 3.5rem !important;\n            }\n            \n            .hero-subtitle {\n              font-size: 1.25rem !important;\n            }\n\n            .stats-grid {\n              grid-template-columns: repeat(2, 1fr) !important;\n            }\n\n            .content-container {\n              padding: 40px 24px !important;\n            }\n\n            .modal-content {\n              width: 95%;\n              max-height: 95vh;\n            }\n          }\n\n          @media (max-width: 768px) {\n            .hero-title {\n              font-size: 2.5rem !important;\n            }\n            \n            .hero-subtitle {\n              font-size: 1.125rem !important;\n            }\n\n            .hero-title-container {\n              flex-direction: column !important;\n            }\n\n            .team-grid {\n              grid-template-columns: 1fr !important;\n            }\n\n            .projects-grid {\n              grid-template-columns: 1fr !important;\n            }\n\n            .events-grid {\n              grid-template-columns: 1fr !important;\n            }\n\n            .contact-grid {\n              grid-template-columns: 1fr !important;\n            }\n\n            .news-grid {\n              grid-template-columns: 1fr !important;\n            }\n\n            .volunteer-grid {\n              grid-template-columns: 1fr !important;\n            }\n          }\n\n          @media (max-width: 480px) {\n            .hero-title {\n              font-size: 2rem !important;\n            }\n\n            .hero-content {\n              padding: 40px 16px !important;\n            }\n\n            .content-container {\n              padding: 24px 16px !important;\n            }\n\n            .cta-buttons {\n              flex-direction: column !important;\n              width: 100% !important;\n            }\n\n            .cta-button {\n              width: 100% !important;\n            }\n          }\n        "}),(0,s.jsx)("section",{style:Ci.heroSection,children:(0,s.jsxs)("div",{style:Ci.heroContent,className:"hero-content",children:[(0,s.jsxs)("div",{style:Ci.heroTitleContainer,className:"hero-title-container",children:[(0,s.jsx)("div",{style:Ci.heroFlag,children:"\ud83c\udf0d"}),(0,s.jsx)("h1",{style:Ci.heroTitle,className:"hero-title",children:g})]}),(0,s.jsxs)("p",{style:Ci.heroSubtitle,className:"hero-subtitle",children:["Our commitment to sustainable development and community empowerment in ",g,"."]}),(0,s.jsx)("div",{style:Ci.statsGrid,className:"stats-grid",children:V.map((e,n)=>(0,s.jsx)("div",{style:(0,m.A)((0,m.A)({},Ci.statCard),{},{cursor:e.onClick?"pointer":"default"}),className:"stat-card",onClick:e.onClick,children:(0,s.jsxs)("div",{style:Ci.statContent,children:[(0,s.jsx)(e.icon,{style:Ci.statIcon}),(0,s.jsx)("div",{style:Ci.statNumber,children:e.value}),(0,s.jsx)("div",{style:Ci.statLabel,children:e.label})]})},n))})]})}),E&&(0,s.jsx)("div",{className:"modal-overlay",onClick:D,children:(0,s.jsxs)("div",{className:"modal-content",onClick:e=>e.stopPropagation(),children:[(0,s.jsxs)("div",{style:Ci.modalHeader,children:[(0,s.jsxs)("div",{style:Ci.modalHeaderContent,children:[(0,s.jsx)(Ae.A,{style:Ci.modalIcon}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("h2",{style:Ci.modalTitle,children:["Volunteer Opportunities in ",g]}),(0,s.jsx)("p",{style:Ci.modalSubtitle,children:"Join us in making a difference. Explore volunteer opportunities available in your area."})]})]}),(0,s.jsx)("button",{onClick:D,style:Ci.modalCloseButton,"aria-label":"Close modal",children:(0,s.jsx)(ie.A,{size:20})})]}),(0,s.jsx)("div",{style:Ci.modalBody,children:G.length>0?(0,s.jsx)("div",{style:Ci.modalVolunteerGrid,children:G.map(e=>(0,s.jsx)("div",{style:Ci.modalVolunteerCard,children:(0,s.jsxs)("div",{style:Ci.modalVolunteerContent,children:[(0,s.jsx)("h3",{style:Ci.modalVolunteerTitle,children:e.form_title}),e.description&&(0,s.jsx)("p",{style:Ci.modalVolunteerDescription,children:e.description}),(0,s.jsx)("div",{style:Ci.modalVolunteerMeta,children:(0,s.jsx)("div",{style:Ci.modalVolunteerStatus,children:(0,s.jsx)(it.A,{label:e.is_active?"Active":"Inactive",color:e.is_active?"success":"default",size:"small"})})}),e.is_active&&(0,s.jsx)("div",{style:Ci.modalVolunteerActions,children:(0,s.jsxs)("button",{onClick:()=>F(e),style:Ci.modalVolunteerButton,className:"volunteer-button",children:[(0,s.jsx)(je.A,{size:16}),"Apply Now"]})})]})},e.id))}):(0,s.jsxs)("div",{style:Ci.modalEmptyState,children:[(0,s.jsx)(Ae.A,{size:48,style:Ci.modalEmptyIcon}),(0,s.jsx)("h3",{style:Ci.modalEmptyTitle,children:"No Volunteer Opportunities Yet"}),(0,s.jsxs)("p",{style:Ci.modalEmptyText,children:["We're currently setting up volunteer opportunities in ",g,". Check back soon or contact us to learn about upcoming opportunities."]}),(0,s.jsx)("button",{onClick:D,style:Ci.modalEmptyButton,children:"Close"})]})})]})}),(0,s.jsxs)("div",{style:Ci.mainContainer,children:[!Y&&(0,s.jsx)("section",{style:Ci.placeholderSection,children:(0,s.jsxs)("div",{style:Ci.placeholderCard,children:[(0,s.jsx)("div",{style:Ci.placeholderIcon,children:"\ud83e\udd1d"}),(0,s.jsx)("h2",{style:Ci.placeholderTitle,children:"Content Coming Soon"}),(0,s.jsxs)("p",{style:Ci.placeholderText,children:["We're currently gathering detailed information about our operations in ",g,". Check back soon for updates on our team, projects, and local initiatives."]}),(0,s.jsx)("p",{style:Ci.placeholderSubtext,children:"Meanwhile, feel free to explore other countries from the dropdown above or contact us for more information."}),(0,s.jsx)("div",{style:Ci.placeholderActions,children:(0,s.jsx)("button",{onClick:M,style:Ci.placeholderButton,children:"Explore Other Countries"})})]})}),f&&f.countryNews&&Array.isArray(f.countryNews)&&f.countryNews.length>0&&(0,s.jsxs)("section",{style:Ci.section,children:[(0,s.jsxs)("div",{style:Ci.sectionHeader,children:[(0,s.jsx)(te.A,{style:Ci.sectionIcon}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("h2",{style:Ci.sectionTitle,children:["Latest News from ",g]}),(0,s.jsx)("p",{style:Ci.sectionSubtitle,children:"Stay updated with the latest developments and announcements."})]})]}),(0,s.jsx)("div",{style:Ci.newsGrid,className:"news-grid",children:f.countryNews.map(e=>(0,s.jsxs)("div",{style:Ci.newsCard,className:"news-card",onClick:()=>h("/news/".concat(e.id)),children:[e.featured_image&&(0,s.jsx)("div",{style:Ci.newsImage,children:(0,s.jsx)("img",{src:e.featured_image.startsWith("http")?e.featured_image:"".concat(R).concat(e.featured_image),alt:e.title,style:Ci.newsImageImg,onError:e=>{e.target.style.display="none"}})}),(0,s.jsxs)("div",{style:Ci.newsContent,children:[(0,s.jsx)("h3",{style:Ci.newsTitle,children:e.title}),e.excerpt&&(0,s.jsx)("p",{style:Ci.newsExcerpt,children:e.excerpt.length>120?"".concat(e.excerpt.substring(0,120),"..."):e.excerpt}),(0,s.jsxs)("div",{style:Ci.newsMeta,children:[(0,s.jsxs)("div",{style:Ci.newsMetaItem,children:[(0,s.jsx)(q.A,{size:14}),(0,s.jsx)("span",{children:H(e.created_at)})]}),e.author_name&&(0,s.jsx)("div",{style:Ci.newsMetaItem,children:(0,s.jsx)("span",{children:e.author_name})})]})]})]},e.id))})]}),(null===f||void 0===f?void 0:f.team)&&f.team.length>0&&(0,s.jsxs)("section",{style:{padding:"3rem 1rem",position:"relative"},children:[(0,s.jsxs)("div",{style:{maxWidth:"1000px",margin:"0 auto",textAlign:"center"},children:[(0,s.jsx)("span",{style:{display:"inline-block",padding:"0.3rem 1rem",background:"rgba(99,102,241,0.08)",borderRadius:"20px",fontSize:"0.75rem",fontWeight:600,color:"#6366f1"},children:"Team"}),(0,s.jsxs)("h2",{style:{fontSize:"1.75rem",fontWeight:700,margin:"0.5rem 0"},children:["Meet ",g," Team"]}),(0,s.jsxs)("p",{style:{color:"#64748b",fontSize:"0.95rem"},children:["The professionals driving change in ",g]})]}),(0,s.jsxs)("div",{style:{position:"relative",marginTop:"2rem"},children:[(0,s.jsx)("button",{onClick:()=>{const e=document.getElementById("team-grid-carousel");e.scrollBy({left:-e.offsetWidth,behavior:"smooth"})},style:{position:"absolute",left:0,top:"40%",zIndex:10},children:"\u2190"}),(0,s.jsx)("button",{onClick:()=>{const e=document.getElementById("team-grid-carousel");e.scrollBy({left:e.offsetWidth,behavior:"smooth"})},style:{position:"absolute",right:0,top:"40%",zIndex:10},children:"\u2192"}),(0,s.jsx)("div",{id:"team-grid-carousel",style:{display:"flex",gap:"1rem",overflowX:"auto",scrollBehavior:"smooth"},children:f.team.map((e,n)=>{var t;const a=(null===(t=e.bio)||void 0===t?void 0:t.length)>100,r=a?e.bio.slice(0,100)+"...":e.bio;return(0,s.jsxs)("div",{style:{flex:"0 0 300px",padding:"1rem",background:"white",borderRadius:"12px",boxShadow:"0 4px 12px rgba(0,0,0,0.1)"},children:[(0,s.jsxs)("div",{style:{display:"flex",alignItems:"center",marginBottom:"0.5rem"},children:[e.image_url?(0,s.jsx)("img",{src:"".concat(R).concat(e.image_url),alt:e.name,style:{width:"45px",height:"45px",borderRadius:"8px",objectFit:"cover"}}):(0,s.jsx)("div",{style:{width:"45px",height:"45px",borderRadius:"8px",background:"#6366f1",color:"white",display:"flex",justifyContent:"center",alignItems:"center"},children:e.name[0]}),(0,s.jsxs)("div",{style:{marginLeft:"0.5rem"},children:[(0,s.jsx)("h3",{style:{margin:0,fontSize:"0.9rem"},children:e.name}),(0,s.jsx)("small",{style:{color:"#6366f1"},children:e.position})]})]}),(0,s.jsx)("p",{style:{fontSize:"0.8rem",color:"#475569"},children:r}),(0,s.jsxs)("div",{style:{display:"flex",gap:"0.5rem"},children:[a&&(0,s.jsx)("button",{onClick:()=>{return n=e.id,t=e.bio,N(e=>(0,m.A)((0,m.A)({},e),{},{[n]:!e[n]})),void I(t);var n,t},style:{flex:1,fontSize:"0.7rem",padding:"0.3rem",background:"#6366f1",color:"#fff",border:"none",borderRadius:"6px"},children:"More"}),e.email&&(0,s.jsx)("a",{href:"mailto:".concat(e.email),style:{flex:1,fontSize:"0.7rem",padding:"0.3rem",textAlign:"center",border:"1px solid #ddd",borderRadius:"6px",textDecoration:"none",color:"#64748b"},children:"\u2709\ufe0f Email"})]})]},e.id)})})]}),_&&(0,s.jsx)("div",{onClick:()=>I(null),style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",background:"rgba(0,0,0,0.6)",display:"flex",justifyContent:"center",alignItems:"center"},children:(0,s.jsxs)("div",{onClick:e=>e.stopPropagation(),style:{background:"#fff",padding:"2rem",borderRadius:"12px",maxWidth:"500px"},children:[(0,s.jsx)("p",{children:_}),(0,s.jsx)("button",{onClick:()=>I(null),children:"Close"})]})})]}),f.projects&&f.projects.length>0?(0,s.jsxs)("section",{style:Ci.section,children:[(0,s.jsxs)("div",{style:Ci.sectionHeader,children:[(0,s.jsx)(pa.A,{style:Ci.sectionIcon}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("h2",{style:Ci.sectionTitle,children:["Projects in ",g," "]}),(0,s.jsx)("p",{style:Ci.sectionSubtitle,children:"Transformative initiatives making a real difference."})]})]}),(0,s.jsx)("div",{style:Ci.projectsGrid,className:"projects-grid",children:f.projects.map(e=>(0,s.jsxs)("div",{style:Ci.projectCard,className:"project-card",onClick:()=>((e,n)=>{n&&(n.preventDefault(),n.stopPropagation()),sessionStorage.setItem("lastVisitedPath","/"),h("/project/".concat(e.id),{state:{project:e,from:"/",fromPath:"/"}})})(e),children:[e.featured_image&&(0,s.jsxs)("div",{style:Ci.projectImage,children:[(0,s.jsx)("img",{src:e.featured_image.startsWith("http")?e.featured_image:"".concat(R).concat(e.featured_image),alt:e.title,style:Ci.projectImageImg,onError:e=>{e.target.style.display="none"}}),e.status&&(0,s.jsxs)("div",{style:(0,m.A)((0,m.A)({},Ci.projectStatus),"completed"===e.status?Ci.statusCompleted:"ongoing"===e.status?Ci.statusOngoing:"planning"===e.status?Ci.statusPlanning:Ci.statusOnHold),children:["completed"===e.status&&(0,s.jsx)(ze.A,{style:{width:"14px",height:"14px"}}),e.status.replace("_"," ")]})]}),(0,s.jsxs)("div",{style:Ci.projectContent,children:[(0,s.jsx)("h3",{style:Ci.projectTitle,children:e.title}),(0,s.jsx)("p",{style:Ci.projectDescription,children:e.short_description||e.description&&e.description.substring(0,150)+"..."||"This project is designed to create meaningful impact in the community."}),(0,s.jsxs)("div",{style:Ci.projectMeta,children:[e.location&&(0,s.jsxs)("div",{style:Ci.projectMetaItem,children:[(0,s.jsx)(ye.A,{size:14}),(0,s.jsx)("span",{children:e.location})]}),e.start_date&&(0,s.jsxs)("div",{style:Ci.projectMetaItem,children:[(0,s.jsx)(q.A,{size:14}),(0,s.jsxs)("span",{children:["Started ",H(e.start_date)]})]})]})]})]},e.id))})]}):(0,s.jsx)("section",{style:Ci.section,children:(0,s.jsxs)("div",{style:Ci.sectionHeader,children:[(0,s.jsx)(pa.A,{style:Ci.sectionIcon}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("h2",{style:Ci.sectionTitle,children:["Our ",g," Projects"]}),(0,s.jsxs)("p",{style:Ci.sectionSubtitle,children:["We're currently gathering more insights for ",g,". Check back soon!"]})]})]})}),G.length>0?(0,s.jsxs)("section",{style:Ci.section,children:[(0,s.jsxs)("div",{style:Ci.sectionHeader,children:[(0,s.jsx)(Ae.A,{style:Ci.sectionIcon}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("h2",{style:Ci.sectionTitle,children:["Volunteer Opportunities in ",g]}),(0,s.jsx)("p",{style:Ci.sectionSubtitle,children:"Join us in making a difference. Explore volunteer opportunities available in your area."})]})]}),(0,s.jsx)("div",{style:Ci.volunteerGrid,className:"volunteer-grid",children:G.map(e=>(0,s.jsx)("div",{style:Ci.volunteerCard,className:"volunteer-card",children:(0,s.jsxs)("div",{style:Ci.volunteerContent,children:[(0,s.jsx)("h3",{style:Ci.volunteerTitle,children:e.form_title}),e.description&&(0,s.jsx)("p",{style:Ci.volunteerDescription,children:e.description}),(0,s.jsx)("div",{style:Ci.volunteerMeta,children:(0,s.jsx)(it.A,{label:e.is_active?"Active":"Inactive",color:e.is_active?"success":"default",size:"small"})}),e.is_active&&(0,s.jsx)("div",{style:Ci.volunteerActions,children:(0,s.jsxs)("a",{href:e.form_url,target:"_blank",rel:"noopener noreferrer",style:Ci.volunteerButton,className:"volunteer-button",children:[(0,s.jsx)(je.A,{size:16}),"Apply Now"]})})]})},e.id))})]}):(0,s.jsx)("section",{style:Ci.section,children:(0,s.jsxs)("div",{style:Ci.sectionHeader,children:[(0,s.jsx)(Ae.A,{style:Ci.sectionIcon}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("h2",{style:Ci.sectionTitle,children:["Volunteer Opportunities in ",g]}),(0,s.jsxs)("p",{style:Ci.sectionSubtitle,children:["We're currently setting up volunteer opportunities in ",g,". Check back soon or contact us to learn about upcoming opportunities."]})]})]})}),f.events.length>0&&(0,s.jsxs)("section",{style:Ci.section,children:[(0,s.jsxs)("div",{style:Ci.sectionHeader,children:[(0,s.jsx)(q.A,{style:Ci.sectionIcon}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("h2",{style:Ci.sectionTitle,children:[g," Events"]}),(0,s.jsx)("p",{style:Ci.sectionSubtitle,children:"Join us at upcoming events and community gatherings."})]})]}),(0,s.jsx)("div",{style:Ci.eventsGrid,className:"events-grid",children:f.events.map(e=>{U(e.start_date,e.end_date);return(0,s.jsx)("div",{style:Ci.eventCard,className:"event-card",onClick:()=>(e=>{h("/events?eventId=".concat(e.id))})(e),children:(0,s.jsxs)("div",{style:Ci.eventContent,children:[(0,s.jsxs)("div",{style:Ci.eventHeader,children:[(0,s.jsx)("h3",{style:Ci.eventTitle,children:e.title}),e.is_paid?(0,s.jsxs)("div",{style:Ci.eventPricePaid,children:[e.currency," ",parseFloat(e.price).toFixed(2)]}):(0,s.jsx)("div",{style:Ci.eventPriceFree,children:"Free"})]}),e.description&&(0,s.jsx)("p",{style:Ci.eventDescription,children:e.description.length>150?"".concat(e.description.substring(0,150),"..."):e.description}),(0,s.jsxs)("div",{style:Ci.eventMeta,children:[(0,s.jsxs)("div",{style:Ci.eventMetaItem,children:[(0,s.jsx)(q.A,{size:14}),(0,s.jsxs)("span",{children:[O(e.start_date),e.end_date&&" - ".concat(O(e.end_date))]})]}),e.location&&(0,s.jsxs)("div",{style:Ci.eventMetaItem,children:[(0,s.jsx)(ye.A,{size:14}),(0,s.jsx)("span",{children:e.location})]})]})]})},e.id)})})]}),(0,s.jsxs)("section",{style:Ci.section,children:[(0,s.jsx)("div",{style:Ci.sectionDivider}),(0,s.jsxs)("div",{style:Ci.sectionHeader,children:[(0,s.jsx)(yt.A,{style:Ci.sectionIcon}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{style:Ci.sectionTitle,children:"Get In Touch"}),(0,s.jsx)("p",{style:Ci.sectionSubtitle,children:"Ready to collaborate or learn more? We'd love to hear from you."})]})]}),(0,s.jsx)("div",{style:Ci.contactGrid,className:"contact-grid",children:(0,s.jsxs)("div",{style:Ci.contactSection,children:[(0,s.jsx)("h3",{style:Ci.contactTitle,children:"Contact Information"}),(0,s.jsxs)("div",{style:Ci.contactItems,children:[f.contact.email&&(0,s.jsxs)("div",{style:Ci.contactItem,children:[(0,s.jsx)(yt.A,{style:(0,m.A)((0,m.A)({},Ci.contactItemIcon),{},{color:"#16a34a"})}),(0,s.jsxs)("div",{style:Ci.contactItemContent,children:[(0,s.jsx)("div",{style:Ci.contactItemLabel,children:"Email Address"}),(0,s.jsx)("a",{href:"mailto:".concat(f.contact.email),style:Ci.contactItemValue,className:"contact-item-value",children:f.contact.email})]})]}),f.contact.phone&&(0,s.jsxs)("div",{style:Ci.contactItem,children:[(0,s.jsx)(Si.A,{style:(0,m.A)((0,m.A)({},Ci.contactItemIcon),{},{color:"#3b82f6"})}),(0,s.jsxs)("div",{style:Ci.contactItemContent,children:[(0,s.jsx)("div",{style:Ci.contactItemLabel,children:"Phone Number"}),(0,s.jsx)("a",{href:"tel:".concat(f.contact.phone),style:Ci.contactItemValue,className:"contact-item-value",children:f.contact.phone})]})]}),f.contact.physical_address&&(0,s.jsxs)("div",{style:Ci.contactItem,children:[(0,s.jsx)(ye.A,{style:(0,m.A)((0,m.A)({},Ci.contactItemIcon),{},{color:"#8b5cf6"})}),(0,s.jsxs)("div",{style:Ci.contactItemContent,children:[(0,s.jsx)("div",{style:Ci.contactItemLabel,children:"Address"}),(0,s.jsx)("div",{style:Ci.contactItemValue,children:f.contact.physical_address}),f.contact.city&&(0,s.jsxs)("div",{style:Ci.contactItemMeta,children:[f.contact.city,f.contact.postal_code&&", ".concat(f.contact.postal_code)]})]})]})]})]})})]})]})]}),(0,s.jsx)(Qe,{})]})};var Ni=t(3750),_i=t.n(Ni);const Ii={v:"5.7.4",fr:30,ip:0,op:60,w:200,h:200,nm:"Loading",ddd:0,assets:[],layers:[{ddd:0,ind:1,ty:4,nm:"Circle",sr:1,ks:{o:{a:0,k:100},r:{a:1,k:[{i:{x:[.833],y:[.833]},o:{x:[.167],y:[.167]},t:0,s:[0]},{t:60,s:[360]}]},p:{a:0,k:[100,100]},a:{a:0,k:[0,0]},s:{a:0,k:[100,100]}},ao:0,shapes:[{ty:"gr",it:[{d:1,ty:"el",s:{a:0,k:[60,60]},p:{a:0,k:[0,0]}},{ty:"st",c:{a:0,k:[.2,.4,.8,1]},o:{a:0,k:100},w:{a:0,k:8},lc:2,lj:2},{ty:"tr",p:{a:0,k:[0,0]},a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},r:{a:0,k:0},o:{a:0,k:100}}]}],ip:0,op:60,st:0,bm:0}]},Ei={v:"5.7.4",fr:24,ip:0,op:48,w:200,h:200,nm:"Success",ddd:0,assets:[],layers:[{ddd:0,ind:1,ty:4,nm:"Check",sr:1,ks:{o:{a:0,k:100},r:{a:0,k:0},p:{a:0,k:[100,100]},a:{a:0,k:[0,0]},s:{a:1,k:[{i:{x:[.667],y:[1]},o:{x:[.333],y:[0]},t:0,s:[0,0,100]},{t:24,s:[100,100,100]}]}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ks:{a:0,k:{i:[[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0]],v:[[-20,0],[0,20],[40,-20]],c:!1}}},{ty:"st",c:{a:0,k:[.1,.7,.3,1]},o:{a:0,k:100},w:{a:0,k:8},lc:2,lj:2},{ty:"tr",p:{a:0,k:[0,0]},a:{a:0,k:[0,0]},s:{a:0,k:[100,100]},r:{a:0,k:0},o:{a:0,k:100}}]}],ip:0,op:48,st:0,bm:0}]},Ti=()=>{const{colors:e}=y(),[n,t]=(0,i.useState)([]),[a,r]=(0,i.useState)(!0),[o,l]=(0,i.useState)(null),[c,d]=(0,i.useState)(null),[p,x]=(0,i.useState)(!1),u=(0,i.useRef)(null),g=(0,i.useRef)(),[h,f]=(0,i.useState)({level:"",location:""}),[b,j]=(0,i.useState)({name:"",email:"",phone:"",coverLetter:"",resume:null}),[v,w]=(0,i.useState)(!1),[A,k]=(0,i.useState)({message:"",type:""});(0,i.useEffect)(()=>{const e=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting&&e.target.classList.add("animate-in")})},{threshold:.1,rootMargin:"50px 0px -50px 0px"});g.current=e;return document.querySelectorAll(".animate-on-scroll").forEach(n=>e.observe(n)),()=>{g.current&&g.current.disconnect()}},[n]);const S=async()=>{try{r(!0),l(null);const e=await cn.A.get("".concat(Ge,"/jobs"),{timeout:1e4,headers:{"Content-Type":"application/json"}});if(e.data&&Array.isArray(e.data))t(e.data);else{if(!e.data.jobs||!Array.isArray(e.data.jobs))throw new Error("Invalid response format");t(e.data.jobs)}}catch(o){console.error("Error fetching jobs:",o);let t="Failed to load job listings. ";if(o.response)if(404===o.response.status)t+="Job listings not found.";else if(o.response.status>=500)t+="Server error. Please try again later.";else{var e;t+=(null===(e=o.response.data)||void 0===e?void 0:e.message)||"Please try again."}else o.request?t+="Please check your internet connection.":t+=o.message||"Please try again.";l(t)}finally{r(!1)}};(0,i.useEffect)(()=>{S()},[]);const C=e=>{if(!e)return"No deadline";try{return new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}catch(n){return"Invalid date"}},z=e=>{var n;const{name:t,value:a,files:r}=e.target;if(console.log("Field changed: ".concat(t),r?null===(n=r[0])||void 0===n?void 0:n.name:a),r&&r[0]){const e=[".pdf",".doc",".docx"],n=r[0].name.toLowerCase();if(!e.some(e=>n.endsWith(e)))return void k({message:"Please upload a PDF, DOC, or DOCX file.",type:"error"});if(r[0].size>5242880)return void k({message:"Resume file must be smaller than 5MB.",type:"error"});j((0,m.A)((0,m.A)({},b),{},{[t]:r[0]}))}else j((0,m.A)((0,m.A)({},b),{},{[t]:a}));A.message&&k({message:"",type:""})},N=n.filter(e=>{if(!e)return!1;const n=!h.level||e.level===h.level,t=!h.location||e.location&&e.location.toLowerCase().includes(h.location.toLowerCase());return n&&t}),_=()=>{x(!1),d(null),j({name:"",email:"",phone:"",coverLetter:"",resume:null}),k({message:"",type:""})},I=[...new Set(n.map(e=>null!==e&&void 0!==e&&e.location?e.location.split(",")[0].trim():null).filter(Boolean))];return(0,s.jsxs)("div",{style:{minHeight:"100vh",position:"relative",overflow:"hidden"},children:[(0,s.jsx)("style",{jsx:!0,children:"\n        @keyframes fadeInUp {\n          from {\n            opacity: 0;\n            transform: translateY(30px);\n          }\n          to {\n            opacity: 1;\n            transform: translateY(0);\n          }\n        }\n        \n        @keyframes pulse {\n          0%, 100% { transform: scale(1); }\n          50% { transform: scale(1.02); }\n        }\n        \n        @keyframes spin {\n          0% { transform: rotate(0deg); }\n          100% { transform: rotate(360deg); }\n        }\n        \n        @keyframes bounce {\n          0%, 100% { transform: translateY(0); }\n          50% { transform: translateY(-10px); }\n        }\n        \n        .animate-on-scroll {\n          opacity: 0;\n          transform: translateY(30px);\n          transition: all 0.8s cubic-bezier(0.4, 0, 0.2, 1);\n        }\n        \n        .animate-in {\n          opacity: 1;\n          transform: translateY(0);\n        }\n        \n        .job-card {\n          transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);\n        }\n        \n        .job-card:hover {\n          transform: translateY(-8px) scale(1.02);\n        }\n        \n        .glass-morphism {\n          background: rgba(255, 255, 255, 0.1);\n          backdrop-filter: blur(15px);\n          border: 1px solid rgba(255, 255, 255, 0.2);\n          box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);\n        }\n        \n        .floating-elements::before {\n          content: '';\n          position: absolute;\n          top: 10%;\n          left: 5%;\n          width: 100px;\n          height: 100px;\n          background: radial-gradient(circle, rgba(250,207,60,0.3) 0%, transparent 70%);\n          border-radius: 50%;\n          animation: pulse 4s ease-in-out infinite;\n        }\n        \n        .floating-elements::after {\n          content: '';\n          position: absolute;\n          top: 60%;\n          right: 10%;\n          width: 150px;\n          height: 150px;\n          background: radial-gradient(circle, rgba(156,207,159,0.2) 0%, transparent 70%);\n          border-radius: 50%;\n          animation: pulse 6s ease-in-out infinite reverse;\n        }\n\n        .btn {\n          border: none;\n          border-radius: 50px;\n          padding: 1rem 2rem;\n          font-weight: 600;\n          cursor: pointer;\n          transition: all 0.3s ease;\n          font-family: inherit;\n          font-size: 1rem;\n        }\n\n        .btn:disabled {\n          cursor: not-allowed;\n          opacity: 0.6;\n        }\n\n        .btn-primary {\n          background: linear-gradient(135deg, ".concat(e.primary," 0%, ").concat(e.accent," 100%);\n          color: ").concat(e.white,";\n        }\n\n        .btn-primary:hover:not(:disabled) {\n          transform: translateY(-2px);\n          box-shadow: 0 8px 25px rgba(10, 69, 28, 0.3);\n        }\n\n        .btn-secondary {\n          background: ").concat(e.gray100,";\n          color: ").concat(e.gray700,";\n          border: 2px solid ").concat(e.gray300,";\n        }\n\n        .btn-secondary:hover:not(:disabled) {\n          background: ").concat(e.gray300,";\n        }\n\n        .btn-retry {\n          background: linear-gradient(135deg, ").concat(e.info," 0%, ").concat(e.primary," 100%);\n          color: ").concat(e.white,";\n          animation: bounce 2s infinite;\n        }\n\n        .chip {\n          display: inline-flex;\n          align-items: center;\n          padding: 0.375rem 0.75rem;\n          border-radius: 20px;\n          font-size: 0.75rem;\n          font-weight: 600;\n          text-transform: uppercase;\n          letter-spacing: 0.05em;\n        }\n\n        .alert {\n          padding: 1rem;\n          border-radius: 12px;\n          margin-bottom: 1.5rem;\n          border: 1px solid;\n          display: flex;\n          align-items: center;\n          gap: 0.5rem;\n        }\n\n        .alert-error {\n          background: rgba(239, 68, 68, 0.1);\n          color: ").concat(e.error,";\n          border-color: ").concat(e.error,";\n        }\n\n        .alert-success {\n          background: rgba(16, 185, 129, 0.1);\n          color: ").concat(e.success,";\n          border-color: ").concat(e.success,";\n        }\n\n        .alert-warning {\n          background: rgba(245, 158, 11, 0.1);\n          color: ").concat(e.warning,";\n          border-color: ").concat(e.warning,";\n        }\n\n        .alert-info {\n          background: rgba(59, 130, 246, 0.1);\n          color: ").concat(e.info,";\n          border-color: ").concat(e.info,";\n        }\n\n        .form-input {\n          width: 100%;\n          padding: 1rem;\n          border: 2px solid ").concat(e.gray300,";\n          border-radius: 12px;\n          font-size: 1rem;\n          font-family: inherit;\n          outline: none;\n          transition: all 0.3s ease;\n        }\n\n        .form-input:focus {\n          border-color: ").concat(e.primary,";\n          box-shadow: 0 0 0 3px rgba(10, 69, 28, 0.1);\n        }\n\n        .form-textarea {\n          min-height: 100px;\n          resize: vertical;\n        }\n\n        .modal-overlay {\n          position: fixed;\n          top: 0;\n          left: 0;\n          right: 0;\n          bottom: 0;\n          background: rgba(0, 0, 0, 0.8);\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          z-index: 1000;\n          padding: 1rem;\n          backdrop-filter: blur(5px);\n        }\n\n        .modal-content {\n          background: ").concat(e.white,";\n          border-radius: 20px;\n          width: 100%;\n          max-width: 600px;\n          max-height: 90vh;\n          overflow-y: auto;\n          position: relative;\n          animation: scaleIn 0.3s ease-out;\n          box-shadow: 0 20px 60px rgba(0,0,0,0.3);\n        }\n\n        @keyframes scaleIn {\n          from {\n            opacity: 0;\n            transform: scale(0.9);\n          }\n          to {\n            opacity: 1;\n            transform: scale(1);\n          }\n        }\n\n        .grid {\n          display: grid;\n          gap: 2rem;\n        }\n\n        .grid-cols-1 { grid-template-columns: repeat(1, 1fr); }\n        .grid-cols-2 { grid-template-columns: repeat(2, 1fr); }\n        .grid-cols-3 { grid-template-columns: repeat(3, 1fr); }\n\n        @media (max-width: 768px) {\n          .grid-cols-2, .grid-cols-3 {\n            grid-template-columns: 1fr;\n          }\n        }\n\n        @media (min-width: 769px) {\n          .md-grid-cols-2 { grid-template-columns: repeat(2, 1fr); }\n          .md-grid-cols-3 { grid-template-columns: repeat(3, 1fr); }\n        }\n\n        @media (min-width: 1024px) {\n          .lg-grid-cols-3 { grid-template-columns: repeat(3, 1fr); }\n        }\n\n        .lottie-container {\n          display: flex;\n          justify-content: center;\n          align-items: center;\n          width: 100px;\n          height: 100px;\n          margin: 0 auto;\n        }\n      ")}),(0,s.jsx)(Le,{}),(0,s.jsx)("div",{ref:u,className:"floating-elements",style:{position:"absolute",top:0,left:0,right:0,height:"100vh",background:"linear-gradient(135deg, ".concat(e.primary," 0%, ").concat(e.primaryLight," 50%, ").concat(e.accent," 100%)"),zIndex:-2}}),(0,s.jsx)("div",{style:{position:"absolute",top:0,left:0,right:0,height:"100vh",backgroundImage:"radial-gradient(circle at 25% 25%, rgba(255,255,255,0.1) 0%, transparent 50%),\n                         radial-gradient(circle at 75% 75%, rgba(255,255,255,0.05) 0%, transparent 50%)",zIndex:-1}}),(0,s.jsxs)("div",{style:{position:"relative",zIndex:1,paddingTop:"2rem",maxWidth:"1200px",margin:"0 auto",padding:"2rem"},children:[(0,s.jsxs)("div",{style:{textAlign:"center",padding:"4rem 0 6rem 0",color:e.white,marginBottom:"3rem"},children:[(0,s.jsx)("h1",{style:{fontSize:"clamp(2.5rem, 5vw, 4rem)",fontWeight:800,margin:"0 0 1.5rem 0",textShadow:"0 4px 20px rgba(0,0,0,0.3)",animation:"fadeInUp 1s ease-out"},children:"Join Our Amazing Team"}),(0,s.jsx)("p",{style:{fontSize:"clamp(1.125rem, 2.5vw, 1.5rem)",opacity:.95,margin:"0 auto",fontWeight:300,maxWidth:"600px",marginBottom:"3rem",animation:"fadeInUp 1s ease-out 0.2s both"},children:"Discover exciting opportunities and build your career with us"}),(0,s.jsx)("div",{className:"grid md-grid-cols-3",style:{maxWidth:"800px",margin:"0 auto",gap:"1.5rem"},children:[{number:"50+",label:"Team Members"},{number:"100%",label:"Remote Friendly"},{number:"5\u2605",label:"Company Rating"}].map((e,n)=>(0,s.jsxs)("div",{className:"glass-morphism animate-on-scroll",style:{padding:"2rem",borderRadius:"1rem",animationDelay:"".concat(.4+.1*n,"s")},children:[(0,s.jsx)("div",{style:{fontSize:"2.5rem",fontWeight:700,marginBottom:"0.5rem"},children:e.number}),(0,s.jsx)("div",{style:{fontSize:"0.875rem",opacity:.9},children:e.label})]},n))})]}),o&&(0,s.jsxs)("div",{className:"glass-morphism animate-on-scroll",style:{padding:"3rem 2rem",borderRadius:"1rem",marginBottom:"3rem",textAlign:"center",color:e.white},children:[(0,s.jsx)("div",{style:{marginBottom:"1rem",fontSize:"3rem"},children:"\u26a0\ufe0f"}),(0,s.jsx)("h3",{style:{fontSize:"1.5rem",fontWeight:600,marginBottom:"1rem",color:e.white},children:"Oops! Something went wrong"}),(0,s.jsx)("p",{style:{fontSize:"1rem",marginBottom:"2rem",opacity:.9,maxWidth:"500px",margin:"0 auto 2rem auto"},children:o}),(0,s.jsx)("button",{className:"btn btn-retry",onClick:()=>{S()},disabled:a,children:a?"Retrying...":"Try Again"})]}),a&&!o&&(0,s.jsxs)("div",{style:{textAlign:"center",padding:"4rem 2rem",color:e.white},children:[(0,s.jsx)("div",{className:"lottie-container",children:(0,s.jsx)(_i(),{animationData:Ii,loop:!0,style:{width:100,height:100}})}),(0,s.jsx)("h3",{style:{fontSize:"1.5rem",fontWeight:600,marginTop:"1rem"},children:"Loading amazing opportunities..."})]}),!a&&!o&&n.length>0&&(0,s.jsxs)("div",{className:"glass-morphism animate-on-scroll",style:{padding:"2rem",borderRadius:"1rem",marginBottom:"3rem",animationDelay:"0.6s"},children:[(0,s.jsx)("h3",{style:{color:e.white,marginBottom:"1.5rem",textAlign:"center",fontWeight:600,fontSize:"1.25rem"},children:"Find Your Perfect Role"}),(0,s.jsx)("div",{className:"grid md-grid-cols-2",style:{maxWidth:"600px",margin:"0 auto"},children:(0,s.jsxs)("select",{value:h.location,onChange:e=>f((0,m.A)((0,m.A)({},h),{},{location:e.target.value})),style:{width:"100%",padding:"1rem",borderRadius:"50px",border:"2px solid rgba(255,255,255,0.2)",backgroundColor:"rgba(255,255,255,0.1)",color:e.white,fontSize:"1rem",outline:"none"},children:[(0,s.jsx)("option",{value:"",style:{color:e.gray900},children:"All Locations"}),I.map(n=>(0,s.jsx)("option",{value:n,style:{color:e.gray900},children:n},n))]})})]}),!a&&!o&&n.length>0&&(0,s.jsx)("div",{className:"animate-on-scroll",style:{textAlign:"center",marginBottom:"2rem"},children:(0,s.jsxs)("span",{className:"chip",style:{backgroundColor:"rgba(255,255,255,0.2)",color:e.white,fontSize:"1rem",padding:"0.75rem 1.5rem",backdropFilter:"blur(10px)"},children:[N.length," position",1!==N.length?"s":""," available"]})}),!a&&!o&&(0,s.jsx)(s.Fragment,{children:0===N.length&&n.length>0?(0,s.jsxs)("div",{style:{textAlign:"center",padding:"4rem 2rem",color:e.white},children:[(0,s.jsx)("div",{style:{fontSize:"4rem",marginBottom:"1rem"},children:"\ud83d\udd0d"}),(0,s.jsx)("h3",{style:{fontSize:"1.5rem",fontWeight:600,marginBottom:"1rem",opacity:.9},children:"No jobs match your filters"}),(0,s.jsx)("p",{style:{opacity:.8,marginBottom:"2rem"},children:"Try adjusting your search criteria to see more opportunities"}),(0,s.jsx)("button",{className:"btn btn-secondary",onClick:()=>f({level:"",location:""}),children:"Clear Filters"})]}):N.length>0?(0,s.jsx)("div",{className:"grid md-grid-cols-2 lg-grid-cols-3",style:{marginBottom:"4rem"},children:N.map((n,t)=>{const a=(e=>{if(!e)return!1;try{return new Date(e)<new Date}catch(n){return!1}})(n.lastDate);return(0,s.jsxs)("div",{className:"animate-on-scroll job-card",style:{background:"rgba(255,255,255,0.95)",borderRadius:"1rem",border:"1px solid rgba(255,255,255,0.3)",backdropFilter:"blur(20px)",animationDelay:"".concat(.8+.1*t,"s"),position:"relative",overflow:"hidden",display:"flex",flexDirection:"column"},children:[(0,s.jsx)("div",{style:{position:"absolute",top:0,left:0,right:0,height:"4px",background:a?e.error:"linear-gradient(90deg, ".concat(e.primary," 0%, ").concat(e.accent," 100%)")}}),(0,s.jsxs)("div",{style:{padding:"1.5rem",flex:1,display:"flex",flexDirection:"column"},children:[(0,s.jsx)("div",{style:{position:"absolute",top:"1rem",right:"1rem"},children:(0,s.jsx)("span",{className:"chip",style:{backgroundColor:a?e.error:e.success,color:e.white,fontSize:"0.7rem"},children:a?"Closed":"Open"})}),(0,s.jsx)("h3",{style:{fontSize:"1.25rem",fontWeight:700,color:e.gray900,marginBottom:"1rem",paddingRight:"4rem"},children:n.title}),(0,s.jsxs)("div",{style:{display:"flex",flexWrap:"wrap",gap:"0.5rem",marginBottom:"1rem"},children:[(0,s.jsx)("span",{className:"chip",style:{backgroundColor:e.info,color:e.white,fontSize:"0.7rem"},children:n.level}),(0,s.jsx)("span",{className:"chip",style:{backgroundColor:e.accent,color:e.gray900,fontSize:"0.7rem"},children:n.location}),n.salary&&(0,s.jsx)("span",{className:"chip",style:{backgroundColor:e.secondary,color:e.gray900,fontSize:"0.7rem"},children:n.salary})]}),(0,s.jsx)("p",{style:{color:e.gray600,marginBottom:"1.5rem",lineHeight:1.6,flex:1,fontSize:"0.875rem"},children:n.description}),n.requirements&&Array.isArray(n.requirements)&&n.requirements.length>0&&(0,s.jsxs)("div",{style:{marginBottom:"1.5rem"},children:[(0,s.jsx)("div",{style:{fontWeight:600,color:e.gray900,marginBottom:"0.5rem",fontSize:"0.75rem",textTransform:"uppercase",letterSpacing:"0.05em"},children:"Key Skills:"}),(0,s.jsxs)("div",{style:{display:"flex",flexWrap:"wrap",gap:"0.25rem"},children:[n.requirements.slice(0,3).map((n,t)=>(0,s.jsx)("span",{style:{padding:"0.25rem 0.5rem",border:"1px solid ".concat(e.gray300),borderRadius:"12px",fontSize:"0.7rem",color:e.gray600},children:n},t)),n.requirements.length>3&&(0,s.jsxs)("span",{style:{padding:"0.25rem 0.5rem",border:"1px solid ".concat(e.gray300),borderRadius:"12px",fontSize:"0.7rem",color:e.gray600,opacity:.7},children:["+",n.requirements.length-3," more"]})]})]}),(0,s.jsxs)("div",{style:{fontWeight:600,color:a?e.error:e.success,marginBottom:"1rem",fontSize:"0.75rem"},children:["Deadline: ",C(n.lastDate)]}),(0,s.jsx)("button",{className:"btn ".concat(a?"btn-secondary":"btn-primary"),disabled:a,onClick:()=>{d(n),x(!0)},style:{width:"100%",background:a?e.gray300:"linear-gradient(135deg, ".concat(e.primary," 0%, ").concat(e.accent," 100%)")},children:a?"Position Closed":"Apply Now"})]})]},n.id)})}):null}),p&&(0,s.jsx)("div",{className:"modal-overlay",onClick:_,children:(0,s.jsxs)("div",{className:"modal-content",onClick:e=>e.stopPropagation(),children:[(0,s.jsx)("button",{onClick:_,style:{position:"absolute",top:"1rem",right:"1rem",background:"none",border:"none",fontSize:"1.5rem",cursor:"pointer",color:e.gray600,width:"2rem",height:"2rem",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"50%",transition:"all 0.2s ease",zIndex:1},children:"\xd7"}),c&&(0,s.jsxs)("div",{style:{padding:"2rem"},children:[(0,s.jsxs)("h2",{style:{fontSize:"1.5rem",fontWeight:700,color:e.primary,marginBottom:"0.5rem"},children:["Apply for ",c.title]}),(0,s.jsxs)("p",{style:{color:e.gray600,marginBottom:"2rem"},children:[c.location," \u2022 ",c.level]}),A.message&&(0,s.jsxs)("div",{className:"alert alert-".concat(A.type),children:["success"===A.type&&(0,s.jsx)("div",{className:"lottie-container",style:{width:24,height:24},children:(0,s.jsx)(_i(),{animationData:Ei,loop:!1,style:{width:24,height:24}})}),"info"===A.type&&v&&(0,s.jsx)("div",{className:"lottie-container",style:{width:24,height:24},children:(0,s.jsx)(_i(),{animationData:Ii,loop:!0,style:{width:24,height:24}})}),(0,s.jsx)("span",{children:A.message})]}),(0,s.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),console.log("Form submission started"),!c)return void k({message:"No job selected",type:"error"});const n=(()=>{const e=[];return b.name.trim()||e.push("Name is required"),b.email.trim()||e.push("Email is required"),b.resume||e.push("Resume file is required"),b.email&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(b.email.trim())&&e.push("Please enter a valid email address"),e})();if(n.length>0)k({message:n.join(", "),type:"error"});else{w(!0),k({message:"Submitting application...",type:"info"});try{const e=new FormData;e.append("name",b.name.trim()),e.append("email",b.email.trim()),e.append("phone",b.phone.trim()),e.append("coverLetter",b.coverLetter.trim()),e.append("resume",b.resume),e.append("job_id",c.id),console.log("Submitting to API:","".concat(Ge,"/job-applications"));const n=await cn.A.post("".concat(Ge,"/job-applications"),e,{headers:{"Content-Type":"multipart/form-data"},timeout:3e4});var t;if(console.log("API response:",n.data),!n.data||!1===n.data.success)throw new Error((null===(t=n.data)||void 0===t?void 0:t.error)||"Failed to submit application");k({message:"Application submitted successfully! We'll be in touch soon.",type:"success"}),setTimeout(()=>{x(!1),j({name:"",email:"",phone:"",coverLetter:"",resume:null}),k({message:"",type:""})},3e3)}catch(o){console.error("Error submitting application:",o);let n="Error submitting application. Please try again.";if(o.response){const t=o.response.data;null!==t&&void 0!==t&&t.error?n=t.error:null!==t&&void 0!==t&&t.message?n=t.message:413===o.response.status?n="File too large. Please upload a smaller resume.":o.response.status>=500&&(n="Server error. Please try again later."),console.error("Server error:",t)}else o.request&&(n="Network error. Please check your connection and try again.",console.error("Network error:",o.request));k({message:n,type:"error"})}finally{w(!1)}}},children:[(0,s.jsxs)("div",{className:"grid",style:{gap:"1rem"},children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{style:{display:"block",fontWeight:600,marginBottom:"0.5rem",fontSize:"0.875rem"},children:"Full Name *"}),(0,s.jsx)("input",{type:"text",name:"name",value:b.name,onChange:z,required:!0,disabled:v,placeholder:"Enter your full name",className:"form-input"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{style:{display:"block",fontWeight:600,marginBottom:"0.5rem",fontSize:"0.875rem"},children:"Email Address *"}),(0,s.jsx)("input",{type:"email",name:"email",value:b.email,onChange:z,required:!0,disabled:v,placeholder:"Enter your email address",className:"form-input"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{style:{display:"block",fontWeight:600,marginBottom:"0.5rem",fontSize:"0.875rem"},children:"Phone Number"}),(0,s.jsx)("input",{type:"tel",name:"phone",value:b.phone,onChange:z,disabled:v,placeholder:"Enter your phone number",className:"form-input"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{style:{display:"block",fontWeight:600,marginBottom:"0.5rem",fontSize:"0.875rem"},children:"Cover Letter"}),(0,s.jsx)("textarea",{name:"coverLetter",value:b.coverLetter,onChange:z,disabled:v,placeholder:"Tell us why you're perfect for this role...",className:"form-input form-textarea",rows:4})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{style:{display:"block",fontWeight:600,marginBottom:"0.5rem",fontSize:"0.875rem"},children:"Resume *"}),(0,s.jsxs)("label",{className:"btn btn-secondary",style:{width:"100%",textAlign:"center",borderStyle:"dashed",cursor:v?"not-allowed":"pointer",opacity:v?.6:1,display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem"},children:[(0,s.jsx)("span",{children:"\ud83d\udcc4"}),b.resume?"Selected: ".concat(b.resume.name):"Upload Resume (PDF, DOC, DOCX)",(0,s.jsx)("input",{type:"file",name:"resume",style:{display:"none"},accept:".pdf,.doc,.docx",onChange:z,required:!0,disabled:v})]}),(0,s.jsx)("div",{style:{fontSize:"0.75rem",color:e.gray500,marginTop:"0.5rem"},children:"Maximum file size: 5MB"})]})]}),(0,s.jsxs)("div",{style:{display:"flex",justifyContent:"flex-end",marginTop:"2rem",gap:"1rem",flexWrap:"wrap"},children:[(0,s.jsx)("button",{type:"button",onClick:_,disabled:v,className:"btn btn-secondary",children:"Cancel"}),(0,s.jsxs)("button",{type:"submit",disabled:v,className:"btn btn-primary",style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[v&&(0,s.jsx)("div",{className:"lottie-container",style:{width:20,height:20},children:(0,s.jsx)(_i(),{animationData:Ii,loop:!0,style:{width:20,height:20}})}),v?"Submitting...":"Submit Application"]})]})]})]})]})})]}),(0,s.jsx)(Qe,{})]})};var Wi=t(6403),Fi=t(797),Pi=t(1360),Ri=t(6533);const Bi={businessCard:{name:"Business Cards",template:e=>{let{recipientName:n="John Doe",size:t="standard",id:a="item-1",customData:r={}}=e;const o={compact:{width:320,height:180,fontSize:{name:"1rem",title:"0.7rem"}},standard:{width:400,height:225,fontSize:{name:"1.3rem",title:"0.8rem"}},premium:{width:480,height:270,fontSize:{name:"1.6rem",title:"0.9rem"}}}[t],i=r.position||"Team Member",l=r.email||"contact@acef.org",c=r.phone||"+254 700 000 000",d=r.department||"Operations";return(0,s.jsxs)("div",{id:a,style:{width:o.width,height:o.height,background:"linear-gradient(135deg, rgba(10, 69, 28, 0.95) 0%, rgba(22, 163, 74, 0.9) 50%, rgba(156, 207, 159, 0.85) 100%)",backdropFilter:"blur(20px)",borderRadius:"20px",padding:"24px",color:"white",fontFamily:'"Inter", sans-serif',boxShadow:"0 25px 50px rgba(10, 69, 28, 0.3), inset 0 1px 0 rgba(255,255,255,0.2)",position:"relative",overflow:"hidden",border:"1px solid rgba(255,255,255,0.1)"},children:[(0,s.jsx)("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,background:"linear-gradient(45deg, rgba(255,255,255,0.1) 0%, rgba(255,255,255,0.05) 50%, rgba(255,255,255,0.1) 100%)",zIndex:1}}),(0,s.jsx)("div",{style:{position:"absolute",top:"20px",left:"20px",width:"50px",height:"50px",background:"rgba(255,255,255,0.15)",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"24px",zIndex:3,backdropFilter:"blur(10px)",border:"1px solid rgba(255,255,255,0.2)"},children:(0,s.jsx)(te.A,{})}),(0,s.jsx)("div",{style:{position:"absolute",top:"24px",right:"24px",fontSize:"1.2rem",fontWeight:"700",zIndex:3,textShadow:"0 2px 4px rgba(0,0,0,0.3)",letterSpacing:"1px"},children:"ACEF"}),(0,s.jsxs)("div",{style:{position:"relative",zIndex:2,height:"100%",display:"flex",flexDirection:"column",justifyContent:"center",paddingTop:"40px"},children:[(0,s.jsx)("div",{style:{fontSize:o.fontSize.name,fontWeight:"800",marginBottom:"8px",textShadow:"0 2px 4px rgba(0,0,0,0.3)"},children:n}),(0,s.jsx)("div",{style:{fontSize:o.fontSize.title,opacity:.9,marginBottom:"16px",fontWeight:"500"},children:i}),(0,s.jsxs)("div",{style:{fontSize:"0.7rem",opacity:.8,lineHeight:"1.4",fontWeight:"400"},children:[d," \u2022 ",l,(0,s.jsx)("br",{}),c]}),(0,s.jsx)("div",{style:{position:"absolute",bottom:"16px",left:"24px",right:"24px",height:"2px",background:"linear-gradient(90deg, rgba(255,255,255,0.6), rgba(255,255,255,0.1))",borderRadius:"1px"}})]})]})},fields:[{key:"recipientName",label:"Full Name",type:"text",required:!0,placeholder:"Enter full name"},{key:"position",label:"Position/Title",type:"text",placeholder:"e.g., Program Manager"},{key:"department",label:"Department",type:"text",placeholder:"e.g., Operations, Finance"},{key:"email",label:"Email Address",type:"email",placeholder:"email@acef.org"},{key:"phone",label:"Phone Number",type:"text",placeholder:"+254 700 000 000"}]},certificateElegant:{name:"Certificates - Elegant",template:e=>{let{recipientName:n="Certificate Recipient",size:t="standard",id:a="item-1",customData:r={}}=e;const o={compact:{width:420,height:300,fontSize:{name:"1.3rem",title:"0.85rem"}},standard:{width:560,height:400,fontSize:{name:"1.7rem",title:"1rem"}},premium:{width:700,height:500,fontSize:{name:"2rem",title:"1.2rem"}}}[t],i=r.program||"Climate Leadership Program",l=r.date||(new Date).toLocaleDateString(),c=r.instructor||"Director";return(0,s.jsxs)("div",{id:a,style:{width:o.width,height:o.height,background:"linear-gradient(135deg, rgba(255,255,255,0.95) 0%, rgba(248,250,252,0.9) 100%)",backdropFilter:"blur(20px)",borderRadius:"24px",padding:"40px",fontFamily:'"Inter", sans-serif',boxShadow:"0 30px 60px rgba(10, 69, 28, 0.15), inset 0 1px 0 rgba(255,255,255,0.5)",color:"#0a451c",position:"relative",overflow:"hidden",border:"2px solid rgba(10, 69, 28, 0.1)"},children:[(0,s.jsx)("div",{style:{position:"absolute",top:"-50%",left:"-50%",width:"200%",height:"200%",background:"radial-gradient(circle, rgba(10, 69, 28, 0.03) 0%, transparent 70%)",zIndex:0}}),(0,s.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"30px",zIndex:2,position:"relative"},children:[(0,s.jsx)("div",{style:{width:"60px",height:"60px",background:"linear-gradient(135deg, #0a451c, #16a34a)",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontSize:"24px",boxShadow:"0 8px 20px rgba(10, 69, 28, 0.3)"},children:(0,s.jsx)(te.A,{})}),(0,s.jsx)("div",{style:{textAlign:"right",fontSize:"0.9rem",fontWeight:"600",color:"#16a34a"},children:"ACEF"})]}),(0,s.jsxs)("div",{style:{textAlign:"center",marginBottom:"40px",zIndex:2,position:"relative"},children:[(0,s.jsx)("div",{style:{background:"linear-gradient(135deg, #0a451c, #16a34a)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",fontSize:"1.5rem",fontWeight:"800",letterSpacing:"3px",textTransform:"uppercase",marginBottom:"10px"},children:"Certificate of Excellence"}),(0,s.jsx)("div",{style:{width:"100px",height:"2px",background:"linear-gradient(90deg, #0a451c, #facf3c)",margin:"0 auto"}})]}),(0,s.jsxs)("div",{style:{textAlign:"center",zIndex:2,position:"relative",marginBottom:"40px"},children:[(0,s.jsx)("div",{style:{fontSize:o.fontSize.name,fontWeight:"700",marginBottom:"20px",color:"#0a451c"},children:n}),(0,s.jsxs)("div",{style:{fontSize:o.fontSize.title,lineHeight:1.6,color:"#374151",maxWidth:"80%",margin:"0 auto"},children:["has successfully completed the",(0,s.jsx)("br",{}),(0,s.jsx)("strong",{style:{color:"#0a451c"},children:i})]})]}),(0,s.jsxs)("div",{style:{position:"absolute",bottom:"30px",left:"40px",right:"40px",display:"flex",justifyContent:"space-between",alignItems:"center",zIndex:2},children:[(0,s.jsxs)("div",{style:{textAlign:"left"},children:[(0,s.jsx)("div",{style:{width:"120px",height:"1px",background:"#0a451c",marginBottom:"8px"}}),(0,s.jsx)("div",{style:{fontSize:"0.8rem",fontWeight:"600",color:"#0a451c"},children:c})]}),(0,s.jsx)("div",{style:{fontSize:"0.8rem",background:"rgba(10, 69, 28, 0.1)",padding:"8px 16px",borderRadius:"20px",fontWeight:"600",color:"#0a451c",border:"1px solid rgba(10, 69, 28, 0.2)"},children:l})]})]})},fields:[{key:"recipientName",label:"Recipient Name",type:"text",required:!0,placeholder:"Enter recipient name"},{key:"program",label:"Program/Course Name",type:"text",placeholder:"e.g., Climate Leadership Program"},{key:"instructor",label:"Instructor/Signatory",type:"text",placeholder:"e.g., Director, Prof. Smith"},{key:"date",label:"Completion Date",type:"date"}]},certificateModern:{name:"Certificates - Modern",template:e=>{let{recipientName:n="Certificate Recipient",size:t="standard",id:a="item-1",customData:r={}}=e;const o={compact:{width:420,height:300,fontSize:{name:"1.3rem",title:"0.85rem"}},standard:{width:560,height:400,fontSize:{name:"1.7rem",title:"1rem"}},premium:{width:700,height:500,fontSize:{name:"2rem",title:"1.2rem"}}}[t],i=r.program||"Climate Leadership Program";r.date||(new Date).toLocaleDateString(),r.instructor;return(0,s.jsxs)("div",{id:a,style:{width:o.width,height:o.height,background:"linear-gradient(135deg, #0a451c 0%, #16a34a 50%, #22c55e 100%)",borderRadius:"28px",padding:"32px",fontFamily:'"Inter", sans-serif',boxShadow:"0 35px 70px rgba(0,0,0,0.25), inset 0 1px 0 rgba(255,255,255,0.3)",color:"#fff",position:"relative",overflow:"hidden"},children:[(0,s.jsx)("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,background:"rgba(255,255,255,0.1)",backdropFilter:"blur(10px)",zIndex:1,borderRadius:"28px"}}),(0,s.jsx)("div",{style:{position:"absolute",top:"20px",right:"20px",width:"100px",height:"100px",background:"linear-gradient(45deg, rgba(255,255,255,0.1), rgba(255,255,255,0.05))",borderRadius:"50%",zIndex:1}}),(0,s.jsx)("div",{style:{position:"absolute",bottom:"20px",left:"20px",width:"80px",height:"80px",background:"linear-gradient(45deg, rgba(250, 207, 60, 0.3), rgba(250, 207, 60, 0.1))",borderRadius:"20px",transform:"rotate(45deg)",zIndex:1}}),(0,s.jsxs)("div",{style:{position:"relative",zIndex:2,height:"100%",display:"flex",flexDirection:"column"},children:[(0,s.jsxs)("div",{style:{display:"flex",alignItems:"center",marginBottom:"30px"},children:[(0,s.jsx)("div",{style:{width:"50px",height:"50px",background:"rgba(255,255,255,0.2)",borderRadius:"15px",display:"flex",alignItems:"center",justifyContent:"center",marginRight:"15px",backdropFilter:"blur(10px)",border:"1px solid rgba(255,255,255,0.3)"},children:(0,s.jsx)(pa.A,{size:24})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{style:{fontSize:"1.2rem",fontWeight:"700",letterSpacing:"2px"},children:"ACEF"}),(0,s.jsx)("div",{style:{fontSize:"0.7rem",opacity:.8},children:"Excellence in Climate Action"})]})]}),(0,s.jsxs)("div",{style:{flex:1,display:"flex",flexDirection:"column",justifyContent:"center",textAlign:"center"},children:[(0,s.jsx)("div",{style:{fontSize:"1.1rem",fontWeight:"600",letterSpacing:"4px",marginBottom:"20px",textTransform:"uppercase",opacity:.9},children:"Certificate of Achievement"}),(0,s.jsx)("div",{style:{fontSize:o.fontSize.name,fontWeight:"800",marginBottom:"15px",textShadow:"0 2px 4px rgba(0,0,0,0.3)"},children:n}),(0,s.jsxs)("div",{style:{fontSize:o.fontSize.title,lineHeight:1.5,opacity:.95,maxWidth:"85%",margin:"0 auto"},children:["has demonstrated exceptional commitment in",(0,s.jsx)("br",{}),(0,s.jsx)("strong",{children:i})]})]})]})]})},fields:[{key:"recipientName",label:"Recipient Name",type:"text",required:!0,placeholder:"Enter recipient name"},{key:"program",label:"Program/Course Name",type:"text",placeholder:"e.g., Climate Leadership Program"},{key:"instructor",label:"Instructor/Signatory",type:"text",placeholder:"e.g., Director, Prof. Smith"},{key:"date",label:"Completion Date",type:"date"}]},certificateLuxury:{name:"Certificates - Luxury",template:e=>{let{recipientName:n="Certificate Recipient",size:t="standard",id:a="item-1",customData:r={}}=e;const o={compact:{width:420,height:300,fontSize:{name:"1.3rem",title:"0.85rem"}},standard:{width:560,height:400,fontSize:{name:"1.7rem",title:"1rem"}},premium:{width:700,height:500,fontSize:{name:"2rem",title:"1.2rem"}}}[t],i=r.program||"Climate Leadership Program",l=r.date||(new Date).toLocaleDateString(),c=r.instructor||"Director";return(0,s.jsxs)("div",{id:a,style:{width:o.width,height:o.height,background:"linear-gradient(135deg, #1a1a1a 0%, #2a2a2a 100%)",borderRadius:"32px",padding:"40px",fontFamily:'"Inter", sans-serif',boxShadow:"0 40px 80px rgba(0,0,0,0.4), 0 0 0 1px rgba(250, 207, 60, 0.3)",color:"#ffffff",position:"relative",overflow:"hidden"},children:[(0,s.jsx)("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,background:"linear-gradient(135deg, rgba(250, 207, 60, 0.1) 0%, rgba(10, 69, 28, 0.1) 50%, rgba(250, 207, 60, 0.1) 100%)",zIndex:1}}),(0,s.jsx)("div",{style:{position:"absolute",top:"30px",left:"30px",right:"30px",height:"2px",background:"linear-gradient(90deg, transparent, #facf3c, transparent)",zIndex:2}}),(0,s.jsx)("div",{style:{position:"absolute",bottom:"30px",left:"30px",right:"30px",height:"2px",background:"linear-gradient(90deg, transparent, #facf3c, transparent)",zIndex:2}}),(0,s.jsxs)("div",{style:{position:"relative",zIndex:3,height:"100%",display:"flex",flexDirection:"column"},children:[(0,s.jsxs)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",marginBottom:"30px",gap:"15px"},children:[(0,s.jsx)("div",{style:{width:"60px",height:"60px",background:"linear-gradient(135deg, #facf3c, #f59e0b)",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",color:"#000",fontSize:"28px",boxShadow:"0 10px 25px rgba(250, 207, 60, 0.3)"},children:(0,s.jsx)(M.A,{})}),(0,s.jsx)("div",{style:{fontSize:"1.8rem",fontWeight:"800",background:"linear-gradient(135deg, #facf3c, #ffffff)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",letterSpacing:"3px"},children:"ACEF"})]}),(0,s.jsxs)("div",{style:{textAlign:"center",marginBottom:"30px"},children:[(0,s.jsx)("div",{style:{fontSize:"1.2rem",fontWeight:"300",letterSpacing:"6px",textTransform:"uppercase",color:"#facf3c",marginBottom:"10px"},children:"Certificate of"}),(0,s.jsx)("div",{style:{fontSize:"1.8rem",fontWeight:"800",letterSpacing:"4px",textTransform:"uppercase",background:"linear-gradient(135deg, #ffffff, #facf3c)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"},children:"Excellence"})]}),(0,s.jsxs)("div",{style:{textAlign:"center",flex:1,display:"flex",flexDirection:"column",justifyContent:"center"},children:[(0,s.jsx)("div",{style:{fontSize:"0.9rem",opacity:.8,marginBottom:"15px",fontWeight:"300"},children:"This certifies that"}),(0,s.jsx)("div",{style:{fontSize:o.fontSize.name,fontWeight:"700",marginBottom:"20px",background:"linear-gradient(135deg, #ffffff, #facf3c)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"},children:n}),(0,s.jsxs)("div",{style:{fontSize:o.fontSize.title,lineHeight:1.6,opacity:.9,maxWidth:"80%",margin:"0 auto",fontWeight:"400"},children:["has achieved outstanding performance in",(0,s.jsx)("br",{}),(0,s.jsx)("strong",{style:{color:"#facf3c"},children:i})]})]}),(0,s.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:"20px"},children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{style:{width:"120px",height:"1px",background:"linear-gradient(90deg, #facf3c, transparent)",marginBottom:"8px"}}),(0,s.jsx)("div",{style:{fontSize:"0.8rem",fontWeight:"600",color:"#facf3c"},children:c}),(0,s.jsx)("div",{style:{fontSize:"0.7rem",opacity:.7},children:"Program Director"})]}),(0,s.jsxs)("div",{style:{textAlign:"right"},children:[(0,s.jsx)("div",{style:{fontSize:"0.8rem",color:"#facf3c",fontWeight:"600"},children:l}),(0,s.jsx)("div",{style:{fontSize:"0.7rem",opacity:.7},children:"Date of Completion"})]})]})]})]})},fields:[{key:"recipientName",label:"Recipient Name",type:"text",required:!0,placeholder:"Enter recipient name"},{key:"program",label:"Program/Course Name",type:"text",placeholder:"e.g., Climate Leadership Program"},{key:"instructor",label:"Instructor/Signatory",type:"text",placeholder:"e.g., Director, Prof. Smith"},{key:"date",label:"Completion Date",type:"date"}]},philanthropyBadge:{name:"Philanthropy Badges",template:e=>{let{recipientName:n="Generous Philanthropist",size:t="standard",id:a="item-1",customData:r={}}=e;const o={compact:{diameter:280,fontSize:{name:"1rem",title:"0.7rem"}},standard:{diameter:350,fontSize:{name:"1.3rem",title:"0.8rem"}},premium:{diameter:420,fontSize:{name:"1.6rem",title:"0.9rem"}}}[t],i="true"===r.isAnonymous?"ACEF Friend":n,l=r.impact||"Climate Action",c=r.year||(new Date).getFullYear(),d=r.level||"Gold",p={Bronze:{primary:"#cd7f32",secondary:"#e6a85c"},Silver:{primary:"#c0c0c0",secondary:"#e8e8e8"},Gold:{primary:"#ffd700",secondary:"#fff76b"},Platinum:{primary:"#e5e4e2",secondary:"#ffffff"}},m=p[d]||p.Gold;return(0,s.jsxs)("div",{id:a,style:{width:o.diameter,height:o.diameter,borderRadius:"50%",background:"linear-gradient(135deg, #0a451c 0%, #16a34a 50%, rgba(255,255,255,0.1) 100%)",backdropFilter:"blur(20px)",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"30px",color:"white",fontFamily:'"Inter", sans-serif',boxShadow:"0 25px 50px rgba(10, 69, 28, 0.3), 0 0 0 3px ".concat(m.primary,", inset 0 1px 0 rgba(255,255,255,0.2)"),position:"relative",overflow:"hidden"},children:[(0,s.jsx)("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,background:"radial-gradient(circle, rgba(255,255,255,0.1) 0%, rgba(255,255,255,0.05) 70%)",borderRadius:"50%",zIndex:1}}),(0,s.jsx)("div",{style:{position:"absolute",top:"20px",left:"20px",right:"20px",bottom:"20px",border:"2px solid ".concat(m.primary),borderRadius:"50%",opacity:.6,zIndex:1}}),(0,s.jsx)("div",{style:{position:"absolute",top:"35px",left:"35px",right:"35px",bottom:"35px",border:"1px solid rgba(255,255,255,0.3)",borderRadius:"50%",zIndex:1}}),(0,s.jsxs)("div",{style:{position:"relative",zIndex:2,textAlign:"center",display:"flex",flexDirection:"column",alignItems:"center",gap:"12px"},children:[(0,s.jsx)("div",{style:{width:"60px",height:"60px",background:"linear-gradient(135deg, ".concat(m.primary,", ").concat(m.secondary,")"),borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"28px",color:"#000",boxShadow:"0 8px 20px rgba(0,0,0,0.2)"},children:(0,s.jsx)(da.A,{})}),(0,s.jsxs)("div",{style:{background:"linear-gradient(135deg, ".concat(m.primary,", ").concat(m.secondary,")"),color:"#000",padding:"6px 16px",borderRadius:"20px",fontSize:"0.7rem",fontWeight:"700",textTransform:"uppercase",letterSpacing:"1px",boxShadow:"0 4px 12px rgba(0,0,0,0.2)"},children:[d," Philanthropist"]}),(0,s.jsx)("div",{style:{fontSize:o.fontSize.name,fontWeight:"800",textAlign:"center",textShadow:"0 2px 4px rgba(0,0,0,0.3)",lineHeight:1.2},children:i}),(0,s.jsxs)("div",{style:{fontSize:"0.85rem",textAlign:"center",opacity:.9,fontWeight:"500"},children:["Supporting ",l]}),(0,s.jsxs)("div",{style:{fontSize:o.fontSize.title,textAlign:"center",opacity:.9,fontWeight:"400",lineHeight:1.3},children:["Thank you for making",(0,s.jsx)("br",{}),"a difference"]}),(0,s.jsx)("div",{style:{fontSize:"0.8rem",background:"rgba(255,255,255,0.15)",padding:"6px 14px",borderRadius:"15px",fontWeight:"600",backdropFilter:"blur(10px)",border:"1px solid rgba(255,255,255,0.2)"},children:c})]})]})},fields:[{key:"recipientName",label:"Philanthropist Name",type:"text",required:!0,placeholder:"Enter philanthropist name"},{key:"impact",label:"Impact Area",type:"select",options:["Climate Action","Education","Healthcare","Community Development","Environmental Protection"]},{key:"level",label:"Recognition Level",type:"select",options:["Bronze","Silver","Gold","Platinum"]},{key:"year",label:"Year",type:"number",placeholder:(new Date).getFullYear().toString()},{key:"isAnonymous",label:"Anonymous Recognition",type:"checkbox"}]}},Di=()=>{const[e,n]=(0,i.useState)("businessCard"),[t,a]=(0,i.useState)([{recipientName:"Dr. Amina Kone",size:"premium",customData:{position:"Climate Program Manager",department:"Operations",email:"a.kone@acef.org",phone:"+254 700 123 456"}}]),[r,o]=(0,i.useState)(null),[l,c]=(0,i.useState)(!1),d=(0,i.useRef)(null),p=Bi[e],m=null===p||void 0===p?void 0:p.template;i.useEffect(()=>{if(!window.html2canvas){const e=document.createElement("script");e.src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js",e.async=!0,document.head.appendChild(e)}},[]);const x=async(n,t)=>{try{if(!window.html2canvas)return void alert("Please wait for the page to fully load before downloading.");const a=document.getElementById(n);if(!a)return;(await window.html2canvas(a,{backgroundColor:null,scale:3,useCORS:!0,allowTaint:!0,logging:!1})).toBlob(n=>{const a=document.createElement("a");a.download="".concat(t.replace(/[^a-z0-9\s]/gi,"_"),"_").concat(e,".png"),a.href=URL.createObjectURL(n),document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL(a.href)},"image/png",1)}catch(a){console.error("Download failed:",a),alert("Download failed. Please try again.")}},u=()=>{const n={recipientName:"New Recipient",size:"standard",customData:{}};"businessCard"===e?n.customData={position:"Team Member",department:"Operations",email:"contact@acef.org",phone:"+254 700 000 000"}:e.startsWith("certificate")?n.customData={program:"Climate Leadership Program",instructor:"Director",date:(new Date).toISOString().split("T")[0]}:"philanthropyBadge"===e&&(n.customData={impact:"Climate Action",level:"Gold",year:(new Date).getFullYear().toString(),isAnonymous:"false"}),a([...t,n])},g=e=>{a(t.filter((n,t)=>t!==e))},h=(e,n,r)=>{const o=[...t];"recipientName"===n||"size"===n?o[e][n]=r:o[e].customData[n]=r,a(o)},f=()=>{const n={recipientName:"Dr. Amina Kone",size:"premium",customData:{}};"businessCard"===e?n.customData={position:"Climate Program Manager",department:"Operations",email:"a.kone@acef.org",phone:"+254 700 123 456"}:e.startsWith("certificate")?n.customData={program:"Climate Leadership Program",instructor:"Director",date:(new Date).toISOString().split("T")[0]}:"philanthropyBadge"===e&&(n.customData={impact:"Climate Action",level:"Gold",year:(new Date).getFullYear().toString(),isAnonymous:"false"}),a([n]),o(null),d.current&&(d.current.value="")},b=()=>{if(!p)return;const n=["recipientName","size",...p.fields.filter(e=>"recipientName"!==e.key).map(e=>e.key)],t={recipientName:"John Doe",size:"standard"};p.fields.forEach(e=>{var n;if("recipientName"!==e.key)switch(e.type){case"text":t[e.key]=e.placeholder||"Sample ".concat(e.label);break;case"email":t[e.key]="sample@acef.org";break;case"number":t[e.key]="2024";break;case"select":t[e.key]=(null===(n=e.options)||void 0===n?void 0:n[0])||"Option1";break;case"checkbox":t[e.key]="false";break;case"date":t[e.key]=(new Date).toISOString().split("T")[0];break;default:t[e.key]="Sample Data"}});const a=[n.join(","),n.map(e=>t[e]||"").join(","),n.map(e=>"recipientName"===e?"Jane Smith":"size"===e?"premium":t[e]||"").join(",")].join("\n"),r=new Blob([a],{type:"text/csv;charset=utf-8;"}),o=document.createElement("a");o.href=URL.createObjectURL(r),o.download="".concat(e,"_template.csv"),document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL(o.href)};return i.useEffect(()=>{f()},[e]),(0,s.jsxs)("div",{style:{minHeight:"100vh",background:"linear-gradient(135deg, #0a0a0a 0%, #1a1a1a 50%, #0a451c 100%)",padding:"40px 20px",color:"#ffffff"},children:[(0,s.jsxs)("div",{style:{textAlign:"center",marginBottom:"40px"},children:[(0,s.jsx)("h1",{style:{fontSize:"3.5rem",fontWeight:"800",background:"linear-gradient(135deg, #facf3c, #ffffff, #9ccf9f)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",fontFamily:'"Inter", sans-serif',marginBottom:"15px",textShadow:"0 4px 8px rgba(0,0,0,0.3)"},children:"ACEF Resource Generator"}),(0,s.jsx)("p",{style:{fontSize:"1.3rem",color:"#e5e7eb",fontFamily:'"Inter", sans-serif',opacity:.9},children:"Specialized Generator for ACEF's business cards, certificates and badges        "})]}),(0,s.jsxs)("div",{style:{maxWidth:"1400px",margin:"0 auto 40px",background:"rgba(255,255,255,0.05)",backdropFilter:"blur(20px)",padding:"35px",borderRadius:"24px",boxShadow:"0 25px 50px rgba(0, 0, 0, 0.3)",border:"1px solid rgba(255,255,255,0.1)"},children:[(0,s.jsxs)("div",{style:{marginBottom:"35px"},children:[(0,s.jsx)("label",{style:{display:"block",marginBottom:"20px",fontWeight:"700",color:"#facf3c",fontSize:"1.2rem"},children:"Select Template Type"}),(0,s.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"15px"},children:Object.entries(Bi).map(t=>{let[a,r]=t;return(0,s.jsx)("button",{onClick:()=>n(a),style:{padding:"20px 25px",border:e===a?"2px solid #facf3c":"2px solid rgba(255,255,255,0.1)",borderRadius:"16px",background:e===a?"linear-gradient(135deg, rgba(250, 207, 60, 0.2), rgba(250, 207, 60, 0.1))":"rgba(255,255,255,0.05)",color:e===a?"#facf3c":"#ffffff",cursor:"pointer",fontWeight:"600",transition:"all 0.3s ease",fontSize:"1rem",backdropFilter:"blur(10px)"},children:r.name},a)})})]}),(0,s.jsx)("div",{style:{marginBottom:"35px"},children:(0,s.jsxs)("div",{style:{background:"rgba(255,255,255,0.05)",padding:"25px",borderRadius:"16px",border:"1px solid rgba(255,255,255,0.1)"},children:[(0,s.jsxs)("h3",{style:{margin:"0 0 18px 0",color:"#ffffff",display:"flex",alignItems:"center",gap:"10px"},children:[(0,s.jsx)(Wi.A,{size:20,color:"#facf3c"}),"Available Fields for ",null===p||void 0===p?void 0:p.name]}),(0,s.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"12px"},children:null===p||void 0===p?void 0:p.fields.map((e,n)=>(0,s.jsxs)("div",{style:{padding:"12px 16px",background:"rgba(255,255,255,0.08)",borderRadius:"12px",border:"1px solid rgba(255,255,255,0.1)",fontSize:"0.9rem"},children:[(0,s.jsx)("strong",{style:{color:"#facf3c"},children:e.label}),(0,s.jsxs)("div",{style:{color:"#e5e7eb",marginTop:"4px"},children:[e.type," ",e.required&&"(required)"]})]},n))})]})}),(0,s.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"25px",marginBottom:"30px"},children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{style:{display:"block",marginBottom:"12px",fontWeight:"600",color:"#facf3c",display:"flex",alignItems:"center",gap:"10px"},children:[(0,s.jsx)(Fi.A,{size:18}),"Upload CSV File"]}),(0,s.jsx)("input",{ref:d,type:"file",accept:".csv",onChange:e=>{const n=e.target.files[0];if(n&&"text/csv"===n.type){o(n);const e=new FileReader;e.onload=e=>{try{const n=e.target.result.split("\n").filter(e=>e.trim()),t=n[0].split(",").map(e=>e.trim().toLowerCase()),r=t.findIndex(e=>e.includes("name")||e.includes("recipient"));if(-1===r)return void alert('CSV must contain a "name" or "recipient" column');const o=n.slice(1).map(e=>{const n=e.split(",").map(e=>e.trim().replace(/['"]/g,"")),a={};t.forEach((e,t)=>{"name"!==e&&"recipient"!==e&&"size"!==e&&n[t]&&(a[e.replace(/\s+/g,"")]=n[t])});const o=t.findIndex(e=>e.includes("size")),i=-1!==o?n[o]:"standard";return{recipientName:n[r]||"Recipient",size:["compact","standard","premium"].includes(i.toLowerCase())?i.toLowerCase():"standard",customData:a}}).filter(e=>e.recip\u0432\u044b\u0441\u043e\u0442\u0430&&"Recipient"!==e.recipientName);a(o)}catch(n){alert("Error parsing CSV file. Please check the format.")}},e.readAsText(n)}},style:{width:"100%",padding:"14px 16px",border:"2px solid rgba(255,255,255,0.1)",borderRadius:"12px",fontSize:"14px",background:"rgba(255,255,255,0.05)",color:"#ffffff",backdropFilter:"blur(10px)"}}),(0,s.jsxs)("div",{style:{fontSize:"0.8rem",color:"#9ca3af",marginTop:"8px"},children:["CSV should include: ",null===p||void 0===p?void 0:p.fields.filter(e=>e.required).map(e=>e.key).join(", ")," (required)",(0,s.jsx)("button",{onClick:()=>b(),style:{display:"block",marginTop:"10px",padding:"8px 14px",background:"linear-gradient(135deg, #facf3c, #f59e0b)",color:"#000",border:"none",borderRadius:"8px",fontSize:"12px",cursor:"pointer",fontWeight:"600"},children:"Download CSV Template"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{style:{display:"block",marginBottom:"12px",fontWeight:"600",color:"#facf3c",display:"flex",alignItems:"center",gap:"10px"},children:[(0,s.jsx)(Pi.A,{size:18}),"Quick Actions"]}),(0,s.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:[(0,s.jsx)("button",{onClick:u,style:{padding:"14px 20px",background:"linear-gradient(135deg, #16a34a, #22c55e)",color:"white",border:"none",borderRadius:"12px",cursor:"pointer",fontWeight:"600",fontSize:"14px"},children:"Add Sample Recipient"}),(0,s.jsx)("button",{onClick:f,style:{padding:"14px 20px",background:"linear-gradient(135deg, #ef4444, #dc2626)",color:"white",border:"none",borderRadius:"12px",cursor:"pointer",fontWeight:"600",fontSize:"14px"},children:"Reset All"}),(0,s.jsx)("button",{onClick:async()=>{c(!0);try{for(let e=0;e<t.length;e++){const n=t[e];await new Promise(e=>setTimeout(e,500)),await x("item-".concat(e),n.recipientName)}}catch(e){console.error("Bulk download failed:",e)}c(!1)},disabled:0===t.length||l,style:{padding:"14px 20px",background:t.length>0&&!l?"linear-gradient(135deg, #facf3c, #f59e0b)":"rgba(156, 163, 175, 0.3)",color:t.length>0&&!l?"#000":"#9ca3af",border:"none",borderRadius:"12px",cursor:t.length>0&&!l?"pointer":"not-allowed",fontWeight:"600",fontSize:"14px"},children:l?"Processing...":"Download All (".concat(t.length,")")})]})]})]}),r&&(0,s.jsxs)("div",{style:{padding:"18px",background:"linear-gradient(135deg, rgba(34, 197, 94, 0.1), rgba(22, 163, 74, 0.1))",borderRadius:"16px",border:"1px solid rgba(34, 197, 94, 0.3)",marginBottom:"30px"},children:[(0,s.jsx)("div",{style:{fontSize:"14px",color:"#22c55e",fontWeight:"600",marginBottom:"6px"},children:"CSV Loaded Successfully"}),(0,s.jsxs)("div",{style:{fontSize:"13px",color:"#16a34a"},children:["File: ",r.name," \u2022 ",t.length," recipients \u2022 Template: ",null===p||void 0===p?void 0:p.name]})]})]}),(0,s.jsxs)("div",{style:{maxWidth:"1400px",margin:"0 auto 40px",background:"rgba(255,255,255,0.05)",backdropFilter:"blur(20px)",padding:"35px",borderRadius:"24px",boxShadow:"0 25px 50px rgba(0, 0, 0, 0.3)",border:"1px solid rgba(255,255,255,0.1)"},children:[(0,s.jsxs)("h3",{style:{margin:"0 0 25px 0",color:"#facf3c",display:"flex",alignItems:"center",gap:"10px"},children:[(0,s.jsx)(Ri.A,{size:22}),"Individual Editor (",t.length," recipients)"]}),t.map((e,n)=>(0,s.jsxs)("div",{style:{border:"1px solid rgba(255,255,255,0.1)",borderRadius:"16px",padding:"25px",marginBottom:"20px",background:"rgba(255,255,255,0.03)",backdropFilter:"blur(10px)"},children:[(0,s.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},children:[(0,s.jsxs)("h4",{style:{margin:0,color:"#ffffff",fontSize:"1.1rem"},children:["Recipient ",n+1,": ",e.recipientName]}),(0,s.jsx)("button",{onClick:()=>g(n),style:{background:"linear-gradient(135deg, #ef4444, #dc2626)",color:"white",border:"none",borderRadius:"8px",padding:"8px 14px",cursor:"pointer",fontSize:"12px",fontWeight:"600"},children:"Remove"})]}),(0,s.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"18px"},children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{style:{fontSize:"13px",fontWeight:"600",color:"#facf3c"},children:"Name (Required)"}),(0,s.jsx)("input",{type:"text",value:e.recipientName,onChange:e=>h(n,"recipientName",e.target.value),style:{width:"100%",padding:"10px 12px",border:"1px solid rgba(255,255,255,0.2)",borderRadius:"8px",fontSize:"14px",marginTop:"6px",background:"rgba(255,255,255,0.05)",color:"#ffffff",backdropFilter:"blur(10px)"}})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{style:{fontSize:"13px",fontWeight:"600",color:"#facf3c"},children:"Size"}),(0,s.jsxs)("select",{value:e.size,onChange:e=>h(n,"size",e.target.value),style:{width:"100%",padding:"10px 12px",border:"1px solid rgba(255,255,255,0.2)",borderRadius:"8px",fontSize:"14px",marginTop:"6px",background:"rgba(255,255,255,0.05)",color:"#ffffff",backdropFilter:"blur(10px)"},children:[(0,s.jsx)("option",{value:"compact",style:{background:"#1a1a1a"},children:"Compact"}),(0,s.jsx)("option",{value:"standard",style:{background:"#1a1a1a"},children:"Standard"}),(0,s.jsx)("option",{value:"premium",style:{background:"#1a1a1a"},children:"Premium"})]})]}),null===p||void 0===p?void 0:p.fields.filter(e=>"recipientName"!==e.key).map(t=>{var a;return(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{style:{fontSize:"13px",fontWeight:"600",color:"#facf3c"},children:[t.label," ",t.required&&"*"]}),"select"===t.type?(0,s.jsxs)("select",{value:e.customData[t.key]||"",onChange:e=>h(n,t.key,e.target.value),style:{width:"100%",padding:"10px 12px",border:"1px solid rgba(255,255,255,0.2)",borderRadius:"8px",fontSize:"14px",marginTop:"6px",background:"rgba(255,255,255,0.05)",color:"#ffffff",backdropFilter:"blur(10px)"},children:[(0,s.jsx)("option",{value:"",style:{background:"#1a1a1a"},children:"Select..."}),null===(a=t.options)||void 0===a?void 0:a.map(e=>(0,s.jsx)("option",{value:e,style:{background:"#1a1a1a"},children:e},e))]}):"checkbox"===t.type?(0,s.jsx)("div",{style:{marginTop:"10px"},children:(0,s.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:"10px",fontSize:"14px"},children:[(0,s.jsx)("input",{type:"checkbox",checked:"true"===e.customData[t.key],onChange:e=>h(n,t.key,e.target.checked?"true":"false"),style:{transform:"scale(1.2)"}}),(0,s.jsx)("span",{style:{color:"#ffffff"},children:"Yes"})]})}):(0,s.jsx)("input",{type:t.type,value:e.customData[t.key]||"",onChange:e=>h(n,t.key,e.target.value),placeholder:t.placeholder,style:{width:"100%",padding:"10px 12px",border:"1px solid rgba(255,255,255,0.2)",borderRadius:"8px",fontSize:"14px",marginTop:"6px",background:"rgba(255,255,255,0.05)",color:"#ffffff",backdropFilter:"blur(10px)"}})]},t.key)})]})]},n))]}),(0,s.jsx)("div",{style:{display:"flex",flexWrap:"wrap",gap:"40px",justifyContent:"center",alignItems:"flex-start"},children:t.map((e,n)=>(0,s.jsxs)("div",{style:{position:"relative",background:"rgba(255,255,255,0.05)",backdropFilter:"blur(20px)",padding:"25px",borderRadius:"24px",boxShadow:"0 25px 50px rgba(0, 0, 0, 0.3)",transition:"all 0.3s ease",border:"1px solid rgba(255,255,255,0.1)"},children:[m&&(0,s.jsx)(m,{recipientName:e.recipientName,size:e.size,year:2024,id:"item-".concat(n),customData:e.customData}),(0,s.jsxs)("div",{style:{position:"absolute",top:"15px",right:"15px",display:"flex",gap:"10px"},children:[(0,s.jsx)("button",{onClick:()=>x("item-".concat(n),e.recipientName),style:{background:"linear-gradient(135deg, #facf3c, #f59e0b)",color:"#000",border:"none",borderRadius:"50%",width:"40px",height:"40px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 8px 20px rgba(250, 207, 60, 0.4)",transition:"all 0.2s ease",fontWeight:"600"},title:"Download this item",children:(0,s.jsx)(mt.A,{size:18})}),(0,s.jsx)("button",{onClick:()=>g(n),style:{background:"linear-gradient(135deg, #ef4444, #dc2626)",color:"white",border:"none",borderRadius:"50%",width:"40px",height:"40px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 8px 20px rgba(239, 68, 68, 0.4)",transition:"all 0.2s ease"},title:"Remove this item",children:(0,s.jsx)(ie.A,{size:18})})]}),(0,s.jsxs)("div",{style:{marginTop:"20px",padding:"15px",background:"rgba(255,255,255,0.08)",borderRadius:"12px",textAlign:"center",backdropFilter:"blur(10px)"},children:[(0,s.jsx)("div",{style:{fontSize:"14px",fontWeight:"600",color:"#facf3c",marginBottom:"6px"},children:e.recipientName}),(0,s.jsxs)("div",{style:{fontSize:"12px",color:"#e5e7eb"},children:[e.size," \u2022 ",null===p||void 0===p?void 0:p.name]})]})]},n))}),0===t.length&&(0,s.jsxs)("div",{style:{textAlign:"center",padding:"80px 20px",color:"#e5e7eb"},children:[(0,s.jsx)("div",{style:{fontSize:"4rem",marginBottom:"25px",background:"linear-gradient(135deg, #facf3c, #ffffff)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"},children:"\ud83c\udfaf"}),(0,s.jsx)("h3",{style:{fontSize:"1.8rem",marginBottom:"15px",color:"#facf3c",fontWeight:"700"},children:"No Recipients Added"}),(0,s.jsxs)("p",{style:{fontSize:"1.1rem",marginBottom:"25px",opacity:.8,lineHeight:"1.6"},children:["Upload a CSV file or add recipients manually to start creating your premium ",null===p||void 0===p?void 0:p.name.toLowerCase(),"."]}),(0,s.jsxs)("div",{style:{display:"flex",gap:"15px",justifyContent:"center",flexWrap:"wrap"},children:[(0,s.jsx)("button",{onClick:u,style:{padding:"12px 25px",background:"linear-gradient(135deg, #facf3c, #f59e0b)",color:"#000",border:"none",borderRadius:"12px",cursor:"pointer",fontWeight:"600",fontSize:"14px"},children:"Add Sample Recipient"}),(0,s.jsx)("button",{onClick:()=>b(),style:{padding:"12px 25px",background:"linear-gradient(135deg, #16a34a, #22c55e)",color:"white",border:"none",borderRadius:"12px",cursor:"pointer",fontWeight:"600",fontSize:"14px"},children:"Download CSV Template"})]})]})]})};var Li=t(7060),Mi=t(5315),Hi=t(2455),qi=t(6185),Oi=t(3023),Ui=t(1911),Yi=t(5877),Gi=t(5362);const Vi=Ge,Ji=ue.map(e=>({label:e})),Ki=()=>{const{user:e}=c(),[n,t]=(0,i.useState)([]),[a,r]=(0,i.useState)(null),[o,l]=(0,i.useState)(""),[d,p]=(0,i.useState)(""),[x,u]=(0,i.useState)(!1),[g,h]=(0,i.useState)(null),f=async()=>{u(!0);try{const e=await fetch("".concat(Vi,"/countries")),n=await e.json();if(!Array.isArray(n))throw new Error("Invalid response format");const a=[...n].sort((e,n)=>e.name.localeCompare(n.name));t(a),l("\ud83d\udce6 Countries fetched from database successfully.")}catch(e){console.error("\u274c Fetch error:",e),p("\u274c Failed to load countries.")}finally{u(!1)}};return(0,i.useEffect)(()=>{f()},[]),e&&"admin"===e.role?(0,s.jsxs)(N.A,{sx:{maxWidth:600,mx:"auto",mt:4,p:2},children:[(0,s.jsx)(_.A,{variant:"h4",gutterBottom:!0,children:"\ud83c\udf0d Manage Countries"}),o&&(0,s.jsx)(I.A,{severity:"success",sx:{mb:2},children:o}),d&&(0,s.jsx)(I.A,{severity:"error",sx:{mb:2},children:d}),(0,s.jsxs)(N.A,{sx:{display:"flex",gap:2,mb:2},children:[(0,s.jsx)(Li.A,{options:Ji,value:a,onChange:(e,n)=>r(n),renderInput:e=>(0,s.jsx)(Bn.A,(0,m.A)((0,m.A)({},e),{},{label:"Select Country",fullWidth:!0})),sx:{flex:1}}),(0,s.jsx)(E.A,{variant:"contained",onClick:async()=>{var e;p(""),l("");const t=null===a||void 0===a||null===(e=a.label)||void 0===e?void 0:e.trim();if(!t)return p("\u26a0\ufe0f Please select a country to add.");if(n.find(e=>e.name.toLowerCase()===t.toLowerCase()))return p("\ud83d\udeab This country is already in the database.");try{const e=await fetch("".concat(Vi,"/countries"),{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({name:t})});if(!e.ok)throw new Error(await e.text());r(null),l("\u2705 ".concat(t," added to database successfully.")),f()}catch(o){console.error("\u274c Add country error:",o),p("\u274c ".concat(o.message))}},children:"Add"})]}),(0,s.jsx)(bo.A,{sx:{mb:2}}),x?(0,s.jsx)(N.A,{sx:{display:"flex",justifyContent:"center",mt:4},children:(0,s.jsx)(On.A,{})}):(0,s.jsx)(Mi.A,{children:n.map(e=>(0,s.jsx)(Hi.Ay,{secondaryAction:(0,s.jsx)(de.A,{edge:"end",onClick:()=>h(e.id),children:(0,s.jsx)(Gi.A,{})}),children:(0,s.jsx)(qi.A,{primary:e.name})},e.id))}),(0,s.jsxs)(Oi.A,{open:Boolean(g),onClose:()=>h(null),children:[(0,s.jsx)(Ui.A,{children:"Delete this country?"}),(0,s.jsxs)(Yi.A,{children:[(0,s.jsx)(E.A,{onClick:()=>h(null),children:"Cancel"}),(0,s.jsx)(E.A,{onClick:async()=>{if(g)try{const e=await fetch("".concat(Vi,"/countries/").concat(g),{method:"DELETE",credentials:"include"});if(!e.ok)throw new Error(await e.text());h(null),f()}catch(e){p(e.message)}},color:"error",variant:"contained",children:"Delete"})]})]})]}):(0,s.jsx)(_.A,{variant:"h6",color:"error",children:"Access Denied"})},Xi=Ge,Zi=()=>{const[e,n]=(0,i.useState)([]),[t,a]=(0,i.useState)([]),[r,o]=(0,i.useState)(null),[l,c]=(0,i.useState)({}),[d,p]=(0,i.useState)("view"),[x,u]=(0,i.useState)(""),[g,h]=(0,i.useState)(!1),[f,b]=(0,i.useState)(""),[y,j]=(0,i.useState)({}),v=(0,i.useCallback)(async()=>{h(!0),b("");try{const e=await fetch("".concat(Xi,"/countries"));if(!e.ok)throw new Error("Failed to fetch countries: ".concat(e.status));const t=await e.json();if(!Array.isArray(t))throw new Error("Invalid response format from countries endpoint");const a=[...t].sort((e,n)=>e.name.localeCompare(n.name));n(a),u("\ud83d\udce6 Countries loaded successfully")}catch(e){console.error("\u274c Fetch countries error:",e),b("\u274c Failed to load countries: ".concat(e.message)),n([])}finally{h(!1)}},[]),w=(0,i.useCallback)(async()=>{try{const e=await fetch("".concat(Xi,"/country-contacts"));if(!e.ok)throw new Error("Failed to fetch contacts: ".concat(e.status));const n=await e.json();if(!Array.isArray(n))throw new Error("Invalid response format from contacts endpoint");a(n);const t={};for(const a of n){const e=a.service_id&&a.template_id&&a.public_key,n=a.latitude&&a.longitude;t[a.country]={configured:e,status:e?"Complete":"Incomplete",coordinates:n}}j(t)}catch(e){console.error("\u274c Fetch contacts error:",e),a([]),j({})}},[]);(0,i.useEffect)(()=>{v(),w()},[v,w]),(0,i.useEffect)(()=>{const n=setTimeout(async()=>{if(0===e.length||0===t.length)return;const n=new Set(e.map(e=>e.name)),a=t.filter(e=>!n.has(e.country));if(a.length>0){console.log("Found ".concat(a.length," orphaned contacts, cleaning up..."));try{const e=a.map(e=>fetch("".concat(Xi,"/country-contacts/").concat(encodeURIComponent(e.country)),{method:"DELETE"}));await Promise.all(e),await w(),u("\ud83e\uddf9 Cleaned up ".concat(a.length," orphaned contact(s)"))}catch(r){console.error("Error cleaning up orphaned contacts:",r)}}},500);return()=>clearTimeout(n)},[e,t,w]);const A=()=>{u(""),b("")},k=e=>{const{name:n,value:t}=e.target;c(e=>(0,m.A)((0,m.A)({},e),{},{[n]:t}))},S=e=>t.find(n=>n.country===e),C=e=>{const n=y[e];return n?n.configured?"\u2705":"\u26a0\ufe0f":"\u2753"},z=e=>{const n=y[e];return n?n.status:"Unknown"},N=e=>{const n=y[e];return n?n.coordinates?"\ud83c\udf0d":"\ud83d\udccd":"\u2753"};return(0,s.jsxs)("div",{style:{padding:"2rem",maxWidth:"1400px",margin:"0 auto"},children:[(0,s.jsx)("h2",{children:"\ud83d\udceb Manage Country Contact Configurations"}),(0,s.jsx)("p",{children:"To obtain latitudes and longitudes, do visit https://www.gps-coordinates.net/"}),g&&(0,s.jsx)("p",{style:{color:"blue"},children:"\u23f3 Loading..."}),x&&(0,s.jsx)("p",{style:{color:"green",backgroundColor:"#e8f5e8",padding:"0.5rem",borderRadius:"4px"},children:x}),f&&(0,s.jsx)("p",{style:{color:"red",backgroundColor:"#ffe8e8",padding:"0.5rem",borderRadius:"4px"},children:f}),"view"!==d&&(0,s.jsxs)("div",{style:{marginBottom:"2rem",padding:"1.5rem",border:"1px solid #ddd",borderRadius:"8px",backgroundColor:"#f9f9f9"},children:[(0,s.jsx)("h3",{children:"edit"===d?"\u270f\ufe0f Edit: ".concat(l.country):"\u2795 Add New Country Contact"}),(0,s.jsxs)("div",{style:{display:"grid",gap:"1rem",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))"},children:["add"===d&&(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{children:"Country: *"}),(0,s.jsxs)("select",{name:"country",value:l.country,onChange:k,style:{width:"100%",padding:"0.5rem"},required:!0,children:[(0,s.jsx)("option",{value:"",children:"-- Select Country --"}),e.filter(e=>!S(e.name)).map(e=>(0,s.jsx)("option",{value:e.name,children:e.name},e.id))]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{children:"Email:"}),(0,s.jsx)("input",{name:"email",type:"email",placeholder:"contact@example.com",value:l.email||"",onChange:k,style:{width:"100%",padding:"0.5rem"}})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{children:"Phone:"}),(0,s.jsx)("input",{name:"phone",type:"tel",placeholder:"+1234567890",value:l.phone||"",onChange:k,style:{width:"100%",padding:"0.5rem"}})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{children:"City:"}),(0,s.jsx)("input",{name:"city",placeholder:"City name",value:l.city||"",onChange:k,style:{width:"100%",padding:"0.5rem"}})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{children:"State/Province:"}),(0,s.jsx)("input",{name:"state_province",placeholder:"State or province",value:l.state_province||"",onChange:k,style:{width:"100%",padding:"0.5rem"}})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{children:"Postal Code:"}),(0,s.jsx)("input",{name:"postal_code",placeholder:"Postal/ZIP code",value:l.postal_code||"",onChange:k,style:{width:"100%",padding:"0.5rem"}})]}),(0,s.jsxs)("div",{style:{padding:"1rem",backgroundColor:"#fff3cd",borderRadius:"4px",gridColumn:"1 / -1"},children:[(0,s.jsx)("h4",{children:"\ud83c\udf0d Location Coordinates"}),(0,s.jsxs)("div",{style:{display:"grid",gap:"1rem",gridTemplateColumns:"1fr 1fr"},children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{children:"Latitude:"}),(0,s.jsx)("input",{name:"latitude",type:"number",step:"any",placeholder:"e.g., -1.2921",value:l.latitude||"",onChange:k,style:{width:"100%",padding:"0.5rem"},title:"Latitude must be between -90 and 90"}),(0,s.jsx)("small",{style:{color:"#666"},children:"Range: -90 to 90"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{children:"Longitude:"}),(0,s.jsx)("input",{name:"longitude",type:"number",step:"any",placeholder:"e.g., 36.8219",value:l.longitude||"",onChange:k,style:{width:"100%",padding:"0.5rem"},title:"Longitude must be between -180 and 180"}),(0,s.jsx)("small",{style:{color:"#666"},children:"Range: -180 to 180"})]})]})]}),(0,s.jsxs)("div",{style:{padding:"1rem",backgroundColor:"#e8f4fd",borderRadius:"4px",gridColumn:"1 / -1"},children:[(0,s.jsx)("h4",{children:"\ud83d\udce7 EmailJS Configuration"}),(0,s.jsxs)("div",{style:{display:"grid",gap:"1rem",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))"},children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{children:"Service ID:"}),(0,s.jsx)("input",{name:"service_id",placeholder:"your_service_id",value:l.service_id||"",onChange:k,style:{width:"100%",padding:"0.5rem"}})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{children:"Template ID:"}),(0,s.jsx)("input",{name:"template_id",placeholder:"your_template_id",value:l.template_id||"",onChange:k,style:{width:"100%",padding:"0.5rem"}})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{children:"Public Key:"}),(0,s.jsx)("input",{name:"public_key",placeholder:"your_public_key",value:l.public_key||"",onChange:k,style:{width:"100%",padding:"0.5rem"}})]})]})]}),(0,s.jsxs)("div",{style:{gridColumn:"1 / -1"},children:[(0,s.jsx)("label",{children:"Physical Address:"}),(0,s.jsx)("textarea",{name:"physical_address",placeholder:"Physical address for this country",value:l.physical_address||"",onChange:k,rows:3,style:{width:"100%",padding:"0.5rem"}})]}),(0,s.jsxs)("div",{style:{gridColumn:"1 / -1"},children:[(0,s.jsx)("label",{children:"Mailing Address:"}),(0,s.jsx)("textarea",{name:"mailing_address",placeholder:"Mailing address for this country",value:l.mailing_address||"",onChange:k,rows:3,style:{width:"100%",padding:"0.5rem"}})]}),(0,s.jsxs)("div",{style:{display:"flex",gap:"1rem",gridColumn:"1 / -1"},children:[(0,s.jsxs)("button",{onClick:async()=>{A();const e=(()=>{const e=[];if(l.country||e.push("Country is required"),l.email&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(l.email)&&e.push("Invalid email format"),l.phone&&!/^[\+]?[0-9\s\-\(\)]{7,}$/.test(l.phone)&&e.push("Invalid phone format"),l.latitude&&""!==l.latitude.trim()){const n=parseFloat(l.latitude);(isNaN(n)||n<-90||n>90)&&e.push("Latitude must be a number between -90 and 90")}if(l.longitude&&""!==l.longitude.trim()){const n=parseFloat(l.longitude);(isNaN(n)||n<-180||n>180)&&e.push("Longitude must be a number between -180 and 180")}return e})();if(e.length>0)b("\u274c Validation failed: ".concat(e.join(", ")));else{h(!0);try{const e="edit"===d?"PUT":"POST",n="".concat(Xi,"/country-contacts/").concat(encodeURIComponent(l.country)),t=await fetch(n,{method:e,headers:{"Content-Type":"application/json"},body:JSON.stringify(l)}),a=await t.json();if(!t.ok)throw new Error(a.message||"Failed to ".concat(d," contact"));u("\u2705 Successfully ".concat("edit"===d?"updated":"added"," configuration for ").concat(l.country)),p("view"),c({country:"",email:"",phone:"",service_id:"",template_id:"",public_key:"",physical_address:"",mailing_address:"",postal_code:"",state_province:"",city:"",latitude:"",longitude:""}),o(null),await w()}catch(n){console.error("Save error:",n),b("\u274c Failed to save changes: ".concat(n.message))}finally{h(!1)}}},disabled:g,style:{padding:"0.5rem 1rem",backgroundColor:"#007bff",color:"white",border:"none",borderRadius:"4px",cursor:g?"not-allowed":"pointer"},children:["\ud83d\udcbe ",g?"Saving...":"Save"]}),(0,s.jsx)("button",{onClick:()=>{p("view"),c({country:"",email:"",phone:"",service_id:"",template_id:"",public_key:"",physical_address:"",mailing_address:"",postal_code:"",state_province:"",city:"",latitude:"",longitude:""}),o(null),A()},disabled:g,style:{padding:"0.5rem 1rem",backgroundColor:"#6c757d",color:"white",border:"none",borderRadius:"4px",cursor:g?"not-allowed":"pointer"},children:"\u274c Cancel"})]})]})]}),"view"===d&&(0,s.jsxs)("div",{children:[(0,s.jsx)("button",{onClick:()=>{A(),p("add"),c({country:"",email:"",phone:"",service_id:"",template_id:"",public_key:"",physical_address:"",mailing_address:"",postal_code:"",state_province:"",city:"",latitude:"",longitude:""}),o(null)},style:{marginBottom:"1rem",padding:"0.5rem 1rem",backgroundColor:"#28a745",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:"\u2795 Add New Configuration"}),(0,s.jsx)("div",{style:{overflowX:"auto"},children:(0,s.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse",border:"1px solid #ddd"},children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{style:{backgroundColor:"#f8f9fa"},children:[(0,s.jsx)("th",{style:{padding:"0.75rem",border:"1px solid #ddd"},children:"Country"}),(0,s.jsx)("th",{style:{padding:"0.75rem",border:"1px solid #ddd"},children:"Email"}),(0,s.jsx)("th",{style:{padding:"0.75rem",border:"1px solid #ddd"},children:"Phone"}),(0,s.jsx)("th",{style:{padding:"0.75rem",border:"1px solid #ddd"},children:"Location"}),(0,s.jsx)("th",{style:{padding:"0.75rem",border:"1px solid #ddd"},children:"EmailJS Status"}),(0,s.jsx)("th",{style:{padding:"0.75rem",border:"1px solid #ddd"},children:"Actions"})]})}),(0,s.jsx)("tbody",{children:e.map(e=>{const n=S(e.name);return(0,s.jsxs)("tr",{style:{borderBottom:"1px solid #ddd"},children:[(0,s.jsx)("td",{style:{padding:"0.75rem",border:"1px solid #ddd"},children:(0,s.jsx)("strong",{children:e.name})}),(0,s.jsx)("td",{style:{padding:"0.75rem",border:"1px solid #ddd"},children:(null===n||void 0===n?void 0:n.email)||"\u2014"}),(0,s.jsx)("td",{style:{padding:"0.75rem",border:"1px solid #ddd"},children:(null===n||void 0===n?void 0:n.phone)||"\u2014"}),(0,s.jsx)("td",{style:{padding:"0.75rem",border:"1px solid #ddd"},children:n?(0,s.jsxs)("span",{children:[N(n.country)," ",n.latitude&&n.longitude?"".concat(parseFloat(n.latitude).toFixed(4),", ").concat(parseFloat(n.longitude).toFixed(4)):"No coordinates"]}):"\u2014"}),(0,s.jsx)("td",{style:{padding:"0.75rem",border:"1px solid #ddd"},children:n?(0,s.jsxs)("span",{children:[C(n.country)," ",z(n.country)]}):"\u2014"}),(0,s.jsx)("td",{style:{padding:"0.75rem",border:"1px solid #ddd"},children:n?(0,s.jsxs)("div",{style:{display:"flex",gap:"0.5rem",flexWrap:"wrap"},children:[(0,s.jsx)("button",{onClick:()=>(e=>{A(),c((0,m.A)({},e)),o(e.country),p("edit")})(n),style:{padding:"0.25rem 0.5rem",backgroundColor:"#ffc107",color:"black",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"0.875rem"},children:"\u270f\ufe0f Edit"}),(0,s.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete the contact configuration for ".concat(e,"?"))){A(),h(!0);try{const n=await fetch("".concat(Xi,"/country-contacts/").concat(encodeURIComponent(e)),{method:"DELETE"}),t=await n.json();if(!n.ok)throw new Error(t.message||"Failed to delete contact");u("\ud83d\uddd1 Successfully deleted configuration for ".concat(e)),await w()}catch(n){console.error("Delete error:",n),b("\u274c Failed to delete ".concat(e,": ").concat(n.message))}finally{h(!1)}}})(n.country),style:{padding:"0.25rem 0.5rem",backgroundColor:"#dc3545",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"0.875rem"},children:"\ud83d\uddd1\ufe0f Delete"})]}):(0,s.jsx)("button",{onClick:()=>{return n=e.name,A(),p("add"),c((0,m.A)((0,m.A)({},{country:"",email:"",phone:"",service_id:"",template_id:"",public_key:"",physical_address:"",mailing_address:"",postal_code:"",state_province:"",city:"",latitude:"",longitude:""}),{},{country:n})),void o(n);var n},style:{padding:"0.25rem 0.5rem",backgroundColor:"#28a745",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"0.875rem"},children:"\u2795 Add"})})]},e.name)})})]})}),0===e.length&&!g&&(0,s.jsx)("p",{style:{textAlign:"center",color:"#6c757d",marginTop:"2rem"},children:"No countries available. Please check your countries endpoint."})]})]})};var $i=t(1773),Qi=t(2672),es=t(3683);const ns=Ge,ts=()=>{const{user:e}=c(),[n,t]=(0,i.useState)([]),[a,r]=(0,i.useState)(""),[o,l]=(0,i.useState)(""),[d,p]=(0,i.useState)(""),[m,x]=(0,i.useState)(null),[u,g]=(0,i.useState)(""),h=async()=>{try{const e=await fetch("".concat(ns,"/categories")),n=await e.json();if(console.log("\u2705 Categories fetched:",n),!e.ok)throw new Error(n.message||"Failed to load categories");t(Array.isArray(n)?n:[])}catch(e){console.error("\u274c Fetch error:",e),l("Failed to fetch categories.")}},f=()=>{l(""),p("")};return(0,i.useEffect)(()=>{h()},[]),e&&"admin"===e.role?(0,s.jsxs)(N.A,{sx:{maxWidth:600,mx:"auto",mt:4,p:2},children:[(0,s.jsx)(_.A,{variant:"h4",gutterBottom:!0,children:"\ud83d\uddc2\ufe0f Manage Focus Areas"}),o&&(0,s.jsx)(_.A,{color:"error",sx:{mb:2},children:o}),d&&(0,s.jsx)(_.A,{color:"success.main",sx:{mb:2},children:d}),(0,s.jsxs)(N.A,{sx:{display:"flex",gap:2,mb:2},children:[(0,s.jsx)(Bn.A,{label:"New Focus Area",value:a,onChange:e=>r(e.target.value),fullWidth:!0}),(0,s.jsx)(E.A,{variant:"contained",onClick:async()=>{f();const e=a.trim();if(!e)return l("Focus Area name required.");if(n.find(n=>n.name.toLowerCase()===e.toLowerCase()))return l("Focus Area already exists.");try{const n=await fetch("".concat(ns,"/categories"),{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({name:e})}),t=await n.json();if(!n.ok)throw new Error(t.message||"Error adding Focus Area");p("\u2705 Focus Area added successfully."),r(""),h()}catch(t){console.error("\u274c Add error:",t),l(t.message)}},children:"Add"})]}),(0,s.jsx)(bo.A,{sx:{mb:2}}),(0,s.jsx)(Mi.A,{children:n.map(e=>(0,s.jsx)(Hi.Ay,{sx:{gap:1},children:m===e.id?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(Bn.A,{value:u,onChange:e=>g(e.target.value),fullWidth:!0}),(0,s.jsx)(de.A,{onClick:()=>(async e=>{f();const t=u.trim();if(!t)return l("Updated name cannot be empty.");if(n.find(n=>n.name.toLowerCase()===t.toLowerCase()&&n.id!==e))return l("Another Focus Area with this name already exists.");try{const n=await fetch("".concat(ns,"/categories/").concat(e),{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({name:t})}),a=await n.json();if(!n.ok)throw new Error(a.message||"Error updating");p("\u270f\ufe0f Focus Area updated."),x(null),h()}catch(a){console.error("\u274c Update error:",a),l(a.message)}})(e.id),children:(0,s.jsx)(Qi.A,{})}),(0,s.jsx)(de.A,{onClick:()=>x(null),children:(0,s.jsx)(es.A,{})})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(qi.A,{primary:e.name}),(0,s.jsx)(de.A,{onClick:()=>{x(e.id),g(e.name)},children:(0,s.jsx)($i.A,{})}),(0,s.jsx)(de.A,{onClick:()=>(async e=>{f();try{const n=await fetch("".concat(ns,"/categories/").concat(e),{method:"DELETE",credentials:"include"}),t=await n.json();if(!n.ok)throw new Error(t.message||"Error deleting");p("\ud83d\uddd1\ufe0f Focus Area deleted."),h()}catch(n){console.error("\u274c Delete error:",n),l(n.message)}})(e.id),children:(0,s.jsx)(Gi.A,{})})]})},e.id))})]}):(0,s.jsx)(_.A,{variant:"h6",color:"error",children:"Access Denied"})};var as=t(8259),rs=t(7443),os=t(756),is=t(6172),ss=t(1341),ls=t(4375),cs=t(9090),ds=t(8776),ps=t(1725),ms=t(5030),xs=t(6659),us=t(2950),gs=t(847),hs=t(8916),fs=t(7421),bs=t(923);const ys=()=>{const[e,n]=(0,i.useState)([]),[t,a]=(0,i.useState)([]),[r,o]=(0,i.useState)(!1),[l,c]=(0,i.useState)(!0),[d,p]=(0,i.useState)(""),[m,x]=(0,i.useState)(""),[u,g]=(0,i.useState)(""),[h,f]=(0,i.useState)(""),[b,y]=(0,i.useState)(0),[j,v]=(0,i.useState)(10),[w,A]=(0,i.useState)(!1),[k,S]=(0,i.useState)(""),[C,z]=(0,i.useState)(null),[T,W]=(0,i.useState)("partner"),[F,P]=(0,i.useState)(!1),[R,B]=(0,i.useState)(!1),[D,L]=(0,i.useState)(!1),[M,H]=(0,i.useState)(""),[q,O]=(0,i.useState)(!1),[U,Y]=(0,i.useState)(null),[G,V]=(0,i.useState)(""),[J,K]=(0,i.useState)("partner"),[X,Z]=(0,i.useState)(!1),[$,Q]=(0,i.useState)(null),[ee,ne]=(0,i.useState)(""),te=(0,i.useCallback)(async()=>{try{c(!0);const e=(await cn.A.get("".concat(Ge,"/partners"),{withCredentials:!0})).data.sort((e,n)=>e.featured&&!n.featured?-1:!e.featured&&n.featured?1:e.name.localeCompare(n.name));n(e),p("")}catch(e){console.error("Error fetching partners:",e),p("Failed to load partners"),n([])}finally{c(!1)}},[]);(0,i.useEffect)(()=>{te()},[te]),(0,i.useEffect)(()=>{let n=e;m&&(n=n.filter(e=>e.name.toLowerCase().includes(m.toLowerCase()))),u&&(n=n.filter(e=>(e.type||"partner").toLowerCase()===u)),h&&("featured"===h?n=n.filter(e=>e.featured):"not-featured"===h&&(n=n.filter(e=>!e.featured))),n=n.sort((e,n)=>e.featured&&!n.featured?-1:!e.featured&&n.featured?1:e.name.localeCompare(n.name)),a(n),y(0)},[e,m,u,h]);[...new Set(e.map(e=>e.type||"partner"))].filter(Boolean);const ae=()=>{x(""),g(""),f("")},re=()=>{S(""),z(null),W("partner"),P(!1),H(""),L(!1);const e=document.querySelector('input[type="file"]');e&&(e.value="")},oe=()=>{A(!1),re()},ie=async e=>{if(e.preventDefault(),!k||!C||!T)return void H("All fields are required");const n=new FormData;n.append("name",k.trim()),n.append("logo",C),n.append("type",T.toLowerCase()),n.append("featured",F),B(!0),H(""),L(!1);try{await cn.A.post("".concat(Ge,"/partners"),n,{withCredentials:!0,headers:{"Content-Type":"multipart/form-data"}}),L(!0),te(),setTimeout(()=>{oe()},2e3)}catch(o){var t,a,r;console.error("Error uploading partner:",o),413===(null===(t=o.response)||void 0===t?void 0:t.status)?H("File too large. Please choose a smaller image."):null!==(a=o.response)&&void 0!==a&&null!==(r=a.data)&&void 0!==r&&r.message?H("Failed to add partner: ".concat(o.response.data.message)):H("Failed to add partner. Please try again.")}finally{B(!1)}},se=()=>{O(!1),Y(null),V(""),K("partner"),Z(!1),Q(null),ne(""),H(""),L(!1)},le=t.slice(b*j,b*j+j),ce=e=>({partner:"primary",accreditator:"secondary",both:"success"}[null===e||void 0===e?void 0:e.toLowerCase()]||"default"),pe=e=>({partner:"Partner",accreditator:"Accreditator",both:"Both"}[null===e||void 0===e?void 0:e.toLowerCase()]||"Partner");return l?(0,s.jsx)(N.A,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:400},children:(0,s.jsx)(On.A,{size:60})}):(0,s.jsxs)(N.A,{sx:{p:3,position:"relative"},children:[(0,s.jsxs)(N.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3},children:[(0,s.jsxs)(_.A,{variant:"h4",gutterBottom:!0,children:["Partners Management (",e.length," total, ",t.length," shown)"]}),(0,s.jsx)(E.A,{variant:"contained",color:"primary",startIcon:(0,s.jsx)(us.A,{}),onClick:()=>{re(),A(!0)},size:"large",children:"Add Partner"})]}),d&&(0,s.jsx)(I.A,{severity:"error",sx:{mb:3},children:d}),(0,s.jsxs)(Rn.A,{elevation:1,sx:{p:3,mb:3},children:[(0,s.jsxs)(_.A,{variant:"h6",sx:{mb:2,display:"flex",alignItems:"center",gap:1},children:[(0,s.jsx)(gs.A,{})," Search & Filters"]}),(0,s.jsxs)(Un.A,{container:!0,spacing:2,alignItems:"center",children:[(0,s.jsx)(Un.A,{item:!0,xs:12,md:4,children:(0,s.jsx)(Bn.A,{fullWidth:!0,label:"Search partners",value:m,onChange:e=>x(e.target.value),placeholder:"Search by name...",InputProps:{startAdornment:(0,s.jsx)(Dn.A,{position:"start",children:(0,s.jsx)($n.A,{})}),endAdornment:m&&(0,s.jsx)(Dn.A,{position:"end",children:(0,s.jsx)(de.A,{onClick:()=>x(""),size:"small",children:(0,s.jsx)(hs.A,{})})})}})}),(0,s.jsx)(Un.A,{item:!0,xs:12,md:3,children:(0,s.jsxs)(Ln.A,{fullWidth:!0,children:[(0,s.jsx)(Mn.A,{children:"Filter by Type"}),(0,s.jsxs)(Hn.A,{value:u,onChange:e=>g(e.target.value),label:"Filter by Type",children:[(0,s.jsx)(qn.A,{value:"",children:"All Types"}),(0,s.jsx)(qn.A,{value:"partner",children:"Partner"}),(0,s.jsx)(qn.A,{value:"accreditator",children:"Accreditator"}),(0,s.jsx)(qn.A,{value:"both",children:"Both"})]})]})}),(0,s.jsx)(Un.A,{item:!0,xs:12,md:3,children:(0,s.jsxs)(Ln.A,{fullWidth:!0,children:[(0,s.jsx)(Mn.A,{children:"Filter by Status"}),(0,s.jsxs)(Hn.A,{value:h,onChange:e=>f(e.target.value),label:"Filter by Status",children:[(0,s.jsx)(qn.A,{value:"",children:"All Status"}),(0,s.jsx)(qn.A,{value:"featured",children:"Featured Only"}),(0,s.jsx)(qn.A,{value:"not-featured",children:"Not Featured"})]})]})}),(0,s.jsx)(Un.A,{item:!0,xs:12,md:2,children:(0,s.jsx)(E.A,{fullWidth:!0,variant:"outlined",onClick:ae,startIcon:(0,s.jsx)(hs.A,{}),disabled:!m&&!u&&!h,children:"Clear Filters"})})]}),(m||u||h)&&(0,s.jsxs)(N.A,{sx:{mt:2},children:[(0,s.jsx)(_.A,{variant:"body2",color:"text.secondary",sx:{mb:1},children:"Active filters:"}),(0,s.jsxs)(Pn.A,{direction:"row",spacing:1,flexWrap:"wrap",children:[m&&(0,s.jsx)(it.A,{label:'Search: "'.concat(m,'"'),onDelete:()=>x(""),size:"small",color:"primary"}),u&&(0,s.jsx)(it.A,{label:"Type: ".concat(pe(u)),onDelete:()=>g(""),size:"small",color:"secondary"}),h&&(0,s.jsx)(it.A,{label:"Status: ".concat("featured"===h?"Featured":"Not Featured"),onDelete:()=>f(""),size:"small",color:"success"})]})]})]}),0===t.length?(0,s.jsxs)(N.A,{sx:{textAlign:"center",py:8},children:[(0,s.jsx)(bs.A,{sx:{fontSize:80,color:"text.secondary",mb:2}}),(0,s.jsx)(_.A,{variant:"h6",color:"text.secondary",gutterBottom:!0,children:0===e.length?"No partners found":"No partners match your filters"}),(0,s.jsx)(_.A,{variant:"body2",color:"text.secondary",sx:{mb:3},children:0===e.length?'Click the "Add Partner" button to get started':"Try adjusting your search or filter criteria"}),(m||u||h)&&(0,s.jsx)(E.A,{variant:"outlined",onClick:ae,children:"Clear All Filters"})]}):(0,s.jsxs)(Rn.A,{elevation:1,children:[(0,s.jsx)(as.A,{children:(0,s.jsxs)(rs.A,{children:[(0,s.jsx)(os.A,{children:(0,s.jsxs)(is.A,{sx:{backgroundColor:"#f5f5f5"},children:[(0,s.jsx)(ss.A,{sx:{fontWeight:600,minWidth:200},children:"Partner"}),(0,s.jsx)(ss.A,{sx:{fontWeight:600,minWidth:120},children:"Type"}),(0,s.jsx)(ss.A,{sx:{fontWeight:600,minWidth:100,textAlign:"center"},children:"Featured"}),(0,s.jsx)(ss.A,{sx:{fontWeight:600,minWidth:150},children:"Logo"}),(0,s.jsx)(ss.A,{sx:{fontWeight:600,minWidth:120,textAlign:"center"},children:"Actions"})]})}),(0,s.jsx)(ls.A,{children:le.map(e=>(0,s.jsxs)(is.A,{sx:{"&:hover":{backgroundColor:"#f9f9f9"},"&:last-child td, &:last-child th":{border:0}},children:[(0,s.jsx)(ss.A,{children:(0,s.jsx)(_.A,{variant:"subtitle1",sx:{fontWeight:600},children:e.name})}),(0,s.jsx)(ss.A,{children:(0,s.jsx)(it.A,{label:pe(e.type),color:ce(e.type),size:"small",sx:{fontWeight:500}})}),(0,s.jsx)(ss.A,{align:"center",children:(0,s.jsx)(de.A,{onClick:()=>(async(e,n)=>{try{await cn.A.put("".concat(Ge,"/partners/").concat(e,"/featured"),{featured:!n},{withCredentials:!0,headers:{"Content-Type":"application/json"}}),te()}catch(t){console.error("Failed to update featured status:",t),p("Could not update featured status.")}})(e.id,e.featured),color:e.featured?"primary":"default",size:"small",title:e.featured?"Remove from featured":"Mark as featured",disabled:r,children:e.featured?(0,s.jsx)(Zn.A,{}):(0,s.jsx)(xs.A,{})})}),(0,s.jsx)(ss.A,{children:(0,s.jsx)(jo.A,{src:"".concat(Ve,"/uploads/partners/").concat(e.logo),alt:e.name,variant:"rounded",sx:{width:60,height:40,backgroundColor:"#f5f5f5","& img":{objectFit:"contain"}},children:(0,s.jsx)(bs.A,{})})}),(0,s.jsx)(ss.A,{children:(0,s.jsxs)(N.A,{sx:{display:"flex",justifyContent:"center",gap:1},children:[(0,s.jsx)(de.A,{onClick:()=>(e=>{Y(e),V(e.name),K(e.type||"partner"),Z(e.featured||!1),Q(null),ne(e.logo),H(""),L(!1),O(!0)})(e),color:"info",size:"small",sx:{"&:hover":{backgroundColor:"info.light",color:"white"}},children:(0,s.jsx)($i.A,{})}),(0,s.jsx)(de.A,{onClick:()=>(async e=>{if(window.confirm("Delete this partner?"))try{await cn.A.delete("".concat(Ge,"/partners/").concat(e),{withCredentials:!0}),te()}catch(n){console.error("Error deleting partner:",n),p("Failed to delete partner")}})(e.id),color:"error",size:"small",sx:{"&:hover":{backgroundColor:"error.light",color:"white"}},children:(0,s.jsx)(Gi.A,{})})]})})]},e.id))})]})}),(0,s.jsx)(cs.A,{rowsPerPageOptions:[5,10,25,50],component:"div",count:t.length,rowsPerPage:j,page:b,onPageChange:(e,n)=>{y(n)},onRowsPerPageChange:e=>{v(parseInt(e.target.value,10)),y(0)},sx:{borderTop:"1px solid #e0e0e0"}})]}),(0,s.jsxs)(Oi.A,{open:w,onClose:oe,maxWidth:"md",fullWidth:!0,PaperProps:{sx:{maxHeight:"95vh",m:2}},children:[(0,s.jsxs)(Ui.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",pb:2,borderBottom:"1px solid #e0e0e0"},children:[(0,s.jsx)(_.A,{variant:"h6",children:"Add New Partner"}),(0,s.jsx)(de.A,{onClick:oe,size:"small",children:(0,s.jsx)(fs.A,{})})]}),(0,s.jsxs)(ds.A,{sx:{p:3},children:[D&&(0,s.jsx)(I.A,{severity:"success",sx:{mb:3},children:"Partner added successfully! Closing..."}),M&&(0,s.jsx)(I.A,{severity:"error",sx:{mb:3},children:M}),(0,s.jsx)(N.A,{component:"form",onSubmit:ie,children:(0,s.jsxs)(Un.A,{container:!0,spacing:3,children:[(0,s.jsx)(Un.A,{item:!0,xs:12,children:(0,s.jsx)(Bn.A,{label:"Partner Name",value:k,onChange:e=>S(e.target.value),fullWidth:!0,required:!0,disabled:R||D,sx:{mb:2}})}),(0,s.jsx)(Un.A,{item:!0,xs:12,md:6,children:(0,s.jsxs)(Ln.A,{fullWidth:!0,required:!0,sx:{mb:2},children:[(0,s.jsx)(Mn.A,{children:"Type"}),(0,s.jsxs)(Hn.A,{value:T,onChange:e=>W(e.target.value),label:"Type",disabled:R||D,children:[(0,s.jsx)(qn.A,{value:"partner",children:"Partner"}),(0,s.jsx)(qn.A,{value:"accreditator",children:"Accreditator"}),(0,s.jsx)(qn.A,{value:"both",children:"Both"})]})]})}),(0,s.jsx)(Un.A,{item:!0,xs:12,md:6,children:(0,s.jsx)(ps.A,{control:(0,s.jsx)(ms.A,{checked:F,onChange:e=>P(e.target.checked),color:"primary",disabled:R||D}),label:"Featured Partner",sx:{mb:2}})}),(0,s.jsx)(Un.A,{item:!0,xs:12,children:(0,s.jsxs)(Rn.A,{variant:"outlined",sx:{p:3},children:[(0,s.jsxs)(_.A,{variant:"subtitle1",gutterBottom:!0,sx:{fontWeight:600},children:["Partner Logo ",(0,s.jsx)("span",{style:{color:"red"},children:"*"})]}),(0,s.jsx)("input",{type:"file",accept:"image/*",onChange:e=>z(e.target.files[0]),required:!0,disabled:R||D,style:{padding:"12px",border:"2px dashed #e0e0e0",borderRadius:"8px",width:"100%",backgroundColor:"#fafafa"}}),(0,s.jsx)(_.A,{variant:"caption",color:"text.secondary",sx:{mt:2,display:"block"},children:"Recommended: PNG or SVG format, transparent background, maximum 2MB"})]})})]})})]}),(0,s.jsxs)(Yi.A,{sx:{p:3,borderTop:"1px solid #e0e0e0",gap:2},children:[(0,s.jsx)(E.A,{onClick:oe,disabled:R,variant:"outlined",size:"large",children:"Cancel"}),(0,s.jsx)(E.A,{onClick:ie,variant:"contained",disabled:R||D,size:"large",children:R?"Adding...":"Add Partner"})]})]}),(0,s.jsxs)(Oi.A,{open:q,onClose:se,maxWidth:"md",fullWidth:!0,PaperProps:{sx:{maxHeight:"95vh",m:2}},children:[(0,s.jsxs)(Ui.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",pb:2,borderBottom:"1px solid #e0e0e0"},children:[(0,s.jsx)(_.A,{variant:"h6",children:"Edit Partner"}),(0,s.jsx)(de.A,{onClick:se,size:"small",children:(0,s.jsx)(fs.A,{})})]}),(0,s.jsxs)(ds.A,{sx:{p:3},children:[D&&(0,s.jsx)(I.A,{severity:"success",sx:{mb:3},children:"Partner updated successfully! Closing..."}),M&&(0,s.jsx)(I.A,{severity:"error",sx:{mb:3},children:M}),(0,s.jsxs)(Un.A,{container:!0,spacing:3,children:[(0,s.jsx)(Un.A,{item:!0,xs:12,children:(0,s.jsx)(Bn.A,{label:"Partner Name",value:G,onChange:e=>V(e.target.value),required:!0,fullWidth:!0,disabled:R||D,sx:{mb:2}})}),(0,s.jsx)(Un.A,{item:!0,xs:12,md:6,children:(0,s.jsxs)(Ln.A,{fullWidth:!0,disabled:R||D,sx:{mb:2},children:[(0,s.jsx)(Mn.A,{children:"Type"}),(0,s.jsxs)(Hn.A,{value:J,label:"Type",onChange:e=>K(e.target.value),children:[(0,s.jsx)(qn.A,{value:"partner",children:"Partner"}),(0,s.jsx)(qn.A,{value:"accreditator",children:"Accreditator"}),(0,s.jsx)(qn.A,{value:"both",children:"Both"})]})]})}),(0,s.jsx)(Un.A,{item:!0,xs:12,md:6,children:(0,s.jsx)(ps.A,{control:(0,s.jsx)(ms.A,{checked:X,onChange:e=>Z(e.target.checked),color:"primary",disabled:R||D}),label:"Featured Partner",sx:{mb:2}})}),(0,s.jsx)(Un.A,{item:!0,xs:12,children:(0,s.jsxs)(Rn.A,{variant:"outlined",sx:{p:3},children:[(0,s.jsx)(_.A,{variant:"subtitle1",gutterBottom:!0,sx:{fontWeight:600},children:"Update Logo"}),U&&ee&&(0,s.jsxs)(N.A,{sx:{mb:3},children:[(0,s.jsx)(_.A,{variant:"body2",color:"text.secondary",sx:{mb:1},children:"Current logo:"}),(0,s.jsx)("img",{src:"".concat(Ve,"/uploads/partners/").concat(ee),alt:"Current logo",style:{maxWidth:"200px",maxHeight:"100px",objectFit:"contain",border:"1px solid #e0e0e0",borderRadius:"4px",padding:"8px",backgroundColor:"#fafafa"}})]}),(0,s.jsx)("input",{type:"file",accept:"image/*",onChange:e=>Q(e.target.files[0]),disabled:R||D,style:{padding:"12px",border:"2px dashed #e0e0e0",borderRadius:"8px",width:"100%",backgroundColor:"#fafafa"}}),(0,s.jsx)(_.A,{variant:"caption",color:"text.secondary",sx:{mt:2,display:"block"},children:"Leave empty to keep current logo. Upload new image to replace."})]})})]})]}),(0,s.jsxs)(Yi.A,{sx:{p:3,borderTop:"1px solid #e0e0e0",gap:2},children:[(0,s.jsx)(E.A,{onClick:se,disabled:R,variant:"outlined",size:"large",children:"Cancel"}),(0,s.jsx)(E.A,{onClick:async()=>{if(G.trim()){B(!0),H(""),L(!1);try{const e=new FormData;e.append("name",G.trim()),e.append("type",J.toLowerCase()),e.append("featured",X),$&&e.append("logo",$),await cn.A.put("".concat(Ge,"/partners/").concat(U.id),e,{withCredentials:!0,headers:{"Content-Type":"multipart/form-data"}}),L(!0),te(),setTimeout(()=>{se()},2e3)}catch(t){var e,n;console.error("Error updating partner:",t),H("Failed to update partner: ".concat((null===(e=t.response)||void 0===e||null===(n=e.data)||void 0===n?void 0:n.message)||t.message))}finally{B(!1)}}else H("Name is required")},variant:"contained",disabled:R||D,size:"large",children:R?"Updating...":"Update Partner"})]})]})]})};var js=t(4333),vs=t(2843),ws=t(1202),As=t(9200),ks=t(3435),Ss=t(160),Cs=t(7002);const zs=()=>{var e,n;const[t,a]=(0,i.useState)(0),[r,o]=(0,i.useState)([]),[l,c]=(0,i.useState)([]),[d,p]=(0,i.useState)(!0),[x,u]=(0,i.useState)(""),[g,h]=(0,i.useState)({open:!1,member:null}),[f,b]=(0,i.useState)([]),[y,j]=(0,i.useState)([]),[v,w]=(0,i.useState)(!1),[A,k]=(0,i.useState)({open:!1,mode:"add",department:null}),[S,C]=(0,i.useState)({open:!1,department:null}),[z,T]=(0,i.useState)(""),[W,F]=(0,i.useState)(""),[P,R]=(0,i.useState)(""),[B,D]=(0,i.useState)({type:"",text:""}),[L,M]=(0,i.useState)(0),[H,q]=(0,i.useState)(10),[O,U]=(0,i.useState)(!1),[Y,G]=(0,i.useState)(!1),[V,J]=(0,i.useState)(null),[K,X]=(0,i.useState)(""),[Z,$]=(0,i.useState)(""),[Q,ee]=(0,i.useState)(""),[ne,te]=(0,i.useState)(""),[ae,re]=(0,i.useState)(""),[oe,ie]=(0,i.useState)(""),[se,le]=(0,i.useState)(null),[ce,pe]=(0,i.useState)(null),[me,xe]=(0,i.useState)(""),[ue,ge]=(0,i.useState)(!1),[he,fe]=(0,i.useState)(!1),[be,ye]=(0,i.useState)(""),[je,ve]=(0,i.useState)(!1),[we,Ae]=(0,i.useState)(""),[ke,Se]=(0,i.useState)(""),[Ce,ze]=(0,i.useState)(0),[Ne,_e]=(0,i.useState)(!1),[Ie,Ee]=(0,i.useState)(""),Te=(0,i.useCallback)(async()=>{try{p(!0);const e=(await cn.A.get("".concat(Ge,"/team"),{withCredentials:!0})).data;Array.isArray(e)?o(e):Array.isArray(e.members)?o(e.members):Array.isArray(e.data)?o(e.data):(console.warn("Unexpected team response:",e),o([])),u("")}catch(e){console.error("Error fetching team:",e),u("Failed to load team members"),o([])}finally{p(!1)}},[]),We=(0,i.useCallback)(async()=>{try{w(!0);const e=await cn.A.get("".concat(Ge,"/team/departments"),{withCredentials:!0});j(e.data.data||[])}catch(e){console.error("Error fetching departments:",e),j([])}finally{w(!1)}},[]);(0,i.useEffect)(()=>{Te(),Fe(),We()},[Te,We]),(0,i.useEffect)(()=>{let e=r;z&&(e=e.filter(e=>{var n,t;return e.name.toLowerCase().includes(z.toLowerCase())||e.position.toLowerCase().includes(z.toLowerCase())||(null===(n=e.email)||void 0===n?void 0:n.toLowerCase().includes(z.toLowerCase()))||(null===(t=e.bio)||void 0===t?void 0:t.toLowerCase().includes(z.toLowerCase()))})),W&&(e=e.filter(e=>e.department===W)),P&&(e=e.filter(e=>e.country===P)),c(e),M(0)},[r,z,W,P]);const Fe=async()=>{try{const{data:e}=await cn.A.get("".concat(Ge,"/countries"));b(e)}catch(x){console.error("Error fetching countries:",x),function(e,n){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5e3;D({type:e,text:n}),setTimeout(()=>D({type:"",text:""}),t)}("error","Failed to fetch countries. Please try again.")}},Pe=[...new Set(r.map(e=>e.department))].filter(Boolean),Re=()=>{T(""),F(""),R("")},Be=async e=>{if(e.preventDefault(),we.trim()){_e(!0),Ee("");try{const e={name:we.trim(),description:ke.trim(),order_index:parseInt(Ce)||0};"edit"===A.mode?await cn.A.put("".concat(Ge,"/team/departments/").concat(A.department.id),e,{withCredentials:!0}):await cn.A.post("".concat(Ge,"/team/departments"),e,{withCredentials:!0}),We(),k({open:!1,mode:"add",department:null})}catch(a){var n,t;console.error("Error saving department:",a),Ee((null===(n=a.response)||void 0===n||null===(t=n.data)||void 0===t?void 0:t.message)||"Failed to save department")}finally{_e(!1)}}else Ee("Department name is required")},De=()=>{h({open:!1,member:null})},Le=()=>{X(""),$(""),ee(""),te(""),re(""),ie(""),le(null),pe(null),xe(""),ye(""),fe(!1),G(!1),J(null)},Me=()=>{U(!1),Le()},He=async e=>{if(e.preventDefault(),!K||!Q||!Z||!ne)return void ye("Name, department, position, and bio are required.");if(!Y&&!ce)return void ye("Photo is required when adding a new member.");const n=new FormData;n.append("name",K),n.append("department",Z),n.append("position",Q),n.append("bio",ne),n.append("email",ae),n.append("linkedin_url",oe),se&&n.append("country",se.name),ce&&n.append("image",ce),ge(!0),ye(""),fe(!1);try{let e;e=Y&&V?await cn.A.put("".concat(Ge,"/team/").concat(V.id),n,{withCredentials:!0,headers:{"Content-Type":"multipart/form-data"}}):await cn.A.post("".concat(Ge,"/team"),n,{withCredentials:!0,headers:{"Content-Type":"multipart/form-data"}}),fe(!0),Te(),setTimeout(()=>{Me()},2e3)}catch(r){var t,a;console.error("Error ".concat(Y?"updating":"adding"," team member:"),r),ye((null===(t=r.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.message)||"Failed to ".concat(Y?"update":"add"," team member"))}finally{ge(!1)}},qe=e=>({Founder:"error",Director:"warning",Management:"info","Country Director":"success",Operations:"primary",Technical:"secondary",Creative:"default",Other:"default"}[e]||"default"),Oe=l.slice(L*H,L*H+H);return d?(0,s.jsx)(N.A,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:400},children:(0,s.jsx)(On.A,{size:60})}):(0,s.jsxs)(N.A,{sx:{p:3,position:"relative"},children:[(0,s.jsx)(_.A,{variant:"h4",gutterBottom:!0,sx:{mb:3},children:"Team Management"}),x&&(0,s.jsx)(I.A,{severity:"error",sx:{mb:3},children:x}),(0,s.jsx)(Rn.A,{elevation:1,sx:{mb:3},children:(0,s.jsxs)(js.A,{value:t,onChange:(e,n)=>a(n),children:[(0,s.jsx)(vs.A,{label:"Team Members (".concat(r.length,")"),icon:(0,s.jsx)(Ss.A,{}),iconPosition:"start"}),(0,s.jsx)(vs.A,{label:"Departments (".concat(y.length,")"),icon:(0,s.jsx)(bs.A,{}),iconPosition:"start"})]})}),0===t&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(N.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3},children:[(0,s.jsxs)(_.A,{variant:"h6",children:[l.length," members shown"]}),(0,s.jsx)(E.A,{variant:"contained",color:"primary",startIcon:(0,s.jsx)(us.A,{}),onClick:()=>{Le(),U(!0)},size:"large",children:"Add Team Member"})]}),(0,s.jsxs)(Rn.A,{elevation:1,sx:{p:3,mb:3},children:[(0,s.jsxs)(_.A,{variant:"h6",sx:{mb:2,display:"flex",alignItems:"center",gap:1},children:[(0,s.jsx)(gs.A,{})," Search & Filters"]}),(0,s.jsxs)(Un.A,{container:!0,spacing:2,alignItems:"center",children:[(0,s.jsx)(Un.A,{item:!0,xs:12,md:4,children:(0,s.jsx)(Bn.A,{fullWidth:!0,label:"Search members",value:z,onChange:e=>T(e.target.value),placeholder:"Name, position, email, or bio...",InputProps:{startAdornment:(0,s.jsx)(Dn.A,{position:"start",children:(0,s.jsx)($n.A,{})}),endAdornment:z&&(0,s.jsx)(Dn.A,{position:"end",children:(0,s.jsx)(de.A,{onClick:()=>T(""),size:"small",children:(0,s.jsx)(hs.A,{})})})}})}),(0,s.jsx)(Un.A,{item:!0,xs:12,md:3,children:(0,s.jsxs)(Ln.A,{fullWidth:!0,children:[(0,s.jsx)(Mn.A,{children:"Filter by Department"}),(0,s.jsxs)(Hn.A,{value:W,onChange:e=>F(e.target.value),label:"Filter by Department",children:[(0,s.jsx)(qn.A,{value:"",children:"All Departments"}),Pe.map(e=>(0,s.jsx)(qn.A,{value:e,children:e},e))]})]})}),(0,s.jsx)(Un.A,{item:!0,xs:12,md:3,children:(0,s.jsxs)(Ln.A,{fullWidth:!0,children:[(0,s.jsx)(Mn.A,{children:"Filter by Country"}),(0,s.jsxs)(Hn.A,{value:P,onChange:e=>R(e.target.value),label:"Filter by Country",children:[(0,s.jsx)(qn.A,{value:"",children:"All Countries"}),f.map(e=>(0,s.jsxs)(qn.A,{value:e,children:["\ud83c\udf0d ",e]},e))]})]})}),(0,s.jsx)(Un.A,{item:!0,xs:12,md:2,children:(0,s.jsx)(E.A,{fullWidth:!0,variant:"outlined",onClick:Re,startIcon:(0,s.jsx)(hs.A,{}),disabled:!z&&!W&&!P,children:"Clear Filters"})})]}),(z||W||P)&&(0,s.jsxs)(N.A,{sx:{mt:2},children:[(0,s.jsx)(_.A,{variant:"body2",color:"text.secondary",sx:{mb:1},children:"Active filters:"}),(0,s.jsxs)(Pn.A,{direction:"row",spacing:1,flexWrap:"wrap",children:[z&&(0,s.jsx)(it.A,{label:'Search: "'.concat(z,'"'),onDelete:()=>T(""),size:"small",color:"primary"}),W&&(0,s.jsx)(it.A,{label:"Department: ".concat(W),onDelete:()=>F(""),size:"small",color:"secondary"}),P&&(0,s.jsx)(it.A,{label:"Country: ".concat(P),onDelete:()=>R(""),size:"small",color:"success"})]})]})]}),0===l.length?(0,s.jsxs)(N.A,{sx:{textAlign:"center",py:8},children:[(0,s.jsx)(Ss.A,{sx:{fontSize:80,color:"text.secondary",mb:2}}),(0,s.jsx)(_.A,{variant:"h6",color:"text.secondary",gutterBottom:!0,children:0===r.length?"No team members found":"No members match your filters"}),(0,s.jsx)(_.A,{variant:"body2",color:"text.secondary",sx:{mb:3},children:0===r.length?'Click the "Add Team Member" button to get started':"Try adjusting your search or filter criteria"}),(z||W||P)&&(0,s.jsx)(E.A,{variant:"outlined",onClick:Re,children:"Clear All Filters"})]}):(0,s.jsxs)(Rn.A,{elevation:1,children:[(0,s.jsx)(as.A,{children:(0,s.jsxs)(rs.A,{children:[(0,s.jsx)(os.A,{children:(0,s.jsxs)(is.A,{sx:{backgroundColor:"#f5f5f5"},children:[(0,s.jsx)(ss.A,{sx:{fontWeight:600,minWidth:120},children:"Member"}),(0,s.jsx)(ss.A,{sx:{fontWeight:600,minWidth:150},children:"Position"}),(0,s.jsx)(ss.A,{sx:{fontWeight:600,minWidth:120},children:"Department"}),(0,s.jsx)(ss.A,{sx:{fontWeight:600,minWidth:100},children:"Country"}),(0,s.jsx)(ss.A,{sx:{fontWeight:600,minWidth:180},children:"Contact"}),(0,s.jsx)(ss.A,{sx:{fontWeight:600,minWidth:200},children:"Bio"}),(0,s.jsx)(ss.A,{sx:{fontWeight:600,minWidth:120,textAlign:"center"},children:"Actions"})]})}),(0,s.jsx)(ls.A,{children:Oe.map(e=>(0,s.jsxs)(is.A,{sx:{"&:hover":{backgroundColor:"#f9f9f9"},"&:last-child td, &:last-child th":{border:0}},children:[(0,s.jsx)(ss.A,{children:(0,s.jsxs)(N.A,{sx:{display:"flex",alignItems:"center",gap:2},children:[(0,s.jsx)(jo.A,{src:"".concat(Ve).concat(e.image_url),alt:e.name,sx:{width:50,height:50},children:e.name.charAt(0)}),(0,s.jsx)(N.A,{children:(0,s.jsx)(_.A,{variant:"subtitle2",sx:{fontWeight:600},children:e.name})})]})}),(0,s.jsx)(ss.A,{children:(0,s.jsx)(_.A,{variant:"body2",sx:{fontWeight:500},children:e.position})}),(0,s.jsx)(ss.A,{children:(0,s.jsx)(it.A,{label:e.department,color:qe(e.department),size:"small",sx:{fontWeight:500}})}),(0,s.jsx)(ss.A,{children:e.country?(0,s.jsxs)(N.A,{sx:{display:"flex",alignItems:"center",gap:1},children:[(0,s.jsx)("span",{children:"\ud83c\udf0d"}),(0,s.jsx)(_.A,{variant:"body2",children:e.country})]}):(0,s.jsx)(_.A,{variant:"body2",color:"text.secondary",children:"Not specified"})}),(0,s.jsx)(ss.A,{children:(0,s.jsxs)(N.A,{children:[e.email&&(0,s.jsx)(_.A,{variant:"body2",sx:{mb:.5},children:e.email}),e.linkedin_url&&(0,s.jsxs)(ws.A,{href:e.linkedin_url,target:"_blank",rel:"noopener noreferrer",sx:{display:"flex",alignItems:"center",gap:.5,color:"#0077b5"},children:[(0,s.jsx)(ks.A,{sx:{fontSize:16}}),(0,s.jsx)(_.A,{variant:"caption",children:"LinkedIn"})]}),!e.email&&!e.linkedin_url&&(0,s.jsx)(_.A,{variant:"body2",color:"text.secondary",children:"No contact info"})]})}),(0,s.jsx)(ss.A,{children:(0,s.jsx)(_.A,{variant:"body2",color:"text.secondary",sx:{overflow:"hidden",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",lineHeight:1.4,maxWidth:200},children:e.bio})}),(0,s.jsx)(ss.A,{children:(0,s.jsxs)(N.A,{sx:{display:"flex",justifyContent:"center",gap:1},children:[(0,s.jsx)(de.A,{onClick:()=>(e=>{G(!0),J(e),X(e.name),$(e.department),ee(e.position),te(e.bio||""),re(e.email||""),ie(e.linkedin_url||"");const n=f.find(n=>n.name===e.country);le(n||null),xe(e.image_url),pe(null),ye(""),fe(!1),U(!0)})(e),color:"info",size:"small",children:(0,s.jsx)($i.A,{})}),(0,s.jsx)(de.A,{onClick:()=>(e=>{h({open:!0,member:e})})(e),color:"error",size:"small",children:(0,s.jsx)(Gi.A,{})})]})})]},e.id))})]})}),(0,s.jsx)(cs.A,{rowsPerPageOptions:[5,10,25,50],component:"div",count:l.length,rowsPerPage:H,page:L,onPageChange:(e,n)=>{M(n)},onRowsPerPageChange:e=>{q(parseInt(e.target.value,10)),M(0)},sx:{borderTop:"1px solid #e0e0e0"}})]})]}),1===t&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(N.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3},children:[(0,s.jsx)(_.A,{variant:"h6",children:"Manage Departments"}),(0,s.jsx)(E.A,{variant:"contained",color:"primary",startIcon:(0,s.jsx)(us.A,{}),onClick:()=>{Ae(""),Se(""),ze(0),Ee(""),k({open:!0,mode:"add",department:null})},size:"large",children:"Add Department"})]}),v?(0,s.jsx)(N.A,{sx:{display:"flex",justifyContent:"center",py:4},children:(0,s.jsx)(On.A,{})}):0===y.length?(0,s.jsxs)(N.A,{sx:{textAlign:"center",py:8},children:[(0,s.jsx)(bs.A,{sx:{fontSize:80,color:"text.secondary",mb:2}}),(0,s.jsx)(_.A,{variant:"h6",color:"text.secondary",gutterBottom:!0,children:"No departments found"}),(0,s.jsx)(_.A,{variant:"body2",color:"text.secondary",sx:{mb:3},children:'Click "Add Department" to create your first department'})]}):(0,s.jsx)(Un.A,{container:!0,spacing:3,children:y.map((e,n)=>(0,s.jsx)(Un.A,{item:!0,xs:12,sm:6,md:4,children:(0,s.jsxs)(Yn.A,{elevation:1,sx:{height:"100%",display:"flex",flexDirection:"column"},children:[(0,s.jsxs)(Gn.A,{sx:{flexGrow:1},children:[(0,s.jsxs)(N.A,{sx:{display:"flex",alignItems:"center",gap:1,mb:2},children:[(0,s.jsx)(Cs.A,{sx:{color:"text.secondary",fontSize:20}}),(0,s.jsx)(_.A,{variant:"h6",sx:{fontWeight:600},children:e.name}),(0,s.jsx)(it.A,{label:"#".concat(e.order_index||0),size:"small",color:"default"})]}),e.description&&(0,s.jsx)(_.A,{variant:"body2",color:"text.secondary",sx:{mb:2},children:e.description}),(0,s.jsxs)(_.A,{variant:"caption",color:"text.secondary",children:["Created: ",new Date(e.created_at).toLocaleDateString()]})]}),(0,s.jsxs)(N.A,{sx:{p:2,pt:0,display:"flex",gap:1},children:[(0,s.jsx)(E.A,{size:"small",variant:"outlined",color:"info",startIcon:(0,s.jsx)($i.A,{}),onClick:()=>(e=>{Ae(e.name),Se(e.description||""),ze(e.order_index||0),Ee(""),k({open:!0,mode:"edit",department:e})})(e),sx:{flex:1},children:"Edit"}),(0,s.jsx)(E.A,{size:"small",variant:"outlined",color:"error",startIcon:(0,s.jsx)(Gi.A,{}),onClick:()=>(e=>{C({open:!0,department:e})})(e),sx:{flex:1},children:"Delete"})]})]})},e.id))})]}),(0,s.jsxs)(Oi.A,{open:O,onClose:Me,maxWidth:"lg",fullWidth:!0,children:[(0,s.jsxs)(Ui.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",pb:2,borderBottom:"1px solid #e0e0e0"},children:[(0,s.jsx)(_.A,{variant:"h6",children:Y?"Edit Team Member":"Add New Team Member"}),(0,s.jsx)(de.A,{onClick:Me,size:"small",children:(0,s.jsx)(fs.A,{})})]}),(0,s.jsxs)(ds.A,{sx:{p:3},children:[he&&(0,s.jsxs)(I.A,{severity:"success",sx:{mb:3},children:["Team member ",Y?"updated":"added"," successfully! Closing..."]}),be&&(0,s.jsx)(I.A,{severity:"error",sx:{mb:3},children:be}),(0,s.jsx)(N.A,{component:"form",onSubmit:He,children:(0,s.jsxs)(Un.A,{container:!0,spacing:3,children:[(0,s.jsx)(Un.A,{item:!0,xs:12,md:6,children:(0,s.jsx)(Bn.A,{label:"Full Name",value:K,onChange:e=>X(e.target.value),fullWidth:!0,required:!0,disabled:ue||he})}),(0,s.jsx)(Un.A,{item:!0,xs:12,md:6,children:(0,s.jsx)(Bn.A,{label:"Position/Title",value:Q,onChange:e=>ee(e.target.value),fullWidth:!0,required:!0,disabled:ue||he})}),(0,s.jsx)(Un.A,{item:!0,xs:12,md:6,children:(0,s.jsxs)(Ln.A,{fullWidth:!0,required:!0,children:[(0,s.jsx)(Mn.A,{children:"Department"}),(0,s.jsx)(Hn.A,{value:Z,onChange:e=>$(e.target.value),label:"Department",disabled:ue||he,children:y.map(e=>(0,s.jsx)(qn.A,{value:e.name,children:e.name},e.id))})]})}),(0,s.jsx)(Un.A,{item:!0,xs:12,md:6,children:(0,s.jsx)(Li.A,{options:f,getOptionLabel:e=>e.name,value:se,onChange:(e,n)=>le(n),disabled:ue||he,renderInput:e=>(0,s.jsx)(Bn.A,(0,m.A)((0,m.A)({},e),{},{label:"Country",placeholder:"Select country..."}))})}),(0,s.jsx)(Un.A,{item:!0,xs:12,children:(0,s.jsx)(Bn.A,{label:"Email Address",type:"email",value:ae,onChange:e=>re(e.target.value),fullWidth:!0,disabled:ue||he,placeholder:"member@acef.org"})}),(0,s.jsx)(Un.A,{item:!0,xs:12,children:(0,s.jsx)(Bn.A,{label:"Short Bio",multiline:!0,rows:4,value:ne,onChange:e=>te(e.target.value),fullWidth:!0,required:!0,disabled:ue||he,placeholder:"Write a brief description about this team member..."})}),(0,s.jsx)(Un.A,{item:!0,xs:12,children:(0,s.jsx)(Bn.A,{label:"LinkedIn Profile URL",value:oe,onChange:e=>ie(e.target.value),fullWidth:!0,disabled:ue||he,placeholder:"https://linkedin.com/in/username"})}),(0,s.jsx)(Un.A,{item:!0,xs:12,children:(0,s.jsxs)(Rn.A,{variant:"outlined",sx:{p:3},children:[(0,s.jsxs)(_.A,{variant:"subtitle1",gutterBottom:!0,sx:{fontWeight:600},children:["Profile Photo ",!Y&&(0,s.jsx)("span",{style:{color:"red"},children:"*"})]}),Y&&me&&(0,s.jsxs)(N.A,{sx:{mb:3},children:[(0,s.jsx)(_.A,{variant:"body2",color:"text.secondary",sx:{mb:1},children:"Current photo:"}),(0,s.jsx)("img",{src:"".concat(Ve).concat(me),alt:"Current profile",style:{width:"100px",height:"100px",objectFit:"cover",borderRadius:"8px",border:"2px solid #e0e0e0"}})]}),(0,s.jsx)("input",{type:"file",accept:"image/*",onChange:e=>pe(e.target.files[0]),required:!Y,disabled:ue||he,style:{padding:"12px",border:"2px dashed #e0e0e0",borderRadius:"8px",width:"100%",backgroundColor:"#fafafa"}})]})})]})})]}),(0,s.jsxs)(Yi.A,{sx:{p:3,borderTop:"1px solid #e0e0e0",gap:2},children:[(0,s.jsx)(E.A,{onClick:Me,disabled:ue,variant:"outlined",size:"large",children:"Cancel"}),(0,s.jsx)(E.A,{onClick:He,variant:"contained",disabled:ue||he,size:"large",children:ue?Y?"Updating...":"Adding...":Y?"Update Member":"Add Member"})]})]}),(0,s.jsxs)(Oi.A,{open:A.open,onClose:()=>k({open:!1,mode:"add",department:null}),maxWidth:"sm",fullWidth:!0,children:[(0,s.jsx)(Ui.A,{children:"edit"===A.mode?"Edit Department":"Add New Department"}),(0,s.jsxs)(ds.A,{children:[Ie&&(0,s.jsx)(I.A,{severity:"error",sx:{mb:3},children:Ie}),(0,s.jsxs)(N.A,{component:"form",onSubmit:Be,sx:{pt:2},children:[(0,s.jsx)(Bn.A,{label:"Department Name",value:we,onChange:e=>Ae(e.target.value),fullWidth:!0,required:!0,disabled:Ne,sx:{mb:3}}),(0,s.jsx)(Bn.A,{label:"Description (Optional)",value:ke,onChange:e=>Se(e.target.value),fullWidth:!0,multiline:!0,rows:3,disabled:Ne,sx:{mb:3},placeholder:"Brief description of this department..."}),(0,s.jsx)(Bn.A,{label:"Order Index",type:"number",value:Ce,onChange:e=>ze(e.target.value),fullWidth:!0,disabled:Ne,placeholder:"0",helperText:"Lower numbers appear first in lists"})]})]}),(0,s.jsxs)(Yi.A,{sx:{p:3},children:[(0,s.jsx)(E.A,{onClick:()=>k({open:!1,mode:"add",department:null}),disabled:Ne,children:"Cancel"}),(0,s.jsx)(E.A,{onClick:Be,variant:"contained",disabled:Ne,children:Ne?"edit"===A.mode?"Updating...":"Adding...":"edit"===A.mode?"Update Department":"Add Department"})]})]}),(0,s.jsxs)(Oi.A,{open:g.open,onClose:De,children:[(0,s.jsx)(Ui.A,{children:"Delete Team Member"}),(0,s.jsx)(ds.A,{children:(0,s.jsxs)(As.A,{children:["Are you sure you want to delete"," ",(0,s.jsx)("strong",{children:null===(e=g.member)||void 0===e?void 0:e.name}),"? This action cannot be undone."]})}),(0,s.jsxs)(Yi.A,{children:[(0,s.jsx)(E.A,{onClick:De,children:"Cancel"}),(0,s.jsx)(E.A,{onClick:async()=>{const{member:e}=g;if(e)try{await cn.A.delete("".concat(Ge,"/team/").concat(e.id),{withCredentials:!0}),Te(),h({open:!1,member:null})}catch(n){console.error("Error deleting member:",n),u("Failed to delete team member")}},color:"error",variant:"contained",children:"Delete"})]})]}),(0,s.jsxs)(Oi.A,{open:S.open,onClose:()=>C({open:!1,department:null}),children:[(0,s.jsx)(Ui.A,{children:"Delete Department"}),(0,s.jsx)(ds.A,{children:(0,s.jsxs)(As.A,{children:["Are you sure you want to delete the department"," ",(0,s.jsx)("strong",{children:null===(n=S.department)||void 0===n?void 0:n.name}),"? This action cannot be undone and will fail if there are team members assigned to this department."]})}),(0,s.jsxs)(Yi.A,{children:[(0,s.jsx)(E.A,{onClick:()=>C({open:!1,department:null}),children:"Cancel"}),(0,s.jsx)(E.A,{onClick:async()=>{const{department:e}=S;if(e)try{await cn.A.delete("".concat(Ge,"/team/departments/").concat(e.id),{withCredentials:!0}),We(),C({open:!1,department:null})}catch(a){var n,t;console.error("Error deleting department:",a),u((null===(n=a.response)||void 0===n||null===(t=n.data)||void 0===t?void 0:t.message)||"Failed to delete department")}},color:"error",variant:"contained",children:"Delete Department"})]})]})]})};var Ns=t(4875),_s=t(8865),Is=t(916),Es=t(8209),Ts=t(1191),Ws=t(4573);const Fs="http://localhost:5000",Ps=[{key:"manage_content",label:"Manage Content & Blogs",description:"Create, edit, and delete blog posts and content"},{key:"manage_projects",label:"Manage Projects",description:"Create and update project information"},{key:"manage_team",label:"Manage Team Members",description:"Add and edit team member profiles"},{key:"manage_partners",label:"Manage Partners",description:"Add and edit partner information"},{key:"manage_contacts",label:"View Contacts",description:"Access contact form submissions"},{key:"manage_volunteers",label:"Manage Volunteers",description:"View and manage volunteer applications"},{key:"manage_newsletter",label:"Newsletter Management",description:"Manage newsletter subscribers and campaigns"},{key:"view_donations",label:"View Donations",description:"View donation statistics and reports"},{key:"manage_videos",label:"Manage Videos",description:"Upload and manage video content"},{key:"manage_impact",label:"Manage Impact Data",description:"Update impact statistics and metrics"},{key:"manage_jobs",label:"Manage Job Postings",description:"Create and edit job opportunities"}],Rs=()=>{const{user:e}={user:{role:"admin",id:1,name:"Admin User",email:"admin@example.com"}},[n,t]=(0,i.useState)([]),[a,r]=(0,i.useState)(null),[o,l]=(0,i.useState)(!1),[c,d]=(0,i.useState)(null),[p,x]=(0,i.useState)({}),[u,g]=(0,i.useState)(!1),[h,f]=(0,i.useState)(!1),[b,y]=(0,i.useState)([]),[j,v]=(0,i.useState)({name:"",email:"",password:"",role:"Content Manager",permissions:[]}),[w,A]=(0,i.useState)({open:!1,message:"",severity:"success"}),k=function(e){A({open:!0,message:e,severity:arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success"})},S=async()=>{try{const e=await fetch("".concat(Fs,"/api/auth/users"),{credentials:"include"}),n=await e.json();Array.isArray(n.users)?t(n.users):Array.isArray(n)?t(n):console.warn("Unexpected response format:",n)}catch(e){console.error("Error fetching users:",e.message),k("Failed to fetch users","error")}},C=()=>{d(null),x({})},z=e=>{u?v(n=>(0,m.A)((0,m.A)({},n),{},{permissions:n.permissions.includes(e)?n.permissions.filter(n=>n!==e):[...n.permissions,e]})):y(n=>n.includes(e)?n.filter(n=>n!==e):[...n,e])},T=e=>{r(e),y(e.permissions||[]),f(!0)},W=e=>{switch(e){case"admin":return"error";case"Assistant Admin":return"warning";case"Content Manager":return"primary";default:return"default"}};return(0,i.useEffect)(()=>{"admin"===(null===e||void 0===e?void 0:e.role)&&S()},[e]),e&&"admin"===e.role?(0,s.jsxs)(N.A,{sx:{mt:4,px:2},children:[(0,s.jsxs)(N.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3},children:[(0,s.jsxs)(_.A,{variant:"h4",gutterBottom:!0,children:[(0,s.jsx)(Es.A,{sx:{mr:1,verticalAlign:"middle"}}),"Manage Users"]}),(0,s.jsx)(E.A,{variant:"contained",startIcon:(0,s.jsx)(us.A,{}),onClick:()=>g(!0),sx:{mb:2},children:"Invite New User"})]}),(0,s.jsx)(Yn.A,{sx:{mb:3,background:"#f8f9fa"},children:(0,s.jsxs)(Gn.A,{sx:{py:2},children:[(0,s.jsxs)(_.A,{variant:"h6",sx:{mb:2,display:"flex",alignItems:"center"},children:[(0,s.jsx)(Ts.A,{sx:{mr:1}}),"User Roles"]}),(0,s.jsxs)(Un.A,{container:!0,spacing:2,children:[(0,s.jsxs)(Un.A,{item:!0,xs:12,md:4,children:[(0,s.jsx)(it.A,{label:"Admin",color:"error",size:"small",sx:{mr:1}}),(0,s.jsx)(_.A,{variant:"body2",color:"textSecondary",children:"Full system access and user management"})]}),(0,s.jsxs)(Un.A,{item:!0,xs:12,md:4,children:[(0,s.jsx)(it.A,{label:"Assistant Admin",color:"warning",size:"small",sx:{mr:1}}),(0,s.jsx)(_.A,{variant:"body2",color:"textSecondary",children:"Limited admin privileges with custom permissions"})]}),(0,s.jsxs)(Un.A,{item:!0,xs:12,md:4,children:[(0,s.jsx)(it.A,{label:"Content Manager",color:"primary",size:"small",sx:{mr:1}}),(0,s.jsx)(_.A,{variant:"body2",color:"textSecondary",children:"Manage content, blogs, and projects"})]})]})]})}),(0,s.jsx)(as.A,{component:Rn.A,children:(0,s.jsxs)(rs.A,{children:[(0,s.jsx)(os.A,{children:(0,s.jsxs)(is.A,{sx:{backgroundColor:"#f5f5f5"},children:[(0,s.jsx)(ss.A,{children:(0,s.jsx)("strong",{children:"Name"})}),(0,s.jsx)(ss.A,{children:(0,s.jsx)("strong",{children:"Email"})}),(0,s.jsx)(ss.A,{children:(0,s.jsx)("strong",{children:"Role"})}),(0,s.jsx)(ss.A,{children:(0,s.jsx)("strong",{children:"Permissions"})}),(0,s.jsx)(ss.A,{children:(0,s.jsx)("strong",{children:"Status"})}),(0,s.jsx)(ss.A,{children:(0,s.jsx)("strong",{children:"Actions"})})]})}),(0,s.jsx)(ls.A,{children:n.map(e=>(0,s.jsxs)(is.A,{hover:!0,children:[(0,s.jsx)(ss.A,{children:c===e.id?(0,s.jsx)(Bn.A,{value:p.name||"",onChange:e=>x(n=>(0,m.A)((0,m.A)({},n),{},{name:e.target.value})),size:"small",fullWidth:!0}):e.name||"\u2014"}),(0,s.jsx)(ss.A,{children:c===e.id?(0,s.jsx)(Bn.A,{value:p.email||"",onChange:e=>x(n=>(0,m.A)((0,m.A)({},n),{},{email:e.target.value})),size:"small",fullWidth:!0,type:"email"}):e.email||"\u2014"}),(0,s.jsx)(ss.A,{children:(0,s.jsxs)(Hn.A,{value:e.role,onChange:a=>(async(e,a)=>{try{if((await fetch("".concat(Fs,"/api/users/").concat(e,"/role"),{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({role:a})})).ok){if(t(n=>n.map(n=>n.id===e?(0,m.A)((0,m.A)({},n),{},{role:a}):n)),k("Role updated successfully"),"Assistant Admin"===a){const t=n.find(n=>n.id===e);r(t),y(t.permissions||[]),f(!0)}}else k("Failed to update role","error")}catch(o){console.error("Error updating role:",o.message),k("Failed to update role","error")}})(e.id,a.target.value),size:"small",disabled:c===e.id,sx:{minWidth:140},children:[(0,s.jsx)(qn.A,{value:"admin",children:"Admin"}),(0,s.jsx)(qn.A,{value:"Assistant Admin",children:"Assistant Admin"}),(0,s.jsx)(qn.A,{value:"Content Manager",children:"Content Manager"})]})}),(0,s.jsx)(ss.A,{children:"Assistant Admin"===e.role?(0,s.jsxs)(N.A,{children:[(e.permissions||[]).slice(0,2).map(e=>{const n=Ps.find(n=>n.key===e);return(0,s.jsx)(it.A,{label:(null===n||void 0===n?void 0:n.label)||e,size:"small",sx:{mr:.5,mb:.5},color:"secondary"},e)}),(e.permissions||[]).length>2&&(0,s.jsx)(it.A,{label:"+".concat((e.permissions||[]).length-2," more"),size:"small",variant:"outlined"}),(e.permissions||[]).length>0&&(0,s.jsx)(E.A,{size:"small",onClick:()=>T(e),sx:{ml:1},children:"View All"})]}):(0,s.jsx)(it.A,{label:"admin"===e.role?"Full Access":"Standard Access",color:W(e.role),size:"small"})}),(0,s.jsx)(ss.A,{children:(0,s.jsx)(it.A,{label:e.isActive?"Active":"Pending",color:e.isActive?"success":"warning",size:"small"})}),(0,s.jsx)(ss.A,{children:(0,s.jsx)(N.A,{sx:{display:"flex",gap:1},children:c===e.id?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(de.A,{onClick:()=>(async e=>{if(p.name&&p.email)try{const n=await fetch("".concat(Fs,"/api/users/").concat(e),{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(p)});if(n.ok)t(n=>n.map(n=>n.id===e?(0,m.A)((0,m.A)({},n),p):n)),d(null),x({}),k("User updated successfully");else{const e=await n.json();k(e.message||"Failed to update user","error")}}catch(n){console.error("Network Error:",n),k("Network error: Failed to update user","error")}else k("Name and email cannot be empty.","warning")})(e.id),color:"primary",size:"small",children:(0,s.jsx)(Qi.A,{})}),(0,s.jsx)(de.A,{onClick:C,color:"secondary",size:"small",children:(0,s.jsx)(es.A,{})})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(de.A,{onClick:()=>(e=>{d(e.id),x({name:e.name,email:e.email})})(e),color:"primary",size:"small",children:(0,s.jsx)($i.A,{})}),"Assistant Admin"===e.role&&(0,s.jsx)(de.A,{onClick:()=>T(e),color:"info",size:"small",title:"Manage Permissions",children:(0,s.jsx)(Ts.A,{})}),!e.isActive&&(0,s.jsx)(de.A,{onClick:()=>async function(e){try{(await fetch("".concat(Fs,"/api/auth/resend-invitation"),{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({userId:e.id})})).ok?k("Invitation resent successfully!"):k("Failed to resend invitation","error")}catch(n){console.error("Error resending invitation:",n),k("Failed to resend invitation","error")}}(e),color:"warning",size:"small",title:"Resend Invitation",children:(0,s.jsx)(Ws.A,{})}),(0,s.jsx)(de.A,{onClick:()=>{r(e),l(!0)},color:"error",size:"small",children:(0,s.jsx)(Gi.A,{})})]})})})]},e.id))})]})}),0===n.length&&(0,s.jsx)(N.A,{sx:{textAlign:"center",py:4},children:(0,s.jsx)(_.A,{variant:"h6",color:"textSecondary",children:"No users found"})}),(0,s.jsxs)(Oi.A,{open:o,onClose:()=>l(!1),children:[(0,s.jsx)(Ui.A,{children:"Confirm Deletion"}),(0,s.jsxs)(ds.A,{children:['Are you sure you want to delete user "',(null===a||void 0===a?void 0:a.name)||(null===a||void 0===a?void 0:a.email),'"? This action cannot be undone.']}),(0,s.jsxs)(Yi.A,{children:[(0,s.jsx)(E.A,{onClick:()=>l(!1),children:"Cancel"}),(0,s.jsx)(E.A,{color:"error",variant:"contained",onClick:async()=>{try{(await fetch("".concat(Fs,"/api/users/").concat(a.id),{method:"DELETE",credentials:"include"})).ok?(t(e=>e.filter(e=>e.id!==a.id)),l(!1),r(null),k("User deleted successfully")):k("Failed to delete user","error")}catch(e){console.error("Error deleting user:",e.message),k("Failed to delete user","error")}},children:"Delete"})]})]}),(0,s.jsxs)(Oi.A,{open:u,onClose:()=>g(!1),maxWidth:"md",fullWidth:!0,children:[(0,s.jsx)(Ui.A,{children:(0,s.jsxs)(N.A,{sx:{display:"flex",alignItems:"center"},children:[(0,s.jsx)(Es.A,{sx:{mr:1}}),"Invite New User"]})}),(0,s.jsx)(ds.A,{children:(0,s.jsxs)(Un.A,{container:!0,spacing:3,sx:{mt:1},children:[(0,s.jsx)(Un.A,{item:!0,xs:12,md:6,children:(0,s.jsx)(Bn.A,{label:"Full Name",value:j.name,onChange:e=>v(n=>(0,m.A)((0,m.A)({},n),{},{name:e.target.value})),fullWidth:!0,required:!0})}),(0,s.jsx)(Un.A,{item:!0,xs:12,md:6,children:(0,s.jsx)(Bn.A,{label:"Email",type:"email",value:j.email,onChange:e=>v(n=>(0,m.A)((0,m.A)({},n),{},{email:e.target.value})),fullWidth:!0,required:!0})}),(0,s.jsx)(Un.A,{item:!0,xs:12,md:6,children:(0,s.jsxs)(Ln.A,{fullWidth:!0,children:[(0,s.jsx)(Mn.A,{children:"Role"}),(0,s.jsxs)(Hn.A,{value:j.role,label:"Role",onChange:e=>v(n=>(0,m.A)((0,m.A)({},n),{},{role:e.target.value,permissions:"Assistant Admin"===e.target.value?n.permissions:[]})),children:[(0,s.jsx)(qn.A,{value:"admin",children:"Admin"}),(0,s.jsx)(qn.A,{value:"Assistant Admin",children:"Assistant Admin"}),(0,s.jsx)(qn.A,{value:"Content Manager",children:"Content Manager"})]})]})}),(0,s.jsx)(Un.A,{item:!0,xs:12,md:6,children:(0,s.jsx)(Bn.A,{label:"Temporary Password",type:"password",value:j.password,onChange:e=>v(n=>(0,m.A)((0,m.A)({},n),{},{password:e.target.value})),fullWidth:!0,required:!0,helperText:"User will set their own password via email activation"})}),"Assistant Admin"===j.role&&(0,s.jsxs)(Un.A,{item:!0,xs:12,children:[(0,s.jsxs)(_.A,{variant:"h6",sx:{mb:2,display:"flex",alignItems:"center"},children:[(0,s.jsx)(Ts.A,{sx:{mr:1}}),"Assistant Admin Permissions"]}),(0,s.jsx)(Ns.A,{children:(0,s.jsx)(Un.A,{container:!0,spacing:1,children:Ps.map(e=>(0,s.jsx)(Un.A,{item:!0,xs:12,md:6,children:(0,s.jsx)(ps.A,{control:(0,s.jsx)(_s.A,{checked:j.permissions.includes(e.key),onChange:()=>z(e.key)}),label:(0,s.jsxs)(N.A,{children:[(0,s.jsx)(_.A,{variant:"body2",fontWeight:"medium",children:e.label}),(0,s.jsx)(_.A,{variant:"caption",color:"textSecondary",children:e.description})]})})},e.key))})})]})]})}),(0,s.jsxs)(Yi.A,{children:[(0,s.jsx)(E.A,{onClick:()=>g(!1),children:"Cancel"}),(0,s.jsx)(E.A,{variant:"contained",onClick:async()=>{console.log("\ud83d\ude80 Frontend: Starting invitation process..."),console.log("\ud83d\udccb New user data:",j),console.log("\ud83d\udc64 Current user:",e);try{console.log("\ud83e\uddea Testing simple endpoint first...");const n=await fetch("".concat(Fs,"/api/auth/test-invite"),{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},credentials:"include",body:JSON.stringify({test:"data",name:j.name,email:j.email})});console.log("\ud83e\uddea Test response status:",n.status);const t=await n.json();if(console.log("\ud83e\uddea Test response data:",t),!n.ok)return console.error("\u274c Test endpoint failed"),void k("Test failed: ".concat(t.message),"error");console.log("\u2705 Test endpoint successful, now trying real invitation...");const a=await fetch("".concat(Fs,"/api/auth/invite-user"),{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},credentials:"include",body:JSON.stringify({name:j.name,email:j.email,role:j.role,invitedBy:e.name,permissions:"Assistant Admin"===j.role?j.permissions:[]})});console.log("\ud83d\udce1 Invite response status:",a.status),console.log("\ud83d\udce1 Invite response headers:",a.headers);const r=await a.json();console.log("\ud83d\udce6 Invite response data:",r),a.ok?(k(r.message||"User invitation sent successfully!"),g(!1),v({name:"",email:"",password:"",role:"Content Manager",permissions:[]}),S()):(console.error("\u274c Invitation failed:",r),k(r.message||"Failed to send invitation (".concat(a.status,")"),"error"))}catch(n){console.error("\u274c Network/Parse error:",n),k("Network error: ".concat(n.message),"error")}},disabled:!j.name||!j.email||!j.password,startIcon:(0,s.jsx)(Ws.A,{}),children:"Send Invitation"})]})]}),(0,s.jsxs)(Oi.A,{open:h,onClose:()=>f(!1),maxWidth:"md",fullWidth:!0,children:[(0,s.jsx)(Ui.A,{children:(0,s.jsxs)(N.A,{sx:{display:"flex",alignItems:"center"},children:[(0,s.jsx)(Ts.A,{sx:{mr:1}}),"Manage Permissions - ",null===a||void 0===a?void 0:a.name]})}),(0,s.jsxs)(ds.A,{children:[(0,s.jsx)(I.A,{severity:"info",sx:{mb:2},children:"Assistant Admins have limited administrative access. Select specific permissions below."}),(0,s.jsx)(Ns.A,{children:(0,s.jsx)(Un.A,{container:!0,spacing:2,children:Ps.map(e=>(0,s.jsx)(Un.A,{item:!0,xs:12,md:6,children:(0,s.jsx)(ps.A,{control:(0,s.jsx)(_s.A,{checked:b.includes(e.key),onChange:()=>z(e.key)}),label:(0,s.jsxs)(N.A,{children:[(0,s.jsx)(_.A,{variant:"body2",fontWeight:"medium",children:e.label}),(0,s.jsx)(_.A,{variant:"caption",color:"textSecondary",children:e.description})]})})},e.key))})})]}),(0,s.jsxs)(Yi.A,{children:[(0,s.jsx)(E.A,{onClick:()=>f(!1),children:"Cancel"}),(0,s.jsx)(E.A,{variant:"contained",onClick:async()=>{try{(await fetch("".concat(Fs,"/api/users/").concat(a.id,"/permissions"),{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({permissions:b})})).ok?(t(e=>e.map(e=>e.id===a.id?(0,m.A)((0,m.A)({},e),{},{permissions:b}):e)),f(!1),k("Permissions updated successfully")):k("Failed to update permissions","error")}catch(e){console.error("Error updating permissions:",e.message),k("Failed to update permissions","error")}},color:"primary",children:"Update Permissions"})]})]}),(0,s.jsx)(Is.A,{open:w.open,autoHideDuration:4e3,onClose:()=>A(e=>(0,m.A)((0,m.A)({},e),{},{open:!1})),children:(0,s.jsx)(I.A,{severity:w.severity,onClose:()=>A(e=>(0,m.A)((0,m.A)({},e),{},{open:!1})),children:w.message})})]}):(0,s.jsx)(N.A,{sx:{mt:4,px:2},children:(0,s.jsx)(I.A,{severity:"error",children:"Access Denied - Admin privileges required"})})};var Bs=t(7548),Ds=t(3849),Ls=t(9801),Ms=t(7721),Hs=t(4702),qs=t(1323),Os=t(3736),Us=t(9982),Ys=t(9594),Gs=t(9175),Vs=t(7743),Js=t(312),Ks=t(1921),Xs=t(9830),Zs=t(9459),$s=t(5297),Qs=t(5767),el=t(5483),nl=t(267);const tl=[{id:"overview",text:"Overview",icon:(0,s.jsx)(Ms.A,{}),path:"/admin/dashboard",requiredRole:["admin","Assistant Admin"],requiredPermission:null,order:1},{id:"manage_blogs",text:"Manage Blogs",icon:(0,s.jsx)(Hs.A,{}),path:"/admin/dashboard/manage-blogs",requiredRole:["admin","Assistant Admin","Content Manager"],requiredPermission:"manage_content",order:2},{id:"projects",text:"Projects",icon:(0,s.jsx)(qs.A,{}),path:"/admin/dashboard/projects",requiredRole:["admin","Assistant Admin"],requiredPermission:"manage_projects",order:3},{id:"jobs",text:"Jobs",icon:(0,s.jsx)(Os.A,{}),path:"/admin/dashboard/jobmanager",requiredRole:["admin","Assistant Admin"],requiredPermission:"manage_jobs",order:4},{id:"users",text:"Users",icon:(0,s.jsx)(Us.A,{}),path:"/admin/dashboard/users",requiredRole:["admin"],requiredPermission:null,order:5},{id:"countries",text:"Countries",icon:(0,s.jsx)(Wa.A,{}),path:"/admin/dashboard/countries",requiredRole:["admin"],requiredPermission:null,order:6},{id:"categories",text:"Focus Areas",icon:(0,s.jsx)(qa.A,{}),path:"/admin/dashboard/categories",requiredRole:["admin"],requiredPermission:null,order:7},{id:"team",text:"Team",icon:(0,s.jsx)(Ys.A,{}),path:"/admin/dashboard/team",requiredRole:["admin","Assistant Admin"],requiredPermission:"manage_team",order:8},{id:"partners",text:"Partners",icon:(0,s.jsx)(bs.A,{}),path:"/admin/dashboard/partners",requiredRole:["admin","Assistant Admin"],requiredPermission:"manage_partners",order:9},{id:"generator",text:"Generator",icon:(0,s.jsx)(Gs.A,{}),path:"/admin/dashboard/generator",requiredRole:["admin"],requiredPermission:null,order:10},{id:"newsletter",text:"Newsletter",icon:(0,s.jsx)(Ws.A,{}),path:"/admin/dashboard/newsletter",requiredRole:["admin","Assistant Admin"],requiredPermission:"manage_newsletter",order:11},{id:"videos",text:"Videos",icon:(0,s.jsx)(Vs.A,{}),path:"/admin/dashboard/manage-videos",requiredRole:["admin","Assistant Admin"],requiredPermission:"manage_videos",order:12},{id:"logo",text:"Logo Management",icon:(0,s.jsx)(Js.A,{}),path:"/admin/dashboard/manage-logo",requiredRole:["admin"],requiredPermission:null,order:13},{id:"transactions",text:"Transaction Details",icon:(0,s.jsx)(Ks.A,{}),path:"/admin/dashboard/manage-transactions",requiredRole:["admin"],requiredPermission:null,order:14},{id:"contacts",text:"Contact Details",icon:(0,s.jsx)(Xs.A,{}),path:"/admin/dashboard/contacts",requiredRole:["admin","Assistant Admin"],requiredPermission:"manage_contacts",order:15},{id:"whatsapp",text:"WhatsApp Chat Contact",icon:(0,s.jsx)(Zs.A,{}),path:"/admin/dashboard/whatsapp",requiredRole:["admin"],requiredPermission:null,order:16},{id:"volunteers",text:"Volunteer Forms",icon:(0,s.jsx)(Ra.A,{}),path:"/admin/dashboard/volunteers",requiredRole:["admin","Assistant Admin"],requiredPermission:"manage_volunteers",order:17},{id:"impact",text:"Impact Statistics",icon:(0,s.jsx)(Vn.A,{}),path:"/admin/dashboard/impact",requiredRole:["admin","Assistant Admin"],requiredPermission:"manage_impact",order:18},{id:"donations",text:"Manage Donation",icon:(0,s.jsx)($s.A,{}),path:"/admin/dashboard/managedonate",requiredRole:["admin","Assistant Admin"],requiredPermission:"view_donations",order:19},{id:"pillars",text:"Pillars",icon:(0,s.jsx)(Vs.A,{}),path:"/admin/dashboard/pillars",requiredRole:["admin","Assistant Admin"],requiredPermission:"pillars",order:20},{id:"events",text:"Events",icon:(0,s.jsx)(Vs.A,{}),path:"/admin/dashboard/events",requiredRole:["admin","Assistant Admin"],requiredPermission:"events",order:21},{id:"collaboration",text:"Collaboration Reports",icon:(0,s.jsx)(Vs.A,{}),path:"/admin/dashboard/collaboration",requiredRole:["admin","Assistant Admin"],requiredPermission:"collaboration",order:22},{id:"highlights",text:"Highlights",icon:(0,s.jsx)(Vs.A,{}),path:"/admin/dashboard/highlights",requiredRole:["admin","Assistant Admin"],requiredPermission:"highlights",order:23},{id:"gallerymanager",text:"Gallery Manager",icon:(0,s.jsx)(Vs.A,{}),path:"/admin/dashboard/gallerymanager",requiredRole:["admin","Assistant Admin"],requiredPermission:"gallerymanager",order:24},{id:"adminmanagegeneraltestimonials",text:"General Testimonials",icon:(0,s.jsx)(Vs.A,{}),path:"/admin/dashboard/adminmanagegeneraltestimonials",requiredRole:["admin","Assistant Admin"],requiredPermission:"adminmanagegeneraltestimonials",order:25}],al=e=>{let{open:n,toggleSidebar:t}=e;const r=(0,a.Zp)(),o=(0,a.zy)(),l=(0,nl.A)(),[d,p]=(0,i.useState)(o.pathname),{user:m}=c(),{currentLogo:x,loading:u,refreshLogo:g}=C(),h=e=>!!m&&(!!e.requiredRole.includes(m.role)&&("admin"===m.role||(!e.requiredPermission||("Assistant Admin"===m.role?m.permissions&&m.permissions.includes(e.requiredPermission):"Content Manager"===m.role&&"manage_blogs"===e.id))));(0,i.useEffect)(()=>{if("/admin/dashboard/manage-logo"===o.pathname){const e=setTimeout(g,500);return()=>clearTimeout(e)}},[o.pathname,g]);const f=()=>null!==x&&void 0!==x&&x.alt_text?x.alt_text:"ACEF Logo",b=()=>{var e;if(!m)return"";let n=m.role;return"Assistant Admin"===m.role&&(null===(e=m.permissions)||void 0===e?void 0:e.length)>0&&(n+=" (".concat(m.permissions.length," perms)")),n},y=(()=>{if(!m)return[];const e=tl.filter(h).sort((e,n)=>e.order-n.order);return e.push({id:"logout",text:"Logout",icon:(0,s.jsx)(Qs.A,{}),path:"/login",requiredRole:["admin","Assistant Admin","Content Manager"],requiredPermission:null,order:999}),e})();return(0,s.jsxs)(Bs.Ay,{variant:"persistent",open:n,sx:{width:n?240:0,flexShrink:0,"& .MuiDrawer-paper":{width:240,boxSizing:"border-box",backgroundColor:l.palette.primary.main,color:l.palette.secondary.third,transition:"width 0.3s ease"}},children:[(0,s.jsxs)(N.A,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",p:2},children:[(0,s.jsxs)(N.A,{sx:{display:"flex",alignItems:"center"},children:[u?(0,s.jsx)(Ds.A,{variant:"circular",width:60,height:60,sx:{mr:1}}):(0,s.jsx)(jo.A,{src:null!==x&&void 0!==x&&x.full_url?x.full_url:"/assets/ELP.png",alt:f(),sx:{width:60,height:60,mr:1,cursor:"admin"===(null===m||void 0===m?void 0:m.role)?"pointer":"default",transition:"transform 0.2s ease, box-shadow 0.2s ease",border:"2px solid rgba(255,255,255,0.2)","&:hover":"admin"===(null===m||void 0===m?void 0:m.role)?{transform:"scale(1.05)",boxShadow:"0 4px 12px rgba(0,0,0,0.3)",border:"2px solid rgba(255,255,255,0.4)"}:{}},onClick:()=>{"admin"===(null===m||void 0===m?void 0:m.role)&&(r("/admin/dashboard/manage-logo"),p("/admin/dashboard/manage-logo"))},title:"admin"===(null===m||void 0===m?void 0:m.role)?"Click to manage logo":f()}),(0,s.jsxs)(N.A,{children:[(0,s.jsx)(_.A,{variant:"h6",sx:{lineHeight:1.2},children:"ACEF"}),m&&(0,s.jsxs)(_.A,{variant:"caption",sx:{opacity:.7,fontSize:"0.7rem",display:"block",lineHeight:1},children:["admin"===m.role&&"Click logo to edit","admin"!==m.role&&b()]})]})]}),(0,s.jsx)(de.A,{onClick:t,children:(0,s.jsx)(el.A,{})})]}),m&&(0,s.jsxs)(N.A,{sx:{px:2,mb:2,borderBottom:"1px solid rgba(255,255,255,0.1)",pb:2},children:[(0,s.jsx)(_.A,{variant:"body2",sx:{opacity:.8,fontSize:"0.8rem"},children:"Logged in as:"}),(0,s.jsx)(_.A,{variant:"body2",sx:{fontWeight:"medium",fontSize:"0.9rem"},children:m.name}),(0,s.jsx)(_.A,{variant:"caption",sx:{opacity:.6,fontSize:"0.7rem"},children:b()})]}),(0,s.jsx)(Mi.A,{sx:{flexGrow:1},children:y.map(e=>(0,s.jsxs)(Hi.Ay,{onClick:()=>{return n=e.path,r(n),p(n),void("/admin/dashboard/manage-logo"===d&&"/admin/dashboard/manage-logo"!==n&&setTimeout(g,100));var n},sx:{backgroundColor:d===e.path?l.palette.secondary.third:"inherit",color:d===e.path?"#fff":l.palette.secondary.third,cursor:"pointer",mx:1,borderRadius:1,mb:.5,"&:hover":{backgroundColor:d===e.path?l.palette.secondary.third:"rgba(255,255,255,0.1)",color:"#fff"}},component:"div",children:[(0,s.jsx)(Ls.A,{sx:{color:d===e.path?"#fff":l.palette.secondary.third,minWidth:40},children:e.icon}),(0,s.jsx)(qi.A,{primary:e.text,primaryTypographyProps:{fontSize:"0.9rem",fontWeight:d===e.path?"medium":"normal"}})]},e.id))}),!1]})};var rl=t(6887),ol=t(3182),il=t(9118),sl=t(1274);const ll=e=>{var n,t;let{toggleSidebar:r}=e;const o=(0,nl.A)(),{user:i,logout:l}=c(),d=(0,a.Zp)();return(0,s.jsx)(rl.A,{position:"static",sx:{backgroundColor:o.palette.secondary.main,color:(null===(n=o.palette.secondary)||void 0===n?void 0:n.third)||o.palette.primary.contrastText,padding:"0 16px"},children:(0,s.jsxs)(ol.A,{sx:{display:"flex",justifyContent:"space-between"},children:[(0,s.jsx)(de.A,{edge:"start",onClick:r,sx:{mr:2},children:(0,s.jsx)(sl.A,{fontSize:"large"})}),(0,s.jsxs)(_.A,{variant:"h6",children:["Hello, ",(null===i||void 0===i?void 0:i.name)||"Guest"]}),(0,s.jsxs)(N.A,{sx:{display:"flex",alignItems:"center"},children:[(0,s.jsx)(de.A,{children:(0,s.jsx)(il.A,{fontSize:"large"})}),(0,s.jsx)(E.A,{startIcon:(0,s.jsx)(Qs.A,{}),onClick:async()=>{await l(),d("/login")},sx:{ml:2,color:(null===(t=o.palette.secondary)||void 0===t?void 0:t.third)||o.palette.primary.contrastText},children:"Logout"})]})]})})};var cl=t(9438);const dl=()=>{const e=(new Date).getFullYear();return(0,s.jsx)(N.A,{sx:{backgroundColor:"white",color:cl.A,padding:"1rem",textAlign:"center"},children:(0,s.jsxs)(_.A,{variant:"body2",sx:{marginTop:"1rem"},children:["\xa9 ",e," ACEF. All rights reserved."]})})},pl=()=>{const[e,n]=(0,i.useState)(!0),t=(0,a.Zp)(),r=()=>{n(!e)};return(0,s.jsxs)(N.A,{sx:{display:"flex",flexDirection:"column",minHeight:"100vh"},children:[(0,s.jsx)(ll,{toggleSidebar:r,handleLogout:()=>{localStorage.removeItem("user"),t("/login")}}),(0,s.jsxs)(N.A,{sx:{display:"flex",flex:1},children:[(0,s.jsx)(al,{open:e,toggleSidebar:r}),(0,s.jsxs)(N.A,{sx:{flexGrow:1,p:3},children:[(0,s.jsx)(a.sv,{})," "]})]}),(0,s.jsx)(dl,{})]})},ml=()=>{const[e,n]=(0,i.useState)([]),[t,a]=(0,i.useState)({number:"",description:"",id:null}),[r,o]=(0,i.useState)({}),[l,c]=(0,i.useState)(!1);(0,i.useEffect)(()=>{x()},[]);const d=e=>{const n=e.replace(/\D/g,""),t=["1","44","49","33","39","34","7","86","81","82","91","55","52","54","61","27","234","254","256","255"];if(e.startsWith("+")){const e=n;return t.some(n=>e.startsWith(n))}return t.some(e=>n.startsWith(e))},p=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"operation",t="Failed to ".concat(n);if(e.response){var a,r;const{status:o,data:i}=e.response;console.error("".concat(n," failed:"),{status:o,data:i,url:null===(a=e.config)||void 0===a?void 0:a.url,method:null===(r=e.config)||void 0===r?void 0:r.method}),t=null!==i&&void 0!==i&&i.message?i.message:null!==i&&void 0!==i&&i.error?"string"===typeof i.error?i.error:JSON.stringify(i.error):"Server error (".concat(o,"): ").concat(t)}else e.request?(console.error("Network error during ".concat(n,":"),e.request),t="Network error. Please check your connection."):(console.error("Error during ".concat(n,":"),e.message),t=e.message||t);return t},x=async()=>{try{c(!0);const e=await cn.A.get("".concat(Ge,"/whatsapp"));n(e.data)}catch(e){const n=p(e,"fetch contacts");alert(n)}finally{c(!1)}};return(0,s.jsxs)("div",{style:{padding:"20px",maxWidth:"800px",margin:"0 auto"},children:[(0,s.jsx)("h2",{children:"Manage WhatsApp Contacts"}),(0===e.length||t.id)&&(0,s.jsxs)("form",{onSubmit:async n=>{if(n.preventDefault(),o({}),!t.id&&e.length>0)return void alert("Only one WhatsApp number is allowed. Please edit or delete the existing one.");const r=(e=>{const n={};if(!e||""===e.trim())return n.number="WhatsApp number is required",n;const t=e.replace(/\D/g,"");return t.length<7?(n.number="Number is too short",n):t.length>15?(n.number="Number is too long",n):(d(e)||(n.number="Number must start with a valid country code (e.g., +1, +44, +254, etc.)"),n)})(t.number);if(Object.keys(r).length>0)return void o(r);const i=(e=>{let n=e.replace(/\D/g,"");return d(e)?"+".concat(n):null})(t.number);if(i)try{c(!0);const e={number:i,description:t.description.trim()};t.id?(await cn.A.put("".concat(Ge,"/whatsapp/").concat(t.id),e),alert("Contact updated successfully!")):(await cn.A.post("".concat(Ge,"/whatsapp"),e),alert("Contact added successfully!")),a({number:"",description:"",id:null}),x()}catch(s){const e=p(s,"save contact");alert(e)}finally{c(!1)}else o({number:"Invalid WhatsApp number format"})},style:{marginBottom:"30px",padding:"20px",border:"1px solid #ddd",borderRadius:"5px"},children:[(0,s.jsxs)("div",{style:{marginBottom:"15px"},children:[(0,s.jsx)("input",{type:"text",placeholder:"WhatsApp Number (e.g., +254712345678)",value:t.number,onChange:e=>a((0,m.A)((0,m.A)({},t),{},{number:e.target.value})),required:!0,style:{width:"100%",padding:"10px",border:r.number?"2px solid red":"1px solid #ddd",borderRadius:"4px",fontSize:"16px"}}),r.number&&(0,s.jsx)("div",{style:{color:"red",fontSize:"14px",marginTop:"5px"},children:r.number}),(0,s.jsx)("div",{style:{fontSize:"12px",color:"#666",marginTop:"5px"},children:"Include country code (e.g., +1 for US, +44 for UK, +254 for Kenya)"})]}),(0,s.jsx)("div",{style:{marginBottom:"15px"},children:(0,s.jsx)("input",{type:"text",placeholder:"Description (optional)",value:t.description,onChange:e=>a((0,m.A)((0,m.A)({},t),{},{description:e.target.value})),style:{width:"100%",padding:"10px",border:"1px solid #ddd",borderRadius:"4px",fontSize:"16px"}})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("button",{type:"submit",disabled:l,style:{padding:"10px 20px",backgroundColor:"#007bff",color:"white",border:"none",borderRadius:"4px",cursor:l?"not-allowed":"pointer",marginRight:"10px"},children:l?"Processing...":t.id?"Update Contact":"Add Contact"}),t.id&&(0,s.jsx)("button",{type:"button",onClick:()=>{a({number:"",description:"",id:null}),o({})},style:{padding:"10px 20px",backgroundColor:"#6c757d",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:"Cancel"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("h3",{children:["Contacts (",e.length,")"]}),l&&0===e.length?(0,s.jsx)("div",{children:"Loading contacts..."}):0===e.length?(0,s.jsx)("div",{style:{color:"#666",fontStyle:"italic"},children:"No contacts found"}):(0,s.jsx)("ul",{style:{listStyle:"none",padding:0},children:e.map(e=>(0,s.jsxs)("li",{style:{padding:"15px",border:"1px solid #ddd",borderRadius:"5px",marginBottom:"10px",backgroundColor:"#f9f9f9",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{style:{fontSize:"16px"},children:e.number}),e.description&&(0,s.jsx)("div",{style:{color:"#666",fontSize:"14px",marginTop:"5px"},children:e.description})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("button",{onClick:()=>(a(e),void o({})),disabled:l,style:{padding:"5px 15px",backgroundColor:"#28a745",color:"white",border:"none",borderRadius:"3px",cursor:l?"not-allowed":"pointer",marginRight:"5px"},children:"Edit"}),(0,s.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this contact?"))try{c(!0),await cn.A.delete("".concat(Ge,"/whatsapp/").concat(e)),alert("Contact deleted successfully!"),x()}catch(n){const e=p(n,"delete contact");alert(e)}finally{c(!1)}})(e.id),disabled:l,style:{padding:"5px 15px",backgroundColor:"#dc3545",color:"white",border:"none",borderRadius:"3px",cursor:l?"not-allowed":"pointer"},children:"Delete"})]})]},e.id))})]})]})};var xl=t(555);const ul=Ge,gl=()=>{const[e,n]=(0,i.useState)([]),[t,a]=(0,i.useState)([]),[r,o]=(0,i.useState)([]),[,l]=(0,i.useState)({}),[,c]=(0,i.useState)(!1),[d,p]=(0,i.useState)(""),[x,u]=(0,i.useState)(""),[g,h]=(0,i.useState)(!1),[f,b]=(0,i.useState)("create"),[y,j]=(0,i.useState)(null),[v,w]=(0,i.useState)(null),[A,k]=(0,i.useState)({country_id:"",form_url:"",form_title:"",description:"",is_active:!0}),S=async()=>{c(!0);try{const[e,t,r,i]=await Promise.all([fetch("".concat(ul,"/volunteer-forms"),{credentials:"omit"}),fetch("".concat(ul,"/countries"),{credentials:"omit"}),fetch("".concat(ul,"/volunteer-forms/countries/available"),{credentials:"omit"}),fetch("".concat(ul,"/volunteer-forms/stats/overview"),{credentials:"omit"})]),s=await e.json(),c=await t.json(),d=await r.json(),p=await i.json();n(s.data||[]),a(c||[]),o(d.data||[]),l(p.data||{})}catch(e){p("Failed to fetch data"),console.error("Fetch error:",e)}finally{c(!1)}},C=()=>{k({country_id:"",form_url:"",form_title:"",description:"",is_active:!0}),j(null)},z=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;b(e),j(n),n?k({country_id:n.country_id,form_url:n.form_url,form_title:n.form_title,description:n.description||"",is_active:n.is_active}):C(),h(!0)};return(0,i.useEffect)(()=>{S()},[]),(0,s.jsxs)(N.A,{sx:{p:3},children:[(0,s.jsx)(_.A,{variant:"h4",gutterBottom:!0,children:"\ud83d\udccb Manage Volunteer Forms"}),d&&(0,s.jsx)(I.A,{severity:"error",sx:{mb:2},children:d}),x&&(0,s.jsx)(I.A,{severity:"success",sx:{mb:2},children:x}),(0,s.jsxs)(N.A,{sx:{mb:3},children:[(0,s.jsx)(E.A,{variant:"contained",startIcon:(0,s.jsx)(us.A,{}),onClick:()=>z("create"),disabled:0===r.length,children:"Add Volunteer Form"}),0===r.length&&(0,s.jsx)(_.A,{variant:"body2",color:"textSecondary",sx:{mt:1},children:"All countries have volunteer forms assigned"})]}),(0,s.jsx)(as.A,{component:Rn.A,children:(0,s.jsxs)(rs.A,{children:[(0,s.jsx)(os.A,{children:(0,s.jsxs)(is.A,{children:[(0,s.jsx)(ss.A,{children:"Country"}),(0,s.jsx)(ss.A,{children:"Form Title"}),(0,s.jsx)(ss.A,{children:"Status"}),(0,s.jsx)(ss.A,{children:"Created"}),(0,s.jsx)(ss.A,{children:"Actions"})]})}),(0,s.jsx)(ls.A,{children:e.map(e=>(0,s.jsxs)(is.A,{children:[(0,s.jsx)(ss.A,{children:e.country_name}),(0,s.jsx)(ss.A,{children:e.form_title}),(0,s.jsx)(ss.A,{children:(0,s.jsx)(it.A,{label:e.is_active?"Active":"Inactive",color:e.is_active?"success":"error",size:"small"})}),(0,s.jsx)(ss.A,{children:new Date(e.created_at).toLocaleDateString()}),(0,s.jsxs)(ss.A,{children:[(0,s.jsx)(ce.A,{title:"View",children:(0,s.jsx)(de.A,{onClick:()=>z("view",e),children:(0,s.jsx)(Qr.A,{})})}),(0,s.jsx)(ce.A,{title:"Edit",children:(0,s.jsx)(de.A,{onClick:()=>z("edit",e),children:(0,s.jsx)($i.A,{})})}),(0,s.jsx)(ce.A,{title:"Toggle Status",children:(0,s.jsx)(de.A,{onClick:()=>(async e=>{try{const n={country_id:e.country_id,form_url:e.form_url,form_title:e.form_title,description:e.description||"",is_active:!e.is_active},t=await fetch("".concat(ul,"/volunteer-forms/").concat(e.id),{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(n)}),a=await t.json();if(!t.ok)throw new Error(a.message||"Failed to toggle status");u("Form status ".concat(e.is_active?"deactivated":"activated"," successfully")),S()}catch(n){p(n.message),console.error("Toggle status error:",n)}})(e),children:(0,s.jsx)(xl.A,{color:e.is_active?"success":"error"})})}),(0,s.jsx)(ce.A,{title:"Delete",children:(0,s.jsx)(de.A,{onClick:()=>w(e.id),children:(0,s.jsx)(Gi.A,{color:"error"})})})]})]},e.id))})]})}),(0,s.jsxs)(Oi.A,{open:g,onClose:()=>h(!1),maxWidth:"md",fullWidth:!0,children:[(0,s.jsxs)(Ui.A,{children:["create"===f&&"\u2795 Add Volunteer Form","edit"===f&&"\u270f\ufe0f Edit Volunteer Form","view"===f&&"\ud83d\udc41\ufe0f View Volunteer Form"]}),(0,s.jsx)(ds.A,{children:(0,s.jsxs)(N.A,{sx:{pt:2},children:[(0,s.jsxs)(Ln.A,{fullWidth:!0,sx:{mb:2},children:[(0,s.jsx)(Mn.A,{children:"Country *"}),(0,s.jsx)(Hn.A,{value:A.country_id,onChange:e=>k((0,m.A)((0,m.A)({},A),{},{country_id:e.target.value})),disabled:"view"===f||"edit"===f,children:"create"===f?r.map(e=>(0,s.jsx)(qn.A,{value:e.id,children:e.name},e.id)):t.map(e=>(0,s.jsx)(qn.A,{value:e.id,children:e.name},e.id))})]}),(0,s.jsx)(Bn.A,{fullWidth:!0,label:"Form Title *",value:A.form_title,onChange:e=>k((0,m.A)((0,m.A)({},A),{},{form_title:e.target.value})),sx:{mb:2},disabled:"view"===f}),(0,s.jsx)(Bn.A,{fullWidth:!0,label:"Form URL *",value:A.form_url,onChange:e=>k((0,m.A)((0,m.A)({},A),{},{form_url:e.target.value})),sx:{mb:2},disabled:"view"===f,placeholder:"https://docs.google.com/forms/d/e/...",helperText:"Enter the complete Google Form URL or any HTTPS form URL"}),(0,s.jsx)(Bn.A,{fullWidth:!0,label:"Description",value:A.description,onChange:e=>k((0,m.A)((0,m.A)({},A),{},{description:e.target.value})),sx:{mb:2},disabled:"view"===f,multiline:!0,rows:3,placeholder:"Brief description of the volunteer opportunity..."}),(0,s.jsx)(ps.A,{control:(0,s.jsx)(ms.A,{checked:A.is_active,onChange:e=>k((0,m.A)((0,m.A)({},A),{},{is_active:e.target.checked})),disabled:"view"===f}),label:"Active"}),"view"===f&&y&&(0,s.jsxs)(N.A,{sx:{mt:2,p:2,bgcolor:"grey.100",borderRadius:1},children:[(0,s.jsx)(_.A,{variant:"subtitle2",gutterBottom:!0,children:"Additional Information:"}),(0,s.jsxs)(_.A,{variant:"body2",children:[(0,s.jsx)("strong",{children:"Created:"})," ",new Date(y.created_at).toLocaleString()]}),(0,s.jsxs)(_.A,{variant:"body2",children:[(0,s.jsx)("strong",{children:"Last Updated:"})," ",new Date(y.updated_at).toLocaleString()]}),(0,s.jsxs)(_.A,{variant:"body2",children:[(0,s.jsx)("strong",{children:"Form ID:"})," ",y.id]})]})]})}),(0,s.jsxs)(Yi.A,{children:[(0,s.jsx)(E.A,{onClick:()=>h(!1),children:"view"===f?"Close":"Cancel"}),"view"!==f&&(0,s.jsx)(E.A,{onClick:async()=>{if(p(""),u(""),A.country_id&&A.form_url&&A.form_title)try{const e="create"===f?"POST":"PUT",n="create"===f?"".concat(ul,"/volunteer-forms"):"".concat(ul,"/volunteer-forms/").concat(y.id),t=await fetch(n,{method:e,headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(A)}),a=await t.json();if(!t.ok)throw new Error(a.message);u("Form ".concat("create"===f?"created":"updated"," successfully")),h(!1),C(),S()}catch(e){p(e.message)}else p("Please fill in all required fields")},variant:"contained",children:"create"===f?"Create":"Update"})]})]}),(0,s.jsxs)(Oi.A,{open:Boolean(v),onClose:()=>w(null),children:[(0,s.jsx)(Ui.A,{children:"\ud83d\uddd1\ufe0f Delete Volunteer Form"}),(0,s.jsx)(ds.A,{children:(0,s.jsx)(_.A,{children:"Are you sure you want to delete this volunteer form? This action cannot be undone."})}),(0,s.jsxs)(Yi.A,{children:[(0,s.jsx)(E.A,{onClick:()=>w(null),children:"Cancel"}),(0,s.jsx)(E.A,{onClick:async()=>{if(v)try{if(!(await fetch("".concat(ul,"/volunteer-forms/").concat(v),{method:"DELETE",credentials:"include"})).ok)throw new Error("Failed to delete form");u("Form deleted successfully"),w(null),S()}catch(e){p(e.message)}},color:"error",variant:"contained",children:"Delete"})]})]})]})};var hl=t(4020),fl=t(8578),bl=t(5563),yl=t(2485),jl=t(7762),vl=t(5404);const wl=Ge,Al=()=>{var e,n,t;const[a,r]=(0,i.useState)([]),[o,l]=(0,i.useState)([]),[c,d]=(0,i.useState)([]),[p,x]=(0,i.useState)([]),[u,g]=(0,i.useState)([]),[h,f]=(0,i.useState)(!0),[b,y]=(0,i.useState)(!1),[j,v]=(0,i.useState)(null),[w,A]=(0,i.useState)({open:!1,message:"",severity:"info"}),[k,S]=(0,i.useState)(0),[C,z]=(0,i.useState)("list"),[T,W]=(0,i.useState)({status:"",categoryId:"",pillarId:"",featured:"",hidden:""}),[F,P]=(0,i.useState)({adding:!1,removing:null,clearing:!1}),[R,B]=(0,i.useState)({title:"",pillarId:"",selectedFocusAreas:[],categoryId:"",countryId:"",description:"",short_description:"",location:"",start_date:"",end_date:"",status:"planning",sdg_goals:[],testimonials:[],project_impacts:[],order_index:0,is_featured:!1,is_hidden:!1}),[D,L]=(0,i.useState)({featured_image:null,gallery:[]}),[M,H]=(0,i.useState)([]),q=[{value:"planning",label:"Planning",color:"default"},{value:"ongoing",label:"Ongoing",color:"primary"},{value:"completed",label:"Completed",color:"success"},{value:"on_hold",label:"On Hold",color:"warning"}];(0,i.useEffect)(()=>{(async()=>{f(!0),await Promise.all([U(),Y(),G(),V()]),await O(),f(!1)})()},[]),(0,i.useEffect)(()=>{h||O()},[T]),(0,i.useEffect)(()=>{if(R.pillarId){const e=c.find(e=>e.id===parseInt(R.pillarId));e&&e.focus_areas?(H(e.focus_areas),j||B(e=>(0,m.A)((0,m.A)({},e),{},{selectedFocusAreas:[]}))):(H([]),j||B(e=>(0,m.A)((0,m.A)({},e),{},{selectedFocusAreas:[]})))}else H([]),j||B(e=>(0,m.A)((0,m.A)({},e),{},{selectedFocusAreas:[]}))},[R.pillarId,c,j]);const O=async()=>{try{const e=new URLSearchParams;Object.entries(T).forEach(n=>{let[t,a]=n;a&&""!==a&&e.append(t,a)});const n="".concat(wl,"/projects").concat(e.toString()?"?".concat(e):"");console.log("Fetching projects from:",n);const t=await fetch(n,{method:"GET",credentials:"include",headers:{"Content-Type":"application/json"}});if(!t.ok)throw new Error("HTTP error! status: ".concat(t.status));const a=await t.json();console.log("Projects response:",a),a.success?r(Array.isArray(a.data)?a.data:[]):Array.isArray(a)?r(a):(console.error("Unexpected response format:",a),r([]),K("Unexpected response format from server","warning"))}catch(e){console.error("Error fetching projects:",e),r([]),K("Error fetching projects: ".concat(e.message),"error")}},U=async()=>{try{const e=await fetch("".concat(wl,"/categories"),{credentials:"include"});if(!e.ok)throw new Error("HTTP error! status: ".concat(e.status));const n=await e.json();console.log("Categories response:",n),n.success?l(Array.isArray(n.data)?n.data:[]):Array.isArray(n)?l(n):l([])}catch(e){console.error("Error fetching categories:",e),l([])}},Y=async()=>{try{const e=await fetch("".concat(wl,"/pillars"),{credentials:"include"});if(!e.ok)throw new Error("HTTP error! status: ".concat(e.status));const n=await e.json();console.log("Pillars response:",n),n.success?d(Array.isArray(n.data)?n.data:[]):Array.isArray(n)?d(n):d([])}catch(e){console.error("Error fetching pillars:",e),d([])}},G=async()=>{try{const e=await fetch("".concat(wl,"/countries"),{credentials:"include"});if(!e.ok)throw new Error("HTTP error! status: ".concat(e.status));const n=await e.json();if(console.log("Countries response:",n),!Array.isArray(n))throw new Error("Invalid response format from countries API");const t=[...n].sort((e,n)=>e.name.localeCompare(n.name));x(t)}catch(e){console.error("Error fetching countries:",e),x([]),K("Error fetching countries: ".concat(e.message),"warning")}},V=async()=>{try{const e=await fetch("".concat(wl,"/impacts?is_active=true"),{credentials:"include"});if(!e.ok)throw new Error("HTTP error! status: ".concat(e.status));const n=await e.json();console.log("Impacts response:",n),n.success?g(Array.isArray(n.data)?n.data:[]):Array.isArray(n)?g(n):g([])}catch(e){console.error("Error fetching impacts:",e),g([])}},J=async e=>{try{const n=await fetch("".concat(wl,"/projects/").concat(e,"/impacts"),{credentials:"include"});if(!n.ok)throw new Error("HTTP error! status: ".concat(n.status));const t=await n.json();return console.log("Project impacts response:",t),t.success?Array.isArray(t.data)?t.data:[]:Array.isArray(t)?t:[]}catch(n){return console.error("Error fetching project impacts:",n),[]}},K=function(e){A({open:!0,message:e,severity:arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info"})},X=()=>{B({title:"",pillarId:"",selectedFocusAreas:[],categoryId:"",countryId:"",description:"",short_description:"",location:"",start_date:"",end_date:"",status:"planning",sdg_goals:[],testimonials:[],project_impacts:[],order_index:0,is_featured:!1,is_hidden:!1}),L({featured_image:null,gallery:[]}),H([])},Z=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(e){v(e);let n=[];e.testimonials&&Array.isArray(e.testimonials)?n=e.testimonials:(e.testimonial_text||e.testimonial_author||e.testimonial_position)&&(n=[{text:e.testimonial_text||"",author:e.testimonial_author||"",position:e.testimonial_position||""}]);const t=await J(e.id),a=e.pillarId||"",r=e.categoryId||e.category_id||"";if(a){const e=c.find(e=>e.id===parseInt(a));e&&e.focus_areas&&H(e.focus_areas)}let o=[];r&&(o=[parseInt(r)]),B({title:e.title||"",pillarId:a,selectedFocusAreas:o,categoryId:r,countryId:e.countryId||e.country_id||"",description:e.description||"",short_description:e.short_description||"",location:e.location||"",start_date:e.start_date?e.start_date.split("T")[0]:"",end_date:e.end_date?e.end_date.split("T")[0]:"",status:e.status||"planning",sdg_goals:Array.isArray(e.sdg_goals)?e.sdg_goals:"string"===typeof e.sdg_goals?JSON.parse(e.sdg_goals||"[]"):[],testimonials:n,project_impacts:t,order_index:e.order_index||0,is_featured:Boolean(e.is_featured),is_hidden:Boolean(e.is_hidden)})}else v(null),X();y(!0)},$=()=>{y(!1),v(null),X(),S(0)},Q=(e,n)=>{B(t=>(0,m.A)((0,m.A)({},t),{},{[e]:n}))},ee=(e,n)=>{L(t=>(0,m.A)((0,m.A)({},t),{},{[e]:n}))},ne=(e,n,t)=>{B(a=>(0,m.A)((0,m.A)({},a),{},{project_impacts:a.project_impacts.map((a,r)=>{if(r===e){if("impact_id"===n){const e=u.find(e=>e.id===parseInt(t));return(0,m.A)((0,m.A)({},a),{},{impact_id:t,impact_name:(null===e||void 0===e?void 0:e.name)||"",unit:(null===e||void 0===e?void 0:e.unit)||""})}return(0,m.A)((0,m.A)({},a),{},{[n]:t})}return a})}))},te=(e,n,t)=>{B(a=>(0,m.A)((0,m.A)({},a),{},{testimonials:a.testimonials.map((a,r)=>r===e?(0,m.A)((0,m.A)({},a),{},{[n]:t}):a)}))},ae=async e=>{if(window.confirm("Are you sure you want to delete this project? This action cannot be undone."))try{const n=await fetch("".concat(wl,"/projects/").concat(e),{method:"DELETE",credentials:"include",headers:{"Content-Type":"application/json"}});if(!n.ok)throw new Error("HTTP error! status: ".concat(n.status));const t=await n.json();t.success?(K("Project deleted successfully","success"),await O()):K(t.message||"Delete failed","error")}catch(n){console.error("Error deleting project:",n),K("Error deleting project: ".concat(n.message),"error")}},re=async(e,n)=>{try{P(e=>(0,m.A)((0,m.A)({},e),{},{adding:!0}));const t=new FormData;t.append("gallery",n);const a=await fetch("".concat(wl,"/projects/").concat(e,"/gallery/add"),{method:"POST",credentials:"include",body:t});if(!a.ok)throw new Error("HTTP error! status: ".concat(a.status));const r=await a.json();r.success?(K("Gallery image added successfully","success"),await O(),j&&j.id===e&&v(r.data)):K(r.message||"Failed to add image","error")}catch(t){console.error("Error adding gallery image:",t),K("Error adding image: ".concat(t.message),"error")}finally{P(e=>(0,m.A)((0,m.A)({},e),{},{adding:!1}))}},oe=async e=>{try{console.log("Toggling featured status for project:",e);const n=a.find(n=>n.id===e);if(!n)return void K("Project not found","error");const t=new FormData;t.append("title",n.title||""),t.append("description",n.description||""),t.append("short_description",n.short_description||""),t.append("location",n.location||""),t.append("status",n.status||"planning"),t.append("pillarId",n.pillarId||""),t.append("categoryId",n.categoryId||n.category_id||""),t.append("countryId",n.countryId||n.country_id||""),t.append("start_date",n.start_date||""),t.append("end_date",n.end_date||""),t.append("order_index",n.order_index||0),t.append("is_hidden",n.is_hidden||!1),t.append("is_featured",!n.is_featured),t.append("sdg_goals",JSON.stringify(n.sdg_goals||[])),t.append("testimonials",JSON.stringify(n.testimonials||[]));const r=(await J(e)).filter(e=>e.impact_id&&e.contribution_value>0).map(e=>({impact_id:parseInt(e.impact_id),contribution_value:parseInt(e.contribution_value)}));t.append("project_impacts",JSON.stringify(r));const o=await fetch("".concat(wl,"/projects/").concat(e),{method:"PUT",credentials:"include",body:t});if(!o.ok)throw new Error("HTTP error! status: ".concat(o.status));const i=await o.json();i.success?(K("Project ".concat(n.is_featured?"unfeatured":"featured"," successfully"),"success"),await O()):K(i.message||"Featured toggle failed","error")}catch(n){console.error("Error toggling featured status:",n),K("Error toggling featured status: ".concat(n.message),"error")}},ie=async e=>{try{console.log("Toggling hidden status for project:",e);const n=a.find(n=>n.id===e);if(!n)return void K("Project not found","error");const t=new FormData;t.append("title",n.title||""),t.append("description",n.description||""),t.append("short_description",n.short_description||""),t.append("location",n.location||""),t.append("status",n.status||"planning"),t.append("pillarId",n.pillarId||""),t.append("categoryId",n.categoryId||n.category_id||""),t.append("countryId",n.countryId||n.country_id||""),t.append("start_date",n.start_date||""),t.append("end_date",n.end_date||""),t.append("order_index",n.order_index||0),t.append("is_featured",n.is_featured||!1),t.append("is_hidden",!n.is_hidden),t.append("sdg_goals",JSON.stringify(n.sdg_goals||[])),t.append("testimonials",JSON.stringify(n.testimonials||[]));const r=(await J(e)).filter(e=>e.impact_id&&e.contribution_value>0).map(e=>({impact_id:parseInt(e.impact_id),contribution_value:parseInt(e.contribution_value)}));t.append("project_impacts",JSON.stringify(r));const o=await fetch("".concat(wl,"/projects/").concat(e),{method:"PUT",credentials:"include",body:t});if(!o.ok)throw new Error("HTTP error! status: ".concat(o.status));const i=await o.json();i.success?(K("Project ".concat(n.is_hidden?"shown":"hidden"," successfully"),"success"),await O()):K(i.message||"Visibility toggle failed","error")}catch(n){console.error("Error toggling hidden status:",n),K("Error toggling visibility: ".concat(n.message),"error")}},se=e=>{const n=q.find(n=>n.value===e);return n?n.color:"default"},le=(e,n)=>{W(t=>(0,m.A)((0,m.A)({},t),{},{[e]:n}))},pe=e=>{const n=c.find(n=>n.id===parseInt(e));return n?n.name:"Unknown Pillar"};return(0,s.jsxs)(N.A,{sx:{p:3},children:[(0,s.jsxs)(N.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3},children:[(0,s.jsx)(_.A,{variant:"h4",children:"Manage Projects"}),(0,s.jsxs)(N.A,{sx:{display:"flex",alignItems:"center",gap:2},children:[(0,s.jsx)(E.A,{variant:"list"===C?"contained":"outlined",size:"small",startIcon:(0,s.jsx)(nt.A,{}),onClick:()=>z("list"),children:"List"}),(0,s.jsx)(E.A,{variant:"grid"===C?"contained":"outlined",size:"small",startIcon:(0,s.jsx)(et.A,{}),onClick:()=>z("grid"),children:"Grid"}),(0,s.jsx)(E.A,{variant:"contained",startIcon:(0,s.jsx)(us.A,{}),onClick:()=>Z(),children:"Add Project"})]})]}),!1,(0,s.jsx)(N.A,{sx:{mb:3},children:(0,s.jsxs)(Un.A,{container:!0,spacing:2,alignItems:"center",children:[(0,s.jsx)(Un.A,{item:!0,xs:12,sm:2,children:(0,s.jsxs)(Ln.A,{fullWidth:!0,size:"small",children:[(0,s.jsx)(Mn.A,{children:"Status"}),(0,s.jsxs)(Hn.A,{value:T.status,onChange:e=>le("status",e.target.value),children:[(0,s.jsx)(qn.A,{value:"",children:"All Statuses"}),q.map(e=>(0,s.jsx)(qn.A,{value:e.value,children:e.label},e.value))]})]})}),(0,s.jsx)(Un.A,{item:!0,xs:12,sm:2,children:(0,s.jsxs)(Ln.A,{fullWidth:!0,size:"small",children:[(0,s.jsx)(Mn.A,{children:"Pillar"}),(0,s.jsxs)(Hn.A,{value:T.pillarId,onChange:e=>le("pillarId",e.target.value),children:[(0,s.jsx)(qn.A,{value:"",children:"All Pillars"}),c.map(e=>(0,s.jsx)(qn.A,{value:e.id,children:e.name},e.id))]})]})}),(0,s.jsx)(Un.A,{item:!0,xs:12,sm:2,children:(0,s.jsxs)(Ln.A,{fullWidth:!0,size:"small",children:[(0,s.jsx)(Mn.A,{children:"Category"}),(0,s.jsxs)(Hn.A,{value:T.categoryId,onChange:e=>le("categoryId",e.target.value),children:[(0,s.jsx)(qn.A,{value:"",children:"All Categories"}),o.map(e=>(0,s.jsx)(qn.A,{value:e.id,children:e.name},e.id))]})]})}),(0,s.jsx)(Un.A,{item:!0,xs:12,sm:2,children:(0,s.jsxs)(Ln.A,{fullWidth:!0,size:"small",children:[(0,s.jsx)(Mn.A,{children:"Featured"}),(0,s.jsxs)(Hn.A,{value:T.featured,onChange:e=>le("featured",e.target.value),children:[(0,s.jsx)(qn.A,{value:"",children:"All Projects"}),(0,s.jsx)(qn.A,{value:"true",children:"Featured Only"}),(0,s.jsx)(qn.A,{value:"false",children:"Non-Featured"})]})]})}),(0,s.jsx)(Un.A,{item:!0,xs:12,sm:2,children:(0,s.jsxs)(Ln.A,{fullWidth:!0,size:"small",children:[(0,s.jsx)(Mn.A,{children:"Visibility"}),(0,s.jsxs)(Hn.A,{value:T.hidden,onChange:e=>le("hidden",e.target.value),children:[(0,s.jsx)(qn.A,{value:"",children:"All Projects"}),(0,s.jsx)(qn.A,{value:"false",children:"Visible Only"}),(0,s.jsx)(qn.A,{value:"true",children:"Hidden Only"})]})]})}),(0,s.jsx)(Un.A,{item:!0,xs:12,sm:2,children:(0,s.jsx)(E.A,{variant:"outlined",onClick:()=>{W({status:"",categoryId:"",pillarId:"",featured:"",hidden:""})},children:"Clear Filters"})})]})}),h?(0,s.jsx)(N.A,{sx:{display:"flex",justifyContent:"center",p:4},children:(0,s.jsx)(On.A,{})}):a.length>0?(0,s.jsxs)(s.Fragment,{children:["list"===C&&(0,s.jsx)(as.A,{component:Rn.A,children:(0,s.jsxs)(rs.A,{children:[(0,s.jsx)(os.A,{children:(0,s.jsxs)(is.A,{children:[(0,s.jsx)(ss.A,{children:"Project"}),(0,s.jsx)(ss.A,{children:"Status"}),(0,s.jsx)(ss.A,{children:"Pillar"}),(0,s.jsx)(ss.A,{children:"Focus Areas"}),(0,s.jsx)(ss.A,{children:"Location"}),(0,s.jsx)(ss.A,{children:"Content"}),(0,s.jsx)(ss.A,{align:"center",children:"Actions"})]})}),(0,s.jsx)(ls.A,{children:a.map(e=>{var n;return(0,s.jsxs)(is.A,{sx:{opacity:e.is_hidden?.6:1,bgcolor:e.is_hidden?"grey.50":"inherit"},children:[(0,s.jsx)(ss.A,{children:(0,s.jsxs)(N.A,{sx:{display:"flex",alignItems:"center",gap:2},children:[e.featured_image&&(0,s.jsx)(jo.A,{variant:"rounded",sx:{width:60,height:60},src:e.featured_image.startsWith("http")?e.featured_image:"".concat("http://localhost:5000").concat(e.featured_image)}),(0,s.jsxs)(N.A,{children:[(0,s.jsxs)(_.A,{variant:"subtitle1",sx:{fontWeight:600,mb:.5},children:[e.title,e.is_featured&&(0,s.jsx)(Zn.A,{fontSize:"small",color:"warning",sx:{ml:.5}}),e.is_hidden&&(0,s.jsx)($r.A,{fontSize:"small",color:"error",sx:{ml:.5}})]}),(0,s.jsx)(_.A,{variant:"body2",color:"text.secondary",sx:{mb:.5},children:e.short_description||e.description&&e.description.substring(0,80)+"..."||"No description"}),e.country_name&&(0,s.jsxs)(N.A,{sx:{display:"flex",alignItems:"center"},children:[(0,s.jsx)(Wa.A,{fontSize:"small",color:"action",sx:{mr:.5}}),(0,s.jsx)(_.A,{variant:"caption",color:"text.secondary",children:e.country_name})]})]})]})}),(0,s.jsx)(ss.A,{children:(0,s.jsx)(it.A,{label:(null===(n=q.find(n=>n.value===e.status))||void 0===n?void 0:n.label)||e.status,color:se(e.status),size:"small"})}),(0,s.jsx)(ss.A,{children:e.pillarId?(0,s.jsx)(it.A,{icon:(0,s.jsx)(jl.A,{}),label:pe(e.pillarId),size:"small",variant:"outlined",color:"primary"}):(0,s.jsx)(_.A,{variant:"body2",color:"text.secondary",children:"-"})}),(0,s.jsx)(ss.A,{children:e.category_name||e.categoryName?(0,s.jsx)(it.A,{icon:(0,s.jsx)(qa.A,{}),label:e.category_name||e.categoryName,size:"small",variant:"outlined"}):(0,s.jsx)(_.A,{variant:"body2",color:"text.secondary",children:"-"})}),(0,s.jsx)(ss.A,{children:(0,s.jsx)(_.A,{variant:"body2",children:e.location||"-"})}),(0,s.jsx)(ss.A,{children:(0,s.jsxs)(N.A,{sx:{display:"flex",gap:1,flexWrap:"wrap"},children:[e.gallery&&Array.isArray(e.gallery)&&e.gallery.length>0&&(0,s.jsx)(ce.A,{title:"".concat(e.gallery.length," gallery images"),children:(0,s.jsx)(hl.A,{badgeContent:e.gallery.length,color:"primary",max:99,children:(0,s.jsx)(vl.A,{fontSize:"small",color:"action"})})}),e.testimonials&&Array.isArray(e.testimonials)&&e.testimonials.length>0&&(0,s.jsx)(ce.A,{title:"".concat(e.testimonials.length," testimonials"),children:(0,s.jsx)(hl.A,{badgeContent:e.testimonials.length,color:"secondary",max:99,children:(0,s.jsx)(jo.A,{sx:{width:20,height:20,fontSize:12},children:"T"})})}),e.project_impacts&&Array.isArray(e.project_impacts)&&e.project_impacts.length>0&&(0,s.jsx)(ce.A,{title:"".concat(e.project_impacts.length," impact metrics"),children:(0,s.jsx)(hl.A,{badgeContent:e.project_impacts.length,color:"success",max:99,children:(0,s.jsx)(Jn.A,{fontSize:"small",color:"action"})})}),e.sdg_goals&&Array.isArray(e.sdg_goals)&&e.sdg_goals.length>0&&(0,s.jsx)(ce.A,{title:"SDG Goals: ".concat(e.sdg_goals.join(", ")),children:(0,s.jsx)(hl.A,{badgeContent:e.sdg_goals.length,color:"info",max:99,children:(0,s.jsx)(Vn.A,{fontSize:"small",color:"action"})})})]})}),(0,s.jsx)(ss.A,{align:"center",children:(0,s.jsxs)(N.A,{sx:{display:"flex",justifyContent:"center",gap:.5},children:[(0,s.jsx)(ce.A,{title:e.is_featured?"Remove from featured":"Make featured",children:(0,s.jsx)(de.A,{size:"small",onClick:()=>oe(e.id),color:e.is_featured?"warning":"default",children:e.is_featured?(0,s.jsx)(Zn.A,{}):(0,s.jsx)(xs.A,{})})}),(0,s.jsx)(ce.A,{title:e.is_hidden?"Show project":"Hide project",children:(0,s.jsx)(de.A,{size:"small",onClick:()=>ie(e.id),color:e.is_hidden?"error":"default",children:e.is_hidden?(0,s.jsx)($r.A,{}):(0,s.jsx)(Qr.A,{})})}),(0,s.jsx)(ce.A,{title:"Edit project",children:(0,s.jsx)(de.A,{size:"small",onClick:()=>Z(e),color:"primary",children:(0,s.jsx)($i.A,{})})}),(0,s.jsx)(ce.A,{title:"Delete project",children:(0,s.jsx)(de.A,{size:"small",onClick:()=>ae(e.id),color:"error",children:(0,s.jsx)(Gi.A,{})})})]})})]},e.id)})})]})}),"grid"===C&&(0,s.jsx)(Un.A,{container:!0,spacing:3,children:a.map(e=>{var n;return(0,s.jsx)(Un.A,{item:!0,xs:12,md:6,lg:4,children:(0,s.jsxs)(Yn.A,{sx:{height:"100%",display:"flex",flexDirection:"column",opacity:e.is_hidden?.6:1,border:e.is_hidden?"2px dashed #ccc":"none"},children:[e.featured_image&&(0,s.jsx)(fl.A,{component:"img",height:"200",image:e.featured_image.startsWith("http")?e.featured_image:"".concat("http://localhost:5000").concat(e.featured_image),alt:e.title,onError:e=>{e.target.style.display="none"}}),(0,s.jsxs)(Gn.A,{sx:{flexGrow:1},children:[(0,s.jsxs)(N.A,{sx:{display:"flex",alignItems:"center",mb:1},children:[(0,s.jsx)(_.A,{variant:"h6",sx:{flexGrow:1,mr:1},children:e.title}),(0,s.jsx)(de.A,{size:"small",onClick:()=>oe(e.id),color:e.is_featured?"warning":"default",children:e.is_featured?(0,s.jsx)(Zn.A,{}):(0,s.jsx)(xs.A,{})}),(0,s.jsx)(de.A,{size:"small",onClick:()=>ie(e.id),color:e.is_hidden?"error":"default",children:e.is_hidden?(0,s.jsx)($r.A,{}):(0,s.jsx)(Qr.A,{})})]}),(0,s.jsxs)(N.A,{sx:{mb:2},children:[(0,s.jsx)(it.A,{label:(null===(n=q.find(n=>n.value===e.status))||void 0===n?void 0:n.label)||e.status,color:se(e.status),size:"small",sx:{mr:1,mb:1}}),e.is_hidden&&(0,s.jsx)(it.A,{label:"Hidden",color:"error",size:"small",variant:"outlined",sx:{mr:1,mb:1}}),e.pillarId&&(0,s.jsx)(it.A,{icon:(0,s.jsx)(jl.A,{}),label:pe(e.pillarId),size:"small",variant:"outlined",color:"primary",sx:{mr:1,mb:1}}),(e.category_name||e.categoryName)&&(0,s.jsx)(it.A,{icon:(0,s.jsx)(qa.A,{}),label:e.category_name||e.categoryName,size:"small",variant:"outlined",sx:{mr:1,mb:1}}),(e.country_name||e.countryName)&&(0,s.jsx)(it.A,{icon:(0,s.jsx)(Wa.A,{}),label:e.country_name||e.countryName,size:"small",variant:"outlined",sx:{mr:1,mb:1}})]}),(0,s.jsx)(_.A,{variant:"body2",color:"text.secondary",sx:{mb:2},children:e.short_description||e.description&&e.description.substring(0,100)+"..."||"No description available"}),e.location&&(0,s.jsxs)(N.A,{sx:{display:"flex",alignItems:"center",mb:1},children:[(0,s.jsx)(tt.A,{fontSize:"small",color:"action",sx:{mr:1}}),(0,s.jsx)(_.A,{variant:"body2",color:"text.secondary",children:e.location})]}),e.sdg_goals&&Array.isArray(e.sdg_goals)&&e.sdg_goals.length>0&&(0,s.jsx)(N.A,{sx:{mb:1},children:(0,s.jsxs)(_.A,{variant:"caption",color:"text.secondary",children:["SDG Goals: ",e.sdg_goals.join(", ")]})}),e.project_impacts&&Array.isArray(e.project_impacts)&&e.project_impacts.length>0&&(0,s.jsx)(N.A,{sx:{mb:1},children:(0,s.jsxs)(_.A,{variant:"caption",color:"text.secondary",children:[(0,s.jsx)(Jn.A,{fontSize:"small",sx:{mr:.5}}),"Impacts: ",e.project_impacts.length]})}),e.testimonials&&Array.isArray(e.testimonials)&&e.testimonials.length>0&&(0,s.jsx)(N.A,{sx:{mb:1},children:(0,s.jsxs)(_.A,{variant:"caption",color:"text.secondary",children:["Testimonials: ",e.testimonials.length]})}),e.gallery&&Array.isArray(e.gallery)&&e.gallery.length>0&&(0,s.jsxs)(N.A,{sx:{display:"flex",alignItems:"center"},children:[(0,s.jsx)(vl.A,{fontSize:"small",color:"action",sx:{mr:1}}),(0,s.jsxs)(_.A,{variant:"caption",color:"text.secondary",children:[e.gallery.length," images"]})]})]}),(0,s.jsxs)(bl.A,{children:[(0,s.jsx)(E.A,{size:"small",startIcon:(0,s.jsx)($i.A,{}),onClick:()=>Z(e),children:"Edit"}),(0,s.jsx)(E.A,{size:"small",color:"error",startIcon:(0,s.jsx)(Gi.A,{}),onClick:()=>ae(e.id),children:"Delete"})]})]})},e.id)})})]}):(0,s.jsxs)(N.A,{sx:{textAlign:"center",py:8},children:[(0,s.jsx)(_.A,{variant:"h6",color:"text.secondary",children:"No projects found"}),(0,s.jsx)(_.A,{variant:"body2",color:"text.secondary",sx:{mb:2},children:Object.values(T).some(e=>e)?"Try adjusting your filters or create a new project":"Start by creating your first project"}),(0,s.jsx)(E.A,{variant:"contained",startIcon:(0,s.jsx)(us.A,{}),onClick:()=>Z(),children:"Add Project"})]}),(0,s.jsxs)(Oi.A,{open:b,onClose:$,maxWidth:"md",fullWidth:!0,PaperProps:{sx:{maxHeight:"90vh"}},children:[(0,s.jsx)(Ui.A,{children:j?"Edit Project":"Create New Project"}),(0,s.jsxs)(ds.A,{dividers:!0,children:[(0,s.jsxs)(js.A,{value:k,onChange:(e,n)=>S(n),sx:{mb:3},children:[(0,s.jsx)(vs.A,{label:"Basic Info"}),(0,s.jsx)(vs.A,{label:"Details"}),(0,s.jsx)(vs.A,{label:"Media"}),(0,s.jsx)(vs.A,{label:"Testimonials"}),(0,s.jsx)(vs.A,{label:"Project Impacts"})]}),0===k&&(0,s.jsxs)(N.A,{children:[(0,s.jsx)(Bn.A,{label:"Project Title",fullWidth:!0,required:!0,value:R.title,onChange:e=>Q("title",e.target.value),sx:{mb:2},error:!R.title.trim(),helperText:R.title.trim()?"":"Title is required"}),(0,s.jsxs)(Un.A,{container:!0,spacing:2,sx:{mb:2},children:[(0,s.jsx)(Un.A,{item:!0,xs:12,sm:6,children:(0,s.jsxs)(Ln.A,{fullWidth:!0,required:!0,children:[(0,s.jsx)(Mn.A,{children:"Programme Pillar"}),(0,s.jsxs)(Hn.A,{value:R.pillarId,onChange:e=>Q("pillarId",e.target.value),error:!R.pillarId,children:[(0,s.jsx)(qn.A,{value:"",children:"Select Pillar"}),c.map(e=>(0,s.jsx)(qn.A,{value:e.id,children:(0,s.jsxs)(N.A,{sx:{display:"flex",alignItems:"center"},children:[(0,s.jsx)(jl.A,{sx:{mr:1,fontSize:18}}),e.name,e.focus_areas&&(0,s.jsxs)(_.A,{variant:"caption",color:"text.secondary",sx:{ml:1},children:["(",e.focus_areas.length," focus areas)"]})]})},e.id))]}),!R.pillarId&&(0,s.jsx)(_.A,{variant:"caption",color:"error",sx:{mt:.5,ml:1},children:"Please select a pillar first"})]})}),(0,s.jsx)(Un.A,{item:!0,xs:12,sm:6,children:(0,s.jsxs)(Ln.A,{fullWidth:!0,children:[(0,s.jsx)(Mn.A,{children:"Country"}),(0,s.jsxs)(Hn.A,{value:R.countryId,onChange:e=>Q("countryId",e.target.value),children:[(0,s.jsx)(qn.A,{value:"",children:"Select Country"}),p.map(e=>(0,s.jsx)(qn.A,{value:e.id,children:e.name},e.id))]})]})})]}),(0,s.jsx)(N.A,{sx:{mb:2},children:(0,s.jsxs)(Ln.A,{fullWidth:!0,required:!0,children:[(0,s.jsx)(Mn.A,{children:"Focus Areas"}),(0,s.jsx)(Hn.A,{multiple:!0,value:R.selectedFocusAreas,onChange:e=>{const n=e.target.value,t=Array.isArray(n)?n.filter(e=>null!==e&&void 0!==e&&""!==e):[];B(e=>(0,m.A)((0,m.A)({},e),{},{selectedFocusAreas:t,categoryId:t.length>0?t[0]:""}))},input:(0,s.jsx)(yl.A,{label:"Focus Areas"}),disabled:!R.pillarId||0===M.length,error:R.pillarId&&0===R.selectedFocusAreas.length,renderValue:e=>(0,s.jsx)(N.A,{sx:{display:"flex",flexWrap:"wrap",gap:.5},children:e.map(e=>{const n=M.find(n=>n.id===e);return(0,s.jsx)(it.A,{label:(null===n||void 0===n?void 0:n.name)||"ID: ".concat(e),size:"small",color:"primary",variant:"outlined"},e)})}),children:M.map(e=>(0,s.jsxs)(qn.A,{value:e.id,children:[(0,s.jsx)(_s.A,{checked:R.selectedFocusAreas.indexOf(e.id)>-1}),(0,s.jsx)(qi.A,{primary:e.name})]},e.id))}),R.pillarId?0===M.length?(0,s.jsx)(_.A,{variant:"caption",color:"warning.main",sx:{mt:.5,ml:1},children:"No focus areas available for selected pillar"}):0===R.selectedFocusAreas.length?(0,s.jsx)(_.A,{variant:"caption",color:"error",sx:{mt:.5,ml:1},children:"Please select at least one focus area"}):null:(0,s.jsx)(_.A,{variant:"caption",color:"text.secondary",sx:{mt:.5,ml:1},children:"Select a pillar first to see available focus areas"})]})}),R.pillarId&&(0,s.jsxs)(N.A,{sx:{mb:2,p:2,bgcolor:"primary.50",borderRadius:1},children:[(0,s.jsxs)(_.A,{variant:"body2",color:"primary.dark",sx:{mb:1},children:[(0,s.jsx)(jl.A,{fontSize:"small",sx:{mr:1}}),"Selected Pillar: ",(0,s.jsx)("strong",{children:pe(R.pillarId)})]}),(0,s.jsxs)(_.A,{variant:"caption",color:"text.secondary",children:["Available Focus Areas: ",M.length," (",M.map(e=>e.name).join(", "),")"]})]}),(0,s.jsx)(Bn.A,{label:"Short Description",fullWidth:!0,multiline:!0,rows:2,value:R.short_description,onChange:e=>Q("short_description",e.target.value),sx:{mb:2},helperText:"Brief summary for project cards"}),(0,s.jsx)(Bn.A,{label:"Full Description",fullWidth:!0,multiline:!0,rows:4,required:!0,value:R.description,onChange:e=>Q("description",e.target.value),sx:{mb:2},error:!R.description.trim(),helperText:R.description.trim()?"":"Description is required"})]}),1===k&&(0,s.jsxs)(N.A,{children:[(0,s.jsxs)(Un.A,{container:!0,spacing:2,sx:{mb:2},children:[(0,s.jsx)(Un.A,{item:!0,xs:12,sm:3,children:(0,s.jsxs)(Ln.A,{fullWidth:!0,children:[(0,s.jsx)(Mn.A,{children:"Status"}),(0,s.jsx)(Hn.A,{value:R.status,onChange:e=>Q("status",e.target.value),children:q.map(e=>(0,s.jsx)(qn.A,{value:e.value,children:e.label},e.value))})]})}),(0,s.jsx)(Un.A,{item:!0,xs:12,sm:3,children:(0,s.jsx)(Bn.A,{label:"Order Index",type:"number",fullWidth:!0,value:R.order_index,onChange:e=>Q("order_index",parseInt(e.target.value)||0),helperText:"Lower numbers appear first"})}),(0,s.jsx)(Un.A,{item:!0,xs:12,sm:3,children:(0,s.jsx)(ps.A,{control:(0,s.jsx)(ms.A,{checked:R.is_featured,onChange:e=>Q("is_featured",e.target.checked)}),label:"Featured Project"})}),(0,s.jsx)(Un.A,{item:!0,xs:12,sm:3,children:(0,s.jsx)(ps.A,{control:(0,s.jsx)(ms.A,{checked:R.is_hidden,onChange:e=>Q("is_hidden",e.target.checked)}),label:"Hide Project"})})]}),(0,s.jsx)(Bn.A,{label:"Location",fullWidth:!0,value:R.location,onChange:e=>Q("location",e.target.value),sx:{mb:2}}),(0,s.jsxs)(Un.A,{container:!0,spacing:2,sx:{mb:2},children:[(0,s.jsx)(Un.A,{item:!0,xs:12,sm:6,children:(0,s.jsx)(Bn.A,{label:"Start Date",type:"date",fullWidth:!0,InputLabelProps:{shrink:!0},value:R.start_date,onChange:e=>Q("start_date",e.target.value)})}),(0,s.jsx)(Un.A,{item:!0,xs:12,sm:6,children:(0,s.jsx)(Bn.A,{label:"End Date",type:"date",fullWidth:!0,InputLabelProps:{shrink:!0},value:R.end_date,onChange:e=>Q("end_date",e.target.value)})})]}),(0,s.jsx)(_.A,{variant:"subtitle2",sx:{mb:1},children:"SDG Goals"}),(0,s.jsx)(Un.A,{container:!0,spacing:1,sx:{mb:2},children:[{value:1,label:"No Poverty"},{value:2,label:"Zero Hunger"},{value:3,label:"Good Health and Well-being"},{value:4,label:"Quality Education"},{value:5,label:"Gender Equality"},{value:6,label:"Clean Water and Sanitation"},{value:7,label:"Affordable and Clean Energy"},{value:8,label:"Decent Work and Economic Growth"},{value:9,label:"Industry, Innovation and Infrastructure"},{value:10,label:"Reduced Inequalities"},{value:11,label:"Sustainable Cities and Communities"},{value:12,label:"Responsible Consumption and Production"},{value:13,label:"Climate Action"},{value:14,label:"Life Below Water"},{value:15,label:"Life on Land"},{value:16,label:"Peace, Justice and Strong Institutions"},{value:17,label:"Partnerships for the Goals"}].map(e=>(0,s.jsx)(Un.A,{item:!0,children:(0,s.jsx)(it.A,{label:"".concat(e.value,". ").concat(e.label),clickable:!0,color:R.sdg_goals.includes(e.value)?"primary":"default",onClick:()=>{return n=e.value,void B(e=>(0,m.A)((0,m.A)({},e),{},{sdg_goals:e.sdg_goals.includes(n)?e.sdg_goals.filter(e=>e!==n):[...e.sdg_goals,n]}));var n},size:"small"})},e.value))})]}),2===k&&(0,s.jsxs)(N.A,{children:[(0,s.jsxs)(N.A,{sx:{mb:4},children:[(0,s.jsx)(_.A,{variant:"subtitle2",sx:{mb:2},children:"Featured Image"}),(0,s.jsx)("input",{type:"file",accept:"image/*",onChange:e=>ee("featured_image",e.target.files[0]),style:{marginBottom:"16px",width:"100%"}}),j&&j.featured_image&&(0,s.jsxs)(N.A,{sx:{mb:2},children:[(0,s.jsx)(_.A,{variant:"caption",color:"text.secondary",sx:{display:"block",mb:1},children:"Current Featured Image:"}),(0,s.jsx)(N.A,{sx:{position:"relative",display:"inline-block"},children:(0,s.jsx)("img",{src:j.featured_image.startsWith("http")?j.featured_image:"".concat("http://localhost:5000").concat(j.featured_image),alt:"Current featured",style:{maxWidth:"300px",maxHeight:"200px",objectFit:"cover",borderRadius:"4px",border:"1px solid #ddd"},onError:e=>{e.target.style.display="none"}})})]})]}),(0,s.jsx)(bo.A,{sx:{mb:3}}),(0,s.jsxs)(N.A,{children:[(0,s.jsxs)(N.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[(0,s.jsxs)(_.A,{variant:"subtitle2",children:["Gallery Images (",j&&(null===(e=j.gallery)||void 0===e?void 0:e.length)||0,"/10)"]}),j&&(0,s.jsxs)(N.A,{children:[(0,s.jsxs)(E.A,{variant:"outlined",size:"small",startIcon:(0,s.jsx)(us.A,{}),component:"label",disabled:F.adding||((null===(n=j.gallery)||void 0===n?void 0:n.length)||0)>=10,sx:{mr:1},children:["Add Image",(0,s.jsx)("input",{type:"file",hidden:!0,accept:"image/*",onChange:e=>{e.target.files[0]&&(re(j.id,e.target.files[0]),e.target.value="")}})]}),(0,s.jsx)(E.A,{variant:"outlined",size:"small",color:"error",startIcon:F.clearing?(0,s.jsx)(On.A,{size:16}):(0,s.jsx)(Gi.A,{}),onClick:()=>(async e=>{if(window.confirm("Are you sure you want to remove all gallery images? This action cannot be undone."))try{P(e=>(0,m.A)((0,m.A)({},e),{},{clearing:!0}));const n=await fetch("".concat(wl,"/projects/").concat(e,"/gallery"),{method:"DELETE",credentials:"include",headers:{"Content-Type":"application/json"}});if(!n.ok)throw new Error("HTTP error! status: ".concat(n.status));const t=await n.json();t.success?(K("Gallery cleared successfully","success"),await O(),j&&j.id===e&&v(t.data)):K(t.message||"Failed to clear gallery","error")}catch(n){console.error("Error clearing gallery:",n),K("Error clearing gallery: ".concat(n.message),"error")}finally{P(e=>(0,m.A)((0,m.A)({},e),{},{clearing:!1}))}})(j.id),disabled:F.clearing||!(null!==(t=j.gallery)&&void 0!==t&&t.length),children:"Clear All"})]})]}),!j&&(0,s.jsxs)(N.A,{sx:{mb:3},children:[(0,s.jsx)(_.A,{variant:"caption",color:"text.secondary",sx:{display:"block",mb:1},children:"Upload multiple images for new project (Max 10):"}),(0,s.jsx)("input",{type:"file",accept:"image/*",multiple:!0,onChange:e=>ee("gallery",e.target.files),style:{marginBottom:"16px",width:"100%"}})]}),j&&j.gallery&&Array.isArray(j.gallery)&&j.gallery.length>0?(0,s.jsx)(Un.A,{container:!0,spacing:2,children:j.gallery.map((e,n)=>(0,s.jsx)(Un.A,{item:!0,xs:6,sm:4,md:3,children:(0,s.jsxs)(Yn.A,{sx:{position:"relative"},children:[(0,s.jsx)(fl.A,{component:"img",height:"120",image:e.startsWith("http")?e:"".concat("http://localhost:5000").concat(e),alt:"Gallery ".concat(n+1),sx:{objectFit:"cover"},onError:e=>{e.target.src="/placeholder-image.jpg",e.target.style.opacity="0.5"}}),(0,s.jsx)(N.A,{sx:{position:"absolute",top:4,right:4,display:"flex",gap:.5},children:(0,s.jsx)(de.A,{size:"small",sx:{bgcolor:"rgba(255,255,255,0.9)","&:hover":{bgcolor:"rgba(255,255,255,1)"},boxShadow:1},onClick:()=>(async(e,n)=>{try{P(e=>(0,m.A)((0,m.A)({},e),{},{removing:n}));const t=await fetch("".concat(wl,"/projects/").concat(e,"/gallery/").concat(n),{method:"DELETE",credentials:"include",headers:{"Content-Type":"application/json"}});if(!t.ok)throw new Error("HTTP error! status: ".concat(t.status));const a=await t.json();a.success?(K("Gallery image removed successfully","success"),await O(),j&&j.id===e&&v(a.data)):K(a.message||"Failed to remove image","error")}catch(t){console.error("Error removing gallery image:",t),K("Error removing image: ".concat(t.message),"error")}finally{P(e=>(0,m.A)((0,m.A)({},e),{},{removing:null}))}})(j.id,n),disabled:F.removing===n,children:F.removing===n?(0,s.jsx)(On.A,{size:16}):(0,s.jsx)(Gi.A,{fontSize:"small",color:"error"})})}),(0,s.jsx)(N.A,{sx:{position:"absolute",bottom:4,left:4,bgcolor:"rgba(0,0,0,0.7)",color:"white",px:1,py:.5,borderRadius:1,fontSize:"0.75rem"},children:n+1})]})},n))}):j?(0,s.jsxs)(N.A,{sx:{textAlign:"center",py:4,bgcolor:"grey.50",borderRadius:1,border:"2px dashed #ddd"},children:[(0,s.jsx)(vl.A,{fontSize:"large",color:"disabled",sx:{mb:1}}),(0,s.jsx)(_.A,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"No gallery images yet"}),(0,s.jsxs)(E.A,{variant:"outlined",size:"small",startIcon:(0,s.jsx)(us.A,{}),component:"label",disabled:F.adding,children:["Add First Image",(0,s.jsx)("input",{type:"file",hidden:!0,accept:"image/*",onChange:e=>{e.target.files[0]&&(re(j.id,e.target.files[0]),e.target.value="")}})]})]}):null,(0,s.jsxs)(I.A,{severity:"info",sx:{mt:2},children:[(0,s.jsx)(_.A,{variant:"body2",children:"Gallery Management:"}),(0,s.jsxs)("ul",{style:{margin:"8px 0",paddingLeft:"20px"},children:[(0,s.jsx)("li",{children:"Maximum 10 images per project"}),(0,s.jsx)("li",{children:"Supported formats: JPG, PNG, GIF, WebP"}),(0,s.jsx)("li",{children:"Individual images can be added/removed in edit mode"}),(0,s.jsx)("li",{children:"Images are automatically optimized for web display"})]})]}),F.adding&&(0,s.jsxs)(N.A,{sx:{mt:2,display:"flex",alignItems:"center",gap:1},children:[(0,s.jsx)(On.A,{size:16}),(0,s.jsx)(_.A,{variant:"body2",color:"text.secondary",children:"Adding image to gallery..."})]})]})]}),3===k&&(0,s.jsxs)(N.A,{children:[(0,s.jsxs)(N.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[(0,s.jsxs)(_.A,{variant:"subtitle2",children:["Testimonials (",R.testimonials.length,")"]}),(0,s.jsx)(E.A,{variant:"outlined",size:"small",startIcon:(0,s.jsx)(us.A,{}),onClick:()=>{B(e=>(0,m.A)((0,m.A)({},e),{},{testimonials:[...e.testimonials,{text:"",author:"",position:""}]}))},children:"Add Testimonial"})]}),0===R.testimonials.length?(0,s.jsx)(N.A,{sx:{textAlign:"center",py:4,bgcolor:"grey.50",borderRadius:1},children:(0,s.jsx)(_.A,{variant:"body2",color:"text.secondary",children:'No testimonials added yet. Click "Add Testimonial" to start collecting client feedback.'})}):(0,s.jsx)(N.A,{children:R.testimonials.map((e,n)=>(0,s.jsxs)(Yn.A,{sx:{mb:2,p:2},children:[(0,s.jsxs)(N.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[(0,s.jsxs)(_.A,{variant:"subtitle2",children:["Testimonial ",n+1]}),(0,s.jsx)(de.A,{size:"small",color:"error",onClick:()=>(e=>{B(n=>(0,m.A)((0,m.A)({},n),{},{testimonials:n.testimonials.filter((n,t)=>t!==e)}))})(n),children:(0,s.jsx)(Gi.A,{})})]}),(0,s.jsx)(Bn.A,{label:"Testimonial Text",fullWidth:!0,multiline:!0,rows:3,value:e.text,onChange:e=>te(n,"text",e.target.value),sx:{mb:2},placeholder:"Enter the testimonial text..."}),(0,s.jsxs)(Un.A,{container:!0,spacing:2,children:[(0,s.jsx)(Un.A,{item:!0,xs:12,sm:6,children:(0,s.jsx)(Bn.A,{label:"Author Name",fullWidth:!0,value:e.author,onChange:e=>te(n,"author",e.target.value),placeholder:"Name of person giving testimonial"})}),(0,s.jsx)(Un.A,{item:!0,xs:12,sm:6,children:(0,s.jsx)(Bn.A,{label:"Author Position",fullWidth:!0,value:e.position,onChange:e=>te(n,"position",e.target.value),placeholder:"Job title or role"})})]})]},n))})]}),4===k&&(0,s.jsxs)(N.A,{children:[(0,s.jsxs)(N.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[(0,s.jsxs)(_.A,{variant:"subtitle2",children:["Project Impacts (",R.project_impacts.length,")"]}),(0,s.jsx)(E.A,{variant:"outlined",size:"small",startIcon:(0,s.jsx)(us.A,{}),onClick:()=>{B(e=>(0,m.A)((0,m.A)({},e),{},{project_impacts:[...e.project_impacts,{impact_id:"",contribution_value:0,impact_name:"",unit:""}]}))},disabled:0===u.length||R.project_impacts.length>=u.length,children:"Add Impact"})]}),0===u.length&&(0,s.jsx)(I.A,{severity:"warning",sx:{mb:2},children:"No impacts available. Please create impacts in the system first before linking them to projects."}),R.project_impacts.length>=u.length&&u.length>0&&(0,s.jsx)(I.A,{severity:"info",sx:{mb:2},children:"All available impacts have been added to this project."}),0===R.project_impacts.length?(0,s.jsx)(N.A,{sx:{textAlign:"center",py:4,bgcolor:"grey.50",borderRadius:1},children:(0,s.jsx)(_.A,{variant:"body2",color:"text.secondary",children:'No project impacts added yet. Click "Add Impact" to link this project to global impact metrics.'})}):(0,s.jsx)(N.A,{children:R.project_impacts.map((e,n)=>{const t=R.project_impacts.map((e,t)=>t!==n?parseInt(e.impact_id):null).filter(e=>null!==e),a=u.filter(n=>!t.includes(n.id)||parseInt(e.impact_id)===n.id);return(0,s.jsxs)(Yn.A,{sx:{mb:2,p:2},children:[(0,s.jsxs)(N.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[(0,s.jsxs)(_.A,{variant:"subtitle2",children:["Impact ",n+1]}),(0,s.jsx)(de.A,{size:"small",color:"error",onClick:()=>(e=>{B(n=>(0,m.A)((0,m.A)({},n),{},{project_impacts:n.project_impacts.filter((n,t)=>t!==e)}))})(n),children:(0,s.jsx)(Gi.A,{})})]}),(0,s.jsxs)(Un.A,{container:!0,spacing:2,children:[(0,s.jsx)(Un.A,{item:!0,xs:12,sm:6,children:(0,s.jsxs)(Ln.A,{fullWidth:!0,error:!e.impact_id,children:[(0,s.jsx)(Mn.A,{children:"Impact Type"}),(0,s.jsxs)(Hn.A,{value:e.impact_id||"",onChange:e=>ne(n,"impact_id",e.target.value),children:[(0,s.jsx)(qn.A,{value:"",children:"Select Impact"}),a.map(e=>(0,s.jsxs)(qn.A,{value:e.id,children:[e.name," ",e.unit?"(".concat(e.unit,")"):""]},e.id))]}),!e.impact_id&&(0,s.jsx)(_.A,{variant:"caption",color:"error",sx:{mt:.5},children:"Please select an impact type"})]})}),(0,s.jsx)(Un.A,{item:!0,xs:12,sm:6,children:(0,s.jsx)(Bn.A,{label:"Contribution Value",type:"number",fullWidth:!0,value:e.contribution_value||0,onChange:e=>ne(n,"contribution_value",parseInt(e.target.value)||0),placeholder:"How much this project contributes",helperText:e.unit?"Unit: ".concat(e.unit):"",inputProps:{min:0}})})]}),e.impact_name&&(0,s.jsx)(N.A,{sx:{mt:2,p:2,bgcolor:"grey.50",borderRadius:1},children:(0,s.jsxs)(_.A,{variant:"body2",color:"text.secondary",children:[(0,s.jsx)(Jn.A,{fontSize:"small",sx:{mr:1}}),"Contributing to: ",(0,s.jsx)("strong",{children:e.impact_name}),e.unit&&" (".concat(e.unit,")")]})}),R.project_impacts.filter(n=>n.impact_id&&parseInt(n.impact_id)===parseInt(e.impact_id)).length>1&&(0,s.jsx)(I.A,{severity:"error",sx:{mt:2},children:"This impact has already been added to the project. Please select a different impact or remove the duplicate."})]},n)})}),R.project_impacts.length>0&&(0,s.jsx)(N.A,{sx:{mt:2,p:2,bgcolor:"primary.50",borderRadius:1},children:(0,s.jsxs)(_.A,{variant:"body2",color:"primary.dark",children:[(0,s.jsx)(Vn.A,{fontSize:"small",sx:{mr:1}}),"This project will contribute to ",R.project_impacts.length," global impact metric(s). Values will be added to the global totals when the project is saved."]})}),R.project_impacts.length>0&&(0,s.jsxs)(N.A,{sx:{mt:2},children:[(0,s.jsx)(_.A,{variant:"subtitle2",sx:{mb:1},children:"Impact Summary:"}),R.project_impacts.filter(e=>e.impact_name&&e.contribution_value>0).map((e,n)=>(0,s.jsx)(it.A,{label:"".concat(e.impact_name,": ").concat(e.contribution_value.toLocaleString()," ").concat(e.unit||""),size:"small",sx:{mr:1,mb:1},color:"primary",variant:"outlined"},n))]})]})]}),(0,s.jsxs)(Yi.A,{sx:{p:2},children:[(0,s.jsx)(E.A,{onClick:$,children:"Cancel"}),(0,s.jsxs)(E.A,{variant:"contained",onClick:async()=>{try{if(!R.title.trim())return void K("Project title is required","error");if(!R.description.trim())return void K("Project description is required","error");if(!R.pillarId)return K("Please select a pillar for this project","error"),void S(0);if(0===R.selectedFocusAreas.length)return K("Please select at least one focus area","error"),void S(0);if(R.project_impacts&&R.project_impacts.length>0){const e=R.project_impacts.filter(e=>e.impact_id).map(e=>parseInt(e.impact_id));if(e.filter((n,t)=>e.indexOf(n)!==t).length>0)return K("Duplicate impacts detected. Each impact can only be added once per project.","error"),void S(4);if(R.project_impacts.filter(e=>!e.impact_id||!e.contribution_value||e.contribution_value<=0).length>0)return K("All project impacts must have both an impact type selected and a positive contribution value.","error"),void S(4)}const e=R.project_impacts.filter(e=>e.impact_id&&e.contribution_value>0).map(e=>({impact_id:parseInt(e.impact_id),contribution_value:parseInt(e.contribution_value)})),n=new FormData;Object.entries(R).forEach(t=>{let[a,r]=t;"project_impacts"===a?n.append(a,JSON.stringify(e)):"selectedFocusAreas"===a?r.length>0&&(n.append("categoryId",r[0]),n.append("focus_area_ids",JSON.stringify(r))):"sdg_goals"===a||"testimonials"===a?n.append(a,JSON.stringify(r)):null!==r&&void 0!==r&&"categoryId"!==a&&n.append(a,r)}),D.featured_image&&n.append("featured_image",D.featured_image),D.gallery&&D.gallery.length>0&&Array.from(D.gallery).forEach(e=>{n.append("gallery",e)});const t=j?"".concat(wl,"/projects/").concat(j.id):"".concat(wl,"/projects"),a=j?"PUT":"POST";console.log("".concat(a," request to:"),t);const r=await fetch(t,{method:a,credentials:"include",body:n});if(!r.ok)throw new Error("HTTP error! status: ".concat(r.status));const o=await r.json();console.log("Submit response:",o),o.success?(K("Project ".concat(j?"updated":"created"," successfully"),"success"),$(),await O()):K(o.message||"Operation failed","error")}catch(e){console.error("Error submitting project:",e),K("Error submitting project: ".concat(e.message),"error")}},disabled:!R.title.trim()||!R.description.trim()||!R.pillarId||0===R.selectedFocusAreas.length,children:[j?"Update":"Create"," Project"]})]})]}),(0,s.jsx)(Is.A,{open:w.open,autoHideDuration:6e3,onClose:()=>A((0,m.A)((0,m.A)({},w),{},{open:!1})),anchorOrigin:{vertical:"bottom",horizontal:"right"},children:(0,s.jsx)(I.A,{onClose:()=>A((0,m.A)((0,m.A)({},w),{},{open:!1})),severity:w.severity,variant:"filled",children:w.message})})]})};var kl=t(4309),Sl=t(9302);const Cl=Ge,zl={people:Us.A,location_city:kl.A,check_circle:Kn.A,handshake:Fa.A,attach_money:Pa.A,volunteer_activism:Ra.A,assessment:Vn.A,trending_up:Jn.A},Nl=()=>{const[e,n]=(0,i.useState)([]),[t,a]=(0,i.useState)(!0),[r,o]=(0,i.useState)(!1),[l,c]=(0,i.useState)(null),[d,p]=(0,i.useState)({open:!1,message:"",severity:"info"}),[x,u]=(0,i.useState)({}),[g,h]=(0,i.useState)({is_active:"",is_featured:""}),[f,b]=(0,i.useState)(!1),[y,j]=(0,i.useState)({name:"",description:"",starting_value:0,current_value:0,unit:"",icon:"assessment",color:"#1976d2",order_index:0,is_active:!0,is_featured:!1}),[v,w]=(0,i.useState)({}),A=[{value:"people",label:"People",icon:Us.A},{value:"location_city",label:"Communities",icon:kl.A},{value:"check_circle",label:"Projects",icon:Kn.A},{value:"handshake",label:"Partnerships",icon:Fa.A},{value:"attach_money",label:"Funding",icon:Pa.A},{value:"volunteer_activism",label:"Volunteers",icon:Ra.A},{value:"assessment",label:"Assessment",icon:Vn.A},{value:"trending_up",label:"Growth",icon:Jn.A}];(0,i.useEffect)(()=>{(async()=>{a(!0);try{await Promise.all([k(),S()])}catch(e){console.error("Error initializing data:",e),C("Error loading data","error")}finally{a(!1)}})()},[]),(0,i.useEffect)(()=>{t||k()},[g]);const k=async()=>{try{const e=new URLSearchParams;Object.entries(g).forEach(n=>{let[t,a]=n;a&&""!==a&&e.append(t,a)});const t="".concat(Cl,"/impacts").concat(e.toString()?"?".concat(e):"");console.log("Fetching impacts from:",t);const a=await fetch(t,{method:"GET",credentials:"include",headers:{"Content-Type":"application/json"}});if(console.log("Response status:",a.status),!a.ok){const e=await a.text();throw console.error("Fetch error:",e),new Error("HTTP error! status: ".concat(a.status," - ").concat(e))}const r=await a.json();console.log("Fetched impacts data:",r),r.success?n(Array.isArray(r.data)?r.data:[]):(console.error("Unexpected response format:",r),n([]),C(r.message||"Unexpected response format from server","warning"))}catch(e){console.error("Error fetching impacts:",e),n([]),C("Error fetching impacts: ".concat(e.message),"error")}},S=async()=>{try{console.log("Fetching stats from:","".concat(Cl,"/impacts/stats"));const e=await fetch("".concat(Cl,"/impacts/stats"),{credentials:"include",headers:{"Content-Type":"application/json"}});if(console.log("Stats response status:",e.status),e.ok){const n=await e.json();console.log("Stats data:",n),n.success?u(n.data||{}):console.warn("Stats fetch unsuccessful:",n.message)}else{const n=await e.text();console.warn("Stats fetch failed:",e.status,n)}}catch(e){console.error("Error fetching stats:",e)}},C=function(e){p({open:!0,message:e,severity:arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info"})},z=()=>{j({name:"",description:"",starting_value:0,current_value:0,unit:"",icon:"assessment",color:"#1976d2",order_index:0,is_active:!0,is_featured:!1}),w({})},T=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;e?(c(e),j({name:e.name||"",description:e.description||"",starting_value:e.starting_value||0,current_value:e.current_value||0,unit:e.unit||"",icon:e.icon||"assessment",color:e.color||"#1976d2",order_index:e.order_index||0,is_active:Boolean(e.is_active),is_featured:Boolean(e.is_featured)})):(c(null),z()),o(!0)},W=()=>{o(!1),c(null),z(),b(!1)},F=(e,n)=>{j(t=>(0,m.A)((0,m.A)({},t),{},{[e]:n})),v[e]&&w(n=>(0,m.A)((0,m.A)({},n),{},{[e]:""}))},P=e=>e>=1e6?(e/1e6).toFixed(1)+"M":e>=1e3?(e/1e3).toFixed(1)+"K":e.toLocaleString(),R=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"#1976d2";const t=zl[e]||Vn.A;return(0,s.jsx)(t,{style:{color:n}})};return(0,s.jsxs)(N.A,{sx:{p:3},children:[(0,s.jsxs)(N.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3},children:[(0,s.jsx)(_.A,{variant:"h4",children:"\ud83d\udcca Manage Impact Statistics"}),(0,s.jsxs)(N.A,{sx:{display:"flex",gap:2},children:[(0,s.jsx)(E.A,{variant:"outlined",startIcon:(0,s.jsx)(Sl.A,{}),onClick:async()=>{try{a(!0);const e=await fetch("".concat(Cl,"/impacts/recalculate"),{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"}});if(!e.ok){const n=await e.text();throw new Error("HTTP error! status: ".concat(e.status," - ").concat(n))}const n=await e.json();n.success?(C("Impact totals recalculated successfully","success"),await k(),await S()):C(n.message||"Recalculation failed","error")}catch(e){console.error("Error recalculating totals:",e),C("Error recalculating totals: ".concat(e.message),"error")}finally{a(!1)}},disabled:t,children:"Recalculate"}),(0,s.jsx)(E.A,{variant:"contained",startIcon:(0,s.jsx)(us.A,{}),onClick:()=>T(),disabled:t,children:"Add Impact"})]})]}),x&&Object.keys(x).length>0&&(0,s.jsxs)(Un.A,{container:!0,spacing:2,sx:{mb:3},children:[(0,s.jsx)(Un.A,{item:!0,xs:12,sm:6,md:2.4,children:(0,s.jsx)(Yn.A,{children:(0,s.jsxs)(Gn.A,{children:[(0,s.jsx)(_.A,{color:"text.secondary",gutterBottom:!0,children:"Total Impacts"}),(0,s.jsx)(_.A,{variant:"h5",children:x.total_impacts||0})]})})}),(0,s.jsx)(Un.A,{item:!0,xs:12,sm:6,md:2.4,children:(0,s.jsx)(Yn.A,{children:(0,s.jsxs)(Gn.A,{children:[(0,s.jsx)(_.A,{color:"text.secondary",gutterBottom:!0,children:"Active Impacts"}),(0,s.jsx)(_.A,{variant:"h5",children:x.active_impacts||0})]})})}),(0,s.jsx)(Un.A,{item:!0,xs:12,sm:6,md:2.4,children:(0,s.jsx)(Yn.A,{children:(0,s.jsxs)(Gn.A,{children:[(0,s.jsx)(_.A,{color:"text.secondary",gutterBottom:!0,children:"Featured Impacts"}),(0,s.jsx)(_.A,{variant:"h5",children:x.featured_impacts||0})]})})}),(0,s.jsx)(Un.A,{item:!0,xs:12,sm:6,md:2.4,children:(0,s.jsx)(Yn.A,{children:(0,s.jsxs)(Gn.A,{children:[(0,s.jsx)(_.A,{color:"text.secondary",gutterBottom:!0,children:"Total Impact Value"}),(0,s.jsx)(_.A,{variant:"h5",children:P(x.total_impact_value||0)})]})})}),(0,s.jsx)(Un.A,{item:!0,xs:12,sm:6,md:2.4,children:(0,s.jsx)(Yn.A,{children:(0,s.jsxs)(Gn.A,{children:[(0,s.jsx)(_.A,{color:"text.secondary",gutterBottom:!0,children:"Projects with Impact"}),(0,s.jsx)(_.A,{variant:"h5",children:x.projects_with_impacts||0})]})})})]}),(0,s.jsx)(N.A,{sx:{mb:3},children:(0,s.jsxs)(Un.A,{container:!0,spacing:2,alignItems:"center",children:[(0,s.jsx)(Un.A,{item:!0,xs:12,sm:3,children:(0,s.jsxs)(Ln.A,{fullWidth:!0,size:"small",children:[(0,s.jsx)(Mn.A,{children:"Status"}),(0,s.jsxs)(Hn.A,{value:g.is_active,onChange:e=>h(n=>(0,m.A)((0,m.A)({},n),{},{is_active:e.target.value})),children:[(0,s.jsx)(qn.A,{value:"",children:"All Impacts"}),(0,s.jsx)(qn.A,{value:"true",children:"Active Only"}),(0,s.jsx)(qn.A,{value:"false",children:"Inactive Only"})]})]})}),(0,s.jsx)(Un.A,{item:!0,xs:12,sm:3,children:(0,s.jsxs)(Ln.A,{fullWidth:!0,size:"small",children:[(0,s.jsx)(Mn.A,{children:"Featured"}),(0,s.jsxs)(Hn.A,{value:g.is_featured,onChange:e=>h(n=>(0,m.A)((0,m.A)({},n),{},{is_featured:e.target.value})),children:[(0,s.jsx)(qn.A,{value:"",children:"All Impacts"}),(0,s.jsx)(qn.A,{value:"true",children:"Featured Only"}),(0,s.jsx)(qn.A,{value:"false",children:"Not Featured"})]})]})}),(0,s.jsx)(Un.A,{item:!0,xs:12,sm:3,children:(0,s.jsx)(E.A,{variant:"outlined",onClick:()=>h({is_active:"",is_featured:""}),children:"Clear Filters"})})]})}),t?(0,s.jsx)(N.A,{sx:{display:"flex",justifyContent:"center",p:4},children:(0,s.jsx)(On.A,{})}):e.length>0?(0,s.jsx)(as.A,{component:Rn.A,children:(0,s.jsxs)(rs.A,{children:[(0,s.jsx)(os.A,{children:(0,s.jsxs)(is.A,{children:[(0,s.jsx)(ss.A,{children:"Impact"}),(0,s.jsx)(ss.A,{children:"Starting Value"}),(0,s.jsx)(ss.A,{children:"Current Value"}),(0,s.jsx)(ss.A,{children:"Unit"}),(0,s.jsx)(ss.A,{align:"center",children:"Projects"}),(0,s.jsx)(ss.A,{align:"center",children:"Status"}),(0,s.jsx)(ss.A,{align:"center",children:"Featured"}),(0,s.jsx)(ss.A,{align:"center",children:"Order"}),(0,s.jsx)(ss.A,{align:"center",children:"Actions"})]})}),(0,s.jsx)(ls.A,{children:e.map(e=>(0,s.jsxs)(is.A,{children:[(0,s.jsx)(ss.A,{children:(0,s.jsxs)(N.A,{sx:{display:"flex",alignItems:"center",gap:2},children:[(0,s.jsx)(jo.A,{sx:{bgcolor:e.color,width:40,height:40},children:R(e.icon,"#ffffff")}),(0,s.jsxs)(N.A,{children:[(0,s.jsxs)(_.A,{variant:"subtitle2",fontWeight:"bold",children:[e.name,e.is_featured&&(0,s.jsx)(Zn.A,{sx:{ml:1,fontSize:16,color:"#FFD700"}})]}),e.description&&(0,s.jsx)(_.A,{variant:"caption",color:"text.secondary",children:e.description.length>50?"".concat(e.description.substring(0,50),"..."):e.description})]})]})}),(0,s.jsx)(ss.A,{children:(0,s.jsx)(_.A,{variant:"body2",color:"text.secondary",children:P(e.starting_value||0)})}),(0,s.jsx)(ss.A,{children:(0,s.jsx)(_.A,{variant:"h6",color:e.color,children:P(e.current_value||0)})}),(0,s.jsx)(ss.A,{children:(0,s.jsx)(it.A,{label:e.unit||"units",size:"small",variant:"outlined"})}),(0,s.jsx)(ss.A,{align:"center",children:(0,s.jsx)(it.A,{label:e.project_count||0,size:"small",color:"primary"})}),(0,s.jsx)(ss.A,{align:"center",children:(0,s.jsx)(it.A,{label:e.is_active?"Active":"Inactive",color:e.is_active?"success":"default",size:"small",icon:e.is_active?(0,s.jsx)(Qr.A,{}):(0,s.jsx)($r.A,{})})}),(0,s.jsx)(ss.A,{align:"center",children:(0,s.jsx)(it.A,{label:e.is_featured?"Featured":"Not Featured",color:e.is_featured?"warning":"default",size:"small",icon:e.is_featured?(0,s.jsx)(Zn.A,{}):(0,s.jsx)(xs.A,{})})}),(0,s.jsx)(ss.A,{align:"center",children:(0,s.jsx)(_.A,{variant:"body2",children:e.order_index})}),(0,s.jsx)(ss.A,{align:"center",children:(0,s.jsxs)(N.A,{sx:{display:"flex",justifyContent:"center",gap:1},children:[(0,s.jsx)(ce.A,{title:"Edit Impact",children:(0,s.jsx)(de.A,{size:"small",onClick:()=>T(e),children:(0,s.jsx)($i.A,{})})}),(0,s.jsx)(ce.A,{title:e.project_count>0?"Cannot delete: Impact has associated projects":"Delete Impact",children:(0,s.jsx)("span",{children:(0,s.jsx)(de.A,{size:"small",color:"error",onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this impact? This action cannot be undone."))try{const n=await fetch("".concat(Cl,"/impacts/").concat(e),{method:"DELETE",credentials:"include",headers:{"Content-Type":"application/json"}});if(!n.ok){const e=await n.text();throw new Error("HTTP error! status: ".concat(n.status," - ").concat(e))}const t=await n.json();t.success?(C("Impact deleted successfully","success"),await k(),await S()):C(t.message||"Delete failed","error")}catch(n){console.error("Error deleting impact:",n),C("Error deleting impact: ".concat(n.message),"error")}})(e.id),disabled:e.project_count>0,children:(0,s.jsx)(Gi.A,{})})})})]})})]},e.id))})]})}):(0,s.jsxs)(N.A,{sx:{textAlign:"center",py:8},children:[(0,s.jsx)(_.A,{variant:"h6",color:"text.secondary",children:"No impact metrics found"}),(0,s.jsx)(_.A,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"Start by creating your first impact metric to track project outcomes"}),(0,s.jsx)(E.A,{variant:"contained",startIcon:(0,s.jsx)(us.A,{}),onClick:()=>T(),children:"Add Impact Metric"})]}),(0,s.jsxs)(Oi.A,{open:r,onClose:W,maxWidth:"md",fullWidth:!0,children:[(0,s.jsx)(Ui.A,{children:l?"Edit Impact Metric":"Create New Impact Metric"}),(0,s.jsx)(ds.A,{dividers:!0,children:(0,s.jsxs)(Un.A,{container:!0,spacing:2,children:[(0,s.jsx)(Un.A,{item:!0,xs:12,children:(0,s.jsx)(Bn.A,{label:"Impact Name",fullWidth:!0,required:!0,value:y.name,onChange:e=>F("name",e.target.value),error:!!v.name,helperText:v.name||'e.g., "People Served", "Communities Reached"'})}),(0,s.jsx)(Un.A,{item:!0,xs:12,children:(0,s.jsx)(Bn.A,{label:"Description",fullWidth:!0,multiline:!0,rows:3,value:y.description,onChange:e=>F("description",e.target.value),helperText:"Brief description of what this impact measures"})}),(0,s.jsx)(Un.A,{item:!0,xs:12,sm:6,children:(0,s.jsx)(Bn.A,{label:"Starting Value",type:"number",fullWidth:!0,value:y.starting_value,onChange:e=>F("starting_value",parseInt(e.target.value)||0),error:!!v.starting_value,helperText:v.starting_value||"Initial/baseline value before any project contributions",inputProps:{min:0}})}),(0,s.jsx)(Un.A,{item:!0,xs:12,sm:6,children:(0,s.jsx)(Bn.A,{label:"Current Value",type:"number",fullWidth:!0,value:y.current_value,onChange:e=>F("current_value",parseInt(e.target.value)||0),error:!!v.current_value,helperText:l?v.current_value||"Current total (starting value + project contributions)":"Will be automatically set to starting value for new impacts",disabled:!l,InputProps:{readOnly:!l},inputProps:{min:0}})}),(0,s.jsx)(Un.A,{item:!0,xs:12,sm:6,children:(0,s.jsx)(Bn.A,{label:"Unit",fullWidth:!0,value:y.unit,onChange:e=>F("unit",e.target.value),helperText:"e.g., people, communities, projects, USD"})}),(0,s.jsx)(Un.A,{item:!0,xs:12,sm:6,children:(0,s.jsxs)(Ln.A,{fullWidth:!0,children:[(0,s.jsx)(Mn.A,{children:"Icon"}),(0,s.jsx)(Hn.A,{value:y.icon,onChange:e=>F("icon",e.target.value),children:A.map(e=>(0,s.jsx)(qn.A,{value:e.value,children:(0,s.jsxs)(N.A,{sx:{display:"flex",alignItems:"center",gap:1},children:[(0,s.jsx)(e.icon,{}),e.label]})},e.value))})]})}),(0,s.jsx)(Un.A,{item:!0,xs:12,sm:6,children:(0,s.jsxs)(Ln.A,{fullWidth:!0,children:[(0,s.jsx)(Mn.A,{children:"Color"}),(0,s.jsx)(Hn.A,{value:y.color,onChange:e=>F("color",e.target.value),children:[{value:"#1976d2",label:"Blue",color:"#1976d2"},{value:"#2196F3",label:"Light Blue",color:"#2196F3"},{value:"#4CAF50",label:"Green",color:"#4CAF50"},{value:"#FF9800",label:"Orange",color:"#FF9800"},{value:"#9C27B0",label:"Purple",color:"#9C27B0"},{value:"#F44336",label:"Red",color:"#F44336"},{value:"#00BCD4",label:"Cyan",color:"#00BCD4"},{value:"#795548",label:"Brown",color:"#795548"},{value:"#607D8B",label:"Blue Grey",color:"#607D8B"}].map(e=>(0,s.jsx)(qn.A,{value:e.value,children:(0,s.jsxs)(N.A,{sx:{display:"flex",alignItems:"center",gap:1},children:[(0,s.jsx)(N.A,{sx:{width:20,height:20,backgroundColor:e.color,borderRadius:"50%"}}),e.label]})},e.value))})]})}),(0,s.jsx)(Un.A,{item:!0,xs:12,sm:6,children:(0,s.jsx)(Bn.A,{label:"Order Index",type:"number",fullWidth:!0,value:y.order_index,onChange:e=>F("order_index",parseInt(e.target.value)||0),error:!!v.order_index,helperText:v.order_index||"Lower numbers appear first",inputProps:{min:0}})}),(0,s.jsx)(Un.A,{item:!0,xs:12,sm:6,children:(0,s.jsx)(ps.A,{control:(0,s.jsx)(ms.A,{checked:y.is_active,onChange:e=>F("is_active",e.target.checked)}),label:"Active"})}),(0,s.jsx)(Un.A,{item:!0,xs:12,sm:6,children:(0,s.jsx)(ps.A,{control:(0,s.jsx)(ms.A,{checked:y.is_featured,onChange:e=>F("is_featured",e.target.checked)}),label:"Featured"})})]})}),(0,s.jsxs)(Yi.A,{sx:{p:2},children:[(0,s.jsx)(E.A,{onClick:W,disabled:f,children:"Cancel"}),(0,s.jsx)(E.A,{variant:"contained",onClick:async()=>{if((()=>{const e={};return y.name.trim()||(e.name="Impact name is required"),y.starting_value<0&&(e.starting_value="Starting value cannot be negative"),l&&y.current_value<0&&(e.current_value="Current value cannot be negative"),y.order_index<0&&(e.order_index="Order index cannot be negative"),w(e),0===Object.keys(e).length})()){b(!0);try{const n=l?"".concat(Cl,"/impacts/").concat(l.id):"".concat(Cl,"/impacts"),t=l?"PUT":"POST",a={name:String(y.name).trim(),description:String(y.description||"").trim(),starting_value:Number(y.starting_value)||0,unit:String(y.unit||"").trim(),icon:String(y.icon||"assessment"),color:String(y.color||"#1976d2"),order_index:Number(y.order_index)||0,is_active:Boolean(y.is_active),is_featured:Boolean(y.is_featured)};l&&(a.current_value=Number(y.current_value)||0),console.log("Submitting to URL:",n),console.log("Method:",t),console.log("Payload:",JSON.stringify(a,null,2));const r=await fetch(n,{method:t,credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});console.log("Response status:",r.status),console.log("Response headers:",[...r.headers.entries()]);const o=await r.text();if(console.log("Response body:",o),!r.ok){let n="HTTP ".concat(r.status);try{const e=JSON.parse(o);n=e.message||e.error||n}catch(e){n=o||n}throw new Error(n)}let i;try{i=JSON.parse(o)}catch(e){throw console.error("Failed to parse response as JSON:",o),new Error("Invalid response format from server")}i.success?(C("Impact ".concat(l?"updated":"created"," successfully"),"success"),W(),await k(),await S()):C(i.message||"Operation failed","error")}catch(n){console.error("Error submitting impact:",n),C("Error submitting impact: ".concat(n.message),"error")}finally{b(!1)}}else C("Please fix the form errors","error")},disabled:f||Object.keys(v).length>0,startIcon:f?(0,s.jsx)(On.A,{size:20}):null,children:f?l?"Updating...":"Creating...":(l?"Update":"Create")+" Impact"})]})]}),(0,s.jsx)(Is.A,{open:d.open,autoHideDuration:6e3,onClose:()=>p((0,m.A)((0,m.A)({},d),{},{open:!1})),anchorOrigin:{vertical:"bottom",horizontal:"right"},children:(0,s.jsx)(I.A,{onClose:()=>p((0,m.A)((0,m.A)({},d),{},{open:!1})),severity:d.severity,variant:"filled",children:d.message})})]})},_l=Ge,Il={display:"block",padding:"12px 16px",textAlign:"center",backgroundColor:"#f9fafb",borderRadius:"8px",border:"1px solid #e5e7eb",transition:"all 0.2s ease",fontSize:"14px",cursor:"pointer",width:"100%"},El=()=>{const[e,n]=(0,i.useState)(!1),[t,r]=(0,i.useState)(null),[o,l]=(0,i.useState)(null),[d,p]=(0,i.useState)(!0),[x,u]=(0,i.useState)(""),[g,h]=(0,i.useState)(new Date),{user:f}=c(),b=(0,a.Zp)(),y=(0,i.useRef)(!1),j=(0,i.useCallback)(async()=>{if(y.current)console.log("Analytics fetch already in progress, skipping...");else{y.current=!0,p(!0),u(""),console.log("Starting analytics fetch...");try{const t=await fetch("".concat(_l,"/visits/analytics"),{credentials:"include",method:"GET",headers:{"Content-Type":"application/json"}});if(console.log("Analytics response status:",t.status),!t.ok)throw new Error("Analytics endpoint failed: ".concat(t.status));const a=await t.json();if(console.log("Analytics data received:",a),!a.success||!a.data)throw new Error("Invalid analytics response format");{var e,n;const t={todayViews:a.data.today_views||0,lifetimeViews:parseInt(a.data.total_views)||0,uniqueVisitors:a.data.unique_visitors||0,newVisitors:a.data.new_visitors||0,returningVisitors:a.data.returning_visitors||0,avgSessionTime:"0m 0s",topCountry:(null===(e=a.data.top_countries)||void 0===e||null===(n=e[0])||void 0===n?void 0:n.country)||"Unknown",topCountries:a.data.top_countries||[],popularPages:a.data.popular_pages||[],trafficSources:a.data.traffic_sources||[],dailyTrend:a.data.daily_trend||[],browserStats:a.data.browser_stats||[],activeUsers:0,newUsersToday:0,totalSubscribers:0,totalContent:0,publishedToday:0,totalProjects:0,activeProjects:0};console.log("Consolidated analytics data:",t),r(t),l(a.data),h(new Date)}}catch(t){console.error("Analytics fetch error:",t),u("Failed to load analytics: ".concat(t.message)),r({todayViews:0,lifetimeViews:0,uniqueVisitors:0,newVisitors:0,returningVisitors:0,activeUsers:0,newUsersToday:0,avgSessionTime:"0m 0s",topCountry:"Unknown",totalSubscribers:0,totalContent:0,publishedToday:0,totalProjects:0,activeProjects:0,topCountries:[],popularPages:[],trafficSources:[],dailyTrend:[],browserStats:[]})}finally{p(!1),y.current=!1}}},[_l]),v=(0,i.useCallback)(()=>{j()},[j]),w=e=>!!f&&(!!e.requiredRole.includes(f.role)&&("admin"===f.role||(!e.requiredPermission||("Assistant Admin"===f.role?f.permissions&&f.permissions.includes(e.requiredPermission):"Content Manager"===f.role&&"manage_blogs"===e.id)))),A=f?tl.filter(w).filter(e=>"overview"!==e.id&&"logout"!==e.id).sort((e,n)=>e.order-n.order).map(e=>({to:e.path,label:e.text,icon:e.icon})):[],k=e=>e&&"0m 0s"!==e?e:"0m 0s";(0,i.useEffect)(()=>{let e=!0;(async()=>{f&&e&&(t||y.current||j())})();const n=n=>{n.detail&&t&&e&&r(e=>(0,m.A)((0,m.A)({},e),{},{todayViews:n.detail.dailyVisits||e.todayViews,lifetimeViews:n.detail.lifetimeVisits||e.lifetimeViews}))};return window.addEventListener("visitRecorded",n),()=>{e=!1,window.removeEventListener("visitRecorded",n)}},[f]);const S=(()=>{var e;if(!t)return[];const n=[{title:"Today's Views",value:t.todayViews.toLocaleString(),subtitle:"of ".concat(t.lifetimeViews.toLocaleString()," total views"),icon:vt.A,gradient:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",showProgress:!0,progressPercent:t.lifetimeViews>0?(t.todayViews/t.lifetimeViews*100).toFixed(1):0},{title:"Unique Visitors",value:t.uniqueVisitors.toString(),subtitle:"".concat(t.newVisitors," new, ").concat(t.returningVisitors," returning"),icon:Cn.A,gradient:"linear-gradient(135deg, #f093fb 0%, #f5576c 100%)"},{title:"Avg Session",value:k(t.avgSessionTime),subtitle:"per user session",icon:H.A,gradient:"linear-gradient(135deg, #4facfe 0%, #00f2fe 100%)"},{title:"Top Location",value:t.topCountry,subtitle:"".concat(t.topCountries.length," countries total"),icon:te.A,gradient:"linear-gradient(135deg, #fa709a 0%, #fee140 100%)"}];return"admin"===(null===f||void 0===f?void 0:f.role)&&n.push({title:"Newsletter",value:t.totalSubscribers.toString(),subtitle:"total subscribers",icon:_n.A,gradient:"linear-gradient(135deg, #a8edea 0%, #fed6e3 100%)"}),("admin"===(null===f||void 0===f?void 0:f.role)||"Content Manager"===(null===f||void 0===f?void 0:f.role)||"Assistant Admin"===(null===f||void 0===f?void 0:f.role)&&null!==f&&void 0!==f&&null!==(e=f.permissions)&&void 0!==e&&e.includes("manage_content"))&&n.push({title:"Content",value:t.totalContent.toString(),subtitle:"+".concat(t.publishedToday," published today"),icon:q.A,gradient:"linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%)"}),n})();return(0,s.jsxs)("div",{style:{padding:"24px",maxWidth:"1200px",margin:"0 auto"},children:[(0,s.jsxs)("div",{style:{marginBottom:"32px"},children:[(0,s.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"8px"},children:[(0,s.jsx)("h1",{style:{fontSize:"28px",fontWeight:"bold",color:"#1f2937",margin:0},children:f?"admin"===f.role?"Welcome Admin ".concat(f.name):"Welcome ".concat(f.name):"Welcome"}),(0,s.jsxs)("button",{onClick:v,disabled:d,style:{display:"flex",alignItems:"center",gap:"8px",padding:"8px 16px",backgroundColor:d?"#e5e7eb":"#f3f4f6",border:"1px solid #d1d5db",borderRadius:"8px",cursor:d?"not-allowed":"pointer",fontSize:"14px",color:"#374151"},children:[(0,s.jsx)(ke.A,{size:16,style:{animation:d?"spin 1s linear infinite":"none"}}),"Refresh"]})]}),(0,s.jsx)("p",{style:{color:"#6b7280",fontSize:"16px",margin:0},children:(()=>{var e;if(!f)return"Manage your platform from the dashboard.";switch(f.role){case"admin":return"Full administrative access to manage your platform with enhanced analytics tracking.";case"Assistant Admin":const n=(null===(e=f.permissions)||void 0===e?void 0:e.length)||0;return"You have access to ".concat(n," management ").concat(1===n?"area":"areas",".");case"Content Manager":return"Manage content, blogs, and projects from your dashboard.";default:return"Manage your platform from the dashboard."}})()}),g&&!d&&(0,s.jsxs)("p",{style:{color:"#9ca3af",fontSize:"12px",margin:"4px 0 0 0"},children:["Last updated: ",g.toLocaleTimeString()]})]}),x&&(0,s.jsx)("div",{style:{backgroundColor:"#fef2f2",border:"1px solid #fecaca",borderRadius:"8px",padding:"12px",marginBottom:"24px",color:"#dc2626"},children:x}),A.length>0&&(0,s.jsxs)("div",{style:{position:"sticky",top:"0",zIndex:10,backgroundColor:"#ffffff",border:"1px solid #e5e7eb",borderRadius:"12px",marginBottom:"24px",boxShadow:"0 1px 3px rgba(0, 0, 0, 0.1)"},children:[(0,s.jsxs)("div",{style:{padding:"16px 20px",cursor:"pointer",display:"flex",justifyContent:"space-between",alignItems:"center",borderBottom:e?"1px solid #e5e7eb":"none"},onClick:()=>n(!e),children:[(0,s.jsxs)("h3",{style:{fontSize:"18px",fontWeight:"600",color:"#374151",margin:0},children:["Quick Links (",A.length," available)"]}),e?(0,s.jsx)(Ue.A,{size:20}):(0,s.jsx)(Q.A,{size:20})]}),e&&(0,s.jsx)("div",{style:{padding:"16px 20px",display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"12px"},children:A.map((e,n)=>(0,s.jsx)("button",{onClick:()=>b(e.to),style:Il,onMouseEnter:e=>{e.target.style.backgroundColor="#e5e7eb",e.target.style.transform="translateY(-2px)"},onMouseLeave:e=>{e.target.style.backgroundColor="#f9fafb",e.target.style.transform="translateY(0)"},children:(0,s.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},children:[e.icon&&i.cloneElement(e.icon,{size:16}),(0,s.jsx)("span",{children:e.label})]})},n))})]}),0===A.length&&f&&(0,s.jsxs)("div",{style:{backgroundColor:"#fef3c7",border:"1px solid #f59e0b",borderRadius:"12px",padding:"20px",marginBottom:"24px",textAlign:"center"},children:[(0,s.jsx)("h3",{style:{fontSize:"16px",fontWeight:"600",color:"#92400e",margin:"0 0 8px 0"},children:"Limited Access"}),(0,s.jsx)("p",{style:{color:"#92400e",fontSize:"14px",margin:0},children:"Assistant Admin"===f.role?"No additional permissions granted. Contact an administrator to request access to management areas.":"Contact an administrator if you need access to additional features."})]}),(0,s.jsxs)("div",{style:{marginBottom:"32px"},children:[(0,s.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},children:[(0,s.jsx)("h2",{style:{fontSize:"24px",fontWeight:"bold",color:"#1f2937",margin:0},children:"admin"===(null===f||void 0===f?void 0:f.role)?"Enhanced Platform Analytics":"Dashboard Overview"}),d&&(0,s.jsxs)("div",{style:{color:"#6b7280",fontSize:"14px",display:"flex",alignItems:"center",gap:"8px"},children:[(0,s.jsx)(Ya.A,{size:16}),"Loading analytics..."]})]}),t&&(0,s.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(280px, 1fr))",gap:"20px",marginBottom:"24px"},children:S.map((e,n)=>(0,s.jsx)("div",{style:{background:e.gradient,padding:"24px",borderRadius:"16px",color:"white",position:"relative",overflow:"hidden"},children:(0,s.jsxs)("div",{style:{position:"relative",zIndex:1},children:[(0,s.jsxs)("div",{style:{display:"flex",alignItems:"center",marginBottom:"12px"},children:[(0,s.jsx)(e.icon,{size:24,style:{marginRight:"8px"}}),(0,s.jsx)("span",{style:{fontSize:"14px",opacity:.9},children:e.title})]}),(0,s.jsx)("div",{style:{fontSize:"32px",fontWeight:"bold",marginBottom:"4px"},children:e.value}),(0,s.jsx)("div",{style:{fontSize:"12px",opacity:.8},children:e.subtitle}),e.showProgress&&(0,s.jsx)("div",{style:{width:"100%",height:"4px",backgroundColor:"rgba(255,255,255,0.2)",borderRadius:"2px",marginTop:"8px"},children:(0,s.jsx)("div",{style:{width:"".concat(Math.min(e.progressPercent,100),"%"),height:"100%",backgroundColor:"white",borderRadius:"2px",transition:"width 0.3s ease"}})})]})},n))}),t&&(0,s.jsxs)("div",{style:{backgroundColor:"#f8fafc",border:"1px solid #e2e8f0",borderRadius:"12px",padding:"20px",display:"flex",justifyContent:"space-around",alignItems:"center",flexWrap:"wrap",gap:"16px",marginBottom:"24px"},children:[(0,s.jsxs)("div",{style:{textAlign:"center"},children:[(0,s.jsxs)("div",{style:{fontSize:"20px",fontWeight:"bold",color:"#1e293b"},children:[t.lifetimeViews>0?(t.todayViews/t.lifetimeViews*100).toFixed(1):"0.0","%"]}),(0,s.jsx)("div",{style:{fontSize:"12px",color:"#64748b"},children:"Today's Share"})]}),(0,s.jsx)("div",{style:{width:"1px",height:"40px",backgroundColor:"#cbd5e1"}}),(0,s.jsxs)("div",{style:{textAlign:"center"},children:[(0,s.jsx)("div",{style:{fontSize:"20px",fontWeight:"bold",color:"#1e293b"},children:t.lifetimeViews>0?Math.round(t.lifetimeViews/365).toLocaleString():"0"}),(0,s.jsx)("div",{style:{fontSize:"12px",color:"#64748b"},children:"Daily Average"})]}),(0,s.jsx)("div",{style:{width:"1px",height:"40px",backgroundColor:"#cbd5e1"}}),(0,s.jsxs)("div",{style:{textAlign:"center"},children:[(0,s.jsx)("div",{style:{fontSize:"20px",fontWeight:"bold",color:"#1e293b"},children:t.topCountries.length}),(0,s.jsx)("div",{style:{fontSize:"12px",color:"#64748b"},children:"Countries"})]}),(0,s.jsx)("div",{style:{width:"1px",height:"40px",backgroundColor:"#cbd5e1"}}),(0,s.jsxs)("div",{style:{textAlign:"center"},children:[(0,s.jsx)("div",{style:{fontSize:"20px",fontWeight:"bold",color:"#1e293b"},children:t.uniqueVisitors.toLocaleString()}),(0,s.jsx)("div",{style:{fontSize:"12px",color:"#64748b"},children:"Unique Visitors"})]}),"admin"===(null===f||void 0===f?void 0:f.role)&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{style:{width:"1px",height:"40px",backgroundColor:"#cbd5e1"}}),(0,s.jsxs)("div",{style:{textAlign:"center"},children:[(0,s.jsx)("div",{style:{fontSize:"20px",fontWeight:"bold",color:"#1e293b"},children:t.totalSubscribers.toLocaleString()}),(0,s.jsx)("div",{style:{fontSize:"12px",color:"#64748b"},children:"Newsletter Subs"})]})]})]}),"admin"===(null===f||void 0===f?void 0:f.role)&&t&&(0,s.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:"20px",marginBottom:"24px"},children:[t.topCountries.length>0&&(0,s.jsxs)("div",{style:{backgroundColor:"#ffffff",border:"1px solid #e5e7eb",borderRadius:"12px",padding:"20px"},children:[(0,s.jsxs)("h3",{style:{fontSize:"16px",fontWeight:"600",color:"#374151",marginBottom:"16px",display:"flex",alignItems:"center",gap:"8px"},children:[(0,s.jsx)(ye.A,{size:16}),"Top Countries"]}),(0,s.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:t.topCountries.slice(0,5).map((e,n)=>(0,s.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"8px 0"},children:[(0,s.jsx)("span",{style:{fontSize:"14px",color:"#374151"},children:e.country}),(0,s.jsx)("span",{style:{fontSize:"14px",fontWeight:"600",color:"#1e293b"},children:e.count})]},n))})]}),t.popularPages.length>0&&(0,s.jsxs)("div",{style:{backgroundColor:"#ffffff",border:"1px solid #e5e7eb",borderRadius:"12px",padding:"20px"},children:[(0,s.jsx)("h3",{style:{fontSize:"16px",fontWeight:"600",color:"#374151",marginBottom:"16px"},children:"Popular Pages"}),(0,s.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:t.popularPages.slice(0,5).map((e,n)=>(0,s.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"8px 0"},children:[(0,s.jsx)("span",{style:{fontSize:"14px",color:"#374151",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",maxWidth:"200px"},children:e.page_url}),(0,s.jsx)("span",{style:{fontSize:"14px",fontWeight:"600",color:"#1e293b"},children:e.visits})]},n))})]})]}),d&&!t&&(0,s.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"200px",backgroundColor:"#f9fafb",borderRadius:"12px",border:"1px solid #e5e7eb"},children:(0,s.jsxs)("div",{style:{textAlign:"center"},children:[(0,s.jsx)("div",{style:{width:"40px",height:"40px",border:"4px solid #e5e7eb",borderTop:"4px solid #3b82f6",borderRadius:"50%",animation:"spin 1s linear infinite",margin:"0 auto 16px"}}),(0,s.jsx)("p",{style:{color:"#6b7280",margin:0},children:"Loading enhanced analytics data..."})]})})]}),"Assistant Admin"===(null===f||void 0===f?void 0:f.role)&&f.permissions&&(0,s.jsxs)("div",{style:{backgroundColor:"#ffffff",border:"1px solid #e5e7eb",borderRadius:"12px",padding:"20px",marginBottom:"24px"},children:[(0,s.jsx)("h3",{style:{fontSize:"18px",fontWeight:"600",color:"#374151",marginBottom:"16px"},children:"Your Permissions"}),(0,s.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"12px"},children:f.permissions.map((e,n)=>{const t=tl.find(n=>n.requiredPermission===e);return(0,s.jsxs)("div",{style:{padding:"12px 16px",backgroundColor:"#f0f9ff",border:"1px solid #0ea5e9",borderRadius:"8px",display:"flex",alignItems:"center",gap:"8px"},children:[(null===t||void 0===t?void 0:t.icon)&&i.cloneElement(t.icon,{size:16,color:"#0ea5e9"}),(0,s.jsx)("span",{style:{fontSize:"14px",color:"#0c4a6e",fontWeight:"500"},children:(null===t||void 0===t?void 0:t.text)||e.replace("_"," ").replace(/\b\w/g,e=>e.toUpperCase())})]},n)})})]}),"admin"===(null===f||void 0===f?void 0:f.role)&&t&&(0,s.jsxs)("div",{style:{backgroundColor:"#ffffff",border:"1px solid #e5e7eb",borderRadius:"12px",padding:"20px",marginBottom:"24px"},children:[(0,s.jsx)("h3",{style:{fontSize:"18px",fontWeight:"600",color:"#374151",marginBottom:"16px"},children:"Enhanced Platform Summary"}),(0,s.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"16px"},children:[(0,s.jsxs)("div",{style:{textAlign:"center",padding:"16px",backgroundColor:"#f8fafc",borderRadius:"8px"},children:[(0,s.jsx)("div",{style:{fontSize:"24px",fontWeight:"bold",color:"#1e293b"},children:t.totalProjects}),(0,s.jsx)("div",{style:{fontSize:"14px",color:"#64748b"},children:"Total Projects"}),(0,s.jsxs)("div",{style:{fontSize:"12px",color:"#10b981",marginTop:"4px"},children:[t.activeProjects," active"]})]}),(0,s.jsxs)("div",{style:{textAlign:"center",padding:"16px",backgroundColor:"#f8fafc",borderRadius:"8px"},children:[(0,s.jsx)("div",{style:{fontSize:"24px",fontWeight:"bold",color:"#1e293b"},children:t.totalContent}),(0,s.jsx)("div",{style:{fontSize:"14px",color:"#64748b"},children:"Total Content"}),(0,s.jsxs)("div",{style:{fontSize:"12px",color:"#10b981",marginTop:"4px"},children:["+",t.publishedToday," today"]})]}),(0,s.jsxs)("div",{style:{textAlign:"center",padding:"16px",backgroundColor:"#f8fafc",borderRadius:"8px"},children:[(0,s.jsx)("div",{style:{fontSize:"24px",fontWeight:"bold",color:"#1e293b"},children:t.newVisitors}),(0,s.jsx)("div",{style:{fontSize:"14px",color:"#64748b"},children:"New Visitors"}),(0,s.jsxs)("div",{style:{fontSize:"12px",color:"#3b82f6",marginTop:"4px"},children:["vs ",t.returningVisitors," returning"]})]}),(0,s.jsxs)("div",{style:{textAlign:"center",padding:"16px",backgroundColor:"#f8fafc",borderRadius:"8px"},children:[(0,s.jsx)("div",{style:{fontSize:"24px",fontWeight:"bold",color:"#1e293b"},children:t.trafficSources.length}),(0,s.jsx)("div",{style:{fontSize:"14px",color:"#64748b"},children:"Traffic Sources"}),(0,s.jsx)("div",{style:{fontSize:"12px",color:"#8b5cf6",marginTop:"4px"},children:"tracked channels"})]})]})]}),(0,s.jsxs)("div",{style:{backgroundColor:"#ffffff",border:"1px solid #e5e7eb",borderRadius:"12px",padding:"20px",textAlign:"center"},children:[(0,s.jsx)("h3",{style:{fontSize:"18px",fontWeight:"600",color:"#374151",marginBottom:"16px"},children:"Real-time Visit Tracking"}),t?(0,s.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(150px, 1fr))",gap:"16px",marginTop:"16px"},children:[(0,s.jsxs)("div",{style:{padding:"12px",backgroundColor:"#ecfdf5",borderRadius:"8px",border:"1px solid #10b981"},children:[(0,s.jsx)("div",{style:{fontSize:"20px",fontWeight:"bold",color:"#065f46"},children:t.todayViews}),(0,s.jsx)("div",{style:{fontSize:"12px",color:"#047857"},children:"Views Today"})]}),(0,s.jsxs)("div",{style:{padding:"12px",backgroundColor:"#eff6ff",borderRadius:"8px",border:"1px solid #3b82f6"},children:[(0,s.jsx)("div",{style:{fontSize:"20px",fontWeight:"bold",color:"#1e40af"},children:t.lifetimeViews}),(0,s.jsx)("div",{style:{fontSize:"12px",color:"#1d4ed8"},children:"Total Views"})]}),(0,s.jsxs)("div",{style:{padding:"12px",backgroundColor:"#fef3c7",borderRadius:"8px",border:"1px solid #f59e0b"},children:[(0,s.jsx)("div",{style:{fontSize:"20px",fontWeight:"bold",color:"#92400e"},children:t.uniqueVisitors}),(0,s.jsx)("div",{style:{fontSize:"12px",color:"#b45309"},children:"Unique Visitors"})]}),(0,s.jsxs)("div",{style:{padding:"12px",backgroundColor:"#f3e8ff",borderRadius:"8px",border:"1px solid #8b5cf6"},children:[(0,s.jsx)("div",{style:{fontSize:"20px",fontWeight:"bold",color:"#6b21a8"},children:k(t.avgSessionTime)}),(0,s.jsx)("div",{style:{fontSize:"12px",color:"#7c3aed"},children:"Avg Session"})]})]}):(0,s.jsx)("div",{style:{color:"#6b7280",fontSize:"14px"},children:"Enhanced visit tracking is loading..."})]}),!1,(0,s.jsx)("style",{children:"\n        @keyframes spin {\n          0% { transform: rotate(0deg); }\n          100% { transform: rotate(360deg); }\n        }\n      "})]})};var Tl=t(2705),Wl=t(903),Fl=t(2929),Pl=t(7654);const Rl="http://localhost:5000/api",Bl=()=>{const[e,n]=(0,i.useState)([]),[t,a]=(0,i.useState)([]),[r,o]=(0,i.useState)(!0),[l,c]=(0,i.useState)({open:!1,message:"",severity:"success"}),[d,p]=(0,i.useState)(!1),[x,u]=(0,i.useState)(!1),[g,h]=(0,i.useState)(null),[f,b]=(0,i.useState)(!1),[y,j]=(0,i.useState)(null),[v,w]=(0,i.useState)(!1),[A,k]=(0,i.useState)(null),[S,C]=(0,i.useState)(null),[z,T]=(0,i.useState)(null),[W,F]=(0,i.useState)({}),[P,R]=(0,i.useState)({}),[B,D]=(0,i.useState)([]),[L,M]=(0,i.useState)({news_type:"general",target_countries:[]}),[H,q]=(0,i.useState)({title:"",excerpt:"",content:"",featured_image:null,is_featured:!1,is_news:!1,news_type:"general",target_countries:[],status:"draft",approved:!1,meta_title:"",meta_description:"",tags:[]}),[O,U]=(0,i.useState)({}),Y=(0,i.useRef)(""),G=(0,i.useRef)(""),V=(0,i.useRef)(""),J=(0,i.useRef)(""),K=(0,i.useRef)(""),X=e=>{var n,t,a;let r="Unknown Author",o=null,i="user";if(e.author_name&&""!==e.author_name.trim())r=e.author_name;else if(e.authorName&&""!==e.authorName.trim())r=e.authorName;else if(null!==(n=e.author)&&void 0!==n&&n.name&&""!==e.author.name.trim())r=e.author.name,i=e.author.role||"user";else if(null!==(t=e.user)&&void 0!==t&&t.name&&""!==e.user.name.trim())r=e.user.name,i=e.user.role||"user";else if(null!==(a=e.creator)&&void 0!==a&&a.name&&""!==e.creator.name.trim())r=e.creator.name,i=e.creator.role||"user";else if(e.author_id){o=e.author_id;const n={1:{name:"ACEF Admin",role:"admin"},2:{name:"Content Manager",role:"Content Manager"},3:{name:"Assistant Admin",role:"Assistant Admin"}}[e.author_id];n?(r=n.name,i=n.role):r="User #".concat(e.author_id)}return{name:r,id:o||e.author_id,isCurrentUser:!1,role:i}},Z=e=>{switch(e){case"admin":return(0,s.jsx)(Wl.A,{sx:{fontSize:16,color:"#ff5722"}});case"Content Manager":return(0,s.jsx)(Fl.A,{sx:{fontSize:16,color:"#2196f3"}});case"Assistant Admin":return(0,s.jsx)(Pl.A,{sx:{fontSize:16,color:"#9c27b0"}});default:return(0,s.jsx)(Ss.A,{sx:{fontSize:16,color:"#757575"}})}},$=function(e){c({open:!0,message:e,severity:arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success"})},Q=async function(e,n){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};try{console.log("API Call:",e,n),console.log("Data being sent:",t,"Type:",typeof t,"Is FormData:",t instanceof FormData);const o=(0,m.A)({method:e,credentials:"include"},a);t&&(t instanceof FormData?(o.body=t,console.log("Sending FormData")):(o.headers=(0,m.A)({"Content-Type":"application/json"},o.headers),o.body=JSON.stringify(t),console.log("Sending JSON:",JSON.stringify(t))));const i=await fetch("".concat(Rl).concat(n),o);if(!i.ok){const e=await i.text();let n;console.error("Response error text:",e);try{const t=JSON.parse(e);n=t.message||t.error||"HTTP ".concat(i.status,": ").concat(i.statusText)}catch(r){n=e||"HTTP ".concat(i.status,": ").concat(i.statusText)}throw new Error(n)}const s=await i.json();return console.log("API Response success:",i.status,s),s}catch(o){throw console.error("API Error:",{method:e,endpoint:n,message:o.message,stack:o.stack}),new Error(o.message||"An error occurred")}},ee=async()=>{try{const e=await fetch("".concat(Rl,"/countries"),{credentials:"include"});if(!e.ok)throw new Error("Failed to fetch countries");const n=await e.json();if(Array.isArray(n)){const e=n.sort((e,n)=>e.name.localeCompare(n.name));a(e),console.log("Countries loaded:",e.length)}else console.warn("Countries response is not an array:",n),a([])}catch(e){console.error("Failed to fetch countries:",e),a([])}},ne=()=>{q({title:"",excerpt:"",content:"",featured_image:null,is_featured:!1,is_news:!1,news_type:"general",target_countries:[],status:"draft",approved:!1,meta_title:"",meta_description:"",tags:[]}),Y.current="",G.current="",V.current="",J.current="",K.current="",U({}),k(null),C(null),b(!1),j(null),R({}),D([])},te=async function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];try{e||o(!0);const t=((await Q("GET","/blogs/admin")).data||[]).map(e=>{const n=X(e),t=(0,m.A)((0,m.A)({},e),{},{author_name:n.name,author_info:n,views:e.views||0});return"published"!==t.status||t.approved?"draft"===t.status&&t.approved&&(console.warn("Blog ".concat(e.id,": Draft but approved - fixing to approved=false")),t.approved=!1):(console.warn("Blog ".concat(e.id,": Published but not approved - fixing to approved=true")),t.approved=!0),t});n(t),e||console.log("Fetched blogs:",t.length)}catch(t){console.error("Failed to fetch blogs:",t),e||$(t.message||"Error loading blogs","error")}finally{e||o(!1)}};(0,i.useEffect)(()=>{console.log("Component initializing...");return(async()=>{await Promise.all([te(),ee()])})(),()=>{z&&clearInterval(z)}},[]),(0,i.useEffect)(()=>{if(!d){const e=setInterval(()=>{te(!0)},3e4);return T(e),()=>clearInterval(e)}z&&(clearInterval(z),T(null))},[d]);const ae=async(e,t)=>{const a=Object.keys(t),r="".concat(e,"-").concat(a.join("-"));if(W[r])console.log("Update already in progress for blog ".concat(e));else{F(e=>(0,m.A)((0,m.A)({},e),{},{[r]:!0}));try{console.log("Updating blog ".concat(e," with data:"),t),n(n=>n.map(n=>n.id===e?(0,m.A)((0,m.A)({},n),t):n));await Q("PUT","/blogs/".concat(e),t);let a="Blog updated successfully";"is_news"in t?a=t.is_news?"Blog converted to news post":"Blog converted to regular post":"approved"in t?a=t.approved?"Blog approved and published":"Blog disapproved and moved to draft":"is_featured"in t&&(a=t.is_featured?"Blog featured":"Blog unfeatured"),$(a),setTimeout(()=>{te(!0)},1500)}catch(o){console.error("Failed to update blog ".concat(e,":"),o),$(o.message||"Failed to update blog","error"),te(!0)}finally{F(e=>{const n=(0,m.A)({},e);return delete n[r],n})}}},re=async(n,t,a)=>{if("is_news"===t)return(async(n,t)=>{if(t)await ae(n,{is_news:!1,news_type:"general",target_countries:[]});else{const t=e.find(e=>e.id===n);h(t),M({news_type:"general",target_countries:[]}),u(!0)}})(n,a);await ae(n,{[t]:a})},oe=async e=>{try{const t=(await Q("GET","/blogs/".concat(e))).data;let a=t.status||"draft",r=t.approved||!1;"published"!==a||r?"draft"===a&&r&&(console.warn("Fixing inconsistent state: draft but approved"),r=!1):(console.warn("Fixing inconsistent state: published but not approved"),r=!0);let o=[];if(t.target_countries)try{o="string"===typeof t.target_countries?JSON.parse(t.target_countries):t.target_countries,Array.isArray(o)||(o=[])}catch(n){console.error("Error parsing target_countries:",n),o=[]}const i={title:t.title||"",excerpt:t.excerpt||"",content:t.content||"",featured_image:null,is_featured:t.is_featured||!1,is_news:t.is_news||!1,news_type:t.news_type||"general",target_countries:o,status:a,approved:r,meta_title:t.meta_title||"",meta_description:t.meta_description||"",tags:t.tags?"string"===typeof t.tags?JSON.parse(t.tags):t.tags:[]};if(q(i),Y.current=i.title,G.current=i.content,V.current=i.excerpt,J.current=i.meta_title,K.current=i.meta_description,R((0,m.A)({},i)),D([]),t.featured_image){const e=(e=>{if(!e)return"/placeholder.jpg";let n=e;n=n.replace(/^\/+/,""),n=n.replace(/^uploads\//,""),n=n.replace(/^blogs\//,"");const t="".concat("http://localhost:5000","/uploads/blogs/").concat(n);return console.log("Image URL constructed:",{filename:e,cleanFilename:n,fullUrl:t}),t})(t.featured_image);k(e),C(e)}else k(null),C(null);b(!0),j(e),p(!0)}catch(t){console.error("Failed to fetch blog for editing:",t),$(t.message||"Failed to load blog for editing","error")}},ie=(e,n)=>{switch(console.log("Updating ".concat(e," to:"),n),e){case"title":Y.current=n;break;case"content":G.current=n;break;case"excerpt":V.current=n;break;case"meta_title":J.current=n;break;case"meta_description":K.current=n}q(t=>{const a=(0,m.A)((0,m.A)({},t),{},{[e]:n});if(console.log("New form state:",a),f&&void 0!==P[e]){const t=JSON.stringify(P[e])!==JSON.stringify(n);D(n=>{const a=n.filter(n=>n!==e);return t&&a.push(e),a})}return"approved"===e&&(a.status=n?"published":"draft"),"news_type"===e&&"general"===n&&(a.target_countries=[]),"is_news"!==e||n||(a.news_type="general",a.target_countries=[]),a}),O[e]&&U(n=>(0,m.A)((0,m.A)({},n),{},{[e]:""}))},se=()=>{v||(p(!1),ne())};return r?(0,s.jsxs)(N.A,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:400},children:[(0,s.jsx)(On.A,{}),(0,s.jsx)(_.A,{sx:{ml:2},children:"Loading blogs..."})]}):(0,s.jsxs)(N.A,{sx:{mt:4,px:2},children:[(0,s.jsxs)(N.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3},children:[(0,s.jsxs)(N.A,{children:[(0,s.jsx)(_.A,{variant:"h4",children:"Manage Blog Posts"}),(0,s.jsxs)(_.A,{variant:"body2",color:"text.secondary",children:["Total: ",e.length," blogs | Countries: ",t.length]})]}),(0,s.jsxs)(N.A,{sx:{display:"flex",gap:2,alignItems:"center"},children:[(0,s.jsx)(E.A,{variant:"outlined",onClick:()=>{te(),ee()},disabled:r,startIcon:r?(0,s.jsx)(On.A,{size:16}):void 0,children:r?"Refreshing...":"Refresh"}),(0,s.jsx)(E.A,{startIcon:(0,s.jsx)(us.A,{}),variant:"contained",onClick:()=>p(!0),size:"large",children:"Create New Blog"})]})]}),(0,s.jsx)(as.A,{component:Rn.A,elevation:2,children:(0,s.jsxs)(rs.A,{children:[(0,s.jsx)(os.A,{children:(0,s.jsxs)(is.A,{sx:{backgroundColor:"#f8f9fa"},children:[(0,s.jsx)(ss.A,{children:(0,s.jsx)("strong",{children:"Title"})}),(0,s.jsx)(ss.A,{children:(0,s.jsx)("strong",{children:"Author"})}),(0,s.jsx)(ss.A,{children:(0,s.jsx)("strong",{children:"Status"})}),(0,s.jsx)(ss.A,{children:(0,s.jsx)("strong",{children:"Type"})}),(0,s.jsx)(ss.A,{children:(0,s.jsx)("strong",{children:"Views"})}),(0,s.jsx)(ss.A,{children:(0,s.jsx)("strong",{children:"Created"})}),(0,s.jsx)(ss.A,{children:(0,s.jsx)("strong",{children:"Featured"})}),(0,s.jsx)(ss.A,{children:(0,s.jsx)("strong",{children:"News"})}),(0,s.jsx)(ss.A,{children:(0,s.jsx)("strong",{children:"Approved"})}),(0,s.jsx)(ss.A,{children:(0,s.jsx)("strong",{children:"Actions"})})]})}),(0,s.jsx)(ls.A,{children:0===e.length?(0,s.jsx)(is.A,{children:(0,s.jsx)(ss.A,{colSpan:10,sx:{textAlign:"center",py:4},children:(0,s.jsx)(_.A,{variant:"body1",color:"text.secondary",children:'No blogs found. Click "Create New Blog" to get started.'})})}):e.map(a=>{const r=(e=>"published"===e.status&&e.approved?{color:"success",label:"Published"}:"published"!==e.status||e.approved?"draft"===e.status&&e.approved?{color:"warning",label:"Draft (Approved)"}:{color:"default",label:"Draft"}:{color:"warning",label:"Published (Not Approved)"})(a),o=W["".concat(a.id,"-approved")],i=W["".concat(a.id,"-is_featured")],l=W["".concat(a.id,"-is_news")]||W["".concat(a.id,"-is_news-news_type-target_countries")],c=a.author_info||X(a),d=(e=>{if(!e.is_news)return null;if("general"===e.news_type)return(0,s.jsx)(it.A,{icon:(0,s.jsx)(Wa.A,{sx:{fontSize:14}}),label:"General News",size:"small",color:"primary",variant:"outlined"});if("country_specific"===e.news_type){const n=(e.target_countries?"string"===typeof e.target_countries?JSON.parse(e.target_countries):e.target_countries:[]).map(e=>{const n=t.find(n=>n.code===e||n.name===e);return n?n.name:e}).join(", ");return(0,s.jsx)(it.A,{icon:(0,s.jsx)(tt.A,{sx:{fontSize:14}}),label:"Country: ".concat(n||"None"),size:"small",color:"secondary",variant:"outlined"})}return null})(a);return(0,s.jsxs)(is.A,{hover:!0,children:[(0,s.jsx)(ss.A,{children:(0,s.jsxs)(N.A,{children:[(0,s.jsx)(_.A,{variant:"body1",sx:{fontWeight:500,maxWidth:200},children:a.title}),a.excerpt&&(0,s.jsxs)(_.A,{variant:"body2",color:"text.secondary",sx:{maxWidth:200},children:[a.excerpt.substring(0,50),"..."]})]})}),(0,s.jsx)(ss.A,{children:(0,s.jsxs)(N.A,{sx:{display:"flex",alignItems:"center",gap:1},children:[Z(c.role),(0,s.jsx)(_.A,{variant:"body2",children:c.name})]})}),(0,s.jsx)(ss.A,{children:(0,s.jsx)(it.A,{label:r.label,color:r.color,size:"small"})}),(0,s.jsx)(ss.A,{children:(0,s.jsxs)(N.A,{sx:{display:"flex",flexDirection:"column",gap:.5},children:[d,!a.is_news&&(0,s.jsx)(it.A,{label:"Regular Post",size:"small",variant:"outlined",color:"default"})]})}),(0,s.jsx)(ss.A,{children:(0,s.jsxs)(N.A,{sx:{display:"flex",alignItems:"center",gap:1},children:[(0,s.jsx)(Qr.A,{sx:{fontSize:16,color:"text.secondary"}}),(0,s.jsx)(_.A,{variant:"body2",children:(m=a.views||0,m>=1e6?"".concat((m/1e6).toFixed(1),"M"):m>=1e3?"".concat((m/1e3).toFixed(1),"K"):m.toString())})]})}),(0,s.jsx)(ss.A,{children:(p=a.created_at,new Date(p).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}))}),(0,s.jsx)(ss.A,{children:(0,s.jsx)(ms.A,{checked:!!a.is_featured,onChange:e=>re(a.id,"is_featured",e.target.checked),disabled:i})}),(0,s.jsx)(ss.A,{children:(0,s.jsx)(ms.A,{checked:!!a.is_news,onChange:e=>re(a.id,"is_news",!!a.is_news),disabled:l})}),(0,s.jsx)(ss.A,{children:(0,s.jsx)(ms.A,{checked:!!a.approved,onChange:e=>re(a.id,"approved",e.target.checked),color:"success",disabled:o})}),(0,s.jsx)(ss.A,{children:(0,s.jsxs)(N.A,{sx:{display:"flex",gap:1},children:[(0,s.jsx)(de.A,{onClick:()=>oe(a.id),size:"small",children:(0,s.jsx)($i.A,{})}),(0,s.jsx)(de.A,{onClick:()=>(async t=>{const a=e.find(e=>e.id===t);if(window.confirm('Are you sure you want to delete "'.concat(null===a||void 0===a?void 0:a.title,'"? This action cannot be undone.')))try{await Q("DELETE","/blogs/".concat(t)),n(e=>e.filter(e=>e.id!==t)),$("Blog deleted successfully")}catch(r){console.error("Failed to delete blog:",r),$(r.message||"Failed to delete blog","error")}})(a.id),size:"small",color:"error",children:(0,s.jsx)(Gi.A,{})})]})})]},a.id);var p,m})})]})}),(0,s.jsxs)(Oi.A,{open:x,onClose:()=>u(!1),maxWidth:"sm",fullWidth:!0,children:[(0,s.jsx)(Ui.A,{children:"Configure News Post"}),(0,s.jsx)(ds.A,{dividers:!0,children:(0,s.jsxs)(N.A,{sx:{mt:2},children:[(0,s.jsxs)(_.A,{variant:"h6",gutterBottom:!0,children:['"',null===g||void 0===g?void 0:g.title,'"']}),(0,s.jsxs)(Ln.A,{fullWidth:!0,sx:{mt:2,mb:3},children:[(0,s.jsx)(Mn.A,{children:"News Type"}),(0,s.jsxs)(Hn.A,{value:L.news_type,label:"News Type",onChange:e=>M(n=>(0,m.A)((0,m.A)({},n),{},{news_type:e.target.value,target_countries:"general"===e.target.value?[]:n.target_countries})),children:[(0,s.jsx)(qn.A,{value:"general",children:"General News"}),(0,s.jsx)(qn.A,{value:"country_specific",children:"Country Specific"})]})]}),"country_specific"===L.news_type&&(0,s.jsx)(Li.A,{multiple:!0,options:t,getOptionLabel:e=>e.name,value:t.filter(e=>L.target_countries.includes(e.id)),onChange:(e,n)=>{M(e=>(0,m.A)((0,m.A)({},e),{},{target_countries:n.map(e=>e.id)}))},renderInput:e=>(0,s.jsx)(Bn.A,(0,m.A)((0,m.A)({},e),{},{label:"Target Countries",placeholder:"Select countries...",helperText:"Select which countries this news applies to"})),renderTags:(e,n)=>e.map((e,t)=>(0,i.createElement)(it.A,(0,m.A)((0,m.A)({variant:"outlined",label:e.name},n({index:t})),{},{key:e.id})))})]})}),(0,s.jsxs)(Yi.A,{children:[(0,s.jsx)(E.A,{onClick:()=>u(!1),children:"Cancel"}),(0,s.jsx)(E.A,{variant:"contained",onClick:async()=>{if(!g)return;const e={is_news:!0,news_type:L.news_type,target_countries:"country_specific"===L.news_type?L.target_countries:[]};await ae(g.id,e),u(!1),h(null)},disabled:"country_specific"===L.news_type&&0===L.target_countries.length,children:"Convert to News"})]})]}),(0,s.jsxs)(Oi.A,{open:d,onClose:se,maxWidth:"md",fullWidth:!0,children:[(0,s.jsx)(Ui.A,{children:f?"Edit Blog Post":"Create New Blog Post"}),(0,s.jsx)(ds.A,{dividers:!0,children:(0,s.jsxs)(Un.A,{container:!0,spacing:3,sx:{mt:1},children:[(0,s.jsx)(Un.A,{item:!0,xs:12,children:(0,s.jsx)(Bn.A,{fullWidth:!0,label:"Title *",value:H.title,onChange:e=>ie("title",e.target.value),error:!!O.title,helperText:O.title})}),(0,s.jsx)(Un.A,{item:!0,xs:12,children:(0,s.jsx)(Bn.A,{fullWidth:!0,label:"Excerpt",multiline:!0,rows:2,value:H.excerpt,onChange:e=>ie("excerpt",e.target.value),error:!!O.excerpt,helperText:O.excerpt})}),(0,s.jsx)(Un.A,{item:!0,xs:12,children:(0,s.jsx)(Bn.A,{fullWidth:!0,label:"Content *",multiline:!0,rows:6,value:H.content,onChange:e=>ie("content",e.target.value),error:!!O.content,helperText:O.content})}),(0,s.jsxs)(Un.A,{item:!0,xs:12,md:6,children:[(0,s.jsxs)(E.A,{component:"label",variant:"outlined",startIcon:(0,s.jsx)(Tl.A,{}),fullWidth:!0,children:["Upload Featured Image",(0,s.jsx)("input",{type:"file",hidden:!0,accept:"image/*",onChange:e=>(e=>{if(e){if(!e.type.startsWith("image/"))return void $("Please select a valid image file","error");if(e.size>5242880)return void $("Image file must be less than 5MB","error");ie("featured_image",e);const n=new FileReader;n.onload=e=>{k(e.target.result),C(null)},n.readAsDataURL(e)}})(e.target.files[0])})]}),(A||S)&&(0,s.jsx)(N.A,{sx:{mt:2},children:(0,s.jsx)("img",{src:A||S,alt:"Preview",style:{maxWidth:"100%",height:"150px",objectFit:"cover",borderRadius:"4px"}})})]}),(0,s.jsx)(Un.A,{item:!0,xs:12,md:6,children:(0,s.jsxs)(N.A,{sx:{display:"flex",flexDirection:"column",gap:2},children:[(0,s.jsx)(ps.A,{control:(0,s.jsx)(_s.A,{checked:H.is_news,onChange:e=>ie("is_news",e.target.checked)}),label:"News Post"}),H.is_news&&(0,s.jsxs)(Ln.A,{fullWidth:!0,size:"small",children:[(0,s.jsx)(Mn.A,{children:"News Type"}),(0,s.jsxs)(Hn.A,{value:H.news_type,label:"News Type",onChange:e=>ie("news_type",e.target.value),children:[(0,s.jsx)(qn.A,{value:"general",children:"General News"}),(0,s.jsx)(qn.A,{value:"country_specific",children:"Country Specific"})]})]}),H.is_news&&"country_specific"===H.news_type&&(0,s.jsx)(Li.A,{multiple:!0,options:t,getOptionLabel:e=>e.name,value:t.filter(e=>H.target_countries.includes(e.id)),onChange:(e,n)=>{ie("target_countries",n.map(e=>e.id))},renderInput:e=>(0,s.jsx)(Bn.A,(0,m.A)((0,m.A)({},e),{},{label:"Target Countries",placeholder:"Select countries...",error:!!O.target_countries,helperText:O.target_countries})),renderTags:(e,n)=>e.map((e,t)=>(0,i.createElement)(it.A,(0,m.A)((0,m.A)({variant:"outlined",label:e.name},n({index:t})),{},{key:e.id})))}),(0,s.jsx)(ps.A,{control:(0,s.jsx)(_s.A,{checked:H.approved,onChange:e=>ie("approved",e.target.checked)}),label:"Approved"}),(0,s.jsxs)(Ln.A,{fullWidth:!0,size:"small",children:[(0,s.jsx)(Mn.A,{children:"Status"}),(0,s.jsxs)(Hn.A,{value:H.status,label:"Status",onChange:e=>ie("status",e.target.value),children:[(0,s.jsx)(qn.A,{value:"draft",children:"Draft"}),(0,s.jsx)(qn.A,{value:"published",children:"Published"})]})]})]})}),(0,s.jsx)(Un.A,{item:!0,xs:12,md:6,children:(0,s.jsx)(Bn.A,{fullWidth:!0,label:"Meta Title",value:H.meta_title,onChange:e=>ie("meta_title",e.target.value),error:!!O.meta_title,helperText:O.meta_title})}),(0,s.jsx)(Un.A,{item:!0,xs:12,md:6,children:(0,s.jsx)(Bn.A,{fullWidth:!0,label:"Meta Description",multiline:!0,rows:2,value:H.meta_description,onChange:e=>ie("meta_description",e.target.value),error:!!O.meta_description,helperText:O.meta_description})})]})}),(0,s.jsxs)(Yi.A,{children:[(0,s.jsx)(E.A,{onClick:se,disabled:v,children:"Cancel"}),(0,s.jsx)(E.A,{variant:"contained",onClick:async()=>{console.log("Starting form submission...");const e=(H.title||"").trim(),n=(H.content||"").trim(),t=(H.excerpt||"").trim(),a=(H.meta_title||"").trim(),r=(H.meta_description||"").trim(),o={};if((!e||e.length<3)&&(o.title="Title must be at least 3 characters"),(!n||n.length<10)&&(o.content="Content must be at least 10 characters"),t&&t.length>500&&(o.excerpt="Excerpt must be less than 500 characters"),a&&a.length>200&&(o.meta_title="Meta title must be less than 200 characters"),r&&r.length>300&&(o.meta_description="Meta description must be less than 300 characters"),H.is_news&&"country_specific"===H.news_type&&(H.target_countries&&0!==H.target_countries.length||(o.target_countries="Please select at least one country for country-specific news")),Object.keys(o).length>0)return U(o),void $("Please fix the validation errors","error");U({}),w(!0);try{const o=new FormData;let i;o.append("title",e),o.append("content",n),o.append("excerpt",t),o.append("meta_title",a),o.append("meta_description",r),o.append("is_featured",H.is_featured||!1),o.append("is_news",H.is_news||!1),o.append("news_type",H.news_type||"general"),o.append("target_countries",JSON.stringify(H.target_countries||[])),o.append("status",H.status||"draft"),o.append("approved",H.approved||!1),o.append("tags",JSON.stringify(H.tags||[])),H.featured_image&&o.append("featured_image",H.featured_image),f?(i=await Q("PUT","/blogs/".concat(y),o),$(i.message||"Blog updated successfully")):(i=await Q("POST","/blogs",o),$(i.message||"Blog created successfully")),p(!1),await te(),ne()}catch(i){console.error("Failed to save blog:",i),$(i.message||"Failed to ".concat(f?"update":"create"," blog"),"error")}finally{w(!1)}},disabled:v,children:v?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(On.A,{size:16,sx:{mr:1}}),"Saving..."]}):f?"Update":"Create"})]})]}),(0,s.jsx)(Is.A,{open:l.open,autoHideDuration:4e3,onClose:()=>c(e=>(0,m.A)((0,m.A)({},e),{},{open:!1})),children:(0,s.jsx)(I.A,{severity:l.severity,onClose:()=>c(e=>(0,m.A)((0,m.A)({},e),{},{open:!1})),children:l.message})})]})};var Dl=t(3946);const Ll=e=>{var n;let{API_BASE:t=Ge}=e;const[a,r]=(0,i.useState)([]),[o,l]=(0,i.useState)([]),[c,d]=(0,i.useState)(!1),[p,x]=(0,i.useState)("pending"),[u,g]=(0,i.useState)(""),[h,f]=(0,i.useState)(null),[b,y]=(0,i.useState)(!1),[j,v]=(0,i.useState)({}),[w,A]=(0,i.useState)(!1),[k,S]=(0,i.useState)([]),[C,z]=(0,i.useState)([]),[N,_]=(0,i.useState)(!1),[I,E]=(0,i.useState)({type:"payment_pending",message:""});(0,i.useRef)(null);(0,i.useEffect)(()=>{if(!window.html2canvas){const e=document.createElement("script");e.src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js",e.async=!0,document.head.appendChild(e)}},[]);const T=async e=>new Promise((n,t)=>{if(!window.html2canvas){const e=new Error("html2canvas library not loaded - ensure script is loaded before calling this function");return console.error("\u274c",e.message),void t(e)}const a=document.createElement("div");a.style.cssText="\n      position: absolute;\n      top: -10000px;\n      left: -10000px;\n      width: 450px;\n      height: 450px;\n      pointer-events: none;\n      z-index: -9999;\n      visibility: visible;\n      opacity: 1;\n      background: white;\n    ",document.body.appendChild(a);const r=400,o=e.is_anonymous?"ACEF Friend":e.donor_name||"Valued Donor",i=(new Date).getFullYear(),s='\n      <div class="donation-badge" style="\n        width: '.concat(r,"px;\n        height: ").concat(r,'px;\n        border-radius: 50%;\n        background: linear-gradient(135deg, #0a451c 0%, #16a34a 50%, #22c55e 100%);\n        display: flex;\n        flex-direction: column;\n        align-items: center;\n        justify-content: center;\n        padding: 30px;\n        color: white;\n        font-family: -apple-system, BlinkMacSystemFont, \'Segoe UI\', Arial, sans-serif;\n        box-shadow: inset 0 0 0 3px rgba(255,255,255,0.3);\n        position: relative;\n        box-sizing: border-box;\n        text-align: center;\n      ">\n        <div style="font-size: 48px; margin-bottom: 15px; line-height: 1;">\ud83c\udfc6</div>\n        \n        <div style="\n          font-size: 16px;\n          margin-bottom: 12px;\n          text-transform: uppercase;\n          letter-spacing: 2px;\n          font-weight: 600;\n          opacity: 0.95;\n        ">Thank You</div>\n        \n        <div style="\n          font-size: 24px;\n          font-weight: 700;\n          margin-bottom: 12px;\n          line-height: 1.2;\n          max-width: 85%;\n          word-wrap: break-word;\n          hyphens: auto;\n          text-align: center;\n        ">').concat(o,'</div>\n        \n        <div style="\n          font-size: 14px;\n          margin-bottom: 18px;\n          font-weight: 500;\n          opacity: 0.9;\n        ">Generous Donor</div>\n        \n        <div style="\n          font-size: 12px;\n          background: rgba(255,255,255,0.25);\n          padding: 6px 16px;\n          border-radius: 20px;\n          font-weight: 600;\n        ">').concat(i,'</div>\n        \n        <div style="\n          font-size: 10px;\n          margin-top: 12px;\n          max-width: 80%;\n          font-style: italic;\n          opacity: 0.8;\n          line-height: 1.3;\n        ">Your generosity makes a difference</div>\n      </div>\n    ');a.innerHTML=s;const l=a.querySelector(".donation-badge"),c=setTimeout(()=>{t(new Error("Badge generation timeout - html2canvas took too long"))},3e4);requestAnimationFrame(async()=>{try{console.log("\ud83c\udfa8 Starting canvas generation with html2canvas...");const e=await window.html2canvas(l,{backgroundColor:null,scale:2,useCORS:!0,allowTaint:!1,logging:!1,width:r,height:r,windowWidth:500,windowHeight:500,imageTimeout:1e4,removeContainer:!0,onclone:function(e,n){const t=e.querySelector(".donation-badge");t&&(t.style.fontFamily='-apple-system, BlinkMacSystemFont, "Segoe UI", Arial, sans-serif',t.style.display="flex",t.style.visibility="visible")}});if(clearTimeout(c),a&&a.parentNode&&a.parentNode.removeChild(a),!e||0===e.width||0===e.height)throw new Error("Generated canvas is invalid or has zero dimensions");console.log("\u2705 Canvas generated successfully: ".concat(e.width,"x").concat(e.height)),e.toBlob(e=>{e?0!==e.size?e.size>10485760?t(new Error("Generated badge file too large: ".concat(e.size," bytes"))):e.size<1e3?t(new Error("Generated badge file too small: ".concat(e.size," bytes (likely corrupted)"))):(console.log("\u2705 Badge blob generated successfully: ".concat(e.size," bytes, type: ").concat(e.type)),n(e)):t(new Error("Generated blob is empty (0 bytes)")):t(new Error("Failed to generate blob from canvas - toBlob returned null"))},"image/png",1)}catch(o){clearTimeout(c),a&&a.parentNode&&a.parentNode.removeChild(a),console.error("\u274c Canvas generation failed:",{error:o.message,stack:o.stack,donation:e.id}),t(new Error("Canvas generation failed: ".concat(o.message)))}})}),W=async function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(w)F("Badge generation already in progress","warning");else{A(!0);try{console.log("\ud83d\udd04 Processing completion for donation: ".concat(e));const o=a.find(n=>n.id===e);if(!o)throw new Error("Donation not found in current data");if(!o.donor_email)throw new Error("Donation missing donor email address");console.log("\ud83d\udcc4 Processing donation:",{id:o.id,donor_name:o.donor_name,donor_email:o.donor_email,amount:o.amount,is_anonymous:o.is_anonymous});const i=await fetch("".concat(t,"/donations/admin/").concat(e,"/complete"),{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({adminNotes:n})});if(!i.ok){const e=await i.json().catch(()=>({message:"Unknown server error"}));throw new Error(e.message||"Server returned ".concat(i.status))}console.log("\u2705 Donation marked as completed in database"),console.log("\ud83c\udfa8 Starting badge generation..."),window.html2canvas||(console.log("\ud83d\udce6 Loading html2canvas..."),await new Promise((e,n)=>{if(window.html2canvas)return void e();const t=document.querySelector('script[src*="html2canvas"]');if(t)return t.addEventListener("load",e),void t.addEventListener("error",()=>n(new Error("Failed to load html2canvas script")));const a=document.createElement("script");a.src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js",a.async=!0,a.onload=()=>{console.log("\u2705 html2canvas loaded successfully"),e()},a.onerror=()=>{console.error("\u274c Failed to load html2canvas"),n(new Error("Failed to load html2canvas from CDN"))},document.head.appendChild(a)}));let s=null,l=0;const c=2;for(;!s&&l<c;){l++;try{if(console.log("\ud83c\udfa8 Badge generation attempt ".concat(l,"/").concat(c)),s=await T(o),!s||0===s.size)throw new Error("Badge generation returned empty blob");console.log("\u2705 Badge generated successfully: ".concat(s.size," bytes, type: ").concat(s.type));break}catch(r){if(console.error("\u274c Badge generation attempt ".concat(l," failed:"),r.message),l>=c)return F("Donation completed successfully, but badge generation failed: ".concat(r.message),"warning"),void await D();console.log("\u23f3 Waiting before retry attempt ".concat(l+1,"...")),await new Promise(e=>setTimeout(e,3e3))}}console.log("\ud83d\udce7 Sending badge email with blob...");const d=await(async e=>{let{donationId:n,recipientEmail:a,recipientName:r,donationAmount:o,badgeBlob:i,badgeFilename:s=null,isAnonymous:l=!1}=e;try{if(console.log("\ud83d\udce7 Preparing badge email for: ".concat(a)),!i)throw new Error("Badge blob is null or undefined");if(!(i instanceof Blob))throw new Error("Provided badge data is not a Blob");if(0===i.size)throw new Error("Badge blob is empty (0 bytes)");if(i.size<1e3)throw new Error("Badge blob too small: ".concat(i.size," bytes (likely corrupted)"));console.log("\ud83d\udcce Badge blob validated: ".concat(i.size," bytes, type: ").concat(i.type));const e=new FormData;e.append("donationId",n.toString()),e.append("recipientEmail",a),e.append("recipientName",l?"ACEF Friend":r),e.append("donationAmount",o.toString()),e.append("isAnonymous",l?"true":"false");const c=s||"ACEF_Badge_".concat(n,"_").concat(Date.now(),".png"),d=new File([i],c,{type:"image/png",lastModified:Date.now()});e.append("badge",d),console.log("\ud83d\udccb FormData prepared:");for(let[n,t]of e.entries())t instanceof File?console.log("  ".concat(n,": File(").concat(t.name,", ").concat(t.size," bytes, ").concat(t.type,")")):console.log("  ".concat(n,": ").concat(t));const p=await fetch("".concat(t,"/donations/admin/").concat(n,"/send-badge"),{method:"POST",credentials:"include",body:e});if(console.log("\ud83d\udce4 Badge email API response: ".concat(p.status)),!p.ok){const e=await p.text();throw new Error("API returned ".concat(p.status,": ").concat(e))}const m=await p.json();if(!m.success)throw new Error(m.message||"API returned success=false");return console.log("\u2705 Badge email sent successfully via API"),m}catch(c){throw console.error("\u274c Failed to send badge email:",{error:c.message,recipient:a,donationId:n,blobSize:(null===i||void 0===i?void 0:i.size)||0}),c}})({donationId:o.id,recipientEmail:o.donor_email,recipientName:o.donor_name,donationAmount:o.amount,badgeBlob:s,badgeFilename:"ACEF_Badge_".concat(o.id,"_").concat(Date.now(),".png"),isAnonymous:o.is_anonymous});console.log("\ud83d\udce7 Badge email result:",{messageId:d.messageId,recipient:o.donor_email}),F("\u2705 Donation completed and badge sent to ".concat(o.donor_email,"!"),"success"),await D()}catch(o){console.error("\u274c Failed to complete donation:",{donationId:e,error:o.message,stack:o.stack}),F("\u274c Failed to complete donation: ".concat(o.message),"error")}finally{A(!1)}}},F=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info";console.log("".concat(n.toUpperCase(),": ").concat(e));const t=document.createElement("div"),a={success:{bg:"#10b981",border:"#059669",text:"#ffffff"},warning:{bg:"#f59e0b",border:"#d97706",text:"#ffffff"},error:{bg:"#ef4444",border:"#dc2626",text:"#ffffff"},info:{bg:"#3b82f6",border:"#2563eb",text:"#ffffff"}},r=a[n]||a.info;t.style.cssText="\n    position: fixed;\n    top: 20px;\n    right: 20px;\n    background: ".concat(r.bg,";\n    color: ").concat(r.text,";\n    padding: 16px 24px;\n    border-radius: 12px;\n    border-left: 6px solid ").concat(r.border,";\n    box-shadow: 0 10px 25px rgba(0,0,0,0.15);\n    z-index: 10000;\n    font-family: 'Inter', 'Arial', sans-serif;\n    font-size: 14px;\n    font-weight: 500;\n    max-width: 450px;\n    word-wrap: break-word;\n    transform: translateX(100%);\n    transition: transform 0.3s ease;\n  "),t.innerHTML='\n    <div style="font-weight: 700; margin-bottom: 6px; font-size: 13px; text-transform: uppercase; letter-spacing: 0.5px;">\n      '.concat(n.toUpperCase(),'\n    </div>\n    <div style="line-height: 1.4;">\n      ').concat(e,"\n    </div>\n  "),document.body.appendChild(t),setTimeout(()=>{t.style.transform="translateX(0)"},10);setTimeout(()=>{t.parentNode&&(t.style.transform="translateX(100%)",setTimeout(()=>{t.parentNode&&t.parentNode.removeChild(t)},300))},"error"===n?1e4:"warning"===n?7e3:5e3)},P=async()=>{try{const e=await fetch("".concat(t,"/countries"),{credentials:"include"}),n=await e.json();n.success&&Array.isArray(n.data)?(S(n.data),console.log("Loaded ".concat(n.data.length," countries for reference"))):Array.isArray(n)&&(S(n),console.log("Loaded ".concat(n.length," countries for reference")))}catch(e){console.error("Error fetching countries:",e);S([{id:1,name:"Kenya"},{id:2,name:"Ghana"},{id:3,name:"Nigeria"},{id:4,name:"Uganda"},{id:5,name:"Rwanda"}])}},R=async()=>{try{const e=await fetch("".concat(t,"/projects"),{credentials:"include"}),n=await e.json();let a=[];n.success&&Array.isArray(n.data)?a=n.data:Array.isArray(n)&&(a=n),z(a),console.log("Loaded ".concat(a.length," projects for reference"))}catch(e){console.error("Error fetching projects:",e);z([{id:1,title:"Clean Water Initiative",country_name:"Kenya"},{id:2,title:"Educational Support Program",country_name:"Ghana"},{id:3,title:"Healthcare Access Project",country_name:"Uganda"}])}},B=e=>{switch(e.donation_type){case"country":if(e.target_country_id){const n=k.find(n=>n.id===parseInt(e.target_country_id));return n?n.name:"Country ID: ".concat(e.target_country_id)}return"Country (not specified)";case"project":if(e.target_project_id){const n=C.find(n=>n.id===parseInt(e.target_project_id));return n?n.title:"Project ID: ".concat(e.target_project_id)}return"Project (not specified)";default:return"General Impact"}},D=async()=>{d(!0);try{let e;switch(p){case"pending":default:e="".concat(t,"/donations/admin/pending");break;case"completed":e="".concat(t,"/donations/admin/completed");break;case"all":e="".concat(t,"/donations/admin/all")}const n=await fetch(e,{credentials:"include"}),a=await n.json();a.success&&(r(a.data),l(a.data))}catch(e){console.error("Error fetching donations:",e)}finally{d(!1)}};(0,i.useEffect)(()=>{(async()=>{_(!0);try{await Promise.allSettled([P(),R()])}finally{_(!1)}})()},[]),(0,i.useEffect)(()=>{D()},[p]),(0,i.useEffect)(()=>{(async()=>{try{const e=await fetch("".concat(t,"/donations/admin/statistics"),{credentials:"include"}),n=await e.json();n.success&&v(n.data)}catch(e){console.error("Error fetching statistics:",e)}})()},[]),(0,i.useEffect)(()=>{if(u){const e=a.filter(e=>{var n,t,a,r;const o=u.toLowerCase(),i=B(e).toLowerCase();return(null===(n=e.donor_name)||void 0===n?void 0:n.toLowerCase().includes(o))||(null===(t=e.donor_email)||void 0===t?void 0:t.toLowerCase().includes(o))||(null===(a=e.id)||void 0===a?void 0:a.toLowerCase().includes(o))||(null===(r=e.donation_type)||void 0===r?void 0:r.toLowerCase().includes(o))||i.includes(o)});l(e)}else l(a)},[u,a,k,C]);const L=e=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e),M=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return(0,s.jsxs)("div",{className:"admin-donation-management",children:[(0,s.jsx)("style",{jsx:!0,children:"\n        .admin-donation-management {\n          padding: 24px;\n          background-color: #f9fafb;\n          min-height: 100vh;\n        }\n\n        .page-header {\n          background: white;\n          border-radius: 12px;\n          padding: 24px;\n          margin-bottom: 24px;\n          box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);\n        }\n\n        .page-header h1 {\n          margin: 0 0 8px 0;\n          color: #0a451c;\n          font-size: 28px;\n          font-weight: 700;\n        }\n\n        .page-header p {\n          margin: 0;\n          color: #6b7280;\n          font-size: 16px;\n        }\n\n        .reference-status {\n          margin-top: 12px;\n          padding: 8px 12px;\n          border-radius: 6px;\n          font-size: 13px;\n          display: flex;\n          align-items: center;\n          gap: 6px;\n        }\n\n        .reference-status.loading {\n          background: #fef3c7;\n          color: #92400e;\n        }\n\n        .reference-status.loaded {\n          background: #d1fae5;\n          color: #065f46;\n        }\n\n        .reference-status.error {\n          background: #fee2e2;\n          color: #dc2626;\n        }\n\n        .stats-grid {\n          display: grid;\n          grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));\n          gap: 16px;\n          margin-bottom: 24px;\n        }\n\n        .stat-card {\n          background: white;\n          border-radius: 12px;\n          padding: 20px;\n          box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);\n          border-left: 4px solid #0a451c;\n        }\n\n        .stat-card.secondary {\n          border-left-color: #facf3c;\n        }\n\n        .stat-card.accent {\n          border-left-color: #9ccf9f;\n        }\n\n        .stat-card.info {\n          border-left-color: #3b82f6;\n        }\n\n        .stat-header {\n          display: flex;\n          align-items: center;\n          gap: 8px;\n          margin-bottom: 8px;\n        }\n\n        .stat-header h3 {\n          margin: 0;\n          font-size: 14px;\n          font-weight: 500;\n          color: #6b7280;\n          text-transform: uppercase;\n          letter-spacing: 0.5px;\n        }\n\n        .stat-value {\n          font-size: 24px;\n          font-weight: 700;\n          color: #1f2937;\n          margin: 0;\n        }\n\n        .controls-section {\n          background: white;\n          border-radius: 12px;\n          padding: 20px;\n          margin-bottom: 24px;\n          box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);\n        }\n\n        .controls-row {\n          display: flex;\n          align-items: center;\n          gap: 16px;\n          flex-wrap: wrap;\n        }\n\n        .search-box {\n          flex: 1;\n          min-width: 300px;\n          position: relative;\n        }\n\n        .search-box input {\n          width: 100%;\n          padding: 10px 12px 10px 40px;\n          border: 1px solid #d1d5db;\n          border-radius: 8px;\n          font-size: 14px;\n          transition: all 0.2s ease;\n        }\n\n        .search-box input:focus {\n          outline: none;\n          border-color: #0a451c;\n          box-shadow: 0 0 0 3px rgba(10, 69, 28, 0.1);\n        }\n\n        .search-icon {\n          position: absolute;\n          left: 12px;\n          top: 50%;\n          transform: translateY(-50%);\n          color: #6b7280;\n        }\n\n        .tab-buttons {\n          display: flex;\n          gap: 8px;\n        }\n\n        .tab-button {\n          padding: 8px 16px;\n          border: 1px solid #d1d5db;\n          border-radius: 6px;\n          background: white;\n          color: #6b7280;\n          font-size: 14px;\n          font-weight: 500;\n          cursor: pointer;\n          transition: all 0.2s ease;\n        }\n\n        .tab-button.active {\n          background: #0a451c;\n          color: white;\n          border-color: #0a451c;\n        }\n\n        .tab-button:hover:not(.active) {\n          background: #f3f4f6;\n        }\n\n        .refresh-button {\n          padding: 8px 12px;\n          border: 1px solid #d1d5db;\n          border-radius: 6px;\n          background: white;\n          color: #6b7280;\n          cursor: pointer;\n          transition: all 0.2s ease;\n          display: flex;\n          align-items: center;\n          gap: 6px;\n        }\n\n        .refresh-button:hover {\n          background: #f3f4f6;\n        }\n\n        .donations-table {\n          background: white;\n          border-radius: 12px;\n          overflow: hidden;\n          box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);\n        }\n\n        .table-container {\n          overflow-x: auto;\n        }\n\n        table {\n          width: 100%;\n          border-collapse: collapse;\n        }\n\n        thead {\n          background: #f9fafb;\n        }\n\n        th {\n          padding: 12px 16px;\n          text-align: left;\n          font-size: 12px;\n          font-weight: 600;\n          color: #6b7280;\n          text-transform: uppercase;\n          letter-spacing: 0.5px;\n          border-bottom: 1px solid #e5e7eb;\n        }\n\n        td {\n          padding: 16px;\n          border-bottom: 1px solid #f3f4f6;\n          vertical-align: middle;\n        }\n\n        tr:hover {\n          background: #f9fafb;\n        }\n\n        .donor-info {\n          display: flex;\n          flex-direction: column;\n          gap: 4px;\n        }\n\n        .donor-name {\n          font-weight: 500;\n          color: #1f2937;\n        }\n\n        .donor-email {\n          font-size: 13px;\n          color: #6b7280;\n        }\n\n        .amount-cell {\n          font-weight: 600;\n          color: #059669;\n        }\n\n        .target-cell {\n          max-width: 200px;\n        }\n\n        .target-name {\n          font-weight: 500;\n          color: #1f2937;\n          font-size: 14px;\n        }\n\n        .target-type {\n          font-size: 12px;\n          color: #6b7280;\n          margin-top: 2px;\n        }\n\n        .status-badge {\n          display: inline-flex;\n          align-items: center;\n          gap: 4px;\n          padding: 4px 8px;\n          border-radius: 6px;\n          font-size: 12px;\n          font-weight: 500;\n          text-transform: uppercase;\n        }\n\n        .status-badge.completed {\n          background: #d1fae5;\n          color: #065f46;\n        }\n\n        .status-badge.pending {\n          background: #fef3c7;\n          color: #92400e;\n        }\n\n        .status-badge.processing {\n          background: #dbeafe;\n          color: #1e40af;\n        }\n\n        .actions-cell {\n          display: flex;\n          align-items: center;\n          gap: 8px;\n        }\n\n        .action-button {\n          padding: 6px 8px;\n          border: none;\n          border-radius: 4px;\n          cursor: pointer;\n          transition: all 0.2s ease;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          position: relative;\n        }\n\n        .action-button.view {\n          background: #f3f4f6;\n          color: #6b7280;\n        }\n\n        .action-button.complete {\n          background: #d1fae5;\n          color: #065f46;\n        }\n\n        .action-button.complete.processing {\n          background: #fbbf24;\n          color: white;\n          cursor: not-allowed;\n        }\n\n        .action-button.remind {\n          background: #fef3c7;\n          color: #92400e;\n        }\n\n        .action-button:hover:not(.processing) {\n          transform: translateY(-1px);\n          box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\n        }\n\n        .loading-state {\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          padding: 60px;\n          color: #6b7280;\n        }\n\n        .empty-state {\n          text-align: center;\n          padding: 60px 20px;\n          color: #6b7280;\n        }\n\n        .empty-state h3 {\n          margin: 0 0 8px 0;\n          color: #374151;\n        }\n\n        /* Modal Styles */\n        .modal-overlay {\n          position: fixed;\n          inset: 0;\n          background: rgba(0, 0, 0, 0.5);\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          z-index: 1000;\n        }\n\n        .modal {\n          background: white;\n          border-radius: 12px;\n          padding: 24px;\n          max-width: 500px;\n          width: 90%;\n          max-height: 80vh;\n          overflow-y: auto;\n        }\n\n        .modal-header {\n          display: flex;\n          align-items: center;\n          justify-content: space-between;\n          margin-bottom: 20px;\n        }\n\n        .modal-header h2 {\n          margin: 0;\n          color: #1f2937;\n        }\n\n        .close-button {\n          background: none;\n          border: none;\n          cursor: pointer;\n          color: #6b7280;\n          padding: 4px;\n        }\n\n        .modal-content {\n          display: flex;\n          flex-direction: column;\n          gap: 16px;\n        }\n\n        .form-group {\n          display: flex;\n          flex-direction: column;\n          gap: 6px;\n        }\n\n        .form-group label {\n          font-weight: 500;\n          color: #374151;\n          font-size: 14px;\n        }\n\n        .form-group input,\n        .form-group select,\n        .form-group textarea {\n          padding: 8px 12px;\n          border: 1px solid #d1d5db;\n          border-radius: 6px;\n          font-size: 14px;\n          transition: all 0.2s ease;\n        }\n\n        .form-group input:focus,\n        .form-group select:focus,\n        .form-group textarea:focus {\n          outline: none;\n          border-color: #0a451c;\n          box-shadow: 0 0 0 3px rgba(10, 69, 28, 0.1);\n        }\n\n        .form-group textarea {\n          resize: vertical;\n          min-height: 80px;\n        }\n\n        .target-info-section {\n          padding: 16px;\n          background: #f9fafb;\n          border-radius: 8px;\n          border: 1px solid #e5e7eb;\n        }\n\n        .target-info-section h4 {\n          margin: 0 0 12px 0;\n          color: #0a451c;\n          font-size: 15px;\n          font-weight: 600;\n        }\n\n        .target-detail {\n          display: flex;\n          justify-content: space-between;\n          align-items: center;\n          margin-bottom: 6px;\n        }\n\n        .target-detail:last-child {\n          margin-bottom: 0;\n        }\n\n        .target-label {\n          font-size: 13px;\n          color: #6b7280;\n          font-weight: 500;\n        }\n\n        .target-value {\n          font-size: 13px;\n          color: #1f2937;\n          font-weight: 500;\n        }\n\n        .modal-actions {\n          display: flex;\n          gap: 12px;\n          margin-top: 20px;\n        }\n\n        .modal-button {\n          padding: 8px 16px;\n          border: 1px solid transparent;\n          border-radius: 6px;\n          font-size: 14px;\n          font-weight: 500;\n          cursor: pointer;\n          transition: all 0.2s ease;\n          display: flex;\n          align-items: center;\n          gap: 6px;\n        }\n\n        .modal-button.primary {\n          background: #0a451c;\n          color: white;\n        }\n\n        .modal-button.primary.processing {\n          background: #fbbf24;\n          cursor: not-allowed;\n        }\n\n        .modal-button.secondary {\n          background: white;\n          color: #6b7280;\n          border-color: #d1d5db;\n        }\n\n        .modal-button:hover:not(.processing) {\n          transform: translateY(-1px);\n          box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\n        }\n\n        .spin {\n          animation: spin 1s linear infinite;\n        }\n\n        @keyframes spin {\n          from {\n            transform: rotate(0deg);\n          }\n          to {\n            transform: rotate(360deg);\n          }\n        }\n\n        .badge-status {\n          margin-top: 16px;\n          padding: 12px;\n          border-radius: 8px;\n          font-size: 13px;\n          display: flex;\n          align-items: center;\n          gap: 8px;\n        }\n\n        .badge-status.processing {\n          background: #fef3c7;\n          color: #92400e;\n          border: 1px solid #fbbf24;\n        }\n\n        .badge-status.success {\n          background: #d1fae5;\n          color: #065f46;\n          border: 1px solid #10b981;\n        }\n\n        .badge-status.error {\n          background: #fee2e2;\n          color: #dc2626;\n          border: 1px solid #ef4444;\n        }\n\n        @media (max-width: 768px) {\n          .admin-donation-management {\n            padding: 16px;\n          }\n\n          .stats-grid {\n            grid-template-columns: 1fr;\n          }\n\n          .controls-row {\n            flex-direction: column;\n            align-items: stretch;\n          }\n\n          .search-box {\n            min-width: unset;\n          }\n\n          .tab-buttons {\n            width: 100%;\n            justify-content: space-between;\n          }\n\n          .table-container {\n            font-size: 14px;\n          }\n\n          .target-cell {\n            max-width: 150px;\n          }\n\n          th, td {\n            padding: 8px 12px;\n          }\n        }\n\n\n        /* NEW: Target cell styling */\n        .target-cell {\n          max-width: 200px;\n        }\n\n        .target-name {\n          font-weight: 500;\n          color: #1f2937;\n          font-size: 14px;\n        }\n\n        .target-type {\n          font-size: 12px;\n          color: #6b7280;\n          margin-top: 2px;\n        }\n\n        .status-badge {\n          display: inline-flex;\n          align-items: center;\n          gap: 4px;\n          padding: 4px 8px;\n          border-radius: 6px;\n          font-size: 12px;\n          font-weight: 500;\n          text-transform: uppercase;\n        }\n\n        .status-badge.completed {\n          background: #d1fae5;\n          color: #065f46;\n        }\n\n        .status-badge.pending {\n          background: #fef3c7;\n          color: #92400e;\n        }\n\n        .status-badge.processing {\n          background: #dbeafe;\n          color: #1e40af;\n        }\n\n        .actions-cell {\n          display: flex;\n          align-items: center;\n          gap: 8px;\n        }\n\n        .action-button {\n          padding: 6px 8px;\n          border: none;\n          border-radius: 4px;\n          cursor: pointer;\n          transition: all 0.2s ease;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n        }\n\n        .action-button.view {\n          background: #f3f4f6;\n          color: #6b7280;\n        }\n\n        .action-button.complete {\n          background: #d1fae5;\n          color: #065f46;\n        }\n\n        .action-button.remind {\n          background: #fef3c7;\n          color: #92400e;\n        }\n\n        .action-button:hover {\n          transform: translateY(-1px);\n          box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\n        }\n\n        .loading-state {\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          padding: 60px;\n          color: #6b7280;\n        }\n\n        .empty-state {\n          text-align: center;\n          padding: 60px 20px;\n          color: #6b7280;\n        }\n\n        .empty-state h3 {\n          margin: 0 0 8px 0;\n          color: #374151;\n        }\n\n        /* Modal Styles */\n        .modal-overlay {\n          position: fixed;\n          inset: 0;\n          background: rgba(0, 0, 0, 0.5);\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          z-index: 1000;\n        }\n\n        .modal {\n          background: white;\n          border-radius: 12px;\n          padding: 24px;\n          max-width: 500px;\n          width: 90%;\n          max-height: 80vh;\n          overflow-y: auto;\n        }\n\n        .modal-header {\n          display: flex;\n          align-items: center;\n          justify-content: space-between;\n          margin-bottom: 20px;\n        }\n\n        .modal-header h2 {\n          margin: 0;\n          color: #1f2937;\n        }\n\n        .close-button {\n          background: none;\n          border: none;\n          cursor: pointer;\n          color: #6b7280;\n          padding: 4px;\n        }\n\n        .modal-content {\n          display: flex;\n          flex-direction: column;\n          gap: 16px;\n        }\n\n        .form-group {\n          display: flex;\n          flex-direction: column;\n          gap: 6px;\n        }\n\n        .form-group label {\n          font-weight: 500;\n          color: #374151;\n          font-size: 14px;\n        }\n\n        .form-group input,\n        .form-group select,\n        .form-group textarea {\n          padding: 8px 12px;\n          border: 1px solid #d1d5db;\n          border-radius: 6px;\n          font-size: 14px;\n          transition: all 0.2s ease;\n        }\n\n        .form-group input:focus,\n        .form-group select:focus,\n        .form-group textarea:focus {\n          outline: none;\n          border-color: #0a451c;\n          box-shadow: 0 0 0 3px rgba(10, 69, 28, 0.1);\n        }\n\n        .form-group textarea {\n          resize: vertical;\n          min-height: 80px;\n        }\n\n        /* NEW: Target info styling in modal */\n        .target-info-section {\n          padding: 16px;\n          background: #f9fafb;\n          border-radius: 8px;\n          border: 1px solid #e5e7eb;\n        }\n\n        .target-info-section h4 {\n          margin: 0 0 12px 0;\n          color: #0a451c;\n          font-size: 15px;\n          font-weight: 600;\n        }\n\n        .target-detail {\n          display: flex;\n          justify-content: space-between;\n          align-items: center;\n          margin-bottom: 6px;\n        }\n\n        .target-detail:last-child {\n          margin-bottom: 0;\n        }\n\n        .target-label {\n          font-size: 13px;\n          color: #6b7280;\n          font-weight: 500;\n        }\n\n        .target-value {\n          font-size: 13px;\n          color: #1f2937;\n          font-weight: 500;\n        }\n\n        .modal-actions {\n          display: flex;\n          gap: 12px;\n          margin-top: 20px;\n        }\n\n        .modal-button {\n          padding: 8px 16px;\n          border: 1px solid transparent;\n          border-radius: 6px;\n          font-size: 14px;\n          font-weight: 500;\n          cursor: pointer;\n          transition: all 0.2s ease;\n          display: flex;\n          align-items: center;\n          gap: 6px;\n        }\n\n        .modal-button.primary {\n          background: #0a451c;\n          color: white;\n        }\n\n        .modal-button.secondary {\n          background: white;\n          color: #6b7280;\n          border-color: #d1d5db;\n        }\n\n        .modal-button:hover {\n          transform: translateY(-1px);\n          box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\n        }\n\n        .spin {\n          animation: spin 1s linear infinite;\n        }\n\n        @keyframes spin {\n          from {\n            transform: rotate(0deg);\n          }\n          to {\n            transform: rotate(360deg);\n          }\n        }\n\n        @media (max-width: 768px) {\n          .admin-donation-management {\n            padding: 16px;\n          }\n\n          .stats-grid {\n            grid-template-columns: 1fr;\n          }\n\n          .controls-row {\n            flex-direction: column;\n            align-items: stretch;\n          }\n\n          .search-box {\n            min-width: unset;\n          }\n\n          .tab-buttons {\n            width: 100%;\n            justify-content: space-between;\n          }\n\n          .table-container {\n            font-size: 14px;\n          }\n\n          .target-cell {\n            max-width: 150px;\n          }\n\n          th, td {\n            padding: 8px 12px;\n          }\n        }\n      "}),(0,s.jsxs)("div",{className:"page-header",children:[(0,s.jsx)("h1",{children:"Donation Management"}),(0,s.jsx)("p",{children:"Manage donations, send reminders, and track completion status"}),N?(0,s.jsxs)("div",{className:"reference-status loading",children:[(0,s.jsx)(ke.A,{size:14,className:"spin"}),"Loading reference data..."]}):(0,s.jsxs)("div",{className:"reference-status loaded",children:[(0,s.jsx)(ze.A,{size:14}),"Loaded ",k.length," countries, ",C.length," projects"]})]}),(0,s.jsxs)("div",{className:"stats-grid",children:[(0,s.jsxs)("div",{className:"stat-card",children:[(0,s.jsxs)("div",{className:"stat-header",children:[(0,s.jsx)(Ce.A,{size:20,color:"#0a451c"}),(0,s.jsx)("h3",{children:"Total Donations"})]}),(0,s.jsx)("p",{className:"stat-value",children:L(j.total_amount||0)})]}),(0,s.jsxs)("div",{className:"stat-card secondary",children:[(0,s.jsxs)("div",{className:"stat-header",children:[(0,s.jsx)(_n.A,{size:20,color:"#facf3c"}),(0,s.jsx)("h3",{children:"Total Count"})]}),(0,s.jsx)("p",{className:"stat-value",children:j.total_donations||0})]}),(0,s.jsxs)("div",{className:"stat-card accent",children:[(0,s.jsxs)("div",{className:"stat-header",children:[(0,s.jsx)(Cn.A,{size:20,color:"#9ccf9f"}),(0,s.jsx)("h3",{children:"Average Donation"})]}),(0,s.jsx)("p",{className:"stat-value",children:L(j.average_amount||0)})]}),(0,s.jsxs)("div",{className:"stat-card info",children:[(0,s.jsxs)("div",{className:"stat-header",children:[(0,s.jsx)(Dl.A,{size:20,color:"#3b82f6"}),(0,s.jsx)("h3",{children:"Anonymous"})]}),(0,s.jsx)("p",{className:"stat-value",children:(null===(n=j.anonymous_donations)||void 0===n?void 0:n.total_count)||0})]})]}),(0,s.jsx)("div",{className:"controls-section",children:(0,s.jsxs)("div",{className:"controls-row",children:[(0,s.jsxs)("div",{className:"search-box",children:[(0,s.jsx)(G.A,{className:"search-icon",size:20}),(0,s.jsx)("input",{type:"text",placeholder:"Search by name, email, donation ID, or target...",value:u,onChange:e=>g(e.target.value)})]}),(0,s.jsxs)("div",{className:"tab-buttons",children:[(0,s.jsx)("button",{className:"tab-button ".concat("pending"===p?"active":""),onClick:()=>x("pending"),children:"Pending"}),(0,s.jsx)("button",{className:"tab-button ".concat("completed"===p?"active":""),onClick:()=>x("completed"),children:"Completed"}),(0,s.jsx)("button",{className:"tab-button ".concat("all"===p?"active":""),onClick:()=>x("all"),children:"All"})]}),(0,s.jsxs)("button",{className:"refresh-button",onClick:D,children:[(0,s.jsx)(ke.A,{size:16}),"Refresh"]})]})}),(0,s.jsx)("div",{className:"donations-table",children:(0,s.jsx)("div",{className:"table-container",children:(0,s.jsxs)("table",{children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{children:"Donor"}),(0,s.jsx)("th",{children:"Amount"}),(0,s.jsx)("th",{children:"Type"}),(0,s.jsx)("th",{children:"Target"}),(0,s.jsx)("th",{children:"Status"}),(0,s.jsx)("th",{children:"Date"}),(0,s.jsx)("th",{children:"Actions"})]})}),(0,s.jsx)("tbody",{children:c?(0,s.jsx)("tr",{children:(0,s.jsx)("td",{colSpan:"7",children:(0,s.jsxs)("div",{className:"loading-state",children:[(0,s.jsx)(ke.A,{size:24,className:"spin"}),(0,s.jsx)("span",{children:"Loading donations..."})]})})}):0===o.length?(0,s.jsx)("tr",{children:(0,s.jsx)("td",{colSpan:"7",children:(0,s.jsxs)("div",{className:"empty-state",children:[(0,s.jsx)("h3",{children:"No donations found"}),(0,s.jsx)("p",{children:"No donations match your current filters"})]})})}):o.map(e=>{return(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:(0,s.jsxs)("div",{className:"donor-info",children:[(0,s.jsx)("span",{className:"donor-name",children:e.is_anonymous?"Anonymous":e.donor_name}),(0,s.jsx)("span",{className:"donor-email",children:e.donor_email})]})}),(0,s.jsx)("td",{className:"amount-cell",children:L(e.amount)}),(0,s.jsx)("td",{children:(0,s.jsx)("span",{style:{textTransform:"capitalize"},children:e.donation_type})}),(0,s.jsxs)("td",{className:"target-cell",children:[(0,s.jsx)("div",{className:"target-name",children:B(e)}),(0,s.jsx)("div",{className:"target-type",children:"general"===e.donation_type?"General Fund":"country"===e.donation_type?"Country-specific":"Project-specific"})]}),(0,s.jsx)("td",{children:(n=e.status,t=e.payment_status,"completed"===n&&"completed"===t?(0,s.jsxs)("span",{className:"status-badge completed",children:[(0,s.jsx)(ze.A,{size:14})," Completed"]}):"pending"===n||"pending"===t?(0,s.jsxs)("span",{className:"status-badge pending",children:[(0,s.jsx)(H.A,{size:14})," Pending"]}):(0,s.jsxs)("span",{className:"status-badge processing",children:[(0,s.jsx)(ne.A,{size:14})," Processing"]}))}),(0,s.jsx)("td",{children:M(e.created_at)}),(0,s.jsx)("td",{children:(0,s.jsxs)("div",{className:"actions-cell",children:[(0,s.jsx)("button",{className:"action-button view",onClick:()=>f(e),title:"View Details",children:(0,s.jsx)(vt.A,{size:16})}),"completed"!==e.status&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("button",{className:"action-button complete",onClick:()=>W(e.id),title:"Mark Complete",children:(0,s.jsx)(ze.A,{size:16})}),(0,s.jsx)("button",{className:"action-button remind",onClick:()=>{f(e),y(!0)},title:"Send Reminder",children:(0,s.jsx)(yt.A,{size:16})})]})]})})]},e.id);var n,t})})]})})}),h&&!b&&(0,s.jsx)("div",{className:"modal-overlay",onClick:()=>f(null),children:(0,s.jsxs)("div",{className:"modal",onClick:e=>e.stopPropagation(),children:[(0,s.jsxs)("div",{className:"modal-header",children:[(0,s.jsx)("h2",{children:"Donation Details"}),(0,s.jsx)("button",{className:"close-button",onClick:()=>f(null),children:(0,s.jsx)(ie.A,{size:20})})]}),(0,s.jsxs)("div",{className:"modal-content",children:[(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{children:"Donation ID"}),(0,s.jsx)("input",{value:h.id,readOnly:!0})]}),(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{children:"Donor Name"}),(0,s.jsx)("input",{value:h.is_anonymous?"Anonymous":h.donor_name,readOnly:!0})]}),(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{children:"Email"}),(0,s.jsx)("input",{value:h.donor_email,readOnly:!0})]}),(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{children:"Amount"}),(0,s.jsx)("input",{value:L(h.amount),readOnly:!0})]}),(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{children:"Donation Type"}),(0,s.jsx)("input",{value:h.donation_type,style:{textTransform:"capitalize"},readOnly:!0})]}),(0,s.jsxs)("div",{className:"target-info-section",children:[(0,s.jsx)("h4",{children:"Target Information"}),(()=>{const e=(e=>{switch(e.donation_type){case"country":if(e.target_country_id){const n=k.find(n=>n.id===parseInt(e.target_country_id));return{type:"Country-Specific",name:n?n.name:"Unknown Country (ID: ".concat(e.target_country_id,")"),id:e.target_country_id}}return{type:"Country-Specific",name:"Not specified",id:null};case"project":if(e.target_project_id){const n=C.find(n=>n.id===parseInt(e.target_project_id));return{type:"Project-Specific",name:n?n.title:"Unknown Project (ID: ".concat(e.target_project_id,")"),id:e.target_project_id,country:(null===n||void 0===n?void 0:n.country_name)||(null===n||void 0===n?void 0:n.countryName)||"Unknown"}}return{type:"Project-Specific",name:"Not specified",id:null};default:return{type:"General Impact",name:"ACEF General Fund",id:null}}})(h);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"target-detail",children:[(0,s.jsx)("span",{className:"target-label",children:"Type:"}),(0,s.jsx)("span",{className:"target-value",children:e.type})]}),(0,s.jsxs)("div",{className:"target-detail",children:[(0,s.jsx)("span",{className:"target-label",children:"Target:"}),(0,s.jsx)("span",{className:"target-value",children:e.name})]}),e.id&&(0,s.jsxs)("div",{className:"target-detail",children:[(0,s.jsx)("span",{className:"target-label",children:"ID:"}),(0,s.jsx)("span",{className:"target-value",children:e.id})]}),e.country&&(0,s.jsxs)("div",{className:"target-detail",children:[(0,s.jsx)("span",{className:"target-label",children:"Country:"}),(0,s.jsx)("span",{className:"target-value",children:e.country})]})]})})()]}),(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{children:"Status"}),(0,s.jsx)("input",{value:"".concat(h.status," / ").concat(h.payment_status),readOnly:!0})]}),(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{children:"Created Date"}),(0,s.jsx)("input",{value:M(h.created_at),readOnly:!0})]}),h.admin_notes&&(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{children:"Admin Notes"}),(0,s.jsx)("textarea",{value:h.admin_notes,readOnly:!0})]})]}),"completed"!==h.status&&(0,s.jsxs)("div",{className:"modal-actions",children:[(0,s.jsxs)("button",{className:"modal-button primary",onClick:()=>W(h.id),children:[(0,s.jsx)(ze.A,{size:16}),"Mark Complete"]}),(0,s.jsxs)("button",{className:"modal-button secondary",onClick:()=>{y(!0)},children:[(0,s.jsx)(yt.A,{size:16}),"Send Reminder"]})]})]})}),b&&h&&(0,s.jsx)("div",{className:"modal-overlay",onClick:()=>y(!1),children:(0,s.jsxs)("div",{className:"modal",onClick:e=>e.stopPropagation(),children:[(0,s.jsxs)("div",{className:"modal-header",children:[(0,s.jsx)("h2",{children:"Send Reminder"}),(0,s.jsx)("button",{className:"close-button",onClick:()=>y(!1),children:(0,s.jsx)(ie.A,{size:20})})]}),(0,s.jsxs)("div",{className:"modal-content",children:[(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{children:"Donor Information"}),(0,s.jsx)("input",{value:"".concat(h.donor_name," (").concat(h.donor_email,")"),readOnly:!0,style:{background:"#f9fafb",color:"#6b7280"}})]}),(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{children:"Donation Details"}),(0,s.jsx)("input",{value:"".concat(L(h.amount)," - ").concat(h.donation_type," donation"),readOnly:!0,style:{background:"#f9fafb",color:"#6b7280"}})]}),(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{children:"Reminder Type *"}),(0,s.jsxs)("select",{value:I.type,onChange:e=>E(n=>(0,m.A)((0,m.A)({},n),{},{type:e.target.value})),required:!0,children:[(0,s.jsx)("option",{value:"payment_pending",children:"Payment Pending"}),(0,s.jsx)("option",{value:"completion_reminder",children:"Completion Status Update"}),(0,s.jsx)("option",{value:"thank_you_follow",children:"Thank You Follow-up"})]})]}),(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{children:"Personal Message (Optional)"}),(0,s.jsx)("textarea",{placeholder:"Add a personal message to include in the reminder email...",value:I.message,onChange:e=>E(n=>(0,m.A)((0,m.A)({},n),{},{message:e.target.value})),rows:4,maxLength:500}),(0,s.jsxs)("small",{style:{color:"#6b7280",fontSize:"0.85rem"},children:[I.message.length,"/500 characters"]})]}),(0,s.jsxs)("div",{style:{background:"#f0f9ff",padding:"16px",borderRadius:"8px",border:"1px solid #bae6fd",marginTop:"16px"},children:[(0,s.jsx)("h4",{style:{margin:"0 0 8px 0",color:"#0369a1",fontSize:"14px"},children:"Email Preview:"}),(0,s.jsxs)("p",{style:{margin:"0",fontSize:"13px",color:"#0c4a6e"},children:["payment_pending"===I.type&&"Payment reminder will be sent to complete the pending donation.","completion_reminder"===I.type&&"Status update will be sent about donation processing.","thank_you_follow"===I.type&&"Follow-up message will be sent with impact information."]})]})]}),(0,s.jsxs)("div",{className:"modal-actions",children:[(0,s.jsxs)("button",{className:"modal-button primary",onClick:async()=>{if(h)try{console.log("Sending reminder for donation:",h.id),console.log("Reminder form data:",I);const n=await fetch("".concat(t,"/donations/admin/").concat(h.id,"/reminder"),{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({reminderType:I.type,message:I.message,sendEmail:!0})});if(console.log("Reminder response status:",n.status),!n.ok){const e=await n.text();throw console.error("Reminder failed with status:",n.status,e),new Error("Server returned ".concat(n.status,": ").concat(e))}const a=await n.json();if(console.log("Reminder response data:",a),!a.success)throw new Error(a.message||"Unknown error occurred");var e;F(null!==(e=a.data)&&void 0!==e&&e.emailSent?"Reminder email sent to ".concat(h.donor_email):"Reminder logged successfully","success"),y(!1),E({type:"payment_pending",message:""}),D()}catch(n){console.error("Error sending reminder:",n),F("Failed to send reminder: ".concat(n.message),"error")}else F("No donation selected","error")},disabled:!I.type,children:[(0,s.jsx)(Ye.A,{size:16}),"Send Email Reminder"]}),(0,s.jsx)("button",{className:"modal-button secondary",onClick:()=>y(!1),children:"Cancel"})]})]})})]})};var Ml=t(1697),Hl=t(9161);const ql=()=>{const{currentLogo:e,loading:n,refreshLogo:t,updateLogo:a,clearLogo:r}=C(),[o,l]=(0,i.useState)(!1),[c,d]=(0,i.useState)(!1),[p,m]=(0,i.useState)(!1),[x,u]=(0,i.useState)(""),[g,h]=(0,i.useState)(""),[f,b]=(0,i.useState)(!1),[y,j]=(0,i.useState)(!1),[v,w]=(0,i.useState)(""),[A,k]=(0,i.useState)([]),[S,z]=(0,i.useState)(!1),[T,W]=(0,i.useState)(!1),F=(0,i.useRef)(null);(0,i.useEffect)(()=>{null!==e&&void 0!==e&&e.alt_text&&w(e.alt_text)},[e]),(0,i.useEffect)(()=>{if(g||x){const e=setTimeout(()=>{h(""),u("")},5e3);return()=>clearTimeout(e)}},[g,x]);return(0,s.jsxs)(N.A,{sx:{p:3,maxWidth:1200,mx:"auto"},children:[(0,s.jsx)(_.A,{variant:"h4",gutterBottom:!0,children:"Logo Management"}),x&&(0,s.jsx)(I.A,{severity:"error",sx:{mb:2},onClose:()=>u(""),children:x}),g&&(0,s.jsx)(I.A,{severity:"success",sx:{mb:2},onClose:()=>h(""),children:g}),(0,s.jsxs)(Un.A,{container:!0,spacing:3,children:[(0,s.jsx)(Un.A,{item:!0,xs:12,md:6,children:(0,s.jsxs)(Rn.A,{sx:{p:3},children:[(0,s.jsx)(_.A,{variant:"h6",gutterBottom:!0,children:"Current Logo"}),(0,s.jsxs)(N.A,{sx:{display:"flex",flexDirection:"column",alignItems:"center",mb:3},children:[n?(0,s.jsx)(Ds.A,{variant:"rectangular",width:200,height:200}):e?(0,s.jsx)(jo.A,{src:e.full_url,alt:e.alt_text,sx:{width:200,height:200,border:"2px solid #e0e0e0","& img":{objectFit:"contain"}}}):(0,s.jsx)(N.A,{sx:{width:200,height:200,border:"2px dashed #ccc",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:1},children:(0,s.jsx)(_.A,{variant:"body2",color:"text.secondary",children:"No logo uploaded"})}),e&&(0,s.jsxs)(N.A,{sx:{mt:2,textAlign:"center"},children:[y?(0,s.jsx)(Bn.A,{label:"Alt Text",value:v,onChange:e=>w(e.target.value),fullWidth:!0,sx:{mb:2},placeholder:"Enter descriptive text for the logo"}):(0,s.jsxs)(_.A,{variant:"body2",color:"text.secondary",children:["Alt Text: ",e.alt_text]}),(0,s.jsxs)(_.A,{variant:"caption",display:"block",sx:{mt:1},children:["Uploaded: ",new Date(e.created_at).toLocaleDateString()]})]})]}),(0,s.jsxs)(N.A,{sx:{display:"flex",gap:1,flexWrap:"wrap",justifyContent:"center"},children:[!y&&e&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(E.A,{variant:"outlined",startIcon:(0,s.jsx)($i.A,{}),onClick:()=>j(!0),size:"small",children:"Edit"}),(0,s.jsx)(E.A,{variant:"outlined",color:"error",startIcon:(0,s.jsx)(Gi.A,{}),onClick:()=>b(!0),disabled:p,size:"small",children:p?(0,s.jsx)(On.A,{size:20}):"Delete"})]}),y&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(E.A,{variant:"contained",startIcon:(0,s.jsx)(Qi.A,{}),onClick:async()=>{if(null!==e&&void 0!==e&&e.id)if(v.trim()){d(!0),u(""),h("");try{const n=(await cn.A.put("".concat(Ge,"/logos/").concat(e.id),{alt_text:v.trim()},{withCredentials:!0})).data;if(!n.success)throw new Error(n.message||"Update failed");h("Logo updated successfully!"),a(n.data),j(!1),t()}catch(x){var n,r;console.error("Update failed:",x);const t=(null===(n=x.response)||void 0===n||null===(r=n.data)||void 0===r?void 0:r.message)||x.message||"Update failed";u("Update failed: ".concat(t))}finally{d(!1)}}else u("Alt text is required");else u("No logo selected to update")},disabled:c,size:"small",children:c?(0,s.jsx)(On.A,{size:20}):"Save"}),(0,s.jsx)(E.A,{variant:"outlined",startIcon:(0,s.jsx)(es.A,{}),onClick:()=>{j(!1),w((null===e||void 0===e?void 0:e.alt_text)||"")},size:"small",children:"Cancel"})]})]})]})}),(0,s.jsx)(Un.A,{item:!0,xs:12,md:6,children:(0,s.jsxs)(Rn.A,{sx:{p:3},children:[(0,s.jsx)(_.A,{variant:"h6",gutterBottom:!0,children:"Upload New Logo"}),(0,s.jsx)(N.A,{sx:{mb:3},children:(0,s.jsx)(Bn.A,{label:"Alt Text",value:v,onChange:e=>w(e.target.value),fullWidth:!0,placeholder:"Enter descriptive text for the logo",helperText:"This text will be used for accessibility and SEO"})}),(0,s.jsx)("input",{type:"file",accept:"image/*",onChange:async e=>{const n=e.target.files[0];if(!n)return;if(!["image/jpeg","image/jpg","image/png","image/gif","image/webp"].includes(n.type))return void u("Please select a valid image file (JPEG, PNG, GIF, or WebP)");if(n.size>5242880)u("File size must be less than 5MB");else{l(!0),u(""),h("");try{const e=new FormData;e.append("logo",n),e.append("alt_text",v||"ACEF Logo"),console.log("Uploading file:",n.name,"Size:",n.size);const r=(await cn.A.post("".concat(Ge,"/logos"),e,{withCredentials:!0,headers:{"Content-Type":"multipart/form-data"}})).data;if(!r.success)throw new Error(r.message||"Upload failed");h("Logo uploaded successfully!"),a(r.data),t(),F.current&&(F.current.value="")}catch(x){var r,o;console.error("Upload failed:",x);const n=(null===(r=x.response)||void 0===r||null===(o=r.data)||void 0===o?void 0:o.message)||x.message||"Upload failed";u("Upload failed: ".concat(n))}finally{l(!1)}}},style:{display:"none"},ref:F}),(0,s.jsx)(E.A,{variant:"contained",startIcon:o?(0,s.jsx)(On.A,{size:20}):(0,s.jsx)(Ml.A,{}),onClick:()=>{var e;return null===(e=F.current)||void 0===e?void 0:e.click()},disabled:o,fullWidth:!0,size:"large",children:o?"Uploading...":"Choose Logo File"}),(0,s.jsx)(_.A,{variant:"caption",display:"block",sx:{mt:2,textAlign:"center"},children:"Supported formats: JPEG, PNG, GIF, WebP (Max 5MB)"})]})}),(0,s.jsx)(Un.A,{item:!0,xs:12,children:(0,s.jsxs)(Rn.A,{sx:{p:3},children:[(0,s.jsxs)(N.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[(0,s.jsx)(_.A,{variant:"h6",children:"Logo History"}),(0,s.jsx)(E.A,{variant:"outlined",startIcon:S?(0,s.jsx)(On.A,{size:20}):(0,s.jsx)(Hl.A,{}),onClick:async()=>{z(!0),u("");try{const e=(await cn.A.get("".concat(Ge,"/logos/history"),{withCredentials:!0})).data;if(!e.success)throw new Error(e.message||"Failed to fetch history");k(e.data||[]),W(!0)}catch(x){var e,n;console.error("Failed to fetch history:",x);const a=(null===(e=x.response)||void 0===e||null===(n=e.data)||void 0===n?void 0:n.message)||x.message||"Failed to fetch history";u("Failed to fetch history: ".concat(a))}finally{z(!1)}},disabled:S,children:S?"Loading...":"Load History"})]}),T&&(0,s.jsxs)(Un.A,{container:!0,spacing:2,children:[A.map(e=>(0,s.jsx)(Un.A,{item:!0,xs:12,sm:6,md:4,children:(0,s.jsxs)(Yn.A,{children:[(0,s.jsx)(N.A,{sx:{p:2,display:"flex",justifyContent:"center"},children:(0,s.jsx)(jo.A,{src:e.full_url,alt:e.alt_text,sx:{width:80,height:80}})}),(0,s.jsxs)(Gn.A,{sx:{pt:0},children:[(0,s.jsx)(_.A,{variant:"body2",noWrap:!0,children:e.alt_text}),(0,s.jsx)(_.A,{variant:"caption",color:"text.secondary",children:new Date(e.created_at).toLocaleDateString()}),e.is_active&&(0,s.jsx)(it.A,{label:"Active",color:"primary",size:"small",sx:{ml:1}})]})]})},e.id)),0===A.length&&(0,s.jsx)(Un.A,{item:!0,xs:12,children:(0,s.jsx)(_.A,{variant:"body2",color:"text.secondary",textAlign:"center",children:"No logo history found"})})]})]})})]}),(0,s.jsxs)(Oi.A,{open:f,onClose:()=>b(!1),children:[(0,s.jsx)(Ui.A,{children:"Confirm Delete"}),(0,s.jsx)(ds.A,{children:(0,s.jsx)(As.A,{children:"Are you sure you want to delete the current logo? This action cannot be undone."})}),(0,s.jsxs)(Yi.A,{children:[(0,s.jsx)(E.A,{onClick:()=>b(!1),children:"Cancel"}),(0,s.jsx)(E.A,{onClick:async()=>{if(null!==e&&void 0!==e&&e.id){m(!0),u(""),h("");try{const n=(await cn.A.delete("".concat(Ge,"/logos/").concat(e.id),{withCredentials:!0})).data;if(!n.success)throw new Error(n.message||"Delete failed");h("Logo deleted successfully!"),r(),b(!1),t()}catch(x){var n,a;console.error("Delete failed:",x);const t=(null===(n=x.response)||void 0===n||null===(a=n.data)||void 0===a?void 0:a.message)||x.message||"Delete failed";u("Delete failed: ".concat(t))}finally{m(!1)}}else u("No logo selected to delete")},color:"error",disabled:p,startIcon:p?(0,s.jsx)(On.A,{size:20}):void 0,children:p?"Deleting...":"Delete"})]})]})]})},Ol=()=>{const[e,n]=(0,i.useState)("overview"),[t,a]=(0,i.useState)([]),[r,o]=(0,i.useState)({}),[l,c]=(0,i.useState)([]),[d,p]=(0,i.useState)(!0),[x,u]=(0,i.useState)(null),[g,h]=(0,i.useState)({subject:"",message:"",messageType:"newsletter"}),[f,b]=(0,i.useState)(!1),[y,j]=(0,i.useState)(null);(0,i.useEffect)(()=>{v()},[]);const v=async()=>{try{var e;p(!0);const t=await fetch("".concat(Ge,"/newsletter/subscribers"),{credentials:"include",headers:{"Content-Type":"application/json"}}),r=await fetch("".concat(Ge,"/newsletter/stats"),{credentials:"include",headers:{"Content-Type":"application/json"}});let i={data:{messages:[]}};try{const e=await fetch("".concat(Ge,"/newsletter/messages"),{credentials:"include",headers:{"Content-Type":"application/json"}});e.ok&&(i=await e.json())}catch(n){console.log("Messages endpoint not available yet:",n)}if(t.ok){const e=await t.json();a(e.data||[])}if(r.ok){const e=await r.json();o(e.data||{})}c((null===(e=i.data)||void 0===e?void 0:e.messages)||[])}catch(t){console.error("Error fetching newsletter data:",t)}finally{p(!1)}},w=()=>{if(0===t.length)return void alert("No subscribers to download");const e=t.map(e=>e.email).join("\n"),n=new Blob([e],{type:"text/csv;charset=utf-8;"}),a=document.createElement("a"),r=URL.createObjectURL(n);a.setAttribute("href",r),a.setAttribute("download","newsletter_emails_".concat((new Date).toISOString().split("T")[0],".csv")),a.style.visibility="hidden",document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL(r)};if(d)return(0,s.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",padding:"50px",fontSize:"18px",color:"#666"},children:"Loading newsletter data..."});const A=e=>({display:"flex",alignItems:"center",gap:"8px",padding:"12px 20px",borderRadius:"8px",border:"none",cursor:"pointer",fontSize:"14px",fontWeight:"500",transition:"all 0.2s ease",backgroundColor:e?"white":"transparent",color:e?"#2563eb":"#6b7280",boxShadow:e?"0 2px 8px rgba(0,0,0,0.1)":"none"}),k={background:"white",padding:"24px",borderRadius:"16px",border:"1px solid #e5e7eb",boxShadow:"0 4px 16px rgba(0,0,0,0.04)"},S=e=>({background:e,padding:"24px",borderRadius:"16px",color:"white",display:"flex",alignItems:"center",justifyContent:"space-between"});return(0,s.jsxs)("div",{style:{maxWidth:"1200px",margin:"0 auto",padding:"24px"},children:[(0,s.jsxs)("div",{style:{marginBottom:"32px"},children:[(0,s.jsx)("h1",{style:{fontSize:"32px",fontWeight:"bold",color:"#111827",margin:"0 0 8px 0"},children:"Newsletter Management"}),(0,s.jsx)("p",{style:{color:"#6b7280",margin:0,fontSize:"16px"},children:"Manage subscribers and send messages to your community"})]}),(0,s.jsxs)("div",{style:{display:"flex",gap:"4px",marginBottom:"30px",backgroundColor:"#f3f4f6",padding:"4px",borderRadius:"12px",flexWrap:"wrap"},children:[(0,s.jsxs)("button",{onClick:()=>n("overview"),style:A("overview"===e),children:[(0,s.jsx)("span",{children:"\ud83d\udc65"}),(0,s.jsx)("span",{children:"Overview"})]}),(0,s.jsxs)("button",{onClick:()=>n("compose"),style:A("compose"===e),children:[(0,s.jsx)("span",{children:"\ud83d\udcac"}),(0,s.jsx)("span",{children:"Compose Message"})]}),(0,s.jsxs)("button",{onClick:()=>n("subscribers"),style:A("subscribers"===e),children:[(0,s.jsx)("span",{children:"\ud83d\udce7"}),(0,s.jsx)("span",{children:"Subscribers"})]}),(0,s.jsxs)("button",{onClick:()=>n("history"),style:A("history"===e),children:[(0,s.jsx)("span",{children:"\ud83d\udcdc"}),(0,s.jsx)("span",{children:"Message History"})]})]}),"overview"===e&&(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"24px",marginBottom:"32px"},children:[(0,s.jsxs)("div",{style:S("linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%)"),children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{style:{margin:"0 0 8px 0",fontSize:"14px",opacity:.9},children:"Total Subscribers"}),(0,s.jsx)("p",{style:{margin:0,fontSize:"36px",fontWeight:"bold"},children:r.total_subscribers||0})]}),(0,s.jsx)("span",{style:{fontSize:"32px",opacity:.8},children:"\ud83d\udc65"})]}),(0,s.jsxs)("div",{style:S("linear-gradient(135deg, #10b981 0%, #059669 100%)"),children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{style:{margin:"0 0 8px 0",fontSize:"14px",opacity:.9},children:"Active Subscribers"}),(0,s.jsx)("p",{style:{margin:0,fontSize:"36px",fontWeight:"bold"},children:r.active_subscribers||0})]}),(0,s.jsx)("span",{style:{fontSize:"32px",opacity:.8},children:"\ud83d\udce7"})]}),(0,s.jsxs)("div",{style:S("linear-gradient(135deg, #8b5cf6 0%, #7c3aed 100%)"),children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{style:{margin:"0 0 8px 0",fontSize:"14px",opacity:.9},children:"Today's Subscriptions"}),(0,s.jsx)("p",{style:{margin:0,fontSize:"36px",fontWeight:"bold"},children:r.today_subscriptions||0})]}),(0,s.jsx)("span",{style:{fontSize:"32px",opacity:.8},children:"\ud83d\udcc5"})]}),(0,s.jsxs)("div",{style:S("linear-gradient(135deg, #f59e0b 0%, #d97706 100%)"),children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{style:{margin:"0 0 8px 0",fontSize:"14px",opacity:.9},children:"Messages Sent"}),(0,s.jsx)("p",{style:{margin:0,fontSize:"36px",fontWeight:"bold"},children:l.length||0})]}),(0,s.jsx)("span",{style:{fontSize:"32px",opacity:.8},children:"\ud83d\udce4"})]})]}),(0,s.jsxs)("div",{style:k,children:[(0,s.jsx)("h3",{style:{margin:"0 0 20px 0",fontSize:"20px",fontWeight:"600"},children:"Quick Actions"}),(0,s.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"16px"},children:[(0,s.jsxs)("button",{onClick:()=>n("compose"),style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",backgroundColor:"#3b82f6",color:"white",padding:"16px 24px",borderRadius:"12px",border:"none",cursor:"pointer",fontSize:"16px",fontWeight:"600",transition:"all 0.2s ease"},onMouseOver:e=>e.target.style.backgroundColor="#2563eb",onMouseOut:e=>e.target.style.backgroundColor="#3b82f6",children:[(0,s.jsx)("span",{children:"\ud83d\udcac"}),(0,s.jsx)("span",{children:"Compose Message"})]}),(0,s.jsxs)("button",{onClick:w,style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",backgroundColor:"#10b981",color:"white",padding:"16px 24px",borderRadius:"12px",border:"none",cursor:"pointer",fontSize:"16px",fontWeight:"600",transition:"all 0.2s ease"},onMouseOver:e=>e.target.style.backgroundColor="#059669",onMouseOut:e=>e.target.style.backgroundColor="#10b981",children:[(0,s.jsx)("span",{children:"\ud83d\udce5"}),(0,s.jsx)("span",{children:"Download Emails"})]}),(0,s.jsxs)("button",{onClick:()=>n("subscribers"),style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",backgroundColor:"#6b7280",color:"white",padding:"16px 24px",borderRadius:"12px",border:"none",cursor:"pointer",fontSize:"16px",fontWeight:"600",transition:"all 0.2s ease"},onMouseOver:e=>e.target.style.backgroundColor="#4b5563",onMouseOut:e=>e.target.style.backgroundColor="#6b7280",children:[(0,s.jsx)("span",{children:"\ud83d\udc65"}),(0,s.jsx)("span",{children:"Manage Subscribers"})]})]})]})]}),"compose"===e&&(0,s.jsx)("div",{style:{maxWidth:"800px"},children:(0,s.jsxs)("div",{style:k,children:[(0,s.jsxs)("h3",{style:{fontSize:"24px",fontWeight:"600",marginBottom:"24px",display:"flex",alignItems:"center",gap:"12px",color:"#111827"},children:[(0,s.jsx)("span",{style:{color:"#3b82f6",fontSize:"28px"},children:"\ud83d\udcac"}),(0,s.jsx)("span",{children:"Compose Newsletter Message"})]}),y&&(0,s.jsx)("div",{style:{marginBottom:"24px",padding:"16px",borderRadius:"12px",border:"2px solid ".concat(y.success?"#10b981":"#ef4444"),backgroundColor:y.success?"#ecfdf5":"#fef2f2",color:y.success?"#065f46":"#991b1b"},children:(0,s.jsxs)("div",{style:{display:"flex",alignItems:"flex-start",gap:"8px"},children:[(0,s.jsx)("span",{style:{fontSize:"20px"},children:y.success?"\u2705":"\u274c"}),(0,s.jsx)("div",{children:y.success?(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{style:{margin:"0 0 4px 0",fontWeight:"600"},children:"Message sent successfully!"}),(0,s.jsxs)("p",{style:{margin:0,fontSize:"14px"},children:["Sent to ",y.data.successfulSends," of ",y.data.totalSubscribers," subscribers",y.data.failedSends>0&&(0,s.jsxs)("span",{style:{color:"#f59e0b"},children:[" (",y.data.failedSends," failed)"]})]})]}):(0,s.jsx)("p",{style:{margin:0},children:y.message})})]})}),(0,s.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),g.subject.trim()&&g.message.trim()){b(!0),j(null);try{const e=await fetch("".concat(Ge,"/newsletter/send-message"),{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(g)}),n=await e.json();e.ok?(j({success:!0,data:n.data}),h({subject:"",message:"",messageType:"newsletter"}),await v()):j({success:!1,message:n.message})}catch(n){console.error("Error sending message:",n),j({success:!1,message:"Failed to send message. Please try again."})}finally{b(!1)}}else alert("Please fill in both subject and message")},children:[(0,s.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 200px",gap:"16px",marginBottom:"24px"},children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{style:{display:"block",fontSize:"14px",fontWeight:"600",color:"#374151",marginBottom:"8px"},children:"Message Type"}),(0,s.jsxs)("select",{value:g.messageType,onChange:e=>h(n=>(0,m.A)((0,m.A)({},n),{},{messageType:e.target.value})),style:{width:"100%",padding:"12px 16px",border:"2px solid #e5e7eb",borderRadius:"8px",fontSize:"16px",backgroundColor:"white",outline:"none",transition:"border-color 0.2s ease"},onFocus:e=>e.target.style.borderColor="#3b82f6",onBlur:e=>e.target.style.borderColor="#e5e7eb",children:[(0,s.jsx)("option",{value:"newsletter",children:"\ud83d\udcf0 Newsletter"}),(0,s.jsx)("option",{value:"announcement",children:"\ud83d\udce2 Announcement"}),(0,s.jsx)("option",{value:"update",children:"\ud83d\udd04 Update"})]})]}),(0,s.jsx)("div",{style:{display:"flex",alignItems:"end"},children:(0,s.jsx)("div",{style:{backgroundColor:"#f9fafb",padding:"12px 16px",borderRadius:"8px",border:"1px solid #e5e7eb",textAlign:"center",width:"100%"},children:(0,s.jsxs)("p",{style:{margin:0,fontSize:"14px",color:"#6b7280"},children:["Recipients: ",(0,s.jsx)("span",{style:{fontWeight:"700",color:"#111827"},children:r.active_subscribers||0})]})})})]}),(0,s.jsxs)("div",{style:{marginBottom:"24px"},children:[(0,s.jsx)("label",{style:{display:"block",fontSize:"14px",fontWeight:"600",color:"#374151",marginBottom:"8px"},children:"Subject Line"}),(0,s.jsx)("input",{type:"text",value:g.subject,onChange:e=>h(n=>(0,m.A)((0,m.A)({},n),{},{subject:e.target.value})),placeholder:"Enter email subject...",maxLength:200,style:{width:"100%",padding:"16px",border:"2px solid #e5e7eb",borderRadius:"8px",fontSize:"16px",outline:"none",transition:"border-color 0.2s ease"},onFocus:e=>e.target.style.borderColor="#3b82f6",onBlur:e=>e.target.style.borderColor="#e5e7eb",required:!0}),(0,s.jsxs)("p",{style:{fontSize:"12px",color:"#6b7280",margin:"4px 0 0 0"},children:[g.subject.length,"/200 characters"]})]}),(0,s.jsxs)("div",{style:{marginBottom:"24px"},children:[(0,s.jsx)("label",{style:{display:"block",fontSize:"14px",fontWeight:"600",color:"#374151",marginBottom:"8px"},children:"Message Content"}),(0,s.jsx)("textarea",{value:g.message,onChange:e=>h(n=>(0,m.A)((0,m.A)({},n),{},{message:e.target.value})),placeholder:"Write your newsletter message here...",rows:12,maxLength:1e4,style:{width:"100%",padding:"16px",border:"2px solid #e5e7eb",borderRadius:"8px",fontSize:"16px",outline:"none",resize:"vertical",fontFamily:"inherit",lineHeight:"1.5",transition:"border-color 0.2s ease"},onFocus:e=>e.target.style.borderColor="#3b82f6",onBlur:e=>e.target.style.borderColor="#e5e7eb",required:!0}),(0,s.jsxs)("p",{style:{fontSize:"12px",color:"#6b7280",margin:"4px 0 0 0"},children:[g.message.length,"/10,000 characters"]})]}),(0,s.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",paddingTop:"24px",borderTop:"1px solid #e5e7eb"},children:[(0,s.jsxs)("div",{style:{fontSize:"14px",color:"#6b7280"},children:["This message will be sent to all ",r.active_subscribers||0," active subscribers"]}),(0,s.jsxs)("button",{type:"submit",disabled:f||!g.subject.trim()||!g.message.trim(),style:{display:"flex",alignItems:"center",gap:"8px",backgroundColor:f?"#9ca3af":"#3b82f6",color:"white",padding:"12px 24px",borderRadius:"8px",border:"none",cursor:f?"not-allowed":"pointer",fontSize:"16px",fontWeight:"600",transition:"all 0.2s ease"},onMouseOver:e=>{!f&&g.subject.trim()&&g.message.trim()&&(e.target.style.backgroundColor="#2563eb")},onMouseOut:e=>{f||(e.target.style.backgroundColor="#3b82f6")},children:[(0,s.jsx)("span",{children:"\ud83d\udce4"}),(0,s.jsx)("span",{children:f?"Sending...":"Send Message"})]})]})]})]})}),"subscribers"===e&&(0,s.jsxs)("div",{style:k,children:[(0,s.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"24px",paddingBottom:"16px",borderBottom:"1px solid #e5e7eb"},children:[(0,s.jsxs)("h3",{style:{margin:0,fontSize:"20px",fontWeight:"600"},children:["All Subscribers (",t.length,")"]}),(0,s.jsxs)("button",{onClick:w,style:{display:"flex",alignItems:"center",gap:"8px",backgroundColor:"#10b981",color:"white",padding:"12px 20px",borderRadius:"8px",border:"none",cursor:"pointer",fontSize:"14px",fontWeight:"600",transition:"all 0.2s ease"},onMouseOver:e=>e.target.style.backgroundColor="#059669",onMouseOut:e=>e.target.style.backgroundColor="#10b981",children:[(0,s.jsx)("span",{children:"\ud83d\udce5"}),(0,s.jsx)("span",{children:"Download Emails"})]})]}),(0,s.jsx)("div",{style:{overflowX:"auto"},children:(0,s.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse"},children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{style:{backgroundColor:"#f9fafb"},children:[(0,s.jsx)("th",{style:{padding:"16px",textAlign:"left",fontSize:"12px",fontWeight:"600",color:"#6b7280",textTransform:"uppercase",letterSpacing:"0.05em",borderBottom:"1px solid #e5e7eb"},children:"Email"}),(0,s.jsx)("th",{style:{padding:"16px",textAlign:"left",fontSize:"12px",fontWeight:"600",color:"#6b7280",textTransform:"uppercase",letterSpacing:"0.05em",borderBottom:"1px solid #e5e7eb"},children:"Subscribed Date"}),(0,s.jsx)("th",{style:{padding:"16px",textAlign:"left",fontSize:"12px",fontWeight:"600",color:"#6b7280",textTransform:"uppercase",letterSpacing:"0.05em",borderBottom:"1px solid #e5e7eb"},children:"Actions"})]})}),(0,s.jsx)("tbody",{children:t.map((e,n)=>(0,s.jsxs)("tr",{style:{borderBottom:"1px solid #f3f4f6",transition:"background-color 0.2s ease"},onMouseOver:e=>e.target.style.backgroundColor="#f9fafb",onMouseOut:e=>e.target.style.backgroundColor="transparent",children:[(0,s.jsx)("td",{style:{padding:"16px",fontSize:"14px",color:"#111827"},children:e.email}),(0,s.jsx)("td",{style:{padding:"16px",fontSize:"14px",color:"#6b7280"},children:new Date(e.subscribed_at).toLocaleDateString()}),(0,s.jsx)("td",{style:{padding:"16px"},children:(0,s.jsxs)("button",{onClick:()=>{return n=e.email,void u(n);var n},style:{display:"flex",alignItems:"center",gap:"4px",color:"#ef4444",background:"none",border:"none",cursor:"pointer",fontSize:"14px",transition:"color 0.2s ease"},onMouseOver:e=>e.target.style.color="#dc2626",onMouseOut:e=>e.target.style.color="#ef4444",children:[(0,s.jsx)("span",{children:"\ud83d\uddd1\ufe0f"}),(0,s.jsx)("span",{children:"Delete"})]})})]},n))})]})})]}),"history"===e&&(0,s.jsxs)("div",{style:k,children:[(0,s.jsx)("div",{style:{paddingBottom:"16px",borderBottom:"1px solid #e5e7eb",marginBottom:"24px"},children:(0,s.jsx)("h3",{style:{margin:0,fontSize:"20px",fontWeight:"600"},children:"Message History"})}),(0,s.jsx)("div",{children:0===l.length?(0,s.jsxs)("div",{style:{padding:"48px",textAlign:"center",color:"#6b7280"},children:[(0,s.jsx)("div",{style:{fontSize:"48px",marginBottom:"16px"},children:"\ud83d\udce7"}),(0,s.jsx)("p",{style:{margin:0,fontSize:"16px"},children:"No messages sent yet"})]}):(0,s.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:"16px"},children:l.map((e,n)=>(0,s.jsx)("div",{style:{padding:"20px",border:"1px solid #e5e7eb",borderRadius:"12px",backgroundColor:"#fafbfc"},children:(0,s.jsx)("div",{style:{display:"flex",alignItems:"flex-start",justifyContent:"space-between",marginBottom:"12px"},children:(0,s.jsxs)("div",{style:{flex:1},children:[(0,s.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"8px"},children:[(0,s.jsx)("h4",{style:{margin:0,fontSize:"18px",fontWeight:"600",color:"#111827"},children:e.subject}),(0,s.jsx)("span",{style:{padding:"4px 8px",fontSize:"12px",borderRadius:"12px",fontWeight:"500",backgroundColor:"announcement"===e.message_type?"#faf5ff":"update"===e.message_type?"#eff6ff":"#f0fdf4",color:"announcement"===e.message_type?"#7c3aed":"update"===e.message_type?"#2563eb":"#059669"},children:e.message_type})]}),(0,s.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"16px",fontSize:"14px",color:"#6b7280"},children:[(0,s.jsxs)("span",{children:["\ud83d\udcc5 Sent: ",new Date(e.sent_at).toLocaleString()]}),(0,s.jsxs)("span",{children:["\ud83d\udc65 Recipients: ",e.total_recipients||0]}),(0,s.jsxs)("span",{style:{color:"#059669"},children:["\u2705 Success: ",e.successful_sends||0]}),e.failed_sends>0&&(0,s.jsxs)("span",{style:{color:"#ef4444"},children:["\u274c Failed: ",e.failed_sends]})]})]})})},n))})})]}),x&&(0,s.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,padding:"16px"},children:(0,s.jsxs)("div",{style:{backgroundColor:"white",borderRadius:"16px",padding:"24px",maxWidth:"400px",width:"100%",boxShadow:"0 20px 50px rgba(0,0,0,0.3)"},children:[(0,s.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"16px"},children:[(0,s.jsx)("div",{style:{backgroundColor:"#fef2f2",padding:"8px",borderRadius:"50%"},children:(0,s.jsx)("span",{style:{fontSize:"24px"},children:"\ud83d\uddd1\ufe0f"})}),(0,s.jsx)("h3",{style:{margin:0,fontSize:"18px",fontWeight:"600",color:"#111827"},children:"Confirm Delete"})]}),(0,s.jsx)("p",{style:{margin:"0 0 8px 0",color:"#6b7280",fontSize:"14px"},children:"Are you sure you want to delete this subscriber?"}),(0,s.jsx)("p",{style:{fontWeight:"600",color:"#ef4444",margin:"0 0 24px 0",fontSize:"16px"},children:x}),(0,s.jsxs)("div",{style:{display:"flex",gap:"12px"},children:[(0,s.jsx)("button",{onClick:()=>u(null),style:{flex:1,padding:"12px 16px",border:"2px solid #e5e7eb",backgroundColor:"white",color:"#374151",borderRadius:"8px",cursor:"pointer",fontSize:"14px",fontWeight:"600",transition:"all 0.2s ease"},onMouseOver:e=>{e.target.style.backgroundColor="#f9fafb",e.target.style.borderColor="#d1d5db"},onMouseOut:e=>{e.target.style.backgroundColor="white",e.target.style.borderColor="#e5e7eb"},children:"Cancel"}),(0,s.jsx)("button",{onClick:async()=>{const e=x;u(null);try{const n=await fetch("".concat(Ge,"/newsletter/subscribers/").concat(encodeURIComponent(e)),{method:"DELETE",credentials:"include",headers:{"Content-Type":"application/json"}});if(n.ok)a(n=>n.filter(n=>n.email!==e)),await v();else{const e=await n.json();alert("Error: ".concat(e.message))}}catch(n){console.error("Error deleting subscriber:",n),alert("Error deleting subscriber")}},style:{flex:1,padding:"12px 16px",backgroundColor:"#ef4444",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",fontSize:"14px",fontWeight:"600",transition:"all 0.2s ease"},onMouseOver:e=>e.target.style.backgroundColor="#dc2626",onMouseOut:e=>e.target.style.backgroundColor="#ef4444",children:"Delete"})]})]})})]})};var Ul=t(405),Yl=t(8837),Gl=t(6716),Vl=t(5067),Jl=t(8236);const Kl=Ge,Xl=["Afghanistan","Albania","Algeria","Argentina","Armenia","Australia","Austria","Azerbaijan","Bahrain","Bangladesh","Belarus","Belgium","Bolivia","Bosnia and Herzegovina","Brazil","Bulgaria","Cambodia","Cameroon","Canada","Chile","China","Colombia","Costa Rica","Croatia","Czech Republic","Denmark","Ecuador","Egypt","Estonia","Ethiopia","Finland","France","Georgia","Germany","Ghana","Greece","Guatemala","Honduras","Hungary","Iceland","India","Indonesia","Iran","Iraq","Ireland","Israel","Italy","Japan","Jordan","Kazakhstan","Kenya","Kuwait","Latvia","Lebanon","Lithuania","Luxembourg","Malaysia","Mexico","Morocco","Netherlands","New Zealand","Nigeria","Norway","Pakistan","Peru","Philippines","Poland","Portugal","Qatar","Romania","Russia","Saudi Arabia","Singapore","Slovakia","Slovenia","South Africa","South Korea","Spain","Sri Lanka","Sweden","Switzerland","Tanzania","Thailand","Turkey","Uganda","Ukraine","United Arab Emirates","United Kingdom","United States","Uruguay","Venezuela","Vietnam","Zimbabwe"],Zl=()=>{var e,n;const{user:t}=c(),[a,r]=(0,i.useState)([]),[o,l]=(0,i.useState)([]),[d,p]=(0,i.useState)(!0),[x,u]=(0,i.useState)(""),[g,h]=(0,i.useState)(""),[f,b]=(0,i.useState)(!1),[y,j]=(0,i.useState)(null),[v,w]=(0,i.useState)(""),[A,k]=(0,i.useState)("all"),[S,C]=(0,i.useState)("all"),[z,I]=(0,i.useState)({type:"bank_transfer",name:"",logo_file:null,is_country_specific:!1,country:null,fields:[{label:"",value:""}]}),T=[{value:"bank_transfer",label:"Bank Transfer",icon:Gl.A,color:"#1976d2"},{value:"paypal",label:"PayPal Donate",icon:Vl.A,color:"#ed6c02"},{value:"local_merchant",label:"Local Transfer & Other Merchants",icon:Jl.A,color:"#2e7d32"}],W=async()=>{try{p(!0);const e=await fetch("".concat(Kl,"/transaction-details")),n=await e.json();if(console.log("\u2705 Raw transaction methods data:",n),!e.ok)throw new Error(n.message||"Failed to load transaction methods");const t=Array.isArray(n)?n:[];console.log("\u2705 Processed transaction methods:",t),r(t),l(t)}catch(e){console.error("\u274c Fetch error:",e),u("Failed to fetch transaction methods.")}finally{p(!1)}};(0,i.useEffect)(()=>{let e=a;v&&(e=e.filter(e=>e.name.toLowerCase().includes(v.toLowerCase())||e.type.toLowerCase().includes(v.toLowerCase())||e.country&&e.country.toLowerCase().includes(v.toLowerCase())||e.fields&&e.fields.some(e=>e.label.toLowerCase().includes(v.toLowerCase())||e.value.toLowerCase().includes(v.toLowerCase())))),"all"!==A&&(e=e.filter(e=>e.type===A)),"all"!==S&&(e=e.filter(e=>e.country===S)),l(e)},[v,A,S,a]);const F=()=>{u(""),h("")},P=()=>{I({type:"bank_transfer",name:"",logo_file:null,is_country_specific:!1,country:null,fields:[{label:"",value:""}]}),j(null)},R=(e,n,t)=>{I(a=>(0,m.A)((0,m.A)({},a),{},{fields:a.fields.map((a,r)=>r===e?(0,m.A)((0,m.A)({},a),{},{[n]:t}):a)}))},B=()=>{w(""),k("all"),C("all")};return(0,i.useEffect)(()=>{W()},[]),(0,s.jsxs)(N.A,{sx:{p:3,maxWidth:1200,mx:"auto"},children:[(0,s.jsxs)(N.A,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:4,children:[(0,s.jsxs)(N.A,{children:[(0,s.jsx)(_.A,{variant:"h4",sx:{fontWeight:700,mb:1},children:"\ud83d\udcb3 Transaction Methods"}),(0,s.jsx)(_.A,{variant:"body1",color:"text.secondary",children:"Manage your payment and donation methods"})]}),(0,s.jsx)(E.A,{variant:"contained",size:"large",startIcon:(0,s.jsx)(us.A,{}),onClick:()=>{P(),b(!0)},sx:{borderRadius:2,px:3,py:1.5,textTransform:"none",fontWeight:600},children:"Add New Method"})]}),x&&(0,s.jsx)(Rn.A,{sx:{p:2,mb:3,bgcolor:"error.50",border:"1px solid",borderColor:"error.200"},children:(0,s.jsx)(_.A,{color:"error.main",sx:{fontWeight:500},children:x})}),g&&(0,s.jsx)(Rn.A,{sx:{p:2,mb:3,bgcolor:"success.50",border:"1px solid",borderColor:"success.200"},children:(0,s.jsx)(_.A,{color:"success.main",sx:{fontWeight:500},children:g})}),(0,s.jsx)(Rn.A,{sx:{p:3,mb:3,bgcolor:"grey.50",border:"1px solid",borderColor:"grey.200"},children:(0,s.jsxs)(Un.A,{container:!0,spacing:3,alignItems:"center",children:[(0,s.jsx)(Un.A,{item:!0,xs:12,md:4,children:(0,s.jsx)(Bn.A,{fullWidth:!0,placeholder:"Search methods, countries, or details...",value:v,onChange:e=>w(e.target.value),InputProps:{startAdornment:(0,s.jsx)(Dn.A,{position:"start",children:(0,s.jsx)($n.A,{color:"action"})}),endAdornment:v&&(0,s.jsx)(Dn.A,{position:"end",children:(0,s.jsx)(de.A,{size:"small",onClick:()=>w(""),edge:"end",children:(0,s.jsx)(hs.A,{})})})},sx:{"& .MuiOutlinedInput-root":{bgcolor:"white"}}})}),(0,s.jsx)(Un.A,{item:!0,xs:12,md:3,children:(0,s.jsxs)(Ln.A,{fullWidth:!0,children:[(0,s.jsx)(Mn.A,{children:"Filter by Type"}),(0,s.jsxs)(Hn.A,{value:A,onChange:e=>k(e.target.value),label:"Filter by Type",sx:{bgcolor:"white"},children:[(0,s.jsx)(qn.A,{value:"all",children:"All Types"}),T.map(e=>(0,s.jsx)(qn.A,{value:e.value,children:e.label},e.value))]})]})}),(0,s.jsx)(Un.A,{item:!0,xs:12,md:3,children:(0,s.jsxs)(Ln.A,{fullWidth:!0,children:[(0,s.jsx)(Mn.A,{children:"Filter by Country"}),(0,s.jsxs)(Hn.A,{value:S,onChange:e=>C(e.target.value),label:"Filter by Country",sx:{bgcolor:"white"},children:[(0,s.jsx)(qn.A,{value:"all",children:"All Countries"}),a.filter(e=>e.country).map(e=>e.country).filter((e,n,t)=>t.indexOf(e)===n).sort().map(e=>(0,s.jsx)(qn.A,{value:e,children:e},e))]})]})}),(0,s.jsx)(Un.A,{item:!0,xs:12,md:2,children:(0,s.jsx)(E.A,{fullWidth:!0,variant:"outlined",startIcon:(0,s.jsx)(hs.A,{}),onClick:B,disabled:""===v&&"all"===A&&"all"===S,sx:{py:1.5},children:"Clear Filters"})})]})}),(0,s.jsx)(N.A,{display:"flex",justifyContent:"between",alignItems:"center",mb:2,children:(0,s.jsx)(_.A,{variant:"body2",color:"text.secondary",children:d?"Loading...":"Showing ".concat(o.length," of ").concat(a.length," methods")})}),(0,s.jsx)(N.A,{children:d?(0,s.jsx)(Pn.A,{spacing:2,children:[1,2,3].map(e=>(0,s.jsx)(Ds.A,{variant:"rectangular",height:180,sx:{borderRadius:2}},e))}):0===o.length?(0,s.jsxs)(Rn.A,{sx:{p:6,textAlign:"center",bgcolor:"grey.50"},children:[(0,s.jsx)(_.A,{variant:"h6",color:"text.secondary",gutterBottom:!0,children:0===a.length?"No transaction methods configured yet.":"No methods match your current filters."}),0===a.length?(0,s.jsx)(_.A,{variant:"body2",color:"text.secondary",sx:{mb:3},children:"Get started by adding your first payment method."}):(0,s.jsx)(E.A,{onClick:B,sx:{mt:2},children:"Clear filters to see all methods"})]}):o.map(e=>{console.log("Rendering method:",{id:e.id,name:e.name,type:e.type,country:e.country,logo_url:e.logo_url,hasLogo:!!e.logo_url});let n=null;e.logo_url&&(n=e.logo_url.startsWith("http")||e.logo_url.startsWith("/uploads/")?e.logo_url.startsWith("http")?e.logo_url:"".concat(Ve).concat(e.logo_url):e.logo_url.startsWith("/")?"".concat(Ve).concat(e.logo_url):"".concat(Ve,"/transaction-logos/").concat(e.logo_url));const t=T.find(n=>n.value===e.type),a=(null===t||void 0===t?void 0:t.icon)||Vl.A;return(0,s.jsx)(Ul.A,{in:!0,children:(0,s.jsx)(Yn.A,{sx:{mb:2,transition:"all 0.3s ease","&:hover":{transform:"translateY(-2px)",boxShadow:4},border:"1px solid",borderColor:"divider"},children:(0,s.jsxs)(Gn.A,{sx:{p:3},children:[(0,s.jsxs)(N.A,{display:"flex",alignItems:"center",justifyContent:"space-between",mb:2,children:[(0,s.jsxs)(N.A,{display:"flex",alignItems:"center",gap:2,children:[n?(0,s.jsx)(jo.A,{src:n,alt:e.name,sx:{width:56,height:56,border:"2px solid",borderColor:(null===t||void 0===t?void 0:t.color)||"primary.main"},onError:t=>{console.error("Failed to load image:",n);const a=["".concat(Ve,"/transaction-logos/").concat(e.logo_url.split("/").pop()),"".concat(Ve).concat(e.logo_url),e.logo_url];let r=t.target.getAttribute("data-tried")||0;r=parseInt(r)+1,r<a.length?(t.target.setAttribute("data-tried",r),t.target.src=a[r]):t.target.style.display="none"}}):(0,s.jsx)(jo.A,{sx:{width:56,height:56,bgcolor:(null===t||void 0===t?void 0:t.color)||"primary.main",border:"2px solid",borderColor:(null===t||void 0===t?void 0:t.color)||"primary.main"},children:(0,s.jsx)(a,{})}),(0,s.jsxs)(N.A,{children:[(0,s.jsx)(_.A,{variant:"h6",sx:{fontWeight:600,mb:.5},children:e.name}),(0,s.jsxs)(Pn.A,{direction:"row",spacing:1,alignItems:"center",children:[(0,s.jsx)(it.A,{icon:(0,s.jsx)(a,{}),label:(null===t||void 0===t?void 0:t.label)||e.type,size:"small",sx:{bgcolor:(null===t||void 0===t?void 0:t.color)||"primary.main",color:"white",fontWeight:500}}),e.country&&(0,s.jsx)(it.A,{icon:(0,s.jsx)(Wa.A,{}),label:e.country,size:"small",variant:"outlined",color:"secondary",sx:{fontWeight:500}})]})]})]}),(0,s.jsxs)(Pn.A,{direction:"row",spacing:1,children:[(0,s.jsx)(de.A,{onClick:()=>(e=>{let n;var t,a;j(e),n="paypal"===e.type?[{label:"Donation Link",value:(null===(t=e.fields.find(e=>"Donation Link"===e.label))||void 0===t?void 0:t.value)||""},{label:"PayPal Email",value:(null===(a=e.fields.find(e=>"PayPal Email"===e.label))||void 0===a?void 0:a.value)||""}]:e.fields&&e.fields.length>0?e.fields:[{label:"",value:""}];I({type:e.type,name:e.name,logo_file:null,is_country_specific:!!e.country,country:e.country||null,fields:n}),b(!0)})(e),color:"primary",sx:{bgcolor:"primary.50","&:hover":{bgcolor:"primary.100"}},children:(0,s.jsx)($i.A,{})}),(0,s.jsx)(de.A,{onClick:()=>(async e=>{if(F(),window.confirm("Are you sure you want to delete this transaction method?"))try{const n=await fetch("".concat(Kl,"/transaction-details/").concat(e),{method:"DELETE",credentials:"include"}),t=await n.json();if(!n.ok)throw new Error(t.message||"Error deleting");h("\ud83d\uddd1\ufe0f Transaction method deleted."),W()}catch(n){console.error("\u274c Delete error:",n),u(n.message)}})(e.id),color:"error",sx:{bgcolor:"error.50","&:hover":{bgcolor:"error.100"}},children:(0,s.jsx)(Gi.A,{})})]})]}),e.fields&&e.fields.length>0&&(0,s.jsxs)(Rn.A,{sx:{bgcolor:"grey.50",p:2,borderRadius:2,border:"1px solid",borderColor:"grey.200"},children:[(0,s.jsx)(_.A,{variant:"subtitle2",color:"primary",sx:{mb:1,fontWeight:600},children:"Payment Details"}),(0,s.jsx)(Mi.A,{dense:!0,sx:{p:0},children:e.fields.map((e,n)=>(0,s.jsx)(Hi.Ay,{sx:{px:0,py:.5},children:(0,s.jsx)(qi.A,{primary:(0,s.jsxs)(_.A,{variant:"body2",children:[(0,s.jsxs)("strong",{children:[e.label,":"]})," ",e.value]})})},n))})]})]})})},e.id)})}),(0,s.jsxs)(Oi.A,{open:f,onClose:()=>b(!1),maxWidth:"md",fullWidth:!0,children:[(0,s.jsx)(Ui.A,{sx:{pb:2},children:(0,s.jsx)(_.A,{variant:"h5",sx:{fontWeight:600},children:y?"Edit Transaction Method":"Add New Transaction Method"})}),(0,s.jsxs)(ds.A,{sx:{pt:"8px !important"},children:[(0,s.jsxs)(Un.A,{container:!0,spacing:3,sx:{mt:1},children:[(0,s.jsx)(Un.A,{item:!0,xs:12,md:6,children:(0,s.jsxs)(Ln.A,{fullWidth:!0,children:[(0,s.jsx)(Mn.A,{children:"Transaction Type"}),(0,s.jsx)(Hn.A,{value:z.type,onChange:e=>I(n=>(0,m.A)((0,m.A)({},n),{},{type:e.target.value})),label:"Transaction Type",children:T.map(e=>(0,s.jsx)(qn.A,{value:e.value,children:(0,s.jsxs)(N.A,{display:"flex",alignItems:"center",gap:1,children:[(0,s.jsx)(e.icon,{sx:{fontSize:20}}),e.label]})},e.value))})]})}),(0,s.jsx)(Un.A,{item:!0,xs:12,md:6,children:(0,s.jsx)(Bn.A,{label:"Method Name",value:z.name,onChange:e=>I(n=>(0,m.A)((0,m.A)({},n),{},{name:e.target.value})),fullWidth:!0,placeholder:"e.g., Standard Bank, PayPal, M-Pesa"})}),(0,s.jsx)(Un.A,{item:!0,xs:12,children:(0,s.jsx)(Rn.A,{sx:{p:2,bgcolor:"grey.50"},children:(0,s.jsx)(ps.A,{control:(0,s.jsx)(ms.A,{checked:z.is_country_specific,onChange:e=>I(n=>(0,m.A)((0,m.A)({},n),{},{is_country_specific:e.target.checked,country:e.target.checked?n.country:null}))}),label:(0,s.jsxs)(N.A,{children:[(0,s.jsx)(_.A,{variant:"body2",sx:{fontWeight:500},children:"Country-specific payment method"}),(0,s.jsx)(_.A,{variant:"caption",color:"text.secondary",children:"Enable if this method is only available in specific countries"})]})})})}),z.is_country_specific&&(0,s.jsx)(Un.A,{item:!0,xs:12,md:6,children:(0,s.jsx)(Li.A,{options:Xl,value:z.country,onChange:(e,n)=>{I(e=>(0,m.A)((0,m.A)({},e),{},{country:n}))},renderInput:e=>(0,s.jsx)(Bn.A,(0,m.A)((0,m.A)({},e),{},{label:"Select Country",placeholder:"Search for a country..."}))})}),"local_merchant"===z.type&&(0,s.jsx)(Un.A,{item:!0,xs:12,children:(0,s.jsx)(Bn.A,{label:"Logo Image",type:"file",onChange:e=>I(n=>(0,m.A)((0,m.A)({},n),{},{logo_file:e.target.files[0]})),fullWidth:!0,InputLabelProps:{shrink:!0},inputProps:{accept:"image/*"},helperText:"Upload a logo image for this service (recommended size: 200x200px)"})})]}),(0,s.jsx)(bo.A,{sx:{my:4}}),(0,s.jsxs)(N.A,{sx:{mb:3},children:[(0,s.jsxs)(_.A,{variant:"h6",gutterBottom:!0,sx:{fontWeight:600},children:["bank_transfer"===z.type&&"\ud83c\udfe6 Bank Details","paypal"===z.type&&"\ud83d\udcb0 PayPal Information","local_merchant"===z.type&&"\ud83c\udfea Service Details"]}),(0,s.jsx)(_.A,{variant:"body2",color:"text.secondary",children:"paypal"===z.type?"Provide your PayPal donation link and email address":"Add the payment details that donors will need to transfer funds"})]}),"paypal"===z.type?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(N.A,{display:"flex",gap:2,mb:2,children:(0,s.jsx)(Bn.A,{label:"Donation Link",value:(null===(e=z.fields.find(e=>"Donation Link"===e.label))||void 0===e?void 0:e.value)||"",onChange:e=>{const n=[...z.fields],t=n.findIndex(e=>"Donation Link"===e.label);t>=0?n[t]={label:"Donation Link",value:e.target.value}:n.push({label:"Donation Link",value:e.target.value}),I(e=>(0,m.A)((0,m.A)({},e),{},{fields:n}))},sx:{flex:1},placeholder:"https://www.paypal.com/donate/?hosted_button_id=..."})}),(0,s.jsx)(N.A,{display:"flex",gap:2,mb:2,children:(0,s.jsx)(Bn.A,{label:"PayPal Email",value:(null===(n=z.fields.find(e=>"PayPal Email"===e.label))||void 0===n?void 0:n.value)||"",onChange:e=>{const n=[...z.fields],t=n.findIndex(e=>"PayPal Email"===e.label);t>=0?n[t]={label:"PayPal Email",value:e.target.value}:n.push({label:"PayPal Email",value:e.target.value}),I(e=>(0,m.A)((0,m.A)({},e),{},{fields:n}))},sx:{flex:1},placeholder:"donations@yourorg.com"})})]}):(0,s.jsxs)(s.Fragment,{children:[z.fields.map((e,n)=>(0,s.jsxs)(N.A,{display:"flex",gap:2,mb:2,alignItems:"center",children:[(0,s.jsx)(Bn.A,{label:"Field Label",value:e.label,onChange:e=>R(n,"label",e.target.value),sx:{flex:1}}),(0,s.jsx)(Bn.A,{label:"Field Value",value:e.value,onChange:e=>R(n,"value",e.target.value),sx:{flex:2}}),(0,s.jsx)(de.A,{onClick:()=>(e=>{z.fields.length>1&&I(n=>(0,m.A)((0,m.A)({},n),{},{fields:n.fields.filter((n,t)=>t!==e)}))})(n),disabled:1===z.fields.length,color:"error",children:(0,s.jsx)(Yl.A,{})})]},n)),(0,s.jsx)(E.A,{startIcon:(0,s.jsx)(us.A,{}),onClick:()=>{I(e=>(0,m.A)((0,m.A)({},e),{},{fields:[...e.fields,{label:"",value:""}]}))},sx:{mt:1},children:"Add Another Field"})]})]}),(0,s.jsxs)(Yi.A,{children:[(0,s.jsx)(E.A,{onClick:()=>b(!1),children:"Cancel"}),(0,s.jsxs)(E.A,{onClick:async()=>{if(F(),!(()=>{if(!z.name.trim())return u("Name is required."),!1;if(z.is_country_specific&&!z.country)return u("Please select a country for country-specific payment methods."),!1;if("paypal"===z.type){var e,n;const t=[{label:"Donation Link",value:(null===(e=z.fields.find(e=>"Donation Link"===e.label))||void 0===e?void 0:e.value)||""},{label:"PayPal Email",value:(null===(n=z.fields.find(e=>"PayPal Email"===e.label))||void 0===n?void 0:n.value)||""}];if(!t[0].value||!t[1].value)return u("PayPal requires both Donation Link and PayPal Email."),!1}else if(!z.fields.some(e=>e.label.trim()&&e.value.trim()))return u("At least one complete field (label and value) is required."),!1;return!0})())return;let e;var n,t;"paypal"===z.type?e=[{label:"Donation Link",value:(null===(n=z.fields.find(e=>"Donation Link"===e.label))||void 0===n?void 0:n.value)||""},{label:"PayPal Email",value:(null===(t=z.fields.find(e=>"PayPal Email"===e.label))||void 0===t?void 0:t.value)||""}].filter(e=>e.value.trim()):e=z.fields.filter(e=>e.label.trim()&&e.value.trim());try{var a;const n=y?"".concat(Kl,"/transaction-details/").concat(y.id):"".concat(Kl,"/transaction-details"),t=y?"PUT":"POST",r=new FormData;r.append("type",z.type),r.append("name",z.name.trim()),r.append("is_country_specific",z.is_country_specific),z.is_country_specific&&z.country&&r.append("country",z.country),r.append("fields",JSON.stringify(e)),console.log("Form Data Debug:",{type:z.type,name:z.name.trim(),is_country_specific:z.is_country_specific,country:z.country,hasLogoFile:!!z.logo_file,logoFileName:null===(a=z.logo_file)||void 0===a?void 0:a.name,fieldsCount:e.length}),"local_merchant"===z.type&&z.logo_file&&(r.append("logo",z.logo_file),console.log("Logo file appended to form data:",z.logo_file.name));const o=await fetch(n,{method:t,credentials:"include",body:r}),i=await o.json();if(console.log("Server response:",i),!o.ok)throw new Error(i.message||"Error saving transaction method");h(y?"Transaction method updated.":"Transaction method added."),b(!1),P(),W()}catch(r){console.error("Save error:",r),u(r.message)}},variant:"contained",startIcon:(0,s.jsx)(Qi.A,{}),children:[y?"Update":"Add"," Method"]})]})]})]})};var $l=t(2925),Ql=t(7365),ec=t(8693),nc=t(9855);const tc={container:{minHeight:"100vh",backgroundColor:"#f1f5f9",fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif'},loadingContainer:{minHeight:"100vh",backgroundColor:"#f1f5f9",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:"20px"},spinner:{width:"40px",height:"40px",border:"3px solid #e2e8f0",borderTop:"3px solid #3b82f6",borderRadius:"50%",animation:"spin 1s linear infinite"},miniSpinner:{width:"16px",height:"16px",border:"2px solid rgba(255,255,255,0.3)",borderTop:"2px solid white",borderRadius:"50%",animation:"spin 1s linear infinite"},loadingText:{color:"#64748b",fontSize:"16px",fontWeight:"500"},adminHeader:{backgroundColor:"white",borderBottom:"1px solid #e2e8f0",boxShadow:"0 1px 3px rgba(0, 0, 0, 0.05)"},adminHeaderContent:{maxWidth:"1400px",margin:"0 auto",padding:"24px 32px",display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:"20px"},adminTitle:{display:"flex",alignItems:"center",gap:"16px"},adminIcon:{color:"#3b82f6"},mainTitle:{fontSize:"32px",fontWeight:"700",color:"#0f172a",margin:"0 0 4px 0",lineHeight:"1.1"},adminSubtitle:{color:"#64748b",margin:"0",fontSize:"16px",fontWeight:"400"},adminStats:{display:"flex",gap:"24px"},statCard:{textAlign:"center",minWidth:"80px"},statNumber:{fontSize:"28px",fontWeight:"700",color:"#0f172a",lineHeight:"1"},statLabel:{fontSize:"12px",color:"#64748b",fontWeight:"500",textTransform:"uppercase",letterSpacing:"0.5px",marginTop:"4px"},mainContent:{maxWidth:"1400px",margin:"0 auto",padding:"32px"},controlPanel:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"24px",gap:"20px",flexWrap:"wrap"},controlLeft:{display:"flex",gap:"16px",flexWrap:"wrap",alignItems:"center",flex:"1"},controlRight:{display:"flex",gap:"12px",alignItems:"center"},searchContainer:{position:"relative",minWidth:"320px"},searchIcon:{position:"absolute",left:"16px",top:"50%",transform:"translateY(-50%)",color:"#64748b"},searchInput:{width:"100%",padding:"12px 16px 12px 48px",border:"1px solid #d1d5db",borderRadius:"10px",fontSize:"14px",backgroundColor:"white",outline:"none",transition:"all 0.2s ease",boxShadow:"0 1px 2px rgba(0, 0, 0, 0.05)"},filterContainer:{display:"flex",gap:"12px",alignItems:"center",flexWrap:"wrap"},filterGroup:{display:"flex",alignItems:"center",gap:"8px",backgroundColor:"white",padding:"8px 12px",borderRadius:"8px",border:"1px solid #e2e8f0",boxShadow:"0 1px 2px rgba(0, 0, 0, 0.05)"},filterIcon:{color:"#64748b"},filterSelect:{border:"none",backgroundColor:"transparent",fontSize:"14px",color:"#374151",outline:"none",cursor:"pointer"},clearFiltersButton:{padding:"8px 12px",backgroundColor:"#fee2e2",color:"#dc2626",border:"1px solid #fecaca",borderRadius:"8px",fontSize:"14px",cursor:"pointer",display:"flex",alignItems:"center",gap:"6px",transition:"all 0.2s ease"},viewControls:{display:"flex",backgroundColor:"white",border:"1px solid #e2e8f0",borderRadius:"8px",overflow:"hidden"},viewButton:{padding:"10px 12px",border:"none",backgroundColor:"transparent",color:"#64748b",cursor:"pointer",display:"flex",alignItems:"center",transition:"all 0.2s ease"},activeViewButton:{backgroundColor:"#3b82f6",color:"white"},primaryButton:{backgroundColor:"#3b82f6",color:"white",border:"none",borderRadius:"8px",padding:"12px 20px",display:"flex",alignItems:"center",gap:"8px",fontSize:"14px",fontWeight:"600",cursor:"pointer",transition:"all 0.2s ease",boxShadow:"0 1px 2px rgba(0, 0, 0, 0.05)"},secondaryButton:{backgroundColor:"white",color:"#374151",border:"1px solid #d1d5db",borderRadius:"8px",padding:"12px 20px",display:"flex",alignItems:"center",gap:"8px",fontSize:"14px",fontWeight:"500",cursor:"pointer",transition:"all 0.2s ease"},successMessage:{backgroundColor:"#ecfdf5",border:"1px solid #bbf7d0",color:"#065f46",padding:"16px 20px",borderRadius:"10px",display:"flex",alignItems:"center",gap:"12px",marginBottom:"20px",boxShadow:"0 1px 3px rgba(0, 0, 0, 0.05)"},errorMessage:{backgroundColor:"#fef2f2",border:"1px solid #fecaca",color:"#991b1b",padding:"16px 20px",borderRadius:"10px",display:"flex",alignItems:"center",gap:"12px",marginBottom:"20px",boxShadow:"0 1px 3px rgba(0, 0, 0, 0.05)"},messageClose:{marginLeft:"auto",background:"none",border:"none",color:"inherit",cursor:"pointer",padding:"4px",borderRadius:"4px",transition:"all 0.2s ease"},resultsInfo:{marginBottom:"20px"},resultsText:{color:"#64748b",fontSize:"14px",fontWeight:"500"},formCard:{backgroundColor:"white",border:"1px solid #e2e8f0",borderRadius:"12px",marginBottom:"24px",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.05)"},formHeader:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"24px 24px 0 24px"},formTitle:{fontSize:"20px",fontWeight:"600",color:"#0f172a",margin:"0",display:"flex",alignItems:"center",gap:"12px"},formClose:{background:"none",border:"none",color:"#64748b",cursor:"pointer",padding:"8px",borderRadius:"6px",transition:"all 0.2s ease"},formContent:{padding:"24px"},formGrid:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"20px",marginBottom:"20px"},inputGroup:{display:"flex",flexDirection:"column",gap:"8px"},label:{fontSize:"14px",fontWeight:"600",color:"#374151",display:"flex",alignItems:"center",gap:"8px"},labelNote:{fontSize:"12px",color:"#64748b",fontWeight:"400"},fieldNote:{fontSize:"12px",color:"#64748b",fontStyle:"italic",marginTop:"4px"},input:{padding:"12px 16px",border:"1px solid #d1d5db",borderRadius:"8px",fontSize:"14px",backgroundColor:"white",transition:"all 0.2s ease",outline:"none"},inputError:{borderColor:"#ef4444",backgroundColor:"#fef2f2"},textarea:{resize:"vertical",minHeight:"100px",fontFamily:"inherit"},select:{padding:"12px 16px",border:"1px solid #d1d5db",borderRadius:"8px",fontSize:"14px",backgroundColor:"white",outline:"none",cursor:"pointer"},tagInputContainer:{display:"flex",gap:"8px"},addTagButton:{padding:"12px",border:"1px solid #3b82f6",borderRadius:"8px",backgroundColor:"white",color:"#3b82f6",cursor:"pointer",transition:"all 0.2s ease",display:"flex",alignItems:"center",justifyContent:"center"},charCount:{fontSize:"12px",color:"#64748b",textAlign:"right"},validationError:{color:"#ef4444",fontSize:"14px",display:"flex",alignItems:"center",gap:"6px",marginTop:"4px"},previewContainer:{marginTop:"16px",border:"1px solid #e2e8f0",borderRadius:"8px",overflow:"hidden"},previewHeader:{padding:"12px 16px",backgroundColor:"#f8fafc",display:"flex",justifyContent:"space-between",alignItems:"center",borderBottom:"1px solid #e2e8f0"},previewLabel:{fontSize:"14px",fontWeight:"600",color:"#374151"},previewNote:{fontSize:"12px",color:"#64748b"},previewIframe:{width:"100%",height:"240px",border:"none"},formActions:{display:"flex",gap:"12px",marginTop:"24px",paddingTop:"20px",borderTop:"1px solid #e2e8f0"},submitButton:{backgroundColor:"#10b981",color:"white",border:"none",borderRadius:"8px",padding:"12px 24px",display:"flex",alignItems:"center",gap:"8px",fontSize:"14px",fontWeight:"600",cursor:"pointer",transition:"all 0.2s ease"},disabledButton:{backgroundColor:"#d1d5db",color:"#9ca3af",cursor:"not-allowed"},modalOverlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.6)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},modal:{backgroundColor:"white",borderRadius:"12px",width:"420px",maxWidth:"90vw",boxShadow:"0 10px 25px rgba(0, 0, 0, 0.2)"},modalHeader:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"24px 24px 0 24px"},modalTitle:{fontSize:"18px",fontWeight:"600",margin:"0",color:"#0f172a"},modalClose:{background:"none",border:"none",color:"#64748b",cursor:"pointer",padding:"4px",borderRadius:"4px"},modalContent:{padding:"20px 24px"},modalActions:{display:"flex",gap:"12px",padding:"0 24px 24px 24px"},contentArea:{minHeight:"400px"},emptyState:{textAlign:"center",padding:"80px 24px",backgroundColor:"white",borderRadius:"12px",border:"1px solid #e2e8f0"},emptyIcon:{color:"#94a3b8",marginBottom:"20px"},emptyTitle:{fontSize:"20px",fontWeight:"600",color:"#0f172a",margin:"0 0 8px 0"},emptySubtitle:{fontSize:"16px",color:"#64748b",margin:"0 0 24px 0",lineHeight:"1.5"},listView:{backgroundColor:"white",border:"1px solid #e2e8f0",borderRadius:"12px",overflow:"hidden"},listHeader:{display:"grid",gridTemplateColumns:"2fr 120px 100px 120px 120px 140px",gap:"16px",padding:"16px 20px",backgroundColor:"#f8fafc",borderBottom:"1px solid #e2e8f0",fontSize:"12px",fontWeight:"600",color:"#64748b",textTransform:"uppercase",letterSpacing:"0.5px"},listHeaderCell:{display:"flex",alignItems:"center"},listItem:{display:"grid",gridTemplateColumns:"2fr 120px 100px 120px 120px 140px",gap:"16px",padding:"20px",borderBottom:"1px solid #f1f5f9",transition:"all 0.2s ease"},listCell:{display:"flex",alignItems:"center",fontSize:"14px"},videoListInfo:{display:"flex",gap:"12px",alignItems:"center",width:"100%"},videoThumbnail:{width:"80px",height:"45px",borderRadius:"6px",overflow:"hidden",flexShrink:0,backgroundColor:"#f1f5f9"},thumbnailImage:{width:"100%",height:"100%",objectFit:"cover"},noThumbnail:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",color:"#94a3b8"},videoDetails:{flex:"1",minWidth:0},videoListTitle:{fontSize:"16px",fontWeight:"600",color:"#0f172a",margin:"0 0 4px 0",display:"flex",alignItems:"center",gap:"6px",lineHeight:"1.3"},featuredStar:{color:"#f59e0b",flexShrink:0},videoListDescription:{color:"#64748b",fontSize:"14px",lineHeight:"1.4",margin:"0"},categoryBadge:{padding:"4px 8px",backgroundColor:"#dbeafe",color:"#1d4ed8",fontSize:"12px",borderRadius:"6px",fontWeight:"500"},countryBadge:{padding:"4px 8px",backgroundColor:"#ecfdf5",color:"#065f46",fontSize:"12px",borderRadius:"6px",fontWeight:"500",display:"flex",alignItems:"center",gap:"4px"},statusColumn:{display:"flex",flexDirection:"column",gap:"4px"},statusBadge:{padding:"4px 8px",fontSize:"12px",borderRadius:"6px",fontWeight:"500",textAlign:"center"},statusActive:{backgroundColor:"#dcfce7",color:"#166534"},statusInactive:{backgroundColor:"#fee2e2",color:"#991b1b"},featuredBadge:{padding:"3px 6px",backgroundColor:"#fef3c7",color:"#92400e",fontSize:"10px",borderRadius:"4px",fontWeight:"600",textAlign:"center",textTransform:"uppercase",letterSpacing:"0.5px",display:"flex",alignItems:"center",textAlign:"center",textTransform:"uppercase",letterSpacing:"0.5px"},dateInfo:{display:"flex",alignItems:"center",gap:"6px",color:"#64748b",fontSize:"13px"},dateIcon:{color:"#94a3b8"},dateText:{fontWeight:"500"},actionButtons:{display:"flex",gap:"6px"},actionButton:{padding:"8px",border:"none",borderRadius:"6px",cursor:"pointer",transition:"all 0.2s ease",display:"flex",alignItems:"center",justifyContent:"center"},actionFeatured:{color:"#f59e0b",backgroundColor:"#fef3c7"},actionNormal:{color:"#9ca3af",backgroundColor:"#f1f5f9"},actionActive:{color:"#10b981",backgroundColor:"#ecfdf5"},actionInactive:{color:"#6b7280",backgroundColor:"#f3f4f6"},actionEdit:{color:"#3b82f6",backgroundColor:"#dbeafe"},actionDelete:{color:"#ef4444",backgroundColor:"#fee2e2"},cardGrid:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(400px, 1fr))",gap:"24px"},videoCard:{backgroundColor:"white",border:"1px solid #e2e8f0",borderRadius:"12px",overflow:"hidden",transition:"all 0.2s ease",boxShadow:"0 1px 3px rgba(0, 0, 0, 0.05)"},featuredCard:{border:"2px solid #fbbf24",boxShadow:"0 4px 12px rgba(251, 191, 36, 0.1)"},cardHeader:{padding:"20px 20px 16px 20px",display:"flex",justifyContent:"space-between",alignItems:"flex-start",gap:"16px"},cardBadges:{display:"flex",flexDirection:"column",gap:"6px",alignItems:"flex-start"},cardActions:{display:"flex",gap:"6px"},cardContent:{padding:"0 20px 16px 20px"},cardTitle:{fontSize:"18px",fontWeight:"600",color:"#0f172a",margin:"0 0 8px 0",lineHeight:"1.3"},cardDescription:{color:"#64748b",lineHeight:"1.5",margin:"0 0 16px 0",fontSize:"14px"},cardMeta:{display:"flex",flexDirection:"column",gap:"4px"},metaItem:{display:"flex",alignItems:"center",gap:"6px",fontSize:"12px",color:"#64748b"},metaIcon:{color:"#94a3b8"},cardPreview:{borderTop:"1px solid #f1f5f9"},cardIframe:{width:"100%",height:"225px",border:"none"},transition:"color 0.2s ease",mainCard:{maxWidth:"1200px",margin:"0 auto",backgroundColor:"white",borderRadius:"12px",boxShadow:"0 1px 3px rgba(0, 0, 0, 0.1)",border:"1px solid #e2e8f0"},header:{padding:"24px",borderBottom:"1px solid #e2e8f0",display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:"16px"},title:{fontSize:"28px",fontWeight:"700",color:"#1e293b",margin:"0 0 4px 0"},subtitle:{color:"#64748b",margin:"0",fontSize:"16px"},addButton:{backgroundColor:"#22c55e",color:"white",border:"none",borderRadius:"8px",padding:"12px 20px",display:"flex",alignItems:"center",gap:"8px",fontSize:"16px",fontWeight:"500",cursor:"pointer",transition:"all 0.2s ease"},successMessage:{margin:"24px",padding:"16px",backgroundColor:"#dcfce7",border:"1px solid #bbf7d0",borderRadius:"8px",display:"flex",alignItems:"center",gap:"12px",color:"#166534"},errorMessage:{margin:"24px",padding:"16px",backgroundColor:"#fef2f2",border:"1px solid #fecaca",borderRadius:"8px",display:"flex",alignItems:"center",gap:"12px",color:"#dc2626",position:"relative"},dismissButton:{marginLeft:"auto",background:"none",border:"none",color:"#dc2626",cursor:"pointer",padding:"4px"},formContainer:{padding:"24px",backgroundColor:"#f8fafc",borderBottom:"1px solid #e2e8f0"},formTitle:{fontSize:"20px",fontWeight:"600",color:"#1e293b",margin:"0 0 24px 0"},formGrid:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"20px",marginBottom:"20px"},inputGroup:{display:"flex",flexDirection:"column",gap:"8px"},label:{fontSize:"14px",fontWeight:"500",color:"#374151"},input:{padding:"12px",border:"1px solid #d1d5db",borderRadius:"8px",fontSize:"16px",transition:"border-color 0.2s ease",outline:"none"},inputError:{borderColor:"#ef4444"},textarea:{resize:"vertical",minHeight:"100px"},select:{padding:"12px",border:"1px solid #d1d5db",borderRadius:"8px",fontSize:"16px",backgroundColor:"white",outline:"none"},tagInputContainer:{display:"flex",gap:"8px"},addTagButton:{padding:"12px",border:"1px solid #22c55e",borderRadius:"8px",backgroundColor:"white",color:"#22c55e",cursor:"pointer",transition:"all 0.2s ease"},validationError:{color:"#ef4444",fontSize:"14px",margin:"4px 0 0 0"},previewContainer:{marginTop:"12px",padding:"16px",backgroundColor:"#eff6ff",borderRadius:"8px"},previewLabel:{fontSize:"14px",color:"#1e40af",margin:"0 0 8px 0",fontWeight:"500"},previewIframe:{width:"100%",height:"200px",borderRadius:"8px",border:"none"},formActions:{display:"flex",gap:"12px",marginTop:"24px"},submitButton:{backgroundColor:"#22c55e",color:"white",border:"none",borderRadius:"8px",padding:"12px 24px",display:"flex",alignItems:"center",gap:"8px",fontSize:"16px",fontWeight:"500",cursor:"pointer",transition:"all 0.2s ease"},cancelButton:{backgroundColor:"#6b7280",color:"white",border:"none",borderRadius:"8px",padding:"12px 24px",display:"flex",alignItems:"center",gap:"8px",fontSize:"16px",fontWeight:"500",cursor:"pointer",transition:"all 0.2s ease"},disabledButton:{backgroundColor:"#d1d5db",color:"#9ca3af",cursor:"not-allowed"},modalOverlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},modal:{backgroundColor:"white",borderRadius:"12px",padding:"24px",width:"400px",maxWidth:"90vw"},modalTitle:{fontSize:"18px",fontWeight:"600",margin:"0 0 16px 0",color:"#1e293b"},modalActions:{display:"flex",gap:"12px",marginTop:"16px"},videoList:{padding:"24px"},listTitle:{fontSize:"18px",fontWeight:"600",color:"#1e293b",margin:"0 0 20px 0"},emptyState:{textAlign:"center",padding:"48px 24px"},emptyIcon:{fontSize:"64px",marginBottom:"16px"},emptyTitle:{fontSize:"18px",color:"#64748b",margin:"0 0 8px 0"},emptySubtitle:{fontSize:"14px",color:"#9ca3af",margin:"0"},videoCard:{border:"1px solid #e2e8f0",borderRadius:"12px",padding:"24px",marginBottom:"20px",backgroundColor:"white",transition:"all 0.2s ease"},featuredCard:{border:"2px solid #fbbf24",backgroundColor:"#fffbeb",boxShadow:"0 4px 6px rgba(251, 191, 36, 0.1)"},videoCardHeader:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"16px",gap:"16px"},videoInfo:{flex:1},videoBadges:{display:"flex",gap:"12px",marginBottom:"12px",flexWrap:"wrap"},tagBadge:{padding:"6px 12px",backgroundColor:"#dbeafe",color:"#1e40af",fontSize:"12px",borderRadius:"20px",fontWeight:"500"},statusBadge:{padding:"6px 12px",fontSize:"12px",borderRadius:"20px",fontWeight:"500"},activeBadge:{backgroundColor:"#dcfce7",color:"#166534"},inactiveBadge:{backgroundColor:"#fef2f2",color:"#dc2626"},featuredBadge:{padding:"6px 12px",backgroundColor:"#fef3c7",color:"#92400e",fontSize:"12px",borderRadius:"20px",fontWeight:"500",display:"flex",alignItems:"center",gap:"4px"},videoTitle:{fontSize:"20px",fontWeight:"600",color:"#1e293b",margin:"0 0 8px 0",lineHeight:"1.3"},videoDescription:{color:"#64748b",lineHeight:"1.5",margin:"0 0 12px 0"},videoMeta:{fontSize:"12px",color:"#9ca3af"},videoActions:{display:"flex",gap:"8px",flexShrink:0},actionButton:{padding:"8px",border:"none",borderRadius:"8px",cursor:"pointer",transition:"all 0.2s ease",display:"flex",alignItems:"center",justifyContent:"center"},featuredActionButton:{color:"#f59e0b",backgroundColor:"#fef3c7"},unfeaturedActionButton:{color:"#9ca3af",backgroundColor:"#f1f5f9"},activeActionButton:{color:"#22c55e",backgroundColor:"#dcfce7"},inactiveActionButton:{color:"#9ca3af",backgroundColor:"#f1f5f9"},editButton:{color:"#3b82f6",backgroundColor:"#dbeafe"},deleteButton:{color:"#ef4444",backgroundColor:"#fef2f2"},videoPreview:{marginTop:"16px",padding:"16px",backgroundColor:"#f8fafc",borderRadius:"8px"},videoPreviewHeader:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"12px"},previewTitle:{fontSize:"16px",fontWeight:"500",color:"#1e293b",margin:"0"},youtubeLink:{color:"#3b82f6",textDecoration:"none",fontSize:"14px"},videoIframe:{width:"100%",height:"300px",borderRadius:"8px",border:"none",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"}},ac=()=>{const[e,n]=(0,i.useState)([]),[t,a]=(0,i.useState)([]),[r,o]=(0,i.useState)(!0),[l,c]=(0,i.useState)(null),[d,p]=(0,i.useState)(null),[x,u]=(0,i.useState)(null),[g,h]=(0,i.useState)(!1),[f,b]=(0,i.useState)(""),[y,j]=(0,i.useState)(!1),[v,w]=(0,i.useState)(!1),{countries:A,loading:k,error:S}=(()=>{const[e,n]=(0,i.useState)([]),[t,a]=(0,i.useState)(!1),[r,o]=(0,i.useState)(null);return(0,i.useEffect)(()=>{(async()=>{a(!0);try{const e="http://localhost:5000/api",t=await fetch("".concat(e,"/countries"),{credentials:"include"}),a=await t.json();if(!Array.isArray(a))throw new Error("Invalid response format");n(a.sort((e,n)=>e.name.localeCompare(n.name)))}catch(e){console.error("Error fetching countries:",e),o(e.message)}finally{a(!1)}})()},[]),{countries:e,loading:t,error:r}})(),[C,z]=(0,i.useState)(""),[N,_]=(0,i.useState)(""),[I,E]=(0,i.useState)(""),[T,W]=(0,i.useState)(""),[F,P]=(0,i.useState)(""),[R,B]=(0,i.useState)("list"),D="http://localhost:5000/api",[L,O]=(0,i.useState)({tag:"",country_id:"",title:"",description:"",youtube_url:"",is_active:!0});(0,i.useEffect)(()=>{U(),Y()},[]),(0,i.useEffect)(()=>{if(l||d){const e=setTimeout(()=>{c(null),p(null)},5e3);return()=>clearTimeout(e)}},[l,d]);const U=async()=>{try{console.log("Fetching video sections from:","".concat(D,"/video-sections/admin"));const e=await fetch("".concat(D,"/video-sections/admin"));if(!e.ok)throw new Error("HTTP ".concat(e.status,": ").concat(e.statusText));const t=await e.json();console.log("Video sections response:",t),t.success?(n(t.data),c(null)):c(t.message||"Failed to fetch video sections")}catch(e){console.error("Error fetching video sections:",e),c("Failed to fetch video sections: ".concat(e.message))}},Y=async()=>{try{console.log("Fetching tag options from:","".concat(D,"/video-sections/tags/options"));const e=await fetch("".concat(D,"/video-sections/tags/options"));if(!e.ok)throw new Error("HTTP ".concat(e.status,": ").concat(e.statusText));const n=await e.json();console.log("Tag options response:",n),n.success?(a(n.data),c(null)):c(n.message||"Failed to fetch tag options")}catch(e){console.error("Error fetching tag options:",e),c("Failed to fetch tag options: ".concat(e.message))}finally{o(!1)}},K=e=>{u(e.id),O({tag:e.tag,country_id:e.country_id||"",title:e.title,description:e.description,youtube_url:e.youtube_url,is_active:e.is_active}),h(!0),c(null),p(null)},X=async e=>{if(window.confirm("Are you sure you want to delete this video section? This action cannot be undone.")){c(null),p(null);try{const n=await fetch("".concat(D,"/video-sections/").concat(e),{method:"DELETE"});if(!n.ok)throw new Error("HTTP ".concat(n.status,": ").concat(n.statusText));const t=await n.json();t.success?(await U(),p("Video section deleted successfully!")):c(t.message||"Failed to delete video section")}catch(n){console.error("Error deleting video section:",n),c("Failed to delete video section: ".concat(n.message))}}},Z=async(e,n)=>{c(null),p(null);try{const t=await fetch("".concat(D,"/video-sections/").concat(e),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({is_active:!n})});if(!t.ok)throw new Error("HTTP ".concat(t.status,": ").concat(t.statusText));const a=await t.json();a.success?(await U(),p("Video section ".concat(n?"deactivated":"activated"," successfully!"))):c(a.message||"Failed to update status")}catch(t){console.error("Error updating status:",t),c("Failed to update status: ".concat(t.message))}},Q=async(e,n)=>{c(null),p(null);try{const t=n?"unfeature":"feature",a=await fetch("".concat(D,"/video-sections/").concat(e,"/").concat(t),{method:"PUT",headers:{"Content-Type":"application/json"}}),r=await a.json();r.success?(await U(),p(n?"Video unfeatured successfully!":"Video featured successfully!")):c(r.message||"Failed to update featured status")}catch(t){console.error("Error updating featured status:",t),c("Failed to update featured status: ".concat(t.message))}},ee=async()=>{if(f.trim()){c(null),p(null);try{console.log("Adding new tag:",f.trim(),"to URL:","".concat(D,"/video-sections/tags/options"));const e=await fetch("".concat(D,"/video-sections/tags/options"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({tag_name:f.trim()})});if(console.log("Add tag response status:",e.status,e.statusText),!e.ok){const n=await e.text();throw console.error("Add tag error response:",n),new Error("HTTP ".concat(e.status,": ").concat(e.statusText))}const n=await e.json();console.log("Add tag response data:",n),n.success?(await Y(),b(""),j(!1),p("Tag option added successfully!")):c(n.message||"Failed to add tag option")}catch(e){console.error("Error adding tag option:",e),c("Failed to add tag option: ".concat(e.message))}}},ae=()=>{O({tag:"",country_id:"",title:"",description:"",youtube_url:"",is_active:!0}),u(null),h(!1)},re=()=>{z(""),_(""),E(""),W(""),P("")},oe=e=>{if(!e)return null;const n=e.match(/(?:youtube\.com\/(?:[^\/]+\/.+\/|(?:v|e(?:mbed)?)\/|.*[?&]v=)|youtu\.be\/)([^"&?\/\s]{11})/);return n?n[1]:null},se=()=>L.tag&&L.title&&L.description&&L.youtube_url,le=e=>/^(https?:\/\/)?(www\.)?(youtube\.com|youtu\.be)\/.+/.test(e)&&oe(e),ce=e=>{if(!e)return"General";const n=A.find(n=>n.id===e);return n?n.name:"Unknown"},de=[...e.filter(e=>{const n=e.title.toLowerCase().includes(C.toLowerCase())||e.description.toLowerCase().includes(C.toLowerCase())||e.tag.toLowerCase().includes(C.toLowerCase()),t=!N||e.tag===N,a=!I||"general"===I&&!e.country_id||"general"!==I&&e.country_id===parseInt(I),r=!T||"active"===T&&e.is_active||"inactive"===T&&!e.is_active,o=!F||"featured"===F&&e.is_featured||"not-featured"===F&&!e.is_featured;return n&&t&&a&&r&&o})].sort((e,n)=>e.is_featured&&!n.is_featured?-1:!e.is_featured&&n.is_featured?1:new Date(n.created_at)-new Date(e.created_at)),pe={total:e.length,active:e.filter(e=>e.is_active).length,inactive:e.filter(e=>!e.is_active).length,featured:e.filter(e=>e.is_featured).length};return r||k?(0,s.jsxs)("div",{style:tc.loadingContainer,children:[(0,s.jsx)("div",{style:tc.spinner}),(0,s.jsx)("p",{style:tc.loadingText,children:"Loading video management..."})]}):(0,s.jsxs)("div",{style:tc.container,children:[(0,s.jsx)("div",{style:tc.adminHeader,children:(0,s.jsxs)("div",{style:tc.adminHeaderContent,children:[(0,s.jsxs)("div",{style:tc.adminTitle,children:[(0,s.jsx)($.A,{size:32,style:tc.adminIcon}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{style:tc.mainTitle,children:"Video Content Manager"}),(0,s.jsx)("p",{style:tc.adminSubtitle,children:"Manage and organize video content across your platform"})]})]}),(0,s.jsxs)("div",{style:tc.adminStats,children:[(0,s.jsxs)("div",{style:tc.statCard,children:[(0,s.jsx)("div",{style:tc.statNumber,children:pe.total}),(0,s.jsx)("div",{style:tc.statLabel,children:"Total Videos"})]}),(0,s.jsxs)("div",{style:tc.statCard,children:[(0,s.jsx)("div",{style:(0,m.A)((0,m.A)({},tc.statNumber),{},{color:"#10b981"}),children:pe.active}),(0,s.jsx)("div",{style:tc.statLabel,children:"Active"})]}),(0,s.jsxs)("div",{style:tc.statCard,children:[(0,s.jsx)("div",{style:(0,m.A)((0,m.A)({},tc.statNumber),{},{color:"#f59e0b"}),children:pe.featured}),(0,s.jsx)("div",{style:tc.statLabel,children:"Featured"})]})]})]})}),(0,s.jsxs)("div",{style:tc.mainContent,children:[(0,s.jsxs)("div",{style:tc.controlPanel,children:[(0,s.jsxs)("div",{style:tc.controlLeft,children:[(0,s.jsxs)("div",{style:tc.searchContainer,children:[(0,s.jsx)(G.A,{size:20,style:tc.searchIcon}),(0,s.jsx)("input",{type:"text",placeholder:"Search videos by title, description, or tag...",value:C,onChange:e=>z(e.target.value),style:tc.searchInput})]}),(0,s.jsxs)("div",{style:tc.filterContainer,children:[(0,s.jsxs)("div",{style:tc.filterGroup,children:[(0,s.jsx)($l.A,{size:16,style:tc.filterIcon}),(0,s.jsxs)("select",{value:N,onChange:e=>_(e.target.value),style:tc.filterSelect,children:[(0,s.jsx)("option",{value:"",children:"All Tags"}),t.map(e=>(0,s.jsx)("option",{value:e.tag_name,children:e.tag_name},e.id))]})]}),(0,s.jsxs)("div",{style:tc.filterGroup,children:[(0,s.jsx)(te.A,{size:16,style:tc.filterIcon}),(0,s.jsxs)("select",{value:I,onChange:e=>E(e.target.value),style:tc.filterSelect,children:[(0,s.jsx)("option",{value:"",children:"All Countries"}),(0,s.jsx)("option",{value:"general",children:"General"}),A.map(e=>(0,s.jsx)("option",{value:e.id,children:e.name},e.id))]})]}),(0,s.jsxs)("div",{style:tc.filterGroup,children:[(0,s.jsx)(vt.A,{size:16,style:tc.filterIcon}),(0,s.jsxs)("select",{value:T,onChange:e=>W(e.target.value),style:tc.filterSelect,children:[(0,s.jsx)("option",{value:"",children:"All Status"}),(0,s.jsx)("option",{value:"active",children:"Active"}),(0,s.jsx)("option",{value:"inactive",children:"Inactive"})]})]}),(0,s.jsxs)("div",{style:tc.filterGroup,children:[(0,s.jsx)(M.A,{size:16,style:tc.filterIcon}),(0,s.jsxs)("select",{value:F,onChange:e=>P(e.target.value),style:tc.filterSelect,children:[(0,s.jsx)("option",{value:"",children:"All Videos"}),(0,s.jsx)("option",{value:"featured",children:"Featured"}),(0,s.jsx)("option",{value:"not-featured",children:"Not Featured"})]})]}),(C||N||I||T||F)&&(0,s.jsx)("button",{onClick:re,style:tc.clearFiltersButton,title:"Clear all filters",children:(0,s.jsx)(ie.A,{size:16})})]})]}),(0,s.jsxs)("div",{style:tc.controlRight,children:[(0,s.jsxs)("div",{style:tc.viewControls,children:[(0,s.jsx)("button",{onClick:()=>B("list"),style:(0,m.A)((0,m.A)({},tc.viewButton),"list"===R?tc.activeViewButton:{}),title:"List view",children:(0,s.jsx)(V.A,{size:18})}),(0,s.jsx)("button",{onClick:()=>B("card"),style:(0,m.A)((0,m.A)({},tc.viewButton),"card"===R?tc.activeViewButton:{}),title:"Card view",children:(0,s.jsx)(J.A,{size:18})})]}),(0,s.jsxs)("button",{onClick:()=>h(!0),style:tc.primaryButton,children:[(0,s.jsx)(Pi.A,{size:20}),"Add Video"]})]})]}),d&&(0,s.jsxs)("div",{style:tc.successMessage,children:[(0,s.jsx)(ze.A,{size:20}),(0,s.jsx)("span",{children:d}),(0,s.jsx)("button",{onClick:()=>p(null),style:tc.messageClose,children:(0,s.jsx)(ie.A,{size:16})})]}),l&&(0,s.jsxs)("div",{style:tc.errorMessage,children:[(0,s.jsx)(ne.A,{size:20}),(0,s.jsx)("span",{children:l}),(0,s.jsx)("button",{onClick:()=>c(null),style:tc.messageClose,children:(0,s.jsx)(ie.A,{size:16})})]}),S&&(0,s.jsxs)("div",{style:tc.errorMessage,children:[(0,s.jsx)(ne.A,{size:20}),(0,s.jsxs)("span",{children:["Failed to load countries: ",S]})]}),(0,s.jsx)("div",{style:tc.resultsInfo,children:(0,s.jsxs)("span",{style:tc.resultsText,children:["Showing ",de.length," of ",e.length," videos"]})}),g&&(0,s.jsxs)("div",{style:tc.formCard,children:[(0,s.jsxs)("div",{style:tc.formHeader,children:[(0,s.jsxs)("h3",{style:tc.formTitle,children:[(0,s.jsx)(Ql.A,{size:20}),x?"Edit Video Section":"Add New Video Section"]}),(0,s.jsx)("button",{onClick:ae,style:tc.formClose,children:(0,s.jsx)(ie.A,{size:20})})]}),(0,s.jsxs)("div",{style:tc.formContent,children:[(0,s.jsxs)("div",{style:tc.formGrid,children:[(0,s.jsxs)("div",{style:tc.inputGroup,children:[(0,s.jsx)("label",{style:tc.label,children:"Category *"}),(0,s.jsxs)("div",{style:tc.tagInputContainer,children:[(0,s.jsxs)("select",{value:L.tag,onChange:e=>O(n=>(0,m.A)((0,m.A)({},n),{},{tag:e.target.value})),style:tc.select,required:!0,children:[(0,s.jsx)("option",{value:"",children:"Select category"}),t.map(e=>(0,s.jsx)("option",{value:e.tag_name,children:e.tag_name},e.id))]}),(0,s.jsx)("button",{type:"button",onClick:()=>j(!0),style:tc.addTagButton,title:"Add new category",children:(0,s.jsx)(Pi.A,{size:16})})]})]}),(0,s.jsxs)("div",{style:tc.inputGroup,children:[(0,s.jsxs)("label",{style:tc.label,children:[(0,s.jsx)(te.A,{size:16}),"Target Country"]}),(0,s.jsxs)("select",{value:L.country_id,onChange:e=>O(n=>(0,m.A)((0,m.A)({},n),{},{country_id:e.target.value})),style:tc.select,children:[(0,s.jsx)("option",{value:"",children:"General (All Countries)"}),A.map(e=>(0,s.jsx)("option",{value:e.id,children:e.name},e.id))]}),(0,s.jsx)("div",{style:tc.fieldNote,children:'Leave blank or select "General" to show this video to all countries'})]}),(0,s.jsxs)("div",{style:tc.inputGroup,children:[(0,s.jsx)("label",{style:tc.label,children:"Status"}),(0,s.jsxs)("select",{value:L.is_active,onChange:e=>O(n=>(0,m.A)((0,m.A)({},n),{},{is_active:"true"===e.target.value})),style:tc.select,children:[(0,s.jsx)("option",{value:"true",children:"Active"}),(0,s.jsx)("option",{value:"false",children:"Inactive"})]})]})]}),(0,s.jsxs)("div",{style:tc.inputGroup,children:[(0,s.jsx)("label",{style:tc.label,children:"Video Title *"}),(0,s.jsx)("input",{type:"text",value:L.title,onChange:e=>O(n=>(0,m.A)((0,m.A)({},n),{},{title:e.target.value})),style:tc.input,placeholder:"Enter a descriptive title for the video",required:!0})]}),(0,s.jsxs)("div",{style:tc.inputGroup,children:[(0,s.jsx)("label",{style:tc.label,children:"Description *"}),(0,s.jsx)("textarea",{value:L.description,onChange:e=>O(n=>(0,m.A)((0,m.A)({},n),{},{description:e.target.value})),rows:4,style:(0,m.A)((0,m.A)({},tc.input),tc.textarea),placeholder:"Provide a detailed description of the video content",required:!0}),(0,s.jsxs)("div",{style:tc.charCount,children:[L.description.length,"/500 characters"]})]}),(0,s.jsxs)("div",{style:tc.inputGroup,children:[(0,s.jsxs)("label",{style:tc.label,children:["YouTube Embed URL *",(0,s.jsx)("span",{style:tc.labelNote,children:"(Must be embed format, not watch URL)"})]}),(0,s.jsx)("input",{type:"url",value:L.youtube_url,onChange:e=>O(n=>(0,m.A)((0,m.A)({},n),{},{youtube_url:e.target.value})),placeholder:"https://www.youtube.com/embed/VIDEO_ID",style:(0,m.A)((0,m.A)({},tc.input),L.youtube_url&&!le(L.youtube_url)?tc.inputError:{}),required:!0}),L.youtube_url&&!le(L.youtube_url)&&(0,s.jsxs)("div",{style:tc.validationError,children:[(0,s.jsx)(ne.A,{size:16}),"Please enter a valid YouTube URL"]}),L.youtube_url&&oe(L.youtube_url)&&(0,s.jsxs)("div",{style:tc.previewContainer,children:[(0,s.jsxs)("div",{style:tc.previewHeader,children:[(0,s.jsx)("span",{style:tc.previewLabel,children:"Video Preview"}),(0,s.jsx)("span",{style:tc.previewNote,children:"Preview how it will appear"})]}),(0,s.jsx)("iframe",{src:"https://www.youtube.com/embed/".concat(oe(L.youtube_url)),style:tc.previewIframe,allowFullScreen:!0,title:"Video preview"})]})]}),(0,s.jsxs)("div",{style:tc.formActions,children:[(0,s.jsx)("button",{onClick:async()=>{if(se()){w(!0),c(null),p(null);try{const e=x?"".concat(D,"/video-sections/").concat(x):"".concat(D,"/video-sections"),n=x?"PUT":"POST",t=(0,m.A)((0,m.A)({},L),{},{country_id:L.country_id||null});console.log("".concat(n," request to:"),e,"with data:",t);const a=await fetch(e,{method:n,headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!a.ok)throw new Error("HTTP ".concat(a.status,": ").concat(a.statusText));const r=await a.json();console.log("Submit response:",r),r.success?(await U(),ae(),p(x?"Video section updated successfully!":"Video section created successfully!")):c(r.message||"Failed to save video section")}catch(e){console.error("Error saving video section:",e),c("Failed to save video section: ".concat(e.message))}finally{w(!1)}}},disabled:!se()||v,style:(0,m.A)((0,m.A)({},tc.submitButton),!se()||v?tc.disabledButton:{}),children:v?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{style:tc.miniSpinner}),x?"Updating...":"Creating..."]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(ec.A,{size:16}),x?"Update Video":"Create Video"]})}),(0,s.jsx)("button",{onClick:ae,style:tc.secondaryButton,disabled:v,children:"Cancel"})]})]})]}),y&&(0,s.jsx)("div",{style:tc.modalOverlay,children:(0,s.jsxs)("div",{style:tc.modal,children:[(0,s.jsxs)("div",{style:tc.modalHeader,children:[(0,s.jsx)("h3",{style:tc.modalTitle,children:"Add New Category"}),(0,s.jsx)("button",{onClick:()=>{j(!1),b("")},style:tc.modalClose,children:(0,s.jsx)(ie.A,{size:20})})]}),(0,s.jsx)("div",{style:tc.modalContent,children:(0,s.jsx)("input",{type:"text",value:f,onChange:e=>b(e.target.value),placeholder:"Enter category name (e.g., Tutorials, Reviews)",style:tc.input,onKeyPress:e=>"Enter"===e.key&&ee(),autoFocus:!0})}),(0,s.jsxs)("div",{style:tc.modalActions,children:[(0,s.jsx)("button",{onClick:ee,disabled:!f.trim(),style:(0,m.A)((0,m.A)({},tc.submitButton),f.trim()?{}:tc.disabledButton),children:"Add Category"}),(0,s.jsx)("button",{onClick:()=>{j(!1),b("")},style:tc.secondaryButton,children:"Cancel"})]})]})}),(0,s.jsx)("div",{style:tc.contentArea,children:0===de.length?(0,s.jsxs)("div",{style:tc.emptyState,children:[(0,s.jsx)("div",{style:tc.emptyIcon,children:0===e.length?(0,s.jsx)($.A,{size:48}):(0,s.jsx)(G.A,{size:48})}),(0,s.jsx)("h3",{style:tc.emptyTitle,children:0===e.length?"No videos yet":"No matching videos"}),(0,s.jsx)("p",{style:tc.emptySubtitle,children:0===e.length?"Get started by adding your first video content":"Try adjusting your search or filter criteria"}),0===e.length?(0,s.jsxs)("button",{onClick:()=>h(!0),style:tc.primaryButton,children:[(0,s.jsx)(Pi.A,{size:20}),"Add Your First Video"]}):(0,s.jsx)("button",{onClick:re,style:tc.secondaryButton,children:"Clear All Filters"})]}):"list"===R?(0,s.jsxs)("div",{style:tc.listView,children:[(0,s.jsxs)("div",{style:tc.listHeader,children:[(0,s.jsx)("div",{style:tc.listHeaderCell,children:"Video"}),(0,s.jsx)("div",{style:tc.listHeaderCell,children:"Category"}),(0,s.jsx)("div",{style:tc.listHeaderCell,children:"Country"}),(0,s.jsx)("div",{style:tc.listHeaderCell,children:"Status"}),(0,s.jsx)("div",{style:tc.listHeaderCell,children:"Created"}),(0,s.jsx)("div",{style:tc.listHeaderCell,children:"Actions"})]}),de.map(e=>(0,s.jsxs)("div",{style:tc.listItem,children:[(0,s.jsx)("div",{style:tc.listCell,children:(0,s.jsxs)("div",{style:tc.videoListInfo,children:[(0,s.jsx)("div",{style:tc.videoThumbnail,children:oe(e.youtube_url)?(0,s.jsx)("img",{src:"https://img.youtube.com/vi/".concat(oe(e.youtube_url),"/mqdefault.jpg"),alt:e.title,style:tc.thumbnailImage}):(0,s.jsx)("div",{style:tc.noThumbnail,children:(0,s.jsx)($.A,{size:24})})}),(0,s.jsxs)("div",{style:tc.videoDetails,children:[(0,s.jsxs)("h4",{style:tc.videoListTitle,children:[e.is_featured&&(0,s.jsx)(M.A,{size:14,style:tc.featuredStar}),e.title]}),(0,s.jsx)("p",{style:tc.videoListDescription,children:e.description.length>80?"".concat(e.description.substring(0,80),"..."):e.description})]})]})}),(0,s.jsx)("div",{style:tc.listCell,children:(0,s.jsx)("span",{style:tc.categoryBadge,children:e.tag})}),(0,s.jsx)("div",{style:tc.listCell,children:(0,s.jsxs)("span",{style:tc.countryBadge,children:[(0,s.jsx)(te.A,{size:12}),ce(e.country_id)]})}),(0,s.jsx)("div",{style:tc.listCell,children:(0,s.jsxs)("div",{style:tc.statusColumn,children:[(0,s.jsx)("span",{style:(0,m.A)((0,m.A)({},tc.statusBadge),e.is_active?tc.statusActive:tc.statusInactive),children:e.is_active?"Active":"Inactive"}),e.is_featured&&(0,s.jsx)("span",{style:tc.featuredBadge,children:"Featured"})]})}),(0,s.jsx)("div",{style:tc.listCell,children:(0,s.jsxs)("div",{style:tc.dateInfo,children:[(0,s.jsx)(H.A,{size:14,style:tc.dateIcon}),(0,s.jsx)("span",{style:tc.dateText,children:new Date(e.created_at).toLocaleDateString("en-US",{month:"short",day:"numeric",year:new Date(e.created_at).getFullYear()!==(new Date).getFullYear()?"numeric":void 0})})]})}),(0,s.jsx)("div",{style:tc.listCell,children:(0,s.jsxs)("div",{style:tc.actionButtons,children:[(0,s.jsx)("button",{onClick:()=>Q(e.id,e.is_featured),style:(0,m.A)((0,m.A)({},tc.actionButton),e.is_featured?tc.actionFeatured:tc.actionNormal),title:e.is_featured?"Remove from featured":"Set as featured",children:(0,s.jsx)(M.A,{size:16})}),(0,s.jsx)("button",{onClick:()=>Z(e.id,e.is_active),style:(0,m.A)((0,m.A)({},tc.actionButton),e.is_active?tc.actionActive:tc.actionInactive),title:e.is_active?"Deactivate":"Activate",children:e.is_active?(0,s.jsx)(vt.A,{size:16}):(0,s.jsx)(jt.A,{size:16})}),(0,s.jsx)("button",{onClick:()=>K(e),style:(0,m.A)((0,m.A)({},tc.actionButton),tc.actionEdit),title:"Edit",children:(0,s.jsx)(Ri.A,{size:16})}),(0,s.jsx)("button",{onClick:()=>X(e.id),style:(0,m.A)((0,m.A)({},tc.actionButton),tc.actionDelete),title:"Delete",children:(0,s.jsx)(nc.A,{size:16})})]})})]},e.id))]}):(0,s.jsx)("div",{style:tc.cardGrid,children:de.map(e=>(0,s.jsxs)("div",{style:(0,m.A)((0,m.A)({},tc.videoCard),e.is_featured?tc.featuredCard:{}),children:[(0,s.jsxs)("div",{style:tc.cardHeader,children:[(0,s.jsxs)("div",{style:tc.cardBadges,children:[(0,s.jsx)("span",{style:tc.categoryBadge,children:e.tag}),(0,s.jsxs)("span",{style:tc.countryBadge,children:[(0,s.jsx)(te.A,{size:12}),ce(e.country_id)]}),e.is_featured&&(0,s.jsxs)("span",{style:tc.featuredBadge,children:[(0,s.jsx)(M.A,{size:12}),"Featured"]}),(0,s.jsx)("span",{style:(0,m.A)((0,m.A)({},tc.statusBadge),e.is_active?tc.statusActive:tc.statusInactive),children:e.is_active?"Live":"Draft"})]}),(0,s.jsxs)("div",{style:tc.cardActions,children:[(0,s.jsx)("button",{onClick:()=>Q(e.id,e.is_featured),style:(0,m.A)((0,m.A)({},tc.actionButton),e.is_featured?tc.actionFeatured:tc.actionNormal),title:e.is_featured?"Remove from featured":"Set as featured",children:(0,s.jsx)(M.A,{size:16})}),(0,s.jsx)("button",{onClick:()=>Z(e.id,e.is_active),style:(0,m.A)((0,m.A)({},tc.actionButton),e.is_active?tc.actionActive:tc.actionInactive),title:e.is_active?"Deactivate":"Activate",children:e.is_active?(0,s.jsx)(vt.A,{size:16}):(0,s.jsx)(jt.A,{size:16})}),(0,s.jsx)("button",{onClick:()=>K(e),style:(0,m.A)((0,m.A)({},tc.actionButton),tc.actionEdit),title:"Edit",children:(0,s.jsx)(Ri.A,{size:16})}),(0,s.jsx)("button",{onClick:()=>X(e.id),style:(0,m.A)((0,m.A)({},tc.actionButton),tc.actionDelete),title:"Delete",children:(0,s.jsx)(nc.A,{size:16})})]})]}),(0,s.jsxs)("div",{style:tc.cardContent,children:[(0,s.jsx)("h3",{style:tc.cardTitle,children:e.title}),(0,s.jsx)("p",{style:tc.cardDescription,children:e.description}),(0,s.jsxs)("div",{style:tc.cardMeta,children:[(0,s.jsxs)("div",{style:tc.metaItem,children:[(0,s.jsx)(q.A,{size:14,style:tc.metaIcon}),(0,s.jsxs)("span",{children:["Created ",new Date(e.created_at).toLocaleDateString("en-US",{month:"short",day:"numeric",year:new Date(e.created_at).getFullYear()!==(new Date).getFullYear()?"numeric":void 0})]})]}),e.updated_at!==e.created_at&&(0,s.jsxs)("div",{style:tc.metaItem,children:[(0,s.jsx)(H.A,{size:14,style:tc.metaIcon}),(0,s.jsxs)("span",{children:["Updated ",new Date(e.updated_at).toLocaleDateString("en-US",{month:"short",day:"numeric"})]})]})]})]}),oe(e.youtube_url)&&(0,s.jsxs)("div",{style:tc.cardPreview,children:[(0,s.jsxs)("div",{style:tc.previewHeader,children:[(0,s.jsx)("span",{style:tc.previewLabel,children:"Preview"}),(0,s.jsx)("a",{href:e.youtube_url,target:"_blank",rel:"noopener noreferrer",style:tc.youtubeLink,children:"View on YouTube \u2192"})]}),(0,s.jsx)("iframe",{src:"https://www.youtube.com/embed/".concat(oe(e.youtube_url)),style:tc.cardIframe,allowFullScreen:!0,title:e.title})]})]},e.id))})})]})]})},rc=Ge,oc=()=>{const{user:e}=c(),[n,t]=(0,i.useState)([]),[r,o]=(0,i.useState)([]),[l,d]=(0,i.useState)(!0),[p,x]=(0,i.useState)(!1),[u,g]=(0,i.useState)(""),[h,f]=(0,i.useState)(""),b=(0,a.Zp)(),[y,j]=(0,i.useState)(!1),[v,w]=(0,i.useState)(null),[A,k]=(0,i.useState)({name:"",description:"",focusAreaIds:[]}),S=async(e,n)=>{let t="Failed to ".concat(n);try{const a=await e.json();t=a.message||a.error||t,console.error("API Error (".concat(n,"):"),{status:e.status,statusText:e.statusText,errorData:a}),a.details&&(console.error("Error details:",a.details),t+=" (".concat(a.details.code||"Unknown error",")"))}catch(a){console.error("Failed to parse error response:",a),t="".concat(n," failed (Status: ").concat(e.status,")")}return t},C=async()=>{try{var e,n;d(!0),g(""),console.log("Fetching pillars and focus areas...");const[a,r]=await Promise.all([fetch("".concat(rc,"/pillars"),{credentials:"include"}),fetch("".concat(rc,"/pillars/meta/focus-areas"),{credentials:"include"})]);if(!a.ok){const e=await S(a,"load pillars");throw new Error(e)}if(!r.ok){const e=await S(r,"load focus areas");throw new Error(e)}const i=await a.json(),s=await r.json();t(i.data||[]),o(s.data||[]),console.log("Data loaded successfully:",{pillars:null===(e=i.data)||void 0===e?void 0:e.length,focusAreas:null===(n=s.data)||void 0===n?void 0:n.length})}catch(a){console.error("Fetch error:",a),g("Failed to fetch data: "+a.message)}finally{d(!1)}},z=()=>{g(""),f("")},T=()=>{j(!1),w(null),k({name:"",description:"",focusAreaIds:[]}),z()};return(0,i.useEffect)(()=>{C()},[]),e&&"admin"===e.role?l?(0,s.jsx)(N.A,{sx:{display:"flex",justifyContent:"center",mt:4},children:(0,s.jsx)(On.A,{})}):(0,s.jsxs)(N.A,{sx:{maxWidth:1200,mx:"auto",mt:4,p:2},children:[(0,s.jsxs)(N.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3},children:[(0,s.jsx)(_.A,{variant:"h4",gutterBottom:!0,children:"Manage Programme Pillars"}),(0,s.jsx)(E.A,{variant:"contained",startIcon:(0,s.jsx)(us.A,{}),onClick:()=>{z(),w(null),k({name:"",description:"",focusAreaIds:[]}),j(!0)},disabled:p,sx:{mb:2},children:"Add New Pillar"}),(0,s.jsx)(E.A,{variant:"contained",startIcon:(0,s.jsx)(us.A,{}),onClick:()=>b("/admin/dashboard/categories"),disabled:p,sx:{mb:2},children:"Add New Focus Area"})]}),u&&(0,s.jsx)(I.A,{severity:"error",sx:{mb:2},children:u}),h&&(0,s.jsx)(I.A,{severity:"success",sx:{mb:2},children:h}),(0,s.jsx)(Un.A,{container:!0,spacing:3,children:n.map(e=>(0,s.jsx)(Un.A,{item:!0,xs:12,md:6,lg:4,children:(0,s.jsx)(Yn.A,{sx:{height:"100%",display:"flex",flexDirection:"column"},children:(0,s.jsxs)(Gn.A,{sx:{flexGrow:1},children:[(0,s.jsxs)(N.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",mb:2},children:[(0,s.jsx)(_.A,{variant:"h6",component:"h3",sx:{fontWeight:"bold",flexGrow:1},children:e.name}),(0,s.jsxs)(N.A,{children:[(0,s.jsx)(de.A,{size:"small",onClick:()=>(e=>{z(),w(e),console.log("Editing pillar:",e),console.log("Focus areas structure:",e.focus_areas);let n=[];e.focus_areas&&Array.isArray(e.focus_areas)&&(n=e.focus_areas.filter(e=>e&&null!==e.id&&void 0!==e.id).map(e=>e.id)),console.log("Extracted focus area IDs:",n),k({name:e.name||"",description:e.description||"",focusAreaIds:n}),j(!0)})(e),color:"primary",disabled:p,children:(0,s.jsx)($i.A,{})}),(0,s.jsx)(de.A,{size:"small",onClick:()=>(async e=>{if(window.confirm('Are you sure you want to delete "'.concat(e.name,'"? This action cannot be undone.'))){z(),x(!0);try{console.log("Deleting pillar:",e.id);const n=await fetch("".concat(rc,"/pillars/").concat(e.id),{method:"DELETE",credentials:"include",headers:{Accept:"application/json"}});if(console.log("Delete response:",{status:n.status,ok:n.ok}),!n.ok){const e=await S(n,"delete pillar");throw new Error(e)}const t=await n.json();console.log("Delete success:",t),f("Pillar deleted successfully!"),await C()}catch(n){console.error("Delete error:",n),g("Failed to delete pillar: "+n.message)}finally{x(!1)}}})(e),color:"error",disabled:p,children:(0,s.jsx)(Gi.A,{})})]})]}),(0,s.jsx)(_.A,{variant:"body2",color:"text.secondary",sx:{mb:2},children:e.description}),(0,s.jsxs)(N.A,{children:[(0,s.jsx)(_.A,{variant:"subtitle2",sx:{mb:1,fontWeight:"bold"},children:"Focus Areas:"}),(0,s.jsx)(N.A,{sx:{display:"flex",flexWrap:"wrap",gap:.5},children:e.focus_areas&&e.focus_areas.length>0?e.focus_areas.map(e=>(0,s.jsx)(it.A,{label:e.name,size:"small",variant:"outlined",color:"primary"},e.id)):(0,s.jsx)(_.A,{variant:"caption",color:"text.secondary",children:"No focus areas assigned"})})]})]})})},e.id))}),0===n.length&&!l&&(0,s.jsx)(N.A,{sx:{textAlign:"center",mt:4},children:(0,s.jsx)(_.A,{variant:"h6",color:"text.secondary",children:'No pillars found. Click "Add New Pillar" to get started.'})}),(0,s.jsxs)(Oi.A,{open:y,onClose:p?void 0:T,maxWidth:"md",fullWidth:!0,children:[(0,s.jsx)(Ui.A,{children:v?"Edit Pillar":"Add New Pillar"}),(0,s.jsx)(ds.A,{children:(0,s.jsxs)(N.A,{sx:{mt:2},children:[(0,s.jsx)(Bn.A,{label:"Pillar Name",value:A.name,onChange:e=>k(n=>(0,m.A)((0,m.A)({},n),{},{name:e.target.value})),fullWidth:!0,margin:"normal",required:!0,disabled:p,error:!A.name.trim()&&""!==A.name,helperText:A.name.trim()||""===A.name?"":"Pillar name is required"}),(0,s.jsx)(Bn.A,{label:"Description",value:A.description,onChange:e=>k(n=>(0,m.A)((0,m.A)({},n),{},{description:e.target.value})),fullWidth:!0,multiline:!0,rows:4,margin:"normal",required:!0,disabled:p,error:!A.description.trim()&&""!==A.description,helperText:A.description.trim()||""===A.description?"":"Description is required"}),(0,s.jsxs)(Ln.A,{fullWidth:!0,margin:"normal",children:[(0,s.jsx)(Mn.A,{children:"Focus Areas"}),(0,s.jsx)(Hn.A,{multiple:!0,value:A.focusAreaIds,onChange:e=>{const n=e.target.value;console.log("Focus area change:",n);const t=Array.isArray(n)?n.filter(e=>null!==e&&void 0!==e&&""!==e):[];console.log("Cleaned focus area IDs:",t),k(e=>(0,m.A)((0,m.A)({},e),{},{focusAreaIds:t}))},input:(0,s.jsx)(yl.A,{label:"Focus Areas"}),disabled:p,renderValue:e=>(0,s.jsx)(N.A,{sx:{display:"flex",flexWrap:"wrap",gap:.5},children:e.map(e=>{const n=r.find(n=>n.id===e);return(0,s.jsx)(it.A,{label:(null===n||void 0===n?void 0:n.name)||"ID: ".concat(e),size:"small"},e)})}),children:r.map(e=>(0,s.jsxs)(qn.A,{value:e.id,children:[(0,s.jsx)(_s.A,{checked:A.focusAreaIds.indexOf(e.id)>-1}),(0,s.jsx)(qi.A,{primary:e.name})]},e.id))})]}),p&&(0,s.jsxs)(N.A,{sx:{display:"flex",alignItems:"center",mt:2},children:[(0,s.jsx)(On.A,{size:20,sx:{mr:1}}),(0,s.jsx)(_.A,{variant:"body2",color:"text.secondary",children:v?"Updating pillar...":"Creating pillar..."})]})]})}),(0,s.jsxs)(Yi.A,{children:[(0,s.jsx)(E.A,{onClick:T,startIcon:(0,s.jsx)(es.A,{}),disabled:p,children:"Cancel"}),(0,s.jsx)(E.A,{onClick:async()=>{if(z(),A.name.trim())if(A.description.trim()){x(!0);try{const e=v?"".concat(rc,"/pillars/").concat(v.id):"".concat(rc,"/pillars"),n=v?"PUT":"POST",t={name:A.name.trim(),description:A.description.trim(),focusAreaIds:A.focusAreaIds.filter(e=>null!==e&&void 0!==e&&""!==e).map(e=>parseInt(e)).filter(e=>!isNaN(e))};console.log("Submitting request:",{url:e,method:n,body:t,editingPillar:null===v||void 0===v?void 0:v.id});const a=await fetch(e,{method:n,headers:{"Content-Type":"application/json",Accept:"application/json"},credentials:"include",body:JSON.stringify(t)});if(console.log("Response received:",{status:a.status,statusText:a.statusText,ok:a.ok,headers:Object.fromEntries(a.headers.entries())}),!a.ok){const e=await S(a,v?"update pillar":"create pillar");throw new Error(e)}const r=await a.json();console.log("Success response:",r),f(v?"Pillar updated successfully!":"Pillar created successfully!"),T(),await C()}catch(e){console.error("Submit error:",e);let n=e.message;e.message.includes("Failed to fetch")||e.message.includes("NetworkError")?n="Network error - please check your connection and try again":e.message.includes("500")&&(n="Server error - please try again or contact support"),g(n)}finally{x(!1)}}else g("Pillar description is required");else g("Pillar name is required")},variant:"contained",startIcon:p?(0,s.jsx)(On.A,{size:16}):(0,s.jsx)(Qi.A,{}),disabled:p||!A.name.trim()||!A.description.trim(),children:p?v?"Updating...":"Creating...":v?"Update":"Create"})]})]})]}):(0,s.jsx)(N.A,{sx:{maxWidth:800,mx:"auto",mt:4,p:2},children:(0,s.jsx)(I.A,{severity:"error",children:"Access Denied - Admin privileges required"})})},ic=()=>{var e,n,t;const[a,r]=(0,i.useState)([]),[o,l]=(0,i.useState)([]),[c,d]=(0,i.useState)({}),[p,x]=(0,i.useState)([]),[u,g]=(0,i.useState)(!1),[h,f]=(0,i.useState)(null),[b,y]=(0,i.useState)(!1),[j,v]=(0,i.useState)(!1),[w,A]=(0,i.useState)(!1),[k,S]=(0,i.useState)(!1),[C,z]=(0,i.useState)({type:"",text:""}),[N,_]=(0,i.useState)({subject:"",message:"",recipient:null,mode:"all"}),[I,E]=(0,i.useState)({title:"",one_liner:"",description:"",country:"",location:"",start_date:"",end_date:"",image:null,is_paid:!1,price:"",currency:"USD"}),[T,W]=(0,i.useState)(null),F=function(e,n){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5e3;z({type:e,text:n}),setTimeout(()=>z({type:"",text:""}),t)},P=async()=>{try{const{data:e}=await cn.A.get("".concat(Ge,"/events"));r(e)}catch(e){console.error("Error fetching events:",e),F("error","Failed to fetch events. Please try again.")}},R=async()=>{try{const{data:e}=await cn.A.get("".concat(Ge,"/event-interests")),n=e.reduce((e,n)=>(e[n.event_id]||(e[n.event_id]=[]),e[n.event_id].push(n),e),{});d(n)}catch(e){console.error("Error fetching event interests:",e),F("error","Failed to fetch event applications. Please try again.")}};(0,i.useEffect)(()=>{P(),(async()=>{try{const{data:e}=await cn.A.get("".concat(Ge,"/countries"));l(e)}catch(e){console.error("Error fetching countries:",e),F("error","Failed to fetch countries. Please try again.")}})(),R()},[]);const B=e=>{const{name:n,value:t,files:a,type:r,checked:o}=e.target;E(a?(0,m.A)((0,m.A)({},I),{},{[n]:a[0]}):"checkbox"===r?(0,m.A)((0,m.A)({},I),{},{[n]:o}):(0,m.A)((0,m.A)({},I),{},{[n]:t}))},D=()=>{g(!1),f(null),x([])},L=()=>{y(!1),_({subject:"",message:"",recipient:null,mode:"all"})},M=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("style",{children:"\n        .admin-events-container {\n          max-width: 1200px;\n          margin: 0 auto;\n          padding: 2rem;\n          font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;\n          background-color: #f8fafc;\n          min-height: 100vh;\n        }\n\n        .admin-events-header {\n          margin-bottom: 2rem;\n        }\n\n        .admin-events-title {\n          font-size: 2rem;\n          font-weight: 700;\n          color: #1e293b;\n          margin: 0 0 0.5rem 0;\n        }\n\n        .admin-events-subtitle {\n          color: #64748b;\n          font-size: 1rem;\n        }\n\n        .form-toggle-container {\n          margin-bottom: 2rem;\n        }\n\n        .form-toggle-btn {\n          background-color: #3b82f6;\n          color: white;\n          border: none;\n          padding: 1rem 2rem;\n          border-radius: 12px;\n          font-weight: 600;\n          cursor: pointer;\n          transition: all 0.2s ease;\n          display: flex;\n          align-items: center;\n          gap: 0.5rem;\n          font-size: 1rem;\n        }\n\n        .form-toggle-btn:hover {\n          background-color: #2563eb;\n          transform: translateY(-1px);\n        }\n\n        .admin-events-form {\n          background: white;\n          border-radius: 12px;\n          padding: 2rem;\n          box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1);\n          margin-bottom: 2rem;\n          border: 1px solid #e2e8f0;\n          transition: all 0.3s ease;\n          overflow: hidden;\n        }\n\n        .form-slide-enter {\n          max-height: 0;\n          opacity: 0;\n          padding: 0 2rem;\n        }\n\n        .form-slide-enter-active {\n          max-height: 1000px;\n          opacity: 1;\n          padding: 2rem;\n        }\n\n        .form-title {\n          font-size: 1.25rem;\n          font-weight: 600;\n          color: #334155;\n          margin: 0 0 1.5rem 0;\n        }\n\n        .form-grid {\n          display: grid;\n          grid-template-columns: 1fr 1fr;\n          gap: 1rem;\n          margin-bottom: 1rem;\n        }\n\n        .form-group-full {\n          grid-column: 1 / -1;\n        }\n\n        .form-group {\n          display: flex;\n          flex-direction: column;\n        }\n\n        .form-label {\n          font-weight: 500;\n          color: #374151;\n          margin-bottom: 0.5rem;\n          font-size: 0.875rem;\n          position: relative;\n        }\n\n        .form-input,\n        .form-select,\n        .form-textarea {\n          padding: 0.75rem;\n          border: 1px solid #d1d5db;\n          border-radius: 8px;\n          font-size: 1rem;\n          transition: all 0.2s ease;\n          outline: none;\n        }\n\n        .form-input:focus,\n        .form-select:focus,\n        .form-textarea:focus {\n          border-color: #3b82f6;\n          box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);\n        }\n\n        .form-textarea {\n          min-height: 100px;\n          resize: vertical;\n        }\n\n        .form-file {\n          padding: 0.5rem;\n          border: 2px dashed #d1d5db;\n          border-radius: 8px;\n          background-color: #f9fafb;\n          transition: all 0.2s ease;\n        }\n\n        .form-file:hover {\n          border-color: #3b82f6;\n          background-color: #eff6ff;\n        }\n\n        .character-counter {\n          font-size: 0.75rem;\n          color: #6b7280;\n          margin-top: 0.25rem;\n          text-align: right;\n        }\n\n        .character-counter.warning {\n          color: #f59e0b;\n        }\n\n        .character-counter.error {\n          color: #dc2626;\n        }\n\n        .image-preview {\n          margin-top: 1rem;\n          border-radius: 8px;\n          max-height: 120px;\n          object-fit: cover;\n          border: 1px solid #e5e7eb;\n        }\n\n        .form-actions {\n          display: flex;\n          gap: 1rem;\n          margin-top: 1.5rem;\n        }\n\n        .btn {\n          padding: 0.75rem 1.5rem;\n          border: none;\n          border-radius: 8px;\n          font-weight: 500;\n          cursor: pointer;\n          transition: all 0.2s ease;\n          font-size: 0.875rem;\n          display: flex;\n          align-items: center;\n          gap: 0.5rem;\n        }\n\n        .btn:disabled {\n          opacity: 0.6;\n          cursor: not-allowed;\n          transform: none;\n        }\n\n        .btn-primary {\n          background-color: #3b82f6;\n          color: white;\n        }\n\n        .btn-primary:hover:not(:disabled) {\n          background-color: #2563eb;\n          transform: translateY(-1px);\n        }\n\n        .btn-secondary {\n          background-color: #6b7280;\n          color: white;\n        }\n\n        .btn-secondary:hover:not(:disabled) {\n          background-color: #4b5563;\n        }\n\n        .loading-spinner {\n          width: 1rem;\n          height: 1rem;\n          border: 2px solid transparent;\n          border-top: 2px solid currentColor;\n          border-radius: 50%;\n          animation: spin 1s linear infinite;\n        }\n\n        @keyframes spin {\n          to {\n            transform: rotate(360deg);\n          }\n        }\n\n        .message-alert {\n          padding: 1rem 1.5rem;\n          border-radius: 8px;\n          margin-bottom: 1.5rem;\n          font-weight: 500;\n          animation: slideDown 0.3s ease;\n        }\n\n        .message-success {\n          background-color: #dcfce7;\n          color: #166534;\n          border: 1px solid #bbf7d0;\n        }\n\n        .message-error {\n          background-color: #fee2e2;\n          color: #991b1b;\n          border: 1px solid #fecaca;\n        }\n\n        @keyframes slideDown {\n          from {\n            opacity: 0;\n            transform: translateY(-10px);\n          }\n          to {\n            opacity: 1;\n            transform: translateY(0);\n          }\n        }\n\n        .events-table-container {\n          background: white;\n          border-radius: 12px;\n          overflow: hidden;\n          box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1);\n          border: 1px solid #e2e8f0;\n        }\n\n        .table-header {\n          padding: 1.5rem 2rem;\n          border-bottom: 1px solid #e5e7eb;\n        }\n\n        .table-title {\n          font-size: 1.25rem;\n          font-weight: 600;\n          color: #334155;\n          margin: 0;\n        }\n\n        .events-table {\n          width: 100%;\n          border-collapse: collapse;\n          font-size: 0.875rem;\n        }\n\n        .events-table th {\n          background-color: #f8fafc;\n          color: #374151;\n          font-weight: 600;\n          padding: 1rem;\n          text-align: left;\n          border-bottom: 1px solid #e5e7eb;\n          font-size: 0.75rem;\n          text-transform: uppercase;\n          letter-spacing: 0.05em;\n        }\n\n        .events-table td {\n          padding: 1rem;\n          border-bottom: 1px solid #f1f5f9;\n          vertical-align: middle;\n        }\n\n        .events-table tr:hover {\n          background-color: #f8fafc;\n        }\n\n        .event-image {\n          height: 60px;\n          width: 60px;\n          object-fit: cover;\n          border-radius: 8px;\n          border: 1px solid #e5e7eb;\n        }\n\n        .event-actions {\n          display: flex;\n          gap: 0.5rem;\n        }\n\n        .btn-edit {\n          background-color: #f59e0b;\n          color: white;\n          padding: 0.5rem 1rem;\n          border: none;\n          border-radius: 6px;\n          font-size: 0.75rem;\n          cursor: pointer;\n          transition: all 0.2s ease;\n          font-weight: 500;\n        }\n\n        .btn-edit:hover {\n          background-color: #d97706;\n          transform: translateY(-1px);\n        }\n\n        .btn-delete {\n          background-color: #dc2626;\n          color: white;\n          padding: 0.5rem 1rem;\n          border: none;\n          border-radius: 6px;\n          font-size: 0.75rem;\n          cursor: pointer;\n          transition: all 0.2s ease;\n          font-weight: 500;\n        }\n\n        .btn-delete:hover {\n          background-color: #b91c1c;\n          transform: translateY(-1px);\n        }\n\n        .date-text {\n          color: #6b7280;\n          font-size: 0.875rem;\n        }\n\n        .country-badge {\n          display: inline-block;\n          padding: 0.25rem 0.75rem;\n          background-color: #eff6ff;\n          color: #1d4ed8;\n          border-radius: 20px;\n          font-size: 0.75rem;\n          font-weight: 500;\n        }\n\n        .one-liner-text {\n          color: #6b7280;\n          font-style: italic;\n          font-size: 0.75rem;\n          margin-top: 0.25rem;\n        }\n\n        .checkbox-group {\n          display: flex;\n          align-items: center;\n          gap: 0.75rem;\n          padding: 1rem;\n          background-color: #f8fafc;\n          border: 1px solid #e2e8f0;\n          border-radius: 8px;\n          margin-bottom: 1rem;\n        }\n\n        .checkbox-input {\n          width: 1.25rem;\n          height: 1.25rem;\n          accent-color: #3b82f6;\n          cursor: pointer;\n        }\n\n        .checkbox-label {\n          font-weight: 500;\n          color: #374151;\n          cursor: pointer;\n          margin: 0;\n        }\n\n        .pricing-section {\n          background-color: #eff6ff;\n          border: 1px solid #bfdbfe;\n          border-radius: 8px;\n          padding: 1.5rem;\n          margin-bottom: 1rem;\n          animation: slideIn 0.3s ease;\n        }\n\n        .pricing-title {\n          font-weight: 600;\n          color: #1e40af;\n          margin: 0 0 1rem 0;\n          font-size: 1rem;\n        }\n\n        .pricing-grid {\n          display: grid;\n          grid-template-columns: 2fr 1fr;\n          gap: 1rem;\n        }\n\n        @keyframes slideIn {\n          from {\n            opacity: 0;\n            transform: translateY(-10px);\n          }\n          to {\n            opacity: 1;\n            transform: translateY(0);\n          }\n        }\n\n        .price-badge {\n          display: inline-flex;\n          align-items: center;\n          padding: 0.375rem 0.75rem;\n          background-color: #dcfce7;\n          color: #166534;\n          border-radius: 20px;\n          font-size: 0.875rem;\n          font-weight: 600;\n        }\n\n        .free-badge {\n          display: inline-flex;\n          align-items: center;\n          padding: 0.375rem 0.75rem;\n          background-color: #f3f4f6;\n          color: #374151;\n          border-radius: 20px;\n          font-size: 0.875rem;\n          font-weight: 500;\n        }\n\n        .applicants-btn {\n          background-color: #8b5cf6;\n          color: white;\n          padding: 0.5rem 1rem;\n          border: none;\n          border-radius: 6px;\n          font-size: 0.75rem;\n          cursor: pointer;\n          transition: all 0.2s ease;\n          font-weight: 500;\n          display: flex;\n          align-items: center;\n          gap: 0.5rem;\n          position: relative;\n        }\n\n        .applicants-btn:hover {\n          background-color: #7c3aed;\n          transform: translateY(-1px);\n        }\n\n        .applicants-count {\n          background-color: rgba(255, 255, 255, 0.2);\n          border-radius: 10px;\n          padding: 0.125rem 0.375rem;\n          font-size: 0.625rem;\n          font-weight: 600;\n        }\n\n        .modal-overlay {\n          position: fixed;\n          top: 0;\n          left: 0;\n          right: 0;\n          bottom: 0;\n          background-color: rgba(0, 0, 0, 0.75);\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          z-index: 1000;\n          padding: 1rem;\n        }\n\n        .modal-content {\n          background: white;\n          border-radius: 20px;\n          width: 100%;\n          max-width: 800px;\n          max-height: 90vh;\n          overflow-y: auto;\n          position: relative;\n          animation: modalSlideIn 0.3s ease;\n        }\n\n        @keyframes modalSlideIn {\n          from {\n            opacity: 0;\n            transform: scale(0.9) translateY(-50px);\n          }\n          to {\n            opacity: 1;\n            transform: scale(1) translateY(0);\n          }\n        }\n\n        .modal-header {\n          padding: 2rem 2rem 1rem 2rem;\n          border-bottom: 1px solid #e5e7eb;\n        }\n\n        .modal-title {\n          font-size: 1.5rem;\n          font-weight: 700;\n          color: #1e293b;\n          margin: 0 0 0.5rem 0;\n        }\n\n        .modal-subtitle {\n          color: #64748b;\n          margin: 0;\n        }\n\n        .modal-close {\n          position: absolute;\n          top: 1rem;\n          right: 1rem;\n          background: none;\n          border: none;\n          font-size: 1.5rem;\n          cursor: pointer;\n          color: #64748b;\n          width: 2rem;\n          height: 2rem;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          border-radius: 50%;\n          transition: all 0.2s ease;\n        }\n\n        .modal-close:hover {\n          background-color: #f1f5f9;\n          color: #374151;\n        }\n\n        .modal-body {\n          padding: 2rem;\n        }\n\n        .interests-table {\n          width: 100%;\n          border-collapse: collapse;\n          font-size: 0.875rem;\n        }\n\n        .interests-table th {\n          background-color: #f8fafc;\n          color: #374151;\n          font-weight: 600;\n          padding: 1rem;\n          text-align: left;\n          border-bottom: 1px solid #e5e7eb;\n          font-size: 0.75rem;\n          text-transform: uppercase;\n          letter-spacing: 0.05em;\n        }\n\n        .interests-table td {\n          padding: 1rem;\n          border-bottom: 1px solid #f1f5f9;\n          vertical-align: top;\n        }\n\n        .interests-table tr:hover {\n          background-color: #f8fafc;\n        }\n\n        .interest-name {\n          font-weight: 600;\n          color: #1e293b;\n        }\n\n        .interest-email {\n          color: #3b82f6;\n          text-decoration: none;\n        }\n\n        .interest-email:hover {\n          text-decoration: underline;\n        }\n\n        .interest-phone {\n          color: #6b7280;\n          font-size: 0.875rem;\n        }\n\n        .interest-message {\n          color: #374151;\n          font-style: italic;\n          max-width: 200px;\n          word-wrap: break-word;\n        }\n\n        .interest-date {\n          color: #6b7280;\n          font-size: 0.75rem;\n        }\n\n        .btn-delete-interest {\n          background-color: #dc2626;\n          color: white;\n          padding: 0.375rem 0.75rem;\n          border: none;\n          border-radius: 4px;\n          font-size: 0.75rem;\n          cursor: pointer;\n          transition: all 0.2s ease;\n          font-weight: 500;\n        }\n\n        .btn-delete-interest:hover {\n          background-color: #b91c1c;\n          transform: translateY(-1px);\n        }\n\n        .btn-email-single {\n          background-color: #10b981;\n          color: white;\n          padding: 0.375rem 0.75rem;\n          border: none;\n          border-radius: 4px;\n          font-size: 0.75rem;\n          cursor: pointer;\n          transition: all 0.2s ease;\n          font-weight: 500;\n          margin-right: 0.5rem;\n        }\n\n        .btn-email-single:hover {\n          background-color: #059669;\n          transform: translateY(-1px);\n        }\n\n        .no-interests {\n          text-align: center;\n          padding: 3rem 2rem;\n          color: #6b7280;\n        }\n\n        .no-interests-title {\n          font-size: 1.125rem;\n          font-weight: 600;\n          margin: 0 0 0.5rem 0;\n        }\n\n        .export-btn {\n          background-color: #059669;\n          color: white;\n          padding: 0.75rem 1.5rem;\n          border: none;\n          border-radius: 8px;\n          font-size: 0.875rem;\n          cursor: pointer;\n          transition: all 0.2s ease;\n          font-weight: 500;\n          margin-bottom: 1.5rem;\n        }\n\n        .export-btn:hover {\n          background-color: #047857;\n          transform: translateY(-1px);\n        }\n\n        .email-all-btn {\n          background-color: #3b82f6;\n          color: white;\n          padding: 0.75rem 1.5rem;\n          border: none;\n          border-radius: 8px;\n          font-size: 0.875rem;\n          cursor: pointer;\n          transition: all 0.2s ease;\n          font-weight: 500;\n          margin-bottom: 1.5rem;\n          margin-left: 1rem;\n        }\n\n        .email-all-btn:hover {\n          background-color: #2563eb;\n          transform: translateY(-1px);\n        }\n\n        .email-form {\n          background-color: #f8fafc;\n          padding: 1.5rem;\n          border-radius: 8px;\n          margin-bottom: 1.5rem;\n        }\n\n        .email-form h3 {\n          margin: 0 0 1rem 0;\n          color: #1e293b;\n          font-size: 1.125rem;\n          font-weight: 600;\n        }\n\n        .email-form .form-group {\n          margin-bottom: 1rem;\n        }\n\n        .email-form .form-input,\n        .email-form .form-textarea {\n          width: 100%;\n          box-sizing: border-box;\n        }\n\n        .email-form .form-textarea {\n          min-height: 120px;\n        }\n\n        .email-actions {\n          display: flex;\n          gap: 1rem;\n        }\n\n        .btn-send {\n          background-color: #10b981;\n          color: white;\n          padding: 0.75rem 1.5rem;\n          border: none;\n          border-radius: 8px;\n          font-size: 0.875rem;\n          cursor: pointer;\n          transition: all 0.2s ease;\n          font-weight: 500;\n        }\n\n        .btn-send:hover:not(:disabled) {\n          background-color: #059669;\n          transform: translateY(-1px);\n        }\n\n        .btn-cancel {\n          background-color: #6b7280;\n          color: white;\n          padding: 0.75rem 1.5rem;\n          border: none;\n          border-radius: 8px;\n          font-size: 0.875rem;\n          cursor: pointer;\n          transition: all 0.2s ease;\n          font-weight: 500;\n        }\n\n        .btn-cancel:hover {\n          background-color: #4b5563;\n        }\n\n        .no-events {\n          text-align: center;\n          padding: 3rem;\n          color: #6b7280;\n        }\n\n        @media (max-width: 768px) {\n          .admin-events-container {\n            padding: 1rem;\n          }\n\n          .form-grid {\n            grid-template-columns: 1fr;\n          }\n\n          .pricing-grid {\n            grid-template-columns: 1fr;\n          }\n\n          .events-table-container {\n            overflow-x: auto;\n          }\n\n          .events-table {\n            min-width: 900px;\n          }\n\n          .event-actions {\n            flex-direction: column;\n          }\n\n          .modal-content {\n            margin: 1rem;\n            max-width: calc(100vw - 2rem);\n          }\n\n          .modal-header,\n          .modal-body {\n            padding: 1.5rem;\n          }\n\n          .email-actions {\n            flex-direction: column;\n          }\n        }\n      "}),(0,s.jsxs)("div",{className:"admin-events-container",children:[(0,s.jsxs)("header",{className:"admin-events-header",children:[(0,s.jsx)("h1",{className:"admin-events-title",children:"Event Management"}),(0,s.jsx)("p",{className:"admin-events-subtitle",children:"Create, edit, and manage your events"})]}),C.text&&(0,s.jsx)("div",{className:"message-alert message-".concat(C.type),children:C.text}),(0,s.jsx)("div",{className:"form-toggle-container",children:(0,s.jsxs)("button",{className:"form-toggle-btn",onClick:()=>v(!j),children:[j?"\u2716":"+",T?"Edit Event":"Create New Event"]})}),j&&(0,s.jsxs)("div",{className:"admin-events-form",children:[(0,s.jsx)("h2",{className:"form-title",children:T?"Edit Event":"Create New Event"}),(0,s.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),I.one_liner&&I.one_liner.length>150)F("error","One liner must be 150 characters or less");else{A(!0);try{const e=new FormData;for(let n in I)null!==I[n]&&("one_liner"===n?e.append(n,I[n]||""):("image"===n&&I[n]||"image"!==n&&""!==I[n])&&e.append(n,I[n]));console.log("Form data being sent:");for(let[n,t]of e.entries())console.log("".concat(n,":"),t);T?(await cn.A.put("".concat(Ge,"/events/").concat(T),e,{headers:{"Content-Type":"multipart/form-data"}}),F("success","Event updated successfully!")):(await cn.A.post("".concat(Ge,"/events"),e,{headers:{"Content-Type":"multipart/form-data"}}),F("success","Event created successfully!")),E({title:"",one_liner:"",description:"",country:"",location:"",start_date:"",end_date:"",image:null,is_paid:!1,price:"",currency:"USD"}),W(null),v(!1),P(),R()}catch(a){var n,t;console.error("Error submitting form:",a),null!==(n=a.response)&&void 0!==n&&null!==(t=n.data)&&void 0!==t&&t.error?F("error",a.response.data.error):F("error","Failed to save event. Please try again.")}finally{A(!1)}}},children:[(0,s.jsxs)("div",{className:"form-grid",children:[(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{className:"form-label",children:"Event Title *"}),(0,s.jsx)("input",{type:"text",name:"title",placeholder:"Enter event title",value:I.title,onChange:B,required:!0,className:"form-input",disabled:w})]}),(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{className:"form-label",children:"Country *"}),(0,s.jsxs)("select",{name:"country",value:I.country,onChange:B,required:!0,className:"form-select",disabled:w,children:[(0,s.jsx)("option",{value:"",children:"Select Country"}),o.map(e=>(0,s.jsx)("option",{value:e.name,children:e.name},e.id))]})]}),(0,s.jsxs)("div",{className:"form-group form-group-full",children:[(0,s.jsx)("label",{className:"form-label",children:"One Liner (Brief Description)"}),(0,s.jsx)("input",{type:"text",name:"one_liner",placeholder:"Brief, catchy description of your event (optional)",value:I.one_liner,onChange:B,maxLength:150,className:"form-input",disabled:w}),(0,s.jsxs)("div",{className:"character-counter ".concat(I.one_liner.length>120?"warning":""," ").concat(I.one_liner.length>=150?"error":""),children:[I.one_liner.length,"/150 characters"]})]}),(0,s.jsxs)("div",{className:"form-group form-group-full",children:[(0,s.jsx)("label",{className:"form-label",children:"Description"}),(0,s.jsx)("textarea",{name:"description",placeholder:"Enter detailed event description",value:I.description,onChange:B,className:"form-textarea",disabled:w})]}),(0,s.jsx)("div",{className:"form-group form-group-full",children:(0,s.jsxs)("div",{className:"checkbox-group",children:[(0,s.jsx)("input",{type:"checkbox",name:"is_paid",id:"is_paid",checked:I.is_paid,onChange:B,className:"checkbox-input",disabled:w}),(0,s.jsx)("label",{htmlFor:"is_paid",className:"checkbox-label",children:"This is a paid event"})]})}),I.is_paid&&(0,s.jsx)("div",{className:"form-group-full",children:(0,s.jsxs)("div",{className:"pricing-section",children:[(0,s.jsx)("h3",{className:"pricing-title",children:"Event Pricing"}),(0,s.jsxs)("div",{className:"pricing-grid",children:[(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{className:"form-label",children:"Price *"}),(0,s.jsx)("input",{type:"number",name:"price",placeholder:"Enter event price",value:I.price,onChange:B,required:I.is_paid,min:"0",step:"0.01",className:"form-input",disabled:w})]}),(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{className:"form-label",children:"Currency *"}),(0,s.jsxs)("select",{name:"currency",value:I.currency,onChange:B,required:I.is_paid,className:"form-select",disabled:w,children:[(0,s.jsx)("option",{value:"USD",children:"USD ($)"}),(0,s.jsx)("option",{value:"EUR",children:"EUR (\u20ac)"}),(0,s.jsx)("option",{value:"GBP",children:"GBP (\xa3)"}),(0,s.jsx)("option",{value:"KES",children:"KES (KSh)"}),(0,s.jsx)("option",{value:"UGX",children:"UGX (USh)"}),(0,s.jsx)("option",{value:"TZS",children:"TZS (TSh)"}),(0,s.jsx)("option",{value:"RWF",children:"RWF (RF)"})]})]})]})]})}),(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{className:"form-label",children:"Location"}),(0,s.jsx)("input",{type:"text",name:"location",placeholder:"Enter event location",value:I.location,onChange:B,className:"form-input",disabled:w})]}),(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{className:"form-label",children:"Start Date & Time *"}),(0,s.jsx)("input",{type:"datetime-local",name:"start_date",value:I.start_date,onChange:B,required:!0,className:"form-input",disabled:w})]}),(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{className:"form-label",children:"End Date & Time"}),(0,s.jsx)("input",{type:"datetime-local",name:"end_date",value:I.end_date,onChange:B,className:"form-input",disabled:w})]}),(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{className:"form-label",children:"Event Image"}),(0,s.jsx)("input",{type:"file",name:"image",accept:"image/*",onChange:B,className:"form-file",disabled:w}),I.image?(0,s.jsx)("img",{src:URL.createObjectURL(I.image),alt:"preview",className:"image-preview"}):T&&null!==(e=a.find(e=>e.id===T))&&void 0!==e&&e.image_url?(0,s.jsx)("img",{src:"".concat(Ve).concat(a.find(e=>e.id===T).image_url),alt:"current",className:"image-preview"}):null]})]}),(0,s.jsxs)("div",{className:"form-actions",children:[(0,s.jsxs)("button",{type:"submit",className:"btn btn-primary",disabled:w,children:[w&&(0,s.jsx)("div",{className:"loading-spinner"}),T?"Update Event":"Create Event"]}),(0,s.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:()=>{E({title:"",one_liner:"",description:"",country:"",location:"",start_date:"",end_date:"",image:null,is_paid:!1,price:"",currency:"USD"}),W(null),v(!1)},disabled:w,children:"Cancel"})]})]})]}),(0,s.jsxs)("div",{className:"events-table-container",children:[(0,s.jsx)("div",{className:"table-header",children:(0,s.jsxs)("h3",{className:"table-title",children:["All Events (",a.length,")"]})}),0===a.length?(0,s.jsx)("div",{className:"no-events",children:(0,s.jsx)("p",{children:"No events found. Create your first event above."})}):(0,s.jsxs)("table",{className:"events-table",children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{children:"Title"}),(0,s.jsx)("th",{children:"Country"}),(0,s.jsx)("th",{children:"Location"}),(0,s.jsx)("th",{children:"Price"}),(0,s.jsx)("th",{children:"Applicants"}),(0,s.jsx)("th",{children:"Start Date"}),(0,s.jsx)("th",{children:"End Date"}),(0,s.jsx)("th",{children:"Image"}),(0,s.jsx)("th",{children:"Actions"})]})}),(0,s.jsx)("tbody",{children:a.map(e=>{var n;return(0,s.jsxs)("tr",{children:[(0,s.jsxs)("td",{children:[(0,s.jsx)("div",{style:{fontWeight:"500",color:"#1e293b"},children:e.title}),e.one_liner&&(0,s.jsx)("div",{className:"one-liner-text",children:e.one_liner}),e.description&&(0,s.jsx)("div",{style:{fontSize:"0.75rem",color:"#64748b",marginTop:"0.25rem"},children:e.description.length>50?"".concat(e.description.substring(0,50),"..."):e.description})]}),(0,s.jsx)("td",{children:e.country&&(0,s.jsx)("span",{className:"country-badge",children:e.country})}),(0,s.jsx)("td",{children:e.location||"-"}),(0,s.jsx)("td",{children:e.is_paid?(0,s.jsxs)("span",{className:"price-badge",children:[e.currency," ",parseFloat(e.price).toFixed(2)]}):(0,s.jsx)("span",{className:"free-badge",children:"Free"})}),(0,s.jsx)("td",{children:(0,s.jsxs)("button",{onClick:()=>(e=>{const n=c[e.id]||[];f(e),x(n),g(!0)})(e),className:"applicants-btn",title:"View interested applicants",children:["\ud83d\udc65",(0,s.jsx)("span",{className:"applicants-count",children:(null===(n=c[e.id])||void 0===n?void 0:n.length)||0})]})}),(0,s.jsx)("td",{className:"date-text",children:new Date(e.start_date).toLocaleString()}),(0,s.jsx)("td",{className:"date-text",children:e.end_date?new Date(e.end_date).toLocaleString():"-"}),(0,s.jsx)("td",{children:e.image_url?(0,s.jsx)("img",{src:"".concat(Ve).concat(e.image_url),alt:"event",className:"event-image"}):(0,s.jsx)("div",{style:{width:"60px",height:"60px",backgroundColor:"#f3f4f6",borderRadius:"8px",display:"flex",alignItems:"center",justifyContent:"center",color:"#9ca3af",fontSize:"0.75rem"},children:"No image"})}),(0,s.jsx)("td",{children:(0,s.jsxs)("div",{className:"event-actions",children:[(0,s.jsx)("button",{onClick:()=>(e=>{E({title:e.title,one_liner:e.one_liner||"",description:e.description,country:e.country||"",location:e.location,start_date:e.start_date.slice(0,16),end_date:e.end_date?e.end_date.slice(0,16):"",image:null,is_paid:e.is_paid||!1,price:e.price||"",currency:e.currency||"USD"}),W(e.id),v(!0)})(e),className:"btn-edit",disabled:w,children:"Edit"}),(0,s.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this event?")){A(!0);try{await cn.A.delete("".concat(Ge,"/events/").concat(e)),F("success","Event deleted successfully!"),P(),R()}catch(n){console.error("Error deleting event:",n),F("error","Failed to delete event. Please try again.")}finally{A(!1)}}})(e.id),className:"btn-delete",disabled:w,children:"Delete"})]})})]},e.id)})})]})]}),u&&(0,s.jsx)("div",{className:"modal-overlay",onClick:D,children:(0,s.jsxs)("div",{className:"modal-content",onClick:e=>e.stopPropagation(),children:[(0,s.jsx)("button",{className:"modal-close",onClick:D,children:"\xd7"}),(0,s.jsxs)("div",{className:"modal-header",children:[(0,s.jsx)("h2",{className:"modal-title",children:"Event Applicants"}),(0,s.jsxs)("p",{className:"modal-subtitle",children:[null===h||void 0===h?void 0:h.title," \u2022 ",p.length," interested people"]})]}),(0,s.jsx)("div",{className:"modal-body",children:0===p.length?(0,s.jsxs)("div",{className:"no-interests",children:[(0,s.jsx)("h3",{className:"no-interests-title",children:"No applications yet"}),(0,s.jsx)("p",{children:"No one has expressed interest in this event yet."})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{style:{display:"flex",gap:"1rem",marginBottom:"1.5rem"},children:[(0,s.jsx)("button",{className:"export-btn",onClick:()=>{const e=["Name,Email,Phone,Message,Date Applied",...p.map(e=>'"'.concat(e.name,'","').concat(e.email,'","').concat(e.phone||"N/A",'","').concat(e.message||"N/A",'","').concat(M(e.created_at),'"'))].join("\n"),n=new Blob([e],{type:"text/csv;charset=utf-8;"}),t=document.createElement("a"),a=URL.createObjectURL(n);t.setAttribute("href",a),t.setAttribute("download","".concat(null===h||void 0===h?void 0:h.title.replace(/[^a-z0-9]/gi,"_").toLowerCase(),"_applicants.csv")),t.style.visibility="hidden",document.body.appendChild(t),t.click(),document.body.removeChild(t)},children:"\ud83d\udce5 Export to CSV"}),(0,s.jsx)("button",{className:"email-all-btn",onClick:()=>{_({subject:"Update regarding: ".concat(h.title),message:"",recipient:null,mode:"all"}),y(!0)},children:"\u2709\ufe0f Email All Applicants"})]}),(0,s.jsxs)("table",{className:"interests-table",children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{children:"Name"}),(0,s.jsx)("th",{children:"Contact"}),(0,s.jsx)("th",{children:"Message"}),(0,s.jsx)("th",{children:"Applied"}),(0,s.jsx)("th",{children:"Actions"})]})}),(0,s.jsx)("tbody",{children:p.map(e=>(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:(0,s.jsx)("div",{className:"interest-name",children:e.name})}),(0,s.jsxs)("td",{children:[(0,s.jsx)("div",{children:(0,s.jsx)("a",{href:"mailto:".concat(e.email),className:"interest-email",children:e.email})}),e.phone&&(0,s.jsxs)("div",{className:"interest-phone",children:["\ud83d\udcde ",e.phone]})]}),(0,s.jsx)("td",{children:(0,s.jsx)("div",{className:"interest-message",children:e.message||"No message provided"})}),(0,s.jsx)("td",{children:(0,s.jsx)("div",{className:"interest-date",children:M(e.created_at)})}),(0,s.jsxs)("td",{children:[(0,s.jsx)("button",{onClick:()=>{return n=e,_({subject:"Update regarding: ".concat(h.title),message:"",recipient:n,mode:"single"}),void y(!0);var n},className:"btn-email-single",title:"Email this applicant",children:"\u2709\ufe0f"}),(0,s.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this interest?"))try{await cn.A.delete("".concat(Ge,"/event-interests/").concat(e)),F("success","Application deleted successfully!"),R();const n=p.filter(n=>n.id!==e);x(n)}catch(n){console.error("Error deleting interest:",n),F("error","Failed to delete application. Please try again.")}})(e.id),className:"btn-delete-interest",title:"Delete this interest",children:"\ud83d\uddd1\ufe0f"})]})]},e.id))})]})]})})]})}),b&&(0,s.jsx)("div",{className:"modal-overlay",onClick:L,children:(0,s.jsxs)("div",{className:"modal-content",onClick:e=>e.stopPropagation(),children:[(0,s.jsx)("button",{className:"modal-close",onClick:L,children:"\xd7"}),(0,s.jsxs)("div",{className:"modal-header",children:[(0,s.jsx)("h2",{className:"modal-title",children:"single"===N.mode?"Email ".concat(null===(n=N.recipient)||void 0===n?void 0:n.name):"Email All Applicants"}),(0,s.jsx)("p",{className:"modal-subtitle",children:"single"===N.mode?"Send a personal message to ".concat(null===(t=N.recipient)||void 0===t?void 0:t.email):"Send message to ".concat(p.length,' applicants for "').concat(null===h||void 0===h?void 0:h.title,'"')})]}),(0,s.jsx)("div",{className:"modal-body",children:(0,s.jsxs)("div",{className:"email-form",children:[(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{className:"form-label",children:"Subject *"}),(0,s.jsx)("input",{type:"text",className:"form-input",value:N.subject,onChange:e=>_((0,m.A)((0,m.A)({},N),{},{subject:e.target.value})),placeholder:"Enter email subject",required:!0,disabled:k})]}),(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{className:"form-label",children:"Message *"}),(0,s.jsx)("textarea",{className:"form-textarea",value:N.message,onChange:e=>_((0,m.A)((0,m.A)({},N),{},{message:e.target.value})),placeholder:"Enter your message here...",required:!0,disabled:k})]}),(0,s.jsxs)("div",{className:"email-actions",children:[(0,s.jsxs)("button",{className:"btn btn-send",onClick:async()=>{if(N.subject.trim()&&N.message.trim()){S(!0);try{if("single"===N.mode&&N.recipient)await cn.A.post("".concat(Ge,"/event-interests/email-applicant"),{email:N.recipient.email,name:N.recipient.name,subject:N.subject,message:N.message}),F("success","Email sent successfully!");else if("all"===N.mode){const e=c[h.id]||[];if(0===e.length)return void F("error","No applicants to email");await cn.A.post("".concat(Ge,"/event-interests/email-applicants"),{applicants:e,subject:N.subject,message:N.message}),F("success","Email sent to ".concat(e.length," applicants successfully!"))}L()}catch(e){console.error("Email send error:",e),F("error","Failed to send email. Please try again.")}finally{S(!1)}}else F("error","Please fill in both subject and message")},disabled:k,children:[k&&(0,s.jsx)("div",{className:"loading-spinner"}),k?"Sending...":"single"===N.mode?"Send Email":"Send to ".concat(p.length," Recipients")]}),(0,s.jsx)("button",{className:"btn btn-cancel",onClick:L,disabled:k,children:"Cancel"})]})]})})]})})]})]})},sc=()=>{const[e,n]=(0,i.useState)([]),[t,a]=(0,i.useState)({}),[r,o]=(0,i.useState)([]),[l,c]=(0,i.useState)(!1),[d,p]=(0,i.useState)(null),[x,u]=(0,i.useState)([]),[g,h]=(0,i.useState)(""),[f,b]=(0,i.useState)(!1),[y,j]=(0,i.useState)(null),[v,w]=(0,i.useState)({subject:"",message:""}),[A,k]=(0,i.useState)(!1),[S,C]=(0,i.useState)(!1),[z,N]=(0,i.useState)([]),[_,I]=(0,i.useState)({title:"",level:"",location:"",description:"",requirements:"",salary:"",lastDate:"",createdBy:""}),[E,T]=(0,i.useState)(null),W=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success";const t=Date.now(),a={id:t,message:e,type:n};N(e=>[...e,a]),setTimeout(()=>{N(e=>e.filter(e=>e.id!==t))},5e3)},F=async()=>{try{const{data:e}=await cn.A.get("".concat(Ge,"/jobs"));n(e)}catch(e){console.error("Error fetching jobs:",e),W("Error fetching jobs","error")}},P=async()=>{try{const{data:e}=await cn.A.get("".concat(Ge,"/job-applications")),n=e.reduce((e,n)=>(e[n.jobId]||(e[n.jobId]=[]),e[n.jobId].push(n),e),{});a(n)}catch(e){console.error("Error fetching job applications:",e),W("Error fetching job applications","error")}};(0,i.useEffect)(()=>{F(),P()},[]);const R=e=>{const{name:n,value:t}=e.target;I((0,m.A)((0,m.A)({},_),{},{[n]:t}))},B=e=>{const{name:n,value:t}=e.target;w((0,m.A)((0,m.A)({},v),{},{[n]:t}))},D=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;j(e);const n=e?"Response to your ".concat(g," application"):"Update regarding your ".concat(g," application");w({subject:n,message:""}),b(!0)},L=()=>{c(!1),o([]),h(""),p(null)},M=()=>{b(!1),w({subject:"",message:""}),j(null)},H=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("style",{children:"\n        .admin-jobs-container {\n          max-width: 1200px;\n          margin: 0 auto;\n          padding: 2rem;\n          font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;\n          background-color: #f8fafc;\n          min-height: 100vh;\n          position: relative;\n        }\n\n        .admin-jobs-header {\n          margin-bottom: 2rem;\n        }\n\n        .admin-jobs-title {\n          font-size: 2rem;\n          font-weight: 700;\n          color: #1e293b;\n          margin: 0 0 0.5rem 0;\n        }\n\n        .admin-jobs-subtitle {\n          color: #64748b;\n          font-size: 1rem;\n        }\n\n        .form-toggle-section {\n          margin-bottom: 2rem;\n        }\n\n        .form-toggle-btn {\n          background: linear-gradient(135deg, #3b82f6, #1d4ed8);\n          color: white;\n          border: none;\n          padding: 1rem 2rem;\n          border-radius: 12px;\n          font-size: 1rem;\n          font-weight: 600;\n          cursor: pointer;\n          transition: all 0.3s ease;\n          display: flex;\n          align-items: center;\n          gap: 0.75rem;\n          box-shadow: 0 4px 15px rgba(59, 130, 246, 0.3);\n        }\n\n        .form-toggle-btn:hover {\n          transform: translateY(-2px);\n          box-shadow: 0 8px 25px rgba(59, 130, 246, 0.4);\n        }\n\n        .form-toggle-btn:active {\n          transform: translateY(0);\n        }\n\n        .form-toggle-icon {\n          transition: transform 0.3s ease;\n          font-size: 1.2rem;\n        }\n\n        .form-toggle-btn.active .form-toggle-icon {\n          transform: rotate(180deg);\n        }\n\n        .admin-jobs-form {\n          background: white;\n          border-radius: 12px;\n          padding: 2rem;\n          box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1);\n          margin-bottom: 2rem;\n          border: 1px solid #e2e8f0;\n          overflow: hidden;\n          transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);\n          transform-origin: top;\n        }\n\n        .form-collapsible {\n          opacity: 0;\n          max-height: 0;\n          transform: scaleY(0);\n          transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);\n        }\n\n        .form-collapsible.show {\n          opacity: 1;\n          max-height: 2000px;\n          transform: scaleY(1);\n        }\n\n        .form-title {\n          font-size: 1.25rem;\n          font-weight: 600;\n          color: #334155;\n          margin: 0 0 1.5rem 0;\n        }\n\n        .form-grid {\n          display: grid;\n          grid-template-columns: 1fr 1fr;\n          gap: 1rem;\n          margin-bottom: 1rem;\n        }\n\n        .form-group-full {\n          grid-column: 1 / -1;\n        }\n\n        .form-group {\n          display: flex;\n          flex-direction: column;\n        }\n\n        .form-label {\n          font-weight: 500;\n          color: #374151;\n          margin-bottom: 0.5rem;\n          font-size: 0.875rem;\n        }\n\n        .form-input,\n        .form-select,\n        .form-textarea {\n          padding: 0.75rem;\n          border: 1px solid #d1d5db;\n          border-radius: 8px;\n          font-size: 1rem;\n          transition: all 0.2s ease;\n          outline: none;\n        }\n\n        .form-input:focus,\n        .form-select:focus,\n        .form-textarea:focus {\n          border-color: #3b82f6;\n          box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);\n        }\n\n        .form-textarea {\n          min-height: 120px;\n          resize: vertical;\n          font-family: inherit;\n        }\n\n        .form-actions {\n          display: flex;\n          gap: 1rem;\n          margin-top: 1.5rem;\n        }\n\n        .btn {\n          padding: 0.75rem 1.5rem;\n          border: none;\n          border-radius: 8px;\n          font-weight: 500;\n          cursor: pointer;\n          transition: all 0.2s ease;\n          font-size: 0.875rem;\n          display: flex;\n          align-items: center;\n          gap: 0.5rem;\n        }\n\n        .btn:disabled {\n          opacity: 0.5;\n          cursor: not-allowed;\n        }\n\n        .btn-primary {\n          background-color: #3b82f6;\n          color: white;\n        }\n\n        .btn-primary:hover:not(:disabled) {\n          background-color: #2563eb;\n          transform: translateY(-1px);\n        }\n\n        .btn-secondary {\n          background-color: #6b7280;\n          color: white;\n        }\n\n        .btn-secondary:hover {\n          background-color: #4b5563;\n        }\n\n        .btn-success {\n          background-color: #10b981;\n          color: white;\n        }\n\n        .btn-success:hover:not(:disabled) {\n          background-color: #059669;\n          transform: translateY(-1px);\n        }\n\n        .jobs-table-container {\n          background: white;\n          border-radius: 12px;\n          overflow: hidden;\n          box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1);\n          border: 1px solid #e2e8f0;\n        }\n\n        .table-header {\n          padding: 1.5rem 2rem;\n          border-bottom: 1px solid #e5e7eb;\n        }\n\n        .table-title {\n          font-size: 1.25rem;\n          font-weight: 600;\n          color: #334155;\n          margin: 0;\n        }\n\n        .jobs-table {\n          width: 100%;\n          border-collapse: collapse;\n          font-size: 0.875rem;\n        }\n\n        .jobs-table th {\n          background-color: #f8fafc;\n          color: #374151;\n          font-weight: 600;\n          padding: 1rem;\n          text-align: left;\n          border-bottom: 1px solid #e5e7eb;\n          font-size: 0.75rem;\n          text-transform: uppercase;\n          letter-spacing: 0.05em;\n        }\n\n        .jobs-table td {\n          padding: 1rem;\n          border-bottom: 1px solid #f1f5f9;\n          vertical-align: middle;\n        }\n\n        .jobs-table tr:hover {\n          background-color: #f8fafc;\n        }\n\n        .job-actions {\n          display: flex;\n          gap: 0.5rem;\n        }\n\n        .btn-edit {\n          background-color: #f59e0b;\n          color: white;\n          padding: 0.5rem 1rem;\n          border: none;\n          border-radius: 6px;\n          font-size: 0.75rem;\n          cursor: pointer;\n          transition: all 0.2s ease;\n          font-weight: 500;\n        }\n\n        .btn-edit:hover {\n          background-color: #d97706;\n          transform: translateY(-1px);\n        }\n\n        .btn-delete {\n          background-color: #dc2626;\n          color: white;\n          padding: 0.5rem 1rem;\n          border: none;\n          border-radius: 6px;\n          font-size: 0.75rem;\n          cursor: pointer;\n          transition: all 0.2s ease;\n          font-weight: 500;\n        }\n\n        .btn-delete:hover {\n          background-color: #b91c1c;\n          transform: translateY(-1px);\n        }\n\n        .date-text {\n          color: #6b7280;\n          font-size: 0.875rem;\n        }\n\n        .level-badge {\n          display: inline-block;\n          padding: 0.25rem 0.75rem;\n          background-color: #e0f2fe;\n          color: #0369a1;\n          border-radius: 20px;\n          font-size: 0.75rem;\n          font-weight: 500;\n        }\n\n        .salary-text {\n          font-weight: 600;\n          color: #059669;\n        }\n\n        .deadline-badge {\n          display: inline-block;\n          padding: 0.25rem 0.75rem;\n          border-radius: 20px;\n          font-size: 0.75rem;\n          font-weight: 500;\n        }\n\n        .deadline-active {\n          background-color: #dcfce7;\n          color: #166534;\n        }\n\n        .deadline-expired {\n          background-color: #fef2f2;\n          color: #dc2626;\n        }\n\n        .applications-btn {\n          background-color: #8b5cf6;\n          color: white;\n          padding: 0.5rem 1rem;\n          border: none;\n          border-radius: 6px;\n          font-size: 0.75rem;\n          cursor: pointer;\n          transition: all 0.2s ease;\n          font-weight: 500;\n          display: flex;\n          align-items: center;\n          gap: 0.5rem;\n          position: relative;\n        }\n\n        .applications-btn:hover {\n          background-color: #7c3aed;\n          transform: translateY(-1px);\n        }\n\n        .applications-count {\n          background-color: rgba(255, 255, 255, 0.2);\n          border-radius: 10px;\n          padding: 0.125rem 0.375rem;\n          font-size: 0.625rem;\n          font-weight: 600;\n        }\n\n        .modal-overlay {\n          position: fixed;\n          top: 0;\n          left: 0;\n          right: 0;\n          bottom: 0;\n          background-color: rgba(0, 0, 0, 0.75);\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          z-index: 1000;\n          padding: 1rem;\n        }\n\n        .modal-content {\n          background: white;\n          border-radius: 20px;\n          width: 100%;\n          max-width: 1000px;\n          max-height: 90vh;\n          overflow-y: auto;\n          position: relative;\n          animation: modalSlideIn 0.3s ease;\n        }\n\n        .modal-content.email-modal {\n          max-width: 600px;\n        }\n\n        @keyframes modalSlideIn {\n          from {\n            opacity: 0;\n            transform: scale(0.9) translateY(-50px);\n          }\n          to {\n            opacity: 1;\n            transform: scale(1) translateY(0);\n          }\n        }\n\n        .modal-header {\n          padding: 2rem 2rem 1rem 2rem;\n          border-bottom: 1px solid #e5e7eb;\n        }\n\n        .modal-title {\n          font-size: 1.5rem;\n          font-weight: 700;\n          color: #1e293b;\n          margin: 0 0 0.5rem 0;\n        }\n\n        .modal-subtitle {\n          color: #64748b;\n          margin: 0;\n        }\n\n        .modal-close {\n          position: absolute;\n          top: 1rem;\n          right: 1rem;\n          background: none;\n          border: none;\n          font-size: 1.5rem;\n          cursor: pointer;\n          color: #64748b;\n          width: 2rem;\n          height: 2rem;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          border-radius: 50%;\n          transition: all 0.2s ease;\n        }\n\n        .modal-close:hover {\n          background-color: #f1f5f9;\n          color: #374151;\n        }\n\n        .modal-body {\n          padding: 2rem;\n        }\n\n        .applications-table {\n          width: 100%;\n          border-collapse: collapse;\n          font-size: 0.875rem;\n        }\n\n        .applications-table th {\n          background-color: #f8fafc;\n          color: #374151;\n          font-weight: 600;\n          padding: 1rem;\n          text-align: left;\n          border-bottom: 1px solid #e5e7eb;\n          font-size: 0.75rem;\n          text-transform: uppercase;\n          letter-spacing: 0.05em;\n        }\n\n        .applications-table td {\n          padding: 1rem;\n          border-bottom: 1px solid #f1f5f9;\n          vertical-align: top;\n        }\n\n        .applications-table tr:hover {\n          background-color: #f8fafc;\n        }\n\n        .applicant-name {\n          font-weight: 600;\n          color: #1e293b;\n        }\n\n        .applicant-email {\n          color: #3b82f6;\n          text-decoration: none;\n        }\n\n        .applicant-email:hover {\n          text-decoration: underline;\n        }\n\n        .applicant-phone {\n          color: #6b7280;\n          font-size: 0.875rem;\n        }\n\n        .applicant-message {\n          color: #374151;\n          font-style: italic;\n          max-width: 200px;\n          word-wrap: break-word;\n        }\n\n        .application-date {\n          color: #6b7280;\n          font-size: 0.75rem;\n        }\n\n        .btn-delete-application {\n          background-color: #dc2626;\n          color: white;\n          padding: 0.375rem 0.75rem;\n          border: none;\n          border-radius: 4px;\n          font-size: 0.75rem;\n          cursor: pointer;\n          transition: all 0.2s ease;\n          font-weight: 500;\n        }\n\n        .btn-delete-application:hover {\n          background-color: #b91c1c;\n          transform: translateY(-1px);\n        }\n\n        .btn-email {\n          background-color: #10b981;\n          color: white;\n          padding: 0.375rem 0.75rem;\n          border: none;\n          border-radius: 4px;\n          font-size: 0.75rem;\n          cursor: pointer;\n          transition: all 0.2s ease;\n          font-weight: 500;\n          margin-right: 0.5rem;\n        }\n\n        .btn-email:hover {\n          background-color: #059669;\n          transform: translateY(-1px);\n        }\n\n        .email-actions {\n          display: flex;\n          gap: 1rem;\n          margin-bottom: 1.5rem;\n          flex-wrap: wrap;\n        }\n\n        .no-applications {\n          text-align: center;\n          padding: 3rem 2rem;\n          color: #6b7280;\n        }\n\n        .no-applications-title {\n          font-size: 1.125rem;\n          font-weight: 600;\n          margin: 0 0 0.5rem 0;\n        }\n\n        .export-btn {\n          background-color: #059669;\n          color: white;\n          padding: 0.75rem 1.5rem;\n          border: none;\n          border-radius: 8px;\n          font-size: 0.875rem;\n          cursor: pointer;\n          transition: all 0.2s ease;\n          font-weight: 500;\n          margin-bottom: 1.5rem;\n        }\n\n        .export-btn:hover {\n          background-color: #047857;\n          transform: translateY(-1px);\n        }\n\n        .no-jobs {\n          text-align: center;\n          padding: 3rem;\n          color: #6b7280;\n        }\n\n        .resume-link {\n          color: #3b82f6;\n          text-decoration: none;\n          font-weight: 500;\n          display: inline-flex;\n          align-items: center;\n          gap: 0.25rem;\n        }\n\n        .resume-link:hover {\n          text-decoration: underline;\n        }\n\n        .email-form {\n          display: flex;\n          flex-direction: column;\n          gap: 1rem;\n        }\n\n        .loading-spinner {\n          display: inline-block;\n          width: 1rem;\n          height: 1rem;\n          border: 2px solid rgba(255, 255, 255, 0.3);\n          border-radius: 50%;\n          border-top: 2px solid white;\n          animation: spin 1s linear infinite;\n        }\n\n        @keyframes spin {\n          0% { transform: rotate(0deg); }\n          100% { transform: rotate(360deg); }\n        }\n\n        .application-actions {\n          display: flex;\n          gap: 0.5rem;\n          align-items: center;\n        }\n\n        /* Notification System Styles */\n        .notifications-container {\n          position: fixed;\n          top: 2rem;\n          right: 2rem;\n          z-index: 2000;\n          max-width: 400px;\n          pointer-events: none;\n        }\n\n        .notification {\n          background: white;\n          border-radius: 12px;\n          padding: 1rem 1.5rem;\n          margin-bottom: 0.75rem;\n          box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);\n          border-left: 4px solid;\n          display: flex;\n          align-items: center;\n          justify-content: space-between;\n          pointer-events: all;\n          animation: slideInRight 0.3s ease;\n          transition: all 0.3s ease;\n        }\n\n        .notification.success {\n          border-left-color: #10b981;\n        }\n\n        .notification.error {\n          border-left-color: #dc2626;\n        }\n\n        .notification-content {\n          display: flex;\n          align-items: center;\n          gap: 0.75rem;\n          flex: 1;\n        }\n\n        .notification-icon {\n          font-size: 1.25rem;\n          flex-shrink: 0;\n        }\n\n        .notification.success .notification-icon {\n          color: #10b981;\n        }\n\n        .notification.error .notification-icon {\n          color: #dc2626;\n        }\n\n        .notification-message {\n          color: #374151;\n          font-weight: 500;\n          font-size: 0.875rem;\n          line-height: 1.4;\n        }\n\n        .notification-close {\n          background: none;\n          border: none;\n          color: #6b7280;\n          cursor: pointer;\n          padding: 0.25rem;\n          border-radius: 4px;\n          transition: all 0.2s ease;\n          margin-left: 1rem;\n          flex-shrink: 0;\n        }\n\n        .notification-close:hover {\n          background-color: #f3f4f6;\n          color: #374151;\n        }\n\n        @keyframes slideInRight {\n          from {\n            opacity: 0;\n            transform: translateX(100%);\n          }\n          to {\n            opacity: 1;\n            transform: translateX(0);\n          }\n        }\n\n        @media (max-width: 768px) {\n          .admin-jobs-container {\n            padding: 1rem;\n          }\n\n          .form-grid {\n            grid-template-columns: 1fr;\n          }\n\n          .jobs-table-container {\n            overflow-x: auto;\n          }\n\n          .jobs-table {\n            min-width: 1000px;\n          }\n\n          .job-actions {\n            flex-direction: column;\n          }\n\n          .modal-content {\n            margin: 1rem;\n            max-width: calc(100vw - 2rem);\n          }\n\n          .modal-header,\n          .modal-body {\n            padding: 1.5rem;\n          }\n\n          .email-actions {\n            flex-direction: column;\n          }\n\n          .application-actions {\n            flex-direction: column;\n          }\n\n          .notifications-container {\n            top: 1rem;\n            right: 1rem;\n            left: 1rem;\n            max-width: none;\n          }\n\n          .notification {\n            margin-bottom: 0.5rem;\n          }\n        }\n      "}),(0,s.jsx)("div",{className:"notifications-container",children:z.map(e=>(0,s.jsxs)("div",{className:"notification ".concat(e.type),children:[(0,s.jsxs)("div",{className:"notification-content",children:[(0,s.jsx)("div",{className:"notification-icon",children:"success"===e.type?"\u2705":"\u274c"}),(0,s.jsx)("div",{className:"notification-message",children:e.message})]}),(0,s.jsx)("button",{className:"notification-close",onClick:()=>{return n=e.id,void N(e=>e.filter(e=>e.id!==n));var n},children:"\xd7"})]},e.id))}),(0,s.jsxs)("div",{className:"admin-jobs-container",children:[(0,s.jsxs)("header",{className:"admin-jobs-header",children:[(0,s.jsx)("h1",{className:"admin-jobs-title",children:"Job Management"}),(0,s.jsx)("p",{className:"admin-jobs-subtitle",children:"Create, edit, and manage job postings"})]}),(0,s.jsx)("div",{className:"form-toggle-section",children:(0,s.jsxs)("button",{className:"form-toggle-btn ".concat(S?"active":""),onClick:()=>C(!S),children:[(0,s.jsx)("span",{className:"form-toggle-icon",children:"\u2b07"}),E?"Edit Job":"Create New Job"]})}),(0,s.jsx)("div",{className:"form-collapsible ".concat(S?"show":""),children:(0,s.jsxs)("div",{className:"admin-jobs-form",children:[(0,s.jsx)("h2",{className:"form-title",children:E?"Edit Job":"Create New Job"}),(0,s.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{const e=(0,m.A)((0,m.A)({},_),{},{lastDate:_.lastDate?new Date(_.lastDate).toISOString():null});E?(await cn.A.put("".concat(Ge,"/jobs/").concat(E),e),W("Job updated successfully!")):(await cn.A.post("".concat(Ge,"/jobs"),e),W("Job created successfully!")),I({title:"",level:"",location:"",description:"",requirements:"",salary:"",lastDate:"",createdBy:""}),T(null),C(!1),F(),P()}catch(n){console.error("Error submitting form:",n),W("Error saving job. Please try again.","error")}},children:[(0,s.jsxs)("div",{className:"form-grid",children:[(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{className:"form-label",children:"Job Title *"}),(0,s.jsx)("input",{type:"text",name:"title",placeholder:"Enter job title",value:_.title,onChange:R,required:!0,className:"form-input"})]}),(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{className:"form-label",children:"Level *"}),(0,s.jsxs)("select",{name:"level",value:_.level,onChange:R,required:!0,className:"form-select",children:[(0,s.jsx)("option",{value:"",children:"Select Level"}),["Entry Level","Junior","Mid Level","Senior","Lead","Manager","Director","Executive"].map(e=>(0,s.jsx)("option",{value:e,children:e},e))]})]}),(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{className:"form-label",children:"Location *"}),(0,s.jsx)("input",{type:"text",name:"location",placeholder:"Enter job location",value:_.location,onChange:R,required:!0,className:"form-input"})]}),(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{className:"form-label",children:"Salary"}),(0,s.jsx)("input",{type:"text",name:"salary",placeholder:"e.g., $50,000 - $70,000",value:_.salary,onChange:R,className:"form-input"})]}),(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{className:"form-label",children:"Application Deadline"}),(0,s.jsx)("input",{type:"datetime-local",name:"lastDate",value:_.lastDate,onChange:R,className:"form-input"})]}),(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{className:"form-label",children:"Created By"}),(0,s.jsx)("input",{type:"text",name:"createdBy",placeholder:"HR Manager, John Doe, etc.",value:_.createdBy,onChange:R,className:"form-input"})]}),(0,s.jsxs)("div",{className:"form-group form-group-full",children:[(0,s.jsx)("label",{className:"form-label",children:"Job Description *"}),(0,s.jsx)("textarea",{name:"description",placeholder:"Enter detailed job description...",value:_.description,onChange:R,required:!0,className:"form-textarea"})]}),(0,s.jsxs)("div",{className:"form-group form-group-full",children:[(0,s.jsx)("label",{className:"form-label",children:"Requirements *"}),(0,s.jsx)("textarea",{name:"requirements",placeholder:"Enter job requirements and qualifications...",value:_.requirements,onChange:R,required:!0,className:"form-textarea"})]})]}),(0,s.jsxs)("div",{className:"form-actions",children:[(0,s.jsx)("button",{type:"submit",className:"btn btn-primary",children:E?"Update Job":"Create Job"}),(0,s.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:()=>{I({title:"",level:"",location:"",description:"",requirements:"",salary:"",lastDate:"",createdBy:""}),T(null),C(!1)},children:E?"Cancel Edit":"Cancel"})]})]})]})}),(0,s.jsxs)("div",{className:"jobs-table-container",children:[(0,s.jsx)("div",{className:"table-header",children:(0,s.jsxs)("h3",{className:"table-title",children:["All Jobs (",e.length,")"]})}),0===e.length?(0,s.jsx)("div",{className:"no-jobs",children:(0,s.jsx)("p",{children:"No jobs found. Create your first job posting above."})}):(0,s.jsxs)("table",{className:"jobs-table",children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{children:"Title"}),(0,s.jsx)("th",{children:"Level"}),(0,s.jsx)("th",{children:"Location"}),(0,s.jsx)("th",{children:"Salary"}),(0,s.jsx)("th",{children:"Applications"}),(0,s.jsx)("th",{children:"Deadline"}),(0,s.jsx)("th",{children:"Created By"}),(0,s.jsx)("th",{children:"Actions"})]})}),(0,s.jsx)("tbody",{children:e.map(e=>{var n,a;return(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:e.title}),(0,s.jsx)("td",{children:(0,s.jsx)("span",{className:"level-badge",children:e.level})}),(0,s.jsx)("td",{children:e.location}),(0,s.jsx)("td",{children:e.salary?(0,s.jsx)("span",{className:"salary-text",children:e.salary}):(0,s.jsx)("span",{style:{color:"#6b7280"},children:"Not specified"})}),(0,s.jsx)("td",{children:(0,s.jsxs)("button",{onClick:()=>(e=>{const n=t[e.id]||[];o(n),h(e.title),p(e),c(!0)})(e),className:"applications-btn",title:"View job applications",children:["\ud83d\udcc4",(0,s.jsx)("span",{className:"applications-count",children:(null===(n=t[e.id])||void 0===n?void 0:n.length)||0})]})}),(0,s.jsx)("td",{children:e.lastDate?(0,s.jsx)("span",{className:"deadline-badge ".concat((a=e.lastDate,a&&new Date(a)<new Date?"deadline-expired":"deadline-active")),children:H(e.lastDate)}):(0,s.jsx)("span",{style:{color:"#6b7280"},children:"No deadline"})}),(0,s.jsx)("td",{className:"date-text",children:e.createdBy||"Unknown"}),(0,s.jsx)("td",{children:(0,s.jsxs)("div",{className:"job-actions",children:[(0,s.jsx)("button",{onClick:()=>(e=>{I({title:e.title,level:e.level,location:e.location,description:e.description,requirements:e.requirements,salary:e.salary||"",lastDate:e.lastDate?e.lastDate.slice(0,16):"",createdBy:e.createdBy}),T(e.id),C(!0)})(e),className:"btn-edit",children:"Edit"}),(0,s.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this job?"))try{await cn.A.delete("".concat(Ge,"/jobs/").concat(e)),W("Job deleted successfully!"),F(),P()}catch(n){console.error("Error deleting job:",n),W("Error deleting job. Please try again.","error")}})(e.id),className:"btn-delete",children:"Delete"})]})})]},e.id)})})]})]}),l&&(0,s.jsx)("div",{className:"modal-overlay",onClick:L,children:(0,s.jsxs)("div",{className:"modal-content",onClick:e=>e.stopPropagation(),children:[(0,s.jsx)("button",{className:"modal-close",onClick:L,children:"\xd7"}),(0,s.jsxs)("div",{className:"modal-header",children:[(0,s.jsx)("h2",{className:"modal-title",children:"Job Applications"}),(0,s.jsxs)("p",{className:"modal-subtitle",children:[g," \u2022 ",r.length," applications"]})]}),(0,s.jsx)("div",{className:"modal-body",children:0===r.length?(0,s.jsxs)("div",{className:"no-applications",children:[(0,s.jsx)("h3",{className:"no-applications-title",children:"No applications yet"}),(0,s.jsx)("p",{children:"No one has applied for this job yet."})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"email-actions",children:[(0,s.jsxs)("button",{className:"btn btn-success",onClick:()=>D(),children:["\u2709\ufe0f Email All Applicants (",r.length,")"]}),(0,s.jsx)("button",{className:"export-btn",onClick:()=>{const e=["Name,Email,Phone,Cover Letter,Resume,Applied Date",...r.map(e=>'"'.concat(e.name,'","').concat(e.email,'","').concat(e.phone||"N/A",'","').concat(e.coverLetter||"N/A",'","').concat(e.resumeUrl||"N/A",'","').concat(H(e.createdAt),'"'))].join("\n"),n=new Blob([e],{type:"text/csv;charset=utf-8;"}),t=document.createElement("a"),a=URL.createObjectURL(n);t.setAttribute("href",a),t.setAttribute("download","".concat(g.replace(/[^a-z0-9]/gi,"_").toLowerCase(),"_applications.csv")),t.style.visibility="hidden",document.body.appendChild(t),t.click(),document.body.removeChild(t)},children:"\ud83d\udce5 Export to CSV"})]}),(0,s.jsxs)("table",{className:"applications-table",children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{children:"Applicant"}),(0,s.jsx)("th",{children:"Contact"}),(0,s.jsx)("th",{children:"Cover Letter"}),(0,s.jsx)("th",{children:"Resume"}),(0,s.jsx)("th",{children:"Applied"}),(0,s.jsx)("th",{children:"Actions"})]})}),(0,s.jsx)("tbody",{children:r.map(e=>(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:(0,s.jsx)("div",{className:"applicant-name",children:e.name})}),(0,s.jsxs)("td",{children:[(0,s.jsx)("div",{children:(0,s.jsx)("a",{href:"mailto:".concat(e.email),className:"applicant-email",children:e.email})}),e.phone&&(0,s.jsx)("div",{className:"applicant-phone",children:e.phone})]}),(0,s.jsx)("td",{children:(0,s.jsx)("div",{className:"applicant-message",children:e.coverLetter||"No cover letter provided"})}),(0,s.jsx)("td",{children:e.cvPath?(0,s.jsx)("a",{href:e.cvPath,target:"_blank",rel:"noopener noreferrer",className:"resume-link",children:"\ud83d\udcc4 View Resume"}):(0,s.jsx)("span",{style:{color:"#6b7280"},children:"No resume"})}),(0,s.jsx)("td",{children:(0,s.jsx)("div",{className:"application-date",children:H(e.createdAt)})}),(0,s.jsx)("td",{children:(0,s.jsxs)("div",{className:"application-actions",children:[(0,s.jsx)("button",{onClick:()=>D(e),className:"btn-email",title:"Send email to this applicant",children:"\u2709\ufe0f Email"}),(0,s.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this application?"))try{await cn.A.delete("".concat(Ge,"/job-applications/").concat(e)),W("Application deleted successfully!"),P();const n=r.filter(n=>n.id!==e);o(n)}catch(n){console.error("Error deleting application:",n),W("Error deleting application. Please try again.","error")}})(e.id),className:"btn-delete-application",title:"Delete this application",children:"Delete"})]})})]},e.id))})]})]})})]})}),f&&(0,s.jsx)("div",{className:"modal-overlay",onClick:M,children:(0,s.jsxs)("div",{className:"modal-content email-modal",onClick:e=>e.stopPropagation(),children:[(0,s.jsx)("button",{className:"modal-close",onClick:M,children:"\xd7"}),(0,s.jsxs)("div",{className:"modal-header",children:[(0,s.jsx)("h2",{className:"modal-title",children:"Send Email"}),(0,s.jsx)("p",{className:"modal-subtitle",children:y?"To: ".concat(y.name," (").concat(y.email,")"):"To: All applicants for ".concat(g," (").concat(r.length," recipients)")})]}),(0,s.jsx)("div",{className:"modal-body",children:(0,s.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),k(!0);try{if(y)await cn.A.post("".concat(Ge,"/job-applications/reply"),{applicantEmail:y.email,applicantName:y.name,jobTitle:g,message:v.message,subject:v.subject}),W("Email sent successfully to ".concat(y.name,"!"));else{const e=r.map(e=>cn.A.post("".concat(Ge,"/job-applications/reply"),{applicantEmail:e.email,applicantName:e.name,jobTitle:g,message:v.message,subject:v.subject}));await Promise.all(e),W("Email sent successfully to all ".concat(r.length," applicants!"))}b(!1),w({subject:"",message:""}),j(null)}catch(n){console.error("Error sending email:",n),W("Failed to send email. Please try again.","error")}finally{k(!1)}},className:"email-form",children:[(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{className:"form-label",children:"Subject *"}),(0,s.jsx)("input",{type:"text",name:"subject",value:v.subject,onChange:B,required:!0,className:"form-input",placeholder:"Enter email subject"})]}),(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{className:"form-label",children:"Message *"}),(0,s.jsx)("textarea",{name:"message",value:v.message,onChange:B,required:!0,className:"form-textarea",placeholder:y?"Write your message to ".concat(y.name,"..."):"Write your message to all applicants...",rows:"8"})]}),(0,s.jsxs)("div",{className:"form-actions",children:[(0,s.jsx)("button",{type:"submit",className:"btn btn-primary",disabled:A,children:A?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("span",{className:"loading-spinner"}),"Sending..."]}):(0,s.jsx)(s.Fragment,{children:"\u2709\ufe0f Send Email"})}),(0,s.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:M,disabled:A,children:"Cancel"})]})]})})]})})]})]})};var lc=t(7719),cc=t(4596),dc=t(4669);const pc=e=>{let{API_BASE:n="http://localhost:5000/api"}=e;const[t,a]=(0,i.useState)([]),[r,o]=(0,i.useState)([]),[l,c]=(0,i.useState)(!1),[d,p]=(0,i.useState)(null),[x,u]=(0,i.useState)(""),[g,h]=(0,i.useState)("all"),[f,b]=(0,i.useState)(null),[y,j]=(0,i.useState)(!1),[v,w]=(0,i.useState)(!1),[A,k]=(0,i.useState)({total:0,thisMonth:0,pendingReview:0,overdue:0}),[S,C]=(0,i.useState)({contactType:"email",subject:"",message:"",contactMethod:""}),[z,N]=(0,i.useState)({status:"",priority:"",assignedTo:"",adminNotes:"",followUpDate:""}),[_,I]=(0,i.useState)({page:1,limit:20,total:0,pages:0}),E=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info";const t=document.createElement("div"),a={success:{bg:"#10b981",text:"#ffffff"},error:{bg:"#ef4444",text:"#ffffff"},info:{bg:"#3b82f6",text:"#ffffff"},warning:{bg:"#f59e0b",text:"#ffffff"}},r=a[n]||a.info;t.style.cssText="\n      position: fixed;\n      top: 20px;\n      right: 20px;\n      background: ".concat(r.bg,";\n      color: ").concat(r.text,";\n      padding: 16px 24px;\n      border-radius: 12px;\n      box-shadow: 0 10px 25px rgba(0,0,0,0.15);\n      z-index: 10000;\n      font-family: 'Inter', 'Arial', sans-serif;\n      font-size: 14px;\n      font-weight: 500;\n      max-width: 450px;\n      word-wrap: break-word;\n      transform: translateX(100%);\n      transition: transform 0.3s ease;\n    "),t.textContent=e,document.body.appendChild(t),setTimeout(()=>{t.style.transform="translateX(0)"},10),setTimeout(()=>{t.parentNode&&(t.style.transform="translateX(100%)",setTimeout(()=>{t.parentNode&&t.parentNode.removeChild(t)},300))},5e3)},T=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;c(!0),p(null);try{const i=new URLSearchParams({page:e.toString(),limit:_.limit.toString()});"all"!==g&&i.append("status",g),x.trim()&&i.append("search",x.trim()),console.log("Fetching from:","".concat(n,"/collaboration/admin/all?").concat(i));const s=await fetch("".concat(n,"/collaboration/admin/all?").concat(i),{method:"GET",credentials:"omit",headers:{Accept:"application/json","Content-Type":"application/json"}});if(console.log("Response status:",s.status),!s.ok){const e=await s.text();throw console.error("HTTP error response:",e),new Error("Server returned ".concat(s.status,": ").concat(s.statusText))}const l=s.headers.get("content-type");if(!l||!l.includes("application/json")){const e=await s.text();throw console.error("Non-JSON response:",e),new Error("Server did not return JSON data")}const c=await s.json();if(console.log("Received data:",c),!c.success)throw new Error(c.message||"API returned success: false");{var t,r;const e=(null===(t=c.data)||void 0===t?void 0:t.reports)||[],n=(null===(r=c.data)||void 0===r?void 0:r.pagination)||{page:1,limit:20,total:e.length,pages:Math.ceil(e.length/20)};a(e),o(e),I(n);const i=(e=>{const n=new Date,t=n.getMonth(),a=n.getFullYear(),r=e.filter(e=>{const n=new Date(e.created_at);return n.getMonth()===t&&n.getFullYear()===a}).length,o=e.filter(e=>"new"===e.status||"under_review"===e.status).length,i=e.filter(e=>!!e.follow_up_date&&(new Date(e.follow_up_date)<n&&"completed"!==e.status&&"declined"!==e.status)).length;return{total:e.length,thisMonth:r,pendingReview:o,overdue:i}})(e);k(i),0===e.length&&console.log("No reports found")}}catch(d){console.error("Error fetching collaboration reports:",d),p(d.message),E("Failed to fetch reports: ".concat(d.message),"error"),a([]),o([]),I({page:1,limit:20,total:0,pages:0}),k({total:0,thisMonth:0,pendingReview:0,overdue:0})}finally{c(!1)}},W=async e=>{try{console.log("Loading report details for ID:",e);const t=await fetch("".concat(n,"/collaboration/admin/").concat(e),{method:"GET",credentials:"omit",headers:{Accept:"application/json","Content-Type":"application/json"}});if(!t.ok)throw new Error("Server error: ".concat(t.status));{const e=await t.json();if(console.log("Report details:",e),!e.success)throw new Error(e.message||"Failed to load report details");b(e.data)}}catch(d){console.error("Error loading report details:",d),E("Failed to load report details: ".concat(d.message),"error")}};(0,i.useEffect)(()=>{const e=setTimeout(()=>{T(1)},500);return()=>clearTimeout(e)},[g,x]),(0,i.useEffect)(()=>{T()},[]);const F=e=>{if(!e)return"-";try{return new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}catch(d){return console.error("Date formatting error:",d),e}},P=e=>{const n={new:{color:"#3b82f6",bg:"#dbeafe",label:"New"},under_review:{color:"#f59e0b",bg:"#fef3c7",label:"Under Review"},contacted:{color:"#8b5cf6",bg:"#ede9fe",label:"Contacted"},in_progress:{color:"#10b981",bg:"#d1fae5",label:"In Progress"},completed:{color:"#059669",bg:"#a7f3d0",label:"Completed"},declined:{color:"#6b7280",bg:"#f3f4f6",label:"Declined"}},t=n[e]||n.new;return(0,s.jsx)("span",{style:{backgroundColor:t.bg,color:t.color,padding:"4px 8px",borderRadius:"6px",fontSize:"12px",fontWeight:"500",textTransform:"uppercase"},children:t.label})},R=e=>{e||(e="medium");const n={low:{color:"#6b7280",bg:"#f3f4f6"},medium:{color:"#3b82f6",bg:"#dbeafe"},high:{color:"#f59e0b",bg:"#fef3c7"},urgent:{color:"#ef4444",bg:"#fee2e2"}},t=n[e]||n.medium;return(0,s.jsx)("span",{style:{backgroundColor:t.bg,color:t.color,padding:"2px 6px",borderRadius:"4px",fontSize:"11px",fontWeight:"600",textTransform:"uppercase"},children:e})};return(0,s.jsxs)("div",{style:{padding:"24px",backgroundColor:"#f9fafb",minHeight:"100vh"},children:[(0,s.jsx)("div",{style:{background:"white",borderRadius:"12px",padding:"24px",marginBottom:"24px",boxShadow:"0 1px 3px rgba(0, 0, 0, 0.1)"},children:(0,s.jsx)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{style:{margin:"0 0 8px 0",color:"#0a451c",fontSize:"28px",fontWeight:"700"},children:"Collaboration Management"}),(0,s.jsx)("p",{style:{margin:"0",color:"#6b7280",fontSize:"16px"},children:"Manage collaboration requests and partnership inquiries"})]})})}),d&&(0,s.jsx)("div",{style:{background:"#fee2e2",border:"1px solid #fecaca",borderRadius:"8px",padding:"16px",marginBottom:"24px"},children:(0,s.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[(0,s.jsx)(lc.A,{size:20,color:"#ef4444"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{style:{margin:"0 0 4px 0",color:"#dc2626"},children:"Connection Error"}),(0,s.jsx)("p",{style:{margin:"0",color:"#7f1d1d",fontSize:"14px"},children:d}),(0,s.jsxs)("p",{style:{margin:"8px 0 0 0",color:"#7f1d1d",fontSize:"12px"},children:["API URL: ",n]})]})]})}),(0,s.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"16px",marginBottom:"24px"},children:[(0,s.jsxs)("div",{style:{background:"white",borderRadius:"12px",padding:"20px",boxShadow:"0 1px 3px rgba(0, 0, 0, 0.1)",borderLeft:"4px solid #0a451c"},children:[(0,s.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"8px"},children:[(0,s.jsx)(Cn.A,{size:20,color:"#0a451c"}),(0,s.jsx)("h3",{style:{margin:"0",fontSize:"14px",fontWeight:"500",color:"#6b7280"},children:"all"!==g?"".concat(g.replace("_"," ").toUpperCase()," REPORTS"):"TOTAL REPORTS"})]}),(0,s.jsx)("p",{style:{fontSize:"24px",fontWeight:"700",color:"#1f2937",margin:"0"},children:A.total})]}),(0,s.jsxs)("div",{style:{background:"white",borderRadius:"12px",padding:"20px",boxShadow:"0 1px 3px rgba(0, 0, 0, 0.1)",borderLeft:"4px solid #facf3c"},children:[(0,s.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"8px"},children:[(0,s.jsx)(_n.A,{size:20,color:"#facf3c"}),(0,s.jsx)("h3",{style:{margin:"0",fontSize:"14px",fontWeight:"500",color:"#6b7280"},children:"THIS MONTH"})]}),(0,s.jsx)("p",{style:{fontSize:"24px",fontWeight:"700",color:"#1f2937",margin:"0"},children:A.thisMonth})]}),(0,s.jsxs)("div",{style:{background:"white",borderRadius:"12px",padding:"20px",boxShadow:"0 1px 3px rgba(0, 0, 0, 0.1)",borderLeft:"4px solid #9ccf9f"},children:[(0,s.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"8px"},children:[(0,s.jsx)(H.A,{size:20,color:"#9ccf9f"}),(0,s.jsx)("h3",{style:{margin:"0",fontSize:"14px",fontWeight:"500",color:"#6b7280"},children:"PENDING REVIEW"})]}),(0,s.jsx)("p",{style:{fontSize:"24px",fontWeight:"700",color:"#1f2937",margin:"0"},children:A.pendingReview})]}),(0,s.jsxs)("div",{style:{background:"white",borderRadius:"12px",padding:"20px",boxShadow:"0 1px 3px rgba(0, 0, 0, 0.1)",borderLeft:"4px solid #ef4444"},children:[(0,s.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"8px"},children:[(0,s.jsx)(lc.A,{size:20,color:"#ef4444"}),(0,s.jsx)("h3",{style:{margin:"0",fontSize:"14px",fontWeight:"500",color:"#6b7280"},children:"OVERDUE FOLLOW-UPS"})]}),(0,s.jsx)("p",{style:{fontSize:"24px",fontWeight:"700",color:"#1f2937",margin:"0"},children:A.overdue})]})]}),(0,s.jsx)("div",{style:{background:"white",borderRadius:"12px",padding:"20px",marginBottom:"24px",boxShadow:"0 1px 3px rgba(0, 0, 0, 0.1)"},children:(0,s.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"16px",flexWrap:"wrap"},children:[(0,s.jsxs)("div",{style:{flex:1,minWidth:"300px",position:"relative"},children:[(0,s.jsx)(G.A,{style:{position:"absolute",left:"12px",top:"50%",transform:"translateY(-50%)",color:"#6b7280"},size:20}),(0,s.jsx)("input",{type:"text",placeholder:"Search by name, email, or organization...",value:x,onChange:e=>u(e.target.value),style:{width:"100%",padding:"10px 12px 10px 40px",border:"1px solid #d1d5db",borderRadius:"8px",fontSize:"14px"}})]}),(0,s.jsx)("div",{style:{display:"flex",gap:"8px"},children:["all","new","under_review","contacted","in_progress","completed"].map(e=>(0,s.jsx)("button",{onClick:()=>h(e),style:{padding:"8px 16px",border:"1px solid #d1d5db",borderRadius:"6px",background:g===e?"#0a451c":"white",color:g===e?"white":"#6b7280",fontSize:"14px",fontWeight:"500",cursor:"pointer",textTransform:"capitalize"},children:e.replace("_"," ")},e))}),(0,s.jsxs)("button",{onClick:()=>T(_.page),disabled:l,style:{padding:"8px 12px",border:"1px solid #d1d5db",borderRadius:"6px",background:"white",color:"#6b7280",cursor:l?"not-allowed":"pointer",display:"flex",alignItems:"center",gap:"6px",opacity:l?.5:1},children:[(0,s.jsx)(ke.A,{size:16,className:l?"animate-spin":""}),"Refresh"]})]})}),(0,s.jsxs)("div",{style:{background:"white",borderRadius:"12px",overflow:"hidden",boxShadow:"0 1px 3px rgba(0, 0, 0, 0.1)"},children:[(0,s.jsx)("div",{style:{overflowX:"auto"},children:(0,s.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse"},children:[(0,s.jsx)("thead",{style:{background:"#f9fafb"},children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{style:{padding:"12px 16px",textAlign:"left",fontSize:"12px",fontWeight:"600",color:"#6b7280",textTransform:"uppercase"},children:"Contact Info"}),(0,s.jsx)("th",{style:{padding:"12px 16px",textAlign:"left",fontSize:"12px",fontWeight:"600",color:"#6b7280",textTransform:"uppercase"},children:"Type"}),(0,s.jsx)("th",{style:{padding:"12px 16px",textAlign:"left",fontSize:"12px",fontWeight:"600",color:"#6b7280",textTransform:"uppercase"},children:"Status"}),(0,s.jsx)("th",{style:{padding:"12px 16px",textAlign:"left",fontSize:"12px",fontWeight:"600",color:"#6b7280",textTransform:"uppercase"},children:"Priority"}),(0,s.jsx)("th",{style:{padding:"12px 16px",textAlign:"left",fontSize:"12px",fontWeight:"600",color:"#6b7280",textTransform:"uppercase"},children:"Created"}),(0,s.jsx)("th",{style:{padding:"12px 16px",textAlign:"left",fontSize:"12px",fontWeight:"600",color:"#6b7280",textTransform:"uppercase"},children:"Actions"})]})}),(0,s.jsx)("tbody",{children:l?(0,s.jsx)("tr",{children:(0,s.jsxs)("td",{colSpan:"6",style:{textAlign:"center",padding:"60px"},children:[(0,s.jsx)(ke.A,{size:24,className:"animate-spin"}),(0,s.jsx)("span",{style:{marginLeft:"8px"},children:"Loading reports..."})]})}):d?(0,s.jsx)("tr",{children:(0,s.jsxs)("td",{colSpan:"6",style:{textAlign:"center",padding:"60px",color:"#dc2626"},children:[(0,s.jsx)(lc.A,{size:24}),(0,s.jsxs)("div",{style:{marginTop:"8px"},children:[(0,s.jsx)("h3",{style:{margin:"0 0 8px 0",color:"#dc2626"},children:"Failed to load reports"}),(0,s.jsx)("p",{style:{margin:"0",fontSize:"14px"},children:d}),(0,s.jsx)("button",{onClick:()=>T(1),style:{marginTop:"12px",padding:"6px 12px",background:"#dc2626",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:"Retry"})]})]})}):0===r.length?(0,s.jsx)("tr",{children:(0,s.jsxs)("td",{colSpan:"6",style:{textAlign:"center",padding:"60px",color:"#6b7280"},children:[(0,s.jsx)(Cn.A,{size:24}),(0,s.jsxs)("div",{style:{marginTop:"8px"},children:[(0,s.jsx)("h3",{style:{margin:"0 0 8px 0",color:"#374151"},children:"No reports found"}),(0,s.jsx)("p",{style:{margin:"0"},children:x||"all"!==g?"No collaboration reports match your current filters":"No collaboration reports have been submitted yet"})]})]})}):r.map(e=>(0,s.jsxs)("tr",{style:{borderBottom:"1px solid #f3f4f6"},children:[(0,s.jsx)("td",{style:{padding:"16px",verticalAlign:"middle"},children:(0,s.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"4px"},children:[(0,s.jsx)("span",{style:{fontWeight:"500",color:"#1f2937"},children:e.name}),(0,s.jsx)("span",{style:{fontSize:"13px",color:"#6b7280"},children:e.email}),e.organization&&(0,s.jsx)("span",{style:{fontSize:"12px",color:"#9ca3af"},children:e.organization})]})}),(0,s.jsx)("td",{style:{padding:"16px",verticalAlign:"middle"},children:(0,s.jsx)("span",{style:{textTransform:"capitalize",color:"#1f2937"},children:e.flow_type})}),(0,s.jsx)("td",{style:{padding:"16px",verticalAlign:"middle"},children:P(e.status)}),(0,s.jsx)("td",{style:{padding:"16px",verticalAlign:"middle"},children:R(e.priority)}),(0,s.jsx)("td",{style:{padding:"16px",verticalAlign:"middle",color:"#6b7280"},children:F(e.created_at)}),(0,s.jsx)("td",{style:{padding:"16px",verticalAlign:"middle"},children:(0,s.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[(0,s.jsx)("button",{onClick:()=>{b(e),W(e.id)},style:{padding:"6px 8px",border:"none",borderRadius:"4px",background:"#f3f4f6",color:"#6b7280",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"},title:"View Details",children:(0,s.jsx)(vt.A,{size:16})}),(0,s.jsx)("button",{onClick:()=>{b(e),N({status:e.status,priority:e.priority,assignedTo:e.assigned_to||"",adminNotes:e.admin_notes||"",followUpDate:e.follow_up_date||""}),w(!0)},style:{padding:"6px 8px",border:"none",borderRadius:"4px",background:"#dbeafe",color:"#1e40af",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"},title:"Update Status",children:(0,s.jsx)(cc.A,{size:16})}),(0,s.jsx)("button",{onClick:()=>{b(e),C({contactType:"email",subject:"Re: ".concat("collaborate"===e.flow_type?"Collaboration":"Partnership"," Request"),message:"",contactMethod:e.email}),j(!0)},style:{padding:"6px 8px",border:"none",borderRadius:"4px",background:"#fef3c7",color:"#92400e",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"},title:"Send Message",children:(0,s.jsx)(dc.A,{size:16})})]})})]},e.id))})]})}),_.pages>1&&(0,s.jsxs)("div",{style:{padding:"16px",borderTop:"1px solid #f3f4f6",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},children:[(0,s.jsx)("button",{onClick:()=>T(_.page-1),disabled:_.page<=1,style:{padding:"8px 12px",border:"1px solid #d1d5db",borderRadius:"6px",background:"white",cursor:_.page<=1?"not-allowed":"pointer",opacity:_.page<=1?.5:1},children:"Previous"}),(0,s.jsxs)("span",{style:{color:"#6b7280",fontSize:"14px"},children:["Page ",_.page," of ",_.pages," (",_.total," total)"]}),(0,s.jsx)("button",{onClick:()=>T(_.page+1),disabled:_.page>=_.pages,style:{padding:"8px 12px",border:"1px solid #d1d5db",borderRadius:"6px",background:"white",cursor:_.page>=_.pages?"not-allowed":"pointer",opacity:_.page>=_.pages?.5:1},children:"Next"})]})]}),f&&!y&&!v&&(0,s.jsx)("div",{style:{position:"fixed",inset:0,background:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},onClick:()=>b(null),children:(0,s.jsxs)("div",{style:{background:"white",borderRadius:"12px",padding:"24px",maxWidth:"800px",width:"90%",maxHeight:"80vh",overflowY:"auto"},onClick:e=>e.stopPropagation(),children:[(0,s.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"20px"},children:[(0,s.jsxs)("h2",{style:{margin:"0",color:"#1f2937"},children:["collaborate"===f.flow_type?"Collaboration":"Partnership"," Request Details"]}),(0,s.jsx)("button",{onClick:()=>b(null),style:{background:"none",border:"none",cursor:"pointer",color:"#6b7280",padding:"4px"},children:(0,s.jsx)(ie.A,{size:20})})]}),(0,s.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"24px",marginBottom:"24px"},children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{style:{margin:"0 0 12px 0",color:"#0a451c",fontSize:"16px"},children:"Contact Information"}),(0,s.jsxs)("div",{style:{fontSize:"14px",color:"#374151"},children:[(0,s.jsxs)("p",{children:[(0,s.jsx)("strong",{children:"Name:"})," ",f.name]}),(0,s.jsxs)("p",{children:[(0,s.jsx)("strong",{children:"Email:"})," ",f.email]}),f.organization&&(0,s.jsxs)("p",{children:[(0,s.jsx)("strong",{children:"Organization:"})," ",f.organization]}),(0,s.jsxs)("p",{children:[(0,s.jsx)("strong",{children:"Type:"})," ",f.flow_type]})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{style:{margin:"0 0 12px 0",color:"#0a451c",fontSize:"16px"},children:"Status & Management"}),(0,s.jsxs)("div",{style:{fontSize:"14px",color:"#374151"},children:[(0,s.jsxs)("p",{children:[(0,s.jsx)("strong",{children:"Status:"})," ",P(f.status)]}),(0,s.jsxs)("p",{children:[(0,s.jsx)("strong",{children:"Priority:"})," ",R(f.priority)]}),f.assigned_to&&(0,s.jsxs)("p",{children:[(0,s.jsx)("strong",{children:"Assigned to:"})," ",f.assigned_to]}),(0,s.jsxs)("p",{children:[(0,s.jsx)("strong",{children:"Contact Count:"})," ",f.contact_count||0]}),f.last_contacted_at&&(0,s.jsxs)("p",{children:[(0,s.jsx)("strong",{children:"Last Contact:"})," ",F(f.last_contacted_at)]})]})]})]}),(0,s.jsxs)("div",{style:{marginBottom:"24px"},children:[(0,s.jsx)("h3",{style:{margin:"0 0 12px 0",color:"#0a451c",fontSize:"16px"},children:"Submitted Information"}),(0,s.jsx)("div",{style:{background:"#f9fafb",padding:"16px",borderRadius:"8px"},children:(e=>{if(!e||"object"!==typeof e)return(0,s.jsx)("div",{style:{color:"#6b7280",fontStyle:"italic"},children:"No additional data available"});try{const n=Object.entries(e).filter(e=>{let[n,t]=e;return null!==t&&void 0!==t&&""!==t});return 0===n.length?(0,s.jsx)("div",{style:{color:"#6b7280",fontStyle:"italic"},children:"No data to display"}):n.map(e=>{let[n,t]=e;const a=n.replace(/_/g," ").replace(/\b\w/g,e=>e.toUpperCase());return(0,s.jsxs)("div",{style:{marginBottom:"16px"},children:[(0,s.jsxs)("div",{style:{fontSize:"13px",fontWeight:"600",color:"#374151",marginBottom:"4px",textTransform:"capitalize"},children:[a,":"]}),(0,s.jsx)("div",{style:{fontSize:"14px",color:"#1f2937",backgroundColor:"#f9fafb",padding:"8px 12px",borderRadius:"6px",whiteSpace:"pre-wrap"},children:"string"===typeof t&&t.length>100?"".concat(t.substring(0,100),"..."):String(t)})]},n)})}catch(d){return console.error("Error rendering report data:",d),(0,s.jsx)("div",{style:{color:"#ef4444"},children:"Error displaying data"})}})(f.report_data)})]}),f.admin_notes&&(0,s.jsxs)("div",{style:{marginBottom:"24px"},children:[(0,s.jsx)("h3",{style:{margin:"0 0 12px 0",color:"#0a451c",fontSize:"16px"},children:"Admin Notes"}),(0,s.jsx)("div",{style:{background:"#fff7ed",padding:"12px",borderRadius:"8px",border:"1px solid #fed7aa",fontSize:"14px",color:"#1f2937"},children:f.admin_notes})]}),f.activities&&f.activities.length>0&&(0,s.jsxs)("div",{style:{marginBottom:"24px"},children:[(0,s.jsx)("h3",{style:{margin:"0 0 12px 0",color:"#0a451c",fontSize:"16px"},children:"Activity Log"}),(0,s.jsx)("div",{style:{maxHeight:"200px",overflowY:"auto"},children:f.activities.map((e,n)=>(0,s.jsxs)("div",{style:{padding:"12px",background:"#f8fafc",borderRadius:"6px",marginBottom:"8px",fontSize:"13px"},children:[(0,s.jsx)("div",{style:{color:"#1f2937",fontWeight:"500",marginBottom:"4px"},children:e.description}),(0,s.jsxs)("div",{style:{color:"#6b7280",fontSize:"12px"},children:[F(e.created_at),e.admin_user&&" \u2022 by ".concat(e.admin_user)]})]},n))})]}),(0,s.jsxs)("div",{style:{display:"flex",gap:"12px",marginTop:"20px"},children:[(0,s.jsxs)("button",{onClick:()=>{N({status:f.status,priority:f.priority,assignedTo:f.assigned_to||"",adminNotes:f.admin_notes||"",followUpDate:f.follow_up_date||""}),w(!0)},style:{padding:"8px 16px",background:"#0a451c",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"14px",fontWeight:"500",display:"flex",alignItems:"center",gap:"6px"},children:[(0,s.jsx)(cc.A,{size:16}),"Update Status"]}),(0,s.jsxs)("button",{onClick:()=>{C({contactType:"email",subject:"Re: ".concat("collaborate"===f.flow_type?"Collaboration":"Partnership"," Request"),message:"",contactMethod:f.email}),j(!0)},style:{padding:"8px 16px",background:"#facf3c",color:"#92400e",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"14px",fontWeight:"500",display:"flex",alignItems:"center",gap:"6px"},children:[(0,s.jsx)(dc.A,{size:16}),"Send Message"]})]})]})}),v&&f&&(0,s.jsx)("div",{style:{position:"fixed",inset:0,background:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},onClick:()=>w(!1),children:(0,s.jsxs)("div",{style:{background:"white",borderRadius:"12px",padding:"24px",maxWidth:"500px",width:"90%"},onClick:e=>e.stopPropagation(),children:[(0,s.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"20px"},children:[(0,s.jsx)("h2",{style:{margin:"0",color:"#1f2937"},children:"Update Report Status"}),(0,s.jsx)("button",{onClick:()=>w(!1),style:{background:"none",border:"none",cursor:"pointer",color:"#6b7280",padding:"4px"},children:(0,s.jsx)(ie.A,{size:20})})]}),(0,s.jsxs)("div",{style:{marginBottom:"16px"},children:[(0,s.jsx)("label",{style:{display:"block",marginBottom:"6px",fontSize:"14px",fontWeight:"500",color:"#374151"},children:"Status"}),(0,s.jsxs)("select",{value:z.status,onChange:e=>N(n=>(0,m.A)((0,m.A)({},n),{},{status:e.target.value})),style:{width:"100%",padding:"8px 12px",border:"1px solid #d1d5db",borderRadius:"6px",fontSize:"14px"},children:[(0,s.jsx)("option",{value:"new",children:"New"}),(0,s.jsx)("option",{value:"under_review",children:"Under Review"}),(0,s.jsx)("option",{value:"contacted",children:"Contacted"}),(0,s.jsx)("option",{value:"in_progress",children:"In Progress"}),(0,s.jsx)("option",{value:"completed",children:"Completed"}),(0,s.jsx)("option",{value:"declined",children:"Declined"})]})]}),(0,s.jsxs)("div",{style:{marginBottom:"16px"},children:[(0,s.jsx)("label",{style:{display:"block",marginBottom:"6px",fontSize:"14px",fontWeight:"500",color:"#374151"},children:"Priority"}),(0,s.jsxs)("select",{value:z.priority,onChange:e=>N(n=>(0,m.A)((0,m.A)({},n),{},{priority:e.target.value})),style:{width:"100%",padding:"8px 12px",border:"1px solid #d1d5db",borderRadius:"6px",fontSize:"14px"},children:[(0,s.jsx)("option",{value:"low",children:"Low"}),(0,s.jsx)("option",{value:"medium",children:"Medium"}),(0,s.jsx)("option",{value:"high",children:"High"}),(0,s.jsx)("option",{value:"urgent",children:"Urgent"})]})]}),(0,s.jsxs)("div",{style:{marginBottom:"16px"},children:[(0,s.jsx)("label",{style:{display:"block",marginBottom:"6px",fontSize:"14px",fontWeight:"500",color:"#374151"},children:"Assigned To"}),(0,s.jsx)("input",{type:"text",value:z.assignedTo,onChange:e=>N(n=>(0,m.A)((0,m.A)({},n),{},{assignedTo:e.target.value})),placeholder:"Enter admin name or email",style:{width:"100%",padding:"8px 12px",border:"1px solid #d1d5db",borderRadius:"6px",fontSize:"14px"}})]}),(0,s.jsxs)("div",{style:{marginBottom:"16px"},children:[(0,s.jsx)("label",{style:{display:"block",marginBottom:"6px",fontSize:"14px",fontWeight:"500",color:"#374151"},children:"Follow-up Date"}),(0,s.jsx)("input",{type:"datetime-local",value:z.followUpDate,onChange:e=>N(n=>(0,m.A)((0,m.A)({},n),{},{followUpDate:e.target.value})),style:{width:"100%",padding:"8px 12px",border:"1px solid #d1d5db",borderRadius:"6px",fontSize:"14px"}})]}),(0,s.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,s.jsx)("label",{style:{display:"block",marginBottom:"6px",fontSize:"14px",fontWeight:"500",color:"#374151"},children:"Admin Notes"}),(0,s.jsx)("textarea",{value:z.adminNotes,onChange:e=>N(n=>(0,m.A)((0,m.A)({},n),{},{adminNotes:e.target.value})),placeholder:"Add internal notes about this report...",rows:"4",style:{width:"100%",padding:"8px 12px",border:"1px solid #d1d5db",borderRadius:"6px",fontSize:"14px",resize:"vertical"}})]}),(0,s.jsxs)("div",{style:{display:"flex",gap:"12px",justifyContent:"flex-end"},children:[(0,s.jsx)("button",{onClick:()=>w(!1),style:{padding:"8px 16px",background:"#f3f4f6",color:"#6b7280",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"14px",fontWeight:"500"},children:"Cancel"}),(0,s.jsxs)("button",{onClick:async()=>{if(f)try{console.log("Updating status for report:",f.id);const e=await fetch("".concat(n,"/collaboration/admin/").concat(f.id,"/status"),{method:"PUT",credentials:"omit",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(z)});if(!e.ok)throw new Error("Server error: ".concat(e.status));{const n=await e.json();if(!n.success)throw new Error(n.message||"Failed to update status");E("Report status updated successfully","success"),w(!1),T(_.page),f&&W(f.id)}}catch(d){console.error("Error updating status:",d),E("Failed to update status: ".concat(d.message),"error")}},style:{padding:"8px 16px",background:"#0a451c",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"14px",fontWeight:"500",display:"flex",alignItems:"center",gap:"6px"},children:[(0,s.jsx)(ze.A,{size:16}),"Update Status"]})]})]})}),y&&f&&(0,s.jsx)("div",{style:{position:"fixed",inset:0,background:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},onClick:()=>j(!1),children:(0,s.jsxs)("div",{style:{background:"white",borderRadius:"12px",padding:"24px",maxWidth:"600px",width:"90%"},onClick:e=>e.stopPropagation(),children:[(0,s.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"20px"},children:[(0,s.jsx)("h2",{style:{margin:"0",color:"#1f2937"},children:"Send Message"}),(0,s.jsx)("button",{onClick:()=>j(!1),style:{background:"none",border:"none",cursor:"pointer",color:"#6b7280",padding:"4px"},children:(0,s.jsx)(ie.A,{size:20})})]}),(0,s.jsxs)("div",{style:{marginBottom:"16px"},children:[(0,s.jsx)("label",{style:{display:"block",marginBottom:"6px",fontSize:"14px",fontWeight:"500",color:"#374151"},children:"Contact Type"}),(0,s.jsxs)("select",{value:S.contactType,onChange:e=>C(n=>(0,m.A)((0,m.A)({},n),{},{contactType:e.target.value})),style:{width:"100%",padding:"8px 12px",border:"1px solid #d1d5db",borderRadius:"6px",fontSize:"14px"},children:[(0,s.jsx)("option",{value:"email",children:"Email"}),(0,s.jsx)("option",{value:"phone",children:"Phone Call"}),(0,s.jsx)("option",{value:"meeting",children:"Meeting"}),(0,s.jsx)("option",{value:"other",children:"Other"})]})]}),(0,s.jsxs)("div",{style:{marginBottom:"16px"},children:[(0,s.jsx)("label",{style:{display:"block",marginBottom:"6px",fontSize:"14px",fontWeight:"500",color:"#374151"},children:"Contact Method/Details"}),(0,s.jsx)("input",{type:"text",value:S.contactMethod,onChange:e=>C(n=>(0,m.A)((0,m.A)({},n),{},{contactMethod:e.target.value})),placeholder:"e.g., email address, phone number, meeting location",style:{width:"100%",padding:"8px 12px",border:"1px solid #d1d5db",borderRadius:"6px",fontSize:"14px"}})]}),(0,s.jsxs)("div",{style:{marginBottom:"16px"},children:[(0,s.jsx)("label",{style:{display:"block",marginBottom:"6px",fontSize:"14px",fontWeight:"500",color:"#374151"},children:"Subject"}),(0,s.jsx)("input",{type:"text",value:S.subject,onChange:e=>C(n=>(0,m.A)((0,m.A)({},n),{},{subject:e.target.value})),placeholder:"Enter contact subject",style:{width:"100%",padding:"8px 12px",border:"1px solid #d1d5db",borderRadius:"6px",fontSize:"14px"}})]}),(0,s.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,s.jsx)("label",{style:{display:"block",marginBottom:"6px",fontSize:"14px",fontWeight:"500",color:"#374151"},children:"Message/Notes"}),(0,s.jsx)("textarea",{value:S.message,onChange:e=>C(n=>(0,m.A)((0,m.A)({},n),{},{message:e.target.value})),placeholder:"Enter the message content or notes about the contact...",rows:"6",style:{width:"100%",padding:"8px 12px",border:"1px solid #d1d5db",borderRadius:"6px",fontSize:"14px",resize:"vertical"}})]}),(0,s.jsxs)("div",{style:{display:"flex",gap:"12px",justifyContent:"flex-end"},children:[(0,s.jsx)("button",{onClick:()=>j(!1),style:{padding:"8px 16px",background:"#f3f4f6",color:"#6b7280",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"14px",fontWeight:"500"},children:"Cancel"}),(0,s.jsxs)("button",{onClick:async()=>{if(f)try{console.log("Adding contact for report:",f.id);const e=await fetch("".concat(n,"/collaboration/admin/").concat(f.id,"/contact"),{method:"POST",credentials:"omit",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(S)});if(!e.ok)throw new Error("Server error: ".concat(e.status));{const n=await e.json();if(!n.success)throw new Error(n.message||"Failed to send message");E("Contact record added successfully","success"),j(!1),C({contactType:"email",subject:"",message:"",contactMethod:""}),T(_.page),f&&W(f.id)}}catch(d){console.error("Error adding contact:",d),E("Failed to send message: ".concat(d.message),"error")}},style:{padding:"8px 16px",background:"#facf3c",color:"#92400e",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"14px",fontWeight:"500",display:"flex",alignItems:"center",gap:"6px"},children:[(0,s.jsx)(Ye.A,{size:16}),"Send Message"]})]})]})}),(0,s.jsx)("style",{children:"\n        @keyframes spin {\n          from {\n            transform: rotate(0deg);\n          }\n          to {\n            transform: rotate(360deg);\n          }\n        }\n        \n        .animate-spin {\n          animation: spin 1s linear infinite;\n        }\n      "})]})};var mc=t(4067),xc=t(1407),uc=t(6428),gc=t(6813),hc=t(2992),fc=t(2555),bc=t(3898),yc=t(5272);const jc=()=>{var e;const[n,t]=(0,i.useState)({}),[a,r]=(0,i.useState)([]),[o,l]=(0,i.useState)(!0),[c,d]=(0,i.useState)(""),[p,m]=(0,i.useState)(!1),[x,u]=(0,i.useState)(!1),[g,h]=(0,i.useState)(null),[f,b]=(0,i.useState)(""),[y,j]=(0,i.useState)(""),[v,w]=(0,i.useState)(""),[A,k]=(0,i.useState)(null),[S,C]=(0,i.useState)(""),[z,T]=(0,i.useState)(""),[W,F]=(0,i.useState)(!1),[P,R]=(0,i.useState)(""),[B,D]=(0,i.useState)(!1),[L,M]=(0,i.useState)({open:!1,highlight:null}),[H,q]=(0,i.useState)(null),O="http://localhost:5000/api",U="http://localhost:5000",Y=(0,i.useCallback)(async()=>{try{var e;l(!0);const[n,a]=await Promise.all([fetch("".concat(O,"/highlights"),{credentials:"include"}),fetch("".concat(O,"/highlights/years"),{credentials:"include"})]);if(!n.ok||!a.ok)throw new Error("Failed to fetch data");const o=await n.json(),i=await a.json();t(o.data||{}),r((null===(e=i.data)||void 0===e?void 0:e.validYears)||[]),d("");const s=Object.keys(o.data||{}).sort((e,n)=>n-e);s.length>0&&q(parseInt(s[0]))}catch(n){console.error("Error fetching highlights:",n),d("Failed to load highlights")}finally{l(!1)}},[O]);(0,i.useEffect)(()=>{Y()},[Y]);const G=()=>{b(""),j(""),w(""),k(null),C(""),T(""),R(""),D(!1),u(!1),h(null)},V=()=>{G(),b(a[0]||""),m(!0)},J=()=>{m(!1),G()},K=async e=>{if(e.preventDefault(),f&&y.trim())if(x||A){F(!0),R(""),D(!1);try{const e=new FormData;e.append("year",f),e.append("title",y.trim()),e.append("description",v.trim()),A&&e.append("image",A);const n=x?"".concat(O,"/highlights/").concat(g.id):"".concat(O,"/highlights"),t=x?"PUT":"POST",a=await fetch(n,{method:t,credentials:"include",body:e});if(!a.ok){const e=await a.json();throw new Error(e.message||"Failed to save highlight")}D(!0),Y(),setTimeout(()=>{J()},1500)}catch(n){console.error("Error saving highlight:",n),R(n.message)}finally{F(!1)}}else R("Image is required for new highlights");else R("Year and title are required")},X=()=>{M({open:!1,highlight:null})},Z=e=>(n,t)=>{q(t?e:null)};return o?(0,s.jsx)(N.A,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:400},children:(0,s.jsx)(On.A,{size:60})}):(0,s.jsxs)(N.A,{sx:{p:3,position:"relative"},children:[(0,s.jsxs)(N.A,{sx:{mb:4},children:[(0,s.jsxs)(N.A,{sx:{display:"flex",alignItems:"center",gap:2,mb:2},children:[(0,s.jsx)(So.A,{sx:{fontSize:32,color:"primary.main"}}),(0,s.jsx)(_.A,{variant:"h4",sx:{fontWeight:700},children:"Highlights Management"})]}),(0,s.jsx)(_.A,{variant:"body1",color:"text.secondary",children:"Manage organization achievements and milestones by year"})]}),c&&(0,s.jsx)(I.A,{severity:"error",sx:{mb:3},onClose:()=>d(""),children:c}),(0,s.jsxs)(Un.A,{container:!0,spacing:3,sx:{mb:4},children:[(0,s.jsx)(Un.A,{item:!0,xs:12,md:4,children:(0,s.jsx)(Yn.A,{sx:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white"},children:(0,s.jsx)(Gn.A,{children:(0,s.jsxs)(N.A,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,s.jsxs)(N.A,{children:[(0,s.jsx)(_.A,{variant:"h3",sx:{fontWeight:700},children:Object.values(n).reduce((e,n)=>e+n.length,0)}),(0,s.jsx)(_.A,{variant:"body2",sx:{opacity:.9},children:"Total Highlights"})]}),(0,s.jsx)(Zn.A,{sx:{fontSize:40,opacity:.8}})]})})})}),(0,s.jsx)(Un.A,{item:!0,xs:12,md:4,children:(0,s.jsx)(Yn.A,{sx:{background:"linear-gradient(135deg, #f093fb 0%, #f5576c 100%)",color:"white"},children:(0,s.jsx)(Gn.A,{children:(0,s.jsxs)(N.A,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,s.jsxs)(N.A,{children:[(0,s.jsx)(_.A,{variant:"h3",sx:{fontWeight:700},children:Object.keys(n).length}),(0,s.jsx)(_.A,{variant:"body2",sx:{opacity:.9},children:"Active Years"})]}),(0,s.jsx)(bc.A,{sx:{fontSize:40,opacity:.8}})]})})})}),(0,s.jsx)(Un.A,{item:!0,xs:12,md:4,children:(0,s.jsx)(Yn.A,{sx:{background:"linear-gradient(135deg, #4facfe 0%, #00f2fe 100%)",color:"white"},children:(0,s.jsx)(Gn.A,{children:(0,s.jsxs)(N.A,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,s.jsxs)(N.A,{children:[(0,s.jsx)(_.A,{variant:"h3",sx:{fontWeight:700},children:(new Date).getFullYear()}),(0,s.jsx)(_.A,{variant:"body2",sx:{opacity:.9},children:"Current Year"})]}),(0,s.jsx)(So.A,{sx:{fontSize:40,opacity:.8}})]})})})})]}),(0,s.jsxs)(Rn.A,{elevation:2,sx:{p:3},children:[(0,s.jsxs)(N.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3},children:[(0,s.jsx)(_.A,{variant:"h6",sx:{fontWeight:600},children:"Highlights by Year"}),(0,s.jsx)(E.A,{variant:"contained",startIcon:(0,s.jsx)(us.A,{}),onClick:V,size:"large",sx:{borderRadius:2},children:"Add New Highlight"})]}),0===Object.keys(n).length?(0,s.jsxs)(N.A,{sx:{textAlign:"center",py:8},children:[(0,s.jsx)(So.A,{sx:{fontSize:80,color:"text.secondary",mb:2}}),(0,s.jsx)(_.A,{variant:"h6",color:"text.secondary",gutterBottom:!0,children:"No highlights found"}),(0,s.jsx)(_.A,{variant:"body2",color:"text.secondary",sx:{mb:3},children:"Create your first organizational highlight to get started"}),(0,s.jsx)(E.A,{variant:"contained",startIcon:(0,s.jsx)(us.A,{}),onClick:V,children:"Add First Highlight"})]}):(0,s.jsx)(N.A,{children:Object.keys(n).sort((e,n)=>n-e).map(e=>(0,s.jsxs)(mc.A,{expanded:H===parseInt(e),onChange:Z(parseInt(e)),sx:{mb:2,"&:before":{display:"none"}},children:[(0,s.jsx)(xc.A,{expandIcon:(0,s.jsx)(yc.A,{}),sx:{backgroundColor:"primary.main",color:"white",borderRadius:"8px 8px 0 0","&.Mui-expanded":{borderRadius:"8px 8px 0 0"}},children:(0,s.jsxs)(N.A,{sx:{display:"flex",alignItems:"center",gap:2,width:"100%"},children:[(0,s.jsx)(bc.A,{}),(0,s.jsx)(_.A,{variant:"h6",sx:{fontWeight:600},children:e}),(0,s.jsx)(it.A,{label:"".concat(n[e].length," highlights"),size:"small",sx:{backgroundColor:"rgba(255,255,255,0.2)",color:"white",fontWeight:600}})]})}),(0,s.jsx)(uc.A,{sx:{p:3},children:0===n[e].length?(0,s.jsxs)(_.A,{color:"text.secondary",sx:{textAlign:"center",py:4},children:["No highlights for ",e]}):(0,s.jsx)(gc.A,{variant:"masonry",cols:3,gap:16,children:n[e].map((e,n)=>(0,s.jsx)(hc.A,{children:(0,s.jsxs)(Yn.A,{elevation:3,sx:{height:"100%"},children:[e.image_url&&(0,s.jsx)(fl.A,{component:"img",height:"200",image:"".concat(U).concat(e.image_url),alt:e.title,sx:{objectFit:"cover"}}),(0,s.jsxs)(Gn.A,{sx:{flexGrow:1},children:[(0,s.jsxs)(N.A,{sx:{display:"flex",alignItems:"center",gap:1,mb:1},children:[(0,s.jsx)(Cs.A,{sx:{color:"text.secondary",fontSize:16}}),(0,s.jsx)(it.A,{label:"#".concat(e.display_order||n+1),size:"small",color:"primary",variant:"outlined"})]}),(0,s.jsx)(_.A,{variant:"h6",sx:{fontWeight:600,mb:1},children:e.title}),e.description&&(0,s.jsx)(_.A,{variant:"body2",color:"text.secondary",sx:{display:"-webkit-box",WebkitLineClamp:3,WebkitBoxOrient:"vertical",overflow:"hidden",mb:2},children:e.description}),(0,s.jsxs)(N.A,{sx:{display:"flex",gap:1},children:[(0,s.jsx)(de.A,{size:"small",color:"primary",onClick:()=>(e=>{u(!0),h(e),b(e.year.toString()),j(e.title),w(e.description||""),T(e.image_url||""),k(null),C(""),R(""),D(!1),m(!0)})(e),children:(0,s.jsx)($i.A,{})}),(0,s.jsx)(de.A,{size:"small",color:"error",onClick:()=>(e=>{M({open:!0,highlight:e})})(e),children:(0,s.jsx)(Gi.A,{})})]})]})]})},e.id))})})]},e))})]}),(0,s.jsxs)(Oi.A,{open:p,onClose:J,maxWidth:"md",fullWidth:!0,PaperProps:{sx:{borderRadius:2}},children:[(0,s.jsxs)(Ui.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",pb:2},children:[(0,s.jsx)(_.A,{variant:"h6",sx:{fontWeight:600},children:x?"Edit Highlight":"Add New Highlight"}),(0,s.jsx)(de.A,{onClick:J,size:"small",children:(0,s.jsx)(fs.A,{})})]}),(0,s.jsxs)(ds.A,{sx:{p:3},children:[B&&(0,s.jsxs)(I.A,{severity:"success",sx:{mb:3},children:["Highlight ",x?"updated":"created"," successfully!"]}),P&&(0,s.jsx)(I.A,{severity:"error",sx:{mb:3},children:P}),(0,s.jsx)("form",{onSubmit:K,children:(0,s.jsxs)(Un.A,{container:!0,spacing:3,children:[(0,s.jsx)(Un.A,{item:!0,xs:12,md:6,children:(0,s.jsxs)(Ln.A,{fullWidth:!0,required:!0,children:[(0,s.jsx)(Mn.A,{children:"Year"}),(0,s.jsx)(Hn.A,{value:f,onChange:e=>b(e.target.value),label:"Year",disabled:W||B,children:a.map(e=>(0,s.jsx)(qn.A,{value:e,children:e},e))})]})}),(0,s.jsx)(Un.A,{item:!0,xs:12,md:6,children:(0,s.jsx)(Bn.A,{label:"Highlight Title",value:y,onChange:e=>j(e.target.value),fullWidth:!0,required:!0,disabled:W||B})}),(0,s.jsx)(Un.A,{item:!0,xs:12,children:(0,s.jsx)(Bn.A,{label:"Description",value:v,onChange:e=>w(e.target.value),fullWidth:!0,multiline:!0,rows:4,disabled:W||B,placeholder:"Describe this achievement or milestone..."})}),(0,s.jsx)(Un.A,{item:!0,xs:12,children:(0,s.jsx)(Rn.A,{variant:"outlined",sx:{p:3},children:(0,s.jsxs)(Pn.A,{spacing:2,children:[(0,s.jsxs)(N.A,{sx:{display:"flex",alignItems:"center",gap:1},children:[(0,s.jsx)(Js.A,{color:"primary"}),(0,s.jsxs)(_.A,{variant:"subtitle1",sx:{fontWeight:600},children:["Highlight Image ",!x&&(0,s.jsx)("span",{style:{color:"red"},children:"*"})]})]}),z&&!S&&(0,s.jsxs)(N.A,{children:[(0,s.jsx)(_.A,{variant:"body2",color:"text.secondary",sx:{mb:1},children:"Current image:"}),(0,s.jsx)("img",{src:"".concat(U).concat(z),alt:"Current highlight",style:{width:"200px",height:"150px",objectFit:"cover",borderRadius:"8px"}})]}),S&&(0,s.jsxs)(N.A,{children:[(0,s.jsx)(_.A,{variant:"body2",color:"text.secondary",sx:{mb:1},children:"New image preview:"}),(0,s.jsx)("img",{src:S,alt:"Preview",style:{width:"200px",height:"150px",objectFit:"cover",borderRadius:"8px"}})]}),(0,s.jsx)("input",{type:"file",accept:"image/*",onChange:e=>{const n=e.target.files[0];if(n){k(n);const e=new FileReader;e.onload=e=>C(e.target.result),e.readAsDataURL(n)}},required:!x,disabled:W||B,style:{padding:"12px",border:"2px dashed #e0e0e0",borderRadius:"8px",backgroundColor:"#fafafa"}}),(0,s.jsx)(_.A,{variant:"caption",color:"text.secondary",children:"Supported formats: JPG, PNG, GIF, WebP (Max: 10MB)"})]})})})]})})]}),(0,s.jsxs)(Yi.A,{sx:{p:3,gap:2},children:[(0,s.jsx)(E.A,{onClick:J,disabled:W,variant:"outlined",size:"large",children:"Cancel"}),(0,s.jsx)(E.A,{onClick:K,disabled:W||B,variant:"contained",size:"large",startIcon:W?(0,s.jsx)(On.A,{size:16}):null,children:W?x?"Updating...":"Creating...":x?"Update Highlight":"Create Highlight"})]})]}),(0,s.jsxs)(Oi.A,{open:L.open,onClose:X,PaperProps:{sx:{borderRadius:2}},children:[(0,s.jsx)(Ui.A,{children:"Delete Highlight"}),(0,s.jsx)(ds.A,{children:(0,s.jsxs)(_.A,{children:['Are you sure you want to delete "',null===(e=L.highlight)||void 0===e?void 0:e.title,'"? This action cannot be undone.']})}),(0,s.jsxs)(Yi.A,{sx:{p:2,gap:1},children:[(0,s.jsx)(E.A,{onClick:X,variant:"outlined",children:"Cancel"}),(0,s.jsx)(E.A,{onClick:async()=>{const{highlight:e}=L;if(e)try{if(!(await fetch("".concat(O,"/highlights/").concat(e.id),{method:"DELETE",credentials:"include"})).ok)throw new Error("Failed to delete highlight");Y(),M({open:!1,highlight:null})}catch(n){console.error("Error deleting highlight:",n),d("Failed to delete highlight")}},variant:"contained",color:"error",children:"Delete"})]})]}),(0,s.jsx)(fc.A,{color:"primary","aria-label":"add",onClick:V,sx:{position:"fixed",bottom:24,right:24,display:{xs:"flex",md:"none"}},children:(0,s.jsx)(us.A,{})})]})};var vc=t(67),wc=t(4025);const Ac=()=>{const[e,n]=(0,i.useState)([]),[t,a]=(0,i.useState)([]),[r,o]=(0,i.useState)(!0),[l,c]=(0,i.useState)(""),[d,p]=(0,i.useState)(""),[x,u]=(0,i.useState)("grid"),[g,h]=(0,i.useState)([]),[f,b]=(0,i.useState)(!1),[y,j]=(0,i.useState)("create"),[v,w]=(0,i.useState)(null),[A,k]=(0,i.useState)(!1),[S,C]=(0,i.useState)(null),[z,N]=(0,i.useState)(""),[_,I]=(0,i.useState)(""),[E,T]=(0,i.useState)("all"),[W,F]=(0,i.useState)("all"),[P,R]=(0,i.useState)("all"),[B,D]=(0,i.useState)("updated_at"),[L,M]=(0,i.useState)("DESC"),[H,q]=(0,i.useState)(1),[O]=(0,i.useState)(20),[U,K]=(0,i.useState)(1),[X,Z]=(0,i.useState)({name:"",description:"",alt_text:"",category:"general",usage_locations:[],is_active:!0}),[$,Q]=(0,i.useState)(null),[ee,ne]=(0,i.useState)(""),te=(0,i.useRef)(null),ae=[{value:"hero-section",label:"Hero Section Slides",description:"Homepage hero slider images"},{value:"about-acefinfo",label:"About AcefInfo Section",description:"Homepage about section"},{value:"others-board",label:"Others Board Section",description:"Homepage board section"},{value:"mission-card",label:"Mission Card",description:"About Us mission card"},{value:"vision-card",label:"Vision Card",description:"About Us vision card"},{value:"impact-hero",label:"Impact Hero Image",description:"Impact page hero"},{value:"get-involved-hero",label:"Get Involved Hero",description:"Get Involved page hero"}],re=async function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{const t=await fetch("".concat(Ge,"/gallery").concat(e),(0,m.A)((0,m.A)({},n),{},{headers:(0,m.A)({"Content-Type":"application/json"},n.headers)}));if(!t.ok){const e=await t.json();throw new Error(e.message||"API request failed")}return await t.json()}catch(l){throw console.error("API Error:",l),l}},oe=async()=>{try{o(!0);const e=new URLSearchParams({page:H,limit:O,search:_,category:E,is_active:W,is_protected:P,sort_by:B,sort_order:L}),t=await re("/?".concat(e));n(t.data),K(t.pagination.totalPages)}catch(l){c("Failed to fetch images: "+l.message)}finally{o(!1)}},se=async e=>{de("Are you sure you want to delete this image?",async()=>{try{await re("/".concat(e),{method:"DELETE"}),p("Image deleted successfully"),oe()}catch(l){c("Failed to delete image: "+l.message)}})},le=async(e,n)=>{try{await re("/".concat(e,"/protection"),{method:"PUT",body:JSON.stringify({is_protected:!n})}),p("Image ".concat(n?"unprotected":"protected"," successfully")),oe()}catch(l){c("Failed to toggle protection: "+l.message)}},ce=async e=>{if(0!==g.length)try{await re("/bulk/update",{method:"PUT",body:JSON.stringify({ids:g,updates:e})}),p("".concat(g.length," images updated successfully")),h([]),oe()}catch(l){c("Bulk update failed: "+l.message)}else c("Please select images to update")},de=(e,n)=>{N(e),C(()=>n),k(!0)},pe=()=>{Z({name:"",description:"",alt_text:"",category:"general",usage_locations:[],is_active:!0}),Q(null),ne(""),w(null)},me=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;j(e),w(n),n?(Z({name:n.name,description:n.description||"",alt_text:n.alt_text||"",category:n.category,usage_locations:JSON.parse(n.usage_locations||"[]"),is_active:1===n.is_active}),ne(n.image_url)):pe(),b(!0)},xe=e=>{if(0===e)return"0 Bytes";const n=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,n)).toFixed(2))+" "+["Bytes","KB","MB","GB"][n]};return(0,i.useEffect)(()=>{oe()},[H,_,E,W,P,B,L]),(0,i.useEffect)(()=>{(async()=>{try{const e=await re("/categories/list");a(e.data)}catch(l){console.error("Failed to fetch categories:",l)}})()},[]),(0,i.useEffect)(()=>{if(l||d){const e=setTimeout(()=>{c(""),p("")},5e3);return()=>clearTimeout(e)}},[l,d]),(0,s.jsxs)("div",{className:"min-h-screen bg-gray-50 p-6",children:[(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow-sm p-6 mb-6",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,s.jsx)("h1",{className:"text-2xl font-bold text-gray-800",children:"Gallery Manager"}),(0,s.jsxs)("button",{onClick:()=>me("create"),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",children:[(0,s.jsx)(Pi.A,{className:"w-4 h-4"}),"Upload Image"]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4 mb-4",children:[(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(G.A,{className:"absolute left-3 top-3 w-4 h-4 text-gray-400"}),(0,s.jsx)("input",{type:"text",placeholder:"Search images...",value:_,onChange:e=>I(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,s.jsxs)("select",{value:E,onChange:e=>T(e.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[(0,s.jsx)("option",{value:"all",children:"All Categories"}),t.map(e=>(0,s.jsx)("option",{value:e.name,children:e.name},e.name))]}),(0,s.jsxs)("select",{value:W,onChange:e=>F(e.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[(0,s.jsx)("option",{value:"all",children:"All Status"}),(0,s.jsx)("option",{value:"true",children:"Active"}),(0,s.jsx)("option",{value:"false",children:"Inactive"})]}),(0,s.jsxs)("select",{value:P,onChange:e=>R(e.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[(0,s.jsx)("option",{value:"all",children:"All Protection"}),(0,s.jsx)("option",{value:"true",children:"Protected"}),(0,s.jsx)("option",{value:"false",children:"Unprotected"})]}),(0,s.jsx)("div",{className:"flex gap-2",children:(0,s.jsx)("button",{onClick:()=>u("grid"===x?"list":"grid"),className:"p-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:"grid"===x?(0,s.jsx)(V.A,{className:"w-4 h-4"}):(0,s.jsx)(J.A,{className:"w-4 h-4"})})})]}),g.length>0&&(0,s.jsxs)("div",{className:"flex gap-2 p-3 bg-blue-50 rounded-lg",children:[(0,s.jsxs)("span",{className:"text-sm text-blue-800",children:[g.length," selected"]}),(0,s.jsx)("button",{onClick:()=>ce({is_active:!0}),className:"text-xs bg-green-600 text-white px-2 py-1 rounded",children:"Activate"}),(0,s.jsx)("button",{onClick:()=>ce({is_active:!1}),className:"text-xs bg-gray-600 text-white px-2 py-1 rounded",children:"Deactivate"}),(0,s.jsx)("button",{onClick:()=>ce({is_protected:!0}),className:"text-xs bg-yellow-600 text-white px-2 py-1 rounded",children:"Protect"}),(0,s.jsx)("button",{onClick:()=>h([]),className:"text-xs bg-red-600 text-white px-2 py-1 rounded",children:"Clear Selection"})]})]}),l&&(0,s.jsxs)("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded mb-4 flex items-center gap-2",children:[(0,s.jsx)(lc.A,{className:"w-4 h-4"}),l]}),d&&(0,s.jsx)("div",{className:"bg-green-50 border border-green-200 text-green-700 px-4 py-3 rounded mb-4",children:d}),(0,s.jsx)("div",{className:"bg-white rounded-lg shadow-sm",children:r?(0,s.jsxs)("div",{className:"p-8 text-center",children:[(0,s.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),(0,s.jsx)("p",{className:"mt-4 text-gray-600",children:"Loading images..."})]}):0===e.length?(0,s.jsxs)("div",{className:"p-8 text-center text-gray-500",children:[(0,s.jsx)(vc.A,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),(0,s.jsx)("p",{children:"No images found. Upload your first image to get started!"})]}):(0,s.jsxs)(s.Fragment,{children:["grid"===x?(0,s.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4 p-6",children:e.map(e=>(0,s.jsxs)("div",{className:"group relative bg-white border border-gray-200 rounded-lg overflow-hidden hover:shadow-md transition-shadow",children:[(0,s.jsxs)("div",{className:"aspect-square relative",children:[(0,s.jsx)("img",{src:e.image_url,alt:e.alt_text,className:"w-full h-full object-cover",onError:e=>{e.target.src="/api/placeholder/200/200"}}),(0,s.jsx)("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-50 transition-opacity flex items-center justify-center",children:(0,s.jsxs)("div",{className:"opacity-0 group-hover:opacity-100 transition-opacity flex gap-2",children:[(0,s.jsx)("button",{onClick:()=>me("view",e),className:"bg-white text-gray-700 p-2 rounded-full hover:bg-gray-100",children:(0,s.jsx)(vt.A,{className:"w-4 h-4"})}),(0,s.jsx)("button",{onClick:()=>me("edit",e),className:"bg-white text-gray-700 p-2 rounded-full hover:bg-gray-100",children:(0,s.jsx)(cc.A,{className:"w-4 h-4"})}),!e.is_protected&&(0,s.jsx)("button",{onClick:()=>se(e.id),className:"bg-white text-red-600 p-2 rounded-full hover:bg-red-50",children:(0,s.jsx)(nc.A,{className:"w-4 h-4"})})]})}),(0,s.jsxs)("div",{className:"absolute top-2 left-2 flex gap-1",children:[e.is_protected&&(0,s.jsx)("span",{className:"bg-yellow-500 text-white text-xs px-2 py-1 rounded",children:"Protected"}),!e.is_active&&(0,s.jsx)("span",{className:"bg-red-500 text-white text-xs px-2 py-1 rounded",children:"Inactive"})]}),(0,s.jsx)("input",{type:"checkbox",checked:g.includes(e.id),onChange:n=>{n.target.checked?h([...g,e.id]):h(g.filter(n=>n!==e.id))},className:"absolute top-2 right-2 w-4 h-4"})]}),(0,s.jsxs)("div",{className:"p-3",children:[(0,s.jsx)("h3",{className:"font-medium text-gray-900 truncate",children:e.name}),(0,s.jsx)("p",{className:"text-sm text-gray-500 truncate",children:e.category}),(0,s.jsxs)("div",{className:"flex justify-between items-center mt-2",children:[(0,s.jsx)("span",{className:"text-xs text-gray-400",children:e.file_size&&xe(e.file_size)}),(0,s.jsxs)("div",{className:"flex gap-1",children:[(0,s.jsx)("button",{onClick:()=>le(e.id,e.is_protected),className:"p-1 rounded ".concat(e.is_protected?"text-yellow-600":"text-gray-400"),children:e.is_protected?(0,s.jsx)(Xr.A,{className:"w-3 h-3"}):(0,s.jsx)(wc.A,{className:"w-3 h-3"})}),(0,s.jsx)("span",{className:"w-2 h-2 rounded-full ".concat(e.is_active?"bg-green-500":"bg-red-500")})]})]})]})]},e.id))}):(0,s.jsx)("div",{className:"divide-y divide-gray-200",children:e.map(e=>(0,s.jsxs)("div",{className:"p-4 hover:bg-gray-50 flex items-center gap-4",children:[(0,s.jsx)("input",{type:"checkbox",checked:g.includes(e.id),onChange:n=>{n.target.checked?h([...g,e.id]):h(g.filter(n=>n!==e.id))},className:"w-4 h-4"}),(0,s.jsx)("img",{src:e.image_url,alt:e.alt_text,className:"w-12 h-12 object-cover rounded"}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("h3",{className:"font-medium text-gray-900",children:e.name}),e.is_protected&&(0,s.jsx)(Xr.A,{className:"w-4 h-4 text-yellow-600"}),!e.is_active&&(0,s.jsx)(jt.A,{className:"w-4 h-4 text-red-600"})]}),(0,s.jsx)("p",{className:"text-sm text-gray-500",children:e.description}),(0,s.jsxs)("div",{className:"flex items-center gap-4 mt-1 text-xs text-gray-400",children:[(0,s.jsx)("span",{children:e.category}),(0,s.jsx)("span",{children:e.file_size&&xe(e.file_size)}),(0,s.jsxs)("span",{children:[e.width,"x",e.height]})]})]}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)("button",{onClick:()=>me("view",e),className:"p-2 text-gray-400 hover:text-gray-600",children:(0,s.jsx)(vt.A,{className:"w-4 h-4"})}),(0,s.jsx)("button",{onClick:()=>me("edit",e),className:"p-2 text-gray-400 hover:text-gray-600",children:(0,s.jsx)(cc.A,{className:"w-4 h-4"})}),(0,s.jsx)("button",{onClick:()=>le(e.id,e.is_protected),className:"p-2 ".concat(e.is_protected?"text-yellow-600":"text-gray-400"," hover:text-yellow-700"),children:e.is_protected?(0,s.jsx)(Xr.A,{className:"w-4 h-4"}):(0,s.jsx)(wc.A,{className:"w-4 h-4"})}),!e.is_protected&&(0,s.jsx)("button",{onClick:()=>se(e.id),className:"p-2 text-red-400 hover:text-red-600",children:(0,s.jsx)(nc.A,{className:"w-4 h-4"})})]})]},e.id))}),U>1&&(0,s.jsxs)("div",{className:"flex justify-between items-center p-4 border-t border-gray-200",children:[(0,s.jsxs)("div",{className:"text-sm text-gray-600",children:["Page ",H," of ",U]}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)("button",{onClick:()=>q(Math.max(1,H-1)),disabled:1===H,className:"px-3 py-1 border border-gray-300 rounded disabled:opacity-50",children:"Previous"}),(0,s.jsx)("button",{onClick:()=>q(Math.min(U,H+1)),disabled:H===U,className:"px-3 py-1 border border-gray-300 rounded disabled:opacity-50",children:"Next"})]})]})]})}),f&&(0,s.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,s.jsx)("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:(0,s.jsxs)("div",{className:"p-6",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,s.jsxs)("h2",{className:"text-xl font-bold",children:["create"===y&&"Upload New Image","edit"===y&&"Edit Image","view"===y&&"View Image"]}),(0,s.jsx)("button",{onClick:()=>b(!1),className:"text-gray-400 hover:text-gray-600",children:(0,s.jsx)(ie.A,{className:"w-6 h-6"})})]}),ee&&(0,s.jsx)("div",{className:"mb-4",children:(0,s.jsx)("img",{src:ee,alt:"Preview",className:"w-full h-64 object-cover rounded-lg border"})}),"view"!==y&&(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Image File"}),(0,s.jsx)("input",{ref:te,type:"file",accept:"image/*",onChange:e=>{const n=e.target.files[0];if(n){Q(n);const e=new FileReader;e.onload=e=>ne(e.target.result),e.readAsDataURL(n),X.name||Z(e=>(0,m.A)((0,m.A)({},e),{},{name:n.name.split(".")[0]}))}},className:"w-full p-3 border border-gray-300 rounded-lg"})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Name *"}),(0,s.jsx)("input",{type:"text",value:X.name,onChange:e=>Z(n=>(0,m.A)((0,m.A)({},n),{},{name:e.target.value})),className:"w-full p-3 border border-gray-300 rounded-lg",disabled:"view"===y,required:!0})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),(0,s.jsx)("textarea",{value:X.description,onChange:e=>Z(n=>(0,m.A)((0,m.A)({},n),{},{description:e.target.value})),className:"w-full p-3 border border-gray-300 rounded-lg h-24",disabled:"view"===y})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Alt Text"}),(0,s.jsx)("input",{type:"text",value:X.alt_text,onChange:e=>Z(n=>(0,m.A)((0,m.A)({},n),{},{alt_text:e.target.value})),className:"w-full p-3 border border-gray-300 rounded-lg",disabled:"view"===y})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category"}),(0,s.jsx)("select",{value:X.category,onChange:e=>Z(n=>(0,m.A)((0,m.A)({},n),{},{category:e.target.value})),className:"w-full p-3 border border-gray-300 rounded-lg",disabled:"view"===y,children:t.map(e=>(0,s.jsx)("option",{value:e.name,children:e.name},e.name))})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Usage Locations"}),(0,s.jsx)("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:ae.map(e=>(0,s.jsxs)("label",{className:"flex items-center gap-2",children:[(0,s.jsx)("input",{type:"checkbox",checked:X.usage_locations.includes(e.value),onChange:n=>{n.target.checked?Z(n=>(0,m.A)((0,m.A)({},n),{},{usage_locations:[...n.usage_locations,e.value]})):Z(n=>(0,m.A)((0,m.A)({},n),{},{usage_locations:n.usage_locations.filter(n=>n!==e.value)}))},disabled:"view"===y,className:"w-4 h-4"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"text-sm font-medium",children:e.label}),(0,s.jsx)("div",{className:"text-xs text-gray-500",children:e.description})]})]},e.value))})]}),"edit"===y&&(0,s.jsx)("div",{children:(0,s.jsxs)("label",{className:"flex items-center gap-2",children:[(0,s.jsx)("input",{type:"checkbox",checked:X.is_active,onChange:e=>Z(n=>(0,m.A)((0,m.A)({},n),{},{is_active:e.target.checked})),className:"w-4 h-4"}),(0,s.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Active"})]})}),"view"===y&&v&&(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"font-medium",children:"File Size:"}),(0,s.jsx)("span",{className:"ml-2",children:v.file_size?xe(v.file_size):"Unknown"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"font-medium",children:"Dimensions:"}),(0,s.jsxs)("span",{className:"ml-2",children:[v.width,"x",v.height]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"font-medium",children:"File Type:"}),(0,s.jsx)("span",{className:"ml-2",children:v.file_type})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"font-medium",children:"Created:"}),(0,s.jsx)("span",{className:"ml-2",children:new Date(v.created_at).toLocaleDateString()})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"font-medium",children:"Status:"}),(0,s.jsx)("span",{className:"ml-2 px-2 py-1 rounded text-xs ".concat(v.is_active?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:v.is_active?"Active":"Inactive"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"font-medium",children:"Protected:"}),(0,s.jsx)("span",{className:"ml-2 px-2 py-1 rounded text-xs ".concat(v.is_protected?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"),children:v.is_protected?"Yes":"No"})]})]})]}),"view"!==y&&(0,s.jsxs)("div",{className:"flex justify-end gap-3 mt-6 pt-4 border-t",children:[(0,s.jsx)("button",{onClick:()=>b(!1),className:"px-4 py-2 text-gray-600 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:"Cancel"}),(0,s.jsxs)("button",{onClick:"create"===y?async()=>{if(!$)return void c("Please select an image file");const e=new FormData;e.append("image",$),e.append("name",X.name),e.append("description",X.description),e.append("alt_text",X.alt_text||X.name),e.append("category",X.category),e.append("usage_locations",JSON.stringify(X.usage_locations));try{o(!0),await fetch("".concat(Ge,"/gallery"),{method:"POST",body:e}),p("Image uploaded successfully"),b(!1),pe(),oe()}catch(l){c("Failed to upload image: "+l.message)}finally{o(!1)}}:async()=>{const e=new FormData;$&&e.append("image",$),e.append("name",X.name),e.append("description",X.description),e.append("alt_text",X.alt_text),e.append("category",X.category),e.append("usage_locations",JSON.stringify(X.usage_locations)),e.append("is_active",X.is_active);try{o(!0),await fetch("".concat(Ge,"/gallery, {currentImage.id}"),{method:"PUT",body:e}),p("Image updated successfully"),b(!1),pe(),oe()}catch(l){c("Failed to update image: "+l.message)}finally{o(!1)}},disabled:r||!X.name.trim(),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-2",children:[r?(0,s.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):(0,s.jsx)(ec.A,{className:"w-4 h-4"}),"create"===y?"Upload":"Update"]})]}),"view"===y&&(0,s.jsxs)("div",{className:"flex justify-between items-center mt-6 pt-4 border-t",children:[(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsxs)("a",{href:null===v||void 0===v?void 0:v.image_url,target:"_blank",rel:"noopener noreferrer",className:"px-3 py-2 text-blue-600 bg-blue-50 rounded-lg hover:bg-blue-100 transition-colors flex items-center gap-2 text-sm",children:[(0,s.jsx)(mt.A,{className:"w-4 h-4"}),"Download"]}),(0,s.jsxs)("button",{onClick:()=>le(v.id,v.is_protected),className:"px-3 py-2 rounded-lg transition-colors flex items-center gap-2 text-sm ".concat(v.is_protected?"text-yellow-700 bg-yellow-50 hover:bg-yellow-100":"text-gray-600 bg-gray-50 hover:bg-gray-100"),children:[v.is_protected?(0,s.jsx)(Xr.A,{className:"w-4 h-4"}):(0,s.jsx)(wc.A,{className:"w-4 h-4"}),v.is_protected?"Unprotect":"Protect"]})]}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsxs)("button",{onClick:()=>j("edit"),className:"px-4 py-2 text-blue-600 bg-blue-50 rounded-lg hover:bg-blue-100 transition-colors flex items-center gap-2",children:[(0,s.jsx)(cc.A,{className:"w-4 h-4"}),"Edit"]}),(0,s.jsx)("button",{onClick:()=>b(!1),className:"px-4 py-2 text-gray-600 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:"Close"})]})]})]})})}),A&&(0,s.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,s.jsxs)("div",{className:"bg-white rounded-lg max-w-md w-full p-6",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,s.jsx)("div",{className:"p-2 bg-red-100 rounded-full",children:(0,s.jsx)(lc.A,{className:"w-5 h-5 text-red-600"})}),(0,s.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Confirm Action"})]}),(0,s.jsx)("p",{className:"text-gray-700 mb-6",children:z}),(0,s.jsxs)("div",{className:"flex justify-end gap-3",children:[(0,s.jsx)("button",{onClick:()=>k(!1),className:"px-4 py-2 text-gray-600 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:"Cancel"}),(0,s.jsx)("button",{onClick:async()=>{S&&await S(),k(!1),C(null),N("")},className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:"Confirm"})]})]})}),(0,s.jsxs)("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,s.jsx)("div",{className:"bg-white p-4 rounded-lg shadow-sm",children:(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"p-2 bg-blue-100 rounded-lg",children:(0,s.jsx)(vc.A,{className:"w-5 h-5 text-blue-600"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-gray-600",children:"Total Images"}),(0,s.jsx)("p",{className:"text-xl font-semibold",children:e.length})]})]})}),(0,s.jsx)("div",{className:"bg-white p-4 rounded-lg shadow-sm",children:(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"p-2 bg-green-100 rounded-lg",children:(0,s.jsx)(vt.A,{className:"w-5 h-5 text-green-600"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-gray-600",children:"Active"}),(0,s.jsx)("p",{className:"text-xl font-semibold",children:e.filter(e=>e.is_active).length})]})]})}),(0,s.jsx)("div",{className:"bg-white p-4 rounded-lg shadow-sm",children:(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"p-2 bg-yellow-100 rounded-lg",children:(0,s.jsx)(Xr.A,{className:"w-5 h-5 text-yellow-600"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-gray-600",children:"Protected"}),(0,s.jsx)("p",{className:"text-xl font-semibold",children:e.filter(e=>e.is_protected).length})]})]})}),(0,s.jsx)("div",{className:"bg-white p-4 rounded-lg shadow-sm",children:(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"p-2 bg-purple-100 rounded-lg",children:(0,s.jsx)(Y.A,{className:"w-5 h-5 text-purple-600"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-gray-600",children:"Categories"}),(0,s.jsx)("p",{className:"text-xl font-semibold",children:t.length})]})]})})]}),(0,s.jsxs)("div",{className:"mt-6 bg-white rounded-lg shadow-sm p-6",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Quick Access by Usage Location"}),(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:ae.map(n=>{const t=e.filter(e=>JSON.parse(e.usage_locations||"[]").includes(n.value));return(0,s.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4 hover:shadow-sm transition-shadow",children:[(0,s.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,s.jsx)("h4",{className:"font-medium text-gray-900",children:n.label}),(0,s.jsx)("span",{className:"text-sm text-gray-500 bg-gray-100 px-2 py-1 rounded",children:t.length})]}),(0,s.jsx)("p",{className:"text-sm text-gray-600 mb-3",children:n.description}),t.length>0?(0,s.jsxs)("div",{className:"flex -space-x-2 overflow-hidden",children:[t.slice(0,4).map((e,n)=>(0,s.jsx)("img",{src:e.image_url,alt:e.alt_text,className:"inline-block h-8 w-8 rounded-full ring-2 ring-white object-cover cursor-pointer hover:z-10 hover:scale-110 transition-transform",onClick:()=>me("view",e),onError:e=>{e.target.src="/api/placeholder/32/32"}},e.id)),t.length>4&&(0,s.jsx)("div",{className:"inline-block h-8 w-8 rounded-full ring-2 ring-white bg-gray-100 flex items-center justify-center",children:(0,s.jsxs)("span",{className:"text-xs text-gray-600",children:["+",t.length-4]})})]}):(0,s.jsxs)("button",{onClick:()=>{Z(e=>(0,m.A)((0,m.A)({},e),{},{usage_locations:[n.value]})),me("create")},className:"text-blue-600 text-sm hover:text-blue-700 flex items-center gap-1",children:[(0,s.jsx)(Pi.A,{className:"w-3 h-3"}),"Add Image"]})]},n.value)})})]})]})},kc=()=>{const[e,n]=(0,i.useState)([]),[t,a]=(0,i.useState)([]),[r,o]=(0,i.useState)(!1),[l,c]=(0,i.useState)(!0),[d,p]=(0,i.useState)(""),[m,x]=(0,i.useState)(""),[u,g]=(0,i.useState)(""),[h,f]=(0,i.useState)(""),[b,y]=(0,i.useState)(0),[j,v]=(0,i.useState)(10),[w,A]=(0,i.useState)(!1),[k,S]=(0,i.useState)(""),[C,z]=(0,i.useState)(""),[T,W]=(0,i.useState)(""),[F,P]=(0,i.useState)(null),[R,B]=(0,i.useState)("community"),[D,L]=(0,i.useState)(!1),[M,H]=(0,i.useState)(!1),[q,O]=(0,i.useState)(!1),[U,Y]=(0,i.useState)(""),[G,V]=(0,i.useState)(!1),[J,K]=(0,i.useState)(null),[X,Z]=(0,i.useState)(""),[$,Q]=(0,i.useState)(""),[ee,ne]=(0,i.useState)(""),[te,ae]=(0,i.useState)("community"),[re,oe]=(0,i.useState)(!1),[ie,se]=(0,i.useState)(null),[le,ce]=(0,i.useState)(""),pe=(0,i.useCallback)(async()=>{try{c(!0);const e=(await cn.A.get("".concat(Ge,"/generaltestimonials"),{withCredentials:!0})).data.sort((e,n)=>e.featured&&!n.featured?-1:!e.featured&&n.featured?1:"".concat(e.first_name," ").concat(e.last_name).localeCompare("".concat(n.first_name," ").concat(n.last_name)));n(e),p("")}catch(e){console.error("Error fetching testimonials:",e),p("Failed to load testimonials"),n([])}finally{c(!1)}},[]);(0,i.useEffect)(()=>{pe()},[pe]),(0,i.useEffect)(()=>{let n=e;m&&(n=n.filter(e=>"".concat(e.first_name," ").concat(e.last_name).toLowerCase().includes(m.toLowerCase())||e.testimonial.toLowerCase().includes(m.toLowerCase()))),u&&(n=n.filter(e=>(e.type||"community").toLowerCase()===u)),h&&("featured"===h?n=n.filter(e=>e.featured):"not-featured"===h&&(n=n.filter(e=>!e.featured))),n=n.sort((e,n)=>e.featured&&!n.featured?-1:!e.featured&&n.featured?1:"".concat(e.first_name," ").concat(e.last_name).localeCompare("".concat(n.first_name," ").concat(n.last_name))),a(n),y(0)},[e,m,u,h]);const me=()=>{x(""),g(""),f("")},xe=()=>{S(""),z(""),W(""),P(null),B("community"),L(!1),Y(""),O(!1);const e=document.querySelector('input[type="file"]');e&&(e.value="")},ue=()=>{A(!1),xe()},ge=async e=>{if(e.preventDefault(),!k||!C||!T||!R)return void Y("First name, last name, testimonial, and type are required");const n=new FormData;n.append("first_name",k.trim()),n.append("last_name",C.trim()),n.append("testimonial",T.trim()),n.append("type",R.toLowerCase()),n.append("featured",D),F&&n.append("image",F),H(!0),Y(""),O(!1);try{await cn.A.post("".concat(Ge,"/generaltestimonials"),n,{withCredentials:!0,headers:{"Content-Type":"multipart/form-data"}}),O(!0),pe(),setTimeout(()=>{ue()},2e3)}catch(o){var t,a,r;console.error("Error adding testimonial:",o),413===(null===(t=o.response)||void 0===t?void 0:t.status)?Y("File too large. Please choose a smaller image."):null!==(a=o.response)&&void 0!==a&&null!==(r=a.data)&&void 0!==r&&r.message?Y("Failed to add testimonial: ".concat(o.response.data.message)):Y("Failed to add testimonial. Please try again.")}finally{H(!1)}},he=()=>{V(!1),K(null),Z(""),Q(""),ne(""),ae("community"),oe(!1),se(null),ce(""),Y(""),O(!1)},fe=t.slice(b*j,b*j+j),be=e=>({community:"primary",volunteers:"secondary",collaborators:"success"}[null===e||void 0===e?void 0:e.toLowerCase()]||"default"),ye=e=>({community:"Community",volunteers:"Volunteers",collaborators:"Collaborators"}[null===e||void 0===e?void 0:e.toLowerCase()]||"Community"),je=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100;return e.length<=n?e:e.substring(0,n)+"..."};return l?(0,s.jsx)(N.A,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:400},children:(0,s.jsx)(On.A,{size:60})}):(0,s.jsxs)(N.A,{sx:{p:3,position:"relative"},children:[(0,s.jsxs)(N.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3},children:[(0,s.jsxs)(_.A,{variant:"h4",gutterBottom:!0,children:["Testimonials Management (",e.length," total, ",t.length," shown)"]}),(0,s.jsx)(E.A,{variant:"contained",color:"primary",startIcon:(0,s.jsx)(us.A,{}),onClick:()=>{xe(),A(!0)},size:"large",children:"Add Testimonial"})]}),d&&(0,s.jsx)(I.A,{severity:"error",sx:{mb:3},children:d}),(0,s.jsxs)(Rn.A,{elevation:1,sx:{p:3,mb:3},children:[(0,s.jsxs)(_.A,{variant:"h6",sx:{mb:2,display:"flex",alignItems:"center",gap:1},children:[(0,s.jsx)(gs.A,{})," Search & Filters"]}),(0,s.jsxs)(Un.A,{container:!0,spacing:2,alignItems:"center",children:[(0,s.jsx)(Un.A,{item:!0,xs:12,md:4,children:(0,s.jsx)(Bn.A,{fullWidth:!0,label:"Search testimonials",value:m,onChange:e=>x(e.target.value),placeholder:"Search by name or testimonial...",InputProps:{startAdornment:(0,s.jsx)(Dn.A,{position:"start",children:(0,s.jsx)($n.A,{})}),endAdornment:m&&(0,s.jsx)(Dn.A,{position:"end",children:(0,s.jsx)(de.A,{onClick:()=>x(""),size:"small",children:(0,s.jsx)(hs.A,{})})})}})}),(0,s.jsx)(Un.A,{item:!0,xs:12,md:3,children:(0,s.jsxs)(Ln.A,{fullWidth:!0,children:[(0,s.jsx)(Mn.A,{children:"Filter by Type"}),(0,s.jsxs)(Hn.A,{value:u,onChange:e=>g(e.target.value),label:"Filter by Type",children:[(0,s.jsx)(qn.A,{value:"",children:"All Types"}),(0,s.jsx)(qn.A,{value:"community",children:"Community"}),(0,s.jsx)(qn.A,{value:"volunteers",children:"Volunteers"}),(0,s.jsx)(qn.A,{value:"collaborators",children:"Collaborators"})]})]})}),(0,s.jsx)(Un.A,{item:!0,xs:12,md:3,children:(0,s.jsxs)(Ln.A,{fullWidth:!0,children:[(0,s.jsx)(Mn.A,{children:"Filter by Status"}),(0,s.jsxs)(Hn.A,{value:h,onChange:e=>f(e.target.value),label:"Filter by Status",children:[(0,s.jsx)(qn.A,{value:"",children:"All Status"}),(0,s.jsx)(qn.A,{value:"featured",children:"Featured Only"}),(0,s.jsx)(qn.A,{value:"not-featured",children:"Not Featured"})]})]})}),(0,s.jsx)(Un.A,{item:!0,xs:12,md:2,children:(0,s.jsx)(E.A,{fullWidth:!0,variant:"outlined",onClick:me,startIcon:(0,s.jsx)(hs.A,{}),disabled:!m&&!u&&!h,children:"Clear Filters"})})]}),(m||u||h)&&(0,s.jsxs)(N.A,{sx:{mt:2},children:[(0,s.jsx)(_.A,{variant:"body2",color:"text.secondary",sx:{mb:1},children:"Active filters:"}),(0,s.jsxs)(Pn.A,{direction:"row",spacing:1,flexWrap:"wrap",children:[m&&(0,s.jsx)(it.A,{label:'Search: "'.concat(m,'"'),onDelete:()=>x(""),size:"small",color:"primary"}),u&&(0,s.jsx)(it.A,{label:"Type: ".concat(ye(u)),onDelete:()=>g(""),size:"small",color:"secondary"}),h&&(0,s.jsx)(it.A,{label:"Status: ".concat("featured"===h?"Featured":"Not Featured"),onDelete:()=>f(""),size:"small",color:"success"})]})]})]}),0===t.length?(0,s.jsxs)(N.A,{sx:{textAlign:"center",py:8},children:[(0,s.jsx)(Ss.A,{sx:{fontSize:80,color:"text.secondary",mb:2}}),(0,s.jsx)(_.A,{variant:"h6",color:"text.secondary",gutterBottom:!0,children:0===e.length?"No testimonials found":"No testimonials match your filters"}),(0,s.jsx)(_.A,{variant:"body2",color:"text.secondary",sx:{mb:3},children:0===e.length?'Click the "Add Testimonial" button to get started':"Try adjusting your search or filter criteria"}),(m||u||h)&&(0,s.jsx)(E.A,{variant:"outlined",onClick:me,children:"Clear All Filters"})]}):(0,s.jsxs)(Rn.A,{elevation:1,children:[(0,s.jsx)(as.A,{children:(0,s.jsxs)(rs.A,{children:[(0,s.jsx)(os.A,{children:(0,s.jsxs)(is.A,{sx:{backgroundColor:"#f5f5f5"},children:[(0,s.jsx)(ss.A,{sx:{fontWeight:600,minWidth:200},children:"Person"}),(0,s.jsx)(ss.A,{sx:{fontWeight:600,minWidth:300},children:"Testimonial"}),(0,s.jsx)(ss.A,{sx:{fontWeight:600,minWidth:120},children:"Type"}),(0,s.jsx)(ss.A,{sx:{fontWeight:600,minWidth:100,textAlign:"center"},children:"Featured"}),(0,s.jsx)(ss.A,{sx:{fontWeight:600,minWidth:100},children:"Photo"}),(0,s.jsx)(ss.A,{sx:{fontWeight:600,minWidth:120,textAlign:"center"},children:"Actions"})]})}),(0,s.jsx)(ls.A,{children:fe.map(e=>(0,s.jsxs)(is.A,{sx:{"&:hover":{backgroundColor:"#f9f9f9"},"&:last-child td, &:last-child th":{border:0}},children:[(0,s.jsx)(ss.A,{children:(0,s.jsxs)(_.A,{variant:"subtitle1",sx:{fontWeight:600},children:[e.first_name," ",e.last_name]})}),(0,s.jsx)(ss.A,{children:(0,s.jsx)(_.A,{variant:"body2",sx:{color:"text.secondary"},children:je(e.testimonial,150)})}),(0,s.jsx)(ss.A,{children:(0,s.jsx)(it.A,{label:ye(e.type),color:be(e.type),size:"small",sx:{fontWeight:500}})}),(0,s.jsx)(ss.A,{align:"center",children:(0,s.jsx)(de.A,{onClick:()=>(async(e,n)=>{try{await cn.A.put("".concat(Ge,"/generaltestimonials/").concat(e,"/featured"),{featured:!n},{withCredentials:!0,headers:{"Content-Type":"application/json"}}),pe()}catch(t){console.error("Failed to update featured status:",t),p("Could not update featured status.")}})(e.id,e.featured),color:e.featured?"primary":"default",size:"small",title:e.featured?"Remove from featured":"Mark as featured",disabled:r,children:e.featured?(0,s.jsx)(Zn.A,{}):(0,s.jsx)(xs.A,{})})}),(0,s.jsx)(ss.A,{children:(0,s.jsx)(jo.A,{src:e.image?"".concat(Ve,"/uploads/testimonials/").concat(e.image):"",alt:"".concat(e.first_name," ").concat(e.last_name),sx:{width:50,height:50,backgroundColor:"#f5f5f5"},children:(0,s.jsx)(Ss.A,{})})}),(0,s.jsx)(ss.A,{children:(0,s.jsxs)(N.A,{sx:{display:"flex",justifyContent:"center",gap:1},children:[(0,s.jsx)(de.A,{onClick:()=>(e=>{K(e),Z(e.first_name),Q(e.last_name),ne(e.testimonial),ae(e.type||"community"),oe(e.featured||!1),se(null),ce(e.image),Y(""),O(!1),V(!0)})(e),color:"info",size:"small",sx:{"&:hover":{backgroundColor:"info.light",color:"white"}},children:(0,s.jsx)($i.A,{})}),(0,s.jsx)(de.A,{onClick:()=>(async e=>{if(window.confirm("Delete this testimonial?"))try{await cn.A.delete("".concat(Ge,"/generaltestimonials/").concat(e),{withCredentials:!0}),pe()}catch(n){console.error("Error deleting testimonial:",n),p("Failed to delete testimonial")}})(e.id),color:"error",size:"small",sx:{"&:hover":{backgroundColor:"error.light",color:"white"}},children:(0,s.jsx)(Gi.A,{})})]})})]},e.id))})]})}),(0,s.jsx)(cs.A,{rowsPerPageOptions:[5,10,25,50],component:"div",count:t.length,rowsPerPage:j,page:b,onPageChange:(e,n)=>{y(n)},onRowsPerPageChange:e=>{v(parseInt(e.target.value,10)),y(0)},sx:{borderTop:"1px solid #e0e0e0"}})]}),(0,s.jsxs)(Oi.A,{open:w,onClose:ue,maxWidth:"md",fullWidth:!0,PaperProps:{sx:{maxHeight:"95vh",m:2}},children:[(0,s.jsxs)(Ui.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",pb:2,borderBottom:"1px solid #e0e0e0"},children:[(0,s.jsx)(_.A,{variant:"h6",children:"Add New Testimonial"}),(0,s.jsx)(de.A,{onClick:ue,size:"small",children:(0,s.jsx)(fs.A,{})})]}),(0,s.jsxs)(ds.A,{sx:{p:3},children:[q&&(0,s.jsx)(I.A,{severity:"success",sx:{mb:3},children:"Testimonial added successfully! Closing..."}),U&&(0,s.jsx)(I.A,{severity:"error",sx:{mb:3},children:U}),(0,s.jsx)(N.A,{component:"form",onSubmit:ge,children:(0,s.jsxs)(Un.A,{container:!0,spacing:3,children:[(0,s.jsx)(Un.A,{item:!0,xs:12,md:6,children:(0,s.jsx)(Bn.A,{label:"First Name",value:k,onChange:e=>S(e.target.value),fullWidth:!0,required:!0,disabled:M||q})}),(0,s.jsx)(Un.A,{item:!0,xs:12,md:6,children:(0,s.jsx)(Bn.A,{label:"Last Name",value:C,onChange:e=>z(e.target.value),fullWidth:!0,required:!0,disabled:M||q})}),(0,s.jsx)(Un.A,{item:!0,xs:12,children:(0,s.jsx)(Bn.A,{label:"Testimonial",value:T,onChange:e=>W(e.target.value),fullWidth:!0,required:!0,multiline:!0,rows:4,disabled:M||q,placeholder:"Enter the testimonial text..."})}),(0,s.jsx)(Un.A,{item:!0,xs:12,md:6,children:(0,s.jsxs)(Ln.A,{fullWidth:!0,required:!0,children:[(0,s.jsx)(Mn.A,{children:"Type"}),(0,s.jsxs)(Hn.A,{value:R,onChange:e=>B(e.target.value),label:"Type",disabled:M||q,children:[(0,s.jsx)(qn.A,{value:"community",children:"Community"}),(0,s.jsx)(qn.A,{value:"volunteers",children:"Volunteers"}),(0,s.jsx)(qn.A,{value:"collaborators",children:"Collaborators"})]})]})}),(0,s.jsx)(Un.A,{item:!0,xs:12,md:6,children:(0,s.jsx)(ps.A,{control:(0,s.jsx)(ms.A,{checked:D,onChange:e=>L(e.target.checked),color:"primary",disabled:M||q}),label:"Featured Testimonial"})}),(0,s.jsx)(Un.A,{item:!0,xs:12,children:(0,s.jsxs)(Rn.A,{variant:"outlined",sx:{p:3},children:[(0,s.jsx)(_.A,{variant:"subtitle1",gutterBottom:!0,sx:{fontWeight:600},children:"Person's Photo (Optional)"}),(0,s.jsx)("input",{type:"file",accept:"image/*",onChange:e=>P(e.target.files[0]),disabled:M||q,style:{padding:"12px",border:"2px dashed #e0e0e0",borderRadius:"8px",width:"100%",backgroundColor:"#fafafa"}}),(0,s.jsx)(_.A,{variant:"caption",color:"text.secondary",sx:{mt:2,display:"block"},children:"Recommended: Square image (1:1 ratio), maximum 2MB. Leave empty for default avatar."})]})})]})})]}),(0,s.jsxs)(Yi.A,{sx:{p:3,borderTop:"1px solid #e0e0e0",gap:2},children:[(0,s.jsx)(E.A,{onClick:ue,disabled:M,variant:"outlined",size:"large",children:"Cancel"}),(0,s.jsx)(E.A,{onClick:ge,variant:"contained",disabled:M||q,size:"large",children:M?"Adding...":"Add Testimonial"})]})]}),(0,s.jsxs)(Oi.A,{open:G,onClose:he,maxWidth:"md",fullWidth:!0,PaperProps:{sx:{maxHeight:"95vh",m:2}},children:[(0,s.jsxs)(Ui.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",pb:2,borderBottom:"1px solid #e0e0e0"},children:[(0,s.jsx)(_.A,{variant:"h6",children:"Edit Testimonial"}),(0,s.jsx)(de.A,{onClick:he,size:"small",children:(0,s.jsx)(fs.A,{})})]}),(0,s.jsxs)(ds.A,{sx:{p:3},children:[q&&(0,s.jsx)(I.A,{severity:"success",sx:{mb:3},children:"Testimonial updated successfully! Closing..."}),U&&(0,s.jsx)(I.A,{severity:"error",sx:{mb:3},children:U}),(0,s.jsxs)(Un.A,{container:!0,spacing:3,children:[(0,s.jsx)(Un.A,{item:!0,xs:12,md:6,children:(0,s.jsx)(Bn.A,{label:"First Name",value:X,onChange:e=>Z(e.target.value),required:!0,fullWidth:!0,disabled:M||q})}),(0,s.jsx)(Un.A,{item:!0,xs:12,md:6,children:(0,s.jsx)(Bn.A,{label:"Last Name",value:$,onChange:e=>Q(e.target.value),required:!0,fullWidth:!0,disabled:M||q})}),(0,s.jsx)(Un.A,{item:!0,xs:12,children:(0,s.jsx)(Bn.A,{label:"Testimonial",value:ee,onChange:e=>ne(e.target.value),required:!0,fullWidth:!0,multiline:!0,rows:4,disabled:M||q})}),(0,s.jsx)(Un.A,{item:!0,xs:12,md:6,children:(0,s.jsxs)(Ln.A,{fullWidth:!0,disabled:M||q,children:[(0,s.jsx)(Mn.A,{children:"Type"}),(0,s.jsxs)(Hn.A,{value:te,label:"Type",onChange:e=>ae(e.target.value),children:[(0,s.jsx)(qn.A,{value:"community",children:"Community"}),(0,s.jsx)(qn.A,{value:"volunteers",children:"Volunteers"}),(0,s.jsx)(qn.A,{value:"collaborators",children:"Collaborators"})]})]})}),(0,s.jsx)(Un.A,{item:!0,xs:12,md:6,children:(0,s.jsx)(ps.A,{control:(0,s.jsx)(ms.A,{checked:re,onChange:e=>oe(e.target.checked),color:"primary",disabled:M||q}),label:"Featured Testimonial"})}),(0,s.jsx)(Un.A,{item:!0,xs:12,children:(0,s.jsxs)(Rn.A,{variant:"outlined",sx:{p:3},children:[(0,s.jsx)(_.A,{variant:"subtitle1",gutterBottom:!0,sx:{fontWeight:600},children:"Update Photo"}),J&&le&&(0,s.jsxs)(N.A,{sx:{mb:3},children:[(0,s.jsx)(_.A,{variant:"body2",color:"text.secondary",sx:{mb:1},children:"Current photo:"}),(0,s.jsx)(jo.A,{src:"".concat(Ve,"/uploads/testimonials/").concat(le),alt:"Current photo",sx:{width:80,height:80,border:"1px solid #e0e0e0"},children:(0,s.jsx)(Ss.A,{})})]}),(0,s.jsx)("input",{type:"file",accept:"image/*",onChange:e=>se(e.target.files[0]),disabled:M||q,style:{padding:"12px",border:"2px dashed #e0e0e0",borderRadius:"8px",width:"100%",backgroundColor:"#fafafa"}}),(0,s.jsx)(_.A,{variant:"caption",color:"text.secondary",sx:{mt:2,display:"block"},children:"Leave empty to keep current photo. Upload new image to replace."})]})})]})]}),(0,s.jsxs)(Yi.A,{sx:{p:3,borderTop:"1px solid #e0e0e0",gap:2},children:[(0,s.jsx)(E.A,{onClick:he,disabled:M,variant:"outlined",size:"large",children:"Cancel"}),(0,s.jsx)(E.A,{onClick:async()=>{if(X.trim()&&$.trim()&&ee.trim()){H(!0),Y(""),O(!1);try{const e=new FormData;e.append("first_name",X.trim()),e.append("last_name",$.trim()),e.append("testimonial",ee.trim()),e.append("type",te.toLowerCase()),e.append("featured",re),ie&&e.append("image",ie),await cn.A.put("".concat(Ge,"/generaltestimonials/").concat(J.id),e,{withCredentials:!0,headers:{"Content-Type":"multipart/form-data"}}),O(!0),pe(),setTimeout(()=>{he()},2e3)}catch(t){var e,n;console.error("Error updating testimonial:",t),Y("Failed to update testimonial: ".concat((null===(e=t.response)||void 0===e||null===(n=e.data)||void 0===n?void 0:n.message)||t.message))}finally{H(!1)}}else Y("First name, last name, and testimonial are required")},variant:"contained",disabled:M||q,size:"large",children:M?"Updating...":"Update Testimonial"})]})]})]})},Sc=()=>{const{muiTheme:e}=y();return(0,s.jsxs)(r.A,{theme:e,children:[(0,s.jsx)(o.Ay,{}),(0,s.jsx)(p,{children:(0,s.jsx)(z,{children:(0,s.jsx)("div",{className:"appWrapper",children:(0,s.jsxs)(a.Kd,{children:[(0,s.jsxs)(a.BV,{children:[(0,s.jsx)(a.qh,{path:"/",element:(0,s.jsx)(ft,{})}),(0,s.jsx)(a.qh,{path:"/home",element:(0,s.jsx)(ft,{})}),(0,s.jsx)(a.qh,{path:"/about-us",element:(0,s.jsx)(co,{})}),(0,s.jsx)(a.qh,{path:"/contact-us",element:(0,s.jsx)(fo,{})}),(0,s.jsx)(a.qh,{path:"/login",element:(0,s.jsx)(Jt,{})}),(0,s.jsx)(a.qh,{path:"/forgot-password",element:(0,s.jsx)(Kr,{})}),(0,s.jsx)(a.qh,{path:"/reset-password/:token",element:(0,s.jsx)(Zr,{})}),(0,s.jsx)(a.qh,{path:"/activate-account/:token",element:(0,s.jsx)(no,{})}),(0,s.jsx)(a.qh,{path:"/unauthorized",element:(0,s.jsx)(No,{})}),(0,s.jsx)(a.qh,{path:"/get-involved",element:(0,s.jsx)(Ea,{})}),(0,s.jsx)(a.qh,{path:"/impact",element:(0,s.jsx)(hr,{})}),(0,s.jsx)(a.qh,{path:"/programs",element:(0,s.jsx)(hi,{})}),(0,s.jsx)(a.qh,{path:"/donate",element:(0,s.jsx)(Re,{})}),(0,s.jsx)(a.qh,{path:"/donor-wall",element:(0,s.jsx)(Ai,{})}),(0,s.jsx)(a.qh,{path:"/insights",element:(0,s.jsx)(on,{})}),(0,s.jsx)(a.qh,{path:"/projects",element:(0,s.jsx)(ct,{})}),(0,s.jsx)(a.qh,{path:"/project/:id",element:(0,s.jsx)(zo,{})}),(0,s.jsx)(a.qh,{path:"/impact-statistics",element:(0,s.jsx)(ha,{})}),(0,s.jsx)(a.qh,{path:"/CompanyLocationsMap",element:(0,s.jsx)(Qt,{})}),(0,s.jsx)(a.qh,{path:"/CountryInfoDisplay",element:(0,s.jsx)(zi,{})}),(0,s.jsx)(a.qh,{path:"/events",element:(0,s.jsx)(Xt,{})}),(0,s.jsx)(a.qh,{path:"/jobs",element:(0,s.jsx)(Ti,{})}),(0,s.jsx)(a.qh,{path:"/countries",element:(0,s.jsx)(Ca,{})}),(0,s.jsx)(a.qh,{path:"/country/:countryName",element:(0,s.jsx)(zi,{})}),(0,s.jsx)(a.qh,{path:"/findbycountry",element:(0,s.jsx)(ca,{})}),(0,s.jsx)(a.qh,{path:"/projectscatalogue",element:(0,s.jsx)(ot,{})}),(0,s.jsx)(a.qh,{path:"/privacy-policy",element:(0,s.jsx)(fi,{})}),(0,s.jsx)(a.qh,{path:"/terms-of-service",element:(0,s.jsx)(bi,{})}),(0,s.jsx)(a.qh,{path:"/sitemap.xml",element:(0,s.jsx)(yi,{})}),(0,s.jsxs)(a.qh,{element:(0,s.jsx)(B,{}),children:[(0,s.jsx)(a.qh,{path:"/profile",element:(0,s.jsx)(Kt,{})}),(0,s.jsxs)(a.qh,{path:"/admin/dashboard",element:(0,s.jsx)(pl,{}),children:[(0,s.jsx)(a.qh,{index:!0,element:(0,s.jsx)(El,{})}),(0,s.jsx)(a.qh,{path:"categories",element:(0,s.jsx)(D,{path:"/admin/dashboard/categories",children:(0,s.jsx)(ts,{})})}),(0,s.jsx)(a.qh,{path:"countries",element:(0,s.jsx)(D,{path:"/admin/dashboard/countries",children:(0,s.jsx)(Ki,{})})}),(0,s.jsx)(a.qh,{path:"users",element:(0,s.jsx)(D,{path:"/admin/dashboard/users",children:(0,s.jsx)(Rs,{})})}),(0,s.jsx)(a.qh,{path:"jobmanager",element:(0,s.jsx)(D,{path:"/admin/dashboard/jobmanager",children:(0,s.jsx)(sc,{})})}),(0,s.jsx)(a.qh,{path:"collaboration",element:(0,s.jsx)(D,{path:"/admin/dashboard/collaboration",children:(0,s.jsx)(pc,{})})}),(0,s.jsx)(a.qh,{path:"highlights",element:(0,s.jsx)(D,{path:"/admin/dashboard/highlights",children:(0,s.jsx)(jc,{})})}),(0,s.jsx)(a.qh,{path:"gallerymanager",element:(0,s.jsx)(D,{path:"/admin/dashboard/gallerymanager",children:(0,s.jsx)(Ac,{})})}),(0,s.jsx)(a.qh,{path:"adminmanagegeneraltestimonials",element:(0,s.jsx)(D,{path:"/admin/dashboard/adminmanagegeneraltestimonials",children:(0,s.jsx)(kc,{})})}),(0,s.jsx)(a.qh,{path:"generator",element:(0,s.jsx)(D,{path:"/admin/dashboard/generator",children:(0,s.jsx)(Di,{})})}),(0,s.jsx)(a.qh,{path:"manage-logo",element:(0,s.jsx)(D,{path:"/admin/dashboard/manage-logo",children:(0,s.jsx)(ql,{})})}),(0,s.jsx)(a.qh,{path:"manage-transactions",element:(0,s.jsx)(D,{path:"/admin/dashboard/manage-transactions",children:(0,s.jsx)(Zl,{})})}),(0,s.jsx)(a.qh,{path:"whatsapp",element:(0,s.jsx)(D,{path:"/admin/dashboard/whatsapp",children:(0,s.jsx)(ml,{})})}),(0,s.jsx)(a.qh,{path:"managedonate",element:(0,s.jsx)(D,{path:"/admin/dashboard/managedonate",children:(0,s.jsx)(Ll,{})})}),(0,s.jsx)(a.qh,{path:"manage-blogs",element:(0,s.jsx)(D,{path:"/admin/dashboard/manage-blogs",children:(0,s.jsx)(Bl,{})})}),(0,s.jsx)(a.qh,{path:"projects",element:(0,s.jsx)(D,{path:"/admin/dashboard/projects",children:(0,s.jsx)(Al,{})})}),(0,s.jsx)(a.qh,{path:"pillars",element:(0,s.jsx)(D,{path:"/admin/dashboard/pillars",children:(0,s.jsx)(oc,{})})}),(0,s.jsx)(a.qh,{path:"team",element:(0,s.jsx)(D,{path:"/admin/dashboard/team",children:(0,s.jsx)(zs,{})})}),(0,s.jsx)(a.qh,{path:"partners",element:(0,s.jsx)(D,{path:"/admin/dashboard/partners",children:(0,s.jsx)(ys,{})})}),(0,s.jsx)(a.qh,{path:"newsletter",element:(0,s.jsx)(D,{path:"/admin/dashboard/newsletter",children:(0,s.jsx)(Ol,{})})}),(0,s.jsx)(a.qh,{path:"manage-videos",element:(0,s.jsx)(D,{path:"/admin/dashboard/manage-videos",children:(0,s.jsx)(ac,{})})}),(0,s.jsx)(a.qh,{path:"contacts",element:(0,s.jsx)(D,{path:"/admin/dashboard/contacts",children:(0,s.jsx)(Zi,{})})}),(0,s.jsx)(a.qh,{path:"events",element:(0,s.jsx)(D,{path:"/admin/dashboard/events",children:(0,s.jsx)(ic,{})})}),(0,s.jsx)(a.qh,{path:"volunteers",element:(0,s.jsx)(D,{path:"/admin/dashboard/volunteers",children:(0,s.jsx)(gl,{})})}),(0,s.jsx)(a.qh,{path:"impact",element:(0,s.jsx)(D,{path:"/admin/dashboard/impact",children:(0,s.jsx)(Nl,{})})}),(0,s.jsx)(a.qh,{path:"analytics",element:(0,s.jsx)(ln,{})})]})]})]}),(0,s.jsx)(sn,{})]})})})})]})};const Cc=function(){return(0,s.jsx)(j,{children:(0,s.jsx)(Sc,{})})}}}]);
//# sourceMappingURL=23.a3263e76.chunk.js.map