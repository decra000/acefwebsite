{"version":3,"file":"static/js/23.a3263e76.chunk.js","mappings":"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","sources":["context/AuthContext.js","theme.js","context/LogoContext.js","ProtectedRoutes.js","webpack://frontend/./src/styles/Header.module.css?970f","pages/Donations/DonationModal.jsx","utils/embeddedTranslationService.jsx","components/Header.jsx","config.js","services/newsletterService.js","components/Footer.jsx","components/MailList.jsx","pages/Insights/blognews.jsx","components/ChatAssistant.jsx","components/visitCounters.jsx","components/PartnerSlider.jsx","webpack://frontend/./src/styles/HomePage.module.css?c8a2","components/JoinMovement.jsx","pages/AboutUs/FounderSection.jsx","pages/GetInvolved/GetInvolvedHero.jsx","pages/AboutUs/acefAboutInfo.jsx","pages/Insights/VideoSection.jsx","pages/Impact/Impactstats.jsx","pages/Projects/displayProjects.jsx","pages/Projects/ProjectsDisplay.jsx","pages/Insights/LatestNewsSection.jsx","components/GlassButton.jsx","pages/Events/LatestEvent.jsx","pages/Testimonials/FeaturedTestimonial.jsx","pages/HomePage.jsx","webpack://frontend/./src/styles/LoginForm.module.css?7baa","components/LoginForm.jsx","pages/Auths/Profile.jsx","pages/Events/eventDisplay.jsx","components/FollowAcef.jsx","components/CompanyLocationsMap.jsx","components/FindbyCountry.jsx","pages/Impact/DisplayImpact.js","pages/Impact/countriesReached.jsx","pages/Chatbot/chatbotQuestions.jsx","pages/Chatbot/CollaborationChatbot.jsx","components/ThankYouMessage.jsx","pages/Testimonials/CollVolunteersTestimonials.jsx","pages/GetInvolved/getinvolved.jsx","pages/Impact/FeaturedImpactsDashboard.jsx","pages/Impact/ImpactHero.jsx","pages/Testimonials/GeneralTestimonialsDisplay.jsx","pages/Impact/Impact.jsx","webpack://frontend/./src/styles/AuthPages.module.css?86ac","pages/Auths/ForgotPassword.jsx","pages/Auths/ResetPassword.jsx","pages/Auths/ActivateAccount.js","pages/AboutUs/TeamSection.jsx","pages/AboutUs/MissionVision.jsx","pages/AboutUs/coreValues.jsx","pages/AboutUs/objectives.jsx","pages/AboutUs/Timeline.jsx","pages/AboutUs/AboutUs.jsx","pages/ContactUs/Hero.jsx","services/EmailJSService.js","pages/ContactUs/Main.jsx","pages/ContactUs/index.jsx","pages/Projects/ProjectDetail.jsx","pages/Auths/Unauthorized.jsx","pages/Programs/programSlide.jsx","pages/Programs/CrossCuttingStrategies.jsx","pages/AboutUs/strategicplan.jsx","pages/Programs/programs.jsx","pages/Legals/privacyPolicy.jsx","pages/Legals/termsofservice.jsx","pages/Donations/DonorWall.js","pages/AboutUs/CountrySpecificDisplay.styles.js","pages/AboutUs/CountrySpecificDisplay.jsx","pages/PublicJobDisplay.jsx","pages/admin_dashboard/donorBadge.jsx","pages/admin_dashboard/Admin_AddCountries.jsx","pages/admin_dashboard/AdminManageContacts.js","pages/admin_dashboard/Admin_AddCategories.jsx","pages/admin_dashboard/Admin_ManagePartners.jsx","pages/admin_dashboard/Admin_ManageTeam.jsx","pages/admin_dashboard/Admin_ManageUsers.jsx","pages/admin_dashboard/SideBar/index.jsx","pages/admin_dashboard/DashboardHeader/index.jsx","pages/admin_dashboard/DashboardFooter/index.jsx","pages/admin_dashboard/AdminDashboard.jsx","pages/admin_dashboard/AdminManageWhatsapp.jsx","pages/admin_dashboard/AdminManageVolunteerForms.jsx","pages/admin_dashboard/AdminManageProjects.jsx","pages/admin_dashboard/AdminManageImpact.jsx","pages/admin_dashboard/Overview.jsx","pages/admin_dashboard/ManageBlogs.jsx","pages/admin_dashboard/AdminDonationManagement.js","pages/admin_dashboard/AdminManageLogo.jsx","pages/admin_dashboard/NewsletterManagement.jsx","pages/admin_dashboard/Admin_ManageTransactions.jsx","pages/admin_dashboard/AdminManageVideos.jsx","pages/admin_dashboard/AdminManagePillars.jsx","pages/admin_dashboard/AdminManageEvents.jsx","pages/admin_dashboard/AdminManageJobs.jsx","pages/admin_dashboard/AdminCollaborationManagement.js","pages/admin_dashboard/AdminManageHighlights.jsx","pages/admin_dashboard/GalleryManager.jsx","pages/admin_dashboard/AdminManageGeneralTestimonials.jsx","App.js"],"sourcesContent":["import React, { createContext, useContext, useState, useEffect } from 'react';\r\n\r\nconst AuthContext = createContext();\r\nexport const useAuth = () => useContext(AuthContext);\r\n\r\n//  Use the API URL directly without adding /api again\r\nconst API_BASE = process.env.REACT_APP_API_URL || 'http://localhost:5000/api';\r\n\r\nexport const AuthProvider = ({ children }) => {\r\n  const [user, setUser] = useState(null);\r\n\r\n  //  Safe JSON parser to catch non-JSON errors\r\n  const safeJson = async (res) => {\r\n    const contentType = res.headers.get('content-type');\r\n    if (contentType && contentType.includes('application/json')) {\r\n      return await res.json();\r\n    } else {\r\n      const text = await res.text();\r\n      throw new Error(text || 'Unexpected server response');\r\n    }\r\n  };\r\n\r\n  //  Load user from /auth/me\r\n  const fetchProfile = async () => {\r\n    try {\r\n      console.log(' Fetching profile from:', `${API_BASE}/auth/me`);\r\n      \r\n      const res = await fetch(`${API_BASE}/auth/me`, {\r\n        credentials: 'include',\r\n      });\r\n\r\n      const data = await safeJson(res);\r\n      if (!res.ok) throw new Error(data.message || 'Unable to fetch user');\r\n\r\n      setUser(data);\r\n    } catch (error) {\r\n      console.error(' Fetch profile failed:', error.message);\r\n      setUser(null);\r\n    }\r\n  };\r\n\r\n  //  Login\r\n  const login = async (email, password) => {\r\n    try {\r\n      console.log(' Attempting login to:', `${API_BASE}/auth/login`);\r\n      \r\n      const res = await fetch(`${API_BASE}/auth/login`, {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({ email, password }),\r\n        credentials: 'include',\r\n      });\r\n\r\n      const data = await safeJson(res);\r\n      if (!res.ok) throw new Error(data.message || 'Login failed');\r\n\r\n      await fetchProfile();\r\n      return data;\r\n    } catch (err) {\r\n      console.error(' Login failed:', err.message);\r\n      throw new Error(err.message || 'Login error');\r\n    }\r\n  };\r\n\r\n  //  Logout\r\n  const logout = async () => {\r\n    try {\r\n      await fetch(`${API_BASE}/auth/logout`, {\r\n        method: 'POST',\r\n        credentials: 'include',\r\n      });\r\n      setUser(null);\r\n    } catch (err) {\r\n      console.warn(' Logout failed:', err.message);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchProfile();\r\n  }, []);\r\n\r\n  return (\r\n    <AuthContext.Provider value={{ user, login, logout }}>\r\n      {children}\r\n    </AuthContext.Provider>\r\n  );\r\n};","// Enhanced theme.js - Complete theme system with Material-UI integration\nimport React, { createContext, useContext, useState, useEffect } from 'react';\nimport { createTheme } from '@mui/material/styles';\n\n// --- Color palette ---\nexport const colors = {\n  primary: '#0a451c',\n  secondary: '#facf3c',\n  accent: '#9ccf9f',\n  primaryLight: '#1a5a2c',\n  primaryDark: '#052310',\n  secondaryLight: '#fbd96b',\n  secondaryDark: '#d4a920',\n  accentLight: '#b8dfbb',\n  accentDark: '#7ab87f',\n  white: '#ffffffff',\n  black: '#000000',\n  gray50: '#ffffffff',\n  gray100: '#ffffffff',\n  gray200: '#ffffffff',\n  gray300: '#ffffffff',\n  gray400: '#9ca3af',\n  gray500: '#6b7280',\n  gray600: '#4b5563',\n  gray700: '#374151',\n  gray800: '#1f2937',\n  gray900: '#111827',\n  success: '#10b981',\n  warning: '#f59e0b',\n  error: '#ef4444',\n  info: '#3b82f6',\n};\n\n// --- Utility functions ---\nfunction hexToRgb(hex) {\n  const result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\n  return result\n    ? `${parseInt(result[1], 16)}, ${parseInt(result[2], 16)}, ${parseInt(result[3], 16)}`\n    : '0, 0, 0';\n}\n\n// --- Custom theme definitions ---\nexport const lightTheme = {\n  colors: {\n    ...colors,\n    background: colors.white,\n    backgroundSecondary: colors.white,\n    surface: colors.white,\n    surfaceSecondary: colors.white,\n    text: colors.gray900,\n    textSecondary: colors.gray600,\n    textMuted: colors.gray500,\n    textInverse: colors.white,\n    border: colors.gray200,\n    borderLight: colors.gray100,\n    borderHover: colors.gray300,\n    headerBg: 'rgba(255, 255, 255, 0.95)',\n    headerBgScrolled: 'rgba(255, 255, 255, 0.98)',\n    headerBorder: `rgba(${hexToRgb(colors.primary)}, 0.1)`,\n    headerShadow: 'rgba(0, 0, 0, 0.1)',\n    cardBg: colors.white,\n    cardShadow: 'rgba(0, 0, 0, 0.1)',\n    overlayBg: 'rgba(0, 0, 0, 0.5)',\n  },\n  name: 'light',\n};\n\nexport const darkTheme = {\n  colors: {\n    ...colors,\n    background: colors.black,\n    backgroundSecondary: colors.black,\n    surface: colors.black,\n    surfaceSecondary: colors.black,\n    text: colors.gray50,\n    textSecondary: colors.gray300,\n    textMuted: colors.gray400,\n    textInverse: colors.gray900,\n    border: colors.gray700,\n    borderLight: colors.gray600,\n    borderHover: colors.gray500,\n    headerBg: colors.black,\n    headerBgScrolled: colors.gray600,\n    headerBorder: `rgba(${hexToRgb(colors.accent)}, 0.2)`,\n    headerShadow: 'rgba(0, 0, 0, 0.3)',\n    cardBg: colors.gray800,\n    cardShadow: 'rgba(0, 0, 0, 0.3)',\n    overlayBg: 'rgba(0, 0, 0, 0.7)',\n  },\n  name: 'dark',\n};\n\n// --- Material-UI theme integration ---\nexport const createMuiTheme = (isDarkMode) => {\n  const themeColors = isDarkMode ? darkTheme.colors : lightTheme.colors;\n  \n  return createTheme({\n    palette: {\n      mode: isDarkMode ? 'dark' : 'light',\n      primary: {\n        main: themeColors.primary,\n        light: themeColors.primaryLight,\n        dark: themeColors.primaryDark,\n        contrastText: themeColors.white,\n      },\n      secondary: {\n        main: themeColors.secondary,\n        light: themeColors.secondaryLight,\n        dark: themeColors.secondaryDark,\n        contrastText: themeColors.black,\n      },\n      background: {\n        default: themeColors.background,\n        paper: themeColors.surface,\n      },\n      text: {\n        primary: themeColors.text,\n        secondary: themeColors.textSecondary,\n        disabled: themeColors.textMuted,\n      },\n      divider: themeColors.border,\n      success: {\n        main: themeColors.success,\n      },\n      warning: {\n        main: themeColors.warning,\n      },\n      error: {\n        main: themeColors.error,\n      },\n      info: {\n        main: themeColors.info,\n      },\n    },\n    typography: {\n\n      fontFamily: '\"Nunito Sans\", sans-serif',\n      h1: {\n        fontSize: '2.5rem',\n        fontWeight: 700,\n        lineHeight: 1.2,\n        color: themeColors.text,\n      },\n      h2: {\n        fontSize: '2rem',\n        fontWeight: 600,\n        lineHeight: 1.3,\n        color: themeColors.text,\n      },\n      h3: {\n        fontSize: '1.75rem',\n        fontWeight: 600,\n        lineHeight: 1.3,\n        color: themeColors.text,\n      },\n      h4: {\n        fontSize: '1.5rem',\n        fontWeight: 500,\n        lineHeight: 1.4,\n        color: themeColors.text,\n      },\n      h5: {\n        fontSize: '1.25rem',\n        fontWeight: 500,\n        lineHeight: 1.4,\n        color: themeColors.text,\n      },\n      h6: {\n        fontSize: '1rem',\n        fontWeight: 500,\n        lineHeight: 1.4,\n        color: themeColors.text,\n      },\n      body1: {\n        fontSize: '1rem',\n        lineHeight: 1.6,\n        color: themeColors.text,\n      },\n      body2: {\n        fontSize: '0.875rem',\n        lineHeight: 1.6,\n        color: themeColors.textSecondary,\n      },\n    },\n    components: {\n      MuiButton: {\n        styleOverrides: {\n          root: {\n            borderRadius: 8,\n            textTransform: 'none',\n            fontWeight: 500,\n            padding: '10px 20px',\n            transition: 'all 0.3s ease',\n            '&:hover': {\n              transform: 'translateY(-1px)',\n              boxShadow: `0 4px 12px rgba(${hexToRgb(themeColors.primary)}, 0.3)`,\n            },\n          },\n          contained: {\n            boxShadow: `0 2px 8px rgba(${hexToRgb(themeColors.primary)}, 0.2)`,\n          },\n        },\n      },\n      MuiCard: {\n        styleOverrides: {\n          root: {\n            borderRadius: 12,\n            backgroundColor: themeColors.cardBg,\n            boxShadow: `0 4px 20px ${themeColors.cardShadow}`,\n            border: `1px solid ${themeColors.border}`,\n            transition: 'all 0.3s ease',\n            '&:hover': {\n              transform: 'translateY(-2px)',\n              boxShadow: `0 8px 30px ${themeColors.cardShadow}`,\n            },\n          },\n        },\n      },\n      MuiPaper: {\n        styleOverrides: {\n          root: {\n            backgroundColor: themeColors.surface,\n            borderRadius: 8,\n          },\n        },\n      },\n      MuiAppBar: {\n        styleOverrides: {\n          root: {\n            backgroundColor: themeColors.headerBg,\n            backdropFilter: 'blur(10px)',\n            borderBottom: `1px solid ${themeColors.headerBorder}`,\n            boxShadow: `0 2px 20px ${themeColors.headerShadow}`,\n          },\n        },\n      },\n      MuiTextField: {\n        styleOverrides: {\n          root: {\n            '& .MuiOutlinedInput-root': {\n              borderRadius: 8,\n              backgroundColor: themeColors.surface,\n              '& fieldset': {\n                borderColor: themeColors.border,\n              },\n              '&:hover fieldset': {\n                borderColor: themeColors.borderHover,\n              },\n              '&.Mui-focused fieldset': {\n                borderColor: themeColors.primary,\n              },\n            },\n          },\n        },\n      },\n    },\n  });\n};\n\n// --- CSS variables generator ---\nexport const generateCSSVariables = (theme) => {\n  const vars = {};\n  Object.entries(theme.colors).forEach(([key, value]) => {\n    vars[`--color-${key.replace(/([A-Z])/g, '-$1').toLowerCase()}`] = value;\n  });\n  return vars;\n};\n\n// --- Theme context ---\nconst ThemeContext = createContext();\n\nexport const useTheme = () => {\n  const context = useContext(ThemeContext);\n  if (!context) {\n    throw new Error('useTheme must be used within ThemeProvider');\n  }\n  return context;\n};\n\n// --- Enhanced ThemeProvider ---\nexport const ThemeProvider = ({ children }) => {\n  const [isDarkMode, setIsDarkMode] = useState(false);\n  const [isLoading, setIsLoading] = useState(true);\n\n  // Initialize theme from localStorage or system preference\n  useEffect(() => {\n    const initializeTheme = () => {\n      try {\n        const savedTheme = localStorage.getItem('acef-theme');\n        if (savedTheme) {\n          setIsDarkMode(savedTheme === 'dark');\n        } else {\n          // Use system preference\n          const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;\n          setIsDarkMode(prefersDark);\n        }\n      } catch (error) {\n        console.warn('Failed to load theme preference:', error);\n        setIsDarkMode(false);\n      } finally {\n        setIsLoading(false);\n      }\n    };\n\n    initializeTheme();\n  }, []);\n\n  // Apply theme changes\n  useEffect(() => {\n    if (isLoading) return;\n\n    const theme = isDarkMode ? darkTheme : lightTheme;\n    const cssVars = generateCSSVariables(theme);\n    \n    // Apply CSS variables\n    Object.entries(cssVars).forEach(([property, value]) => {\n      document.documentElement.style.setProperty(property, value);\n    });\n    \n    // Save preference\n    try {\n      localStorage.setItem('acef-theme', isDarkMode ? 'dark' : 'light');\n    } catch (error) {\n      console.warn('Failed to save theme preference:', error);\n    }\n    \n    // Apply body class\n    document.body.className = `theme-${theme.name}`;\n    \n    // Update meta theme-color for mobile browsers\n    const metaThemeColor = document.querySelector('meta[name=\"theme-color\"]');\n    if (metaThemeColor) {\n      metaThemeColor.setAttribute('content', theme.colors.primary);\n    }\n  }, [isDarkMode, isLoading]);\n\n  // Listen for system theme changes\n  useEffect(() => {\n    const mediaQuery = window.matchMedia('(prefers-color-scheme: dark)');\n    \n    const handleSystemThemeChange = (e) => {\n      // Only update if user hasn't manually set a preference\n      const savedTheme = localStorage.getItem('acef-theme');\n      if (!savedTheme) {\n        setIsDarkMode(e.matches);\n      }\n    };\n\n    mediaQuery.addEventListener('change', handleSystemThemeChange);\n    return () => mediaQuery.removeEventListener('change', handleSystemThemeChange);\n  }, []);\n\n  const toggleTheme = () => {\n    setIsDarkMode((prev) => !prev);\n  };\n\n  const setTheme = (theme) => {\n    setIsDarkMode(theme === 'dark');\n  };\n\n  const currentTheme = isDarkMode ? darkTheme : lightTheme;\n  const muiTheme = createMuiTheme(isDarkMode);\n\n  const contextValue = {\n    theme: currentTheme,\n    muiTheme,\n    colors: currentTheme.colors,\n    isDarkMode,\n    isLoading,\n    toggleTheme,\n    setTheme,\n  };\n\n  if (isLoading) {\n    // Prevent flash of unstyled content\n    return (\n      <div style={{\n        position: 'fixed',\n        top: 0,\n        left: 0,\n        right: 0,\n        bottom: 0,\n        backgroundColor: isDarkMode ? colors.gray900 : colors.white,\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n        zIndex: 9999\n      }}>\n        <div style={{\n          width: '40px',\n          height: '40px',\n          border: `4px solid ${colors.primary}`,\n          borderTop: '4px solid transparent',\n          borderRadius: '50%',\n          animation: 'spin 1s linear infinite'\n        }} />\n      </div>\n    );\n  }\n\n  return (\n    <ThemeContext.Provider value={contextValue}>\n      {children}\n    </ThemeContext.Provider>\n  );\n};\n\n// --- Theme utilities ---\nexport const getThemeColor = (colorKey, theme) => {\n  return theme.colors[colorKey] || colorKey;\n};\n\nexport const createGradient = (color1, color2, direction = 'to right') => {\n  return `linear-gradient(${direction}, ${color1}, ${color2})`;\n};\n\nexport const withOpacity = (color, opacity) => {\n  if (color.startsWith('rgba')) return color;\n  if (color.startsWith('rgb')) {\n    return color.replace('rgb', 'rgba').replace(')', `, ${opacity})`);\n  }\n  if (color.startsWith('#')) {\n    const rgb = hexToRgb(color);\n    return `rgba(${rgb}, ${opacity})`;\n  }\n  return color;\n};","// Updated LogoContext.js with proper environment variable usage\r\nimport React, { createContext, useContext, useState, useEffect, useCallback } from 'react';\r\n\r\nconst LogoContext = createContext();\r\n\r\n// API Configuration\r\nconst API_BASE_URL = process.env.REACT_APP_API_URL || 'http://localhost:5000/api';\r\n\r\n// Helper function to build API URLs\r\nconst getApiUrl = (endpoint) => {\r\n  // Remove leading slash from endpoint if it exists to avoid double slashes\r\n  const cleanEndpoint = endpoint.startsWith('/') ? endpoint.slice(1) : endpoint;\r\n  return `${API_BASE_URL}/${cleanEndpoint}`;\r\n};\r\n\r\n// Enhanced API request function\r\nconst apiRequest = async (endpoint, options = {}) => {\r\n  const url = getApiUrl(endpoint);\r\n  \r\n  try {\r\n    console.log(` Making API request to: ${url}`);\r\n    console.log(` Environment API_URL: ${process.env.REACT_APP_API_URL}`);\r\n    console.log(` Using API_BASE_URL: ${API_BASE_URL}`);\r\n    \r\n    const response = await fetch(url, {\r\n      credentials: 'include',\r\n      ...options\r\n    });\r\n    \r\n    console.log(` Response status: ${response.status} ${response.statusText}`);\r\n    console.log(` Response content-type: ${response.headers.get('content-type')}`);\r\n    \r\n    if (!response.ok) {\r\n      let errorMessage = `HTTP ${response.status}: ${response.statusText}`;\r\n      \r\n      try {\r\n        const errorData = await response.json();\r\n        errorMessage = errorData.message || errorMessage;\r\n      } catch (parseError) {\r\n        console.error(' Could not parse error response as JSON');\r\n        try {\r\n          const textResponse = await response.text();\r\n          console.error(' Raw error response:', textResponse.substring(0, 200));\r\n          \r\n          if (textResponse.startsWith('<!DOCTYPE')) {\r\n            errorMessage = `Server returned HTML instead of JSON. Check if backend is running on ${API_BASE_URL}`;\r\n          }\r\n        } catch (textError) {\r\n          console.error(' Could not get response as text:', textError);\r\n        }\r\n      }\r\n      \r\n      throw new Error(errorMessage);\r\n    }\r\n\r\n    return await response.json();\r\n    \r\n  } catch (error) {\r\n    console.error(` API Request failed for ${url}:`, error);\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const useLogo = () => {\r\n  const context = useContext(LogoContext);\r\n  if (!context) {\r\n    throw new Error('useLogo must be used within a LogoProvider');\r\n  }\r\n  return context;\r\n};\r\n\r\nexport const LogoProvider = ({ children }) => {\r\n  const [currentLogo, setCurrentLogo] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n\r\n  const fetchLogo = useCallback(async () => {\r\n    try {\r\n      setLoading(true);\r\n      setError(null);\r\n      \r\n      console.log(' Fetching current logo...');\r\n      const data = await apiRequest('logos');\r\n      \r\n      if (data.success && data.data) {\r\n        setCurrentLogo(data.data);\r\n        console.log(' Logo fetched successfully:', data.data.logo_name);\r\n      } else {\r\n        setCurrentLogo(null);\r\n        console.log(' No active logo found');\r\n      }\r\n    } catch (err) {\r\n      console.error(' Error fetching logo:', err);\r\n      setError(err.message);\r\n      setCurrentLogo(null);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }, []);\r\n\r\n  const refreshLogo = useCallback(() => {\r\n    console.log(' Refreshing logo...');\r\n    fetchLogo();\r\n  }, [fetchLogo]);\r\n\r\n  const updateLogo = useCallback((newLogo) => {\r\n    console.log(' Updating logo state:', newLogo);\r\n    setCurrentLogo(newLogo);\r\n  }, []);\r\n\r\n  const clearLogo = useCallback(() => {\r\n    console.log(' Clearing logo state');\r\n    setCurrentLogo(null);\r\n  }, []);\r\n\r\n  // Upload new logo\r\n  const uploadLogo = useCallback(async (formData) => {\r\n    try {\r\n      console.log(' Uploading new logo...');\r\n      const data = await apiRequest('logos', {\r\n        method: 'POST',\r\n        body: formData\r\n      });\r\n      \r\n      if (data.success) {\r\n        setCurrentLogo(data.data);\r\n        return data;\r\n      } else {\r\n        throw new Error(data.message || 'Upload failed');\r\n      }\r\n    } catch (error) {\r\n      console.error(' Upload failed:', error);\r\n      throw error;\r\n    }\r\n  }, []);\r\n\r\n  // Update logo metadata\r\n  const updateLogoMetadata = useCallback(async (id, metadata) => {\r\n    try {\r\n      console.log(' Updating logo metadata...');\r\n      const data = await apiRequest(`logos/${id}`, {\r\n        method: 'PUT',\r\n        headers: {\r\n          'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify(metadata)\r\n      });\r\n      \r\n      if (data.success) {\r\n        setCurrentLogo(data.data);\r\n        return data;\r\n      } else {\r\n        throw new Error(data.message || 'Update failed');\r\n      }\r\n    } catch (error) {\r\n      console.error(' Update failed:', error);\r\n      throw error;\r\n    }\r\n  }, []);\r\n\r\n  // Delete logo\r\n  const deleteLogo = useCallback(async (id) => {\r\n    try {\r\n      console.log(' Deleting logo...');\r\n      const data = await apiRequest(`logos/${id}`, {\r\n        method: 'DELETE'\r\n      });\r\n      \r\n      if (data.success) {\r\n        setCurrentLogo(null);\r\n        return data;\r\n      } else {\r\n        throw new Error(data.message || 'Delete failed');\r\n      }\r\n    } catch (error) {\r\n      console.error(' Delete failed:', error);\r\n      throw error;\r\n    }\r\n  }, []);\r\n\r\n  // Get logo history\r\n  const getLogoHistory = useCallback(async () => {\r\n    try {\r\n      console.log(' Fetching logo history...');\r\n      const data = await apiRequest('logos/history');\r\n      \r\n      if (data.success) {\r\n        return data.data;\r\n      } else {\r\n        throw new Error(data.message || 'Failed to fetch history');\r\n      }\r\n    } catch (error) {\r\n      console.error(' Failed to fetch history:', error);\r\n      throw error;\r\n    }\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    console.log(' LogoProvider initialized');\r\n    console.log(' API Base URL:', API_BASE_URL);\r\n    fetchLogo();\r\n  }, [fetchLogo]);\r\n\r\n  const value = {\r\n    currentLogo,\r\n    loading,\r\n    error,\r\n    fetchLogo,\r\n    refreshLogo,\r\n    updateLogo,\r\n    clearLogo,\r\n    uploadLogo,\r\n    updateLogoMetadata,\r\n    deleteLogo,\r\n    getLogoHistory\r\n  };\r\n\r\n  return (\r\n    <LogoContext.Provider value={value}>\r\n      {children}\r\n    </LogoContext.Provider>\r\n  );\r\n};\r\n\r\nexport default LogoProvider;","import React from 'react';\r\nimport { Navigate, Outlet } from 'react-router-dom';\r\nimport { useAuth } from '../src/context/AuthContext';\r\nimport { Box, Alert, Typography, Button } from '@mui/material';\r\nimport { Lock as LockIcon, ArrowBack as ArrowBackIcon } from '@mui/icons-material';\r\n\r\n// Route configuration with permission requirements\r\nconst ROUTE_PERMISSIONS = {\r\n  // Admin only routes\r\n  '/admin/dashboard/users': { roles: ['admin'], permission: null },\r\n  '/admin/dashboard/countries': { roles: ['admin'], permission: null },\r\n  '/admin/dashboard/generator': { roles: ['admin'], permission: null },\r\n  '/admin/dashboard/manage-transactions': { roles: ['admin'], permission: null },\r\n  '/admin/dashboard/whatsapp': { roles: ['admin'], permission: null },\r\n  '/admin/dashboard/managedonate': { roles: ['admin'], permission: null },\r\n  \r\n  // Admin + Assistant Admin with specific permissions\r\n  '/admin/dashboard/manage-blogs': { roles: ['admin', 'Assistant Admin', 'Content Manager'], permission: 'manage_content' },\r\n  '/admin/dashboard/projects': { roles: ['admin', 'Assistant Admin'], permission: 'manage_projects' },\r\n  '/admin/dashboard/JobManager': { roles: ['admin', 'Assistant Admin'], permission: 'manage_jobs' },\r\n  '/admin/dashboard/jobs': { roles: ['admin', 'Assistant Admin'], permission: 'manage_jobs' },\r\n  '/admin/dashboard/team': { roles: ['admin', 'Assistant Admin'], permission: 'manage_team' },\r\n  '/admin/dashboard/partners': { roles: ['admin', 'Assistant Admin'], permission: 'manage_partners' },\r\n  '/admin/dashboard/newsletter': { roles: ['admin', 'Assistant Admin'], permission: 'manage_newsletter' },\r\n  '/admin/dashboard/manage-videos': { roles: ['admin', 'Assistant Admin'], permission: 'manage_videos' },\r\n  '/admin/dashboard/contacts': { roles: ['admin', 'Assistant Admin'], permission: 'manage_contacts' },\r\n  '/admin/dashboard/volunteers': { roles: ['admin', 'Assistant Admin'], permission: 'manage_volunteers' },\r\n  '/admin/dashboard/impact': { roles: ['admin', 'Assistant Admin'], permission: 'manage_impact' },\r\n  '/admin/dashboard/manage-logo': { roles: ['admin', 'Assistant Admin'], permission: 'manage-logo' },\r\n  '/admin/dashboard/categories': { roles:  ['admin', 'Assistant Admin'], permission: 'categories' },\r\n\r\n\r\n  \r\n  // Dashboard overview - accessible to all authenticated users\r\n  '/admin/dashboard': { roles: ['admin', 'Assistant Admin', 'Content Manager'], permission: null }\r\n};\r\n\r\n// Helper function to get route display names\r\nconst getRouteDisplayName = (path) => {\r\n  const routeNames = {\r\n    '/admin/dashboard/users': 'User Management',\r\n    '/admin/dashboard/countries': 'Country Management',\r\n    '/admin/dashboard/categories': 'Category Management',\r\n    '/admin/dashboard/manage-blogs': 'Blog Management',\r\n    '/admin/dashboard/projects': 'Project Management',\r\n    '/admin/dashboard/JobManager': 'Job Management',\r\n    '/admin/dashboard/jobs': 'Job Management',\r\n    '/admin/dashboard/team': 'Team Management',\r\n    '/admin/dashboard/partners': 'Partner Management',\r\n    '/admin/dashboard/newsletter': 'Newsletter Management',\r\n    '/admin/dashboard/manage-videos': 'Video Management',\r\n    '/admin/dashboard/contacts': 'Contact Management',\r\n    '/admin/dashboard/volunteers': 'Volunteer Management',\r\n    '/admin/dashboard/impact': 'Impact Management',\r\n    '/admin/dashboard/generator': 'Badge Generator',\r\n    '/admin/dashboard/manage-logo': 'Logo Management',\r\n    '/admin/dashboard/manage-transactions': 'Transaction Management',\r\n    '/admin/dashboard/whatsapp': 'WhatsApp Management',\r\n    '/admin/dashboard/managedonate': 'Donation Management'\r\n  };\r\n  return routeNames[path] || 'this page';\r\n};\r\n\r\n// Permission denied page component\r\nconst PermissionDeniedPage = ({ routeName, requiredPermission }) => {\r\n  const { user } = useAuth();\r\n  \r\n  const getPermissionDisplayName = (permission) => {\r\n    const permissionMap = {\r\n      'manage_content': 'Content Management',\r\n      'manage_projects': 'Project Management',\r\n      'manage_team': 'Team Management',\r\n      'manage_partners': 'Partner Management',\r\n      'manage_contacts': 'Contact Management',\r\n      'manage_volunteers': 'Volunteer Management',\r\n      'manage_newsletter': 'Newsletter Management',\r\n      'view_donations': 'Donation Viewing',\r\n      'manage_videos': 'Video Management',\r\n      'manage_impact': 'Impact Management',\r\n      'manage_jobs': 'Job Management'\r\n    };\r\n    return permissionMap[permission] || permission;\r\n  };\r\n\r\n  return (\r\n    <Box \r\n      sx={{ \r\n        display: 'flex', \r\n        flexDirection: 'column', \r\n        alignItems: 'center', \r\n        justifyContent: 'center', \r\n        minHeight: '60vh',\r\n        textAlign: 'center',\r\n        p: 4\r\n      }}\r\n    >\r\n      <LockIcon sx={{ fontSize: 64, color: 'warning.main', mb: 2 }} />\r\n      \r\n      <Typography variant=\"h4\" gutterBottom color=\"textPrimary\">\r\n        Permission Required\r\n      </Typography>\r\n      \r\n      <Typography variant=\"body1\" sx={{ mb: 2, maxWidth: 500 }}>\r\n        {user?.role === 'Assistant Admin' \r\n          ? `You need the \"${getPermissionDisplayName(requiredPermission)}\" permission to access ${routeName || 'this page'}.`\r\n          : `Your ${user?.role} role doesn't have access to ${routeName || 'this page'}.`\r\n        }\r\n      </Typography>\r\n\r\n      {user?.role === 'Assistant Admin' && (\r\n        <Alert severity=\"info\" sx={{ mb: 3, maxWidth: 500 }}>\r\n          <Typography variant=\"body2\">\r\n            Contact your administrator to request the <strong>{getPermissionDisplayName(requiredPermission)}</strong> permission.\r\n          </Typography>\r\n        </Alert>\r\n      )}\r\n\r\n      <Button \r\n        variant=\"contained\" \r\n        startIcon={<ArrowBackIcon />}\r\n        onClick={() => window.history.back()}\r\n        sx={{ mt: 2 }}\r\n      >\r\n        Go Back\r\n      </Button>\r\n    </Box>\r\n  );\r\n};\r\n\r\n// Basic auth check\r\nexport const PrivateRoute = () => {\r\n  const { user } = useAuth();\r\n  return user ? <Outlet /> : <Navigate to=\"/login\" replace />;\r\n};\r\n\r\n// Admin only check\r\nexport const AdminRoute = () => {\r\n  const { user } = useAuth();\r\n\r\n  if (!user) return <Navigate to=\"/login\" replace />;\r\n  if (user.role !== 'admin') return <Navigate to=\"/unauthorized\" replace />;\r\n  return <Outlet />;\r\n};\r\n\r\n// Permission-based route protection\r\nexport const PermissionRoute = ({ path, children }) => {\r\n  const { user } = useAuth();\r\n\r\n  // If no user, redirect to login\r\n  if (!user) {\r\n    return <Navigate to=\"/login\" replace />;\r\n  }\r\n\r\n  // Get route configuration\r\n  const routeConfig = ROUTE_PERMISSIONS[path];\r\n  \r\n  // If no specific configuration, allow access for authenticated users\r\n  if (!routeConfig) {\r\n    return children ? children : <Outlet />;\r\n  }\r\n\r\n  // Check if user role is allowed\r\n  if (!routeConfig.roles.includes(user.role)) {\r\n    return <Navigate to=\"/unauthorized\" replace />;\r\n  }\r\n\r\n  // Admin always has access\r\n  if (user.role === 'admin') {\r\n    return children ? children : <Outlet />;\r\n  }\r\n\r\n  // If route requires specific permission\r\n  if (routeConfig.permission) {\r\n    // For Assistant Admin, check permissions\r\n    if (user.role === 'Assistant Admin') {\r\n      if (!user.permissions || !user.permissions.includes(routeConfig.permission)) {\r\n        return <PermissionDeniedPage routeName={getRouteDisplayName(path)} requiredPermission={routeConfig.permission} />;\r\n      }\r\n    }\r\n    \r\n    // For Content Manager, handle specific cases\r\n    if (user.role === 'Content Manager') {\r\n      // Content managers can access blogs\r\n      if (routeConfig.permission === 'manage_content') {\r\n        return children ? children : <Outlet />;\r\n      }\r\n      // Deny access to other permission-required routes\r\n      return <PermissionDeniedPage routeName={getRouteDisplayName(path)} requiredPermission={routeConfig.permission} />;\r\n    }\r\n  }\r\n\r\n  // If we reach here, user has access\r\n  return children ? children : <Outlet />;\r\n};\r\n\r\n// Component wrapper for easy route protection\r\nexport const ProtectedComponent = ({ children, requiredRole = null, requiredPermission = null }) => {\r\n  const { user } = useAuth();\r\n\r\n  if (!user) {\r\n    return <Navigate to=\"/login\" replace />;\r\n  }\r\n\r\n  // Check role requirement\r\n  if (requiredRole && !requiredRole.includes(user.role)) {\r\n    return <Navigate to=\"/unauthorized\" replace />;\r\n  }\r\n\r\n  // Admin always has access\r\n  if (user.role === 'admin') {\r\n    return children;\r\n  }\r\n\r\n  // Check permission requirement\r\n  if (requiredPermission) {\r\n    if (user.role === 'Assistant Admin') {\r\n      if (!user.permissions || !user.permissions.includes(requiredPermission)) {\r\n        return <PermissionDeniedPage requiredPermission={requiredPermission} />;\r\n      }\r\n    } else if (user.role === 'Content Manager') {\r\n      // Content managers only have access to content-related permissions\r\n      if (requiredPermission !== 'manage_content') {\r\n        return <PermissionDeniedPage requiredPermission={requiredPermission} />;\r\n      }\r\n    }\r\n  }\r\n\r\n  return children;\r\n};\r\n\r\n// Default export for convenience\r\nexport default {\r\n  PrivateRoute,\r\n  AdminRoute,\r\n  PermissionRoute,\r\n  ProtectedComponent\r\n};","// extracted by mini-css-extract-plugin\nexport default {\"header\":\"Header_header__YZN9X\",\"scrolled\":\"Header_scrolled__ed4X4\",\"container\":\"Header_container__b8RUl\",\"navBrand\":\"Header_navBrand__pkTIo\",\"logo\":\"Header_logo__ExAXW\",\"brandText\":\"Header_brandText__kjCHB\",\"navMenu\":\"Header_navMenu__hOVZa\",\"hidden\":\"Header_hidden__rv0xX\",\"navItem\":\"Header_navItem__Bsfef\",\"navLink\":\"Header_navLink__kwA1H\",\"themeToggle\":\"Header_themeToggle__iEjLV\",\"donateBtn\":\"Header_donateBtn__1pU9p\",\"mobileControls\":\"Header_mobileControls__DJOva\",\"mobileLanguageContainer\":\"Header_mobileLanguageContainer__XO1eD\",\"mobileMenuToggle\":\"Header_mobileMenuToggle__W7bfQ\",\"mobileMenuOverlay\":\"Header_mobileMenuOverlay__n9DHg\",\"mobileMenu\":\"Header_mobileMenu__nmLj4\",\"mobileMenuHeader\":\"Header_mobileMenuHeader__Azwx8\",\"mobileMenuBrand\":\"Header_mobileMenuBrand__CHaKS\",\"mobileMenuContent\":\"Header_mobileMenuContent__MO4SR\",\"mobileNavItem\":\"Header_mobileNavItem__SwR1Q\",\"mobileNavLink\":\"Header_mobileNavLink__7CkMW\",\"mobileDonateBtn\":\"Header_mobileDonateBtn__wpw-e\",\"mobileLanguageSelector\":\"Header_mobileLanguageSelector__cRJoX\",\"goog-te-banner-frame\":\"Header_goog-te-banner-frame__eOov8\",\"goog-te-gadget\":\"Header_goog-te-gadget__CsVgd\",\"google_translate_element\":\"Header_google_translate_element__sJsvj\",\"google_translate_element_mobile\":\"Header_google_translate_element_mobile__qgGJ4\",\"goog-te-combo\":\"Header_goog-te-combo__2WExx\",\"spin\":\"Header_spin__EmchG\"};","import React, { useState, useEffect } from 'react';\r\nimport rawCountryOptions from '../../data/countries.json';\r\n\r\nimport { \r\n  Search, CheckCircle, AlertCircle, RefreshCw,\r\n  DollarSign, \r\n  ArrowRight, X, Heart, Globe, FileText, CreditCard, \r\n  Building, ArrowLeft, Sparkles, HandHeart, Banknote, \r\n  Smartphone, MapPin, ExternalLink, Copy, Check\r\n} from 'lucide-react';\r\n\r\n// Enhanced API configuration with fallback\r\nconst API_CONFIG = {\r\n  baseURL: process.env.REACT_APP_API_URL || '/api',\r\n  timeout: 15000,\r\n  headers: {\r\n    'Content-Type': 'application/json',\r\n    'Accept': 'application/json'\r\n  }\r\n};\r\n\r\n\r\n\r\nconst countryOptions = rawCountryOptions.map((name) => ({ label: name }));\r\n\r\nconst colors = {\r\n  primary: '#0a451c',\r\n  secondary: '#facf3c',\r\n  accent: '#9ccf9f',\r\n  primaryLight: '#1a5a2c',\r\n  primaryDark: '#052310',\r\n  secondaryLight: '#fbd96b',\r\n  secondaryDark: '#d4a920',\r\n  accentLight: '#b8dfbb',\r\n  accentDark: '#7ab87f',\r\n  white: '#ffffff',\r\n  black: '#000000',\r\n  gray50: '#f9fafb',\r\n  gray100: '#f3f4f6',\r\n  gray200: '#e5e7eb',\r\n  gray300: '#d1d5db',\r\n  gray400: '#9ca3af',\r\n  gray500: '#6b7280',\r\n  gray600: '#4b5563',\r\n  gray700: '#374151',\r\n  gray800: '#1f2937',\r\n  gray900: '#111827',\r\n  success: '#10b981',\r\n  warning: '#f59e0b',\r\n  error: '#ef4444',\r\n  info: '#3b82f6',\r\n};\r\n\r\nconst theme = {\r\n  colors: {\r\n    ...colors,\r\n    background: colors.white,\r\n    backgroundSecondary: colors.gray50,\r\n    surface: colors.white,\r\n    surfaceSecondary: colors.gray100,\r\n    text: colors.gray900,\r\n    textSecondary: colors.gray600,\r\n    textMuted: colors.gray500,\r\n    textInverse: colors.white,\r\n    border: colors.gray200,\r\n    borderLight: colors.gray100,\r\n    borderHover: colors.gray300,\r\n    cardBg: colors.white,\r\n    cardShadow: 'rgba(0, 0, 0, 0.1)',\r\n    overlayBg: 'rgba(0, 0, 0, 0.5)',\r\n  }\r\n};\r\n\r\nconst withOpacity = (color, opacity) => {\r\n  if (color.startsWith('rgba')) return color;\r\n  if (color.startsWith('rgb')) {\r\n    return color.replace('rgb', 'rgba').replace(')', `, ${opacity})`);\r\n  }\r\n  if (color.startsWith('#')) {\r\n    const result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(color);\r\n    if (result) {\r\n      const r = parseInt(result[1], 16);\r\n      const g = parseInt(result[2], 16);\r\n      const b = parseInt(result[3], 16);\r\n      return `rgba(${r}, ${g}, ${b}, ${opacity})`;\r\n    }\r\n  }\r\n  return color;\r\n};\r\n\r\n// Steps for the donation process\r\nconst steps = [\r\n  'Welcome',\r\n  'Donation Target',\r\n  'Amount',\r\n  'Personal Info',\r\n  'Payment Method'\r\n];\r\n\r\nconst predefinedAmounts = [10, 25, 50, 100, 250, 500, 1000, 2500];\r\n\r\n// Enhanced DonationModal with API payment methods only\r\nconst DonationModal = ({ \r\n  open = true, \r\n  onClose = () => {}, \r\n  API_BASE = API_CONFIG.baseURL, \r\n  onDonationSubmitted = () => {} \r\n}) => {\r\n  const [activeStep, setActiveStep] = useState(0);\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState('');\r\n  const [submitSuccess, setSubmitSuccess] = useState(false);\r\n  const [isClosing, setIsClosing] = useState(false);\r\n\r\n  // Data states\r\n  const [acefCountries, setAcefCountries] = useState([]);\r\n  const [allCountries, setAllCountries] = useState([]);\r\n  const [projects, setProjects] = useState([]);\r\n  const [transactionMethods, setTransactionMethods] = useState([]);\r\n  const [dataLoading, setDataLoading] = useState(false);\r\n  const [apiConnected, setApiConnected] = useState(false);\r\n  \r\n  // Payment method search and filter states\r\n  const [paymentSearchTerm, setPaymentSearchTerm] = useState('');\r\n  const [paymentCountryFilter, setPaymentCountryFilter] = useState('');\r\n  const [selectedPaymentMethod, setSelectedPaymentMethod] = useState(null);\r\n  const [copiedField, setCopiedField] = useState(null);\r\n  \r\n  // Form state\r\n  const [formData, setFormData] = useState({\r\n    donationType: 'general',\r\n    selectedCountry: '',\r\n    selectedProject: '',\r\n    amount: 50,\r\n    customAmount: '',\r\n    name: '',\r\n    email: '',\r\n    phone: '',\r\n    donorCountry: '',\r\n    isAnonymous: false,\r\n    selectedTransactionMethod: null\r\n  });\r\n\r\n  // Enhanced API request function with better error handling\r\n  const makeApiRequest = async (endpoint, options = {}) => {\r\n    const controller = new AbortController();\r\n    const timeoutId = setTimeout(() => controller.abort(), API_CONFIG.timeout);\r\n\r\n    try {\r\n      const defaultOptions = {\r\n        method: 'GET',\r\n        credentials: 'include',\r\n        headers: API_CONFIG.headers,\r\n        signal: controller.signal\r\n      };\r\n\r\n      const finalOptions = { ...defaultOptions, ...options };\r\n      const url = `${API_BASE}${endpoint}`;\r\n      \r\n      console.log(`Making request to: ${url}`);\r\n      \r\n      const response = await fetch(url, finalOptions);\r\n      clearTimeout(timeoutId);\r\n      \r\n      // Check if response is JSON\r\n      const contentType = response.headers.get('content-type');\r\n      if (!contentType || !contentType.includes('application/json')) {\r\n        const textResponse = await response.text();\r\n        console.error('Non-JSON response:', textResponse.substring(0, 500));\r\n        throw new Error(`Server returned ${contentType || 'unknown'} instead of JSON. The API endpoint may not exist.`);\r\n      }\r\n\r\n      const data = await response.json();\r\n\r\n      if (!response.ok) {\r\n        throw new Error(data.message || `HTTP ${response.status}: ${response.statusText}`);\r\n      }\r\n\r\n      return data;\r\n    } catch (error) {\r\n      clearTimeout(timeoutId);\r\n      console.error(`API request failed for ${endpoint}:`, error);\r\n      \r\n      if (error.name === 'AbortError') {\r\n        throw new Error('Request timeout - please check your connection');\r\n      }\r\n      \r\n      throw error;\r\n    }\r\n  };\r\n\r\n  // Test API connection\r\n  const testApiConnection = async () => {\r\n    try {\r\n      console.log('Testing API connection...');\r\n      await makeApiRequest('/health');\r\n      setApiConnected(true);\r\n      console.log('API connection successful');\r\n      return true;\r\n    } catch (error) {\r\n      console.warn('API connection failed:', error.message);\r\n      setApiConnected(false);\r\n      return false;\r\n    }\r\n  };\r\n\r\n  // Fetch transaction methods\r\n  const fetchTransactionMethods = async () => {\r\n    try {\r\n      console.log('Fetching transaction methods...');\r\n      const data = await makeApiRequest('/transaction-details');\r\n      \r\n      if (Array.isArray(data)) {\r\n        setTransactionMethods(data);\r\n        console.log(`Loaded ${data.length} transaction methods`);\r\n      } else if (data.success && Array.isArray(data.data)) {\r\n        setTransactionMethods(data.data);\r\n        console.log(`Loaded ${data.data.length} transaction methods`);\r\n      } else {\r\n        throw new Error('Invalid transaction methods data format');\r\n      }\r\n    } catch (error) {\r\n      console.error('Failed to fetch transaction methods:', error);\r\n      \r\n      // Fallback transaction methods\r\n      const fallbackMethods = [\r\n        {\r\n          id: 1,\r\n          type: 'bank_transfer',\r\n          name: 'Standard Bank',\r\n          country: 'South Africa',\r\n          fields: [\r\n            { label: 'Account Name', value: 'ACEF International' },\r\n            { label: 'Account Number', value: '123456789' },\r\n            { label: 'Branch Code', value: '051001' }\r\n          ]\r\n        },\r\n        {\r\n          id: 2,\r\n          type: 'paypal',\r\n          name: 'PayPal Donations',\r\n          fields: [\r\n            { label: 'Donation Link', value: 'https://paypal.me/acefdonations' },\r\n            { label: 'PayPal Email', value: 'donations@acef.org' }\r\n          ]\r\n        },\r\n        {\r\n          id: 3,\r\n          type: 'local_merchant',\r\n          name: 'M-Pesa Kenya',\r\n          country: 'Kenya',\r\n          logo_url: 'https://upload.wikimedia.org/wikipedia/commons/1/15/M-PESA_LOGO-01.svg',\r\n          fields: [\r\n            { label: 'Paybill Number', value: '400200' },\r\n            { label: 'Account Number', value: 'ACEF' }\r\n          ]\r\n        }\r\n      ];\r\n      setTransactionMethods(fallbackMethods);\r\n      console.log(`Using fallback: ${fallbackMethods.length} transaction methods`);\r\n    }\r\n  };\r\n\r\n  // Fetch ACEF countries with fallback\r\n  const fetchAcefCountries = async () => {\r\n    try {\r\n      console.log('Fetching ACEF countries...');\r\n      const data = await makeApiRequest('/countries');\r\n      \r\n      if (Array.isArray(data)) {\r\n        const sorted = [...data].sort((a, b) => a.name.localeCompare(b.name));\r\n        setAcefCountries(sorted);\r\n        console.log(`Loaded ${sorted.length} ACEF countries`);\r\n      } else if (data.success && Array.isArray(data.data)) {\r\n        const sorted = [...data.data].sort((a, b) => a.name.localeCompare(b.name));\r\n        setAcefCountries(sorted);\r\n        console.log(`Loaded ${sorted.length} ACEF countries`);\r\n      } else {\r\n        throw new Error('Invalid countries data format');\r\n      }\r\n    } catch (error) {\r\n      console.error('Failed to fetch ACEF countries:', error);\r\n      \r\n      const fallbackCountries = [\r\n        \"Burkina Faso\", \"Cameroon\", \"Chad\", \"Democratic Republic of Congo\", \r\n        \"Ethiopia\", \"Ghana\", \"Kenya\", \"Liberia\", \"Madagascar\", \"Mali\", \r\n        \"Morocco\", \"Niger\", \"Nigeria\", \"Rwanda\", \"Senegal\", \"Sierra Leone\", \r\n        \"South Africa\", \"Tanzania\", \"Uganda\", \"Zambia\", \"Zimbabwe\"\r\n      ];\r\n      const fallbackData = fallbackCountries.map((name, index) => ({ \r\n        id: index + 1, \r\n        name \r\n      }));\r\n      setAcefCountries(fallbackData);\r\n      console.log(`Using fallback: ${fallbackData.length} countries`);\r\n    }\r\n  };\r\n\r\n  // Load all countries\r\n  const loadAllCountries = () => {\r\n    const sortedCountries = [...countryOptions].sort((a, b) => \r\n      a.label.localeCompare(b.label)\r\n    );\r\n    setAllCountries(sortedCountries);\r\n    console.log(`Loaded ${sortedCountries.length} donor countries`);\r\n  };\r\n\r\n  // Fetch projects with fallback\r\n  const fetchProjects = async () => {\r\n    try {\r\n      console.log('Fetching projects...');\r\n      const data = await makeApiRequest('/projects');\r\n      \r\n      let projectsData = [];\r\n      if (data.success && Array.isArray(data.data)) {\r\n        projectsData = data.data;\r\n      } else if (Array.isArray(data)) {\r\n        projectsData = data;\r\n      }\r\n\r\n      // Filter out hidden and completed projects\r\n      const visibleProjects = projectsData.filter(project => \r\n        !project.is_hidden && project.status !== 'cancelled' && project.status !== 'completed'\r\n      );\r\n\r\n      setProjects(visibleProjects);\r\n      console.log(`Loaded ${visibleProjects.length} visible projects`);\r\n      \r\n    } catch (error) {\r\n      console.error('Failed to fetch projects:', error);\r\n      \r\n      const fallbackProjects = [\r\n        { id: 1, title: \"Clean Water Initiative\", country_name: \"Kenya\" },\r\n        { id: 2, title: \"Educational Support Program\", country_name: \"Ghana\" },\r\n        { id: 3, title: \"Healthcare Access Project\", country_name: \"Uganda\" },\r\n        { id: 4, title: \"Agricultural Development\", country_name: \"Rwanda\" }\r\n      ];\r\n      setProjects(fallbackProjects);\r\n      console.log(`Using fallback: ${fallbackProjects.length} projects`);\r\n    }\r\n  };\r\n\r\n  // Enhanced donation submission with better error handling\r\n  const submitDonationToBackend = async () => {\r\n    try {\r\n      setLoading(true);\r\n      setError('');\r\n      console.log('Submitting donation...');\r\n\r\n      const donationAmount = parseFloat(formData.customAmount || formData.amount);\r\n\r\n      const donationPayload = {\r\n        donor_name: formData.name.trim(),\r\n        donor_email: formData.email.trim(),\r\n        donor_phone: formData.phone.trim() || null,\r\n        donor_country: formData.donorCountry,\r\n        amount: donationAmount,\r\n        donation_type: formData.donationType,\r\n        target_country_id: formData.donationType === 'country' && formData.selectedCountry ? \r\n          parseInt(formData.selectedCountry) : null,\r\n        target_project_id: formData.donationType === 'project' && formData.selectedProject ? \r\n          parseInt(formData.selectedProject) : null,\r\n        selected_transaction_method_id: formData.selectedTransactionMethod?.id || null,\r\n        is_anonymous: formData.isAnonymous\r\n      };\r\n\r\n      console.log('Donation payload:', donationPayload);\r\n\r\n      const result = await makeApiRequest('/donations', {\r\n        method: 'POST',\r\n        body: JSON.stringify(donationPayload)\r\n      });\r\n\r\n      if (result.success) {\r\n        console.log('Donation submitted successfully:', result.data);\r\n        setSubmitSuccess(true);\r\n        \r\n        // Notify parent component\r\n        onDonationSubmitted(result.data);\r\n\r\n        // Show success briefly then proceed\r\n        setTimeout(() => {\r\n          setActiveStep(prev => prev + 1);\r\n          setSubmitSuccess(false);\r\n        }, 1500);\r\n\r\n      } else {\r\n        throw new Error(result.message || 'Failed to submit donation');\r\n      }\r\n\r\n    } catch (error) {\r\n      console.error('Donation submission failed:', error);\r\n      \r\n      let userMessage = 'Failed to submit donation. ';\r\n      \r\n      if (error.message.includes('timeout')) {\r\n        userMessage += 'The request timed out. Please check your connection and try again.';\r\n      } else if (error.message.includes('API endpoint')) {\r\n        userMessage += 'The donation service is temporarily unavailable. Your information has been saved locally.';\r\n      } else if (error.message.includes('Network')) {\r\n        userMessage += 'Network connection error. Please check your internet and try again.';\r\n      } else {\r\n        userMessage += error.message || 'Please try again or contact support if the problem persists.';\r\n      }\r\n      \r\n      setError(userMessage);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  // Load data when modal opens\r\n  useEffect(() => {\r\n    if (open) {\r\n      console.log('Modal opened, loading data...');\r\n      setDataLoading(true);\r\n      setError('');\r\n      \r\n      loadAllCountries();\r\n      \r\n      // Test connection first, then load data\r\n      testApiConnection().then((connected) => {\r\n        if (connected) {\r\n          Promise.allSettled([\r\n            fetchAcefCountries(), \r\n            fetchProjects(), \r\n            fetchTransactionMethods()\r\n          ]).finally(() => setDataLoading(false));\r\n        } else {\r\n          // Load fallback data\r\n          fetchAcefCountries();\r\n          fetchProjects();\r\n          fetchTransactionMethods();\r\n          setDataLoading(false);\r\n        }\r\n      });\r\n    }\r\n  }, [open, API_BASE]);\r\n\r\n  const handleInputChange = (field, value) => {\r\n    setFormData(prev => ({ ...prev, [field]: value }));\r\n    if (error) setError('');\r\n  };\r\n\r\n  const handleNext = async () => {\r\n    if (activeStep === 0 || validateStep()) {\r\n      if (activeStep === 3) {\r\n        await submitDonationToBackend();\r\n      } else {\r\n        setActiveStep(prev => prev + 1);\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleBack = () => {\r\n    setActiveStep(prev => prev - 1);\r\n    setError('');\r\n    setSubmitSuccess(false);\r\n  };\r\n\r\n  const validateStep = () => {\r\n    switch (activeStep) {\r\n      case 1:\r\n        if (formData.donationType === 'country' && !formData.selectedCountry) {\r\n          setError('Please select a country where ACEF operates');\r\n          return false;\r\n        }\r\n        if (formData.donationType === 'project' && !formData.selectedProject) {\r\n          setError('Please select a project');\r\n          return false;\r\n        }\r\n        return true;\r\n      \r\n      case 2:\r\n        const amount = formData.customAmount || formData.amount;\r\n        if (!amount || amount <= 0) {\r\n          setError('Please enter a valid donation amount');\r\n          return false;\r\n        }\r\n        if (amount > 50000) {\r\n          setError('For donations over $50,000, please contact us directly');\r\n          return false;\r\n        }\r\n        return true;\r\n      \r\n      case 3:\r\n        if (!formData.name.trim()) {\r\n          setError('Name is required');\r\n          return false;\r\n        }\r\n        if (!formData.email.trim() || !/\\S+@\\S+\\.\\S+/.test(formData.email)) {\r\n          setError('Please enter a valid email address');\r\n          return false;\r\n        }\r\n        if (!formData.donorCountry) {\r\n          setError('Please select your country');\r\n          return false;\r\n        }\r\n        return true;\r\n      \r\n      case 4:\r\n        if (!formData.selectedTransactionMethod) {\r\n          setError('Please select a payment method');\r\n          return false;\r\n        }\r\n        return true;\r\n      \r\n      default:\r\n        return true;\r\n    }\r\n  };\r\n\r\n  const handlePayPalDonate = (method) => {\r\n    const donationLink = method.fields.find(f => f.label === 'Donation Link')?.value;\r\n    if (donationLink) {\r\n      window.open(donationLink, '_blank');\r\n      handleClose();\r\n    }\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setIsClosing(true);\r\n    \r\n    setTimeout(() => {\r\n      setActiveStep(0);\r\n      setFormData({\r\n        donationType: 'general',\r\n        selectedCountry: '',\r\n        selectedProject: '',\r\n        amount: 50,\r\n        customAmount: '',\r\n        name: '',\r\n        email: '',\r\n        phone: '',\r\n        donorCountry: '',\r\n        isAnonymous: false,\r\n        selectedTransactionMethod: null\r\n      });\r\n      setPaymentSearchTerm('');\r\n      setPaymentCountryFilter('');\r\n      setSelectedPaymentMethod(null);\r\n      setCopiedField(null);\r\n      setError('');\r\n      setSubmitSuccess(false);\r\n      setIsClosing(false);\r\n      onClose();\r\n    }, 300);\r\n  };\r\n\r\n  const getDonationTargetText = () => {\r\n    switch (formData.donationType) {\r\n      case 'country':\r\n        const selectedCountry = acefCountries.find(c => c.id === parseInt(formData.selectedCountry));\r\n        return selectedCountry ? `${selectedCountry.name} projects` : 'Country-specific projects';\r\n      case 'project':\r\n        const selectedProject = projects.find(p => p.id === parseInt(formData.selectedProject));\r\n        return selectedProject ? selectedProject.title : 'Specific project';\r\n      default:\r\n        return 'ACEF General Impact';\r\n    }\r\n  };\r\n\r\n  // Filter transaction methods based on search and country\r\n  const filteredTransactionMethods = transactionMethods.filter(method => {\r\n    const matchesSearch = !paymentSearchTerm || \r\n      method.name.toLowerCase().includes(paymentSearchTerm.toLowerCase());\r\n    const matchesCountry = !paymentCountryFilter || \r\n      method.country === paymentCountryFilter;\r\n    return matchesSearch && matchesCountry;\r\n  });\r\n\r\n  // Get unique countries from transaction methods for filter\r\n  const availableCountries = [...new Set(transactionMethods\r\n    .filter(method => method.country)\r\n    .map(method => method.country)\r\n  )].sort();\r\n\r\n  // Copy to clipboard function\r\n  const copyToClipboard = (text, fieldId) => {\r\n    navigator.clipboard.writeText(text).then(() => {\r\n      setCopiedField(fieldId);\r\n      setTimeout(() => setCopiedField(null), 2000);\r\n    }).catch(() => {\r\n      // Fallback for browsers that don't support clipboard API\r\n      const textArea = document.createElement('textarea');\r\n      textArea.value = text;\r\n      document.body.appendChild(textArea);\r\n      textArea.select();\r\n      document.execCommand('copy');\r\n      document.body.removeChild(textArea);\r\n      setCopiedField(fieldId);\r\n      setTimeout(() => setCopiedField(null), 2000);\r\n    });\r\n  };\r\n\r\n  // Get payment method icon\r\n  const getPaymentMethodIcon = (type) => {\r\n    switch (type) {\r\n      case 'bank_transfer':\r\n        return Building;\r\n      case 'paypal':\r\n        return CreditCard;\r\n      case 'local_merchant':\r\n        return Smartphone;\r\n      default:\r\n        return Banknote;\r\n    }\r\n  };\r\n\r\n  // Get payment method type label\r\n  const getPaymentTypeLabel = (type) => {\r\n    switch (type) {\r\n      case 'bank_transfer':\r\n        return 'Bank Transfer';\r\n      case 'paypal':\r\n        return 'PayPal Donate';\r\n      case 'local_merchant':\r\n        return 'Local Transfer & Other Merchants';\r\n      default:\r\n        return 'Payment Method';\r\n    }\r\n  };\r\n\r\n  // Group transaction methods by type for better organization\r\n  const groupedTransactionMethods = {\r\n    paypal: filteredTransactionMethods.filter(method => method.type === 'paypal'),\r\n    bank_transfer: filteredTransactionMethods.filter(method => method.type === 'bank_transfer'),\r\n    local_merchant: filteredTransactionMethods.filter(method => method.type === 'local_merchant')\r\n  };\r\n\r\nconst RadioOption = ({ value, currentValue, onChange, icon: Icon, title, description, children, onClick }) => {\r\n  const handleOptionClick = (e) => {\r\n    // Don't change selection if clicking within a dropdown area\r\n    if (e.target.tagName === 'SELECT' || \r\n        e.target.tagName === 'OPTION' || \r\n        e.target.closest('select') ||\r\n        e.target.closest('.dropdown-container')) {\r\n      e.stopPropagation();\r\n      return;\r\n    }\r\n    \r\n    if (onClick) {\r\n      onClick();\r\n    } else {\r\n      onChange(value);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div \r\n      className={`donation-option ${currentValue === value ? 'selected' : ''}`}\r\n      onClick={handleOptionClick}\r\n    >\r\n      <div className=\"option-content\">\r\n        <input\r\n          type=\"radio\"\r\n          name=\"option\"\r\n          value={value}\r\n          checked={currentValue === value}\r\n          onChange={(e) => onChange(e.target.value)}\r\n        />\r\n        <Icon size={20} style={{ color: colors.primary }} />\r\n        <div className=\"option-text\">\r\n          <h4>{title}</h4>\r\n          <p>{description}</p>\r\n          {children}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\n  const AmountButton = ({ amount, selected, onClick }) => (\r\n    <button\r\n      className={`amount-button ${selected ? 'selected' : ''}`}\r\n      onClick={onClick}\r\n    >\r\n      ${amount}\r\n    </button>\r\n  );\r\n\r\n  const ProjectCard = ({ project, isSelected, onClick }) => (\r\n    <div \r\n      className={`project-card ${isSelected ? 'selected' : ''}`}\r\n      onClick={() => onClick(project.id)}\r\n    >\r\n      <div className=\"project-card-header\">\r\n        <div className=\"project-info\">\r\n          <h4>{project.title}</h4>\r\n          <div className=\"project-meta\">\r\n            <span className=\"project-country\">\r\n              <MapPin size={12} />\r\n              {project.country_name || project.countryName || 'Global'}\r\n            </span>\r\n            {project.status && project.status !== 'completed' && (\r\n              <>\r\n                <span className=\"separator\"></span>\r\n                <span className=\"project-status\">{project.status}</span>\r\n              </>\r\n            )}\r\n          </div>\r\n        </div>\r\n        <input\r\n          type=\"radio\"\r\n          name=\"project\"\r\n          checked={isSelected}\r\n          onChange={() => {}}\r\n          onClick={(e) => e.stopPropagation()}\r\n        />\r\n      </div>\r\n      \r\n      {project.short_description && (\r\n        <p className=\"project-description\">{project.short_description}</p>\r\n      )}\r\n    </div>\r\n  );\r\n\r\n  const PaymentMethodCard = ({ method, isSelected, onClick }) => {\r\n    const IconComponent = getPaymentMethodIcon(method.type);\r\n    \r\n    return (\r\n      <div \r\n        className={`payment-method-card ${isSelected ? 'selected' : ''}`}\r\n        onClick={() => onClick(method)}\r\n      >\r\n        <div className=\"payment-method-header\">\r\n          <div className=\"payment-method-info\">\r\n            {method.logo_url ? (\r\n              <img \r\n                src={method.logo_url} \r\n                alt={method.name}\r\n                className=\"payment-method-logo\"\r\n                onError={(e) => {\r\n                  e.target.style.display = 'none';\r\n                  e.target.nextElementSibling.style.display = 'flex';\r\n                }}\r\n              />\r\n            ) : null}\r\n            <div \r\n              className=\"payment-method-icon-fallback\"\r\n              style={{ display: method.logo_url ? 'none' : 'flex' }}\r\n            >\r\n              <IconComponent size={20} style={{ color: colors.primary }} />\r\n            </div>\r\n            <div className=\"payment-method-text\">\r\n              <h4>{method.name}</h4>\r\n              <div className=\"payment-method-meta\">\r\n                <span className=\"payment-type\">{getPaymentTypeLabel(method.type)}</span>\r\n                {method.country && (\r\n                  <>\r\n                    <span className=\"separator\"></span>\r\n                    <span className=\"payment-country\">\r\n                      <MapPin size={12} />\r\n                      {method.country}\r\n                    </span>\r\n                  </>\r\n                )}\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <input\r\n            type=\"radio\"\r\n            name=\"payment-method\"\r\n            checked={isSelected}\r\n            onChange={() => {}}\r\n            onClick={(e) => e.stopPropagation()}\r\n          />\r\n        </div>\r\n        \r\n        {isSelected && (\r\n          <div className=\"payment-method-details\">\r\n            {method.type === 'paypal' ? (\r\n              <div className=\"paypal-donation-section\">\r\n                <button\r\n                  className=\"paypal-donate-button\"\r\n                  onClick={(e) => {\r\n                    e.stopPropagation();\r\n                    handlePayPalDonate(method);\r\n                  }}\r\n                >\r\n                  <ExternalLink size={16} />\r\n                  Donate Directly\r\n                </button>\r\n                <div className=\"paypal-email-section\">\r\n                  <p className=\"paypal-instruction\">Complete a PayPal transaction by email:</p>\r\n                  <div className=\"paypal-email\">\r\n                    {method.fields.find(f => f.label === 'PayPal Email')?.value || 'donations@acef.org'}\r\n                    <button\r\n                      className=\"copy-button-small\"\r\n                      onClick={(e) => {\r\n                        e.stopPropagation();\r\n                        const email = method.fields.find(f => f.label === 'PayPal Email')?.value || 'donations@acef.org';\r\n                        copyToClipboard(email, `paypal-email-${method.id}`);\r\n                      }}\r\n                      title=\"Copy email\"\r\n                    >\r\n                      {copiedField === `paypal-email-${method.id}` ? (\r\n                        <Check size={12} />\r\n                      ) : (\r\n                        <Copy size={12} />\r\n                      )}\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            ) : (\r\n              <div className=\"payment-fields\">\r\n                {method.fields.map((field, index) => {\r\n                  const fieldId = `${method.id}-${index}`;\r\n                  const isCopied = copiedField === fieldId;\r\n                  \r\n                  return (\r\n                    <div key={index} className=\"payment-field\">\r\n                      <div className=\"payment-field-header\">\r\n                        <label>{field.label}</label>\r\n                        <button\r\n                          className=\"copy-button\"\r\n                          onClick={(e) => {\r\n                            e.stopPropagation();\r\n                            copyToClipboard(field.value, fieldId);\r\n                          }}\r\n                          title=\"Copy to clipboard\"\r\n                        >\r\n                          {isCopied ? (\r\n                            <>\r\n                              <Check size={12} />\r\n                              Copied!\r\n                            </>\r\n                          ) : (\r\n                            <>\r\n                              <Copy size={12} />\r\n                              Copy\r\n                            </>\r\n                          )}\r\n                        </button>\r\n                      </div>\r\n                      <div className=\"payment-field-value\">\r\n                        {field.value}\r\n                      </div>\r\n                    </div>\r\n                  );\r\n                })}\r\n              </div>\r\n            )}\r\n          </div>\r\n        )}\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const PaymentTypeSection = ({ type, methods, title }) => {\r\n    if (methods.length === 0) return null;\r\n\r\n    return (\r\n      <div className=\"payment-type-section\">\r\n        <h4 className=\"payment-type-title\">{title}</h4>\r\n        <div className=\"payment-methods-list\">\r\n          {methods.map(method => (\r\n            <PaymentMethodCard\r\n              key={method.id}\r\n              method={method}\r\n              isSelected={formData.selectedTransactionMethod?.id === method.id}\r\n              onClick={(selectedMethod) => {\r\n                setSelectedPaymentMethod(selectedMethod);\r\n                handleInputChange('selectedTransactionMethod', selectedMethod);\r\n              }}\r\n            />\r\n          ))}\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const renderStepContent = () => {\r\n    switch (activeStep) {\r\n      case 0:\r\n        return (\r\n          <div className=\"landing-content\">\r\n            <div className=\"parallax-background\"></div>\r\n            <div className=\"landing-hero\">\r\n              <div className=\"hero-icon\">\r\n                <HandHeart size={64} style={{ color: colors.secondary }} />\r\n                <div className=\"floating-hearts\">\r\n                  <Heart size={16} style={{ color: colors.secondary }} className=\"heart-1\" />\r\n                  <Heart size={12} style={{ color: colors.accent }} className=\"heart-2\" />\r\n                  <Heart size={20} style={{ color: colors.primary }} className=\"heart-3\" />\r\n                </div>\r\n              </div>\r\n              \r\n              <h2 className=\"landing-title\">\r\n                Together, We Create\r\n                <span className=\"highlight-text\"> Lasting Change</span>\r\n              </h2>\r\n              \r\n              <p className=\"landing-description\">\r\n                Every contribution becomes part of something bigger. Your generosity helps build \r\n                stronger communities, provide essential resources, and create opportunities that \r\n                transform lives across Africa.\r\n              </p>\r\n              \r\n              <div className=\"impact-stats\">\r\n                <div className=\"stat-item\">\r\n                  <div className=\"stat-icon\">\r\n                    <Sparkles size={20} style={{ color: colors.secondary }} />\r\n                  </div>\r\n                  <div className=\"stat-content\">\r\n                    <span className=\"stat-number\">1,200+</span>\r\n                    <span className=\"stat-label\">Lives Impacted</span>\r\n                  </div>\r\n                </div>\r\n                <div className=\"stat-item\">\r\n                  <div className=\"stat-icon\">\r\n                    <Globe size={20} style={{ color: colors.accent }} />\r\n                  </div>\r\n                  <div className=\"stat-content\">\r\n                    <span className=\"stat-number\">{acefCountries.length || '15'}</span>\r\n                    <span className=\"stat-label\">Communities Served</span>\r\n                  </div>\r\n                </div>\r\n                <div className=\"stat-item\">\r\n                  <div className=\"stat-icon\">\r\n                    <Heart size={20} style={{ color: colors.primary }} />\r\n                  </div>\r\n                  <div className=\"stat-content\">\r\n                    <span className=\"stat-number\">500+</span>\r\n                    <span className=\"stat-label\">Generous Donors</span>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              \r\n              <div className=\"inspiration-quote\">\r\n                <p>\"The best way to find yourself is to lose yourself in the service of others.\"</p>\r\n                <span> Mahatma Gandhi</span>\r\n              </div>\r\n              \r\n              <div className=\"cta-section\">\r\n                <button \r\n                  className=\"start-donation-btn\"\r\n                  onClick={handleNext}\r\n                >\r\n                  <Heart size={18} />\r\n                  Start Your Impact Journey\r\n                  <ArrowRight size={18} />\r\n                </button>\r\n                \r\n                <p className=\"reassurance\">\r\n                  {apiConnected ? 'Secure process' : 'Offline mode'}  Every dollar matters  Take your time\r\n                </p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        );\r\n\r\n      case 1:\r\n        return (\r\n          <div className=\"step-content\">\r\n            <div className=\"step-hero-image\"></div>\r\n            <h3 className=\"step-title\">What would you like to support?</h3>\r\n            \r\n            {dataLoading && (\r\n              <div className=\"loading-message\">\r\n                <RefreshCw size={20} className=\"spin\" />\r\n                <p>Loading donation options...</p>\r\n              </div>\r\n            )}\r\n            \r\n            <div className=\"options-grid\">\r\n              <RadioOption\r\n                value=\"general\"\r\n                currentValue={formData.donationType}\r\n                onChange={(value) => handleInputChange('donationType', value)}\r\n                icon={Heart}\r\n                title=\"General ACEF Impact\"\r\n                description=\"Support our overall mission and let us allocate funds where they're needed most\"\r\n              />\r\n\r\n              <RadioOption\r\n                value=\"country\"\r\n                currentValue={formData.donationType}\r\n                onChange={(value) => handleInputChange('donationType', value)}\r\n                icon={Globe}\r\n                title=\"Specific Country\"\r\n                description=\"Focus your donation on projects in a particular country where ACEF operates\"\r\n              >\r\n                {formData.donationType === 'country' && (\r\n                  <select\r\n                    value={formData.selectedCountry}\r\n                    onChange={(e) => handleInputChange('selectedCountry', e.target.value)}\r\n                    className=\"country-select\"\r\n                    onClick={(e) => e.stopPropagation()}\r\n                  >\r\n                    <option value=\"\">Select Country</option>\r\n                    {acefCountries.length === 0 ? (\r\n                      <option value=\"\" disabled>\r\n                        {dataLoading ? 'Loading countries...' : 'No countries available'}\r\n                      </option>\r\n                    ) : (\r\n                      acefCountries.map(country => (\r\n                        <option key={country.id} value={country.id}>\r\n                          {country.name}\r\n                        </option>\r\n                      ))\r\n                    )}\r\n                  </select>\r\n                )}\r\n              </RadioOption>\r\n\r\n              <RadioOption\r\n                value=\"project\"\r\n                currentValue={formData.donationType}\r\n                onChange={(value) => handleInputChange('donationType', value)}\r\n                icon={FileText}\r\n                title=\"Specific Project\"\r\n                description=\"Donate directly to a particular project you care about\"\r\n              >\r\n                {formData.donationType === 'project' && projects.length > 0 && (\r\n                  <div className=\"projects-grid\">\r\n                    {projects.map(project => (\r\n                      <ProjectCard\r\n                        key={project.id}\r\n                        project={project}\r\n                        isSelected={parseInt(formData.selectedProject) === project.id}\r\n                        onClick={(projectId) => handleInputChange('selectedProject', projectId)}\r\n                      />\r\n                    ))}\r\n                  </div>\r\n                )}\r\n                {formData.donationType === 'project' && projects.length === 0 && !dataLoading && (\r\n                  <div className=\"no-projects\">\r\n                    <p>No projects available for donation at this time.</p>\r\n                  </div>\r\n                )}\r\n              </RadioOption>\r\n            </div>\r\n\r\n            {!apiConnected && (\r\n              <div className=\"api-status-info\">\r\n                <AlertCircle size={16} style={{ color: colors.warning }} />\r\n                <span>\r\n                  Offline mode: Using demo data. Your donation will be processed when connection is restored.\r\n                </span>\r\n              </div>\r\n            )}\r\n          </div>\r\n        );\r\n\r\n      case 2:\r\n        return (\r\n          <div className=\"step-content\">\r\n            <div className=\"amount-hero-image\"></div>\r\n            <h3 className=\"step-title\">Choose your donation amount</h3>\r\n            <p className=\"step-subtitle\">Supporting: {getDonationTargetText()}</p>\r\n\r\n            <div className=\"amounts-grid\">\r\n              {predefinedAmounts.map(amount => (\r\n                <AmountButton\r\n                  key={amount}\r\n                  amount={amount}\r\n                  selected={formData.amount === amount && !formData.customAmount}\r\n                  onClick={() => {\r\n                    handleInputChange('amount', amount);\r\n                    handleInputChange('customAmount', '');\r\n                  }}\r\n                />\r\n              ))}\r\n            </div>\r\n\r\n            <div className=\"custom-amount-section\">\r\n              <label>Custom Amount (USD)</label>\r\n              <div className=\"input-with-icon\">\r\n                <DollarSign size={18} />\r\n                <input\r\n                  type=\"number\"\r\n                  value={formData.customAmount}\r\n                  onChange={(e) => {\r\n                    handleInputChange('customAmount', e.target.value);\r\n                    handleInputChange('amount', '');\r\n                  }}\r\n                  placeholder=\"Enter amount\"\r\n                  min=\"1\"\r\n                  max=\"50000\"\r\n                />\r\n              </div>\r\n            </div>\r\n\r\n            {(formData.customAmount || formData.amount) && (\r\n              <div className=\"donation-summary\">\r\n                <h4>Your donation: ${formData.customAmount || formData.amount}</h4>\r\n                <p>Thank you for supporting {getDonationTargetText()}</p>\r\n              </div>\r\n            )}\r\n          </div>\r\n        );\r\n\r\n      case 3:\r\n        return (\r\n          <div className=\"step-content\">\r\n            <div className=\"form-hero-image\"></div>\r\n            <h3 className=\"step-title\">Your Information</h3>\r\n\r\n            {submitSuccess && (\r\n              <div className=\"success-alert\">\r\n                <CheckCircle size={16} />\r\n                <span>Donation details saved successfully! Proceeding to payment...</span>\r\n              </div>\r\n            )}\r\n\r\n            <div className=\"form-fields\">\r\n              <div className=\"form-field\">\r\n                <label>Full Name *</label>\r\n                <input\r\n                  type=\"text\"\r\n                  value={formData.name}\r\n                  onChange={(e) => handleInputChange('name', e.target.value)}\r\n                  placeholder=\"Enter your full name\"\r\n                />\r\n              </div>\r\n\r\n              <div className=\"form-field\">\r\n                <label>Email Address *</label>\r\n                <input\r\n                  type=\"email\"\r\n                  value={formData.email}\r\n                  onChange={(e) => handleInputChange('email', e.target.value)}\r\n                  placeholder=\"Enter your email address\"\r\n                />\r\n              </div>\r\n\r\n              <div className=\"form-field\">\r\n                <label>Phone Number (Optional)</label>\r\n                <input\r\n                  type=\"tel\"\r\n                  value={formData.phone}\r\n                  onChange={(e) => handleInputChange('phone', e.target.value)}\r\n                  placeholder=\"Enter your phone number\"\r\n                />\r\n              </div>\r\n\r\n              <div className=\"form-field\">\r\n                <label>Your Country *</label>\r\n                <select\r\n                  value={formData.donorCountry}\r\n                  onChange={(e) => handleInputChange('donorCountry', e.target.value)}\r\n                >\r\n                  <option value=\"\">Select your country</option>\r\n                  {allCountries.map(country => (\r\n                    <option key={country.label} value={country.label}>\r\n                      {country.label}\r\n                    </option>\r\n                  ))}\r\n                </select>\r\n              </div>\r\n\r\n              <div className=\"checkbox-field\">\r\n                <input\r\n                  type=\"checkbox\"\r\n                  id=\"anonymous\"\r\n                  checked={formData.isAnonymous}\r\n                  onChange={(e) => handleInputChange('isAnonymous', e.target.checked)}\r\n                />\r\n                <label htmlFor=\"anonymous\">Make this donation anonymous</label>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"summary-card\">\r\n              <h4>Donation Summary</h4>\r\n              <div>\r\n                <p>Amount: ${formData.customAmount || formData.amount}</p>\r\n                <p>Supporting: {getDonationTargetText()}</p>\r\n                <p>Donor: {formData.isAnonymous ? 'Anonymous' : formData.name || 'Not provided'}</p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        );\r\n\r\n      case 4:\r\n        return (\r\n          <div className=\"step-content\">\r\n            <div className=\"payment-hero-image\"></div>\r\n            <h3 className=\"step-title\">Choose Payment Method</h3>\r\n\r\n            <div className=\"donation-saved-alert\">\r\n              <CheckCircle size={20} style={{ color: colors.success }} />\r\n              <div>\r\n                <h4>Donation Details Saved!</h4>\r\n                <p>Your donation information has been securely saved. Choose how you'd like to complete your payment.</p>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"payment-search-filters\">\r\n              <div className=\"search-filter-row\">\r\n                <div className=\"search-input-container\">\r\n                  <Search size={16} />\r\n                  <input\r\n                    type=\"text\"\r\n                    placeholder=\"Search payment methods...\"\r\n                    value={paymentSearchTerm}\r\n                    onChange={(e) => setPaymentSearchTerm(e.target.value)}\r\n                    className=\"payment-search-input\"\r\n                  />\r\n                </div>\r\n                \r\n                <select\r\n                  value={paymentCountryFilter}\r\n                  onChange={(e) => setPaymentCountryFilter(e.target.value)}\r\n                  className=\"payment-country-filter\"\r\n                >\r\n                  <option value=\"\">All Countries</option>\r\n                  {availableCountries.map(country => (\r\n                    <option key={country} value={country}>\r\n                      {country}\r\n                    </option>\r\n                  ))}\r\n                </select>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"payment-methods-container\">\r\n              {filteredTransactionMethods.length === 0 ? (\r\n                <div className=\"no-payment-methods\">\r\n                  <AlertCircle size={20} style={{ color: colors.warning }} />\r\n                  <p>No payment methods found matching your search.</p>\r\n                </div>\r\n              ) : (\r\n                <>\r\n                  <PaymentTypeSection\r\n                    type=\"paypal\"\r\n                    methods={groupedTransactionMethods.paypal}\r\n                    title=\"PayPal Donate\"\r\n                  />\r\n\r\n                  <PaymentTypeSection\r\n                    type=\"bank_transfer\"\r\n                    methods={groupedTransactionMethods.bank_transfer}\r\n                    title=\"Bank Transfer\"\r\n                  />\r\n\r\n                  <PaymentTypeSection\r\n                    type=\"local_merchant\"\r\n                    methods={groupedTransactionMethods.local_merchant}\r\n                    title=\"Local Transfer & Other Merchants\"\r\n                  />\r\n                </>\r\n              )}\r\n            </div>\r\n\r\n            <div className=\"info-card\">\r\n              <div style={{ display: 'flex', alignItems: 'flex-start' }}>\r\n                <AlertCircle \r\n                  size={18} \r\n                  style={{ color: colors.info, marginRight: '8px', marginTop: '2px' }} \r\n                />\r\n                <p style={{ fontSize: '13px', margin: 0 }}>\r\n                  {formData.selectedTransactionMethod?.type === 'paypal' ? \r\n                    'Click \"Donate Directly\" to be redirected to PayPal, or use the email provided for manual transactions.' :\r\n                    formData.selectedTransactionMethod ? \r\n                    'Use the payment details above to complete your donation. Keep this information for your records.' :\r\n                    `Select a payment method to complete your ${formData.customAmount || formData.amount} donation.${!apiConnected ? ' Your donation details are saved and will sync when connection is restored.' : ''}`\r\n                  }\r\n                </p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        );\r\n    \r\n      default:\r\n        return null;\r\n    }\r\n  };\r\n\r\n  if (!open) return null;\r\n\r\n  return (\r\n    <>\r\n      <style jsx>{`\r\n        .modal-overlay {\r\n          position: fixed;\r\n          top: 0;\r\n          left: 0;\r\n          right: 0;\r\n          bottom: 0;\r\n          z-index: 1000;\r\n          background: ${withOpacity(colors.black, 0.7)};\r\n          backdrop-filter: blur(12px);\r\n          animation: ${isClosing ? 'fadeOut' : 'fadeIn'} 0.4s cubic-bezier(0.25, 0.8, 0.25, 1);\r\n          display: flex;\r\n          align-items: flex-start;\r\n          justify-content: center;\r\n          padding-top: 60px;\r\n          padding-bottom: 20px;\r\n          overflow-y: auto;\r\n        }\r\n\r\n        .modal-content {\r\n          width: 85vw;\r\n          max-width: 1100px;\r\n          min-width: 320px;\r\n          background: ${theme.colors.surface};\r\n          border-radius: 24px;\r\n          box-shadow: \r\n            0 32px 64px ${withOpacity(colors.black, 0.25)}, \r\n            0 16px 32px ${withOpacity(colors.black, 0.15)},\r\n            0 0 0 1px ${withOpacity(colors.primary, 0.1)};\r\n          animation: ${isClosing ? 'slideOut' : 'slideIn'} 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);\r\n          overflow: hidden;\r\n          position: relative;\r\n          margin-bottom: 20px;\r\n        }\r\n\r\n        .modal-header {\r\n          display: flex;\r\n          align-items: center;\r\n          justify-content: space-between;\r\n          padding: 28px 32px;\r\n          border-bottom: 1px solid ${withOpacity(colors.primary, 0.1)};\r\n          background: linear-gradient(135deg, \r\n            ${withOpacity(colors.primary, 0.08)}, \r\n            ${withOpacity(colors.accent, 0.06)},\r\n            ${withOpacity(colors.secondary, 0.04)}\r\n          );\r\n          position: relative;\r\n          overflow: hidden;\r\n        }\r\n\r\n        .modal-header::before {\r\n          content: '';\r\n          position: absolute;\r\n          top: 0;\r\n          left: -100%;\r\n          width: 100%;\r\n          height: 100%;\r\n          background: linear-gradient(90deg, \r\n            transparent, \r\n            ${withOpacity(colors.secondary, 0.1)}, \r\n            transparent\r\n          );\r\n          animation: shimmer 3s ease-in-out infinite;\r\n        }\r\n\r\n        .header-content {\r\n          display: flex;\r\n          align-items: center;\r\n          gap: 16px;\r\n          position: relative;\r\n          z-index: 1;\r\n        }\r\n\r\n        .header-title {\r\n          margin: 0 0 8px 0;\r\n          color: ${theme.colors.text};\r\n          font-size: 28px;\r\n          font-weight: 800;\r\n          letter-spacing: -0.5px;\r\n        }\r\n\r\n        .header-subtitle {\r\n          margin: 0;\r\n          color: ${theme.colors.textSecondary};\r\n          font-size: 14px;\r\n          font-weight: 500;\r\n        }\r\n\r\n        .close-button {\r\n          padding: 12px;\r\n          border: none;\r\n          border-radius: 50%;\r\n          background: ${withOpacity(colors.error, 0.1)};\r\n          color: ${colors.error};\r\n          cursor: pointer;\r\n          transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\r\n          position: relative;\r\n          z-index: 1;\r\n        }\r\n\r\n        .close-button:hover {\r\n          background: ${withOpacity(colors.error, 0.2)};\r\n          transform: scale(1.1) rotate(90deg);\r\n          box-shadow: 0 4px 20px ${withOpacity(colors.error, 0.3)};\r\n        }\r\n\r\n        .progress-section {\r\n          padding: 24px 32px;\r\n          background: linear-gradient(135deg, \r\n            ${withOpacity(colors.primary, 0.05)}, \r\n            ${withOpacity(colors.accent, 0.08)},\r\n            ${withOpacity(colors.secondary, 0.03)}\r\n          );\r\n          ${activeStep === 0 ? 'display: none;' : ''}\r\n          position: relative;\r\n          overflow: hidden;\r\n        }\r\n\r\n        .progress-section::before {\r\n          content: '';\r\n          position: absolute;\r\n          top: 0;\r\n          left: 0;\r\n          right: 0;\r\n          bottom: 0;\r\n          background: url('https://images.unsplash.com/photo-1578662996442-48f60103fc96?ixlib=rb-4.0.3&auto=format&fit=crop&w=1200&q=30');\r\n          background-size: cover;\r\n          background-position: center;\r\n          opacity: 0.05;\r\n          z-index: 0;\r\n        }\r\n\r\n        .progress-steps {\r\n          display: flex;\r\n          justify-content: space-between;\r\n          margin-bottom: 16px;\r\n          position: relative;\r\n          z-index: 1;\r\n        }\r\n\r\n        .progress-step {\r\n          font-size: 12px;\r\n          font-weight: 700;\r\n          text-transform: uppercase;\r\n          letter-spacing: 1px;\r\n          color: ${theme.colors.textSecondary};\r\n          transition: all 0.3s ease;\r\n        }\r\n\r\n        .progress-bar {\r\n          width: 100%;\r\n          height: 10px;\r\n          border-radius: 5px;\r\n          background: ${withOpacity(colors.primary, 0.15)};\r\n          overflow: hidden;\r\n          position: relative;\r\n          z-index: 1;\r\n        }\r\n\r\n        .progress-bar::after {\r\n          content: '';\r\n          position: absolute;\r\n          inset: 0;\r\n          background: linear-gradient(45deg, \r\n            transparent 25%, \r\n            ${withOpacity(colors.white, 0.2)} 25%, \r\n            ${withOpacity(colors.white, 0.2)} 50%, \r\n            transparent 50%, \r\n            transparent 75%, \r\n            ${withOpacity(colors.white, 0.2)} 75%\r\n          );\r\n          background-size: 20px 20px;\r\n          animation: shimmer 2s linear infinite;\r\n        }\r\n\r\n        .progress-fill {\r\n          height: 100%;\r\n          border-radius: 5px;\r\n          background: linear-gradient(90deg, \r\n            ${colors.primary}, \r\n            ${colors.accent}, \r\n            ${colors.secondary},\r\n            ${colors.primary}\r\n          );\r\n          background-size: 300% 100%;\r\n          animation: gradientShift 4s ease infinite;\r\n          transition: width 0.8s cubic-bezier(0.25, 0.8, 0.25, 1);\r\n          width: ${(activeStep / (steps.length - 1)) * 100}%;\r\n          position: relative;\r\n          box-shadow: 0 2px 10px ${withOpacity(colors.primary, 0.4)};\r\n        }\r\n\r\n        .content-section {\r\n          padding: 36px 32px;\r\n          min-height: 500px;\r\n          position: relative;\r\n        }\r\n\r\n        .error-alert {\r\n          margin-bottom: 24px;\r\n          padding: 18px 24px;\r\n          border-radius: 16px;\r\n          background: ${withOpacity(colors.error, 0.08)};\r\n          border: 1px solid ${withOpacity(colors.error, 0.2)};\r\n          color: ${colors.error};\r\n          display: flex;\r\n          align-items: center;\r\n          gap: 14px;\r\n          font-size: 14px;\r\n          font-weight: 600;\r\n          animation: shake 0.5s ease-in-out, slideInAlert 0.4s ease-out;\r\n        }\r\n\r\n        .success-alert {\r\n          margin-bottom: 24px;\r\n          padding: 18px 24px;\r\n          border-radius: 16px;\r\n          background: ${withOpacity(colors.success, 0.08)};\r\n          border: 1px solid ${withOpacity(colors.success, 0.2)};\r\n          color: ${colors.success};\r\n          display: flex;\r\n          align-items: center;\r\n          gap: 14px;\r\n          font-size: 14px;\r\n          font-weight: 600;\r\n          animation: slideInRight 0.5s ease-out;\r\n        }\r\n\r\n        .api-status-info {\r\n          margin-top: 24px;\r\n          padding: 16px 20px;\r\n          border-radius: 12px;\r\n          background: ${withOpacity(colors.warning, 0.08)};\r\n          border: 1px solid ${withOpacity(colors.warning, 0.2)};\r\n          color: ${colors.warning};\r\n          display: flex;\r\n          align-items: center;\r\n          gap: 12px;\r\n          font-size: 13px;\r\n          font-weight: 500;\r\n        }\r\n\r\n        .loading-message {\r\n          display: flex;\r\n          align-items: center;\r\n          justify-content: center;\r\n          gap: 16px;\r\n          padding: 40px;\r\n          color: ${theme.colors.textSecondary};\r\n        }\r\n\r\n        .loading-message p {\r\n          margin: 0;\r\n          font-size: 16px;\r\n          font-weight: 500;\r\n        }\r\n\r\n        .spin {\r\n          animation: spin 1.2s linear infinite;\r\n        }\r\n\r\n        .donation-saved-alert {\r\n          margin-bottom: 28px;\r\n          padding: 24px;\r\n          border-radius: 20px;\r\n          background: ${withOpacity(colors.success, 0.08)};\r\n          border: 1px solid ${withOpacity(colors.success, 0.2)};\r\n          display: flex;\r\n          align-items: flex-start;\r\n          gap: 16px;\r\n          animation: slideInAlert 0.5s ease-out;\r\n        }\r\n\r\n        .donation-saved-alert h4 {\r\n          margin: 0 0 8px 0;\r\n          color: ${colors.success};\r\n          font-size: 18px;\r\n          font-weight: 700;\r\n        }\r\n\r\n        .donation-saved-alert p {\r\n          margin: 0;\r\n          color: ${theme.colors.text};\r\n          font-size: 14px;\r\n          line-height: 1.6;\r\n        }\r\n\r\n        /* Landing Page Styles with Enhanced Visuals */\r\n        .landing-content {\r\n          text-align: center;\r\n          padding: 0;\r\n          background: linear-gradient(\r\n            135deg,\r\n            ${withOpacity(colors.primary, 0.95)} 0%,\r\n            ${withOpacity(colors.primaryDark, 0.9)} 50%,\r\n            ${withOpacity(colors.primary, 0.85)} 100%\r\n          ),\r\n          linear-gradient(\r\n            rgba(0,0,0,0.3),\r\n            rgba(0,0,0,0.1)\r\n          ),\r\n          url('https://images.unsplash.com/photo-1488521787991-ed7bbaae773c?ixlib=rb-4.0.3&auto=format&fit=crop&w=2070&q=80');\r\n          background-size: cover;\r\n          background-position: center;\r\n          background-attachment: fixed;\r\n          color: white;\r\n          margin: -36px -32px 28px -32px;\r\n          position: relative;\r\n          overflow: hidden;\r\n          min-height: 600px;\r\n        }\r\n\r\n        .parallax-background {\r\n          position: absolute;\r\n          top: 0;\r\n          left: 0;\r\n          right: 0;\r\n          bottom: 0;\r\n          background: \r\n            radial-gradient(circle at 20% 80%, ${withOpacity(colors.secondary, 0.15)} 0%, transparent 50%),\r\n            radial-gradient(circle at 80% 20%, ${withOpacity(colors.accent, 0.15)} 0%, transparent 50%);\r\n          animation: float 6s ease-in-out infinite;\r\n        }\r\n\r\n        .landing-hero {\r\n          max-width: 650px;\r\n          margin: 0 auto;\r\n          position: relative;\r\n          z-index: 2;\r\n          padding: 48px 24px;\r\n        }\r\n\r\n        .hero-icon {\r\n          position: relative;\r\n          margin: 0 auto 32px;\r\n          width: 120px;\r\n          height: 120px;\r\n          display: flex;\r\n          align-items: center;\r\n          justify-content: center;\r\n          background: ${withOpacity(colors.secondary, 0.2)};\r\n          border-radius: 50%;\r\n          backdrop-filter: blur(10px);\r\n          border: 2px solid ${withOpacity(colors.secondary, 0.3)};\r\n        }\r\n\r\n        .floating-hearts {\r\n          position: absolute;\r\n          inset: 0;\r\n        }\r\n\r\n        .floating-hearts .heart-1 {\r\n          position: absolute;\r\n          top: 10px;\r\n          right: 20px;\r\n          animation: float 3s ease-in-out infinite;\r\n          filter: drop-shadow(0 2px 4px rgba(0,0,0,0.3));\r\n        }\r\n\r\n        .floating-hearts .heart-2 {\r\n          position: absolute;\r\n          bottom: 20px;\r\n          left: 15px;\r\n          animation: float 2.8s ease-in-out infinite 0.8s;\r\n          filter: drop-shadow(0 2px 4px rgba(0,0,0,0.3));\r\n        }\r\n\r\n        .floating-hearts .heart-3 {\r\n          position: absolute;\r\n          top: 50px;\r\n          left: -10px;\r\n          animation: float 3.5s ease-in-out infinite 1.5s;\r\n          filter: drop-shadow(0 2px 4px rgba(0,0,0,0.3));\r\n        }\r\n\r\n        .landing-title {\r\n          font-size: 2.8rem;\r\n          font-weight: 900;\r\n          margin: 0 0 24px;\r\n          color: white;\r\n          line-height: 1.1;\r\n          text-shadow: 0 4px 8px rgba(0, 0, 0, 0.5);\r\n          letter-spacing: -1px;\r\n        }\r\n\r\n        .highlight-text {\r\n          color: ${colors.secondary};\r\n          text-shadow: 0 4px 8px rgba(0, 0, 0, 0.7);\r\n          position: relative;\r\n        }\r\n\r\n        .highlight-text::after {\r\n          content: '';\r\n          position: absolute;\r\n          bottom: 0;\r\n          left: 0;\r\n          right: 0;\r\n          height: 4px;\r\n          background: ${colors.secondary};\r\n          border-radius: 2px;\r\n          animation: underlineGrow 2s ease-out 1s both;\r\n        }\r\n\r\n        .landing-description {\r\n          font-size: 1.1rem;\r\n          line-height: 1.7;\r\n          color: rgba(255, 255, 255, 0.95);\r\n          margin: 0 0 40px;\r\n          text-shadow: 0 2px 4px rgba(0, 0, 0, 0.4);\r\n          font-weight: 400;\r\n        }\r\n\r\n        .impact-stats {\r\n          display: grid;\r\n          grid-template-columns: repeat(3, 1fr);\r\n          gap: 32px;\r\n          margin: 0 0 40px;\r\n          padding: 32px 24px;\r\n          background: rgba(255, 255, 255, 0.15);\r\n          backdrop-filter: blur(20px);\r\n          border-radius: 20px;\r\n          border: 1px solid rgba(255, 255, 255, 0.25);\r\n          box-shadow: 0 12px 40px rgba(0, 0, 0, 0.2);\r\n        }\r\n\r\n        .stat-item {\r\n          display: flex;\r\n          flex-direction: column;\r\n          align-items: center;\r\n          gap: 16px;\r\n          animation: fadeInUp 0.8s ease-out both;\r\n        }\r\n\r\n        .stat-item:nth-child(2) {\r\n          animation-delay: 0.2s;\r\n        }\r\n\r\n        .stat-item:nth-child(3) {\r\n          animation-delay: 0.4s;\r\n        }\r\n\r\n        .stat-icon {\r\n          width: 60px;\r\n          height: 60px;\r\n          border-radius: 50%;\r\n          background: rgba(255, 255, 255, 0.2);\r\n          display: flex;\r\n          align-items: center;\r\n          justify-content: center;\r\n          backdrop-filter: blur(10px);\r\n          border: 1px solid rgba(255, 255, 255, 0.3);\r\n        }\r\n\r\n        .stat-content {\r\n          text-align: center;\r\n        }\r\n\r\n        .stat-number {\r\n          font-size: 1.8rem;\r\n          font-weight: 900;\r\n          color: ${colors.secondary};\r\n          display: block;\r\n          text-shadow: 0 2px 4px rgba(0, 0, 0, 0.5);\r\n          letter-spacing: -0.5px;\r\n        }\r\n\r\n        .stat-label {\r\n          font-size: 0.9rem;\r\n          color: rgba(255, 255, 255, 0.9);\r\n          text-align: center;\r\n          text-shadow: 0 1px 2px rgba(0, 0, 0, 0.4);\r\n          font-weight: 500;\r\n        }\r\n\r\n        .inspiration-quote {\r\n          margin: 0 0 40px;\r\n          padding: 28px;\r\n          background: rgba(255, 255, 255, 0.12);\r\n          backdrop-filter: blur(20px);\r\n          border-radius: 16px;\r\n          border: 1px solid rgba(255, 255, 255, 0.2);\r\n          position: relative;\r\n          overflow: hidden;\r\n        }\r\n\r\n        .inspiration-quote::before {\r\n          content: '\"';\r\n          position: absolute;\r\n          top: -10px;\r\n          left: 20px;\r\n          font-size: 4rem;\r\n          color: ${withOpacity(colors.secondary, 0.3)};\r\n          font-family: serif;\r\n        }\r\n\r\n        .inspiration-quote p {\r\n          font-size: 1.1rem;\r\n          font-style: italic;\r\n          color: white;\r\n          margin: 0 0 8px;\r\n          text-shadow: 0 1px 2px rgba(0, 0, 0, 0.4);\r\n          position: relative;\r\n          z-index: 1;\r\n        }\r\n\r\n        .inspiration-quote span {\r\n          font-size: 0.9rem;\r\n          color: rgba(255, 255, 255, 0.8);\r\n          text-shadow: 0 1px 2px rgba(0, 0, 0, 0.4);\r\n          font-weight: 600;\r\n        }\r\n\r\n        .cta-section {\r\n          display: flex;\r\n          flex-direction: column;\r\n          align-items: center;\r\n          gap: 20px;\r\n        }\r\n          .nav-button next-button{\r\n\r\n          display: flex;\r\n          align-items: center;\r\n          padding: 8px 6px;\r\n          background: linear-gradient(135deg, ${colors.primary});\r\n          color: ${colors.white};\r\n          border: none;\r\n          font-size: 1.1rem;\r\n          }\r\n\r\n        .start-donation-btn {\r\n          display: flex;\r\n          align-items: center;\r\n          gap: 12px;\r\n          padding: 18px 36px;\r\n          background: linear-gradient(135deg, ${colors.secondary}, ${colors.secondaryLight});\r\n          color: ${colors.black};\r\n          border: none;\r\n          border-radius: 50px;\r\n          font-size: 1.1rem;\r\n          font-weight: 700;\r\n          cursor: pointer;\r\n          transition: all 0.4s cubic-bezier(0.25, 0.8, 0.25, 1);\r\n          box-shadow: \r\n            0 8px 25px rgba(0, 0, 0, 0.3),\r\n            0 0 0 2px ${withOpacity(colors.secondary, 0.5)};\r\n          position: relative;\r\n          overflow: hidden;\r\n        }\r\n\r\n        .start-donation-btn::before {\r\n          content: '';\r\n          position: absolute;\r\n          top: 50%;\r\n          left: 50%;\r\n          width: 0;\r\n          height: 0;\r\n          border-radius: 50%;\r\n          background: rgba(255, 255, 255, 0.3);\r\n          transition: all 0.6s ease;\r\n          transform: translate(-50%, -50%);\r\n        }\r\n\r\n        .start-donation-btn:hover::before {\r\n          width: 400px;\r\n          height: 400px;\r\n        }\r\n\r\n        .start-donation-btn:hover {\r\n          transform: translateY(-4px) scale(1.05);\r\n          box-shadow: \r\n            0 15px 35px rgba(0, 0, 0, 0.4),\r\n            0 0 0 3px ${withOpacity(colors.secondary, 0.7)};\r\n          background: linear-gradient(135deg, ${colors.secondaryLight}, ${colors.secondary});\r\n        }\r\n\r\n        .reassurance {\r\n          font-size: 0.9rem;\r\n          color: rgba(255, 255, 255, 0.85);\r\n          margin: 0;\r\n          text-shadow: 0 1px 2px rgba(0, 0, 0, 0.4);\r\n          font-weight: 500;\r\n        }\r\n\r\n        /* Step Hero Images */\r\n        .step-hero-image,\r\n        .amount-hero-image,\r\n        .form-hero-image,\r\n        .payment-hero-image {\r\n          width: 100%;\r\n          height: 120px;\r\n          margin: -36px -32px 32px -32px;\r\n          background-size: cover;\r\n          background-position: center;\r\n          position: relative;\r\n          border-radius: 0;\r\n          overflow: hidden;\r\n        }\r\n\r\n        .step-hero-image {\r\n          background: \r\n            linear-gradient(135deg, ${withOpacity(colors.primary, 0.8)}, ${withOpacity(colors.accent, 0.6)}),\r\n            url('https://images.unsplash.com/photo-1559827260-dc66d52bef19?ixlib=rb-4.0.3&auto=format&fit=crop&w=1200&q=80');\r\n        }\r\n\r\n        .amount-hero-image {\r\n          background: \r\n            linear-gradient(135deg, ${withOpacity(colors.secondary, 0.8)}, ${withOpacity(colors.primary, 0.6)}),\r\n            url('https://images.unsplash.com/photo-1579952363873-27d3bfad9c0d?ixlib=rb-4.0.3&auto=format&fit=crop&w=1200&q=80');\r\n        }\r\n\r\n        .form-hero-image {\r\n          background: \r\n            linear-gradient(135deg, ${withOpacity(colors.accent, 0.8)}, ${withOpacity(colors.primary, 0.6)}),\r\n            url('https://images.unsplash.com/photo-1582213782179-e0d53f98f2ca?ixlib=rb-4.0.3&auto=format&fit=crop&w=1200&q=80');\r\n        }\r\n\r\n        .payment-hero-image {\r\n          background: \r\n            linear-gradient(135deg, ${withOpacity(colors.success, 0.8)}, ${withOpacity(colors.primary, 0.6)}),\r\n            url('https://images.unsplash.com/photo-1556742049-0cfed4f6a45d?ixlib=rb-4.0.3&auto=format&fit=crop&w=1200&q=80');\r\n        }\r\n\r\n        .step-hero-image::after,\r\n        .amount-hero-image::after,\r\n        .form-hero-image::after,\r\n        .payment-hero-image::after {\r\n          content: '';\r\n          position: absolute;\r\n          top: 0;\r\n          left: -100%;\r\n          width: 100%;\r\n          height: 100%;\r\n          background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);\r\n          animation: shimmer 3s ease-in-out infinite;\r\n        }\r\n\r\n        /* Regular Step Content */\r\n        .step-content {\r\n          animation: slideInContent 0.5s ease-out;\r\n          position: relative;\r\n        }\r\n\r\n        .step-title {\r\n          margin: 0 0 24px 0;\r\n          font-size: 24px;\r\n          font-weight: 700;\r\n          color: ${theme.colors.text};\r\n          text-align: center;\r\n        }\r\n\r\n        .step-subtitle {\r\n          margin: 0 0 28px 0;\r\n          font-size: 16px;\r\n          color: ${theme.colors.textSecondary};\r\n          text-align: center;\r\n          font-weight: 500;\r\n        }\r\n\r\n        .options-grid {\r\n          display: flex;\r\n          flex-direction: column;\r\n          gap: 20px;\r\n        }\r\n\r\n        .donation-option {\r\n          border: 2px solid ${theme.colors.border};\r\n          border-radius: 16px;\r\n          padding: 24px;\r\n          background: transparent;\r\n          cursor: pointer;\r\n          transition: all 0.4s cubic-bezier(0.25, 0.8, 0.25, 1);\r\n          position: relative;\r\n          overflow: hidden;\r\n        }\r\n\r\n        .donation-option::before {\r\n          content: '';\r\n          position: absolute;\r\n          top: 0;\r\n          left: -100%;\r\n          width: 100%;\r\n          height: 100%;\r\n          background: linear-gradient(90deg, transparent, ${withOpacity(colors.primary, 0.1)}, transparent);\r\n          transition: left 0.6s ease;\r\n        }\r\n\r\n        .donation-option:hover::before {\r\n          left: 100%;\r\n        }\r\n\r\n        .donation-option.selected {\r\n          border-color: ${colors.primary};\r\n          background: linear-gradient(135deg, ${withOpacity(colors.primary, 0.08)}, ${withOpacity(colors.accent, 0.05)});\r\n          box-shadow: 0 8px 32px ${withOpacity(colors.primary, 0.15)};\r\n        }\r\n\r\n        .donation-option:hover {\r\n          transform: translateY(-4px);\r\n          box-shadow: 0 12px 40px ${withOpacity(colors.primary, 0.2)};\r\n          border-color: ${colors.primaryLight};\r\n        }\r\n\r\n        .option-content {\r\n          display: flex;\r\n          align-items: flex-start;\r\n          gap: 16px;\r\n          position: relative;\r\n          z-index: 1;\r\n        }\r\n\r\n        .option-content input[type=\"radio\"] {\r\n          accent-color: ${colors.primary};\r\n          width: 20px;\r\n          height: 20px;\r\n          margin-top: 2px;\r\n        }\r\n\r\n        .option-text {\r\n          flex: 1;\r\n        }\r\n\r\n        .option-text h4 {\r\n          margin: 0 0 8px 0;\r\n          font-size: 18px;\r\n          font-weight: 600;\r\n          color: ${theme.colors.text};\r\n        }\r\n\r\n        .option-text p {\r\n          margin: 0 0 16px 0;\r\n          font-size: 14px;\r\n          line-height: 1.5;\r\n          color: ${theme.colors.textSecondary};\r\n        }\r\n\r\n        .country-select {\r\n          width: 100%;\r\n          padding: 12px 16px;\r\n          border: 1px solid ${theme.colors.border};\r\n          border-radius: 10px;\r\n          font-size: 14px;\r\n          transition: all 0.3s ease;\r\n          background: ${theme.colors.surface};\r\n          color: ${theme.colors.text};\r\n        }\r\n\r\n        .country-select:focus {\r\n          outline: none;\r\n          border-color: ${colors.primary};\r\n          box-shadow: 0 0 0 3px ${withOpacity(colors.primary, 0.2)};\r\n        }\r\n\r\n        .projects-grid {\r\n          display: grid;\r\n          grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));\r\n          gap: 16px;\r\n          margin-top: 20px;\r\n          max-height: 400px;\r\n          overflow-y: auto;\r\n          padding: 4px;\r\n        }\r\n\r\n        .project-card {\r\n          border: 2px solid ${theme.colors.border};\r\n          border-radius: 12px;\r\n          padding: 20px;\r\n          background: ${theme.colors.surface};\r\n          cursor: pointer;\r\n          transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\r\n          position: relative;\r\n          overflow: hidden;\r\n        }\r\n\r\n        .project-card::before {\r\n          content: '';\r\n          position: absolute;\r\n          top: 0;\r\n          left: -100%;\r\n          width: 100%;\r\n          height: 100%;\r\n          background: linear-gradient(90deg, transparent, ${withOpacity(colors.accent, 0.1)}, transparent);\r\n          transition: left 0.5s ease;\r\n        }\r\n\r\n        .project-card:hover::before {\r\n          left: 100%;\r\n        }\r\n\r\n        .project-card.selected {\r\n          border-color: ${colors.primary};\r\n          background: ${withOpacity(colors.primary, 0.05)};\r\n          box-shadow: 0 8px 25px ${withOpacity(colors.primary, 0.15)};\r\n          transform: translateY(-2px);\r\n        }\r\n\r\n        .project-card:hover:not(.selected) {\r\n          border-color: ${colors.primaryLight};\r\n          transform: translateY(-4px);\r\n          box-shadow: 0 12px 30px ${theme.colors.cardShadow};\r\n        }\r\n\r\n        .project-card-header {\r\n          display: flex;\r\n          align-items: flex-start;\r\n          justify-content: space-between;\r\n          margin-bottom: 12px;\r\n          position: relative;\r\n          z-index: 1;\r\n        }\r\n\r\n        .project-info {\r\n          flex: 1;\r\n        }\r\n\r\n        .project-info h4 {\r\n          margin: 0 0 8px 0;\r\n          font-size: 16px;\r\n          font-weight: 600;\r\n          color: ${theme.colors.text};\r\n        }\r\n\r\n        .project-meta {\r\n          display: flex;\r\n          align-items: center;\r\n          gap: 8px;\r\n          font-size: 12px;\r\n          color: ${theme.colors.textMuted};\r\n        }\r\n\r\n        .project-country {\r\n          display: flex;\r\n          align-items: center;\r\n          gap: 4px;\r\n        }\r\n\r\n        .project-status {\r\n          background: ${withOpacity(colors.info, 0.1)};\r\n          color: ${colors.info};\r\n          padding: 2px 8px;\r\n          border-radius: 4px;\r\n          font-weight: 500;\r\n          text-transform: capitalize;\r\n        }\r\n\r\n        .separator {\r\n          color: ${theme.colors.textMuted};\r\n        }\r\n\r\n        .project-description {\r\n          margin: 0;\r\n          font-size: 13px;\r\n          color: ${theme.colors.textSecondary};\r\n          line-height: 1.4;\r\n          position: relative;\r\n          z-index: 1;\r\n        }\r\n\r\n        .project-card input[type=\"radio\"] {\r\n          accent-color: ${colors.primary};\r\n          width: 20px;\r\n          height: 20px;\r\n        }\r\n\r\n        .no-projects {\r\n          text-align: center;\r\n          padding: 32px;\r\n          color: ${theme.colors.textSecondary};\r\n          background: ${theme.colors.backgroundSecondary};\r\n          border-radius: 12px;\r\n          margin-top: 20px;\r\n        }\r\n\r\n        .no-projects p {\r\n          margin: 0;\r\n          font-size: 14px;\r\n        }\r\n\r\n        .amounts-grid {\r\n          display: grid;\r\n          grid-template-columns: repeat(4, 1fr);\r\n          gap: 16px;\r\n          margin-bottom: 32px;\r\n        }\r\n\r\n        .amount-button {\r\n          padding: 20px;\r\n          border: 2px solid ${theme.colors.border};\r\n          border-radius: 12px;\r\n          background: ${theme.colors.surface};\r\n          color: ${theme.colors.text};\r\n          font-size: 18px;\r\n          font-weight: 700;\r\n          cursor: pointer;\r\n          transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);\r\n          position: relative;\r\n          overflow: hidden;\r\n        }\r\n\r\n        .amount-button::before {\r\n          content: '';\r\n          position: absolute;\r\n          top: 50%;\r\n          left: 50%;\r\n          width: 0;\r\n          height: 0;\r\n          border-radius: 50%;\r\n          background: ${withOpacity(colors.primary, 0.2)};\r\n          transition: all 0.4s cubic-bezier(0.25, 0.8, 0.25, 1);\r\n          transform: translate(-50%, -50%);\r\n        }\r\n\r\n        .amount-button:active::before {\r\n          width: 300px;\r\n          height: 300px;\r\n        }\r\n\r\n        .amount-button.selected {\r\n          border-color: ${colors.primary};\r\n          background: linear-gradient(135deg, ${withOpacity(colors.primary, 0.15)}, ${withOpacity(colors.accent, 0.1)});\r\n          color: ${colors.primary};\r\n          box-shadow: 0 6px 20px ${withOpacity(colors.primary, 0.3)};\r\n        }\r\n\r\n        .amount-button:hover:not(.selected) {\r\n          transform: translateY(-3px);\r\n          background: ${theme.colors.backgroundSecondary};\r\n          box-shadow: 0 8px 25px ${theme.colors.cardShadow};\r\n          border-color: ${colors.primaryLight};\r\n        }\r\n\r\n        .custom-amount-section {\r\n          border-top: 1px solid ${theme.colors.border};\r\n          padding-top: 24px;\r\n        }\r\n\r\n        .custom-amount-section label {\r\n          display: block;\r\n          margin-bottom: 8px;\r\n          font-size: 14px;\r\n          font-weight: 600;\r\n          color: ${theme.colors.text};\r\n        }\r\n\r\n        .input-with-icon {\r\n          position: relative;\r\n        }\r\n\r\n        .input-with-icon svg {\r\n          position: absolute;\r\n          left: 16px;\r\n          top: 50%;\r\n          transform: translateY(-50%);\r\n          z-index: 1;\r\n          color: ${theme.colors.textSecondary};\r\n        }\r\n\r\n        .input-with-icon input {\r\n          width: 100%;\r\n          padding: 16px 16px 16px 48px;\r\n          border: 2px solid ${theme.colors.border};\r\n          border-radius: 12px;\r\n          font-size: 16px;\r\n          font-weight: 600;\r\n          transition: all 0.3s ease;\r\n          background: ${theme.colors.surface};\r\n          color: ${theme.colors.text};\r\n          box-sizing: border-box;\r\n        }\r\n\r\n        .input-with-icon input:focus {\r\n          outline: none;\r\n          border-color: ${colors.primary};\r\n          box-shadow: 0 0 0 3px ${withOpacity(colors.primary, 0.2)};\r\n        }\r\n\r\n        .donation-summary {\r\n          margin-top: 28px;\r\n          padding: 24px;\r\n          border-radius: 16px;\r\n          color: white;\r\n          text-align: center;\r\n          background: linear-gradient(135deg, ${colors.primary}, ${colors.primaryLight});\r\n          box-shadow: 0 8px 25px ${withOpacity(colors.primary, 0.3)};\r\n        }\r\n\r\n        .donation-summary h4 {\r\n          margin: 0 0 8px 0;\r\n          font-size: 20px;\r\n          font-weight: 700;\r\n        }\r\n\r\n        .donation-summary p {\r\n          margin: 0;\r\n          opacity: 0.9;\r\n          font-size: 14px;\r\n        }\r\n\r\n        .form-fields {\r\n          display: flex;\r\n          flex-direction: column;\r\n          gap: 20px;\r\n        }\r\n\r\n        .form-field label {\r\n          display: block;\r\n          margin-bottom: 6px;\r\n          font-size: 14px;\r\n          font-weight: 600;\r\n          color: ${theme.colors.text};\r\n        }\r\n\r\n        .form-field input,\r\n        .form-field select {\r\n          width: 100%;\r\n          padding: 14px 16px;\r\n          border: 2px solid ${theme.colors.border};\r\n          border-radius: 10px;\r\n          font-size: 14px;\r\n          transition: all 0.3s ease;\r\n          background: ${theme.colors.surface};\r\n          color: ${theme.colors.text};\r\n          box-sizing: border-box;\r\n        }\r\n\r\n        .form-field input:focus,\r\n        .form-field select:focus {\r\n          outline: none;\r\n          border-color: ${colors.primary};\r\n          box-shadow: 0 0 0 3px ${withOpacity(colors.primary, 0.2)};\r\n        }\r\n\r\n        .checkbox-field {\r\n          display: flex;\r\n          align-items: center;\r\n          gap: 12px;\r\n          padding: 16px;\r\n          background: ${withOpacity(colors.accent, 0.05)};\r\n          border-radius: 10px;\r\n          border: 1px solid ${withOpacity(colors.accent, 0.2)};\r\n        }\r\n\r\n        .checkbox-field input {\r\n          width: 18px;\r\n          height: 18px;\r\n          accent-color: ${colors.primary};\r\n        }\r\n\r\n        .checkbox-field label {\r\n          font-size: 14px;\r\n          cursor: pointer;\r\n          color: ${theme.colors.text};\r\n          margin: 0;\r\n        }\r\n\r\n        .summary-card {\r\n          margin-top: 28px;\r\n          padding: 20px;\r\n          border: 1px solid ${withOpacity(colors.primary, 0.2)};\r\n          border-radius: 16px;\r\n          background: ${withOpacity(colors.primary, 0.05)};\r\n        }\r\n\r\n        .summary-card h4 {\r\n          margin: 0 0 12px 0;\r\n          font-size: 16px;\r\n          font-weight: 600;\r\n          color: ${theme.colors.text};\r\n        }\r\n\r\n        .summary-card p {\r\n          margin: 0 0 6px 0;\r\n          font-size: 13px;\r\n          color: ${theme.colors.textSecondary};\r\n        }\r\n\r\n        /* Payment Methods Styles */\r\n        .payment-search-filters {\r\n          margin-bottom: 28px;\r\n        }\r\n\r\n        .search-filter-row {\r\n          display: flex;\r\n          gap: 16px;\r\n          align-items: center;\r\n        }\r\n\r\n        .search-input-container {\r\n          position: relative;\r\n          flex: 1;\r\n        }\r\n\r\n        .search-input-container svg {\r\n          position: absolute;\r\n          left: 16px;\r\n          top: 50%;\r\n          transform: translateY(-50%);\r\n          color: ${theme.colors.textMuted};\r\n          z-index: 1;\r\n        }\r\n\r\n        .payment-search-input {\r\n          width: 100%;\r\n          padding: 14px 16px 14px 48px;\r\n          border: 2px solid ${theme.colors.border};\r\n          border-radius: 12px;\r\n          font-size: 14px;\r\n          background: ${theme.colors.surface};\r\n          color: ${theme.colors.text};\r\n          box-sizing: border-box;\r\n          transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\r\n        }\r\n\r\n        .payment-search-input:focus {\r\n          outline: none;\r\n          border-color: ${colors.primary};\r\n          box-shadow: 0 0 0 3px ${withOpacity(colors.primary, 0.15)};\r\n        }\r\n\r\n        .payment-country-filter {\r\n          min-width: 180px;\r\n          padding: 14px 16px;\r\n          border: 2px solid ${theme.colors.border};\r\n          border-radius: 12px;\r\n          font-size: 14px;\r\n          background: ${theme.colors.surface};\r\n          color: ${theme.colors.text};\r\n          transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\r\n        }\r\n\r\n        .payment-country-filter:focus {\r\n          outline: none;\r\n          border-color: ${colors.primary};\r\n          box-shadow: 0 0 0 3px ${withOpacity(colors.primary, 0.15)};\r\n        }\r\n\r\n        .payment-methods-container {\r\n          display: flex;\r\n          flex-direction: column;\r\n          gap: 32px;\r\n        }\r\n\r\n        .payment-type-section {\r\n          display: flex;\r\n          flex-direction: column;\r\n          gap: 16px;\r\n        }\r\n\r\n        .payment-type-title {\r\n          margin: 0;\r\n          font-size: 20px;\r\n          font-weight: 700;\r\n          color: ${theme.colors.text};\r\n          padding-bottom: 12px;\r\n          border-bottom: 3px solid ${colors.primary};\r\n          position: relative;\r\n        }\r\n\r\n        .payment-type-title::after {\r\n          content: '';\r\n          position: absolute;\r\n          bottom: -3px;\r\n          left: 0;\r\n          width: 60px;\r\n          height: 3px;\r\n          background: ${colors.secondary};\r\n          border-radius: 2px;\r\n        }\r\n\r\n        .payment-methods-list {\r\n          display: flex;\r\n          flex-direction: column;\r\n          gap: 16px;\r\n        }\r\n\r\n        .no-payment-methods {\r\n          display: flex;\r\n          flex-direction: column;\r\n          align-items: center;\r\n          gap: 12px;\r\n          padding: 48px 24px;\r\n          text-align: center;\r\n          color: ${theme.colors.textSecondary};\r\n          background: ${theme.colors.backgroundSecondary};\r\n          border-radius: 16px;\r\n          border: 2px dashed ${theme.colors.border};\r\n        }\r\n\r\n        .no-payment-methods p {\r\n          margin: 0;\r\n          font-size: 14px;\r\n        }\r\n\r\n        .payment-method-card {\r\n          border: 2px solid ${theme.colors.border};\r\n          border-radius: 16px;\r\n          background: ${theme.colors.surface};\r\n          cursor: pointer;\r\n          transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);\r\n          overflow: hidden;\r\n          position: relative;\r\n        }\r\n\r\n        .payment-method-card::before {\r\n          content: '';\r\n          position: absolute;\r\n          top: 0;\r\n          left: -100%;\r\n          width: 100%;\r\n          height: 100%;\r\n          background: linear-gradient(90deg, transparent, ${withOpacity(colors.success, 0.1)}, transparent);\r\n          transition: left 0.6s ease;\r\n        }\r\n\r\n        .payment-method-card:hover::before {\r\n          left: 100%;\r\n        }\r\n\r\n        .payment-method-card.selected {\r\n          border-color: ${colors.primary};\r\n          box-shadow: 0 8px 32px ${withOpacity(colors.primary, 0.2)};\r\n          background: ${withOpacity(colors.primary, 0.03)};\r\n        }\r\n\r\n        .payment-method-card:hover:not(.selected) {\r\n          border-color: ${colors.primary};\r\n          transform: translateY(-3px);\r\n          box-shadow: 0 12px 40px ${theme.colors.cardShadow};\r\n        }\r\n\r\n        .payment-method-header {\r\n          display: flex;\r\n          align-items: center;\r\n          justify-content: space-between;\r\n          padding: 20px 24px;\r\n          position: relative;\r\n          z-index: 1;\r\n        }\r\n\r\n        .payment-method-info {\r\n          display: flex;\r\n          align-items: center;\r\n          gap: 16px;\r\n        }\r\n\r\n        .payment-method-logo {\r\n          width: 48px;\r\n          height: 48px;\r\n          border-radius: 12px;\r\n          object-fit: cover;\r\n          border: 1px solid ${theme.colors.border};\r\n        }\r\n\r\n        .payment-method-icon-fallback {\r\n          width: 48px;\r\n          height: 48px;\r\n          border-radius: 12px;\r\n          background: ${withOpacity(colors.primary, 0.1)};\r\n          display: flex;\r\n          align-items: center;\r\n          justify-content: center;\r\n          border: 1px solid ${withOpacity(colors.primary, 0.2)};\r\n        }\r\n\r\n        .payment-method-text h4 {\r\n          margin: 0 0 8px 0;\r\n          font-size: 16px;\r\n          font-weight: 600;\r\n          color: ${theme.colors.text};\r\n        }\r\n\r\n        .payment-method-meta {\r\n          display: flex;\r\n          align-items: center;\r\n          gap: 8px;\r\n          font-size: 13px;\r\n          color: ${theme.colors.textMuted};\r\n        }\r\n\r\n        .payment-type {\r\n          background: ${withOpacity(colors.primary, 0.1)};\r\n          color: ${colors.primary};\r\n          padding: 4px 12px;\r\n          border-radius: 8px;\r\n          font-weight: 600;\r\n          font-size: 12px;\r\n        }\r\n\r\n        .payment-country {\r\n          display: flex;\r\n          align-items: center;\r\n          gap: 4px;\r\n        }\r\n\r\n        .payment-method-card input[type=\"radio\"] {\r\n          accent-color: ${colors.primary};\r\n          width: 22px;\r\n          height: 22px;\r\n        }\r\n\r\n        .payment-method-details {\r\n          border-top: 1px solid ${theme.colors.border};\r\n          padding: 20px 24px;\r\n          background: ${withOpacity(colors.primary, 0.02)};\r\n          position: relative;\r\n          z-index: 1;\r\n        }\r\n\r\n        .paypal-donation-section {\r\n          display: flex;\r\n          flex-direction: column;\r\n          gap: 20px;\r\n        }\r\n\r\n        .paypal-donate-button {\r\n          display: flex;\r\n          align-items: center;\r\n          justify-content: center;\r\n          gap: 12px;\r\n          padding: 14px 28px;\r\n          background: linear-gradient(135deg, ${colors.info}, ${withOpacity(colors.info, 0.8)});\r\n          color: white;\r\n          border: none;\r\n          border-radius: 10px;\r\n          font-size: 14px;\r\n          font-weight: 600;\r\n          cursor: pointer;\r\n          transition: all 0.3s ease;\r\n          box-shadow: 0 4px 15px ${withOpacity(colors.info, 0.3)};\r\n        }\r\n\r\n        .paypal-donate-button:hover {\r\n          transform: translateY(-2px);\r\n          box-shadow: 0 8px 25px ${withOpacity(colors.info, 0.4)};\r\n        }\r\n\r\n        .paypal-email-section {\r\n          padding: 16px;\r\n          background: ${withOpacity(colors.info, 0.1)};\r\n          border-radius: 10px;\r\n          border: 1px solid ${withOpacity(colors.info, 0.2)};\r\n        }\r\n\r\n        .paypal-instruction {\r\n          margin: 0 0 12px 0;\r\n          font-size: 13px;\r\n          color: ${theme.colors.textSecondary};\r\n          font-weight: 500;\r\n        }\r\n\r\n        .paypal-email {\r\n          display: flex;\r\n          align-items: center;\r\n          justify-content: space-between;\r\n          padding: 8px 12px;\r\n          background: ${theme.colors.surface};\r\n          border: 1px solid ${theme.colors.border};\r\n          border-radius: 6px;\r\n          font-family: 'Monaco', 'Menlo', monospace;\r\n          font-size: 13px;\r\n          font-weight: 600;\r\n        }\r\n\r\n        .copy-button-small {\r\n          display: flex;\r\n          align-items: center;\r\n          gap: 4px;\r\n          padding: 4px 8px;\r\n          background: ${colors.primary};\r\n          color: white;\r\n          border: none;\r\n          border-radius: 4px;\r\n          font-size: 11px;\r\n          cursor: pointer;\r\n          transition: all 0.2s ease;\r\n        }\r\n\r\n        .copy-button-small:hover {\r\n          background: ${colors.primaryDark};\r\n          transform: scale(1.05);\r\n        }\r\n\r\n        .payment-fields {\r\n          display: flex;\r\n          flex-direction: column;\r\n          gap: 16px;\r\n        }\r\n\r\n        .payment-field {\r\n          background: ${withOpacity(colors.gray100, 0.5)};\r\n          padding: 16px;\r\n          border-radius: 10\r\n\r\n        .payment-search-input {\r\n          width: 100%;\r\n          padding: 12px 14px 12px 40px;\r\n          border: 1px solid ${theme.colors.border};\r\n          border-radius: 10px;\r\n          font-size: 14px;\r\n          background: ${theme.colors.surface};\r\n          color: ${theme.colors.text};\r\n          box-sizing: border-box;\r\n          transition: all 0.3s ease;\r\n        }\r\n\r\n        .payment-search-input:focus {\r\n          outline: none;\r\n          border-color: ${colors.primary};\r\n          box-shadow: 0 0 0 3px ${withOpacity(colors.primary, 0.2)};\r\n        }\r\n\r\n        .payment-country-filter {\r\n          min-width: 160px;\r\n          padding: 12px 14px;\r\n          border: 1px solid ${theme.colors.border};\r\n          border-radius: 10px;\r\n          font-size: 14px;\r\n          background: ${theme.colors.surface};\r\n          color: ${theme.colors.text};\r\n          transition: all 0.3s ease;\r\n        }\r\n\r\n        .payment-country-filter:focus {\r\n          outline: none;\r\n          border-color: ${colors.primary};\r\n          box-shadow: 0 0 0 3px ${withOpacity(colors.primary, 0.2)};\r\n        }\r\n\r\n        .payment-methods-container {\r\n          display: flex;\r\n          flex-direction: column;\r\n          gap: 28px;\r\n        }\r\n\r\n        .payment-type-section {\r\n          display: flex;\r\n          flex-direction: column;\r\n          gap: 14px;\r\n        }\r\n\r\n        .payment-type-title {\r\n          margin: 0;\r\n          font-size: 18px;\r\n          font-weight: 600;\r\n          color: ${theme.colors.text};\r\n          padding-bottom: 10px;\r\n          border-bottom: 2px solid ${colors.primary};\r\n        }\r\n\r\n        .payment-methods-list {\r\n          display: flex;\r\n          flex-direction: column;\r\n          gap: 14px;\r\n        }\r\n\r\n        .no-payment-methods {\r\n          display: flex;\r\n          flex-direction: column;\r\n          align-items: center;\r\n          gap: 10px;\r\n          padding: 40px 20px;\r\n          text-align: center;\r\n          color: ${theme.colors.textSecondary};\r\n          background: ${theme.colors.backgroundSecondary};\r\n          border-radius: 12px;\r\n        }\r\n\r\n        .no-payment-methods p {\r\n          margin: 0;\r\n          font-size: 14px;\r\n        }\r\n\r\n        .payment-method-card {\r\n          border: 2px solid ${theme.colors.border};\r\n          border-radius: 14px;\r\n          background: ${theme.colors.surface};\r\n          cursor: pointer;\r\n          transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\r\n          overflow: hidden;\r\n        }\r\n\r\n        .payment-method-card.selected {\r\n          border-color: ${colors.primary};\r\n          box-shadow: 0 6px 25px ${withOpacity(colors.primary, 0.15)};\r\n        }\r\n\r\n        .payment-method-card:hover:not(.selected) {\r\n          border-color: ${colors.primary};\r\n          transform: translateY(-2px);\r\n          box-shadow: 0 10px 30px ${theme.colors.cardShadow};\r\n        }\r\n\r\n        .payment-method-header {\r\n          display: flex;\r\n          align-items: center;\r\n          justify-content: space-between;\r\n          padding: 18px 20px;\r\n        }\r\n\r\n        .payment-method-info {\r\n          display: flex;\r\n          align-items: center;\r\n          gap: 16px;\r\n        }\r\n\r\n        .payment-method-logo {\r\n          width: 44px;\r\n          height: 44px;\r\n          border-radius: 10px;\r\n          object-fit: cover;\r\n          border: 1px solid ${theme.colors.border};\r\n        }\r\n\r\n        .payment-method-icon-fallback {\r\n          width: 44px;\r\n          height: 44px;\r\n          border-radius: 10px;\r\n          background: ${withOpacity(colors.primary, 0.1)};\r\n          display: flex;\r\n          align-items: center;\r\n          justify-content: center;\r\n          border: 1px solid ${withOpacity(colors.primary, 0.2)};\r\n        }\r\n\r\n        .payment-method-text h4 {\r\n          margin: 0 0 6px 0;\r\n          font-size: 16px;\r\n          font-weight: 600;\r\n          color: ${theme.colors.text};\r\n        }\r\n\r\n        .payment-method-meta {\r\n          display: flex;\r\n          align-items: center;\r\n          gap: 8px;\r\n          font-size: 13px;\r\n          color: ${theme.colors.textMuted};\r\n        }\r\n\r\n        .payment-type {\r\n          background: ${withOpacity(colors.primary, 0.1)};\r\n          color: ${colors.primary};\r\n          padding: 3px 10px;\r\n          border-radius: 6px;\r\n          font-weight: 500;\r\n          font-size: 12px;\r\n        }\r\n\r\n        .payment-country {\r\n          display: flex;\r\n          align-items: center;\r\n          gap: 4px;\r\n        }\r\n\r\n        .payment-method-card input[type=\"radio\"] {\r\n          accent-color: ${colors.primary};\r\n          width: 20px;\r\n          height: 20px;\r\n        }\r\n\r\n        .payment-method-details {\r\n          border-top: 1px solid ${theme.colors.border};\r\n          padding: 18px 20px;\r\n          background: ${withOpacity(colors.primary, 0.02)};\r\n        }\r\n\r\n        .paypal-donation-section {\r\n          display: flex;\r\n          flex-direction: column;\r\n          gap: 18px;\r\n        }\r\n\r\n        .paypal-donate-button {\r\n          display: flex;\r\n          align-items: center;\r\n          justify-content: center;\r\n          gap: 10px;}\r\n\r\n        .progress-section {\r\n          padding: 20px 32px;\r\n          background: linear-gradient(to right, ${withOpacity(colors.primary, 0.03)}, ${withOpacity(colors.accent, 0.05)});\r\n          ${activeStep === 0 ? 'display: none;' : ''}\r\n        }\r\n\r\n        .progress-steps {\r\n          display: flex;\r\n          justify-content: space-between;\r\n          margin-bottom: 12px;\r\n        }\r\n\r\n        .progress-step {\r\n          font-size: 12px;\r\n          font-weight: 600;\r\n          text-transform: uppercase;\r\n          letter-spacing: 0.5px;\r\n          color: ${theme.colors.textSecondary};\r\n          transition: color 0.3s ease;\r\n        }\r\n\r\n        .progress-bar {\r\n          width: 100%;\r\n          height: 8px;\r\n          border-radius: 4px;\r\n          background: ${theme.colors.border};\r\n          overflow: hidden;\r\n          position: relative;\r\n        }\r\n\r\n        .progress-bar::after {\r\n          content: '';\r\n          position: absolute;\r\n          inset: 0;\r\n          background: linear-gradient(45deg, transparent 25%, rgba(255,255,255,0.2) 25%, rgba(255,255,255,0.2) 50%, transparent 50%, transparent 75%, rgba(255,255,255,0.2) 75%);\r\n          background-size: 20px 20px;\r\n          animation: shimmer 2s linear infinite;\r\n        }\r\n\r\n        .progress-fill {\r\n          height: 100%;\r\n          border-radius: 4px;\r\n          background: linear-gradient(90deg, ${colors.primary}, ${colors.accent}, ${colors.secondary});\r\n          background-size: 200% 100%;\r\n          animation: gradientShift 3s ease infinite;\r\n          transition: width 0.6s cubic-bezier(0.4, 0, 0.2, 1);\r\n          width: ${(activeStep / (steps.length - 1)) * 100}%;\r\n          position: relative;\r\n        }\r\n\r\n        .content-section {\r\n          padding: 32px;\r\n        }\r\n\r\n        .error-alert {\r\n          margin-bottom: 20px;\r\n          padding: 16px 20px;\r\n          border-radius: 12px;\r\n          background: ${withOpacity(colors.error, 0.1)};\r\n          border: 1px solid ${withOpacity(colors.error, 0.2)};\r\n          color: ${colors.error};\r\n          display: flex;\r\n          align-items: center;\r\n          gap: 12px;\r\n          font-size: 14px;\r\n          font-weight: 500;\r\n          animation: shake 0.5s ease-in-out;\r\n        }\r\n\r\n        .success-alert {\r\n          margin-bottom: 20px;\r\n          padding: 16px 20px;\r\n          border-radius: 12px;\r\n          background: ${withOpacity(colors.success, 0.1)};\r\n          border: 1px solid ${withOpacity(colors.success, 0.2)};\r\n          color: ${colors.success};\r\n          display: flex;\r\n          align-items: center;\r\n          gap: 12px;\r\n          font-size: 14px;\r\n          font-weight: 500;\r\n          animation: slideInRight 0.4s ease-out;\r\n        }\r\n\r\n        .api-status-info {\r\n          margin-top: 18px;\r\n          padding: 14px 18px;\r\n          border-radius: 10px;\r\n          background: ${withOpacity(colors.warning, 0.08)};\r\n          border: 1px solid ${withOpacity(colors.warning, 0.2)};\r\n          color: ${colors.warning};\r\n          display: flex;\r\n          align-items: center;\r\n          gap: 10px;\r\n          font-size: 13px;\r\n        }\r\n\r\n        .loading-message {\r\n          display: flex;\r\n          align-items: center;\r\n          justify-content: center;\r\n          gap: 12px;\r\n          padding: 24px;\r\n          color: ${theme.colors.textSecondary};\r\n        }\r\n\r\n        .loading-message p {\r\n          margin: 0;\r\n          font-size: 15px;\r\n        }\r\n\r\n        .spin {\r\n          animation: spin 1.2s linear infinite;\r\n        }\r\n\r\n        .donation-saved-alert {\r\n          margin-bottom: 24px;\r\n          padding: 20px;\r\n          border-radius: 16px;\r\n          background: ${withOpacity(colors.success, 0.08)};\r\n          border: 1px solid ${withOpacity(colors.success, 0.2)};\r\n          display: flex;\r\n          align-items: flex-start;\r\n          gap: 14px;\r\n        }\r\n\r\n        .donation-saved-alert h4 {\r\n          margin: 0 0 6px 0;\r\n          color: ${colors.success};\r\n          font-size: 16px;\r\n          font-weight: 600;\r\n        }\r\n\r\n        .donation-saved-alert p {\r\n          margin: 0;\r\n          color: ${theme.colors.text};\r\n          font-size: 14px;\r\n          line-height: 1.5;\r\n        }\r\n\r\n        /* NEW: Projects Grid Styles */\r\n        .projects-grid-container {\r\n          margin-top: 16px;\r\n        }\r\n\r\n        .projects-grid {\r\n          display: grid;\r\n          grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));\r\n          gap: 16px;\r\n          max-height: 400px;\r\n          overflow-y: auto;\r\n          padding: 4px;\r\n        }\r\n\r\n        .project-grid-card {\r\n          border: 2px solid ${theme.colors.border};\r\n          border-radius: 12px;\r\n          padding: 16px;\r\n          background: ${theme.colors.surface};\r\n          cursor: pointer;\r\n          transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\r\n          position: relative;\r\n          overflow: hidden;\r\n        }\r\n\r\n        .project-grid-card::before {\r\n          content: '';\r\n          position: absolute;\r\n          top: 0;\r\n          left: -100%;\r\n          width: 100%;\r\n          height: 100%;\r\n          background: linear-gradient(90deg, transparent, ${withOpacity(colors.primary, 0.05)}, transparent);\r\n          transition: left 0.6s ease;\r\n        }\r\n\r\n        .project-grid-card:hover::before {\r\n          left: 100%;\r\n        }\r\n\r\n        .project-grid-card.selected {\r\n          border-color: ${colors.primary};\r\n          background: ${withOpacity(colors.primary, 0.05)};\r\n          box-shadow: 0 8px 25px ${withOpacity(colors.primary, 0.15)};\r\n          transform: translateY(-2px);\r\n        }\r\n\r\n        .project-grid-card:hover:not(.selected) {\r\n          border-color: ${colors.primaryLight};\r\n          transform: translateY(-4px);\r\n          box-shadow: 0 12px 30px ${theme.colors.cardShadow};\r\n        }\r\n\r\n        .project-card-content {\r\n          position: relative;\r\n          z-index: 1;\r\n        }\r\n\r\n        .project-header {\r\n          display: flex;\r\n          align-items: flex-start;\r\n          justify-content: space-between;\r\n          margin-bottom: 12px;\r\n        }\r\n\r\n        .project-title {\r\n          margin: 0;\r\n          font-size: 16px;\r\n          font-weight: 600;\r\n          color: ${theme.colors.text};\r\n          line-height: 1.3;\r\n          flex: 1;\r\n          margin-right: 12px;\r\n        }\r\n\r\n        .project-grid-card input[type=\"radio\"] {\r\n          accent-color: ${colors.primary};\r\n          width: 20px;\r\n          height: 20px;\r\n          margin-top: 2px;\r\n        }\r\n\r\n        .project-meta {\r\n          display: flex;\r\n          align-items: center;\r\n          gap: 12px;\r\n          margin-bottom: 12px;\r\n          flex-wrap: wrap;\r\n        }\r\n\r\n        .project-status {\r\n          display: flex;\r\n          align-items: center;\r\n          gap: 4px;\r\n          padding: 4px 8px;\r\n          border-radius: 6px;\r\n          font-size: 11px;\r\n          font-weight: 600;\r\n          text-transform: uppercase;\r\n          letter-spacing: 0.5px;\r\n        }\r\n\r\n        .project-status.status-ongoing {\r\n          background: ${withOpacity(colors.success, 0.1)};\r\n          color: ${colors.success};\r\n        }\r\n\r\n        .project-status.status-planning {\r\n          background: ${withOpacity(colors.info, 0.1)};\r\n          color: ${colors.info};\r\n        }\r\n\r\n        .project-country {\r\n          display: flex;\r\n          align-items: center;\r\n          gap: 4px;\r\n          font-size: 12px;\r\n          color: ${theme.colors.textSecondary};\r\n        }\r\n\r\n        .project-description {\r\n          margin: 0;\r\n          font-size: 13px;\r\n          line-height: 1.4;\r\n          color: ${theme.colors.textSecondary};\r\n        }\r\n\r\n        .no-projects-message {\r\n          text-align: center;\r\n          padding: 32px 16px;\r\n          color: ${theme.colors.textSecondary};\r\n          font-size: 14px;\r\n          background: ${withOpacity(colors.gray200, 0.3)};\r\n          border-radius: 8px;\r\n          border: 2px dashed ${theme.colors.border};\r\n        }\r\n\r\n        /* Payment Methods Styles */\r\n        .payment-search-filters {\r\n          margin-bottom: 24px;\r\n        }\r\n\r\n        .search-filter-row {\r\n          display: flex;\r\n          gap: 14px;\r\n          align-items: center;\r\n        }\r\n\r\n        .search-input-container {\r\n          position: relative;\r\n          flex: 1;\r\n        }\r\n\r\n        .search-input-container svg {\r\n          position: absolute;\r\n          left: 14px;\r\n          top: 50%;\r\n          transform: translateY(-50%);\r\n          color: ${theme.colors.textMuted};\r\n          z-index: 1;\r\n        }\r\n\r\n        .payment-search-input {\r\n          width: 100%;\r\n          padding: 12px 14px 12px 42px;\r\n          border: 1px solid ${theme.colors.border};\r\n          border-radius: 10px;\r\n          font-size: 14px;\r\n          background: ${theme.colors.surface};\r\n          color: ${theme.colors.text};\r\n          box-sizing: border-box;\r\n          transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\r\n        }\r\n\r\n        .payment-search-input:focus {\r\n          outline: none;\r\n          border-color: ${colors.primary};\r\n          box-shadow: 0 0 0 3px ${withOpacity(colors.primary, 0.1)};\r\n        }\r\n\r\n        .payment-country-filter {\r\n          min-width: 160px;\r\n          padding: 12px 14px;\r\n          border: 1px solid ${theme.colors.border};\r\n          border-radius: 10px;\r\n          font-size: 14px;\r\n          background: ${theme.colors.surface};\r\n          color: ${theme.colors.text};\r\n          transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\r\n        }\r\n\r\n        .payment-country-filter:focus {\r\n          outline: none;\r\n          border-color: ${colors.primary};\r\n          box-shadow: 0 0 0 3px ${withOpacity(colors.primary, 0.1)};\r\n        }\r\n\r\n        .payment-methods-container {\r\n          display: flex;\r\n          flex-direction: column;\r\n          gap: 28px;\r\n        }\r\n\r\n        .payment-type-section {\r\n          display: flex;\r\n          flex-\r\n\r\n\r\n\r\n\r\n\r\n        .payment-field-value {\r\n          font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;\r\n          font-size: 14px;\r\n          font-weight: 500;\r\n          color: ${theme.colors.text};\r\n          background: ${theme.colors.backgroundSecondary};\r\n          padding: 8px 10px;\r\n          border-radius: 4px;\r\n          border: 1px solid ${theme.colors.borderLight};\r\n          word-break: break-all;\r\n        }\r\n\r\n        /* Landing Page Styles */\r\n        .landing-content {\r\n          text-align: center;\r\n          padding: 16px 0;\r\n          background: linear-gradient(\r\n            rgba(10, 69, 28, 0.87), \r\n            rgba(10, 69, 28, 0.78)\r\n          ), url('https://images.unsplash.com/photo-1488521787991-ed7bbaae773c?ixlib=rb-4.0.3&auto=format&fit=crop&w=2070&q=80');\r\n          background-size: cover;\r\n          background-position: center;\r\n          background-attachment: local;\r\n          color: white;\r\n          border-radius: 12px;\r\n          margin: -24px -24px 20px -24px;\r\n          position: relative;\r\n          overflow: hidden;\r\n        }\r\n\r\n        .landing-content::before {\r\n          content: '';\r\n          position: absolute;\r\n          top: 0;\r\n          left: 0;\r\n          right: 0;\r\n          bottom: 0;\r\n          background: linear-gradient(\r\n            135deg, \r\n            ${withOpacity(colors.primary, 0.82)}, \r\n            ${withOpacity(colors.primaryDark, 0.9)}\r\n          );\r\n          z-index: 1;\r\n        }\r\n\r\n        .landing-hero {\r\n          max-width: 550px;\r\n          margin: 0 auto;\r\n          position: relative;\r\n          z-index: 2;\r\n          padding: 32px 18px;\r\n        }\r\n\r\n      \r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n        .hero-icon {\r\n          position: relative;\r\n          margin: 0 auto 26px;\r\n          width: 100px;\r\n          height: 100px;\r\n          display: flex;\r\n          align-items: center;\r\n          justify-content: center;\r\n        }\r\n\r\n        .floating-hearts {\r\n          position: absolute;\r\n          inset: 0;\r\n        }\r\n\r\n        .floating-hearts .heart-1 {\r\n          position: absolute;\r\n          top: 8px;\r\n          right: 16px;\r\n          animation: float 3s ease-in-out infinite;\r\n        }\r\n\r\n        .floating-hearts .heart-2 {\r\n          position: absolute;\r\n          bottom: 16px;\r\n          left: 12px;\r\n          animation: float 2.5s ease-in-out infinite 0.5s;\r\n        }\r\n\r\n      \r\n\r\n        .floating-hearts .heart-3 {\r\n          position: absolute;\r\n          top: 40px;\r\n          left: -8px;\r\n          animation: float 3.5s ease-in-out infinite 1s;\r\n        }\r\n\r\n        .landing-title {\r\n          font-size: 2.2rem;\r\n          font-weight: 700;\r\n          margin: 0 0 20px;\r\n          color: white;\r\n          line-height: 1.2;\r\n          text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);\r\n        }\r\n\r\n        .highlight-text {\r\n          color: ${colors.secondary};\r\n          text-shadow: 0 2px 4px rgba(0, 0, 0, 0.5);\r\n        }\r\n\r\n        .landing-description {\r\n          font-size: 1rem;\r\n          line-height: 1.6;\r\n          color: rgba(255, 255, 255, 0.95);\r\n          margin: 0 0 32px;\r\n          text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);\r\n        }\r\n\r\n        .impact-stats {\r\n          display: grid;\r\n          grid-template-columns: repeat(3, 1fr);\r\n          gap: 24px;\r\n          margin: 0 0 32px;\r\n          padding: 24px 20px;\r\n          background: rgba(255, 255, 255, 0.15);\r\n          backdrop-filter: blur(10px);\r\n          border-radius: 12px;\r\n          border: 1px solid rgba(255, 255, 255, 0.2);\r\n          box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n        }\r\n\r\n        .stat-item {\r\n          display: flex;\r\n          flex-direction: column;\r\n          align-items: center;\r\n          gap: 10px;\r\n        }\r\n\r\n        .stat-number {\r\n          font-size: 1.5rem;\r\n          font-weight: 700;\r\n          color: ${colors.secondary};\r\n          display: block;\r\n          text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);\r\n        }\r\n\r\n        .stat-label {\r\n          font-size: 0.8rem;\r\n          color: rgba(255, 255, 255, 0.9);\r\n          text-align: center;\r\n          text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);\r\n        }\r\n\r\n        .inspiration-quote {\r\n          margin: 0 0 32px;\r\n          padding: 20px;\r\n          background: rgba(255, 255, 255, 0.1);\r\n          backdrop-filter: blur(10px);\r\n          border-radius: 12px;\r\n          border: 1px solid rgba(255, 255, 255, 0.2);\r\n        }\r\n\r\n        .inspiration-quote p {\r\n          font-size: 1rem;\r\n          font-style: italic;\r\n          color: white;\r\n          margin: 0 0 6px;\r\n          text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);\r\n        }\r\n\r\n        .inspiration-quote span {\r\n          font-size: 0.8rem;\r\n          color: rgba(255, 255, 255, 0.8);\r\n          text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);\r\n        }\r\n\r\n        .cta-section {\r\n          display: flex;\r\n          flex-direction: column;\r\n          align-items: center;\r\n          gap: 14px;\r\n        }\r\n\r\n        .start-donation-btn {\r\n          display: flex;\r\n          align-items: center;\r\n          gap: 10px;\r\n          padding: 14px 28px;\r\n          background: linear-gradient(135deg, ${colors.secondary}, ${colors.secondaryLight});\r\n          color: ${colors.black};\r\n          border: none;\r\n          border-radius: 10px;\r\n          font-size: 1rem;\r\n          font-weight: 600;\r\n          cursor: pointer;\r\n          transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\r\n          box-shadow: 0 4px 20px rgba(0, 0, 0, 0.2);\r\n        }\r\n\r\n        .start-donation-btn:hover {\r\n          transform: translateY(-2px);\r\n          box-shadow: 0 8px 30px rgba(0, 0, 0, 0.3);\r\n          background: linear-gradient(135deg, ${colors.secondaryLight}, ${colors.secondary});\r\n        }\r\n\r\n        .reassurance {\r\n          font-size: 0.8rem;\r\n          color: rgba(255, 255, 255, 0.8);\r\n          margin: 0;\r\n          text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);\r\n        }\r\n\r\n        /* Regular Step Content */\r\n        .step-content {\r\n          animation: slideInContent 0.4s ease-out;\r\n        }\r\n\r\n        .step-title {\r\n          margin: 0 0 20px 0;\r\n          font-size: 18px;\r\n          font-weight: 600;\r\n          color: ${theme.colors.text};\r\n        }\r\n\r\n        .step-subtitle {\r\n          margin: 0 0 20px 0;\r\n          font-size: 14px;\r\n          color: ${theme.colors.textSecondary};\r\n        }\r\n\r\n        .options-container {\r\n          display: flex;\r\n          flex-direction: column;\r\n          gap: 14px;\r\n        }\r\n\r\n        .donation-option {\r\n          border: 2px solid ${theme.colors.border};\r\n          border-radius: 12px;\r\n          padding: 18px;\r\n          background: transparent;\r\n          cursor: pointer;\r\n          transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\r\n          position: relative;\r\n          overflow: hidden;\r\n        }\r\n\r\n        .donation-option.selected {\r\n          border-color: ${colors.primary};\r\n          background: ${withOpacity(colors.primary, 0.15)};\r\n        }\r\n\r\n        .donation-option:hover {\r\n          transform: translateY(-2px);\r\n          box-shadow: 0 8px 25px ${theme.colors.cardShadow};\r\n          border-color: ${colors.primary};\r\n        }\r\n\r\n        .donation-option::before {\r\n          content: '';\r\n          position: absolute;\r\n          top: 0;\r\n          left: -100%;\r\n          width: 100%;\r\n          height: 100%;\r\n          background: linear-gradient(90deg, transparent, ${withOpacity(colors.primary, 0.1)}, transparent);\r\n          transition: left 0.5s;\r\n        }\r\n\r\n        .donation-option:hover::before {\r\n          left: 100%;\r\n        }\r\n\r\n        .option-content {\r\n          display: flex;\r\n          align-items: flex-start;\r\n          gap: 14px;\r\n          position: relative;\r\n          z-index: 1;\r\n        }\r\n\r\n        .option-content input[type=\"radio\"] {\r\n          accent-color: ${colors.primary};\r\n        }\r\n\r\n        .option-text {\r\n          flex: 1;\r\n        }\r\n\r\n        .option-text h4 {\r\n          margin: 0 0 6px 0;\r\n          font-size: 15px;\r\n          font-weight: 600;\r\n          color: ${theme.colors.text};\r\n        }\r\n\r\n        .option-text p {\r\n          margin: 0 0 10px 0;\r\n          font-size: 13px;\r\n          line-height: 1.4;\r\n          color: ${theme.colors.textSecondary};\r\n        }\r\n\r\n        .country-select {\r\n          width: 100%;\r\n          padding: 9px 11px;\r\n          border: 1px solid ${theme.colors.border};\r\n          border-radius: 6px;\r\n          font-size: 13px;\r\n          transition: all 0.2s ease;\r\n          background: ${theme.colors.surface};\r\n          color: ${theme.colors.text};\r\n        }\r\n\r\n        .country-select:focus {\r\n          outline: none;\r\n          border-color: ${colors.primary};\r\n          box-shadow: 0 0 0 3px ${withOpacity(colors.primary, 0.2)};\r\n        }\r\n\r\n        .amounts-grid {\r\n          display: grid;\r\n          grid-template-columns: repeat(4, 1fr);\r\n          gap: 10px;\r\n          margin-bottom: 20px;\r\n        }\r\n\r\n        .amount-button {\r\n          padding: 14px;\r\n          border: 2px solid ${theme.colors.border};\r\n          border-radius: 10px;\r\n          background: ${theme.colors.surface};\r\n          color: ${theme.colors.text};\r\n          font-size: 15px;\r\n          font-weight: 600;\r\n          cursor: pointer;\r\n          transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\r\n          position: relative;\r\n          overflow: hidden;\r\n        }\r\n\r\n        .amount-button.selected {\r\n          border-color: ${colors.primary};\r\n          background: ${withOpacity(colors.primary, 0.15)};\r\n          color: ${colors.primary};\r\n        }\r\n\r\n        .amount-button:hover {\r\n          transform: translateY(-2px);\r\n          background: ${theme.colors.backgroundSecondary};\r\n          box-shadow: 0 4px 15px ${theme.colors.cardShadow};\r\n        }\r\n\r\n        .amount-button::before {\r\n          content: '';\r\n          position: absolute;\r\n          top: 50%;\r\n          left: 50%;\r\n          width: 0;\r\n          height: 0;\r\n          border-radius: 50%;\r\n          background: ${withOpacity(colors.primary, 0.2)};\r\n          transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);\r\n          transform: translate(-50%, -50%);\r\n        }\r\n\r\n        .amount-button:active::before {\r\n          width: 300px;\r\n          height: 300px;\r\n        }\r\n\r\n        .custom-amount-section {\r\n          border-top: 1px solid ${theme.colors.border};\r\n          padding-top: 20px;\r\n        }\r\n\r\n        .custom-amount-section label {\r\n          display: block;\r\n          margin-bottom: 6px;\r\n          font-size: 13px;\r\n          font-weight: 500;\r\n          color: ${theme.colors.text};\r\n        }\r\n\r\n        .input-with-icon {\r\n          position: relative;\r\n        }\r\n\r\n        .input-with-icon svg {\r\n          position: absolute;\r\n          left: 11px;\r\n          top: 50%;\r\n          transform: translateY(-50%);\r\n          z-index: 1;\r\n          color: ${theme.colors.textSecondary};\r\n        }\r\n\r\n        .input-with-icon input {\r\n          width: 100%;\r\n          padding: 11px 11px 11px 38px;\r\n          border: 1px solid ${theme.colors.border};\r\n          border-radius: 7px;\r\n          font-size: 14px;\r\n          transition: all 0.2s ease;\r\n          background: ${theme.colors.surface};\r\n          color: ${theme.colors.text};\r\n          box-sizing: border-box;\r\n        }\r\n\r\n        .input-with-icon input:focus {\r\n          outline: none;\r\n          border-color: ${colors.primary};\r\n          box-shadow: 0 0 0 3px ${withOpacity(colors.primary, 0.2)};\r\n        }\r\n\r\n        .donation-summary {\r\n          margin-top: 20px;\r\n          padding: 18px;\r\n          border-radius: 10px;\r\n          color: white;\r\n          text-align: center;\r\n          background: linear-gradient(135deg, ${colors.primary}, ${colors.primaryLight});\r\n        }\r\n\r\n        .donation-summary h4 {\r\n          margin: 0 0 6px 0;\r\n          font-size: 16px;\r\n          font-weight: 600;\r\n        }\r\n\r\n        .donation-summary p {\r\n          margin: 0;\r\n          opacity: 0.9;\r\n          font-size: 13px;\r\n        }\r\n\r\n        .form-fields {\r\n          display: flex;\r\n          flex-direction: column;\r\n          gap: 16px;\r\n        }\r\n\r\n        .form-field label {\r\n          display: block;\r\n          margin-bottom: 5px;\r\n          font-size: 13px;\r\n          font-weight: 500;\r\n          color: ${theme.colors.text};\r\n        }\r\n\r\n        .form-field input,\r\n        .form-field select {\r\n          width: 100%;\r\n          padding: 11px;\r\n          border: 1px solid ${theme.colors.border};\r\n          border-radius: 7px;\r\n          font-size: 13px;\r\n          transition: all 0.2s ease;\r\n          background: ${theme.colors.surface};\r\n          color: ${theme.colors.text};\r\n          box-sizing: border-box;\r\n        }\r\n\r\n        .form-field input:focus,\r\n        .form-field select:focus {\r\n          outline: none;\r\n          border-color: ${colors.primary};\r\n          box-shadow: 0 0 0 3px ${withOpacity(colors.primary, 0.2)};\r\n        }\r\n\r\n        .checkbox-field {\r\n          display: flex;\r\n          align-items: center;\r\n          gap: 8px;\r\n        }\r\n\r\n        .checkbox-field input {\r\n          width: 16px;\r\n          height: 16px;\r\n          accent-color: ${colors.primary};\r\n        }\r\n\r\n        .checkbox-field label {\r\n          font-size: 13px;\r\n          cursor: pointer;\r\n          color: ${theme.colors.text};\r\n        }\r\n\r\n        .summary-card {\r\n          margin-top: 20px;\r\n          padding: 16px;\r\n          border: 1px solid ${theme.colors.border};\r\n          border-radius: 10px;\r\n          background: ${theme.colors.backgroundSecondary};\r\n        }\r\n\r\n        .summary-card h4 {\r\n          margin: 0 0 10px 0;\r\n          font-size: 15px;\r\n          font-weight: 600;\r\n          color: ${theme.colors.text};\r\n        }\r\n\r\n        .summary-card p {\r\n          margin: 0 0 3px 0;\r\n          font-size: 13px;\r\n          color: ${theme.colors.textSecondary};\r\n        }\r\n\r\n        .info-card {\r\n          margin-top: 20px;\r\n          padding: 14px;\r\n          border: 1px solid ${withOpacity(colors.info, 0.5)};\r\n          border-radius: 10px;\r\n          background: ${withOpacity(colors.info, 0.15)};\r\n        }\r\n\r\n        .info-card p {\r\n          margin: 0;\r\n          color: ${theme.colors.text};\r\n        }\r\n\r\n        .navigation-section {\r\n          display: flex;\r\n          justify-content: space-between;\r\n          align-items: center;\r\n          margin-top: 28px;\r\n          padding-top: 20px;\r\n          border-top: 1px solid ${theme.colors.border};\r\n          ${activeStep === 0 ? 'justify-content: center;' : ''}\r\n        }\r\n\r\n        .nav-button {\r\n          display: flex;\r\n          align-items: center;\r\n          gap: 7px;\r\n          padding: 10px 18px;\r\n          border-radius: 7px;\r\n          font-size: 13px;\r\n          font-weight: 500;\r\n          cursor: pointer;\r\n          transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\r\n          border: none;\r\n          position: relative;\r\n          overflow: hidden;\r\n        }\r\n\r\n        .nav-button:disabled {\r\n          opacity: 0.5;\r\n          cursor: not-allowed;\r\n        }\r\n\r\n        .nav-button:not(:disabled):hover {\r\n          transform: translateY(-1px);\r\n          box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);\r\n        }\r\n\r\n        .back-button {\r\n          background: transparent;\r\n          color: ${theme.colors.textSecondary};\r\n          border: 1px solid ${theme.colors.border};\r\n        }\r\n\r\n        .back-button:not(:disabled):hover {\r\n          background: ${theme.colors.backgroundSecondary};\r\n          color: ${theme.colors.text};\r\n        }\r\n\r\n        .next-button {\r\n          background: ${colors.primary};\r\n          color: white;\r\n          border: 1px solid ${colors.primary};\r\n        }\r\n\r\n        .next-button:not(:disabled):hover {\r\n          background: ${colors.primaryDark};\r\n        }\r\n\r\n        .submit-button {\r\n          background: linear-gradient(135deg, ${colors.success}, ${withOpacity(colors.success, 0.8)});\r\n          color: white;\r\n          border: 1px solid ${colors.success};\r\n        }\r\n\r\n        .nav-button::before {\r\n          content: '';\r\n          position: absolute;\r\n          top: 50%;\r\n          left: 50%;\r\n          width: 0;\r\n          height: 0;\r\n          border-radius: 50%;\r\n          background: rgba(255, 255, 255, 0.2);\r\n          transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);\r\n          transform: translate(-50%, -50%);\r\n        }\r\n\r\n        .nav-button:active::before {\r\n          width: 200px;\r\n          height: 200px;\r\n        }\r\n\r\n        @keyframes fadeIn {\r\n          from {\r\n            opacity: 0;\r\n          }\r\n          to {\r\n            opacity: 1;\r\n          }\r\n        }\r\n\r\n        @keyframes slideIn {\r\n          from {\r\n            opacity: 0;\r\n            transform: scale(0.95) translateY(20px);\r\n          }\r\n          to {\r\n            opacity: 1;\r\n            transform: scale(1) translateY(0);\r\n          }\r\n        }\r\n\r\n        @keyframes slideInContent {\r\n          from {\r\n            opacity: 0;\r\n            transform: translateY(10px);\r\n          }\r\n          to {\r\n            opacity: 1;\r\n            transform: translateY(0);\r\n          }\r\n        }\r\n\r\n        @keyframes float {\r\n          0%, 100% {\r\n            transform: translateY(0px);\r\n            opacity: 0.7;\r\n          }\r\n          50% {\r\n            transform: translateY(-8px);\r\n            opacity: 1;\r\n          }\r\n        }\r\n\r\n        @keyframes spin {\r\n          from {\r\n            transform: rotate(0deg);\r\n          }\r\n          to {\r\n            transform: rotate(360deg);\r\n          }\r\n        }\r\n\r\n        @media (max-width: 768px) {\r\n          .modal-content {\r\n            margin: 8px;\r\n            max-height: calc(100vh - 16px);\r\n            max-width: 95vw;\r\n          }\r\n\r\n          .amounts-grid {\r\n            grid-template-columns: repeat(2, 1fr);\r\n          }\r\n\r\n          .progress-steps {\r\n            font-size: 10px;\r\n          }\r\n\r\n          .step-title {\r\n            font-size: 17px;\r\n          }\r\n\r\n          .modal-header {\r\n            padding: 16px 20px;\r\n          }\r\n\r\n          .content-section {\r\n            padding: 20px;\r\n          }\r\n\r\n          .navigation-section {\r\n            flex-direction: column;\r\n            gap: 10px;\r\n          }\r\n\r\n          .nav-button {\r\n            width: 100%;\r\n            justify-content: center;\r\n          }\r\n\r\n          .landing-title {\r\n            font-size: 1.9rem;\r\n          }\r\n\r\n          .impact-stats {\r\n            grid-template-columns: 1fr;\r\n            gap: 16px;\r\n            padding: 20px 16px;\r\n          }\r\n\r\n          .stat-item {\r\n            flex-direction: row;\r\n            text-align: left;\r\n            gap: 12px;\r\n          }\r\n\r\n          .stat-number {\r\n            font-size: 1.3rem;\r\n          }\r\n\r\n          .stat-label {\r\n            font-size: 0.75rem;\r\n          }\r\n        }\r\n\r\n        @media (max-width: 480px) {\r\n          .amounts-grid {\r\n            grid-template-columns: repeat(2, 1fr);\r\n            gap: 8px;\r\n          }\r\n\r\n          .amount-button {\r\n            padding: 12px;\r\n            font-size: 14px;\r\n          }\r\n\r\n          .donation-option {\r\n            padding: 14px;\r\n          }\r\n\r\n          .option-content {\r\n            gap: 10px;\r\n          }\r\n\r\n          .landing-title {\r\n            font-size: 1.7rem;\r\n          }\r\n\r\n          .landing-description {\r\n            font-size: 0.95rem;\r\n          }\r\n\r\n          .start-donation-btn {\r\n            font-size: 0.95rem;\r\n            padding: 12px 22px;\r\n          }\r\n\r\n          .landing-hero {\r\n            padding: 28px 16px;\r\n          }\r\n\r\n          .hero-icon {\r\n            width: 80px;\r\n            height: 80px;\r\n            margin-bottom: 20px;\r\n          }\r\n\r\n          .inspiration-quote {\r\n            padding: 16px;\r\n          }\r\n        }\r\n      `}</style>\r\n\r\n      <div className=\"modal-overlay\">\r\n        <div className=\"modal-content\">\r\n          {/* Header */}\r\n          <div className=\"modal-header\">\r\n            <div className=\"header-content\">\r\n              <Heart size={26} style={{ color: colors.primary }} />\r\n              <div>\r\n                <h2 className=\"header-title\">\r\n                  {activeStep === 0 ? 'Welcome to ACEF' : 'Make a Donation'}\r\n                </h2>\r\n                {activeStep > 0 && (\r\n                  <p className=\"header-subtitle\">\r\n                    Step {activeStep} of {steps.length - 1}: {steps[activeStep]}\r\n                  </p>\r\n                )}\r\n              </div>\r\n            </div>\r\n            <button className=\"close-button\" onClick={handleClose}>\r\n              <X size={22} />\r\n            </button>\r\n          </div>\r\n\r\n          {/* Progress Bar - Hidden on landing page */}\r\n          {activeStep > 0 && (\r\n            <div className=\"progress-section\">\r\n              <div className=\"progress-steps\">\r\n                {steps.slice(1).map((step, index) => (\r\n                  <div\r\n                    key={step}\r\n                    className=\"progress-step\"\r\n                    style={{ \r\n                      color: index < activeStep ? colors.primary : theme.colors.textSecondary \r\n                    }}\r\n                  >\r\n                    {step}\r\n                  </div>\r\n                ))}\r\n              </div>\r\n              <div className=\"progress-bar\">\r\n                <div\r\n                  className=\"progress-fill\"\r\n                  style={{ \r\n                    width: `${(activeStep / (steps.length - 1)) * 100}%`\r\n                  }}\r\n                />\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {/* Content */}\r\n          <div className=\"content-section\">\r\n            {error && (\r\n              <div className=\"error-alert\">\r\n                <AlertCircle size={16} />\r\n                <span>{error}</span>\r\n              </div>\r\n            )}\r\n\r\n            {renderStepContent()}\r\n\r\n            {/* Navigation Buttons */}\r\n            <div className=\"navigation-section\">\r\n              {activeStep === 0 ? (\r\n                // Landing page - no navigation, CTA button is in content\r\n                null\r\n              ) : (\r\n                <>\r\n                  <button\r\n                    className=\"nav-button back-button\"\r\n                    onClick={handleBack}\r\n                    disabled={activeStep === 1}\r\n                  >\r\n                    <ArrowLeft size={16} />\r\n                    Back\r\n                  </button>\r\n\r\n                  <div style={{ display: 'flex', gap: '10px' }}>\r\n                    {activeStep < steps.length - 1 ? (\r\n                      <button\r\n                        className=\"nav-button next-button\"\r\n                        onClick={handleNext}\r\n                        disabled={loading}\r\n                      >\r\n                        {loading ? (\r\n                          <>\r\n                            <RefreshCw size={16} className=\"spin\" />\r\n                            {activeStep === 3 ? 'Submitting...' : 'Loading...'}\r\n                          </>\r\n                        ) : (\r\n                          <>\r\n                            {activeStep === 3 ? 'Submit Donation' : 'Next'}\r\n                            <ArrowRight size={16} />\r\n                          </>\r\n                        )}\r\n                      </button>\r\n\r\n\r\n                    ) : (\r\n                      <button\r\n                        className=\"nav-button submit-button\"\r\n                        // onClick={handleClose}\r\n                        disabled={loading}\r\n                      >\r\n                        {loading ? (\r\n                          <>\r\n                            <RefreshCw size={16} className=\"spin\" />\r\n                            Processing...\r\n                          </>\r\n                        ) : (\r\n                          <>\r\n                            Complete Donation\r\n                            <CheckCircle size={16} />\r\n                          </>\r\n                        )}\r\n                      </button>\r\n                    )\r\n                    \r\n                    \r\n                    \r\n                    }\r\n                  </div>\r\n                </>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default DonationModal;","// utils/embeddedTranslationService.js\r\nclass EmbeddedTranslationService {\r\n  constructor() {\r\n    this.isInitialized = false;\r\n    this.currentLanguage = 'en';\r\n    this.supportedLanguages = {\r\n      'en': { name: 'English', flag: '' },\r\n      'es': { name: 'Espaol', flag: '' },\r\n      'fr': { name: 'Franais', flag: '' },\r\n      'de': { name: 'Deutsch', flag: '' },\r\n      'it': { name: 'Italiano', flag: '' },\r\n      'pt': { name: 'Portugus', flag: '' },\r\n      'ru': { name: '', flag: '' },\r\n      'zh': { name: '', flag: '' },\r\n      'ja': { name: '', flag: '' },\r\n      'ar': { name: '', flag: '' },\r\n      'sw': { name: 'Kiswahili', flag: '' },\r\n      'am': { name: '', flag: '' }\r\n    };\r\n    this.callbacks = new Set();\r\n    this.googleWidget = null;\r\n    this.isTranslating = false;\r\n    this.useManualTranslation = false;\r\n    this.hideStylesApplied = false;\r\n  }\r\n\r\n  // Initialize with fallback approach\r\n  async initialize() {\r\n    if (this.isInitialized) {\r\n      return true;\r\n    }\r\n\r\n    console.log('Initializing translation service...');\r\n    \r\n    // Always apply hiding styles first\r\n    this.applyAllHidingStyles();\r\n    \r\n    try {\r\n      // Try Google Translate approach\r\n      await this.initializeGoogleTranslate();\r\n      console.log('Google Translate initialized successfully');\r\n      this.isInitialized = true;\r\n      return true;\r\n    } catch (error) {\r\n      console.warn('Google Translate failed, using manual approach:', error);\r\n      // Fallback to manual translation\r\n      this.useManualTranslation = true;\r\n      this.isInitialized = true;\r\n      return true;\r\n    }\r\n  }\r\n\r\n  async initializeGoogleTranslate() {\r\n    return new Promise((resolve, reject) => {\r\n      // Set a shorter timeout for faster fallback\r\n      const timeout = setTimeout(() => {\r\n        reject(new Error('Google Translate initialization timeout'));\r\n      }, 8000);\r\n\r\n      try {\r\n        this.loadGoogleScript()\r\n          .then(() => this.createGoogleWidget())\r\n          .then(() => this.waitForGoogleWidget())\r\n          .then(() => {\r\n            clearTimeout(timeout);\r\n            resolve();\r\n          })\r\n          .catch((error) => {\r\n            clearTimeout(timeout);\r\n            reject(error);\r\n          });\r\n      } catch (error) {\r\n        clearTimeout(timeout);\r\n        reject(error);\r\n      }\r\n    });\r\n  }\r\n\r\n  loadGoogleScript() {\r\n    return new Promise((resolve, reject) => {\r\n      if (window.google?.translate?.TranslateElement) {\r\n        resolve();\r\n        return;\r\n      }\r\n\r\n      const script = document.createElement('script');\r\n      const callbackName = `gtInit${Date.now()}`;\r\n      \r\n      window[callbackName] = () => {\r\n        delete window[callbackName];\r\n        resolve();\r\n      };\r\n      \r\n      script.src = `//translate.google.com/translate_a/element.js?cb=${callbackName}`;\r\n      script.onerror = () => {\r\n        delete window[callbackName];\r\n        reject(new Error('Script load failed'));\r\n      };\r\n      \r\n      document.head.appendChild(script);\r\n    });\r\n  }\r\n\r\n  async createGoogleWidget() {\r\n    const container = document.createElement('div');\r\n    container.id = 'google_translate_element';\r\n    container.style.cssText = `\r\n      position: fixed !important;\r\n      top: -9999px !important;\r\n      left: -9999px !important;\r\n      opacity: 0 !important;\r\n      visibility: hidden !important;\r\n      pointer-events: none !important;\r\n      z-index: -9999 !important;\r\n    `;\r\n    document.body.appendChild(container);\r\n\r\n    new window.google.translate.TranslateElement({\r\n      pageLanguage: 'en',\r\n      includedLanguages: Object.keys(this.supportedLanguages).join(','),\r\n      layout: window.google.translate.TranslateElement.InlineLayout.SIMPLE,\r\n      autoDisplay: false\r\n    }, 'google_translate_element');\r\n  }\r\n\r\n  waitForGoogleWidget() {\r\n    return new Promise((resolve, reject) => {\r\n      let attempts = 0;\r\n      const check = () => {\r\n        const select = document.querySelector('.goog-te-combo');\r\n        if (select && select.options.length > 1) {\r\n          this.googleWidget = select;\r\n          this.setupGoogleListener();\r\n          resolve();\r\n        } else if (attempts++ < 5) {\r\n          setTimeout(check, 1000);\r\n        } else {\r\n          reject(new Error('Widget not found'));\r\n        }\r\n      };\r\n      setTimeout(check, 1500);\r\n    });\r\n  }\r\n\r\n  setupGoogleListener() {\r\n    if (this.googleWidget) {\r\n      this.googleWidget.addEventListener('change', (e) => {\r\n        const lang = e.target.value;\r\n        if (lang !== this.currentLanguage) {\r\n          this.currentLanguage = lang;\r\n          setTimeout(() => this.notifyCallbacks(lang), 100);\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  // Apply comprehensive hiding styles\r\n  applyAllHidingStyles() {\r\n    if (this.hideStylesApplied) return;\r\n\r\n    const style = document.createElement('style');\r\n    style.id = 'comprehensive-translate-hide';\r\n    style.textContent = `\r\n      /* Hide all Google Translate UI elements aggressively */\r\n      .goog-te-banner-frame,\r\n      .goog-te-banner-frame.skiptranslate,\r\n      iframe.goog-te-banner-frame,\r\n      iframe.skiptranslate,\r\n      .goog-te-ftab,\r\n      .goog-te-menu-frame,\r\n      .goog-te-balloon-frame,\r\n      #goog-gt-tt,\r\n      .goog-te-spinner-pos,\r\n      .goog-te-menu2,\r\n      div[id^=\"goog-gt-\"],\r\n      [class*=\"goog-te-\"]:not(#google_translate_element):not(#google_translate_element *),\r\n      .skiptranslate:not(#google_translate_element):not(#google_translate_element *) {\r\n        display: none !important;\r\n        visibility: hidden !important;\r\n        opacity: 0 !important;\r\n        width: 0 !important;\r\n        height: 0 !important;\r\n        position: absolute !important;\r\n        left: -10000px !important;\r\n        top: -10000px !important;\r\n        overflow: hidden !important;\r\n        z-index: -9999 !important;\r\n        pointer-events: none !important;\r\n      }\r\n      \r\n      /* Prevent body displacement */\r\n      body {\r\n        top: 0 !important;\r\n        position: static !important;\r\n        margin-top: 0 !important;\r\n        transform: none !important;\r\n      }\r\n      \r\n      /* Override any translation-induced body changes */\r\n      body.translated-ltr,\r\n      body.translated-rtl {\r\n        top: 0 !important;\r\n        position: static !important;\r\n        margin-top: 0 !important;\r\n        padding-top: 0 !important;\r\n        transform: none !important;\r\n      }\r\n      \r\n      /* Keep our hidden container functional */\r\n      #google_translate_element {\r\n        position: fixed !important;\r\n        top: -9999px !important;\r\n        left: -9999px !important;\r\n        opacity: 0 !important;\r\n        visibility: hidden !important;\r\n        pointer-events: auto !important;\r\n        z-index: -9999 !important;\r\n      }\r\n    `;\r\n    \r\n    document.head.appendChild(style);\r\n    this.hideStylesApplied = true;\r\n\r\n    // Set up continuous monitoring\r\n    this.setupContinuousHiding();\r\n  }\r\n\r\n  setupContinuousHiding() {\r\n    // Monitor for new elements\r\n    const observer = new MutationObserver((mutations) => {\r\n      let needsHiding = false;\r\n      mutations.forEach((mutation) => {\r\n        mutation.addedNodes.forEach((node) => {\r\n          if (node.nodeType === 1 && this.isGoogleTranslateElement(node)) {\r\n            needsHiding = true;\r\n          }\r\n        });\r\n      });\r\n      \r\n      if (needsHiding) {\r\n        setTimeout(() => this.hideGoogleElements(), 100);\r\n      }\r\n    });\r\n    \r\n    observer.observe(document.body, { childList: true, subtree: true });\r\n    \r\n    // Periodic cleanup\r\n    setInterval(() => {\r\n      this.hideGoogleElements();\r\n      this.restoreBodyPosition();\r\n    }, 2000);\r\n  }\r\n\r\n  isGoogleTranslateElement(element) {\r\n    return element.classList?.contains('goog-te-banner-frame') ||\r\n           element.classList?.contains('skiptranslate') ||\r\n           element.id?.startsWith('goog-gt-') ||\r\n           (element.tagName === 'IFRAME' && element.src?.includes('translate.google'));\r\n  }\r\n\r\n  hideGoogleElements() {\r\n    const selectors = [\r\n      '.goog-te-banner-frame',\r\n      'iframe.goog-te-banner-frame',\r\n      '.goog-te-ftab',\r\n      '#goog-gt-tt'\r\n    ];\r\n    \r\n    selectors.forEach(selector => {\r\n      document.querySelectorAll(selector).forEach(el => {\r\n        if (!el.closest('#google_translate_element')) {\r\n          el.style.display = 'none !important';\r\n          el.style.visibility = 'hidden !important';\r\n          el.style.position = 'absolute !important';\r\n          el.style.left = '-10000px !important';\r\n          el.style.top = '-10000px !important';\r\n        }\r\n      });\r\n    });\r\n  }\r\n\r\n  restoreBodyPosition() {\r\n    const body = document.body;\r\n    if (body.style.top && body.style.top !== '0px') {\r\n      body.style.top = '0px';\r\n      body.style.position = 'static';\r\n    }\r\n  }\r\n\r\n  // Manual translation using Google Translate URL\r\n  manualTranslate(languageCode) {\r\n    if (languageCode === 'en') {\r\n      // Remove translation\r\n      const currentUrl = window.location.href;\r\n      if (currentUrl.includes('translate.google.com')) {\r\n        // Extract original URL\r\n        const match = currentUrl.match(/u=([^&]+)/);\r\n        if (match) {\r\n          window.location.href = decodeURIComponent(match[1]);\r\n          return;\r\n        }\r\n      }\r\n      return;\r\n    }\r\n    \r\n    // Translate page\r\n    const currentUrl = encodeURIComponent(window.location.href);\r\n    const translateUrl = `https://translate.google.com/translate?sl=auto&tl=${languageCode}&u=${currentUrl}`;\r\n    window.location.href = translateUrl;\r\n  }\r\n\r\n  // Public API methods\r\n  async changeLanguage(languageCode) {\r\n    if (this.isTranslating || languageCode === this.currentLanguage) {\r\n      return true;\r\n    }\r\n\r\n    this.isTranslating = true;\r\n    \r\n    try {\r\n      if (this.useManualTranslation || !this.googleWidget) {\r\n        // Use manual translation\r\n        this.currentLanguage = languageCode;\r\n        this.notifyCallbacks(languageCode);\r\n        this.manualTranslate(languageCode);\r\n        return true;\r\n      } else {\r\n        // Use Google Widget\r\n        this.googleWidget.value = languageCode;\r\n        this.googleWidget.dispatchEvent(new Event('change'));\r\n        \r\n        await new Promise(resolve => setTimeout(resolve, 1000));\r\n        \r\n        setTimeout(() => {\r\n          this.hideGoogleElements();\r\n          this.restoreBodyPosition();\r\n        }, 500);\r\n        \r\n        return true;\r\n      }\r\n    } catch (error) {\r\n      console.error('Language change failed:', error);\r\n      // Fallback to manual\r\n      this.manualTranslate(languageCode);\r\n      return true;\r\n    } finally {\r\n      this.isTranslating = false;\r\n    }\r\n  }\r\n\r\n  getCurrentLanguage() {\r\n    return this.currentLanguage;\r\n  }\r\n\r\n  onLanguageChange(callback) {\r\n    this.callbacks.add(callback);\r\n    return () => this.callbacks.delete(callback);\r\n  }\r\n\r\n  notifyCallbacks(languageCode) {\r\n    this.callbacks.forEach(callback => {\r\n      try {\r\n        callback(languageCode);\r\n      } catch (error) {\r\n        console.warn('Callback error:', error);\r\n      }\r\n    });\r\n  }\r\n\r\n  getSupportedLanguages() {\r\n    return { ...this.supportedLanguages };\r\n  }\r\n\r\n  getLanguageInfo(code) {\r\n    return this.supportedLanguages[code] || { name: 'Unknown', flag: '' };\r\n  }\r\n\r\n  isReady() {\r\n    return this.isInitialized && !this.isTranslating;\r\n  }\r\n\r\n  async refresh() {\r\n    this.isInitialized = false;\r\n    this.googleWidget = null;\r\n    this.useManualTranslation = false;\r\n    this.isTranslating = false;\r\n    \r\n    const existing = document.getElementById('google_translate_element');\r\n    if (existing) existing.remove();\r\n    \r\n    await new Promise(resolve => setTimeout(resolve, 1000));\r\n    return await this.initialize();\r\n  }\r\n\r\n  destroy() {\r\n    this.callbacks.clear();\r\n    this.isInitialized = false;\r\n    this.googleWidget = null;\r\n    \r\n    const existing = document.getElementById('google_translate_element');\r\n    if (existing) existing.remove();\r\n    \r\n    const styles = document.getElementById('comprehensive-translate-hide');\r\n    if (styles) styles.remove();\r\n  }\r\n}\r\n\r\n// Create singleton\r\nconst embeddedTranslationService = new EmbeddedTranslationService();\r\n\r\n// Auto-initialize with better error handling\r\nif (typeof window !== 'undefined') {\r\n  const initWhenReady = () => {\r\n    if (document.readyState === 'loading') {\r\n      document.addEventListener('DOMContentLoaded', () => {\r\n        setTimeout(() => {\r\n          embeddedTranslationService.initialize().catch(err => {\r\n            console.warn('Auto-init failed:', err);\r\n          });\r\n        }, 3000);\r\n      });\r\n    } else {\r\n      setTimeout(() => {\r\n        embeddedTranslationService.initialize().catch(err => {\r\n          console.warn('Auto-init failed:', err);\r\n        });\r\n      }, 3000);\r\n    }\r\n  };\r\n  \r\n  initWhenReady();\r\n}\r\n\r\nexport default embeddedTranslationService;","import React, { useState, useEffect, useCallback, useRef } from 'react';\r\nimport { TreePine, Menu, X, Sun, Moon, ChevronDown, Globe, AlertCircle, Check } from 'lucide-react';\r\nimport { IconButton, Tooltip, useMediaQuery } from '@mui/material';\r\nimport { motion, AnimatePresence } from 'framer-motion';\r\nimport { useTheme } from '../theme';\r\nimport { useLogo } from '../context/LogoContext';\r\nimport styles from '../styles/Header.module.css';\r\nimport DonationModal from '../pages/Donations/DonationModal';\r\nimport embeddedTranslationService from '../utils/embeddedTranslationService';\r\n\r\nconst Header = () => {\r\n  const [isScrolled, setIsScrolled] = useState(false);\r\n  const [isVisible, setIsVisible] = useState(true);\r\n  const [lastScrollY, setLastScrollY] = useState(0);\r\n  const [isMobileMenuOpen, setIsMobileMenuOpen] = useState(false);\r\n  const [isDropdownOpen, setIsDropdownOpen] = useState(false);\r\n  const [isTranslationDropdownOpen, setIsTranslationDropdownOpen] = useState(false);\r\n  const [currentLanguage, setCurrentLanguage] = useState('en');\r\n  const [isDonationModalOpen, setIsDonationModalOpen] = useState(false);\r\n  const [translationError, setTranslationError] = useState(null);\r\n  const [isTranslationServiceReady, setIsTranslationServiceReady] = useState(false);\r\n  const [translationServiceLoading, setTranslationServiceLoading] = useState(true);\r\n  const [supportedLanguages, setSupportedLanguages] = useState({});\r\n  const [isChangingLanguage, setIsChangingLanguage] = useState(false);\r\n  \r\n  const { isDarkMode, toggleTheme, colors } = useTheme();\r\n  const { currentLogo, loading: logoLoading } = useLogo();\r\n  const isMobile = useMediaQuery('(max-width: 768px)');\r\n  const translationDropdownRef = useRef(null);\r\n\r\n  // Memoized scroll handler\r\n  const handleScroll = useCallback(() => {\r\n    try {\r\n      const currentScrollY = window.scrollY;\r\n      \r\n      if (currentScrollY > lastScrollY && currentScrollY > 100) {\r\n        setIsVisible(false);\r\n      } else if (currentScrollY < lastScrollY) {\r\n        setIsVisible(true);\r\n      }\r\n      \r\n      setIsScrolled(currentScrollY > 20);\r\n      setLastScrollY(currentScrollY);\r\n    } catch (error) {\r\n      console.warn('Error in scroll handler:', error);\r\n    }\r\n  }, [lastScrollY]);\r\n\r\n  useEffect(() => {\r\n    let ticking = false;\r\n    \r\n    const throttledScrollHandler = () => {\r\n      if (!ticking) {\r\n        requestAnimationFrame(() => {\r\n          handleScroll();\r\n          ticking = false;\r\n        });\r\n        ticking = true;\r\n      }\r\n    };\r\n\r\n    window.addEventListener('scroll', throttledScrollHandler, { passive: true });\r\n    return () => window.removeEventListener('scroll', throttledScrollHandler);\r\n  }, [handleScroll]);\r\n\r\n  // Enhanced translation service initialization\r\n  useEffect(() => {\r\n    let mounted = true;\r\n    let initTimeout;\r\n    \r\n    const initTranslation = async () => {\r\n      try {\r\n        setTranslationError(null);\r\n        setTranslationServiceLoading(true);\r\n        \r\n        if (!embeddedTranslationService) {\r\n          throw new Error('Translation service not available');\r\n        }\r\n\r\n        console.log('Initializing translation service...');\r\n        \r\n        // Wait for the service to initialize\r\n        const success = await embeddedTranslationService.initialize();\r\n        \r\n        if (!mounted) return;\r\n        \r\n        if (success) {\r\n          const languages = embeddedTranslationService.getSupportedLanguages() || {};\r\n          setSupportedLanguages(languages);\r\n          setCurrentLanguage(embeddedTranslationService.getCurrentLanguage() || 'en');\r\n          setIsTranslationServiceReady(true);\r\n          setTranslationError(null);\r\n          console.log('Translation service initialized successfully');\r\n        } else {\r\n          throw new Error('Translation service initialization failed');\r\n        }\r\n      } catch (error) {\r\n        console.error('Translation service initialization error:', error);\r\n        if (mounted) {\r\n          setTranslationError(error.message || 'Translation service unavailable');\r\n          setIsTranslationServiceReady(false);\r\n          \r\n          // Retry after delay\r\n          initTimeout = setTimeout(() => {\r\n            if (mounted) {\r\n              console.log('Retrying translation service initialization...');\r\n              initTranslation();\r\n            }\r\n          }, 10000);\r\n        }\r\n      } finally {\r\n        if (mounted) {\r\n          setTranslationServiceLoading(false);\r\n        }\r\n      }\r\n    };\r\n\r\n    // Start initialization after a delay to ensure DOM is ready\r\n    const delayedInit = setTimeout(() => {\r\n      if (mounted) {\r\n        initTranslation();\r\n      }\r\n    }, 2000);\r\n\r\n    return () => {\r\n      mounted = false;\r\n      clearTimeout(delayedInit);\r\n      if (initTimeout) {\r\n        clearTimeout(initTimeout);\r\n      }\r\n    };\r\n  }, []);\r\n\r\n  // Enhanced language change listener\r\n  useEffect(() => {\r\n    if (!isTranslationServiceReady || !embeddedTranslationService) {\r\n      return;\r\n    }\r\n\r\n    try {\r\n      console.log('Setting up language change listener...');\r\n      const unsubscribe = embeddedTranslationService.onLanguageChange?.((languageCode) => {\r\n        if (languageCode && languageCode !== currentLanguage) {\r\n          console.log('Language changed to:', languageCode);\r\n          setCurrentLanguage(languageCode);\r\n        }\r\n      });\r\n\r\n      return unsubscribe || (() => {});\r\n    } catch (error) {\r\n      console.warn('Error setting up language change listener:', error);\r\n      return () => {};\r\n    }\r\n  }, [isTranslationServiceReady, currentLanguage]);\r\n\r\n  // Close dropdowns when clicking outside\r\n  useEffect(() => {\r\n    const handleClickOutside = (event) => {\r\n      if (translationDropdownRef.current && !translationDropdownRef.current.contains(event.target)) {\r\n        setIsTranslationDropdownOpen(false);\r\n      }\r\n    };\r\n\r\n    if (isTranslationDropdownOpen) {\r\n      document.addEventListener('mousedown', handleClickOutside);\r\n      return () => document.removeEventListener('mousedown', handleClickOutside);\r\n    }\r\n  }, [isTranslationDropdownOpen]);\r\n\r\n  // Close mobile menu when screen size changes\r\n  useEffect(() => {\r\n    if (!isMobile) {\r\n      setIsMobileMenuOpen(false);\r\n      try {\r\n        document.body.style.overflow = 'auto';\r\n      } catch (error) {\r\n        console.warn('Error restoring body scroll:', error);\r\n      }\r\n    }\r\n  }, [isMobile]);\r\n\r\n  // Close mobile menu on scroll\r\n  useEffect(() => {\r\n    const handleScroll = () => {\r\n      if (isMobileMenuOpen) {\r\n        setIsMobileMenuOpen(false);\r\n        try {\r\n          document.body.style.overflow = 'auto';\r\n        } catch (error) {\r\n          console.warn('Error restoring body scroll:', error);\r\n        }\r\n      }\r\n    };\r\n\r\n    if (isMobileMenuOpen) {\r\n      window.addEventListener('scroll', handleScroll, { passive: true });\r\n      return () => window.removeEventListener('scroll', handleScroll);\r\n    }\r\n  }, [isMobileMenuOpen]);\r\n\r\n  const navigationItems = [\r\n    { label: 'Home', href: '/' },\r\n    { label: 'About Us', href: '/about-us'},\r\n    { label: 'Programs', href: '/programs' },\r\n    { label: 'Impact', href: '/impact'},\r\n    { label: 'Our Reach', href: '/findbycountry' },\r\n    { label: 'Insights', href: '/insights' },\r\n    { label: 'Get Involved', href: '/get-involved' },\r\n    { label: 'Contact', href: '/contact-us' },\r\n  ];\r\n\r\n  const handleDropdownToggle = useCallback(() => {\r\n    setIsDropdownOpen(prev => !prev);\r\n  }, []);\r\n\r\n  const closeDropdown = useCallback(() => {\r\n    setIsDropdownOpen(false);\r\n  }, []);\r\n\r\n  const handleTranslationDropdownToggle = useCallback(() => {\r\n    if (!isTranslationServiceReady) {\r\n      console.warn('Translation service not ready');\r\n      return;\r\n    }\r\n    setIsTranslationDropdownOpen(prev => !prev);\r\n  }, [isTranslationServiceReady]);\r\n\r\n  const closeTranslationDropdown = useCallback(() => {\r\n    setIsTranslationDropdownOpen(false);\r\n  }, []);\r\n\r\n  const toggleMobileMenu = useCallback(() => {\r\n    const newState = !isMobileMenuOpen;\r\n    setIsMobileMenuOpen(newState);\r\n    try {\r\n      document.body.style.overflow = newState ? 'hidden' : 'auto';\r\n    } catch (error) {\r\n      console.warn('Error toggling body scroll:', error);\r\n    }\r\n  }, [isMobileMenuOpen]);\r\n\r\n  const handleNavClick = useCallback(() => {\r\n    setIsMobileMenuOpen(false);\r\n    closeDropdown();\r\n    closeTranslationDropdown();\r\n    try {\r\n      document.body.style.overflow = 'auto';\r\n    } catch (error) {\r\n      console.warn('Error restoring body scroll:', error);\r\n    }\r\n  }, [closeDropdown, closeTranslationDropdown]);\r\n\r\n  const handleDonateClick = useCallback(() => {\r\n    setIsDonationModalOpen(true);\r\n    setIsMobileMenuOpen(false);\r\n    closeDropdown();\r\n    closeTranslationDropdown();\r\n    try {\r\n      document.body.style.overflow = 'auto';\r\n    } catch (error) {\r\n      console.warn('Error handling donate click:', error);\r\n    }\r\n  }, [closeDropdown, closeTranslationDropdown]);\r\n\r\n  const handleLanguageChange = useCallback(async (languageCode) => {\r\n    if (isChangingLanguage || languageCode === currentLanguage || !isTranslationServiceReady) {\r\n      return;\r\n    }\r\n    \r\n    console.log(`Changing language to: ${languageCode}`);\r\n    setIsChangingLanguage(true);\r\n    setTranslationError(null);\r\n    \r\n    try {\r\n      await embeddedTranslationService.changeLanguage(languageCode);\r\n      setCurrentLanguage(languageCode);\r\n      setIsTranslationDropdownOpen(false);\r\n      console.log(`Language successfully changed to: ${languageCode}`);\r\n    } catch (error) {\r\n      console.error('Language change error:', error);\r\n      setTranslationError(error.message || 'Failed to change language');\r\n    } finally {\r\n      setIsChangingLanguage(false);\r\n    }\r\n  }, [currentLanguage, isTranslationServiceReady, isChangingLanguage]);\r\n\r\n  const handleThemeToggle = useCallback(() => {\r\n    try {\r\n      toggleTheme();\r\n    } catch (error) {\r\n      console.warn('Error toggling theme:', error);\r\n    }\r\n  }, [toggleTheme]);\r\n\r\n  // Render logo with error handling\r\n  const renderLogo = useCallback(() => {\r\n    if (logoLoading) {\r\n      return (\r\n        <div \r\n          className={styles.logo} \r\n          style={{ \r\n            width: '48px',\r\n            height: '48px',\r\n            display: 'flex',\r\n            alignItems: 'center',\r\n            justifyContent: 'center',\r\n            opacity: 0.7\r\n          }}\r\n        >\r\n          <div style={{\r\n            width: '24px',\r\n            height: '24px',\r\n            border: `2px solid ${colors?.primary || '#2563eb'}`,\r\n            borderTop: '2px solid transparent',\r\n            borderRadius: '50%',\r\n            animation: 'spin 1s linear infinite'\r\n          }} />\r\n        </div>\r\n      );\r\n    }\r\n\r\n    if (currentLogo?.full_url) {\r\n      return (\r\n        <div className={styles.logo}>\r\n          <img \r\n            src={currentLogo.full_url} \r\n            alt={currentLogo.alt_text || 'ACEF Logo'}\r\n            style={{\r\n              width: '48px',\r\n              height: '48px',\r\n              objectFit: 'contain',\r\n              filter: !isScrolled ? 'drop-shadow(0 2px 4px rgba(0,0,0,0.3))' : 'none'\r\n            }}\r\n            onError={(e) => {\r\n              try {\r\n                e.target.style.display = 'none';\r\n                if (e.target.nextSibling) {\r\n                  e.target.nextSibling.style.display = 'block';\r\n                }\r\n              } catch (error) {\r\n                console.warn('Error handling logo error:', error);\r\n              }\r\n            }}\r\n          />\r\n          <TreePine \r\n            size={32} \r\n            style={{ \r\n              color: colors?.primary || '#2563eb',\r\n              display: 'none'\r\n            }} \r\n          />\r\n        </div>\r\n      );\r\n    }\r\n\r\n    return <TreePine size={32} style={{ color: colors?.primary || '#2563eb' }} />;\r\n  }, [currentLogo, colors, isScrolled]);\r\n\r\n  // Get current language info for display with error handling\r\n  const getCurrentLanguageInfo = useCallback(() => {\r\n    try {\r\n      if (isTranslationServiceReady && embeddedTranslationService?.getLanguageInfo) {\r\n        return embeddedTranslationService.getLanguageInfo(currentLanguage);\r\n      }\r\n    } catch (error) {\r\n      console.warn('Error getting language info:', error);\r\n    }\r\n    \r\n    // Fallback language info\r\n    return {\r\n      name: currentLanguage === 'en' ? 'English' : currentLanguage.toUpperCase(),\r\n      flag: currentLanguage === 'en' ? '' : '',\r\n      code: currentLanguage\r\n    };\r\n  }, [isTranslationServiceReady, currentLanguage]);\r\n\r\n  // Safe modal close handlers\r\n  const handleDonationModalClose = useCallback(() => {\r\n    setIsDonationModalOpen(false);\r\n    try {\r\n      document.body.style.overflow = 'auto';\r\n    } catch (error) {\r\n      console.warn('Error restoring body scroll:', error);\r\n    }\r\n  }, []);\r\n\r\n  // Retry translation service initialization\r\n  const retryTranslationInit = useCallback(async () => {\r\n    setTranslationServiceLoading(true);\r\n    setTranslationError(null);\r\n    \r\n    try {\r\n      await embeddedTranslationService.refresh();\r\n      const languages = embeddedTranslationService.getSupportedLanguages() || {};\r\n      setSupportedLanguages(languages);\r\n      setIsTranslationServiceReady(true);\r\n      setCurrentLanguage(embeddedTranslationService.getCurrentLanguage() || 'en');\r\n    } catch (error) {\r\n      setTranslationError('Failed to initialize translation service');\r\n      setIsTranslationServiceReady(false);\r\n    } finally {\r\n      setTranslationServiceLoading(false);\r\n    }\r\n  }, []);\r\n\r\n  // Dynamic text color based on scroll state\r\n  const textColor = isScrolled ? (colors?.text || '#000000') : (isDarkMode ? '#ffffff' : '#ffffff');\r\n\r\n  // Render translation dropdown button\r\n  const renderTranslationDropdown = useCallback((isMobileVersion = false) => {\r\n    if (translationError) {\r\n      return (\r\n        <Tooltip title={`Translation Error: ${translationError}. Click to retry.`}>\r\n          <motion.button\r\n            onClick={retryTranslationInit}\r\n            className={`flex items-center gap-2 ${isMobileVersion ? 'p-2 rounded-full' : 'px-3 py-2 rounded-lg'} transition-all duration-200`}\r\n            style={{\r\n              color: textColor,\r\n              backgroundColor: !isScrolled ? 'rgba(255,255,255,0.1)' : 'transparent',\r\n              border: `1px solid ${!isScrolled ? 'rgba(255,255,255,0.2)' : (colors?.border || '#e5e7eb')}`,\r\n              backdropFilter: !isScrolled ? 'blur(10px)' : 'none',\r\n              textShadow: !isScrolled ? '0 1px 2px rgba(0,0,0,0.3)' : 'none',\r\n              opacity: 0.8\r\n            }}\r\n            whileHover={{\r\n              backgroundColor: colors?.surface || '#ffffff',\r\n              borderColor: '#ef4444',\r\n              scale: 1.02\r\n            }}\r\n            whileTap={{ scale: 0.98 }}\r\n          >\r\n            {isMobileVersion ? (\r\n              <AlertCircle size={20} />\r\n            ) : (\r\n              <div className=\"flex items-center gap-2\">\r\n                <span className=\"text-lg\"></span>\r\n                <span className=\"hidden sm:inline text-sm font-medium\">Error</span>\r\n                <AlertCircle size={16} className=\"opacity-70\" />\r\n              </div>\r\n            )}\r\n          </motion.button>\r\n        </Tooltip>\r\n      );\r\n    }\r\n\r\n    const currentLangInfo = getCurrentLanguageInfo();\r\n\r\n    return (\r\n      <div className=\"relative\" ref={translationDropdownRef}>\r\n        <Tooltip title={translationServiceLoading ? \"Loading translation service...\" : \"Change Language\"}>\r\n          <motion.button\r\n            onClick={handleTranslationDropdownToggle}\r\n            disabled={!isTranslationServiceReady || translationServiceLoading}\r\n            className={`flex items-center gap-2 ${isMobileVersion ? 'p-2 rounded-full' : 'px-3 py-2 rounded-lg'} transition-all duration-200`}\r\n            style={{\r\n              color: textColor,\r\n              backgroundColor: !isScrolled ? 'rgba(255,255,255,0.1)' : 'transparent',\r\n              border: `1px solid ${!isScrolled ? 'rgba(255,255,255,0.2)' : (colors?.border || '#e5e7eb')}`,\r\n              backdropFilter: !isScrolled ? 'blur(10px)' : 'none',\r\n              textShadow: !isScrolled ? '0 1px 2px rgba(0,0,0,0.3)' : 'none',\r\n              opacity: (isTranslationServiceReady && !translationServiceLoading) ? 1 : 0.6,\r\n              cursor: (isTranslationServiceReady && !translationServiceLoading) ? 'pointer' : 'not-allowed'\r\n            }}\r\n            whileHover={(isTranslationServiceReady && !translationServiceLoading) ? {\r\n              backgroundColor: colors?.surface || '#ffffff',\r\n              borderColor: colors?.primary || '#2563eb',\r\n              scale: 1.02\r\n            } : {}}\r\n            whileTap={(isTranslationServiceReady && !translationServiceLoading) ? { scale: 0.98 } : {}}\r\n          >\r\n            {isMobileVersion ? (\r\n              <Globe size={20} />\r\n            ) : (\r\n              <div className=\"flex items-center gap-2\">\r\n                <span className=\"text-lg\">{currentLangInfo.flag}</span>\r\n                <span className=\"hidden sm:inline text-sm font-medium\">\r\n                  {currentLanguage === 'en' ? 'EN' : currentLanguage.toUpperCase()}\r\n                </span>\r\n                {translationServiceLoading ? (\r\n                  <div\r\n                    className=\"w-4 h-4 border-2 border-current border-t-transparent rounded-full animate-spin\"\r\n                    style={{ borderColor: 'currentColor', borderTopColor: 'transparent' }}\r\n                  />\r\n                ) : (\r\n                  <ChevronDown \r\n                    size={16} \r\n                    className=\"opacity-70\"\r\n                    style={{\r\n                      transform: isTranslationDropdownOpen ? 'rotate(180deg)' : 'rotate(0deg)',\r\n                      transition: 'transform 0.2s ease'\r\n                    }}\r\n                  />\r\n                )}\r\n              </div>\r\n            )}\r\n          </motion.button>\r\n        </Tooltip>\r\n\r\n        {/* Translation Dropdown Menu */}\r\n        {!isMobileVersion && (\r\n          <AnimatePresence>\r\n            {isTranslationDropdownOpen && isTranslationServiceReady && (\r\n              <motion.div\r\n                className=\"absolute right-0 top-full mt-2 w-64 rounded-lg shadow-xl border z-50\"\r\n                style={{\r\n                  backgroundColor: colors?.surface || '#ffffff',\r\n                  borderColor: colors?.border || '#e5e7eb',\r\n                  boxShadow: `0 8px 32px ${colors?.cardShadow || 'rgba(0,0,0,0.15)'}`\r\n                }}\r\n                initial={{ opacity: 0, y: -10, scale: 0.95 }}\r\n                animate={{ opacity: 1, y: 0, scale: 1 }}\r\n                exit={{ opacity: 0, y: -10, scale: 0.95 }}\r\n                transition={{ duration: 0.2 }}\r\n              >\r\n                <div className=\"p-3 border-b\" style={{ borderColor: colors?.border }}>\r\n                  <div className=\"flex items-center gap-2 mb-2\">\r\n                    <Globe size={16} style={{ color: colors?.primary }} />\r\n                    <span className=\"text-sm font-semibold\" style={{ color: colors?.text }}>\r\n                      Choose Language\r\n                    </span>\r\n                  </div>\r\n                  <div className=\"text-xs\" style={{ color: colors?.textSecondary }}>\r\n                    {isChangingLanguage ? 'Applying translation...' : 'Select your preferred language'}\r\n                  </div>\r\n                </div>\r\n                \r\n                <div className=\"max-h-64 overflow-y-auto p-2\">\r\n                  {Object.entries(supportedLanguages).map(([code, info]) => {\r\n                    const isSelected = currentLanguage === code;\r\n                    const isDisabled = isChangingLanguage && !isSelected;\r\n                    \r\n                    return (\r\n                      <motion.button\r\n                        key={code}\r\n                        onClick={() => handleLanguageChange(code)}\r\n                        disabled={isChangingLanguage}\r\n                        className=\"w-full flex items-center gap-3 p-2 rounded-md transition-all duration-200 text-left\"\r\n                        style={{\r\n                          backgroundColor: isSelected ? (colors?.primary + '15') : 'transparent',\r\n                          color: colors?.text,\r\n                          opacity: isDisabled ? 0.5 : 1,\r\n                          cursor: isChangingLanguage ? 'not-allowed' : 'pointer'\r\n                        }}\r\n                        whileHover={!isChangingLanguage ? {\r\n                          backgroundColor: isSelected ? (colors?.primary + '25') : (colors?.backgroundSecondary || '#f3f4f6')\r\n                        } : {}}\r\n                      >\r\n                        <span className=\"text-lg flex-shrink-0\">{info.flag}</span>\r\n                        <div className=\"flex-1 min-w-0\">\r\n                          <div className=\"font-medium text-sm truncate\">{info.name}</div>\r\n                          <div className=\"text-xs opacity-70 font-mono\">{code.toUpperCase()}</div>\r\n                        </div>\r\n                        <div className=\"flex-shrink-0\">\r\n                          {isSelected && (\r\n                            <div className=\"flex items-center\">\r\n                              {isChangingLanguage ? (\r\n                                <div\r\n                                  className=\"w-4 h-4 border-2 border-current border-t-transparent rounded-full animate-spin\"\r\n                                  style={{ borderColor: colors?.primary, borderTopColor: 'transparent' }}\r\n                                />\r\n                              ) : (\r\n                                <div\r\n                                  className=\"w-4 h-4 rounded-full flex items-center justify-center\"\r\n                                  style={{ backgroundColor: colors?.primary }}\r\n                                >\r\n                                  <Check size={10} style={{ color: 'white' }} />\r\n                                </div>\r\n                              )}\r\n                            </div>\r\n                          )}\r\n                        </div>\r\n                      </motion.button>\r\n                    );\r\n                  })}\r\n                </div>\r\n                \r\n                <div className=\"p-3 border-t\" style={{ borderColor: colors?.border }}>\r\n                  <div className=\"flex items-center justify-between\">\r\n                    <button\r\n                      onClick={() => handleLanguageChange('en')}\r\n                      disabled={isChangingLanguage || currentLanguage === 'en'}\r\n                      className=\"text-xs transition-colors hover:underline disabled:opacity-50 disabled:cursor-not-allowed\"\r\n                      style={{ \r\n                        color: colors?.primary,\r\n                        opacity: (isChangingLanguage || currentLanguage === 'en') ? 0.5 : 1\r\n                      }}\r\n                    >\r\n                      Reset to English\r\n                    </button>\r\n                    \r\n                    <div className=\"flex items-center gap-1\">\r\n                      <div \r\n                        className=\"w-1.5 h-1.5 rounded-full\"\r\n                        style={{ backgroundColor: '#10B981' }}\r\n                      />\r\n                      <span className=\"text-xs\" style={{ color: colors?.textSecondary }}>\r\n                        Google Translate\r\n                      </span>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </motion.div>\r\n            )}\r\n          </AnimatePresence>\r\n        )}\r\n      </div>\r\n    );\r\n  }, [\r\n    translationError,\r\n    retryTranslationInit,\r\n    textColor,\r\n    isScrolled,\r\n    colors,\r\n    getCurrentLanguageInfo,\r\n    currentLanguage,\r\n    translationServiceLoading,\r\n    isTranslationServiceReady,\r\n    handleTranslationDropdownToggle,\r\n    isTranslationDropdownOpen,\r\n    supportedLanguages,\r\n    isChangingLanguage,\r\n    handleLanguageChange\r\n  ]);\r\n\r\n  return (\r\n    <>\r\n      <motion.header \r\n        className={`${styles.header} ${isScrolled ? styles.scrolled : ''}`}\r\n        style={{\r\n          backgroundColor: isScrolled ? (colors?.headerBgScrolled || 'rgba(255,255,255,0.95)') : 'transparent',\r\n          borderBottom: isScrolled ? `1px solid ${colors?.headerBorder || '#e5e7eb'}` : 'none',\r\n          boxShadow: isScrolled ? `0 4px 20px ${colors?.headerShadow || 'rgba(0,0,0,0.1)'}` : 'none',\r\n          backdropFilter: isScrolled ? 'blur(20px)' : 'none',\r\n          WebkitBackdropFilter: isScrolled ? 'blur(20px)' : 'none'\r\n        }}\r\n        animate={{\r\n          y: isVisible ? 0 : '-100%',\r\n        }}\r\n        transition={{\r\n          duration: 0.3,\r\n          ease: [0.4, 0, 0.2, 1]\r\n        }}\r\n      >\r\n        <div className={styles.container}>\r\n          {/* Brand - Logo Only */}\r\n          <motion.div \r\n            className={styles.navBrand}\r\n            whileHover={{ scale: 1.05 }}\r\n            transition={{ duration: 0.2 }}\r\n          >\r\n            {renderLogo()}\r\n          </motion.div>\r\n          \r\n          {/* Desktop Navigation */}\r\n          <nav className={`${styles.navMenu} ${isMobile ? styles.hidden : ''}`}>\r\n            {navigationItems.map((item, index) => (\r\n              <div key={index} className={styles.navItem}>\r\n                {item.hasDropdown ? (\r\n                  <div className={styles.dropdown}>\r\n                    <button\r\n                      className={styles.dropdownToggle}\r\n                      onClick={handleDropdownToggle}\r\n                      style={{ \r\n                        color: textColor,\r\n                        textShadow: !isScrolled ? '0 1px 2px rgba(0,0,0,0.3)' : 'none'\r\n                      }}\r\n                    >\r\n                      {item.label}\r\n                      <motion.div\r\n                        animate={{ rotate: isDropdownOpen ? 180 : 0 }}\r\n                        transition={{ duration: 0.2 }}\r\n                      >\r\n                        <ChevronDown size={16} />\r\n                      </motion.div>\r\n                    </button>\r\n                    \r\n                    <AnimatePresence>\r\n                      {isDropdownOpen && (\r\n                        <motion.div\r\n                          className={styles.dropdownMenu}\r\n                          initial={{ opacity: 0, y: -10 }}\r\n                          animate={{ opacity: 1, y: 0 }}\r\n                          exit={{ opacity: 0, y: -10 }}\r\n                          transition={{ duration: 0.2 }}\r\n                          style={{\r\n                            backgroundColor: colors?.surface || '#ffffff',\r\n                            border: `1px solid ${colors?.border || '#e5e7eb'}`,\r\n                            boxShadow: `0 8px 32px ${colors?.cardShadow || 'rgba(0,0,0,0.1)'}`\r\n                          }}\r\n                        >\r\n                          {item.dropdownItems?.map((dropdownItem, dropdownIndex) => (\r\n                            <motion.a\r\n                              key={dropdownIndex}\r\n                              href={dropdownItem.href}\r\n                              className={styles.dropdownItem}\r\n                              onClick={closeDropdown}\r\n                              style={{ color: colors?.text || '#000000' }}\r\n                              whileHover={{ backgroundColor: colors?.backgroundSecondary || '#f3f4f6' }}\r\n                            >\r\n                              {dropdownItem.label}\r\n                            </motion.a>\r\n                          ))}\r\n                        </motion.div>\r\n                      )}\r\n                    </AnimatePresence>\r\n                  </div>\r\n                ) : (\r\n                  <a \r\n                    href={item.href}\r\n                    className={styles.navLink}\r\n                    style={{ \r\n                      color: textColor,\r\n                      textShadow: !isScrolled ? '0 1px 2px rgba(0,0,0,0.3)' : 'none',\r\n                      transition: 'all 0.3s ease'\r\n                    }}\r\n                  >\r\n                    {item.label}\r\n                  </a>\r\n                )}\r\n              </div>\r\n            ))}\r\n            \r\n            {/* Desktop Language Dropdown */}\r\n            {renderTranslationDropdown(false)}\r\n            \r\n            {/* Theme Toggle */}\r\n            <Tooltip title={`Switch to ${isDarkMode ? 'light' : 'dark'} mode`}>\r\n              <IconButton\r\n                onClick={handleThemeToggle}\r\n                className={styles.themeToggle}\r\n                size=\"small\"\r\n                style={{ \r\n                  color: textColor,\r\n                  marginLeft: '0.5rem',\r\n                  backgroundColor: !isScrolled ? 'rgba(255,255,255,0.1)' : 'transparent',\r\n                  backdropFilter: !isScrolled ? 'blur(10px)' : 'none'\r\n                }}\r\n              >\r\n                <motion.div\r\n                  key={isDarkMode ? 'moon' : 'sun'}\r\n                  initial={{ rotate: -180, opacity: 0 }}\r\n                  animate={{ rotate: 0, opacity: 1 }}\r\n                  transition={{ duration: 0.3 }}\r\n                >\r\n                  {isDarkMode ? <Moon size={20} /> : <Sun size={20} />}\r\n                </motion.div>\r\n              </IconButton>\r\n            </Tooltip>\r\n            \r\n            {/* Donate Button */}\r\n            <motion.button \r\n              className={styles.donateBtn}\r\n              onClick={handleDonateClick}\r\n              whileHover={{ \r\n                scale: 1.05,\r\n                boxShadow: `0 8px 25px rgba(${(colors?.secondary || '#f59e0b').slice(1).match(/.{2}/g)?.map(x => parseInt(x, 16)).join(', ') || '245, 158, 11'}, 0.4)`\r\n              }}\r\n              whileTap={{ scale: 0.98 }}\r\n              style={{\r\n                backgroundColor: colors?.secondary || '#f59e0b',\r\n                color: colors?.black || '#000000',\r\n                border: 'none',\r\n                cursor: 'pointer',\r\n                boxShadow: !isScrolled ? '0 4px 15px rgba(0,0,0,0.2)' : `0 2px 10px ${colors?.secondary || '#f59e0b'}30`\r\n              }}\r\n            >\r\n              Donate Now\r\n            </motion.button>\r\n          </nav>\r\n\r\n          {/* Mobile Controls */}\r\n          {isMobile && (\r\n            <div className={styles.mobileControls}>\r\n              {/* Mobile Language Toggle */}\r\n              {renderTranslationDropdown(true)}\r\n              \r\n              {/* Theme Toggle for Mobile */}\r\n              <IconButton\r\n                onClick={handleThemeToggle}\r\n                size=\"small\"\r\n                style={{ \r\n                  color: textColor,\r\n                  backgroundColor: !isScrolled ? 'rgba(255,255,255,0.1)' : 'transparent',\r\n                  backdropFilter: !isScrolled ? 'blur(10px)' : 'none'\r\n                }}\r\n              >\r\n                {isDarkMode ? <Moon size={20} /> : <Sun size={20} />}\r\n              </IconButton>\r\n              \r\n              {/* Mobile Menu Toggle */}\r\n              <IconButton\r\n                onClick={toggleMobileMenu}\r\n                className={styles.mobileMenuToggle}\r\n                style={{ \r\n                  color: textColor,\r\n                  backgroundColor: !isScrolled ? 'rgba(255,255,255,0.1)' : 'transparent',\r\n                  backdropFilter: !isScrolled ? 'blur(10px)' : 'none'\r\n                }}\r\n              >\r\n                <motion.div\r\n                  key={isMobileMenuOpen ? 'close' : 'menu'}\r\n                  initial={{ rotate: -90, opacity: 0 }}\r\n                  animate={{ rotate: 0, opacity: 1 }}\r\n                  transition={{ duration: 0.2 }}\r\n                >\r\n                  {isMobileMenuOpen ? <X size={24} /> : <Menu size={24} />}\r\n                </motion.div>\r\n              </IconButton>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </motion.header>\r\n\r\n      {/* Mobile Menu Overlay */}\r\n      <AnimatePresence>\r\n        {isMobileMenuOpen && (\r\n          <motion.div\r\n            className={styles.mobileMenuOverlay}\r\n            initial={{ opacity: 0 }}\r\n            animate={{ opacity: 1 }}\r\n            exit={{ opacity: 0 }}\r\n            transition={{ duration: 0.3 }}\r\n            style={{ \r\n              backgroundColor: colors?.overlayBg || 'rgba(0,0,0,0.5)',\r\n              zIndex: 9999\r\n            }}\r\n            onClick={toggleMobileMenu}\r\n          >\r\n            <motion.div\r\n              className={styles.mobileMenu}\r\n              initial={{ x: '100%' }}\r\n              animate={{ x: 0 }}\r\n              exit={{ x: '100%' }}\r\n              transition={{ type: 'tween', duration: 0.3 }}\r\n              style={{ \r\n                backgroundColor: colors?.surface || '#ffffff',\r\n                borderLeft: `1px solid ${colors?.border || '#e5e7eb'}`,\r\n                boxShadow: `-10px 0 30px ${colors?.cardShadow || 'rgba(0,0,0,0.1)'}`\r\n              }}\r\n              onClick={(e) => e.stopPropagation()}\r\n            >\r\n              <div className={styles.mobileMenuHeader}>\r\n                <div className={styles.mobileMenuBrand}>\r\n                  {renderLogo()}\r\n                </div>\r\n                <IconButton\r\n                  onClick={toggleMobileMenu}\r\n                  style={{ color: colors?.text || '#000000' }}\r\n                >\r\n                  <X size={24} />\r\n                </IconButton>\r\n              </div>\r\n\r\n              <div className={styles.mobileMenuContent}>\r\n                {navigationItems.map((item, index) => (\r\n                  <div key={index} className={styles.mobileNavItem}>\r\n                    {item.hasDropdown ? (\r\n                      <>\r\n                        <button\r\n                          className={styles.mobileDropdownToggle}\r\n                          onClick={() => setIsDropdownOpen(!isDropdownOpen)}\r\n                          style={{ color: colors?.text || '#000000' }}\r\n                        >\r\n                          {item.label}\r\n                          <motion.div\r\n                            animate={{ rotate: isDropdownOpen ? 180 : 0 }}\r\n                            transition={{ duration: 0.2 }}\r\n                          >\r\n                            <ChevronDown size={16} />\r\n                          </motion.div>\r\n                        </button>\r\n                        \r\n                        <AnimatePresence>\r\n                          {isDropdownOpen && (\r\n                            <motion.div\r\n                              className={styles.mobileDropdownMenu}\r\n                              initial={{ height: 0, opacity: 0 }}\r\n                              animate={{ height: 'auto', opacity: 1 }}\r\n                              exit={{ height: 0, opacity: 0 }}\r\n                              transition={{ duration: 0.2 }}\r\n                            >\r\n                              {item.dropdownItems?.map((dropdownItem, dropdownIndex) => (\r\n                                <a\r\n                                  key={dropdownIndex}\r\n                                  href={dropdownItem.href}\r\n                                  className={styles.mobileDropdownItem}\r\n                                  onClick={handleNavClick}\r\n                                  style={{ color: colors?.textSecondary || '#6b7280' }}\r\n                                >\r\n                                  {dropdownItem.label}\r\n                                </a>\r\n                              ))}\r\n                            </motion.div>\r\n                          )}\r\n                        </AnimatePresence>\r\n                      </>\r\n                    ) : (\r\n                      <a\r\n                        href={item.href}\r\n                        className={styles.mobileNavLink}\r\n                        onClick={handleNavClick}\r\n                        style={{ \r\n                          color: colors?.text || '#000000',\r\n                          textDecoration: 'none',\r\n                          padding: '12px 0',\r\n                          display: 'block',\r\n                          borderBottom: `1px solid ${colors?.border || '#e5e7eb'}20`,\r\n                          transition: 'color 0.2s ease'\r\n                        }}\r\n                      >\r\n                        {item.label}\r\n                      </a>\r\n                    )}\r\n                  </div>\r\n                ))}\r\n\r\n                {/* Language Selector in Mobile Menu */}\r\n                <div className={styles.mobileLanguageSelector} style={{ \r\n                  padding: '20px 0', \r\n                  borderTop: `1px solid ${colors?.border || '#e5e7eb'}`,\r\n                  marginTop: '16px'\r\n                }}>\r\n                  {translationError ? (\r\n                    <motion.button\r\n                      onClick={retryTranslationInit}\r\n                      className=\"flex items-center justify-between w-full p-3 rounded-lg transition-colors\"\r\n                      style={{\r\n                        backgroundColor: '#fef2f2',\r\n                        border: '1px solid #fecaca',\r\n                        color: '#dc2626'\r\n                      }}\r\n                      whileHover={{ backgroundColor: '#fef9c3' }}\r\n                      whileTap={{ scale: 0.98 }}\r\n                    >\r\n                      <div className=\"flex items-center gap-3\">\r\n                        <AlertCircle size={20} />\r\n                        <div className=\"text-left\">\r\n                          <div className=\"font-medium\">Translation Error</div>\r\n                          <div className=\"text-sm opacity-70\">Tap to retry</div>\r\n                        </div>\r\n                      </div>\r\n                    </motion.button>\r\n                  ) : (\r\n                    <div>\r\n                      <div className=\"flex items-center gap-2 mb-3\">\r\n                        <Globe size={16} style={{ color: colors?.primary }} />\r\n                        <span className=\"text-sm font-semibold\" style={{ color: colors?.text }}>\r\n                          Language\r\n                        </span>\r\n                      </div>\r\n                      \r\n                      {/* Mobile Language Grid */}\r\n                      <div className=\"grid grid-cols-2 gap-2 max-h-40 overflow-y-auto\">\r\n                        {Object.entries(supportedLanguages).map(([code, info]) => {\r\n                          const isSelected = currentLanguage === code;\r\n                          const isDisabled = isChangingLanguage && !isSelected;\r\n                          \r\n                          return (\r\n                            <motion.button\r\n                              key={code}\r\n                              onClick={() => handleLanguageChange(code)}\r\n                              disabled={isChangingLanguage}\r\n                              className=\"flex items-center gap-2 p-2 rounded-lg transition-colors text-left\"\r\n                              style={{\r\n                                backgroundColor: isSelected ? (colors?.primary + '15') : (colors?.backgroundSecondary || '#f3f4f6'),\r\n                                border: `1px solid ${isSelected ? colors?.primary : (colors?.border || '#e5e7eb')}`,\r\n                                color: colors?.text || '#000000',\r\n                                opacity: isDisabled ? 0.5 : 1,\r\n                                cursor: isChangingLanguage ? 'not-allowed' : 'pointer'\r\n                              }}\r\n                              whileHover={!isChangingLanguage ? { \r\n                                backgroundColor: isSelected ? (colors?.primary + '25') : (colors?.surface || '#ffffff')\r\n                              } : {}}\r\n                              whileTap={!isChangingLanguage ? { scale: 0.98 } : {}}\r\n                            >\r\n                              <span className=\"text-base\">{info.flag}</span>\r\n                              <div className=\"flex-1 min-w-0\">\r\n                                <div className=\"text-xs font-medium truncate\">{info.name}</div>\r\n                              </div>\r\n                              {isSelected && (\r\n                                <div className=\"flex-shrink-0\">\r\n                                  {isChangingLanguage ? (\r\n                                    <div className=\"w-3 h-3 border border-current border-t-transparent rounded-full animate-spin opacity-70\" />\r\n                                  ) : (\r\n                                    <div\r\n                                      className=\"w-3 h-3 rounded-full flex items-center justify-center\"\r\n                                      style={{ backgroundColor: colors?.primary }}\r\n                                    >\r\n                                      <Check size={8} style={{ color: 'white' }} />\r\n                                    </div>\r\n                                  )}\r\n                                </div>\r\n                              )}\r\n                            </motion.button>\r\n                          );\r\n                        })}\r\n                      </div>\r\n                    </div>\r\n                  )}\r\n                </div>\r\n\r\n                {/* Mobile Donate Button */}\r\n                <motion.button\r\n                  className={styles.mobileDonateBtn}\r\n                  onClick={handleDonateClick}\r\n                  whileHover={{ scale: 1.02 }}\r\n                  whileTap={{ scale: 0.98 }}\r\n                  style={{\r\n                    backgroundColor: colors?.secondary || '#f59e0b',\r\n                    color: colors?.black || '#000000',\r\n                    border: 'none',\r\n                    cursor: 'pointer',\r\n                    width: '100%',\r\n                    padding: '14px 24px',\r\n                    borderRadius: '8px',\r\n                    fontWeight: '600',\r\n                    fontSize: '16px',\r\n                    marginTop: '20px',\r\n                    boxShadow: `0 4px 15px ${colors?.secondary || '#f59e0b'}40`\r\n                  }}\r\n                >\r\n                  Donate Now\r\n                </motion.button>\r\n              </div>\r\n            </motion.div>\r\n          </motion.div>\r\n        )}\r\n      </AnimatePresence>\r\n\r\n      {/* Donation Modal */}\r\n      <DonationModal \r\n        open={isDonationModalOpen} \r\n        onClose={handleDonationModalClose}\r\n      />\r\n\r\n      {/* Add CSS for loading animation */}\r\n      <style jsx>{`\r\n        @keyframes spin {\r\n          0% { transform: rotate(0deg); }\r\n          100% { transform: rotate(360deg); }\r\n        }\r\n      `}</style>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Header;","//  API Configuration - Always prefer .env values\r\nexport const API_URL = process.env.REACT_APP_API_URL || 'http://localhost:5000/api';\r\nexport const STATIC_URL = process.env.REACT_APP_STATIC_URL || 'http://localhost:5000';\r\n\r\nconsole.log(' API Configuration:');\r\nconsole.log('API_URL:', API_URL);\r\nconsole.log('STATIC_URL:', STATIC_URL);","// src/services/newsletterService.js\r\nimport { API_URL } from \"../config\";\r\n\r\n// Email validation regex - more comprehensive than basic HTML5 validation\r\nconst EMAIL_REGEX = /^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;\r\n\r\n// List of common disposable email domains to prevent fake emails\r\nconst DISPOSABLE_EMAIL_DOMAINS = [\r\n  '10minutemail.com', 'tempmail.org', 'guerrillamail.com', 'mailinator.com',\r\n  'yopmail.com', 'temp-mail.org', 'getairmail.com', 'maildrop.cc'\r\n];\r\n\r\n/**\r\n * Validate email format and check for disposable domains\r\n */\r\nexport function validateEmail(email) {\r\n  const trimmedEmail = email.trim().toLowerCase();\r\n  \r\n  // Basic format validation\r\n  if (!EMAIL_REGEX.test(trimmedEmail)) {\r\n    return {\r\n      isValid: false,\r\n      message: \"Please enter a valid email address\"\r\n    };\r\n  }\r\n  \r\n  // Check for disposable email domains\r\n  const domain = trimmedEmail.split('@')[1];\r\n  if (DISPOSABLE_EMAIL_DOMAINS.includes(domain)) {\r\n    return {\r\n      isValid: false,\r\n      message: \"Temporary email addresses are not allowed. Please use a permanent email address.\"\r\n    };\r\n  }\r\n  \r\n  // Additional checks\r\n  if (trimmedEmail.length > 254) {\r\n    return {\r\n      isValid: false,\r\n      message: \"Email address is too long\"\r\n    };\r\n  }\r\n  \r\n  return { isValid: true };\r\n}\r\n\r\n/**\r\n * Subscribe to newsletter with email validation and confirmation\r\n */\r\nexport async function subscribeToNewsletter(email) {\r\n  const trimmedEmail = email.trim().toLowerCase();\r\n\r\n  // Client-side validation first\r\n  const validation = validateEmail(trimmedEmail);\r\n  if (!validation.isValid) {\r\n    return { success: false, message: validation.message };\r\n  }\r\n\r\n  try {\r\n    const response = await fetch(`${API_URL}/newsletter/subscribe`, {\r\n      method: \"POST\",\r\n      headers: { \"Content-Type\": \"application/json\" },\r\n      body: JSON.stringify({ email: trimmedEmail }),\r\n      credentials: \"include\",\r\n    });\r\n\r\n    const data = await response.json();\r\n\r\n    if (!response.ok) {\r\n      // Handle specific error cases\r\n      if (response.status === 409) {\r\n        return { success: false, message: \"You are already subscribed to our newsletter.\" };\r\n      }\r\n      if (response.status === 400 && data.message?.includes('invalid')) {\r\n        return { success: false, message: \"Please enter a valid email address.\" };\r\n      }\r\n      return { success: false, message: data.message || \"Subscription failed. Please try again.\" };\r\n    }\r\n\r\n    // Success response\r\n    return { \r\n      success: true, \r\n      message: data.message || \"Successfully subscribed to our newsletter!\",\r\n      data: data.data\r\n    };\r\n  } catch (error) {\r\n    console.error(\"Newsletter subscription error:\", error);\r\n    \r\n    // Network error handling\r\n    if (error.name === 'TypeError' && error.message.includes('fetch')) {\r\n      return { success: false, message: \"Connection error. Please check your internet connection and try again.\" };\r\n    }\r\n    \r\n    return { success: false, message: \"Something went wrong. Please try again later.\" };\r\n  }\r\n}\r\n\r\n/**\r\n * Unsubscribe from newsletter\r\n */\r\nexport async function unsubscribeFromNewsletter(token) {\r\n  try {\r\n    const response = await fetch(`${API_URL}/newsletter/unsubscribe/${token}`, {\r\n      method: \"POST\",\r\n      credentials: \"include\",\r\n    });\r\n\r\n    const data = await response.json();\r\n\r\n    if (!response.ok) {\r\n      return { success: false, message: data.message || \"Unsubscribe failed.\" };\r\n    }\r\n\r\n    return { success: true, message: data.message || \"Successfully unsubscribed.\" };\r\n  } catch (error) {\r\n    console.error(\"Unsubscribe error:\", error);\r\n    return { success: false, message: \"Unsubscribe failed. Please try again.\" };\r\n  }\r\n}\r\n\r\n\r\nexport async function getNewsletterStats() {\r\n  try {\r\n    const response = await fetch(`${API_URL}/newsletter/stats`, {\r\n      method: \"GET\",\r\n      credentials: \"include\",\r\n      headers: {\r\n        'Content-Type': 'application/json'\r\n      }\r\n    });\r\n\r\n    const data = await response.json();\r\n\r\n    if (!response.ok) {\r\n      return { success: false, message: data.message || \"Failed to fetch statistics.\" };\r\n    }\r\n\r\n    return { success: true, data: data.data };\r\n  } catch (error) {\r\n    console.error(\"Newsletter stats error:\", error);\r\n    return { success: false, message: \"Failed to fetch newsletter statistics.\" };\r\n  }\r\n}\r\n\r\n\r\nexport async function getNewsletterSubscribers() {\r\n  try {\r\n    const response = await fetch(`${API_URL}/newsletter/subscribers`, {\r\n      method: \"GET\",\r\n      credentials: \"include\",\r\n      headers: {\r\n        'Content-Type': 'application/json'\r\n      }\r\n    });\r\n\r\n    const data = await response.json();\r\n\r\n    if (!response.ok) {\r\n      return { success: false, message: data.message || \"Failed to fetch subscribers.\" };\r\n    }\r\n\r\n    return { success: true, data: data.data, count: data.count };\r\n  } catch (error) {\r\n    console.error(\"Get subscribers error:\", error);\r\n    return { success: false, message: \"Failed to fetch subscribers.\" };\r\n  }\r\n}\r\n\r\n\r\nexport async function deleteSubscriber(email) {\r\n  try {\r\n    const response = await fetch(`${API_URL}/newsletter/subscribers/${encodeURIComponent(email)}`, {\r\n      method: \"DELETE\",\r\n      credentials: \"include\",\r\n      headers: {\r\n        'Content-Type': 'application/json'\r\n      }\r\n    });\r\n\r\n    const data = await response.json();\r\n\r\n    if (!response.ok) {\r\n      return { success: false, message: data.message || \"Failed to delete subscriber.\" };\r\n    }\r\n\r\n    return { success: true, message: data.message || \"Subscriber deleted successfully.\" };\r\n  } catch (error) {\r\n    console.error(\"Delete subscriber error:\", error);\r\n    return { success: false, message: \"Failed to delete subscriber.\" };\r\n  }\r\n}\r\n\r\n\r\nexport async function sendNewsletterMessage({ subject, message, messageType = 'newsletter' }) {\r\n  // Validate required fields\r\n  if (!subject || !subject.trim()) {\r\n    return { success: false, message: \"Subject is required.\" };\r\n  }\r\n  \r\n  if (!message || !message.trim()) {\r\n    return { success: false, message: \"Message content is required.\" };\r\n  }\r\n\r\n  if (subject.length > 200) {\r\n    return { success: false, message: \"Subject must be less than 200 characters.\" };\r\n  }\r\n\r\n  if (message.length > 10000) {\r\n    return { success: false, message: \"Message must be less than 10,000 characters.\" };\r\n  }\r\n\r\n  try {\r\n    const response = await fetch(`${API_URL}/newsletter/send-message`, {\r\n      method: \"POST\",\r\n      headers: {\r\n        'Content-Type': 'application/json'\r\n      },\r\n      credentials: \"include\",\r\n      body: JSON.stringify({\r\n        subject: subject.trim(),\r\n        message: message.trim(),\r\n        messageType\r\n      })\r\n    });\r\n\r\n    const data = await response.json();\r\n\r\n    if (!response.ok) {\r\n      return { success: false, message: data.message || \"Failed to send message.\" };\r\n    }\r\n\r\n    return { \r\n      success: true, \r\n      message: data.message || \"Message sent successfully!\",\r\n      data: data.data\r\n    };\r\n  } catch (error) {\r\n    console.error(\"Send newsletter message error:\", error);\r\n    return { success: false, message: \"Failed to send message. Please try again.\" };\r\n  }\r\n}\r\n\r\n\r\nexport async function getNewsletterMessages(page = 1, limit = 10) {\r\n  try {\r\n    const response = await fetch(`${API_URL}/newsletter/messages?page=${page}&limit=${limit}`, {\r\n      method: \"GET\",\r\n      credentials: \"include\",\r\n      headers: {\r\n        'Content-Type': 'application/json'\r\n      }\r\n    });\r\n\r\n    const data = await response.json();\r\n\r\n    if (!response.ok) {\r\n      return { success: false, message: data.message || \"Failed to fetch message history.\" };\r\n    }\r\n\r\n    return { \r\n      success: true, \r\n      data: data.data.messages, \r\n      pagination: data.data.pagination \r\n    };\r\n  } catch (error) {\r\n    console.error(\"Get messages error:\", error);\r\n    return { success: false, message: \"Failed to fetch message history.\" };\r\n  }\r\n}\r\n\r\n/**\r\n * Download subscriber emails as CSV\r\n */\r\nexport function downloadSubscribersCSV(subscribers) {\r\n  if (!subscribers || subscribers.length === 0) {\r\n    return { success: false, message: \"No subscribers to download.\" };\r\n  }\r\n\r\n  try {\r\n    const emailList = subscribers.map(subscriber => subscriber.email).join('\\n');\r\n    const blob = new Blob([emailList], { type: 'text/csv;charset=utf-8;' });\r\n    const link = document.createElement('a');\r\n    const url = URL.createObjectURL(blob);\r\n    \r\n    link.setAttribute('href', url);\r\n    link.setAttribute('download', `newsletter_emails_${new Date().toISOString().split('T')[0]}.csv`);\r\n    link.style.visibility = 'hidden';\r\n    \r\n    document.body.appendChild(link);\r\n    link.click();\r\n    document.body.removeChild(link);\r\n    \r\n    // Clean up the URL object\r\n    URL.revokeObjectURL(url);\r\n    \r\n    return { success: true, message: \"Subscriber list downloaded successfully.\" };\r\n  } catch (error) {\r\n    console.error(\"Download error:\", error);\r\n    return { success: false, message: \"Failed to download subscriber list.\" };\r\n  }\r\n}\r\n\r\n/**\r\n * Check subscription status by email\r\n */\r\nexport async function checkSubscriptionStatus(email) {\r\n  try {\r\n    const response = await fetch(`${API_URL}/newsletter/status`, {\r\n      method: \"POST\",\r\n      headers: { \"Content-Type\": \"application/json\" },\r\n      body: JSON.stringify({ email }),\r\n      credentials: \"include\",\r\n    });\r\n\r\n    const data = await response.json();\r\n    return { success: response.ok, data };\r\n  } catch (error) {\r\n    console.error(\"Subscription status check error:\", error);\r\n    return { success: false, message: \"Could not check subscription status.\" };\r\n  }\r\n}\r\n\r\n/**\r\n * Utility function to format date for display\r\n */\r\nexport function formatDate(dateString) {\r\n  try {\r\n    return new Date(dateString).toLocaleString();\r\n  } catch (error) {\r\n    return dateString;\r\n  }\r\n}\r\n\r\n/**\r\n * Utility function to format subscriber count\r\n */\r\nexport function formatSubscriberCount(count) {\r\n  if (count >= 1000000) {\r\n    return (count / 1000000).toFixed(1) + 'M';\r\n  } else if (count >= 1000) {\r\n    return (count / 1000).toFixed(1) + 'K';\r\n  }\r\n  return count.toString();\r\n}","import React, { useState, useEffect } from 'react';\r\nimport { X, TreePine, Send, ChevronUp, Facebook, Twitter, Linkedin, Instagram } from 'lucide-react';\r\nimport { Link } from 'react-router-dom';\r\nimport { useTheme } from '../theme';\r\nimport { useLogo } from '../context/LogoContext';\r\nimport { subscribeToNewsletter } from \"../services/newsletterService\";\r\n\r\nconst styles = {\r\n  footer: {\r\n    position: 'relative',\r\n    background: 'black',\r\n    color: 'white',\r\n    overflow: 'hidden',\r\n    fontFamily: 'inherit',\r\n    padding: '1.5rem 0 1rem'\r\n  },\r\n  \r\n  backgroundEffects: {\r\n    position: 'absolute',\r\n    inset: '0',\r\n    background: `\r\n      radial-gradient(circle at 25% 25%, #facf3c08 0%, transparent 50%),\r\n      radial-gradient(circle at 75% 75%, #9ccf9f08 0%, transparent 50%)\r\n    `,\r\n    opacity: '0.7'\r\n  },\r\n  \r\n  container: {\r\n    position: 'relative',\r\n    zIndex: '10',\r\n    maxWidth: '1200px',\r\n    margin: '0 auto',\r\n    padding: '0 1.5rem'\r\n  },\r\n  \r\n  mainSection: {\r\n    display: 'grid',\r\n    gridTemplateColumns: '1fr auto auto',\r\n    gap: '3rem',\r\n    alignItems: 'center',\r\n    marginBottom: '1rem'\r\n  },\r\n  \r\n  brandSection: {\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    gap: '1rem'\r\n  },\r\n  \r\n  logoContainer: {\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    gap: '0.5rem'\r\n  },\r\n  \r\n  logoIcon: {\r\n    width: '32px',\r\n    height: '32px',\r\n    background: 'linear-gradient(135deg, #facf3c, #9ccf9f)',\r\n    borderRadius: '8px',\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    boxShadow: '0 4px 15px rgba(250, 207, 60, 0.3)',\r\n    transition: 'transform 0.3s ease'\r\n  },\r\n  \r\n  logoIconHover: {\r\n    transform: 'scale(1.1) rotate(5deg)'\r\n  },\r\n  \r\n  logoText: {\r\n    fontSize: '1.25rem',\r\n    fontWeight: 'bold',\r\n    background: 'linear-gradient(90deg, #facf3c, #9ccf9f)',\r\n    backgroundClip: 'text',\r\n    WebkitBackgroundClip: 'text',\r\n    color: 'transparent'\r\n  },\r\n  \r\n  brandDescription: {\r\n    color: '#cbd5e1',\r\n    fontSize: '0.8rem',\r\n    lineHeight: '1.4',\r\n    maxWidth: '200px'\r\n  },\r\n  \r\n  linksSection: {\r\n    display: 'flex',\r\n    gap: '2rem'\r\n  },\r\n  \r\n  linkItem: {\r\n    color: '#e2e8f0',\r\n    textDecoration: 'none',\r\n    fontSize: '0.85rem',\r\n    transition: 'all 0.3s ease',\r\n    position: 'relative'\r\n  },\r\n  \r\n  linkItemHover: {\r\n    color: '#facf3c'\r\n  },\r\n  \r\n  linkUnderline: {\r\n    position: 'absolute',\r\n    bottom: '-2px',\r\n    left: '0',\r\n    width: '0',\r\n    height: '1px',\r\n    backgroundColor: '#facf3c',\r\n    transition: 'width 0.3s ease'\r\n  },\r\n  \r\n  linkUnderlineHover: {\r\n    width: '100%'\r\n  },\r\n  \r\n  newsletterSection: {\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    gap: '0.75rem'\r\n  },\r\n  \r\n  newsletterText: {\r\n    color: '#94a3b8',\r\n    fontSize: '0.8rem',\r\n    whiteSpace: 'nowrap'\r\n  },\r\n  \r\n  newsletterForm: {\r\n    display: 'flex',\r\n    gap: '0.5rem'\r\n  },\r\n  \r\n  emailInput: {\r\n    padding: '0.4rem 0.75rem',\r\n    background: 'rgba(0, 0, 0, 0.3)',\r\n    border: '1px solid rgba(255, 255, 255, 0.1)',\r\n    borderRadius: '6px',\r\n    color: 'white',\r\n    fontSize: '0.8rem',\r\n    outline: 'none',\r\n    transition: 'border-color 0.3s ease',\r\n    width: '180px'\r\n  },\r\n  \r\n  emailInputFocus: {\r\n    borderColor: '#facf3c'\r\n  },\r\n  \r\n  submitButton: {\r\n    padding: '0.4rem 0.8rem',\r\n    background: 'linear-gradient(90deg, #facf3c, #9ccf9f)',\r\n    color: 'black',\r\n    border: 'none',\r\n    borderRadius: '6px',\r\n    fontWeight: 'bold',\r\n    fontSize: '0.8rem',\r\n    cursor: 'pointer',\r\n    transition: 'all 0.3s ease',\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    gap: '0.4rem'\r\n  },\r\n  \r\n  submitButtonHover: {\r\n    transform: 'scale(1.05)',\r\n    boxShadow: '0 4px 15px rgba(250, 207, 60, 0.4)'\r\n  },\r\n  \r\n  bottomSection: {\r\n    display: 'flex',\r\n    justifyContent: 'space-between',\r\n    alignItems: 'center',\r\n    padding: '0.75rem 0 0',\r\n    borderTop: '1px solid rgba(255, 255, 255, 0.1)',\r\n    fontSize: '0.75rem'\r\n  },\r\n  \r\n  leftBottom: {\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    gap: '2rem'\r\n  },\r\n  \r\n  copyright: {\r\n    color: '#64748b'\r\n  },\r\n  \r\n  legalLinks: {\r\n    display: 'flex',\r\n    gap: '1.5rem'\r\n  },\r\n  \r\n  legalLink: {\r\n    color: '#94a3b8',\r\n    textDecoration: 'none',\r\n    fontSize: '0.75rem',\r\n    transition: 'all 0.3s ease',\r\n    position: 'relative'\r\n  },\r\n  \r\n  legalLinkHover: {\r\n    color: '#facf3c'\r\n  },\r\n  \r\n  bottomRight: {\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    gap: '1.5rem'\r\n  },\r\n  \r\n  socialLinks: {\r\n    display: 'flex',\r\n    gap: '0.5rem'\r\n  },\r\n  \r\n  socialLink: {\r\n    width: '32px',\r\n    height: '32px',\r\n    background: 'rgba(255, 255, 255, 0.05)',\r\n    border: '1px solid rgba(255, 255, 255, 0.1)',\r\n    borderRadius: '8px',\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    color: '#94a3b8',\r\n    textDecoration: 'none',\r\n    transition: 'all 0.3s ease'\r\n  },\r\n  \r\n  socialLinkHover: {\r\n    background: 'rgba(250, 207, 60, 0.2)',\r\n    borderColor: 'rgba(250, 207, 60, 0.3)',\r\n    color: '#facf3c',\r\n    transform: 'translateY(-1px)'\r\n  },\r\n  \r\n  badges: {\r\n    display: 'flex',\r\n    gap: '0.5rem'\r\n  },\r\n  \r\n  badge: {\r\n    padding: '0.3rem 0.6rem',\r\n    borderRadius: '12px',\r\n    fontSize: '0.7rem',\r\n    fontWeight: '500'\r\n  },\r\n  \r\n  carbonBadge: {\r\n    background: 'rgba(156, 207, 159, 0.2)',\r\n    color: '#9ccf9f',\r\n    border: '1px solid rgba(156, 207, 159, 0.3)'\r\n  },\r\n  \r\n  impactBadge: {\r\n    background: 'rgba(250, 207, 60, 0.2)',\r\n    color: '#facf3c',\r\n    border: '1px solid rgba(250, 207, 60, 0.3)'\r\n  },\r\n  \r\n  backToTop: {\r\n    position: 'fixed',\r\n    bottom: '2rem',\r\n    right: '2rem',\r\n    width: '45px',\r\n    height: '45px',\r\n    background: 'linear-gradient(135deg, #facf3c, #9ccf9f)',\r\n    color: 'black',\r\n    border: 'none',\r\n    borderRadius: '50%',\r\n    cursor: 'pointer',\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    boxShadow: '0 6px 25px rgba(250, 207, 60, 0.4)',\r\n    transition: 'all 0.3s ease',\r\n    zIndex: 1000,\r\n    opacity: 0,\r\n    transform: 'translateY(20px)',\r\n    pointerEvents: 'none'\r\n  },\r\n\r\n  backToTopVisible: {\r\n    opacity: 1,\r\n    transform: 'translateY(0)',\r\n    pointerEvents: 'auto'\r\n  },\r\n\r\n  backToTopHover: {\r\n    transform: 'translateY(-3px) scale(1.1)',\r\n    boxShadow: '0 8px 30px rgba(250, 207, 60, 0.6)'\r\n  },\r\n  \r\n  // Responsive styles\r\n  '@media (max-width: 768px)': {\r\n    mainSection: {\r\n      gridTemplateColumns: '1fr',\r\n      gap: '1.5rem',\r\n      textAlign: 'center'\r\n    },\r\n    \r\n    linksSection: {\r\n      justifyContent: 'center',\r\n      flexWrap: 'wrap',\r\n      gap: '1rem'\r\n    },\r\n    \r\n    newsletterSection: {\r\n      flexDirection: 'column',\r\n      gap: '1rem'\r\n    },\r\n    \r\n    bottomSection: {\r\n      flexDirection: 'column',\r\n      gap: '1rem',\r\n      textAlign: 'center'\r\n    },\r\n    \r\n    leftBottom: {\r\n      flexDirection: 'column',\r\n      gap: '0.75rem'\r\n    },\r\n    \r\n    legalLinks: {\r\n      gap: '1rem'\r\n    },\r\n    \r\n    bottomRight: {\r\n      flexDirection: 'column',\r\n      gap: '1rem'\r\n    }\r\n  }\r\n};\r\n\r\nconst Footer = () => {\r\n  const [email, setEmail] = useState('');\r\n  const [hoveredElements, setHoveredElements] = useState({});\r\n  const [showBackToTop, setShowBackToTop] = useState(false);\r\n  const { isDarkMode, toggleTheme, colors } = useTheme();\r\n  const { currentLogo, loading: logoLoading } = useLogo();\r\n  const [isMobileMenuOpen, setIsMobileMenuOpen] = useState(false);\r\n  const [status, setStatus] = useState(null);\r\n\r\n  // Back to top visibility logic\r\n  useEffect(() => {\r\n    const handleScroll = () => {\r\n      const scrollTop = window.pageYOffset || document.documentElement.scrollTop;\r\n      setShowBackToTop(scrollTop > 400);\r\n    };\r\n\r\n    window.addEventListener('scroll', handleScroll);\r\n    return () => window.removeEventListener('scroll', handleScroll);\r\n  }, []);\r\n\r\n  const scrollToTop = () => {\r\n    window.scrollTo({\r\n      top: 0,\r\n      behavior: 'smooth'\r\n    });\r\n  };\r\n\r\n  const toggleMobileMenu = () => {\r\n    setIsMobileMenuOpen(!isMobileMenuOpen);\r\n  };\r\n\r\n  const handleMouseEnter = (element) => {\r\n    setHoveredElements(prev => ({ ...prev, [element]: true }));\r\n  };\r\n\r\n  const handleMouseLeave = (element) => {\r\n    setHoveredElements(prev => ({ ...prev, [element]: false }));\r\n  };\r\n   const handleSubscribe = async (e) => {\r\n  e.preventDefault(); //  stop form reload\r\n  const result = await subscribeToNewsletter(email);\r\n  setStatus(result.message);\r\n  setEmail(\"\"); // optional: clear input\r\n};\r\n\r\n\r\n  const quickLinks = [\r\n    { name: 'About', path: '/about-us' },\r\n    { name: 'Contact', path: '/contact-us' },\r\n        { name: 'Careers', path: '/jobs' },\r\n                { name: 'Events', path: '/events' },\r\n                                { name: 'Countries', path: '/countries' },\r\n                                                { name: 'Projects', path: '/projectscatalogue' }\r\n\r\n\r\n\r\n\r\n  ];\r\n  \r\n  const socialLinks = [\r\n    { icon: Facebook, url: 'https://facebook.com/ACEFoundation', label: 'Facebook' },\r\n    { icon: Twitter, url: 'https://twitter.com/ACEFoundation', label: 'Twitter' },\r\n    { icon: Linkedin, url: 'https://linkedin.com/company/ace-foundation', label: 'LinkedIn' },\r\n    { icon: Instagram, url: 'https://instagram.com/ACEFoundation', label: 'Instagram' }\r\n  ];\r\n\r\n  // Render mobile logo\r\n  const renderMobileLogo = () => {\r\n    if (currentLogo?.full_url) {\r\n      return (\r\n        <>\r\n          <img \r\n            src={currentLogo.full_url} \r\n            alt={currentLogo.alt_text || 'ACEF Logo'}\r\n            style={{\r\n              width: '32px',\r\n              height: '32px',\r\n              objectFit: 'contain'\r\n            }}\r\n            onError={(e) => {\r\n              // Fallback to TreePine icon if image fails to load\r\n              e.target.style.display = 'none';\r\n              e.target.nextSibling.style.display = 'block';\r\n            }}\r\n          />\r\n          <TreePine \r\n            size={32} \r\n            style={{ \r\n              color: colors.primary,\r\n              display: 'none'\r\n            }} \r\n          />\r\n        </>\r\n      );\r\n    }\r\n\r\n    // Fallback to TreePine icon\r\n    return <TreePine size={32} style={{ color: colors.primary }} />;\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {/* Back to Top Button */}\r\n      <button\r\n        style={{\r\n          ...styles.backToTop,\r\n          ...(showBackToTop ? styles.backToTopVisible : {}),\r\n          ...(hoveredElements.backToTop ? styles.backToTopHover : {})\r\n        }}\r\n        onClick={scrollToTop}\r\n        onMouseEnter={() => handleMouseEnter('backToTop')}\r\n        onMouseLeave={() => handleMouseLeave('backToTop')}\r\n        aria-label=\"Back to top\"\r\n      >\r\n        <ChevronUp style={{ width: '20px', height: '20px' }} />\r\n      </button>\r\n      \r\n      <footer style={styles.footer}>\r\n        {/* Background Effects */}\r\n        <div style={styles.backgroundEffects}></div>\r\n\r\n        <div style={styles.container}>\r\n          {/* Main horizontal section */}\r\n          <div style={styles.mainSection}>\r\n            \r\n            {/* Brand Section */}\r\n            <div style={styles.brandSection}>\r\n              <div style={styles.logoContainer}>\r\n                <div className={styles.mobileMenuHeader}>\r\n                  <div className={styles.mobileMenuBrand}>\r\n                    {renderMobileLogo()}\r\n                  </div>\r\n                  <logoIcon\r\n                    onClick={toggleMobileMenu}\r\n                    style={{ color: colors.text }}\r\n                  >\r\n                    <X size={2} />\r\n                  </logoIcon>\r\n                </div>\r\n              </div>\r\n              <p style={styles.brandDescription}>\r\n                Empowering grassroots communities for sustainable environmental change across Africa.\r\n              </p>\r\n            </div>\r\n\r\n            {/* Quick Links */}\r\n            <div style={styles.linksSection}>\r\n              {quickLinks.map((link, index) => (\r\n                <Link\r\n                  key={index}\r\n                  to={link.path}\r\n                  style={{\r\n                    ...styles.linkItem,\r\n                    ...(hoveredElements[`link-${index}`] ? styles.linkItemHover : {})\r\n                  }}\r\n                  onMouseEnter={() => handleMouseEnter(`link-${index}`)}\r\n                  onMouseLeave={() => handleMouseLeave(`link-${index}`)}\r\n                >\r\n                  {link.name}\r\n                  <div style={{\r\n                    ...styles.linkUnderline,\r\n                    ...(hoveredElements[`link-${index}`] ? styles.linkUnderlineHover : {})\r\n                  }}></div>\r\n                </Link>\r\n              ))}\r\n            </div>\r\n\r\n            {/* Newsletter */}\r\n            <div style={styles.newsletterSection}>\r\n              <span style={styles.newsletterText}>Stay Updated:</span>\r\n              <div style={styles.newsletterForm}>\r\n                <form \r\n    onSubmit={handleSubscribe} \r\n    style={{ display: \"flex\", gap: \"0.5rem\" }}\r\n  >\r\n\r\n                <input\r\n                  type=\"email\"\r\n                  value={email}\r\n                  onChange={(e) => setEmail(e.target.value)}\r\n                  placeholder=\"your@email.com\"\r\n                  style={styles.emailInput}\r\n                />\r\n                <button \r\n                  style={{\r\n                    ...styles.submitButton,\r\n                    ...(hoveredElements.submit ? styles.submitButtonHover : {})\r\n                  }}\r\n                  onMouseEnter={() => handleMouseEnter('submit')}\r\n                  onMouseLeave={() => handleMouseLeave('submit')}\r\n                >\r\n                  <Send style={{ width: '14px', height: '14px' }} />\r\n                </button>\r\n                  </form>\r\n\r\n              </div>\r\n              \r\n            </div>\r\n          </div>\r\n\r\n          {/* Bottom Section */}\r\n          <div style={styles.bottomSection}>\r\n            <div style={styles.leftBottom}>\r\n              <div style={styles.copyright}>\r\n                 {new Date().getFullYear()} Africa Climate and Environment Foundation. All rights reserved.\r\n              </div>\r\n              \r\n              {/* Legal Links */}\r\n              <div style={styles.legalLinks}>\r\n                <Link\r\n                  to=\"/privacy-policy\"\r\n                  style={{\r\n                    ...styles.legalLink,\r\n                    ...(hoveredElements.privacy ? styles.legalLinkHover : {})\r\n                  }}\r\n                  onMouseEnter={() => handleMouseEnter('privacy')}\r\n                  onMouseLeave={() => handleMouseLeave('privacy')}\r\n                >\r\n                  Privacy Policy\r\n                </Link>\r\n                <Link\r\n                  to=\"/terms-of-service\"\r\n                  style={{\r\n                    ...styles.legalLink,\r\n                    ...(hoveredElements.terms ? styles.legalLinkHover : {})\r\n                  }}\r\n                  onMouseEnter={() => handleMouseEnter('terms')}\r\n                  onMouseLeave={() => handleMouseLeave('terms')}\r\n                >\r\n                  Terms of Service\r\n                </Link>\r\n              </div>\r\n            </div>\r\n\r\n            <div style={styles.bottomRight}>\r\n              <div style={styles.socialLinks}>\r\n                {socialLinks.map((social, index) => {\r\n                  const IconComponent = social.icon;\r\n                  return (\r\n                    <a\r\n                      key={index}\r\n                      href={social.url}\r\n                      target=\"_blank\"\r\n                      rel=\"noopener noreferrer\"\r\n                      aria-label={social.label}\r\n                      style={{\r\n                        ...styles.socialLink,\r\n                        ...(hoveredElements[`social-${index}`] ? styles.socialLinkHover : {})\r\n                      }}\r\n                      onMouseEnter={() => handleMouseEnter(`social-${index}`)}\r\n                      onMouseLeave={() => handleMouseLeave(`social-${index}`)}\r\n                    >\r\n                      <IconComponent size={16} />\r\n                    </a>\r\n                  );\r\n                })}\r\n              </div>\r\n              \r\n              <div style={styles.badges}>\r\n                <div style={{ ...styles.badge, ...styles.carbonBadge }}>\r\n                   Carbon Neutral\r\n                </div>\r\n                <div style={{ ...styles.badge, ...styles.impactBadge }}>\r\n                   Impact Driven\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </footer>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Footer;","import React, { useState } from 'react';\r\nimport { motion } from 'framer-motion';\r\nimport { useTheme } from '../theme';\r\nimport { subscribeToNewsletter, validateEmail } from '../services/newsletterService';\r\n\r\nconst MailList = () => {\r\n  const [email, setEmail] = useState('');\r\n  const [isSubmitting, setIsSubmitting] = useState(false);\r\n  const [submitStatus, setSubmitStatus] = useState(null);\r\n  const [message, setMessage] = useState('');\r\n  const { colors, isDarkMode } = useTheme();\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    \r\n    const trimmedEmail = email.trim();\r\n    \r\n    // Clear previous messages\r\n    setMessage('');\r\n    setSubmitStatus(null);\r\n    \r\n    // Basic validation\r\n    if (!trimmedEmail) {\r\n      setSubmitStatus('error');\r\n      setMessage('Please enter an email address.');\r\n      setTimeout(() => setSubmitStatus(null), 3000);\r\n      return;\r\n    }\r\n\r\n    // Use service validation\r\n    const validation = validateEmail(trimmedEmail);\r\n    if (!validation.isValid) {\r\n      setSubmitStatus('error');\r\n      setMessage(validation.message);\r\n      setTimeout(() => setSubmitStatus(null), 3000);\r\n      return;\r\n    }\r\n\r\n    setIsSubmitting(true);\r\n    \r\n    try {\r\n      const result = await subscribeToNewsletter(trimmedEmail);\r\n      \r\n      if (result.success) {\r\n        setSubmitStatus('success');\r\n        setMessage(result.message || 'Thank you for subscribing! Welcome to our community.');\r\n        setEmail('');\r\n      } else {\r\n        setSubmitStatus('error');\r\n        setMessage(result.message || 'Something went wrong. Please try again.');\r\n      }\r\n      \r\n    } catch (error) {\r\n      console.error('Subscription error:', error);\r\n      setSubmitStatus('error');\r\n      setMessage('Network error. Please check your connection and try again.');\r\n    } finally {\r\n      setIsSubmitting(false);\r\n    }\r\n\r\n    // Clear status after 5 seconds\r\n    setTimeout(() => {\r\n      setSubmitStatus(null);\r\n      setMessage('');\r\n    }, 5000);\r\n  };\r\n\r\n  return (\r\n    <section \r\n      className={`maillist-section ${isDarkMode ? 'dark' : 'light'}`}\r\n      style={{\r\n        padding: '60px 20px',\r\n        position: 'relative',\r\n        overflow: 'hidden',\r\n        background: isDarkMode \r\n          ? `linear-gradient(135deg, ${colors.secondary} 0%, ${colors.secondaryLight} 100%)`\r\n          : `linear-gradient(135deg, ${colors.secondary} 0%, ${colors.secondaryLight} 100%)`,\r\n        color: colors.black,\r\n        minHeight: '300px',\r\n        display: 'flex',\r\n        alignItems: 'center'\r\n      }}\r\n    >\r\n      <div \r\n        className=\"maillist-container\"\r\n        style={{\r\n          maxWidth: '1200px',\r\n          margin: '0 auto',\r\n          width: '100%',\r\n          position: 'relative',\r\n          zIndex: 2\r\n        }}\r\n      >\r\n        <div \r\n          className=\"maillist-content\"\r\n          style={{\r\n            display: 'grid',\r\n            gridTemplateColumns: window.innerWidth <= 968 ? '1fr' : '1fr 1fr',\r\n            gap: window.innerWidth <= 968 ? '40px' : '60px',\r\n            alignItems: 'center',\r\n            textAlign: window.innerWidth <= 968 ? 'center' : 'left'\r\n          }}\r\n        >\r\n          <div \r\n            className=\"maillist-text\"\r\n            style={{ maxWidth: '500px' }}\r\n          >\r\n            <motion.h2 \r\n              className=\"maillist-title\"\r\n              style={{\r\n                fontSize: window.innerWidth <= 480 ? '1.6rem' : window.innerWidth <= 768 ? '1.8rem' : window.innerWidth <= 968 ? '2rem' : '2.5rem',\r\n                fontWeight: 700,\r\n                marginBottom: '20px',\r\n                lineHeight: 1.2,\r\n                color: colors.black\r\n              }}\r\n              initial={{ opacity: 0, y: 30 }}\r\n              whileInView={{ opacity: 1, y: 0 }}\r\n              transition={{ duration: 0.6 }}\r\n              viewport={{ once: false }}\r\n            >\r\n              Stay Updated on Climate Action\r\n            </motion.h2>\r\n            <motion.p \r\n              className=\"maillist-description\"\r\n              style={{\r\n                fontSize: window.innerWidth <= 768 ? '1rem' : '1.1rem',\r\n                lineHeight: 1.6,\r\n                color: 'rgba(0, 0, 0, 0.8)',\r\n                marginBottom: 0\r\n              }}\r\n              initial={{ opacity: 0, y: 20 }}\r\n              whileInView={{ opacity: 1, y: 0 }}\r\n              transition={{ duration: 0.6, delay: 0.2 }}\r\n              viewport={{ once: false }}\r\n            >\r\n              Join our community of environmental champions. Get the latest insights, \r\n              impact stories, and opportunities to make a difference delivered to your inbox.\r\n            </motion.p>\r\n          </div>\r\n\r\n          <motion.div \r\n            className=\"maillist-form-container\"\r\n            style={{\r\n              background: 'rgba(0, 0, 0, 0.1)',\r\n              backdropFilter: 'blur(10px)',\r\n              border: '1px solid rgba(0, 0, 0, 0.2)',\r\n              borderRadius: '16px',\r\n              padding: window.innerWidth <= 480 ? '25px 15px' : window.innerWidth <= 768 ? '30px 20px' : '40px',\r\n              maxWidth: '450px',\r\n              marginLeft: window.innerWidth <= 968 ? '0' : 'auto',\r\n              marginRight: '0',\r\n              width: '100%'\r\n            }}\r\n            initial={{ opacity: 0, scale: 0.9 }}\r\n            whileInView={{ opacity: 1, scale: 1 }}\r\n            transition={{ duration: 0.6, delay: 0.4 }}\r\n            viewport={{ once: false }}\r\n          >\r\n            <form \r\n              className=\"maillist-form\"\r\n              onSubmit={handleSubmit}\r\n              style={{ marginBottom: '16px' }}\r\n            >\r\n              <div \r\n                className=\"input-wrapper\"\r\n                style={{\r\n                  display: 'flex',\r\n                  flexDirection: 'column',\r\n                  gap: window.innerWidth <= 768 ? '12px' : '16px'\r\n                }}\r\n              >\r\n                <input\r\n                  type=\"email\"\r\n                  value={email}\r\n                  onChange={(e) => setEmail(e.target.value)}\r\n                  placeholder=\"Enter your email address\"\r\n                  style={{\r\n                    padding: window.innerWidth <= 768 ? '14px 18px' : '16px 20px',\r\n                    border: '2px solid rgba(0, 0, 0, 0.3)',\r\n                    borderRadius: '12px',\r\n                    background: 'rgba(255, 255, 255, 0.9)',\r\n                    color: colors.gray900,\r\n                    fontSize: window.innerWidth <= 768 ? '0.95rem' : '1rem',\r\n                    fontWeight: 500,\r\n                    outline: 'none',\r\n                    transition: 'all 0.3s ease',\r\n                    width: '100%',\r\n                    boxSizing: 'border-box'\r\n                  }}\r\n                  onFocus={(e) => {\r\n                    e.target.style.borderColor = colors.primaryDark;\r\n                    e.target.style.background = colors.white;\r\n                  }}\r\n                  onBlur={(e) => {\r\n                    e.target.style.borderColor = 'rgba(0, 0, 0, 0.3)';\r\n                    e.target.style.background = 'rgba(255, 255, 255, 0.9)';\r\n                  }}\r\n                  disabled={isSubmitting}\r\n                  required\r\n                />\r\n                <motion.button\r\n                  type=\"submit\"\r\n                  style={{\r\n                    padding: window.innerWidth <= 768 ? '14px 18px' : '16px 32px',\r\n                    background: isDarkMode \r\n                      ? `linear-gradient(135deg, ${colors.primaryDark} 0%, ${colors.black} 100%)`\r\n                      : `linear-gradient(135deg, ${colors.primary} 0%, ${colors.primaryDark} 100%)`,\r\n                    color: colors.white,\r\n                    border: 'none',\r\n                    borderRadius: '12px',\r\n                    fontSize: window.innerWidth <= 768 ? '0.95rem' : '1rem',\r\n                    fontWeight: 600,\r\n                    cursor: isSubmitting ? 'not-allowed' : 'pointer',\r\n                    transition: 'all 0.3s ease',\r\n                    position: 'relative',\r\n                    overflow: 'hidden',\r\n                    opacity: isSubmitting ? 0.7 : 1,\r\n                    display: 'flex',\r\n                    alignItems: 'center',\r\n                    justifyContent: 'center'\r\n                  }}\r\n                  disabled={isSubmitting}\r\n                  whileHover={{ scale: isSubmitting ? 1 : 1.05 }}\r\n                  whileTap={{ scale: isSubmitting ? 1 : 0.98 }}\r\n                >\r\n                  {isSubmitting ? (\r\n                    <div \r\n                      style={{\r\n                        width: '20px',\r\n                        height: '20px',\r\n                        border: `2px solid rgba(255, 255, 255, 0.3)`,\r\n                        borderTop: `2px solid ${colors.white}`,\r\n                        borderRadius: '50%',\r\n                        animation: 'spin 1s linear infinite'\r\n                      }}\r\n                    />\r\n                  ) : (\r\n                    'Subscribe'\r\n                  )}\r\n                </motion.button>\r\n              </div>\r\n            </form>\r\n              \r\n            {submitStatus && (\r\n              <motion.div\r\n                style={{\r\n                  marginTop: '12px',\r\n                  padding: '12px',\r\n                  borderRadius: '8px',\r\n                  fontSize: '0.9rem',\r\n                  fontWeight: 500,\r\n                  textAlign: 'center',\r\n                  background: submitStatus === 'success' \r\n                    ? 'rgba(16, 185, 129, 0.2)' \r\n                    : 'rgba(239, 68, 68, 0.2)',\r\n                  color: submitStatus === 'success' ? '#10b981' : '#ef4444',\r\n                  border: submitStatus === 'success' \r\n                    ? '1px solid rgba(16, 185, 129, 0.3)' \r\n                    : '1px solid rgba(239, 68, 68, 0.3)'\r\n                }}\r\n                initial={{ opacity: 0, y: 10 }}\r\n                animate={{ opacity: 1, y: 0 }}\r\n                exit={{ opacity: 0, y: -10 }}\r\n              >\r\n                {message}\r\n              </motion.div>\r\n            )}\r\n            \r\n            <p \r\n              style={{\r\n                color: 'rgba(0, 0, 0, 0.6)',\r\n                fontSize: '0.85rem',\r\n                textAlign: 'center',\r\n                margin: '12px 0 0 0'\r\n              }}\r\n            >\r\n              We respect your privacy. Unsubscribe at any time.\r\n            </p>\r\n          </motion.div>\r\n        </div>\r\n      </div>\r\n\r\n      <style jsx>{`\r\n        @keyframes spin {\r\n          0% { transform: rotate(0deg); }\r\n          100% { transform: rotate(360deg); }\r\n        }\r\n      `}</style>\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default MailList;","import React, { useEffect, useState, useRef, useCallback } from 'react';\r\nimport {\r\n  Calendar, Search, Star, ArrowRight, Clock, Tag, Sparkles,\r\n  TrendingUp, Volume2, Square, Grid3X3, List,\r\n  Video, ChevronDown, ChevronUp, AlignCenter, Newspaper, BookOpen\r\n} from 'lucide-react';\r\nimport { useTheme } from '../../theme';\r\nimport Header from '../../components/Header';\r\nimport Footer from '../../components/Footer';\r\nimport MailList from '../../components/MailList';\r\n\r\n// Configuration\r\nconst API_URL = process.env.REACT_APP_API_URL || 'http://localhost:5000/api';\r\nconst STATIC_URL = process.env.REACT_APP_STATIC_URL || 'http://localhost:5000';\r\nconst API_BASE = API_URL;\r\n\r\n// Constants for pagination\r\nconst INITIAL_ARTICLES_PER_PAGE = 6;\r\nconst ARTICLES_LOAD_INCREMENT = 6;\r\nconst INITIAL_VIDEOS_PER_PAGE = 3;\r\nconst VIDEOS_LOAD_INCREMENT = 3;\r\n\r\n// Default placeholder image as base64 data URL\r\nconst DEFAULT_IMAGE =\r\n  \"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='400' height='300' viewBox='0 0 400 300'%3E%3Crect width='400' height='300' fill='%23e3f2fd'/%3E%3Ccircle cx='320' cy='60' r='35' fill='%23ffeb3b'/%3E%3Cpath d='M0 200 Q100 140 200 200 T400 200 V300 H0 Z' fill='%23a5d6a7'/%3E%3Cpath d='M0 230 Q120 170 250 230 T400 230 V300 H0 Z' fill='%238bc34a'/%3E%3Crect x='90' y='150' width='18' height='70' fill='%236d4c41'/%3E%3Ccircle cx='99' cy='140' r='40' fill='%234caf50'/%3E%3Crect x='280' y='160' width='16' height='60' fill='%236d4c41'/%3E%3Ccircle cx='288' cy='145' r='35' fill='%23389e3c'/%3E%3C/svg%3E\";\r\n\r\nconst getImageUrl = (filename) => {\r\n  if (!filename) return DEFAULT_IMAGE;\r\n  \r\n  let cleanFilename = filename;\r\n  cleanFilename = cleanFilename.replace(/^\\/+/, '');\r\n  cleanFilename = cleanFilename.replace(/^uploads\\//, '');\r\n  cleanFilename = cleanFilename.replace(/^blogs\\//, '');\r\n  \r\n  const fullUrl = `${STATIC_URL}/uploads/blogs/${cleanFilename}`;\r\n  return fullUrl;\r\n};\r\n\r\nconst BlogUserPage = () => {\r\n  const { colors, isDarkMode } = useTheme();\r\n  const [content, setContent] = useState([]);\r\n  const [filteredContent, setFilteredContent] = useState([]);\r\n  const [searchTerm, setSearchTerm] = useState('');\r\n  const [filter, setFilter] = useState('all');\r\n  const [selectedArticle, setSelectedArticle] = useState(null);\r\n  const [isReading, setIsReading] = useState(false);\r\n  const [readingId, setReadingId] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  const [viewedArticles, setViewedArticles] = useState(new Set());\r\n  const [activeSection, setActiveSection] = useState('all');\r\n  const [viewMode, setViewMode] = useState('grid');\r\n  const [sortBy, setSortBy] = useState('recent');\r\n  \r\n  // Incremental pagination states\r\n  const [visibleArticles, setVisibleArticles] = useState(INITIAL_ARTICLES_PER_PAGE);\r\n  const [visibleVideos, setVisibleVideos] = useState(INITIAL_VIDEOS_PER_PAGE);\r\n  \r\n  // Video integration\r\n  const [videoData, setVideoData] = useState(null);\r\n  const [videoLoading, setVideoLoading] = useState(true);\r\n  const [showVideoPlayer, setShowVideoPlayer] = useState(false);\r\n  const [allVideos, setAllVideos] = useState([]);\r\n  const [videosLoading, setVideosLoading] = useState(true);\r\n  const [filteredVideos, setFilteredVideos] = useState([]);\r\n  \r\n  // Audio management - Enhanced refs\r\n  const currentUtteranceRef = useRef(null);\r\n  const audioTimeoutRef = useRef(null);\r\n  const isAudioInitializedRef = useRef(false);\r\n  const speechCancelledRef = useRef(false);\r\n\r\n  // Video utility functions - memoized with useCallback\r\n  const getYouTubeVideoId = useCallback((url) => {\r\n    if (!url) return null;\r\n    \r\n    const regExp = /^.*(youtu.be\\/|v\\/|u\\/\\w\\/|embed\\/|watch\\?v=|&v=)([^#&?]*).*/;\r\n    const match = url.match(regExp);\r\n    \r\n    return (match && match[2].length === 11) ? match[2] : null;\r\n  }, []);\r\n\r\n  const getEmbedUrl = useCallback((videoData) => {\r\n    if (!videoData) return null;\r\n    \r\n    // Check for different URL fields\r\n    const url = videoData.youtube_url || videoData.video_url || videoData.url;\r\n    if (!url) return null;\r\n    \r\n    // If it's already an embed URL, return it\r\n    if (url.includes('embed')) {\r\n      return url;\r\n    }\r\n    \r\n    // If it's a YouTube URL, convert to embed\r\n    const videoId = getYouTubeVideoId(url);\r\n    if (videoId) {\r\n      return `https://www.youtube.com/embed/${videoId}?autoplay=0&rel=0&modestbranding=1`;\r\n    }\r\n    \r\n    // For other video formats, return as is\r\n    return url;\r\n  }, [getYouTubeVideoId]);\r\n\r\n  // Enhanced audio cleanup function with better error handling\r\n  const cleanupAudio = useCallback(() => {\r\n    try {\r\n      // Set cancellation flag to prevent error alerts\r\n      speechCancelledRef.current = true;\r\n      \r\n      // Clear any existing timeouts\r\n      if (audioTimeoutRef.current) {\r\n        clearTimeout(audioTimeoutRef.current);\r\n        audioTimeoutRef.current = null;\r\n      }\r\n\r\n      // Cancel any ongoing speech with proper error handling\r\n      if (window.speechSynthesis) {\r\n        // Cancel current speech\r\n        window.speechSynthesis.cancel();\r\n        \r\n        // Wait a moment and cancel again if still speaking\r\n        setTimeout(() => {\r\n          if (window.speechSynthesis.speaking || window.speechSynthesis.pending) {\r\n            window.speechSynthesis.cancel();\r\n          }\r\n          // Reset cancellation flag after cleanup\r\n          setTimeout(() => {\r\n            speechCancelledRef.current = false;\r\n          }, 500);\r\n        }, 100);\r\n      }\r\n\r\n      // Reset states\r\n      setIsReading(false);\r\n      setReadingId(null);\r\n      currentUtteranceRef.current = null;\r\n      isAudioInitializedRef.current = false;\r\n      \r\n    } catch (error) {\r\n      console.error('Error during audio cleanup:', error);\r\n      // Force reset states even if cleanup fails\r\n      setIsReading(false);\r\n      setReadingId(null);\r\n      currentUtteranceRef.current = null;\r\n      speechCancelledRef.current = false;\r\n    }\r\n  }, []);\r\n\r\n  // Fetch video data\r\n  useEffect(() => {\r\n    const fetchVideoData = async () => {\r\n      try {\r\n        setVideoLoading(true);\r\n        const response = await fetch(`${API_URL}/video-sections/latest`);\r\n        const data = await response.json();\r\n        \r\n        if (data.success && data.data) {\r\n          // Validate that we have usable video data\r\n          const embedUrl = getEmbedUrl(data.data);\r\n          if (embedUrl) {\r\n            setVideoData({\r\n              ...data.data,\r\n              embedUrl\r\n            });\r\n          } else {\r\n            console.warn('No valid video URL found in data:', data.data);\r\n          }\r\n        } else {\r\n          console.warn('Video data fetch failed:', data.message || 'No video data');\r\n        }\r\n      } catch (err) {\r\n        console.error('Error fetching video data:', err);\r\n      } finally {\r\n        setVideoLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchVideoData();\r\n  }, [getEmbedUrl]);\r\n\r\n  // Fetch all videos\r\n  useEffect(() => {\r\n    const fetchAllVideos = async () => {\r\n      try {\r\n        setVideosLoading(true);\r\n        const response = await fetch(`${API_URL}/video-sections`);\r\n        const data = await response.json();\r\n        \r\n        if (data.success && Array.isArray(data.data)) {\r\n          const processedVideos = data.data.map(video => ({\r\n            ...video,\r\n            embedUrl: getEmbedUrl(video),\r\n            // Add searchable text for videos\r\n            searchText: `${video.title || ''} ${video.description || ''} ${video.tag || ''}`.toLowerCase()\r\n          })).filter(video => video.embedUrl);\r\n          \r\n          setAllVideos(processedVideos);\r\n        } else {\r\n          console.warn('Videos fetch failed:', data.message || 'No videos data');\r\n        }\r\n      } catch (err) {\r\n        console.error('Error fetching all videos:', err);\r\n      } finally {\r\n        setVideosLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchAllVideos();\r\n  }, [getEmbedUrl]);\r\n\r\n  // Enhanced cleanup on component unmount and visibility changes\r\n  useEffect(() => {\r\n    const handleBeforeUnload = () => {\r\n      cleanupAudio();\r\n    };\r\n\r\n    const handleVisibilityChange = () => {\r\n      if (document.hidden && (isReading || window.speechSynthesis?.speaking)) {\r\n        cleanupAudio();\r\n      }\r\n    };\r\n\r\n    const handlePageHide = () => {\r\n      cleanupAudio();\r\n    };\r\n\r\n    // Add multiple event listeners for comprehensive cleanup\r\n    window.addEventListener('beforeunload', handleBeforeUnload);\r\n    document.addEventListener('visibilitychange', handleVisibilityChange);\r\n    window.addEventListener('pagehide', handlePageHide);\r\n\r\n    return () => {\r\n      window.removeEventListener('beforeunload', handleBeforeUnload);\r\n      document.removeEventListener('visibilitychange', handleVisibilityChange);\r\n      window.removeEventListener('pagehide', handlePageHide);\r\n      cleanupAudio();\r\n    };\r\n  }, [isReading, cleanupAudio]);\r\n\r\n  const trackView = useCallback(async (articleId) => {\r\n    if (viewedArticles.has(articleId)) return;\r\n\r\n    try {\r\n      const response = await fetch(`${API_BASE}/blogs/${articleId}/view`, {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        credentials: 'include'\r\n      });\r\n      \r\n      if (response.ok) {\r\n        setViewedArticles(prev => new Set([...prev, articleId]));\r\n        setContent(prev => prev.map(article => \r\n          article.id === articleId \r\n            ? { ...article, views: (article.views || 0) + 1 }\r\n            : article\r\n        ));\r\n      }\r\n    } catch (error) {\r\n      console.error('Failed to track view:', error);\r\n    }\r\n  }, [viewedArticles]);\r\n\r\n  const fetchArticles = useCallback(async (silent = false) => {\r\n    try {\r\n      if (!silent) {\r\n        setLoading(true);\r\n        setError(null);\r\n      }\r\n      \r\n      const endpoints = ['/blogs', '/blogs/published', '/articles'];\r\n      let response = null;\r\n      \r\n      for (const endpoint of endpoints) {\r\n        try {\r\n          const fullUrl = `${API_BASE}${endpoint}`;\r\n          response = await fetch(fullUrl, {\r\n            method: 'GET',\r\n            headers: {\r\n              'Content-Type': 'application/json',\r\n              'Accept': 'application/json'\r\n            },\r\n            credentials: 'include'\r\n          });\r\n          \r\n          if (response.ok) {\r\n            break;\r\n          }\r\n        } catch (endpointError) {\r\n          console.error(`Endpoint ${endpoint} failed:`, endpointError);\r\n        }\r\n      }\r\n      \r\n      if (!response || !response.ok) {\r\n        throw new Error(`Failed to fetch articles. Status: ${response?.status || 'N/A'}`);\r\n      }\r\n      \r\n      const responseText = await response.text();\r\n      let data;\r\n      \r\n      try {\r\n        data = JSON.parse(responseText);\r\n      } catch (parseError) {\r\n        throw new Error(`Failed to parse response: ${parseError.message}`);\r\n      }\r\n      \r\n      let articlesArray = [];\r\n      if (Array.isArray(data)) {\r\n        articlesArray = data;\r\n      } else if (data?.data && Array.isArray(data.data)) {\r\n        articlesArray = data.data;\r\n      } else if (data?.articles && Array.isArray(data.articles)) {\r\n        articlesArray = data.articles;\r\n      } else if (data?.blogs && Array.isArray(data.blogs)) {\r\n        articlesArray = data.blogs;\r\n      }\r\n      \r\n      // Filter for published articles and process them\r\n      const publishedArticles = articlesArray.filter(blog => \r\n        blog.status === 'published' || \r\n        blog.is_published === true || \r\n        blog.published === true ||\r\n        (!blog.status && !blog.is_published && !blog.published)\r\n      );\r\n      \r\n      const processedArticles = publishedArticles.map(blog => {\r\n        return {\r\n          ...blog,\r\n          id: blog.id || blog._id || Math.random().toString(36),\r\n          title: blog.title || 'Untitled Article',\r\n          excerpt: blog.excerpt || blog.summary || '',\r\n          content: blog.content || blog.body || '',\r\n          featured_image: blog.featured_image || blog.image || blog.thumbnail || '',\r\n          created_at: blog.created_at || blog.createdAt || new Date().toISOString(),\r\n          published_at: blog.published_at || blog.publishedAt || blog.created_at || blog.createdAt,\r\n          is_featured: blog.is_featured || blog.featured || false,\r\n          is_news: blog.is_news || blog.category === 'news' || blog.type === 'news' || false,\r\n          views: blog.views || Math.floor(Math.random() * 500) + 50,\r\n          tags: blog.tags || [],\r\n          likes: blog.likes || Math.floor(Math.random() * 100),\r\n          comments: blog.comments || Math.floor(Math.random() * 20),\r\n          // Add searchable text\r\n          searchText: `${blog.title || ''} ${blog.excerpt || ''} ${blog.content || ''} ${(blog.tags || []).join(' ')}`.toLowerCase()\r\n        };\r\n      });\r\n\r\n      setContent(processedArticles);\r\n      \r\n      if (!silent) {\r\n        console.log('Successfully fetched articles:', processedArticles);\r\n      }\r\n      \r\n    } catch (err) {\r\n      console.error('Failed to fetch articles:', err);\r\n      \r\n      if (!silent) {\r\n        setError(`Error loading articles: ${err.message}`);\r\n      }\r\n    } finally {\r\n      if (!silent) setLoading(false);\r\n    }\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    fetchArticles();\r\n  }, [fetchArticles]);\r\n\r\n  // Enhanced filtering logic for articles and videos\r\n  useEffect(() => {\r\n    let filteredArticles = [...content];\r\n    let filteredVids = [...allVideos];\r\n\r\n    // Section filter for articles\r\n    if (activeSection === 'blogs') {\r\n      filteredArticles = filteredArticles.filter(i => !i.is_news);\r\n    } else if (activeSection === 'news') {\r\n      filteredArticles = filteredArticles.filter(i => i.is_news);\r\n    } else if (activeSection === 'featured') {\r\n      filteredArticles = filteredArticles.filter(i => i.is_featured);\r\n    }\r\n    // 'all' shows everything\r\n\r\n    // Content filter for articles\r\n    if (filter === 'recent') {\r\n      const weekAgo = new Date();\r\n      weekAgo.setDate(weekAgo.getDate() - 7);\r\n      filteredArticles = filteredArticles.filter(i => new Date(i.published_at || i.created_at) >= weekAgo);\r\n    } else if (filter === 'popular') {\r\n      filteredArticles = filteredArticles.filter(i => i.views > 100);\r\n    } else if (filter === 'trending') {\r\n      filteredArticles = filteredArticles.filter(i => i.likes > 50 || i.comments > 10);\r\n    }\r\n\r\n    // Search filter for both articles and videos\r\n    if (searchTerm) {\r\n      const lower = searchTerm.toLowerCase();\r\n      \r\n      // Filter articles\r\n      filteredArticles = filteredArticles.filter(i =>\r\n        i.searchText.includes(lower)\r\n      );\r\n      \r\n      // Filter videos\r\n      filteredVids = filteredVids.filter(video =>\r\n        video.searchText.includes(lower)\r\n      );\r\n    }\r\n\r\n    // Sort articles\r\n    filteredArticles.sort((a, b) => {\r\n      if (sortBy === 'recent') {\r\n        return new Date(b.published_at || b.created_at) - new Date(a.published_at || a.created_at);\r\n      } else if (sortBy === 'popular') {\r\n        return (b.views || 0) - (a.views || 0);\r\n      } else if (sortBy === 'title') {\r\n        return a.title.localeCompare(b.title);\r\n      }\r\n      return 0;\r\n    });\r\n\r\n    // Sort videos by date\r\n    filteredVids.sort((a, b) => new Date(b.created_at || new Date()) - new Date(a.created_at || new Date()));\r\n\r\n    setFilteredContent(filteredArticles);\r\n    setFilteredVideos(filteredVids);\r\n    \r\n    // Reset pagination when content changes\r\n    setVisibleArticles(INITIAL_ARTICLES_PER_PAGE);\r\n    setVisibleVideos(INITIAL_VIDEOS_PER_PAGE);\r\n  }, [searchTerm, filter, content, activeSection, sortBy, allVideos]);\r\n\r\n  // Add this to your BlogUserPage component, after your existing useEffect hooks\r\n  useEffect(() => {\r\n    const urlParams = new URLSearchParams(window.location.search);\r\n    const articleId = urlParams.get('article');\r\n    const section = urlParams.get('section');\r\n    \r\n    // Handle article selection\r\n    if (articleId && content.length > 0) {\r\n      const article = content.find(item => item.id === articleId);\r\n      if (article) {\r\n        setSelectedArticle(article);\r\n        trackView(article.id);\r\n      }\r\n    }\r\n    \r\n    // Handle section filtering\r\n    if (section) {\r\n      setActiveSection(section);\r\n    }\r\n  }, [content, trackView]);\r\n\r\n  const handleArticleClick = useCallback(async (article) => {\r\n    // Clean up any ongoing audio before navigation\r\n    cleanupAudio();\r\n    \r\n    await trackView(article.id);\r\n    setSelectedArticle(article);\r\n  }, [trackView, cleanupAudio]);\r\n\r\n  // Enhanced voice function with auto-open functionality\r\n  const handleVoice = useCallback(async (article) => {\r\n    // Check if speech synthesis is available\r\n    if (!window.speechSynthesis) {\r\n      alert('Speech synthesis is not supported in your browser.');\r\n      return;\r\n    }\r\n\r\n    // If article is not open, open it first\r\n    if (!selectedArticle || selectedArticle.id !== article.id) {\r\n      await trackView(article.id);\r\n      setSelectedArticle(article);\r\n    }\r\n\r\n    // If currently reading this article, stop it\r\n    if (readingId === article.id && isReading) {\r\n      cleanupAudio();\r\n      return;\r\n    }\r\n\r\n    // Clean up any existing audio first\r\n    cleanupAudio();\r\n\r\n    // Wait for cleanup to complete before starting new speech\r\n    setTimeout(() => {\r\n      // Reset cancellation flag\r\n      speechCancelledRef.current = false;\r\n\r\n      // Prepare text to read\r\n      let textToRead = '';\r\n      if (article.title) textToRead += article.title + '. ';\r\n      if (article.excerpt) textToRead += article.excerpt + '. ';\r\n      if (article.content) textToRead += article.content;\r\n      \r\n      // Clean and limit the text\r\n      const cleanText = textToRead\r\n        .replace(/<[^>]*>/g, ' ') // Remove HTML tags\r\n        .replace(/[^\\w\\s.,!?;:'-]/g, ' ') // Keep basic punctuation\r\n        .replace(/\\s+/g, ' ') // Normalize whitespace\r\n        .trim()\r\n        .substring(0, 1000); // Increased limit for better experience\r\n\r\n      if (!cleanText) {\r\n        alert('No text content available to read.');\r\n        return;\r\n      }\r\n\r\n      try {\r\n        const utterance = new SpeechSynthesisUtterance(cleanText);\r\n        \r\n        // Configure utterance with optimized settings\r\n        utterance.rate = 0.9;\r\n        utterance.pitch = 1.0;\r\n        utterance.volume = 0.8;\r\n        utterance.lang = 'en-US';\r\n        \r\n        // Enhanced event handlers with better state management\r\n        utterance.onstart = () => {\r\n          console.log('Speech started for:', article.title);\r\n          if (!speechCancelledRef.current) {\r\n            setIsReading(true);\r\n            setReadingId(article.id);\r\n            currentUtteranceRef.current = utterance;\r\n            isAudioInitializedRef.current = true;\r\n          }\r\n        };\r\n        \r\n        utterance.onend = () => {\r\n          console.log('Speech ended for:', article.title);\r\n          // Always reset states on end, regardless of cancellation\r\n          setIsReading(false);\r\n          setReadingId(null);\r\n          currentUtteranceRef.current = null;\r\n          isAudioInitializedRef.current = false;\r\n        };\r\n        \r\n        utterance.onerror = (event) => {\r\n          console.error('Speech error:', event.error, event);\r\n          \r\n          // Reset states on any error\r\n          setIsReading(false);\r\n          setReadingId(null);\r\n          currentUtteranceRef.current = null;\r\n          isAudioInitializedRef.current = false;\r\n          \r\n          // Only show alert for actual errors, not interruptions\r\n          if (event.error !== 'interrupted' && \r\n              event.error !== 'canceled' && \r\n              event.error !== 'cancelled' &&\r\n              !speechCancelledRef.current) {\r\n            // Wait a bit before showing alert to avoid multiple alerts\r\n            setTimeout(() => {\r\n              if (!speechCancelledRef.current) {\r\n                console.warn(`Speech error: ${event.error}. Continuing...`);\r\n              }\r\n            }, 100);\r\n          }\r\n        };\r\n\r\n        // Function to start speech with proper voice selection\r\n        const startSpeech = () => {\r\n          if (speechCancelledRef.current) {\r\n            return;\r\n          }\r\n\r\n          try {\r\n            // Get available voices\r\n            const voices = window.speechSynthesis.getVoices();\r\n            \r\n            if (voices.length > 0) {\r\n              // Improved voice selection logic\r\n              const preferredVoice = \r\n                // First try: Local English US voice (not Microsoft if possible)\r\n                voices.find(voice => \r\n                  voice.lang === 'en-US' && \r\n                  voice.localService && \r\n                  !voice.name.toLowerCase().includes('microsoft')\r\n                ) ||\r\n                // Second try: Any local English US voice\r\n                voices.find(voice => \r\n                  voice.lang === 'en-US' && \r\n                  voice.localService\r\n                ) ||\r\n                // Third try: Any English US voice\r\n                voices.find(voice => \r\n                  voice.lang === 'en-US'\r\n                ) ||\r\n                // Fourth try: Any English voice\r\n                voices.find(voice => \r\n                  voice.lang.startsWith('en-')\r\n                ) ||\r\n                // Fallback: First available voice\r\n                voices[0];\r\n              \r\n              if (preferredVoice) {\r\n                utterance.voice = preferredVoice;\r\n                console.log('Selected voice:', preferredVoice.name, preferredVoice.lang);\r\n              }\r\n            }\r\n\r\n            // Final check before speaking\r\n            if (speechCancelledRef.current) {\r\n              return;\r\n            }\r\n\r\n            // Ensure speech synthesis is ready\r\n            if (window.speechSynthesis.speaking || window.speechSynthesis.pending) {\r\n              console.log('Speech synthesis busy, canceling existing...');\r\n              window.speechSynthesis.cancel();\r\n              \r\n              // Wait for cancel to complete\r\n              setTimeout(() => {\r\n                if (!speechCancelledRef.current) {\r\n                  currentUtteranceRef.current = utterance;\r\n                  window.speechSynthesis.speak(utterance);\r\n                  console.log('Speech synthesis started after cleanup');\r\n                }\r\n              }, 100);\r\n            } else {\r\n              currentUtteranceRef.current = utterance;\r\n              window.speechSynthesis.speak(utterance);\r\n              console.log('Speech synthesis started immediately');\r\n            }\r\n            \r\n          } catch (error) {\r\n            console.error('Error starting speech:', error);\r\n            if (!speechCancelledRef.current) {\r\n              setIsReading(false);\r\n              setReadingId(null);\r\n              currentUtteranceRef.current = null;\r\n            }\r\n          }\r\n        };\r\n\r\n        // Handle voice loading\r\n        const voices = window.speechSynthesis.getVoices();\r\n        if (voices.length > 0) {\r\n          startSpeech();\r\n        } else {\r\n          // Wait for voices to load\r\n          let voicesLoaded = false;\r\n          const maxWaitTime = 2000;\r\n          \r\n          const handleVoicesChanged = () => {\r\n            if (!voicesLoaded && !speechCancelledRef.current) {\r\n              voicesLoaded = true;\r\n              window.speechSynthesis.removeEventListener('voiceschanged', handleVoicesChanged);\r\n              startSpeech();\r\n            }\r\n          };\r\n          \r\n          window.speechSynthesis.addEventListener('voiceschanged', handleVoicesChanged);\r\n          \r\n          // Fallback timeout\r\n          setTimeout(() => {\r\n            if (!voicesLoaded && !speechCancelledRef.current) {\r\n              voicesLoaded = true;\r\n              window.speechSynthesis.removeEventListener('voiceschanged', handleVoicesChanged);\r\n              console.log('Voice loading timeout, starting with default voice');\r\n              startSpeech();\r\n            }\r\n          }, maxWaitTime);\r\n        }\r\n        \r\n      } catch (error) {\r\n        console.error('Error in speech synthesis setup:', error);\r\n        if (!speechCancelledRef.current) {\r\n          setIsReading(false);\r\n          setReadingId(null);\r\n          currentUtteranceRef.current = null;\r\n        }\r\n      }\r\n    }, 200); // Reduced delay for better responsiveness\r\n  }, [isReading, readingId, cleanupAudio, selectedArticle, trackView]);\r\n\r\n  const formatDate = useCallback((date) => {\r\n    if (!date) return 'Recent';\r\n    const now = new Date();\r\n    const articleDate = new Date(date);\r\n    const diffTime = Math.abs(now - articleDate);\r\n    const diffDays = Math.floor(diffTime / (1000 * 60 * 60 * 24));\r\n    \r\n    if (diffDays === 0) return 'Today';\r\n    if (diffDays === 1) return 'Yesterday';\r\n    if (diffDays < 7) return `${diffDays} days ago`;\r\n    if (diffDays < 30) return `${Math.floor(diffDays / 7)} weeks ago`;\r\n    \r\n    return articleDate.toLocaleDateString('en-US', {\r\n      month: 'short', day: 'numeric', year: 'numeric'\r\n    });\r\n  }, []);\r\n  \r\n  const getReadingTime = useCallback((content) => {\r\n    if (!content) return 1;\r\n    const wordsPerMinute = 200;\r\n    const wordCount = content.split(' ').length;\r\n    return Math.ceil(wordCount / wordsPerMinute);\r\n  }, []);\r\n\r\n  // Enhanced image error handler\r\n  const handleImageError = useCallback((e) => {\r\n    e.target.src = DEFAULT_IMAGE;\r\n    e.target.onerror = null; // Prevent infinite loop\r\n  }, []);\r\n\r\n  // Incremental load more handlers\r\n  const handleLoadMoreArticles = () => {\r\n    setVisibleArticles(prev => Math.min(prev + ARTICLES_LOAD_INCREMENT, filteredContent.length));\r\n  };\r\n\r\n  const handleLoadMoreVideos = () => {\r\n    setVisibleVideos(prev => Math.min(prev + VIDEOS_LOAD_INCREMENT, filteredVideos.length));\r\n  };\r\n\r\n  // Calculate displayed items\r\n  const displayedArticles = filteredContent.slice(0, visibleArticles);\r\n  const displayedVideos = filteredVideos.slice(0, visibleVideos);\r\n\r\n  // Action banner handlers\r\n  const handleBlogsAction = () => {\r\n    setActiveSection('blogs');\r\n    setSearchTerm('');\r\n    setFilter('all');\r\n  };\r\n\r\n  const handleNewsAction = () => {\r\n    setActiveSection('news');\r\n    setSearchTerm('');\r\n    setFilter('all');\r\n  };\r\n\r\n  const styles = {\r\n    container: {\r\n      minHeight: '100vh',\r\n      backgroundColor: isDarkMode ? colors.background : colors.gray50,\r\n      color: colors.text,\r\n      fontFamily: '\"Nunito Sans\", -apple-system, BlinkMacSystemFont, sans-serif'\r\n    },\r\n    hero: {\r\n      background: isDarkMode \r\n        ? `linear-gradient(135deg, ${colors.primary} 0%, ${colors.primaryDark} 100%)`\r\n        : `linear-gradient(135deg, ${colors.primary} 0%, ${colors.accent} 100%)`,\r\n      padding: '80px 24px 60px',\r\n      position: 'relative',\r\n      overflow: 'hidden'\r\n    },\r\n    heroPattern: {\r\n      position: 'absolute',\r\n      top: 0,\r\n      left: 0,\r\n      right: 0,\r\n      bottom: 0,\r\n      opacity: 0.1,\r\n      background: `\r\n        radial-gradient(circle at 25% 25%, white 2px, transparent 2px),\r\n        radial-gradient(circle at 75% 75%, white 1px, transparent 1px)\r\n      `,\r\n      backgroundSize: '40px 40px',\r\n      backgroundPosition: '0 0, 20px 20px'\r\n    },\r\n    heroContent: {\r\n      maxWidth: '1200px',\r\n      margin: '0 auto',\r\n      textAlign: 'center',\r\n      position: 'relative',\r\n      zIndex: 2\r\n    },\r\n    heroTitle: {\r\n      fontSize: 'clamp(32px, 6vw, 64px)',\r\n      fontWeight: 800,\r\n      color: colors.white,\r\n      margin: '0 0 16px 0',\r\n      lineHeight: '1.1',\r\n      letterSpacing: '-0.02em'\r\n    },\r\n    heroSubtitle: {\r\n      fontSize: '18px',\r\n      color: colors.white,\r\n      opacity: 0.9,\r\n      margin: '0 auto 32px auto',\r\n      maxWidth: '600px',\r\n      lineHeight: '1.6',\r\n      textAlign: 'center'\r\n    },\r\n    \r\n    controlsSection: {\r\n      maxWidth: '1200px',\r\n      margin: '0 auto',\r\n      padding: '40px 24px',\r\n      display: 'grid',\r\n      gridTemplateColumns: '1fr auto',\r\n      gap: '24px',\r\n      alignItems: 'center'\r\n    },\r\n  \r\n    searchContainer: {\r\n      position: 'relative',\r\n      width: '100%',\r\n      maxWidth: '500px'\r\n    },\r\n    searchInput: {\r\n      width: '100%',\r\n      padding: '16px 16px 16px 50px',\r\n      fontSize: '16px',\r\n      border: `2px solid ${isDarkMode ? colors.border : colors.gray200}`,\r\n      borderRadius: '12px',\r\n      backgroundColor: isDarkMode ? colors.surface : colors.white,\r\n      color: colors.text,\r\n      outline: 'none',\r\n      transition: 'all 0.2s ease',\r\n      fontFamily: 'inherit'\r\n    },\r\n    filterControls: {\r\n      display: 'flex',\r\n      gap: '8px',\r\n      alignItems: 'center'\r\n    },\r\n    filterButton: {\r\n      padding: '12px 16px',\r\n      fontSize: '14px',\r\n      fontWeight: 600,\r\n      border: `2px solid ${isDarkMode ? colors.border : colors.gray200}`,\r\n      borderRadius: '10px',\r\n      backgroundColor: isDarkMode ? colors.surface : colors.white,\r\n      color: colors.text,\r\n      outline: 'none',\r\n      transition: 'all 0.2s ease',\r\n      fontFamily: 'inherit',\r\n      cursor: 'pointer'\r\n    },\r\n    filterButtonActive: {\r\n      backgroundColor: colors.primary,\r\n      borderColor: colors.primary,\r\n      color: colors.white\r\n    },\r\n\r\n    // Action Banners\r\n    actionBannersSection: {\r\n      maxWidth: '1200px',\r\n      margin: '0 auto',\r\n      padding: '0 24px 40px'\r\n    },\r\n    actionBanners: {\r\n      display: 'grid',\r\n      gridTemplateColumns: 'repeat(auto-fit, minmax(300px, 1fr))',\r\n      gap: '20px',\r\n      marginBottom: '32px'\r\n    },\r\n    actionBanner: {\r\n      background: isDarkMode \r\n        ? `linear-gradient(135deg, ${colors.primary}20 0%, ${colors.accent}20 100%)`\r\n        : `linear-gradient(135deg, ${colors.primary}10 0%, ${colors.accent}10 100%)`,\r\n      border: `2px solid ${colors.primary}30`,\r\n      borderRadius: '16px',\r\n      padding: '24px',\r\n      cursor: 'pointer',\r\n      transition: 'all 0.3s ease',\r\n      position: 'relative',\r\n      overflow: 'hidden'\r\n    },\r\n    actionBannerActive: {\r\n      background: isDarkMode \r\n        ? `linear-gradient(135deg, ${colors.primary}40 0%, ${colors.accent}40 100%)`\r\n        : `linear-gradient(135deg, ${colors.primary}20 0%, ${colors.accent}20 100%)`,\r\n      border: `2px solid ${colors.primary}`,\r\n      transform: 'translateY(-2px)',\r\n      boxShadow: `0 8px 25px ${colors.primary}25`\r\n    },\r\n    bannerIcon: {\r\n      marginBottom: '12px'\r\n    },\r\n    bannerTitle: {\r\n      fontSize: '18px',\r\n      fontWeight: 700,\r\n      color: colors.text,\r\n      margin: '0 0 8px 0'\r\n    },\r\n    bannerDescription: {\r\n      fontSize: '14px',\r\n      color: colors.textSecondary,\r\n      margin: '0 0 16px 0',\r\n      lineHeight: '1.5'\r\n    },\r\n    bannerStats: {\r\n      fontSize: '12px',\r\n      color: colors.primary,\r\n      fontWeight: 600\r\n    },\r\n\r\n    tabsContainer: {\r\n      maxWidth: '1200px',\r\n      margin: '0 auto',\r\n      padding: '0 24px'\r\n    },\r\n    tabs: {\r\n      display: 'flex',\r\n      gap: '8px',\r\n      overflowX: 'auto',\r\n      paddingBottom: '8px'\r\n    },\r\n    tab: {\r\n      padding: '12px 20px',\r\n      fontSize: '14px',\r\n      fontWeight: 600,\r\n      border: `2px solid ${isDarkMode ? colors.border : colors.gray200}`,\r\n      borderRadius: '25px',\r\n      backgroundColor: isDarkMode ? colors.surface : colors.white,\r\n      color: colors.text,\r\n      cursor: 'pointer',\r\n      transition: 'all 0.2s ease',\r\n      display: 'flex',\r\n      alignItems: 'center',\r\n      gap: '8px',\r\n      whiteSpace: 'nowrap',\r\n      minWidth: 'fit-content'\r\n    },\r\n    tabActive: {\r\n      backgroundColor: colors.primary,\r\n      color: colors.white,\r\n      borderColor: colors.primary,\r\n      boxShadow: `0 2px 8px ${colors.primary}25`\r\n    },\r\n\r\n    contentSection: {\r\n      maxWidth: '1200px',\r\n      margin: '0 auto',\r\n      padding: '0 24px 80px'\r\n    },\r\n    \r\n    // Video Section (Modular)\r\n    videoSection: {\r\n      marginBottom: '48px',\r\n      backgroundColor: isDarkMode ? colors.surface : colors.white,\r\n      borderRadius: '16px',\r\n      padding: '32px',\r\n      border: `1px solid ${isDarkMode ? colors.border : colors.gray200}`\r\n    },\r\n    videoHeader: {\r\n      display: 'flex',\r\n      alignItems: 'center',\r\n      gap: '12px',\r\n      marginBottom: '24px'\r\n    },\r\n    videoTitle: {\r\n      fontSize: '24px',\r\n      fontWeight: 700,\r\n      color: colors.text,\r\n      margin: 0\r\n    },\r\n    videoGrid: {\r\n      display: 'grid',\r\n      gridTemplateColumns: 'repeat(auto-fit, minmax(300px, 1fr))',\r\n      gap: '24px'\r\n    },\r\n    \r\n    // Articles Grid\r\n    articlesGrid: {\r\n      display: 'grid',\r\n      gridTemplateColumns: viewMode === 'grid' \r\n        ? 'repeat(auto-fit, minmax(350px, 1fr))' \r\n        : '1fr',\r\n      gap: '24px',\r\n      marginTop: '32px'\r\n    },\r\n    articleCard: {\r\n      backgroundColor: isDarkMode ? colors.surface : colors.white,\r\n      borderRadius: '16px',\r\n      overflow: 'hidden',\r\n      cursor: 'pointer',\r\n      transition: 'all 0.3s cubic-bezier(0.4, 0, 0.2, 1)',\r\n      border: `1px solid ${isDarkMode ? colors.border : colors.gray200}`,\r\n      position: 'relative'\r\n    },\r\n    articleImage: {\r\n      width: '100%',\r\n      height: viewMode === 'grid' ? '220px' : '300px',\r\n      objectFit: 'cover'\r\n    },\r\n    articleContent: {\r\n      padding: '24px'\r\n    },\r\n    articleMeta: {\r\n      display: 'flex',\r\n      alignItems: 'center',\r\n      gap: '12px',\r\n      marginBottom: '16px',\r\n      flexWrap: 'wrap'\r\n    },\r\n    articleTitle: {\r\n      fontSize: '18px',\r\n      fontWeight: 700,\r\n      color: colors.text,\r\n      margin: '0 0 12px 0',\r\n      lineHeight: '1.4',\r\n      display: '-webkit-box',\r\n      WebkitLineClamp: 2,\r\n      WebkitBoxOrient: 'vertical',\r\n      overflow: 'hidden'\r\n    },\r\n    articleExcerpt: {\r\n      color: colors.textSecondary,\r\n      fontSize: '14px',\r\n      lineHeight: '1.6',\r\n      margin: '0 0 16px 0',\r\n      display: '-webkit-box',\r\n      WebkitLineClamp: 3,\r\n      WebkitBoxOrient: 'vertical',\r\n      overflow: 'hidden'\r\n    },\r\n    articleFooter: {\r\n      display: 'flex',\r\n      alignItems: 'center',\r\n      justifyContent: 'space-between',\r\n      paddingTop: '16px',\r\n      borderTop: `1px solid ${isDarkMode ? colors.border : colors.gray100}`\r\n    },\r\n    badge: {\r\n      padding: '4px 8px',\r\n      borderRadius: '6px',\r\n      fontSize: '11px',\r\n      fontWeight: 600,\r\n      textTransform: 'uppercase',\r\n      letterSpacing: '0.5px'\r\n    },\r\n    actionButtons: {\r\n      display: 'flex',\r\n      gap: '8px'\r\n    },\r\n    iconButton: {\r\n      padding: '8px',\r\n      backgroundColor: 'transparent',\r\n      border: 'none',\r\n      borderRadius: '8px',\r\n      cursor: 'pointer',\r\n      color: colors.textSecondary,\r\n      transition: 'all 0.2s ease',\r\n      display: 'flex',\r\n      alignItems: 'center',\r\n      justifyContent: 'center'\r\n    },\r\n    emptyState: {\r\n      textAlign: 'center',\r\n      padding: '80px 24px'\r\n    },\r\n    loadingState: {\r\n      display: 'flex',\r\n      flexDirection: 'column',\r\n      alignItems: 'center',\r\n      justifyContent: 'center',\r\n      minHeight: '400px',\r\n      gap: '16px'\r\n    },\r\n    spinner: {\r\n      width: '40px',\r\n      height: '40px',\r\n      border: `3px solid ${isDarkMode ? colors.border : colors.gray200}`,\r\n      borderTop: `3px solid ${colors.primary}`,\r\n      borderRadius: '50%',\r\n      animation: 'spin 1s linear infinite'\r\n    },\r\n    \r\n    // Video Cards\r\n    videoCard: {\r\n      backgroundColor: isDarkMode ? colors.backgroundSecondary : colors.gray50,\r\n      borderRadius: '12px',\r\n      overflow: 'hidden',\r\n      cursor: 'pointer',\r\n      transition: 'all 0.3s ease',\r\n      border: `1px solid ${isDarkMode ? colors.border : colors.gray200}`\r\n    },\r\n    \r\n    // Load More Button\r\n    loadMoreContainer: {\r\n      display: 'flex',\r\n      justifyContent: 'center',\r\n      marginTop: '40px'\r\n    },\r\n    loadMoreButton: {\r\n      padding: '14px 32px',\r\n      fontSize: '14px',\r\n      fontWeight: 600,\r\n      backgroundColor: colors.primary,\r\n      borderColor: colors.primary,\r\n      color: colors.white,\r\n      border: 'none',\r\n      borderRadius: '12px',\r\n      cursor: 'pointer',\r\n      transition: 'all 0.3s ease',\r\n      display: 'flex',\r\n      alignItems: 'center',\r\n      justifyContent: 'center',\r\n      gap: '8px',\r\n      minWidth: '200px'\r\n    }\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div style={styles.container}>\r\n        <Header />\r\n        <div style={styles.loadingState}>\r\n          <div style={styles.spinner} />\r\n          <p style={{ color: colors.textSecondary }}>Loading content...</p>\r\n        </div>\r\n        <Footer />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (error) {\r\n    return (\r\n      <div style={styles.container}>\r\n        <Header />\r\n        <div style={styles.emptyState}>\r\n          <h3 style={{ color: colors.text, margin: '0 0 16px 0' }}>Something went wrong</h3>\r\n          <p style={{ color: colors.textSecondary, margin: '0 0 24px 0' }}>{error}</p>\r\n          <button \r\n            onClick={() => fetchArticles(false)}\r\n            style={{\r\n              ...styles.filterButton,\r\n              ...styles.filterButtonActive\r\n            }}\r\n          >\r\n            Try Again\r\n          </button>\r\n        </div>\r\n        <Footer />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (selectedArticle) {\r\n    return (\r\n      <div style={styles.container}>\r\n        <Header />\r\n        <div style={{ maxWidth: '800px', margin: '0 auto', padding: '40px 24px' }}>\r\n          <button \r\n            onClick={() => {\r\n              cleanupAudio(); // Stop audio when closing article\r\n              setSelectedArticle(null);\r\n            }}\r\n            style={{\r\n              ...styles.filterButton,\r\n              marginTop: '40px',\r\n              marginBottom: '32px'\r\n            }}\r\n          >\r\n            <ArrowRight style={{ transform: 'rotate(180deg)' }} size={16} />\r\n            Back to Articles\r\n          </button>\r\n\r\n          <article style={{\r\n            backgroundColor: isDarkMode ? colors.surface : colors.white,\r\n            border: `1px solid ${isDarkMode ? colors.border : colors.gray200}`,\r\n            borderRadius: '16px',\r\n            overflow: 'hidden'\r\n          }}>\r\n            <div style={{\r\n              width: '100%',\r\n              height: '400px',\r\n              position: 'relative',\r\n              overflow: 'hidden',\r\n              backgroundColor: isDarkMode ? colors.backgroundSecondary : colors.gray100\r\n            }}>\r\n              <img \r\n                src={selectedArticle.featured_image ? getImageUrl(selectedArticle.featured_image) : DEFAULT_IMAGE}\r\n                alt={selectedArticle.title} \r\n                style={{\r\n                  width: '100%',\r\n                  height: '100%',\r\n                  objectFit: 'cover'\r\n                }}\r\n                onError={handleImageError}\r\n              />\r\n            </div>\r\n            \r\n            <div style={{ padding: '40px' }}>\r\n              <div style={styles.articleMeta}>\r\n                <span style={{\r\n                  ...styles.badge,\r\n                  backgroundColor: selectedArticle.is_news ? colors.error : colors.primary,\r\n                  color: colors.white\r\n                }}>\r\n                  {selectedArticle.is_news ? 'News' : 'Article'}\r\n                </span>\r\n                {selectedArticle.is_featured && (\r\n                  <span style={{\r\n                    ...styles.badge,\r\n                    backgroundColor: colors.warning + '20',\r\n                    color: colors.warning\r\n                  }}>\r\n                    <Star size={10} style={{ marginRight: '4px' }} />\r\n                    Featured\r\n                  </span>\r\n                )}\r\n                <span style={{\r\n                  color: colors.textSecondary,\r\n                  fontSize: '14px',\r\n                  display: 'flex',\r\n                  alignItems: 'center',\r\n                  gap: '4px'\r\n                }}>\r\n                  <Clock size={12} />\r\n                  {getReadingTime(selectedArticle.content)} min read\r\n                </span>\r\n              </div>\r\n\r\n              <h1 style={{ \r\n                color: colors.text,\r\n                fontSize: '36px',\r\n                fontWeight: 800,\r\n                lineHeight: '1.2',\r\n                margin: '0 0 16px 0'\r\n              }}>\r\n                {selectedArticle.title}\r\n              </h1>\r\n              \r\n              {selectedArticle.excerpt && (\r\n                <p style={{ \r\n                  color: colors.textSecondary,\r\n                  fontSize: '18px',\r\n                  lineHeight: '1.6',\r\n                  margin: '0 0 24px 0'\r\n                }}>\r\n                  {selectedArticle.excerpt}\r\n                </p>\r\n              )}\r\n\r\n              <div style={{\r\n                display: 'flex',\r\n                alignItems: 'center',\r\n                gap: '24px',\r\n                marginBottom: '32px',\r\n                flexWrap: 'wrap'\r\n              }}>\r\n                <div style={{\r\n                  color: colors.textSecondary,\r\n                  fontSize: '14px',\r\n                  display: 'flex',\r\n                  alignItems: 'center',\r\n                  gap: '4px'\r\n                }}>\r\n                  <Calendar size={14} />\r\n                  <span>{formatDate(selectedArticle.published_at || selectedArticle.created_at)}</span>\r\n                </div>\r\n              </div>\r\n\r\n              <div style={{ marginBottom: '32px' }}>\r\n                <button \r\n                  onClick={() => handleVoice(selectedArticle)} \r\n                  style={{\r\n                    ...styles.filterButton,\r\n                    ...(isReading && readingId === selectedArticle.id ? styles.filterButtonActive : {})\r\n                  }}\r\n                >\r\n                  {isReading && readingId === selectedArticle.id ? (\r\n                    <>\r\n                      <Square size={16} />\r\n                      Stop Reading\r\n                    </>\r\n                  ) : (\r\n                    <>\r\n                      <Volume2 size={16} />\r\n                      Listen to Article\r\n                    </>\r\n                  )}\r\n                </button>\r\n              </div>\r\n\r\n              <div style={{ \r\n                fontSize: '16px',\r\n                lineHeight: '1.8',\r\n                color: colors.text\r\n              }}>\r\n                {selectedArticle.content && selectedArticle.content.split('\\n').map((paragraph, i) => (\r\n                  paragraph.trim() && (\r\n                    <p key={i} style={{ \r\n                      marginBottom: '24px'\r\n                    }}>\r\n                      {paragraph}\r\n                    </p>\r\n                  )\r\n                ))}\r\n              </div>\r\n\r\n              {selectedArticle.tags && Array.isArray(selectedArticle.tags) && selectedArticle.tags.length > 0 && (\r\n                <div style={{ \r\n                  paddingTop: '32px',\r\n                  borderTop: `1px solid ${isDarkMode ? colors.border : colors.gray100}`,\r\n                  marginTop: '32px'\r\n                }}>\r\n                  <div style={{\r\n                    display: 'flex',\r\n                    alignItems: 'center',\r\n                    gap: '8px',\r\n                    marginBottom: '16px'\r\n                  }}>\r\n                    <Tag size={16} style={{ color: colors.textSecondary }} />\r\n                    <span style={{ color: colors.textSecondary, fontSize: '14px', fontWeight: 600 }}>\r\n                      Tags\r\n                    </span>\r\n                  </div>\r\n                  <div style={{\r\n                    display: 'flex',\r\n                    flexWrap: 'wrap',\r\n                    gap: '8px'\r\n                  }}>\r\n                    {selectedArticle.tags.map((tag, i) => (\r\n                      <span \r\n                        key={i} \r\n                        style={{\r\n                          ...styles.badge,\r\n                          backgroundColor: isDarkMode ? colors.backgroundSecondary : colors.gray100,\r\n                          color: colors.primary\r\n                        }}\r\n                      >\r\n                        #{tag}\r\n                      </span>\r\n                    ))}\r\n                  </div>\r\n                </div>\r\n              )}\r\n            </div>\r\n          </article>\r\n        </div>\r\n        <Footer />\r\n      </div>\r\n    );\r\n  }\r\n \r\n  const blogsCount = content.filter(item => !item.is_news).length;\r\n  const newsCount = content.filter(item => item.is_news).length;\r\n\r\n  return (\r\n    <div style={styles.container}>\r\n      <Header />\r\n      \r\n      {/* Hero Section */}\r\n      <div style={styles.hero}>\r\n        <div style={styles.heroPattern} />\r\n        <div style={styles.heroContent}>\r\n          <h1 style={styles.heroTitle}>\r\n            ACEF Insights & Updates\r\n          </h1>\r\n          <p style={styles.heroSubtitle}>\r\n            Stay informed with the latest climate action stories, environmental insights, \r\n            and community impact updates from across Africa.\r\n          </p>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Controls Section */}\r\n      <div style={styles.controlsSection}>\r\n        <div style={styles.searchContainer}>\r\n          <Search \r\n            size={20} \r\n            style={{ \r\n              position: 'absolute',\r\n              left: '16px',\r\n              top: '50%',\r\n              transform: 'translateY(-50%)',\r\n              color: colors.textSecondary,\r\n              zIndex: 1\r\n            }} \r\n          />\r\n          <input\r\n            type=\"text\"\r\n            placeholder=\"Search articles, news, videos, and updates...\"\r\n            value={searchTerm}\r\n            onChange={(e) => setSearchTerm(e.target.value)}\r\n            style={styles.searchInput}\r\n          />\r\n        </div>\r\n\r\n        <div style={styles.filterControls}>\r\n          <select\r\n            value={sortBy}\r\n            onChange={(e) => setSortBy(e.target.value)}\r\n            style={{\r\n              ...styles.filterButton,\r\n              appearance: 'none',\r\n              backgroundImage: `url(\"data:image/svg+xml;charset=UTF-8,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3e%3cpolyline points='6,9 12,15 18,9'%3e%3c/polyline%3e%3c/svg%3e\")`,\r\n              backgroundRepeat: 'no-repeat',\r\n              backgroundPosition: 'right 8px center',\r\n              backgroundSize: '16px',\r\n              paddingRight: '32px'\r\n            }}\r\n          >\r\n            <option value=\"recent\">Recent</option>\r\n            <option value=\"popular\">Popular</option>\r\n            <option value=\"title\">A-Z</option>\r\n          </select>\r\n\r\n          <button\r\n            onClick={() => setViewMode(viewMode === 'grid' ? 'list' : 'grid')}\r\n            style={{\r\n              ...styles.filterButton,\r\n              backgroundColor: colors.primary + '10',\r\n              borderColor: colors.primary\r\n            }}\r\n          >\r\n            {viewMode === 'grid' ? <List size={16} /> : <Grid3X3 size={16} />}\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Action Banners Section */}\r\n      <div style={styles.actionBannersSection}>\r\n        <div style={styles.actionBanners}>\r\n          <div \r\n            onClick={handleBlogsAction}\r\n            style={{\r\n              ...styles.actionBanner,\r\n              ...(activeSection === 'blogs' ? styles.actionBannerActive : {})\r\n            }}\r\n          >\r\n            <div style={styles.bannerIcon}>\r\n              <BookOpen size={32} style={{ color: colors.primary }} />\r\n            </div>\r\n            <h3 style={styles.bannerTitle}>Explore Our Blogs</h3>\r\n            <p style={styles.bannerDescription}>\r\n              Discover in-depth articles about climate action, sustainability, and environmental insights.\r\n            </p>\r\n            <div style={styles.bannerStats}>\r\n              {blogsCount} Articles Available\r\n            </div>\r\n          </div>\r\n\r\n          <div \r\n            onClick={handleNewsAction}\r\n            style={{\r\n              ...styles.actionBanner,\r\n              ...(activeSection === 'news' ? styles.actionBannerActive : {})\r\n            }}\r\n          >\r\n            <div style={styles.bannerIcon}>\r\n              <Newspaper size={32} style={{ color: colors.primary }} />\r\n            </div>\r\n            <h3 style={styles.bannerTitle}>Latest News</h3>\r\n            <p style={styles.bannerDescription}>\r\n              Stay updated with the latest news and developments in climate action across Africa.\r\n            </p>\r\n            <div style={styles.bannerStats}>\r\n              {newsCount} News Updates\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Tabs */}\r\n      <div style={styles.tabsContainer}>\r\n        <div style={styles.tabs}>\r\n          {[\r\n            { key: 'all', label: 'All Content', icon: Sparkles, count: content.length }\r\n          ].map(({ key, label, icon: Icon, count }) => (\r\n            <button\r\n              key={key}\r\n              onClick={() => setActiveSection(key)}\r\n              style={{\r\n                ...styles.tab,\r\n                ...(activeSection === key ? styles.tabActive : {})\r\n              }}\r\n            >\r\n              <Icon size={16} />\r\n              {label} ({count})\r\n            </button>\r\n          ))}\r\n        </div>\r\n      </div>\r\n\r\n      {/* Content Section */}\r\n      <div style={styles.contentSection}>\r\n\r\n        {/* Featured Video Section - Only show if no search or videos match search */}\r\n        {(!searchTerm || (searchTerm && filteredVideos.length > 0)) && videoData && !videoLoading && (\r\n          <div style={styles.videoSection}>\r\n            <div style={styles.videoHeader}>\r\n              <Video size={24} style={{ color: colors.primary }} />\r\n              <h2 style={styles.videoTitle}>Latest Video Updates</h2>\r\n            </div>\r\n            \r\n            <div style={{\r\n              backgroundColor: isDarkMode ? colors.backgroundSecondary : colors.gray50,\r\n              borderRadius: '16px',\r\n              padding: '24px',\r\n              display: 'grid',\r\n              gridTemplateColumns: 'minmax(300px, 1fr) 1.5fr',\r\n              gap: '32px',\r\n              alignItems: 'center'\r\n            }}>\r\n              <div>\r\n                {videoData.tag && (\r\n                  <div style={{\r\n                    display: 'inline-flex',\r\n                    alignItems: 'center',\r\n                    gap: '8px',\r\n                    backgroundColor: colors.primary + '15',\r\n                    color: colors.primary,\r\n                    padding: '6px 12px',\r\n                    borderRadius: '20px',\r\n                    fontSize: '12px',\r\n                    fontWeight: 600,\r\n                    marginBottom: '16px'\r\n                  }}>\r\n                    <div style={{\r\n                      width: '6px',\r\n                      height: '6px',\r\n                      backgroundColor: colors.error,\r\n                      borderRadius: '50%',\r\n                      animation: 'pulse 2s infinite'\r\n                    }} />\r\n                    {videoData.tag}\r\n                  </div>\r\n                )}\r\n                \r\n                <h3 style={{\r\n                  fontSize: '20px',\r\n                  fontWeight: 700,\r\n                  color: colors.text,\r\n                  margin: '0 0 12px 0',\r\n                  lineHeight: '1.3'\r\n                }}>\r\n                  {videoData.title || 'ACEF Video Update'}\r\n                </h3>\r\n                \r\n                {videoData.description && (\r\n                  <p style={{\r\n                    color: colors.textSecondary,\r\n                    fontSize: '14px',\r\n                    lineHeight: '1.6',\r\n                    margin: '0 0 20px 0'\r\n                  }}>\r\n                    {videoData.description}\r\n                  </p>\r\n                )}\r\n                \r\n                <button\r\n                  onClick={() => setShowVideoPlayer(true)}\r\n                  style={{\r\n                    ...styles.filterButton,\r\n                    ...styles.filterButtonActive\r\n                  }}\r\n                >\r\n                  <Volume2 size={16} />\r\n                  Watch Video\r\n                </button>\r\n              </div>\r\n              \r\n              <div style={{\r\n                position: 'relative',\r\n                width: '100%',\r\n                paddingBottom: '56.25%',\r\n                height: 0,\r\n                borderRadius: '12px',\r\n                overflow: 'hidden',\r\n                backgroundColor: colors.primary + '10',\r\n                cursor: 'pointer'\r\n              }}\r\n              onClick={() => setShowVideoPlayer(true)}\r\n              >\r\n                {videoData.embedUrl ? (\r\n                  <iframe\r\n                    src={videoData.embedUrl.replace('autoplay=0', 'autoplay=0')}\r\n                    title={videoData.title || 'ACEF Video'}\r\n                    style={{\r\n                      position: 'absolute',\r\n                      top: 0,\r\n                      left: 0,\r\n                      width: '100%',\r\n                      height: '100%',\r\n                      border: 'none'\r\n                    }}\r\n                    allow=\"accelerometer; clipboard-write; encrypted-media; gyroscope; picture-in-picture\"\r\n                    allowFullScreen\r\n                  />\r\n                ) : (\r\n                  <div style={{\r\n                    position: 'absolute',\r\n                    top: 0,\r\n                    left: 0,\r\n                    width: '100%',\r\n                    height: '100%',\r\n                    display: 'flex',\r\n                    alignItems: 'center',\r\n                    justifyContent: 'center',\r\n                    backgroundColor: colors.primary,\r\n                    color: colors.white\r\n                  }}>\r\n                    <div style={{ textAlign: 'center' }}>\r\n                      <Volume2 size={48} style={{ marginBottom: '12px' }} />\r\n                      <p style={{ margin: 0, fontSize: '14px' }}>Video Preview</p>\r\n                    </div>\r\n                  </div>\r\n                )}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {/* Filter Pills */}\r\n        <div style={{\r\n          display: 'flex',\r\n          gap: '8px',\r\n          marginBottom: '24px',\r\n          flexWrap: 'wrap'\r\n        }}>\r\n          {[\r\n            { key: 'all', label: 'All' },\r\n            { key: 'recent', label: 'Recent' },\r\n            { key: 'popular', label: 'Popular' },\r\n            { key: 'trending', label: 'Trending' }\r\n          ].map(({ key, label }) => (\r\n            <button\r\n              key={key}\r\n              onClick={() => setFilter(key)}\r\n              style={{\r\n                ...styles.filterButton,\r\n                ...(filter === key ? styles.filterButtonActive : {})\r\n              }}\r\n            >\r\n              {label}\r\n            </button>\r\n          ))}\r\n        </div>\r\n\r\n        {/* Articles Grid */}\r\n        {filteredContent.length === 0 && filteredVideos.length === 0 ? (\r\n          <div style={styles.emptyState}>\r\n            <div style={{ fontSize: '48px', marginBottom: '16px' }}></div>\r\n            <h3 style={{ color: colors.text, margin: '0 0 16px 0' }}>\r\n              No content found\r\n            </h3>\r\n            <p style={{ color: colors.textSecondary, marginBottom: '24px' }}>\r\n              {content.length === 0 \r\n                ? \"We're working on bringing you great content. Check back soon!\"\r\n                : \"Try adjusting your search or filters to find what you're looking for.\"\r\n              }\r\n            </p>\r\n            {(searchTerm || filter !== 'all') && (\r\n              <button \r\n                onClick={() => {\r\n                  setSearchTerm('');\r\n                  setFilter('all');\r\n                  setActiveSection('all');\r\n                }} \r\n                style={{\r\n                  ...styles.filterButton,\r\n                  ...styles.filterButtonActive\r\n                }}\r\n              >\r\n                Clear Filters\r\n              </button>\r\n            )}\r\n          </div>\r\n        ) : (\r\n          <>\r\n            {/* Articles Section */}\r\n            {displayedArticles.length > 0 && (\r\n              <>\r\n                <div style={styles.articlesGrid}>\r\n                  {displayedArticles.map((article) => (\r\n                    <article \r\n                      key={article.id} \r\n                      onClick={() => handleArticleClick(article)}\r\n                      style={{\r\n                        ...styles.articleCard,\r\n                        ...(viewMode === 'list' ? {\r\n                          display: 'flex',\r\n                          flexDirection: 'row',\r\n                          alignItems: 'stretch'\r\n                        } : {})\r\n                      }}\r\n                      onMouseEnter={(e) => {\r\n                        e.currentTarget.style.transform = 'translateY(-4px)';\r\n                        e.currentTarget.style.boxShadow = `0 12px 40px ${colors.cardShadow || 'rgba(0, 0, 0, 0.15)'}`;\r\n                      }}\r\n                      onMouseLeave={(e) => {\r\n                        e.currentTarget.style.transform = 'translateY(0)';\r\n                        e.currentTarget.style.boxShadow = 'none';\r\n                      }}\r\n                    >\r\n                      <div style={{\r\n                        ...(viewMode === 'list' ? {\r\n                          width: '300px',\r\n                          flexShrink: 0\r\n                        } : {\r\n                          width: '100%',\r\n                          height: '220px'\r\n                        }),\r\n                        position: 'relative',\r\n                        overflow: 'hidden',\r\n                        backgroundColor: isDarkMode ? colors.backgroundSecondary : colors.gray100\r\n                      }}>\r\n                        <img \r\n                          src={article.featured_image ? getImageUrl(article.featured_image) : DEFAULT_IMAGE}\r\n                          alt={article.title}\r\n                          style={{\r\n                            ...styles.articleImage,\r\n                            ...(viewMode === 'list' ? { height: '100%' } : {})\r\n                          }}\r\n                          onError={handleImageError}\r\n                          loading=\"lazy\"\r\n                        />\r\n                      </div>\r\n\r\n                      <div style={styles.articleContent}>\r\n                        <h3 style={styles.articleTitle}>\r\n                          {article.title}\r\n                        </h3>\r\n                        \r\n                        {article.excerpt && (\r\n                          <p style={styles.articleExcerpt}>\r\n                            {article.excerpt}\r\n                          </p>\r\n                        )}\r\n\r\n                        <div style={styles.articleFooter}>\r\n                          <div style={styles.articleMeta}>\r\n                            <span style={{\r\n                              color: colors.textSecondary,\r\n                              fontSize: '12px',\r\n                              display: 'flex',\r\n                              alignItems: 'center',\r\n                              gap: '4px'\r\n                            }}>\r\n                              <Calendar size={12} />\r\n                              {formatDate(article.published_at || article.created_at)}\r\n                            </span>\r\n                            <span style={{\r\n                              color: colors.textSecondary,\r\n                              fontSize: '12px',\r\n                              display: 'flex',\r\n                              alignItems: 'center',\r\n                              gap: '4px'\r\n                            }}>\r\n                              <Clock size={12} />\r\n                              {getReadingTime(article.content)} min\r\n                            </span>\r\n                          </div>\r\n\r\n                          <div style={styles.actionButtons}>\r\n                            <button\r\n                              onClick={(e) => {\r\n                                e.stopPropagation();\r\n                                handleVoice(article);\r\n                              }}\r\n                              style={{\r\n                                ...styles.iconButton,\r\n                                ...(isReading && readingId === article.id ? {\r\n                                  backgroundColor: colors.primary,\r\n                                  color: colors.white\r\n                                } : {})\r\n                              }}\r\n                              title=\"Listen to article\"\r\n                            >\r\n                              {isReading && readingId === article.id ? <Square size={14} /> : <Volume2 size={14} />}\r\n                            </button>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    </article>\r\n                  ))}\r\n                </div>\r\n\r\n                {/* Load More Button for Articles */}\r\n                {visibleArticles < filteredContent.length && (\r\n                  <div style={styles.loadMoreContainer}>\r\n                    <button\r\n                      onClick={handleLoadMoreArticles}\r\n                      style={styles.loadMoreButton}\r\n                      onMouseEnter={(e) => {\r\n                        e.target.style.backgroundColor = colors.primaryDark || colors.primary;\r\n                        e.target.style.transform = 'translateY(-2px)';\r\n                      }}\r\n                      onMouseLeave={(e) => {\r\n                        e.target.style.backgroundColor = colors.primary;\r\n                        e.target.style.transform = 'translateY(0)';\r\n                      }}\r\n                    >\r\n                      <ChevronDown size={16} />\r\n                      Load More Articles ({Math.min(ARTICLES_LOAD_INCREMENT, filteredContent.length - visibleArticles)} more)\r\n                    </button>\r\n                  </div>\r\n                )}\r\n              </>\r\n            )}\r\n\r\n            {/* Videos Section - Only show if there are filtered videos */}\r\n            {displayedVideos.length > 0 && (\r\n              <div style={{\r\n                marginTop: displayedArticles.length > 0 ? '60px' : '0',\r\n                backgroundColor: isDarkMode ? colors.surface : colors.white,\r\n                borderRadius: '16px',\r\n                padding: '32px',\r\n                border: `1px solid ${isDarkMode ? colors.border : colors.gray200}`\r\n              }}>\r\n                <div style={styles.videoHeader}>\r\n                  <Video size={24} style={{ color: colors.primary }} />\r\n                  <h2 style={styles.videoTitle}>Video Library</h2>\r\n                </div>\r\n                \r\n                <div style={styles.videoGrid}>\r\n                  {displayedVideos.map((video, index) => (\r\n                    <div key={video.id || index} style={styles.videoCard}>\r\n                      <div style={{\r\n                        position: 'relative',\r\n                        width: '100%',\r\n                        paddingBottom: '56.25%',\r\n                        height: 0,\r\n                        overflow: 'hidden'\r\n                      }}>\r\n                        {video.embedUrl ? (\r\n                          <iframe\r\n                            src={video.embedUrl}\r\n                            title={video.title || `ACEF Video ${index + 1}`}\r\n                            style={{\r\n                              position: 'absolute',\r\n                              top: 0,\r\n                              left: 0,\r\n                              width: '100%',\r\n                              height: '100%',\r\n                              border: 'none'\r\n                            }}\r\n                            allow=\"accelerometer; clipboard-write; encrypted-media; gyroscope; picture-in-picture\"\r\n                            allowFullScreen\r\n                          />\r\n                        ) : (\r\n                          <div style={{\r\n                            position: 'absolute',\r\n                            top: 0,\r\n                            left: 0,\r\n                            width: '100%',\r\n                            height: '100%',\r\n                            backgroundColor: colors.primary + '20',\r\n                            display: 'flex',\r\n                            alignItems: 'center',\r\n                            justifyContent: 'center',\r\n                            color: colors.primary\r\n                          }}>\r\n                            <div style={{ textAlign: 'center' }}>\r\n                              <Volume2 size={32} style={{ marginBottom: '8px' }} />\r\n                              <p style={{ margin: 0, fontSize: '12px' }}>Video Preview</p>\r\n                            </div>\r\n                          </div>\r\n                        )}\r\n                      </div>\r\n                      \r\n                      <div style={{ padding: '16px' }}>\r\n                        {video.tag && (\r\n                          <div style={{\r\n                            display: 'inline-block',\r\n                            backgroundColor: colors.primary + '15',\r\n                            color: colors.primary,\r\n                            padding: '4px 8px',\r\n                            borderRadius: '12px',\r\n                            fontSize: '10px',\r\n                            fontWeight: 600,\r\n                            marginBottom: '8px',\r\n                            textTransform: 'uppercase'\r\n                          }}>\r\n                            {video.tag}\r\n                          </div>\r\n                        )}\r\n                        \r\n                        <h4 style={{\r\n                          fontSize: '14px',\r\n                          fontWeight: 600,\r\n                          color: colors.text,\r\n                          margin: '0 0 8px 0',\r\n                          lineHeight: '1.3',\r\n                          display: '-webkit-box',\r\n                          WebkitLineClamp: 2,\r\n                          WebkitBoxOrient: 'vertical',\r\n                          overflow: 'hidden'\r\n                        }}>\r\n                          {video.title || 'ACEF Video Update'}\r\n                        </h4>\r\n                        \r\n                        {video.description && (\r\n                          <p style={{\r\n                            color: colors.textSecondary,\r\n                            fontSize: '12px',\r\n                            lineHeight: '1.4',\r\n                            margin: '0 0 12px 0',\r\n                            display: '-webkit-box',\r\n                            WebkitLineClamp: 2,\r\n                            WebkitBoxOrient: 'vertical',\r\n                            overflow: 'hidden'\r\n                          }}>\r\n                            {video.description}\r\n                          </p>\r\n                        )}\r\n                        \r\n                        {video.created_at && (\r\n                          <div style={{\r\n                            color: colors.textSecondary,\r\n                            fontSize: '11px',\r\n                            display: 'flex',\r\n                            alignItems: 'center',\r\n                            gap: '4px'\r\n                          }}>\r\n                            <Calendar size={10} />\r\n                            {formatDate(video.created_at)}\r\n                          </div>\r\n                        )}\r\n                      </div>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n\r\n                {/* Load More Button for Videos */}\r\n                {visibleVideos < filteredVideos.length && (\r\n                  <div style={styles.loadMoreContainer}>\r\n                    <button\r\n                      onClick={handleLoadMoreVideos}\r\n                      style={styles.loadMoreButton}\r\n                      onMouseEnter={(e) => {\r\n                        e.target.style.backgroundColor = colors.primaryDark || colors.primary;\r\n                        e.target.style.transform = 'translateY(-2px)';\r\n                      }}\r\n                      onMouseLeave={(e) => {\r\n                        e.target.style.backgroundColor = colors.primary;\r\n                        e.target.style.transform = 'translateY(0)';\r\n                      }}\r\n                    >\r\n                      <ChevronDown size={16} />\r\n                      Load More Videos ({Math.min(VIDEOS_LOAD_INCREMENT, filteredVideos.length - visibleVideos)} more)\r\n                    </button>\r\n                  </div>\r\n                )}\r\n              </div>\r\n            )}\r\n          </>\r\n        )}\r\n      </div>\r\n\r\n      {/* Video Player Modal */}\r\n      {showVideoPlayer && videoData && (\r\n        <div style={{\r\n          position: 'fixed',\r\n          top: 0,\r\n          left: 0,\r\n          width: '100%',\r\n          height: '100%',\r\n          backgroundColor: 'rgba(0, 0, 0, 0.9)',\r\n          backdropFilter: 'blur(10px)',\r\n          display: 'flex',\r\n          alignItems: 'center',\r\n          justifyContent: 'center',\r\n          zIndex: 1000,\r\n          padding: '20px'\r\n        }}>\r\n          <div style={{\r\n            backgroundColor: isDarkMode ? colors.surface : colors.white,\r\n            borderRadius: '16px',\r\n            padding: '0',\r\n            maxWidth: '900px',\r\n            width: '100%',\r\n            maxHeight: '90vh',\r\n            overflow: 'hidden',\r\n            position: 'relative'\r\n          }}>\r\n            <button\r\n              onClick={() => setShowVideoPlayer(false)}\r\n              style={{\r\n                position: 'absolute',\r\n                top: '16px',\r\n                right: '16px',\r\n                background: 'rgba(0, 0, 0, 0.5)',\r\n                border: 'none',\r\n                color: colors.white,\r\n                cursor: 'pointer',\r\n                fontSize: '24px',\r\n                width: '40px',\r\n                height: '40px',\r\n                borderRadius: '50%',\r\n                display: 'flex',\r\n                alignItems: 'center',\r\n                justifyContent: 'center',\r\n                zIndex: 10,\r\n                transition: 'all 0.2s ease'\r\n              }}\r\n              onMouseEnter={(e) => {\r\n                e.target.style.background = 'rgba(0, 0, 0, 0.8)';\r\n              }}\r\n              onMouseLeave={(e) => {\r\n                e.target.style.background = 'rgba(0, 0, 0, 0.5)';\r\n              }}\r\n            >\r\n              \r\n            </button>\r\n            \r\n            {videoData.embedUrl ? (\r\n              <div style={{\r\n                position: 'relative',\r\n                width: '100%',\r\n                paddingBottom: '56.25%',\r\n                height: 0\r\n              }}>\r\n                <iframe\r\n                  src={videoData.embedUrl.replace('autoplay=0', 'autoplay=1')}\r\n                  title={videoData.title || 'ACEF Video Update'}\r\n                  style={{\r\n                    position: 'absolute',\r\n                    top: 0,\r\n                    left: 0,\r\n                    width: '100%',\r\n                    height: '100%',\r\n                    border: 'none',\r\n                    borderRadius: '16px'\r\n                  }}\r\n                  allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\"\r\n                  allowFullScreen\r\n                />\r\n              </div>\r\n            ) : (\r\n              <div style={{\r\n                width: '100%',\r\n                height: '400px',\r\n                backgroundColor: colors.backgroundSecondary,\r\n                display: 'flex',\r\n                alignItems: 'center',\r\n                justifyContent: 'center',\r\n                borderRadius: '16px',\r\n                color: colors.textSecondary\r\n              }}>\r\n                <div style={{ textAlign: 'center' }}>\r\n                  <Video size={64} style={{ marginBottom: '16px' }} />\r\n                  <h3 style={{ margin: '0 0 8px 0', color: colors.text }}>\r\n                    {videoData.title || 'ACEF Video Update'}\r\n                  </h3>\r\n                  <p style={{ margin: 0 }}>\r\n                    Video content will be available soon\r\n                  </p>\r\n                </div>\r\n              </div>\r\n            )}\r\n            \r\n            {(videoData.title || videoData.description) && (\r\n              <div style={{ padding: '24px' }}>\r\n                {videoData.title && (\r\n                  <h3 style={{ \r\n                    color: colors.text, \r\n                    margin: '0 0 12px 0',\r\n                    fontSize: '20px',\r\n                    fontWeight: 700\r\n                  }}>\r\n                    {videoData.title}\r\n                  </h3>\r\n                )}\r\n                \r\n                {videoData.description && (\r\n                  <p style={{ \r\n                    color: colors.textSecondary,\r\n                    margin: 0,\r\n                    lineHeight: '1.6',\r\n                    fontSize: '14px'\r\n                  }}>\r\n                    {videoData.description}\r\n                  </p>\r\n                )}\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      <MailList/>\r\n      <Footer />\r\n\r\n      <style jsx>{`\r\n        @keyframes spin {\r\n          0% { transform: rotate(0deg); }\r\n          100% { transform: rotate(360deg); }\r\n        }\r\n        \r\n        @keyframes pulse {\r\n          0% {\r\n            box-shadow: 0 0 0 0 rgba(239, 68, 68, 0.7);\r\n          }\r\n          70% {\r\n            box-shadow: 0 0 0 10px rgba(239, 68, 68, 0);\r\n          }\r\n          100% {\r\n            box-shadow: 0 0 0 0 rgba(239, 68, 68, 0);\r\n          }\r\n        }\r\n        \r\n        @media (max-width: 768px) {\r\n          .controls-section {\r\n            grid-template-columns: 1fr !important;\r\n            gap: 16px !important;\r\n          }\r\n          \r\n          .filter-controls {\r\n            justify-content: center;\r\n          }\r\n          \r\n          .tabs {\r\n            flex-wrap: wrap;\r\n          }\r\n          \r\n          .tab {\r\n            min-width: 120px;\r\n          }\r\n          \r\n          .articles-grid {\r\n            grid-template-columns: 1fr !important;\r\n          }\r\n          \r\n          .article-card.list-mode {\r\n            flex-direction: column !important;\r\n          }\r\n          \r\n          .article-card.list-mode .article-image {\r\n            width: 100% !important;\r\n            height: 200px !important;\r\n          }\r\n          \r\n          .video-section-content {\r\n            grid-template-columns: 1fr !important;\r\n            gap: 20px !important;\r\n            text-align: center;\r\n          }\r\n          \r\n          .section-header {\r\n            grid-template-columns: 1fr !important;\r\n            gap: 24px !important;\r\n            text-align: center;\r\n          }\r\n          \r\n          .contextual-banner {\r\n            max-width: none !important;\r\n            min-width: auto !important;\r\n          }\r\n          \r\n          .dual-banner-container {\r\n            grid-template-columns: 1fr !important;\r\n          }\r\n        }\r\n      `}</style>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default BlogUserPage;","import React, { useState, useEffect, useRef } from 'react';\r\n\r\nconst ChatAssistant = () => {\r\n  const [messages, setMessages] = useState([]);\r\n  const [input, setInput] = useState('');\r\n  const [loading, setLoading] = useState(false);\r\n  const [isOpen, setIsOpen] = useState(false);\r\n  const [hasShownWelcome, setHasShownWelcome] = useState(false);\r\n  const messagesEndRef = useRef(null);\r\n  const [whatsappNumber, setWhatsappNumber] = useState('');\r\n  const [whatsappDescription, setWhatsappDescription] = useState('ACEF Support');\r\n\r\n  // Enhanced conversation context with missing information tracking\r\n  const [conversationContext, setConversationContext] = useState({\r\n    userIntent: null,\r\n    collectingInfo: false,\r\n    collectedData: {},\r\n    missingFields: [],\r\n    waitingFor: null,\r\n    actionType: null,\r\n    currentStep: 0,\r\n    totalSteps: 0,\r\n    userEmail: null,\r\n    hasSubscribedToNewsletter: false\r\n  });\r\n\r\n  // Enhanced state for comprehensive website data\r\n  const [websiteData, setWebsiteData] = useState({ \r\n    apiData: [], \r\n    pageContent: [],\r\n    fullDataMap: new Map(),\r\n    lastUpdated: null \r\n  });\r\n  const [dataLastFetched, setDataLastFetched] = useState(null);\r\n  const [dataLoading, setDataLoading] = useState(false);\r\n  const [dataError, setDataError] = useState(null);\r\n\r\n  // Enhanced API configuration\r\n  const API_CONFIG = {\r\n    // GitHub Models API configuration\r\n    GITHUB_TOKEN: process.env.REACT_APP_GITHUB_TOKEN || \"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\",\r\n    GITHUB_ENDPOINT: \"https://models.github.ai/inference/chat/completions\",\r\n    MODEL: \"gpt-4o-mini\",\r\n    \r\n    // Backend API configuration\r\n    API_BASE: process.env.REACT_APP_API_URL || 'http://localhost:5000/api',\r\n    \r\n    // Request configuration\r\n    timeout: 30000,\r\n    retries: 3,\r\n    retryDelay: 2000\r\n  };\r\n\r\n  // Complete list of all available endpoints based on your controllers\r\n  const ALL_API_ENDPOINTS = [\r\n    // Core data endpoints\r\n    { url: `${API_CONFIG.API_BASE}/projects`, name: 'projects', critical: true },\r\n    { url: `${API_CONFIG.API_BASE}/blogs`, name: 'blogs', critical: true },\r\n    { url: `${API_CONFIG.API_BASE}/team`, name: 'team', critical: true },\r\n    { url: `${API_CONFIG.API_BASE}/partners`, name: 'partners', critical: true },\r\n    { url: `${API_CONFIG.API_BASE}/countries`, name: 'countries', critical: true },\r\n    { url: `${API_CONFIG.API_BASE}/categories`, name: 'categories', critical: true },\r\n    { url: `${API_CONFIG.API_BASE}/pillars`, name: 'pillars', critical: true },\r\n    \r\n    // Extended data endpoints\r\n    { url: `${API_CONFIG.API_BASE}/events`, name: 'events', critical: true },\r\n    { url: `${API_CONFIG.API_BASE}/jobs`, name: 'jobs', critical: true },\r\n    { url: `${API_CONFIG.API_BASE}/impacts`, name: 'impacts', critical: false },\r\n    { url: `${API_CONFIG.API_BASE}/video-sections`, name: 'videos', critical: false },\r\n    { url: `${API_CONFIG.API_BASE}/highlights`, name: 'highlights', critical: false },\r\n    { url: `${API_CONFIG.API_BASE}/transaction-details`, name: 'transaction_methods', critical: false },\r\n    { url: `${API_CONFIG.API_BASE}/volunteer-forms`, name: 'volunteer_forms', critical: false },\r\n    { url: `${API_CONFIG.API_BASE}/whatsapp`, name: 'whatsapp_contacts', critical: false },\r\n    { url: `${API_CONFIG.API_BASE}/country-contacts`, name: 'country_contacts', critical: false },\r\n    { url: `${API_CONFIG.API_BASE}/newsletter/stats`, name: 'newsletter_stats', critical: false },\r\n    \r\n    // Additional endpoints\r\n    { url: `${API_CONFIG.API_BASE}/donations`, name: 'donations', critical: false },\r\n    { url: `${API_CONFIG.API_BASE}/contacts`, name: 'contact_submissions', critical: false },\r\n    { url: `${API_CONFIG.API_BASE}/job-applications`, name: 'job_applications', critical: false },\r\n    { url: `${API_CONFIG.API_BASE}/event-interests`, name: 'event_applications', critical: false }\r\n  ];\r\n\r\n  // Enhanced data requirements for different action types\r\n  const ACTION_REQUIREMENTS = {\r\n    job_inquiry: {\r\n      required: ['fullName', 'email', 'position'],\r\n      optional: ['phone', 'location', 'experience', 'coverLetter'],\r\n      steps: [\r\n        'Collect personal information',\r\n        'Gather position details',\r\n        'Optional documents',\r\n        'Submit application'\r\n      ]\r\n    },\r\n    event_inquiry: {\r\n      required: ['fullName', 'email', 'eventName'],\r\n      optional: ['phone', 'organization', 'message'],\r\n      steps: [\r\n        'Collect personal information',\r\n        'Select event',\r\n        'Additional requirements',\r\n        'Confirm registration'\r\n      ]\r\n    },\r\n    partnership_inquiry: {\r\n      required: ['organizationName', 'contactPerson', 'email', 'partnershipType'],\r\n      optional: ['phone', 'website', 'description'],\r\n      steps: [\r\n        'Organization details',\r\n        'Contact information',\r\n        'Partnership specifics',\r\n        'Submit proposal'\r\n      ]\r\n    },\r\n    donation_inquiry: {\r\n      required: ['donorName', 'email', 'amount'],\r\n      optional: ['phone', 'message', 'anonymous'],\r\n      steps: [\r\n        'Donor information',\r\n        'Donation details',\r\n        'Confirm transaction'\r\n      ]\r\n    },\r\n    contact_inquiry: {\r\n      required: ['name', 'email', 'subject', 'message'],\r\n      optional: ['phone', 'organization'],\r\n      steps: [\r\n        'Contact details',\r\n        'Message content',\r\n        'Send message'\r\n      ]\r\n    },\r\n    volunteer_inquiry: {\r\n      required: ['fullName', 'email', 'country', 'availability'],\r\n      optional: ['phone', 'skills', 'experience'],\r\n      steps: [\r\n        'Personal information',\r\n        'Location & availability',\r\n        'Submit application'\r\n      ]\r\n    },\r\n    newsletter_subscription: {\r\n      required: ['email'],\r\n      optional: ['name'],\r\n      steps: [\r\n        'Email subscription'\r\n      ]\r\n    }\r\n  };\r\n\r\n  // Enhanced API request function with retry logic\r\n  const makeAPIRequest = async (url, options = {}) => {\r\n    const defaultOptions = {\r\n      method: 'GET',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        'Accept': 'application/json'\r\n      },\r\n      credentials: 'include',\r\n      ...options\r\n    };\r\n\r\n    for (let attempt = 1; attempt <= API_CONFIG.retries; attempt++) {\r\n      try {\r\n        const controller = new AbortController();\r\n        const timeoutId = setTimeout(() => controller.abort(), API_CONFIG.timeout);\r\n        \r\n        const response = await fetch(url, {\r\n          ...defaultOptions,\r\n          signal: controller.signal\r\n        });\r\n        \r\n        clearTimeout(timeoutId);\r\n        \r\n        if (!response.ok) {\r\n          throw new Error(`HTTP ${response.status}: ${response.statusText}`);\r\n        }\r\n        \r\n        const data = await response.json();\r\n        return data;\r\n        \r\n      } catch (error) {\r\n        console.warn(`API request attempt ${attempt} failed:`, error.message);\r\n        \r\n        if (attempt === API_CONFIG.retries) {\r\n          throw error;\r\n        }\r\n        \r\n        // Wait before retrying\r\n        await new Promise(resolve => setTimeout(resolve, API_CONFIG.retryDelay * attempt));\r\n      }\r\n    }\r\n  };\r\n\r\n  // Auto-subscribe to newsletter function\r\n  const autoSubscribeToNewsletter = async (email) => {\r\n    if (!email || conversationContext.hasSubscribedToNewsletter) {\r\n      return false;\r\n    }\r\n\r\n    try {\r\n      const result = await makeAPIRequest(`${API_CONFIG.API_BASE}/newsletter/subscribe`, {\r\n        method: 'POST',\r\n        body: JSON.stringify({ \r\n          email: email.toLowerCase().trim(),\r\n          source: 'chatbot_auto_subscribe' \r\n        })\r\n      });\r\n\r\n      if (result.success) {\r\n        console.log(' Auto-subscribed user to newsletter:', email);\r\n        setConversationContext(prev => ({\r\n          ...prev,\r\n          hasSubscribedToNewsletter: true\r\n        }));\r\n        \r\n        // Add a subtle confirmation message\r\n        setTimeout(() => {\r\n          setMessages(prev => [...prev, {\r\n            from: 'bot',\r\n            text: \" I've also subscribed you to our newsletter to keep you updated on ACEF's latest initiatives and opportunities!\",\r\n            isAutoSubscribe: true\r\n          }]);\r\n        }, 1000);\r\n        \r\n        return true;\r\n      }\r\n    } catch (error) {\r\n      console.log('Newsletter subscription failed (non-critical):', error);\r\n    }\r\n    \r\n    return false;\r\n  };\r\n\r\n  // Enhanced information extraction with improved patterns\r\n  const extractInformation = (message, actionType) => {\r\n    const extracted = {};\r\n    const lowerMessage = message.toLowerCase();\r\n\r\n    // Enhanced email extraction\r\n    const emailMatch = message.match(/[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,}/);\r\n    if (emailMatch) {\r\n      extracted.email = emailMatch[0];\r\n    }\r\n\r\n    // Enhanced phone extraction\r\n    const phonePatterns = [\r\n      /(?:\\+254|0)[0-9]{9,10}/,\r\n      /(?:\\+\\d{1,3}[-.\\s]?)?\\(?\\d{3}\\)?[-.\\s]?\\d{3}[-.\\s]?\\d{4}/,\r\n      /(?:\\+\\d{1,4}[-.\\s]?)?\\d{7,15}/\r\n    ];\r\n    \r\n    for (const pattern of phonePatterns) {\r\n      const phoneMatch = message.match(pattern);\r\n      if (phoneMatch) {\r\n        extracted.phone = phoneMatch[0];\r\n        break;\r\n      }\r\n    }\r\n\r\n    // Enhanced name extraction\r\n    const namePatterns = [\r\n      /my name is ([A-Za-z\\s]+)/i,\r\n      /i'?m ([A-Za-z\\s]+)/i,\r\n      /i am ([A-Za-z\\s]+)/i,\r\n      /call me ([A-Za-z\\s]+)/i,\r\n      /this is ([A-Za-z\\s]+)/i\r\n    ];\r\n    \r\n    for (const pattern of namePatterns) {\r\n      const match = message.match(pattern);\r\n      if (match && match[1].trim().length > 1) {\r\n        const name = match[1].trim();\r\n        // Filter out common false positives\r\n        const excludeWords = ['interested', 'looking', 'calling', 'writing', 'applying'];\r\n        if (!excludeWords.some(word => name.toLowerCase().includes(word))) {\r\n          extracted.fullName = name;\r\n          extracted.name = name;\r\n          break;\r\n        }\r\n      }\r\n    }\r\n\r\n    // Job-specific extraction\r\n    if (actionType === 'job_inquiry') {\r\n      const jobTitles = [\r\n        'coordinator', 'manager', 'officer', 'assistant', 'director', \r\n        'specialist', 'analyst', 'developer', 'engineer', 'consultant',\r\n        'supervisor', 'administrator', 'technician', 'intern'\r\n      ];\r\n      \r\n      for (const job of jobTitles) {\r\n        if (lowerMessage.includes(job)) {\r\n          extracted.position = job.charAt(0).toUpperCase() + job.slice(1);\r\n          break;\r\n        }\r\n      }\r\n    }\r\n\r\n    // Organization extraction for partnerships\r\n    if (actionType === 'partnership_inquiry') {\r\n      const orgPatterns = [\r\n        /from ([A-Za-z\\s&]+(?:foundation|organization|ngo|company|corp|ltd|inc))/i,\r\n        /represent ([A-Za-z\\s&]+)/i,\r\n        /work at ([A-Za-z\\s&]+)/i,\r\n        /organization (?:is )?([A-Za-z\\s&]+)/i\r\n      ];\r\n      \r\n      for (const pattern of orgPatterns) {\r\n        const match = message.match(pattern);\r\n        if (match) {\r\n          extracted.organizationName = match[1].trim();\r\n          break;\r\n        }\r\n      }\r\n    }\r\n\r\n    // Country extraction for volunteer inquiries\r\n    if (actionType === 'volunteer_inquiry') {\r\n      const countries = [\r\n        'kenya', 'rwanda', 'tanzania', 'uganda', 'ghana', 'cameroon',\r\n        'ethiopia', 'nigeria', 'south africa', 'zambia', 'zimbabwe'\r\n      ];\r\n      \r\n      for (const country of countries) {\r\n        if (lowerMessage.includes(country)) {\r\n          extracted.country = country.charAt(0).toUpperCase() + country.slice(1);\r\n          break;\r\n        }\r\n      }\r\n    }\r\n\r\n    // Amount extraction for donations\r\n    if (actionType === 'donation_inquiry') {\r\n      const amountPatterns = [\r\n        /\\$(\\d+(?:\\.\\d{2})?)/,\r\n        /(\\d+)\\s*dollars?/i,\r\n        /(\\d+)\\s*usd/i,\r\n        /amount.*?(\\d+)/i\r\n      ];\r\n      \r\n      for (const pattern of amountPatterns) {\r\n        const match = message.match(pattern);\r\n        if (match) {\r\n          extracted.amount = parseFloat(match[1]);\r\n          break;\r\n        }\r\n      }\r\n    }\r\n\r\n    return extracted;\r\n  };\r\n\r\n  // Check what information is still missing\r\n  const getMissingFields = (collectedData, actionType) => {\r\n    const requirements = ACTION_REQUIREMENTS[actionType];\r\n    if (!requirements) return [];\r\n\r\n    return requirements.required.filter(field => \r\n      !collectedData[field] || collectedData[field].toString().trim() === ''\r\n    );\r\n  };\r\n\r\n  // Enhanced welcome message with dynamic data\r\n  const getWelcomeMessage = () => ({\r\n    from: 'bot',\r\n    text: `Hi there!  I'm your comprehensive ACEF assistant. I can help you with:\r\n\r\n **Information & Resources**\r\n Learn about our programs and projects across Africa\r\n Explore our work in ${websiteData.fullDataMap?.get('countries')?.length || '20+'} countries\r\n Get details about our team, partners, and impact statistics\r\n\r\n **Career Opportunities**\r\n Browse ${websiteData.fullDataMap?.get('jobs')?.length || 'current'} job openings\r\n Submit job applications with guided assistance\r\n Get information about working with ACEF\r\n\r\n **Get Involved**\r\n Register for ${websiteData.fullDataMap?.get('events')?.length || 'upcoming'} events and workshops\r\n Apply for volunteer opportunities in your country\r\n Explore partnership and collaboration options\r\n\r\n **Support Our Mission**\r\n Learn about donation methods and impact\r\n Get information about supporting specific projects or countries\r\n Subscribe to our newsletter for updates\r\n\r\n **Direct Communication**\r\n Contact our team with questions or inquiries\r\n Connect with country-specific representatives\r\n Get WhatsApp contact information${whatsappNumber ? ` (${whatsappNumber})` : ''}\r\n\r\nI can perform actions for you - just tell me what you need! For example, say \"I want to apply for a job\" or \"How can I volunteer in Kenya?\" and I'll guide you through the process.\r\n\r\nHow can I assist you today?`\r\n  });\r\n\r\n  const scrollToBottom = () => {\r\n    messagesEndRef.current?.scrollIntoView({ behavior: \"smooth\" });\r\n  };\r\n\r\n  useEffect(() => {\r\n    scrollToBottom();\r\n  }, [messages, loading]);\r\n\r\n  // Comprehensive data fetching function with enhanced error handling\r\n  const fetchWebsiteData = async () => {\r\n    setDataLoading(true);\r\n    setDataError(null);\r\n    \r\n    try {\r\n      console.log(' Starting comprehensive data fetch from:', API_CONFIG.API_BASE);\r\n      \r\n      const apiDataPromises = ALL_API_ENDPOINTS.map(async (endpoint) => {\r\n        try {\r\n          console.log(` Fetching: ${endpoint.url}`);\r\n          \r\n          const data = await makeAPIRequest(endpoint.url);\r\n          const resultData = data.data || data;\r\n          \r\n          console.log(` ${endpoint.name} data loaded:`, Array.isArray(resultData) ? resultData.length : 'N/A', 'items');\r\n          \r\n          // Special handling for WhatsApp data\r\n          if (endpoint.name === 'whatsapp_contacts' && Array.isArray(resultData) && resultData.length > 0) {\r\n            const whatsappContact = resultData[0];\r\n            console.log(' WhatsApp contact loaded:', whatsappContact);\r\n            setWhatsappNumber(whatsappContact.number || whatsappContact.phone || '');\r\n            setWhatsappDescription(whatsappContact.description || 'ACEF Support');\r\n          }\r\n          \r\n          return { \r\n            source: endpoint.name, \r\n            data: Array.isArray(resultData) ? resultData : [resultData],\r\n            status: 'success',\r\n            critical: endpoint.critical,\r\n            timestamp: new Date().toISOString()\r\n          };\r\n        } catch (error) {\r\n          console.error(` Error fetching ${endpoint.name}:`, error.message);\r\n          return { \r\n            source: endpoint.name, \r\n            data: null, \r\n            status: 'error', \r\n            critical: endpoint.critical,\r\n            error: error.message \r\n          };\r\n        }\r\n      });\r\n\r\n      const apiResults = await Promise.all(apiDataPromises);\r\n      const successfulData = apiResults.filter(item => item.status === 'success' && item.data);\r\n      const failedData = apiResults.filter(item => item.status === 'error');\r\n      const criticalFailures = failedData.filter(item => item.critical);\r\n      \r\n      console.log(` Data fetch complete: ${successfulData.length}/${apiResults.length} endpoints successful`);\r\n      \r\n      const fullDataMap = new Map();\r\n      successfulData.forEach(item => {\r\n        fullDataMap.set(item.source, item.data);\r\n      });\r\n\r\n      const finalData = {\r\n        apiData: successfulData,\r\n        pageContent: [],\r\n        fullDataMap: fullDataMap,\r\n        lastUpdated: new Date().toISOString(),\r\n        stats: {\r\n          total: apiResults.length,\r\n          successful: successfulData.length,\r\n          failed: failedData.length,\r\n          criticalFailures: criticalFailures.length\r\n        }\r\n      };\r\n\r\n      setWebsiteData(finalData);\r\n      setDataLastFetched(new Date());\r\n      \r\n      if (criticalFailures.length > 0) {\r\n        setDataError(`${criticalFailures.length} critical data sources unavailable`);\r\n      } else if (successfulData.length > 0) {\r\n        console.log(' Comprehensive website data successfully loaded');\r\n      } else {\r\n        setDataError('Unable to load any website data');\r\n      }\r\n\r\n      return finalData;\r\n      \r\n    } catch (error) {\r\n      console.error(' Critical error in fetchWebsiteData:', error);\r\n      setDataError(`Data loading failed: ${error.message}`);\r\n      return { apiData: [], pageContent: [], fullDataMap: new Map(), error: error.message };\r\n    } finally {\r\n      setDataLoading(false);\r\n    }\r\n  };\r\n\r\n  // Enhanced system prompt with comprehensive ACEF data\r\n  const getSystemPrompt = (websiteData = { apiData: [], pageContent: [], fullDataMap: new Map() }) => {\r\n    const currentTime = new Date().toLocaleString();\r\n    \r\n    let basePrompt = `You are an advanced AI assistant for ACEF (African Climate and Environmental Foundation). You excel at collecting information through natural conversation and can perform various actions for users.\r\n\r\nACEF CORE INFORMATION:\r\n Mission: Supporting sustainable development and climate resilience across Africa\r\n Focus Areas:\r\n- Sustainable agriculture training and support  \r\n- Renewable energy projects (especially solar)\r\n- Water conservation and management initiatives\r\n- Reforestation and biodiversity programs\r\n- Community resilience building\r\n- Climate education and awareness campaigns\r\n\r\n Operating Region: Africa - Headquarters: Limbe, Cameroon\r\n General Contact: info@acef.org\r\n WhatsApp: ${whatsappNumber}${whatsappDescription !== 'ACEF Support' ? ` (${whatsappDescription})` : ''}\r\n Website: https://acef.org\r\n\r\nData Last Updated: ${currentTime}`;\r\n\r\n    // Add comprehensive current data\r\n    if (websiteData.fullDataMap && websiteData.fullDataMap.size > 0) {\r\n      basePrompt += `\\n\\n=== COMPREHENSIVE ACEF DATA ===\\n`;\r\n      \r\n      websiteData.fullDataMap.forEach((data, source) => {\r\n        if (data && data.length > 0) {\r\n          basePrompt += `\\n ${source.toUpperCase()} (${data.length} items):\\n`;\r\n          \r\n          data.slice(0, 25).forEach((entry, index) => {\r\n            switch(source) {\r\n              case 'team':\r\n                if (entry.name) {\r\n                  basePrompt += ` ${entry.name}${entry.position ? ` - ${entry.position}` : ''}${entry.department ? ` (${entry.department})` : ''}${entry.country ? ` in ${entry.country}` : ''}${entry.email ? ` - ${entry.email}` : ''}\\n`;\r\n                }\r\n                break;\r\n                \r\n              case 'countries':\r\n                if (entry.name) {\r\n                  basePrompt += ` ${entry.name}${entry.code ? ` (${entry.code})` : ''}${entry.region ? ` - ${entry.region}` : ''}${entry.continent ? ` in ${entry.continent}` : ''}\\n`;\r\n                }\r\n                break;\r\n\r\n              case 'projects':\r\n                if (entry.title) {\r\n                  basePrompt += ` ${entry.title}${entry.location ? ` (${entry.location})` : ''}${entry.country_name ? ` in ${entry.country_name}` : ''}${entry.status ? ` [Status: ${entry.status}]` : ''}${entry.short_description ? ` | ${entry.short_description.substring(0, 100)}...` : ''}\\n`;\r\n                }\r\n                break;\r\n                \r\n              case 'jobs':\r\n                if (entry.title) {\r\n                  basePrompt += ` ${entry.title}${entry.location ? ` in ${entry.location}` : ''}${entry.level ? ` (${entry.level})` : ''}${entry.deadline || entry.lastDate ? ` | Deadline: ${entry.deadline || entry.lastDate}` : ''}${entry.salary ? ` | Salary: ${entry.salary}` : ''}\\n`;\r\n                }\r\n                break;\r\n                \r\n              case 'events':\r\n                if (entry.title) {\r\n                  basePrompt += ` ${entry.title}${entry.start_date ? ` on ${entry.start_date}` : ''}${entry.location ? ` at ${entry.location}` : ''}${entry.country ? ` in ${entry.country}` : ''}${entry.is_paid ? ` (Paid event)` : ' (Free event)'}\\n`;\r\n                }\r\n                break;\r\n                \r\n              case 'blogs':\r\n                if (entry.title) {\r\n                  basePrompt += ` ${entry.title}${entry.author ? ` by ${entry.author}` : ''}${entry.created_at ? ` (${entry.created_at.split('T')[0]})` : ''}${entry.is_news ? ' [NEWS]' : ''}\\n`;\r\n                }\r\n                break;\r\n                \r\n              case 'volunteer_forms':\r\n                if (entry.form_title) {\r\n                  basePrompt += ` ${entry.country_name || 'Country'}: ${entry.form_title}${entry.form_url ? ` - ${entry.form_url}` : ''}${entry.is_active ? ' [ACTIVE]' : ' [INACTIVE]'}\\n`;\r\n                }\r\n                break;\r\n                \r\n              case 'transaction_methods':\r\n                if (entry.name) {\r\n                  basePrompt += ` ${entry.type}: ${entry.name}${entry.country ? ` (${entry.country})` : ''}${entry.fields ? ` | ${entry.fields.length} fields` : ''}\\n`;\r\n                }\r\n                break;\r\n                \r\n              case 'impacts':\r\n                if (entry.name) {\r\n                  basePrompt += ` ${entry.name}: ${entry.current_value || 0}${entry.unit ? ` ${entry.unit}` : ''}${entry.is_featured ? ' [FEATURED]' : ''}\\n`;\r\n                }\r\n                break;\r\n                \r\n              case 'partners':\r\n                if (entry.name) {\r\n                  basePrompt += ` ${entry.name}${entry.type ? ` (${entry.type})` : ''}${entry.country ? ` - ${entry.country}` : ''}${entry.website ? ` | ${entry.website}` : ''}\\n`;\r\n                }\r\n                break;\r\n                \r\n              case 'country_contacts':\r\n                if (entry.country) {\r\n                  basePrompt += ` ${entry.country}: ${entry.email || 'No email'}${entry.phone ? ` | ${entry.phone}` : ''}${entry.physical_address ? ` | ${entry.physical_address}` : ''}\\n`;\r\n                }\r\n                break;\r\n                \r\n              default:\r\n                if (entry.name || entry.title) {\r\n                  basePrompt += ` ${entry.name || entry.title}${entry.description ? ` | ${entry.description.substring(0, 100)}...` : ''}\\n`;\r\n                }\r\n            }\r\n          });\r\n          basePrompt += '\\n';\r\n        }\r\n      });\r\n    }\r\n\r\n    basePrompt += `\\n=== ACTION CAPABILITIES ===\r\n I can help users perform these actions:\r\n Job Applications - Collect information and submit job applications\r\n Event Registration - Register interest in events and workshops\r\n Volunteer Applications - Help users apply for volunteer opportunities in their country\r\n Partnership Inquiries - Submit partnership and collaboration proposals\r\n Newsletter Subscription - Subscribe users to ACEF newsletter\r\n Contact Form Submission - Submit general inquiries and messages\r\n Donation Information - Provide donation methods and process guidance\r\n\r\n AUTO-NEWSLETTER SUBSCRIPTION:\r\n When I collect a user's email for any purpose, they are automatically subscribed to our newsletter\r\n This keeps them informed about ACEF's work and opportunities\r\n\r\n INFORMATION COLLECTION STRATEGY:\r\n Always extract any information provided in user messages (emails, names, phone numbers, etc.)\r\n When users express interest in actions, proactively start collecting required information\r\n Ask ONE specific follow-up question at a time - don't overwhelm users\r\n Acknowledge information received before asking for the next piece\r\n Use natural, conversational language for follow-ups\r\n Show progress when collecting multiple pieces of information`;\r\n\r\n    // Add conversation context if active\r\n    if (conversationContext.collectingInfo) {\r\n      basePrompt += `\\n\\n=== ACTIVE CONVERSATION CONTEXT ===\r\nUser Intent: ${conversationContext.userIntent}\r\nAction Type: ${conversationContext.actionType}\r\nStep: ${conversationContext.currentStep + 1}/${conversationContext.totalSteps}\r\nInformation Collected: ${JSON.stringify(conversationContext.collectedData, null, 2)}\r\nMissing Required Fields: ${conversationContext.missingFields.join(', ')}\r\n\r\nINSTRUCTIONS: \r\n- Continue collecting the missing information listed above\r\n- Ask for ONE piece of missing information at a time\r\n- Be encouraging and show progress\r\n- When all required info is collected, confirm details and proceed with submission`;\r\n    }\r\n\r\n    basePrompt += `\\n\\n=== RESPONSE GUIDELINES ===\r\n ALWAYS be proactive and helpful\r\n Extract any information provided in user messages\r\n Ask natural follow-up questions when information is missing\r\n Show empathy and understanding\r\n Provide clear next steps\r\n Celebrate progress made in information collection\r\n For general questions, provide comprehensive answers using the data above\r\n\r\n LIMITATIONS:\r\n- Cannot access external websites beyond ACEF's systems\r\n- Cannot make financial transactions directly\r\n- Always verify important information with users`;\r\n\r\n    return basePrompt;\r\n  };\r\n\r\n  // Enhanced message handling with information extraction and follow-up logic\r\n  const analyzeUserIntent = (message) => {\r\n    const lowerMessage = message.toLowerCase();\r\n    \r\n    // Job-related intents\r\n    if (lowerMessage.includes('job') || lowerMessage.includes('career') || lowerMessage.includes('position') || \r\n        lowerMessage.includes('apply') || lowerMessage.includes('work') || lowerMessage.includes('employment') ||\r\n        lowerMessage.includes('hire') || lowerMessage.includes('opportunity')) {\r\n      return { type: 'job_inquiry', confidence: 'high' };\r\n    }\r\n    \r\n    // Event-related intents\r\n    if (lowerMessage.includes('event') || lowerMessage.includes('register') || lowerMessage.includes('attend') ||\r\n        lowerMessage.includes('workshop') || lowerMessage.includes('seminar') || lowerMessage.includes('conference')) {\r\n      return { type: 'event_inquiry', confidence: 'high' };\r\n    }\r\n    \r\n    // Volunteer-related intents\r\n    if (lowerMessage.includes('volunteer') || lowerMessage.includes('help out') || lowerMessage.includes('participate') ||\r\n        lowerMessage.includes('get involved') || lowerMessage.includes('contribute')) {\r\n      return { type: 'volunteer_inquiry', confidence: 'high' };\r\n    }\r\n    \r\n    // Partnership-related intents\r\n    if (lowerMessage.includes('partner') || lowerMessage.includes('collaborate') || lowerMessage.includes('organization') ||\r\n        lowerMessage.includes('ngo') || lowerMessage.includes('company') || lowerMessage.includes('cooperation')) {\r\n      return { type: 'partnership_inquiry', confidence: 'medium' };\r\n    }\r\n    \r\n    // Donation-related intents\r\n    if (lowerMessage.includes('donat') || lowerMessage.includes('contribut') || lowerMessage.includes('support') ||\r\n        lowerMessage.includes('fund') || lowerMessage.includes('sponsor') || lowerMessage.includes('give')) {\r\n      return { type: 'donation_inquiry', confidence: 'medium' };\r\n    }\r\n    \r\n    // Newsletter-related intents\r\n    if (lowerMessage.includes('newsletter') || lowerMessage.includes('subscribe') || lowerMessage.includes('updates') ||\r\n        lowerMessage.includes('email list') || lowerMessage.includes('news')) {\r\n      return { type: 'newsletter_subscription', confidence: 'high' };\r\n    }\r\n    \r\n    // Contact-related intents\r\n    if (lowerMessage.includes('contact') || lowerMessage.includes('speak') || lowerMessage.includes('talk') ||\r\n        lowerMessage.includes('meet') || lowerMessage.includes('email') || lowerMessage.includes('call') ||\r\n        lowerMessage.includes('reach') || lowerMessage.includes('message')) {\r\n      return { type: 'contact_inquiry', confidence: 'medium' };\r\n    }\r\n    \r\n    return { type: 'information_request', confidence: 'low' };\r\n  };\r\n\r\n  // Enhanced submission function with better error handling\r\n  const submitCollectedData = async (actionType, data) => {\r\n    try {\r\n      let endpoint = '';\r\n      let payload = {};\r\n      \r\n      switch (actionType) {\r\n        case 'job_inquiry':\r\n          endpoint = `${API_CONFIG.API_BASE}/job-applications`;\r\n          payload = {\r\n            job_id: data.jobId || 1,\r\n            name: data.fullName || data.name,\r\n            email: data.email,\r\n            phone: data.phone || '',\r\n            position: data.position || 'General Application',\r\n            cover_letter: data.coverLetter || `I am interested in the ${data.position || 'available'} position at ACEF.`,\r\n            experience: data.experience || '',\r\n            location: data.location || ''\r\n          };\r\n          break;\r\n          \r\n        case 'event_inquiry':\r\n          endpoint = `${API_CONFIG.API_BASE}/event-interests`;\r\n          payload = {\r\n            event_id: data.eventId || 1,\r\n            name: data.fullName || data.name,\r\n            email: data.email,\r\n            phone: data.phone || '',\r\n            organization: data.organization || '',\r\n            message: data.message || `I am interested in attending ${data.eventName || 'the event'}.`\r\n          };\r\n          break;\r\n          \r\n        case 'contact_inquiry':\r\n          endpoint = `${API_CONFIG.API_BASE}/contacts`;\r\n          payload = {\r\n            name: data.name || data.fullName,\r\n            email: data.email,\r\n            subject: data.subject,\r\n            message: data.message,\r\n            phone: data.phone || '',\r\n            organization: data.organization || ''\r\n          };\r\n          break;\r\n          \r\n        case 'newsletter_subscription':\r\n          endpoint = `${API_CONFIG.API_BASE}/newsletter/subscribe`;\r\n          payload = {\r\n            email: data.email,\r\n            name: data.name || data.fullName || '',\r\n            source: 'chatbot_subscription'\r\n          };\r\n          break;\r\n\r\n        case 'donation_inquiry':\r\n          // For donation inquiries, we provide guidance rather than direct submission\r\n          return {\r\n            success: true,\r\n            message: `Thank you for your interest in donating ${data.amount ? `${data.amount}` : ''} to ACEF! Please visit our donation page or contact us directly to complete your donation. Our team will be in touch with you at ${data.email} with detailed donation instructions.`,\r\n            data: data\r\n          };\r\n          \r\n        case 'partnership_inquiry':\r\n          endpoint = `${API_CONFIG.API_BASE}/contacts`;\r\n          payload = {\r\n            name: data.contactPerson || data.name,\r\n            email: data.email,\r\n            subject: `Partnership Inquiry - ${data.organizationName}`,\r\n            message: `Organization: ${data.organizationName}\\nPartnership Type: ${data.partnershipType}\\nDescription: ${data.description || 'Partnership inquiry submitted via chatbot'}`,\r\n            phone: data.phone || '',\r\n            organization: data.organizationName\r\n          };\r\n          break;\r\n          \r\n        default:\r\n          throw new Error(`Submission not implemented for ${actionType}`);\r\n      }\r\n      \r\n      const result = await makeAPIRequest(endpoint, {\r\n        method: 'POST',\r\n        body: JSON.stringify(payload)\r\n      });\r\n      \r\n      if (result.success !== false) {\r\n        return {\r\n          success: true,\r\n          message: result.message || getSuccessMessage(actionType, data),\r\n          data: result.data || result\r\n        };\r\n      } else {\r\n        throw new Error(result.message || 'Submission failed');\r\n      }\r\n      \r\n    } catch (error) {\r\n      console.error('Submission error:', error);\r\n      return {\r\n        success: false,\r\n        message: error.message || 'Failed to submit. Please try again.',\r\n        error: error\r\n      };\r\n    }\r\n  };\r\n\r\n  // Get success message based on action type\r\n  const getSuccessMessage = (actionType, data) => {\r\n    switch (actionType) {\r\n      case 'job_inquiry':\r\n        return `Thank you ${data.fullName || data.name}! Your job application has been submitted successfully. Our HR team will review your application and contact you at ${data.email} within 5-7 business days.`;\r\n      case 'event_inquiry':\r\n        return `Great! Your interest in ${data.eventName || 'the event'} has been registered. You'll receive event details and updates at ${data.email}.`;\r\n      case 'contact_inquiry':\r\n        return `Your message has been sent successfully! We'll respond to your inquiry at ${data.email} within 2-3 business days.`;\r\n      case 'newsletter_subscription':\r\n        return `Welcome to the ACEF newsletter! You'll now receive updates and news at ${data.email}.`;\r\n      case 'partnership_inquiry':\r\n        return `Thank you for your partnership inquiry! Our partnerships team will review your proposal and contact ${data.organizationName} at ${data.email} soon.`;\r\n      default:\r\n        return 'Your submission has been processed successfully!';\r\n    }\r\n  };\r\n\r\n  // Enhanced API call with rate limiting, retry logic, and fallback responses\r\n  const callGitHubModelsAPI = async (userMessage, retryCount = 0) => {\r\n    const MAX_RETRIES = 3;\r\n    const RETRY_DELAYS = [2000, 5000, 8000];\r\n\r\n    try {\r\n      console.log(' Making enhanced API call...', retryCount > 0 ? `(Retry ${retryCount})` : '');\r\n      \r\n      const intent = analyzeUserIntent(userMessage);\r\n      console.log(' Detected user intent:', intent);\r\n\r\n      // Extract information using existing context\r\n      const extractedInfo = extractInformation(userMessage, intent.type);\r\n      console.log(' Extracted information:', extractedInfo);\r\n\r\n      // Rate limiting check\r\n      const now = Date.now();\r\n      const lastCallTime = localStorage.getItem('lastAPICall');\r\n      const MIN_INTERVAL = 1500;\r\n      \r\n      if (lastCallTime && (now - parseInt(lastCallTime)) < MIN_INTERVAL) {\r\n        const waitTime = MIN_INTERVAL - (now - parseInt(lastCallTime));\r\n        console.log(` Rate limiting: waiting ${waitTime}ms`);\r\n        await new Promise(resolve => setTimeout(resolve, waitTime));\r\n      }\r\n\r\n      const controller = new AbortController();\r\n      const timeoutId = setTimeout(() => controller.abort(), API_CONFIG.timeout);\r\n\r\n      let contextPrompt = getSystemPrompt(websiteData);\r\n      \r\n      // Handle conversation state\r\n      let updatedContext = { ...conversationContext };\r\n\r\n      // If new intent detected and not already collecting info for this type\r\n      if (intent.type !== 'information_request' && \r\n          (!conversationContext.collectingInfo || conversationContext.actionType !== intent.type)) {\r\n        \r\n        const requirements = ACTION_REQUIREMENTS[intent.type];\r\n        if (requirements) {\r\n          updatedContext = {\r\n            userIntent: intent.type,\r\n            collectingInfo: true,\r\n            collectedData: extractedInfo,\r\n            missingFields: getMissingFields(extractedInfo, intent.type),\r\n            waitingFor: null,\r\n            actionType: intent.type,\r\n            currentStep: 0,\r\n            totalSteps: requirements.steps.length,\r\n            userEmail: extractedInfo.email || null,\r\n            hasSubscribedToNewsletter: false\r\n          };\r\n        }\r\n      } \r\n      // If already collecting info, merge new extracted information\r\n      else if (conversationContext.collectingInfo) {\r\n        const mergedData = { ...conversationContext.collectedData, ...extractedInfo };\r\n        const missingFields = getMissingFields(mergedData, conversationContext.actionType);\r\n        \r\n        updatedContext = {\r\n          ...conversationContext,\r\n          collectedData: mergedData,\r\n          missingFields: missingFields,\r\n          userEmail: mergedData.email || conversationContext.userEmail\r\n        };\r\n\r\n        // Auto-subscribe to newsletter if email was just collected\r\n        if (extractedInfo.email && !conversationContext.userEmail) {\r\n          setTimeout(() => {\r\n            autoSubscribeToNewsletter(extractedInfo.email);\r\n          }, 2000);\r\n        }\r\n        \r\n        // Check if we have all required info and should submit\r\n        if (missingFields.length === 0) {\r\n          console.log(' All required information collected, processing...');\r\n          \r\n          const submitResult = await submitCollectedData(conversationContext.actionType, mergedData);\r\n          \r\n          if (submitResult.success) {\r\n            // Clear context after successful submission\r\n            updatedContext = {\r\n              userIntent: null,\r\n              collectingInfo: false,\r\n              collectedData: {},\r\n              missingFields: [],\r\n              waitingFor: null,\r\n              actionType: null,\r\n              currentStep: 0,\r\n              totalSteps: 0,\r\n              userEmail: null,\r\n              hasSubscribedToNewsletter: false\r\n            };\r\n            \r\n            setConversationContext(updatedContext);\r\n            return submitResult.message;\r\n          } else {\r\n            return ` ${submitResult.message}\\n\\nPlease check your information and try again, or contact us directly via WhatsApp for immediate assistance at ${whatsappNumber}.`;\r\n          }\r\n        }\r\n      }\r\n\r\n      // Update context with any changes\r\n      setConversationContext(updatedContext);\r\n\r\n      // Build enhanced system prompt with current context\r\n      let enhancedPrompt = contextPrompt;\r\n      if (updatedContext.collectingInfo) {\r\n        enhancedPrompt += `\\n\\n CURRENT TASK: Collecting information for ${updatedContext.actionType}\r\n PROGRESS: ${updatedContext.totalSteps - updatedContext.missingFields.length}/${updatedContext.totalSteps} steps complete\r\n COLLECTED DATA: ${JSON.stringify(updatedContext.collectedData, null, 2)}\r\n MISSING FIELDS: ${updatedContext.missingFields.join(', ')}\r\n\r\nIMPORTANT INSTRUCTIONS:\r\n- If the user has already provided information in previous messages, acknowledge it and don't ask again\r\n- Focus on collecting ONLY the missing fields: ${updatedContext.missingFields.join(', ')}\r\n- If no fields are missing, confirm the details and proceed with submission\r\n- Be natural and conversational, not robotic`;\r\n      }\r\n\r\n      // Store call time for rate limiting\r\n      localStorage.setItem('lastAPICall', now.toString());\r\n\r\n      const response = await fetch(API_CONFIG.GITHUB_ENDPOINT, {\r\n        method: 'POST',\r\n        headers: {\r\n          'Authorization': `Bearer ${API_CONFIG.GITHUB_TOKEN}`,\r\n          'Content-Type': 'application/json',\r\n          'Accept': 'application/json'\r\n        },\r\n        signal: controller.signal,\r\n        body: JSON.stringify({\r\n          messages: [\r\n            {\r\n              role: \"system\",\r\n              content: enhancedPrompt\r\n            },\r\n            {\r\n              role: \"user\",\r\n              content: userMessage\r\n            }\r\n          ],\r\n          model: API_CONFIG.MODEL,\r\n          temperature: 0.7,\r\n          max_tokens: 1000,\r\n          top_p: 0.9\r\n        })\r\n      });\r\n\r\n      clearTimeout(timeoutId);\r\n\r\n      // Handle rate limiting specifically\r\n      if (response.status === 429) {\r\n        const retryAfter = response.headers.get('Retry-After');\r\n        const waitTime = retryAfter ? parseInt(retryAfter) * 1000 : RETRY_DELAYS[retryCount] || 8000;\r\n        \r\n        if (retryCount < MAX_RETRIES) {\r\n          console.log(` Rate limited. Retrying in ${waitTime/1000}s... (${retryCount + 1}/${MAX_RETRIES})`);\r\n          await new Promise(resolve => setTimeout(resolve, waitTime));\r\n          return callGitHubModelsAPI(userMessage, retryCount + 1);\r\n        } else {\r\n          return getFallbackResponse(userMessage, updatedContext);\r\n        }\r\n      }\r\n\r\n      if (!response.ok) {\r\n        throw new Error(`HTTP error! status: ${response.status}`);\r\n      }\r\n\r\n      const data = await response.json();\r\n      return data.choices[0].message.content;\r\n      \r\n    } catch (error) {\r\n      console.error(' API Error:', error);\r\n      \r\n      if (error.name === 'AbortError') {\r\n        if (retryCount < MAX_RETRIES) {\r\n          console.log(` Request timeout. Retrying... (${retryCount + 1}/${MAX_RETRIES})`);\r\n          return callGitHubModelsAPI(userMessage, retryCount + 1);\r\n        }\r\n      }\r\n      \r\n      if (retryCount >= MAX_RETRIES || error.message.includes('429')) {\r\n        return getFallbackResponse(userMessage, conversationContext);\r\n      }\r\n      \r\n      throw error;\r\n    }\r\n  };\r\n\r\n  // Enhanced intelligent fallback response system\r\n  const getFallbackResponse = (userMessage, context) => {\r\n    const lowerMessage = userMessage.toLowerCase();\r\n    \r\n    // Handle volunteer inquiries without AI\r\n    if (context.actionType === 'volunteer_inquiry' || lowerMessage.includes('volunteer')) {\r\n      if (!context.collectedData.email) {\r\n        return \"I'd love to help you with volunteering! To get started, could you please share your email address?\";\r\n      }\r\n      if (!context.collectedData.fullName) {\r\n        return \"Great! What's your full name?\";\r\n      }\r\n      if (!context.collectedData.country) {\r\n        return \"Perfect! Which country are you interested in volunteering in? We operate across Africa including Kenya, Uganda, Tanzania, Rwanda, Ethiopia, Cameroon, and others.\";\r\n      }\r\n      \r\n      // Try to find volunteer form\r\n      const volunteerForms = websiteData?.fullDataMap?.get('volunteer_forms') || [];\r\n      const countryForm = volunteerForms.find(form => \r\n        form.country_name?.toLowerCase() === context.collectedData.country?.toLowerCase()\r\n      );\r\n      \r\n      if (countryForm && countryForm.is_active) {\r\n        return `Perfect! Here's how you can volunteer with ACEF in ${context.collectedData.country}:\\n\\n **${countryForm.form_title}**\\n\\n **Complete your application here:**\\n${countryForm.form_url}\\n\\nThank you for your interest in supporting ACEF's mission! `;\r\n      } else {\r\n        return `Thank you for your interest in volunteering in ${context.collectedData.country || 'your area'}! Please contact us directly to discuss volunteer opportunities:\\n\\n Email: info@acef.org\\n WhatsApp: ${whatsappNumber}${whatsappDescription !== 'ACEF Support' ? ` (${whatsappDescription})` : ''}\\n Website: https://acef.org`;\r\n      }\r\n    }\r\n\r\n    // Handle job inquiries\r\n    if (context.actionType === 'job_inquiry' || lowerMessage.includes('job') || lowerMessage.includes('career')) {\r\n      const jobs = websiteData?.fullDataMap?.get('jobs') || [];\r\n      if (jobs.length > 0) {\r\n        const jobsList = jobs.slice(0, 3).map(job => \r\n          ` ${job.title} ${job.location ? `in ${job.location}` : ''}`\r\n        ).join('\\n');\r\n        return `I can help you with job opportunities at ACEF! Here are some current openings:\\n\\n${jobsList}\\n\\nWhat type of position interests you? I can guide you through the application process.`;\r\n      }\r\n      return \"I can help you with job opportunities at ACEF! You can view our current openings on our website or contact us at info@acef.org. What type of position interests you?\";\r\n    }\r\n\r\n    // Handle event inquiries\r\n    if (context.actionType === 'event_inquiry' || lowerMessage.includes('event')) {\r\n      const events = websiteData?.fullDataMap?.get('events') || [];\r\n      if (events.length > 0) {\r\n        const eventsList = events.slice(0, 3).map(event => \r\n          ` ${event.title} ${event.start_date ? `on ${new Date(event.start_date).toLocaleDateString()}` : ''}`\r\n        ).join('\\n');\r\n        return `Here are some upcoming ACEF events:\\n\\n${eventsList}\\n\\nWhich event interests you? I can help you register!`;\r\n      }\r\n      return \"I can help you with ACEF events and workshops! Contact us for information about upcoming events: info@acef.org\";\r\n    }\r\n\r\n    // Handle contact inquiries\r\n    if (lowerMessage.includes('contact') || lowerMessage.includes('email')) {\r\n      return `You can reach ACEF through:\\n\\n Email: info@acef.org\\n WhatsApp: ${whatsappNumber}${whatsappDescription !== 'ACEF Support' ? ` (${whatsappDescription})` : ''}\\n Website: https://acef.org\\n\\nHow can we help you today?`;\r\n    }\r\n    \r\n    // Handle donation inquiries\r\n    if (lowerMessage.includes('donate') || lowerMessage.includes('support')) {\r\n      const donationMethods = websiteData?.fullDataMap?.get('transaction_methods') || [];\r\n      if (donationMethods.length > 0) {\r\n        return `Thank you for your interest in supporting ACEF! We have ${donationMethods.length} donation methods available. You can find detailed donation information on our website at https://acef.org or contact us at info@acef.org for specific donation methods in your country.`;\r\n      }\r\n      return \"Thank you for your interest in supporting ACEF! You can find donation information on our website at https://acef.org or contact us at info@acef.org for specific donation methods in your country.\";\r\n    }\r\n\r\n    // Handle partnership inquiries\r\n    if (lowerMessage.includes('partner') || lowerMessage.includes('collaborate')) {\r\n      return \"We're always interested in partnerships! Please contact us with details about your organization and proposed collaboration:\\n\\n Email: info@acef.org\\n WhatsApp: ${whatsappNumber}\\n\\nWhat type of partnership are you interested in?\";\r\n    }\r\n\r\n    // Generic helpful response\r\n    const dataStats = websiteData?.fullDataMap ? \r\n      `We operate in ${websiteData.fullDataMap.get('countries')?.length || '20+'} countries with ${websiteData.fullDataMap.get('projects')?.length || 'numerous'} active projects.` : '';\r\n\r\n    return `I'm currently experiencing high traffic, but I'm here to help! ${dataStats}\r\n\r\nHere's what I can assist you with:\r\n\r\n **Information about ACEF's work** across Africa\r\n **Career opportunities** and job applications  \r\n **Volunteer opportunities** in your country\r\n **Donation and support** information\r\n **Contact information** and direct communication\r\n\r\nFor immediate assistance, contact us:\r\n info@acef.org\r\n WhatsApp: ${whatsappNumber}\r\n\r\nWhat would you like to know more about?`;\r\n  };\r\n\r\n  // Clear conversation function\r\n  const clearConversation = () => {\r\n    setMessages([getWelcomeMessage()]);\r\n    setConversationContext({\r\n      userIntent: null,\r\n      collectingInfo: false,\r\n      collectedData: {},\r\n      missingFields: [],\r\n      waitingFor: null,\r\n      actionType: null,\r\n      currentStep: 0,\r\n      totalSteps: 0,\r\n      userEmail: null,\r\n      hasSubscribedToNewsletter: false\r\n    });\r\n  };\r\n\r\n  // Enhanced sendMessage function with better error handling\r\n  const sendMessage = async () => {\r\n    if (!input.trim()) return;\r\n\r\n    const newMessages = [...messages, { from: 'user', text: input }];\r\n    setMessages(newMessages);\r\n    const originalInput = input;\r\n    setInput('');\r\n    setLoading(true);\r\n\r\n    try {\r\n      const aiResponse = await callGitHubModelsAPI(originalInput);\r\n      setMessages([...newMessages, { from: 'bot', text: aiResponse }]);\r\n      \r\n      // Handle different types of completed actions\r\n      const isActionCompleted = aiResponse.includes('submitted') || \r\n                               aiResponse.includes('completed') || \r\n                               aiResponse.includes('sent successfully') || \r\n                               aiResponse.includes('registered successfully');\r\n      \r\n      // Special handling for volunteer form redirection\r\n      const isVolunteerRedirect = aiResponse.includes('Complete your application here:') || \r\n                                 (aiResponse.includes('') && conversationContext.actionType === 'volunteer_inquiry') ||\r\n                                 aiResponse.includes('volunteer form');\r\n      \r\n      // Handle volunteer form links with clickable functionality\r\n      if (isVolunteerRedirect) {\r\n        const formUrlMatch = aiResponse.match(/https:\\/\\/[^\\s\\n]+/);\r\n        if (formUrlMatch) {\r\n          const formUrl = formUrlMatch[0];\r\n          \r\n          setTimeout(() => {\r\n            setMessages(prev => [...prev, {\r\n              from: 'bot',\r\n              text: `Click here to open your volunteer form: ${formUrl}\\n\\nOr copy and paste the link above into your browser. Need assistance? Contact us directly via WhatsApp for immediate assistance at ${whatsappNumber}.`,\r\n              isVolunteerLink: true,\r\n              formUrl: formUrl\r\n            }]);\r\n          }, 1500);\r\n        }\r\n        \r\n        // Clear context after volunteer redirect\r\n        setTimeout(() => {\r\n          setConversationContext({\r\n            userIntent: null,\r\n            collectingInfo: false,\r\n            collectedData: {},\r\n            missingFields: [],\r\n            waitingFor: null,\r\n            actionType: null,\r\n            currentStep: 0,\r\n            totalSteps: 0,\r\n            userEmail: null,\r\n            hasSubscribedToNewsletter: false\r\n          });\r\n        }, 1000);\r\n      }\r\n      // Handle other completed actions\r\n      else if (isActionCompleted) {\r\n        setTimeout(() => {\r\n          setConversationContext({\r\n            userIntent: null,\r\n            collectingInfo: false,\r\n            collectedData: {},\r\n            missingFields: [],\r\n            waitingFor: null,\r\n            actionType: null,\r\n            currentStep: 0,\r\n            totalSteps: 0,\r\n            userEmail: null,\r\n            hasSubscribedToNewsletter: false\r\n          });\r\n        }, 1000);\r\n      }\r\n      \r\n    } catch (err) {\r\n      console.error('API Error:', err);\r\n      \r\n      let errorResponse;\r\n      if (err.message.includes('429') || err.message.includes('Too Many Requests')) {\r\n        errorResponse = `I'm currently experiencing high traffic. I can still help you with basic information! For immediate assistance, contact us via WhatsApp at ${whatsappNumber} or email info@acef.org.`;\r\n      } else {\r\n        errorResponse = `I'm experiencing technical difficulties. Please try again or contact us directly via WhatsApp for immediate assistance at ${whatsappNumber}.`;\r\n      }\r\n      \r\n      setMessages([...newMessages, { \r\n        from: 'bot', \r\n        text: errorResponse,\r\n        isError: true \r\n      }]);\r\n      \r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  // Load comprehensive website data when component mounts\r\n  useEffect(() => {\r\n    console.log(' Enhanced ChatAssistant initializing...');\r\n    fetchWebsiteData();\r\n    \r\n    const refreshInterval = setInterval(() => {\r\n      console.log(' Periodic comprehensive data refresh');\r\n      fetchWebsiteData();\r\n    }, 15 * 60 * 1000); // Refresh every 15 minutes\r\n\r\n    return () => clearInterval(refreshInterval);\r\n  }, []);\r\n\r\n  // Enhanced WhatsApp button component\r\n  const WhatsAppButton = ({ className, buttonText, customMessage = null }) => {\r\n    const handleWhatsAppClick = () => {\r\n      const message = customMessage || \"Hello! I need assistance with ACEF services.\";\r\n      const encodedMessage = encodeURIComponent(message);\r\n      \r\n      // Remove any non-digit characters except the + at the beginning\r\n      const cleanNumber = whatsappNumber.replace(/(?!^\\+)\\D/g, '');\r\n      const whatsappUrl = `https://wa.me/${cleanNumber.replace('+', '')}?text=${encodedMessage}`;\r\n      \r\n      console.log(' Opening WhatsApp:', {\r\n        number: cleanNumber,\r\n        description: whatsappDescription,\r\n        url: whatsappUrl\r\n      });\r\n      \r\n      window.open(whatsappUrl, '_blank');\r\n    };\r\n\r\n    return (\r\n      <button className={className} onClick={handleWhatsAppClick} title={whatsappDescription}>\r\n        {buttonText}\r\n      </button>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div className=\"chat-float-container\">\r\n      {/* Enhanced CSS styles with progress indicator */}\r\n      <style jsx>{`\r\n        .chat-float-container {\r\n          position: fixed;\r\n          bottom: 20px;\r\n          right: 20px;\r\n          z-index: 1000;\r\n          font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;\r\n        }\r\n\r\n        .chat-toggle-button {\r\n          width: 60px;\r\n          height: 60px;\r\n          border-radius: 50%;\r\n          background: linear-gradient(135deg, #2d7d32 0%, #4caf50 100%);\r\n          color: white;\r\n          border: none;\r\n          font-size: 24px;\r\n          cursor: pointer;\r\n          box-shadow: 0 4px 20px rgba(0,0,0,0.15);\r\n          transition: all 0.3s ease;\r\n          position: relative;\r\n          display: flex;\r\n          align-items: center;\r\n          justify-content: center;\r\n        }\r\n\r\n        .chat-toggle-button:hover {\r\n          transform: scale(1.05);\r\n          box-shadow: 0 6px 25px rgba(0,0,0,0.2);\r\n        }\r\n\r\n        .chat-toggle-button img {\r\n          width: 35px;\r\n          height: 35px;\r\n        }\r\n\r\n        .data-status-indicator {\r\n          position: absolute;\r\n          top: -2px;\r\n          right: -2px;\r\n          width: 12px;\r\n          height: 12px;\r\n          border-radius: 50%;\r\n          background: ${websiteData.fullDataMap?.size > 0 ? '#4caf50' : dataLoading ? '#ff9800' : '#f44336'};\r\n          border: 2px solid white;\r\n        }\r\n\r\n        .progress-indicator {\r\n          position: absolute;\r\n          top: -2px;\r\n          left: -2px;\r\n          width: 16px;\r\n          height: 16px;\r\n          border-radius: 50%;\r\n          background: ${conversationContext.collectingInfo ? '#2196f3' : 'transparent'};\r\n          border: 2px solid white;\r\n          display: ${conversationContext.collectingInfo ? 'flex' : 'none'};\r\n          align-items: center;\r\n          justify-content: center;\r\n          font-size: 10px;\r\n          color: white;\r\n          font-weight: bold;\r\n        }\r\n\r\n        .chat-box {\r\n          position: absolute;\r\n          bottom: 70px;\r\n          right: 0;\r\n          width: 380px;\r\n          height: 500px;\r\n          background: white;\r\n          border-radius: 12px;\r\n          box-shadow: 0 10px 40px rgba(0,0,0,0.1);\r\n          display: flex;\r\n          flex-direction: column;\r\n          overflow: hidden;\r\n        }\r\n\r\n        .chat-header {\r\n          background: linear-gradient(135deg, #2d7d32 0%, #4caf50 100%);\r\n          color: white;\r\n          padding: 16px;\r\n          text-align: center;\r\n          font-weight: 600;\r\n          position: relative;\r\n        }\r\n\r\n        .data-status {\r\n          font-size: 10px;\r\n          opacity: 0.9;\r\n          margin-top: 2px;\r\n        }\r\n\r\n        .conversation-progress {\r\n          background: rgba(255,255,255,0.1);\r\n          padding: 8px 12px;\r\n          margin-top: 8px;\r\n          border-radius: 6px;\r\n          font-size: 11px;\r\n          display: ${conversationContext.collectingInfo ? 'block' : 'none'};\r\n        }\r\n\r\n        .progress-bar {\r\n          width: 100%;\r\n          height: 4px;\r\n          background: rgba(255,255,255,0.2);\r\n          border-radius: 2px;\r\n          margin-top: 4px;\r\n          overflow: hidden;\r\n        }\r\n\r\n        .progress-fill {\r\n          height: 100%;\r\n          background: white;\r\n          border-radius: 2px;\r\n          transition: width 0.3s ease;\r\n          width: ${conversationContext.totalSteps > 0 ? ((conversationContext.currentStep + 1) / conversationContext.totalSteps * 100) : 0}%;\r\n        }\r\n\r\n        .chat-messages {\r\n          flex: 1;\r\n          padding: 16px;\r\n          overflow-y: auto;\r\n          display: flex;\r\n          flex-direction: column;\r\n          gap: 12px;\r\n        }\r\n\r\n        .message {\r\n          max-width: 80%;\r\n          padding: 10px 14px;\r\n          border-radius: 18px;\r\n          word-wrap: break-word;\r\n          white-space: pre-wrap;\r\n          position: relative;\r\n          line-height: 1.4;\r\n        }\r\n\r\n        .message.user {\r\n          background: #2d7d32;\r\n          color: white;\r\n          align-self: flex-end;\r\n          margin-left: auto;\r\n        }\r\n\r\n        .message.bot {\r\n          background: #f1f3f4;\r\n          color: #333;\r\n          align-self: flex-start;\r\n        }\r\n\r\n        .message.bot.error {\r\n          background: #ffebee;\r\n          border-left: 4px solid #f44336;\r\n        }\r\n\r\n        .message.bot.auto-subscribe {\r\n          background: #e3f2fd;\r\n          border-left: 4px solid #2196f3;\r\n          font-size: 13px;\r\n          opacity: 0.9;\r\n        }\r\n\r\n        .info-extracted {\r\n          position: absolute;\r\n          top: -8px;\r\n          right: -8px;\r\n          background: #4caf50;\r\n          color: white;\r\n          border-radius: 50%;\r\n          width: 16px;\r\n          height: 16px;\r\n          display: flex;\r\n          align-items: center;\r\n          justify-content: center;\r\n          font-size: 10px;\r\n        }\r\n\r\n        .chat-input {\r\n          display: flex;\r\n          padding: 16px;\r\n          border-top: 1px solid #e9ecef;\r\n          gap: 8px;\r\n        }\r\n\r\n        .chat-input input {\r\n          flex: 1;\r\n          padding: 10px 14px;\r\n          border: 1px solid #ddd;\r\n          border-radius: 20px;\r\n          outline: none;\r\n          font-size: 14px;\r\n        }\r\n\r\n        .chat-input input:focus {\r\n          border-color: #4caf50;\r\n        }\r\n\r\n        .chat-input button {\r\n          padding: 10px 20px;\r\n          background: linear-gradient(135deg, #2d7d32 0%, #4caf50 100%);\r\n          color: white;\r\n          border: none;\r\n          border-radius: 20px;\r\n          cursor: pointer;\r\n          font-size: 14px;\r\n          font-weight: 500;\r\n        }\r\n\r\n        .chat-input button:hover:not(:disabled) {\r\n          background: linear-gradient(135deg, #1b5e20 0%, #388e3c 100%);\r\n        }\r\n\r\n        .chat-input button:disabled {\r\n          opacity: 0.6;\r\n          cursor: not-allowed;\r\n        }\r\n\r\n        .chat-options {\r\n          padding: 12px 16px;\r\n          border-top: 1px solid #e9ecef;\r\n          display: flex;\r\n          gap: 8px;\r\n          flex-wrap: wrap;\r\n        }\r\n\r\n        .chat-link-button {\r\n          flex: 1;\r\n          min-width: 80px;\r\n          padding: 8px 12px;\r\n          background: #fff8e1;\r\n          border: 1px solid #ffb300;\r\n          border-radius: 6px;\r\n          cursor: pointer;\r\n          font-size: 12px;\r\n          color: #2d7d32;\r\n          transition: all 0.2s ease;\r\n          font-weight: 500;\r\n        }\r\n\r\n        .chat-link-button:hover {\r\n          background: #ffecb3;\r\n          border-color: #ffa000;\r\n        }\r\n\r\n        .typing-indicator {\r\n          display: flex;\r\n          align-items: center;\r\n          gap: 4px;\r\n        }\r\n\r\n        .typing-dots {\r\n          display: flex;\r\n          gap: 2px;\r\n        }\r\n\r\n        .typing-dots span {\r\n          width: 6px;\r\n          height: 6px;\r\n          border-radius: 50%;\r\n          background: #4caf50;\r\n          animation: typing 1.4s infinite ease-in-out;\r\n        }\r\n\r\n        .typing-dots span:nth-child(1) { animation-delay: -0.32s; }\r\n        .typing-dots span:nth-child(2) { animation-delay: -0.16s; }\r\n\r\n        @keyframes typing {\r\n          0%, 80%, 100% { transform: scale(0); }\r\n          40% { transform: scale(1); }\r\n        }\r\n\r\n        @media (max-width: 480px) {\r\n          .chat-box {\r\n            width: 100vw;\r\n            height: 100vh;\r\n            bottom: 0;\r\n            right: 0;\r\n            border-radius: 0;\r\n          }\r\n        }\r\n      `}</style>\r\n\r\n      <button \r\n        className=\"chat-toggle-button\" \r\n        onClick={() => {\r\n          setIsOpen(!isOpen);\r\n          if (!isOpen && !hasShownWelcome) {\r\n            setMessages([getWelcomeMessage()]);\r\n            setHasShownWelcome(true);\r\n          }\r\n        }}\r\n      >\r\n        <img \r\n          src=\"/bird.png\" \r\n          alt=\"ACEF Assistant\" \r\n          style={{ transform: 'scaleX(-1)' }}\r\n        />\r\n        <div className=\"data-status-indicator\"></div>\r\n        <div className=\"progress-indicator\">\r\n          {conversationContext.collectingInfo ? `${conversationContext.currentStep + 1}` : ''}\r\n        </div>\r\n      </button>\r\n\r\n      {isOpen && (\r\n        <div className=\"chat-box\">\r\n          <div className=\"chat-header\">\r\n            <div>ACEF AI Assistant</div>\r\n            <div className=\"data-status\">\r\n              {dataLoading ? 'Loading...' : \r\n               websiteData.fullDataMap?.size > 0 \r\n                 ? `Full Access (${websiteData.fullDataMap.size} sources)` \r\n                 : 'Limited data'}\r\n            </div>\r\n            {conversationContext.collectingInfo && (\r\n              <div className=\"conversation-progress\">\r\n                <div>\r\n                  {conversationContext.actionType?.replace('_', ' ').replace(/\\b\\w/g, l => l.toUpperCase())} - Step {conversationContext.currentStep + 1}/{conversationContext.totalSteps}\r\n                </div>\r\n                <div className=\"progress-bar\">\r\n                  <div className=\"progress-fill\"></div>\r\n                </div>\r\n                <div style={{ fontSize: '10px', marginTop: '2px', opacity: '0.8' }}>\r\n                  {conversationContext.missingFields.length > 0 \r\n                    ? `Still need: ${conversationContext.missingFields.slice(0, 2).join(', ')}${conversationContext.missingFields.length > 2 ? '...' : ''}`\r\n                    : 'Information complete!'}\r\n                </div>\r\n              </div>\r\n            )}\r\n          </div>\r\n\r\n          <div className=\"chat-messages\">\r\n            {messages.map((m, i) => (\r\n              <div key={i} className={`message ${m.from} ${m.isError ? 'error' : ''} ${m.isAutoSubscribe ? 'auto-subscribe' : ''}`}>\r\n                {m.text}\r\n                {/* Show info extracted indicator if this message contained useful info */}\r\n                {m.from === 'user' && messages[i+1] && messages[i+1].text?.includes('thank') && (\r\n                  <div className=\"info-extracted\" title=\"Information extracted\">!</div>\r\n                )}\r\n              </div>\r\n            ))}\r\n            {loading && (\r\n              <div className=\"message bot\">\r\n                <div className=\"typing-indicator\">\r\n                  <span>Processing</span>\r\n                  <div className=\"typing-dots\">\r\n                    <span></span>\r\n                    <span></span>\r\n                    <span></span>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            )}\r\n            <div ref={messagesEndRef} />\r\n          </div>\r\n\r\n          <div className=\"chat-input\">\r\n            <input\r\n              value={input}\r\n              onChange={(e) => setInput(e.target.value)}\r\n              onKeyDown={(e) => e.key === 'Enter' && !loading && sendMessage()}\r\n              placeholder={\r\n                conversationContext.collectingInfo && conversationContext.missingFields.length > 0\r\n                  ? `Please provide your ${conversationContext.missingFields[0]}...`\r\n                  : \"Ask me anything or tell me what you'd like to do...\"\r\n              }\r\n              disabled={loading}\r\n            />\r\n            <button onClick={sendMessage} disabled={loading || !input.trim()}>\r\n              {loading ? '...' : 'Send'}\r\n            </button>\r\n          </div>\r\n\r\n          <div className=\"chat-options\">\r\n            <WhatsAppButton \r\n              className=\"chat-link-button\"\r\n              buttonText=\"WhatsApp\"\r\n            />\r\n            <button\r\n              className=\"chat-link-button\"\r\n              onClick={() => fetchWebsiteData()}\r\n              disabled={dataLoading}\r\n            >\r\n              {dataLoading ? 'Refreshing...' : 'Refresh'}\r\n            </button>\r\n            <button\r\n              className=\"chat-link-button\"\r\n              onClick={clearConversation}\r\n              title=\"Start new conversation\"\r\n            >\r\n              Clear\r\n            </button>\r\n            {conversationContext.collectingInfo && (\r\n              <button\r\n                className=\"chat-link-button\"\r\n                onClick={() => {\r\n                  setConversationContext({\r\n                    userIntent: null,\r\n                    collectingInfo: false,\r\n                    collectedData: {},\r\n                    missingFields: [],\r\n                    waitingFor: null,\r\n                    actionType: null,\r\n                    currentStep: 0,\r\n                    totalSteps: 0,\r\n                    userEmail: null,\r\n                    hasSubscribedToNewsletter: false\r\n                  });\r\n                }}\r\n                style={{ backgroundColor: '#ffebee', borderColor: '#f44336', color: '#d32f2f' }}\r\n                title=\"Cancel current process\"\r\n              >\r\n                Cancel\r\n              </button>\r\n            )}\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ChatAssistant;","// pages/visitCounters.js\r\nimport React, { useState, useEffect } from 'react';\r\n\r\nconst VisitCounter = () => {\r\n  const [visitStats, setVisitStats] = useState({\r\n    dailyVisits: 0,\r\n    lifetimeVisits: 0,\r\n    visitDate: null,\r\n    lastUpdated: null\r\n  });\r\n  const [visitHistory, setVisitHistory] = useState([]);\r\n  const [trends, setTrends] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n\r\n  const API_URL = process.env.REACT_APP_API_URL || 'http://localhost:5000/api';\r\n\r\n  // Function to fetch current visit statistics\r\n  const fetchVisitStats = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const response = await fetch(`${API_URL}/visits/stats`, {\r\n        method: 'GET',\r\n        credentials: 'include',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n      });\r\n\r\n      if (!response.ok) {\r\n        throw new Error(`HTTP error! status: ${response.status}`);\r\n      }\r\n\r\n      const result = await response.json();\r\n      \r\n      if (result.success) {\r\n        setVisitStats(result.data);\r\n        setError(null);\r\n      } else {\r\n        throw new Error(result.message || 'Failed to fetch visit statistics');\r\n      }\r\n    } catch (err) {\r\n      console.error('Error fetching visit stats:', err);\r\n      setError(err.message);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  // Function to fetch visit history\r\n  const fetchVisitHistory = async (days = 7) => {\r\n    try {\r\n      const response = await fetch(`${API_URL}/visits/history?days=${days}`, {\r\n        method: 'GET',\r\n        credentials: 'include',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n      });\r\n\r\n      if (!response.ok) {\r\n        throw new Error(`HTTP error! status: ${response.status}`);\r\n      }\r\n\r\n      const result = await response.json();\r\n      \r\n      if (result.success) {\r\n        setVisitHistory(result.data.history);\r\n      }\r\n    } catch (err) {\r\n      console.error('Error fetching visit history:', err);\r\n    }\r\n  };\r\n\r\n  // Function to fetch visit trends\r\n  const fetchVisitTrends = async (days = 7) => {\r\n    try {\r\n      const response = await fetch(`${API_URL}/visits/trends?days=${days}`, {\r\n        method: 'GET',\r\n        credentials: 'include',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n      });\r\n\r\n      if (!response.ok) {\r\n        throw new Error(`HTTP error! status: ${response.status}`);\r\n      }\r\n\r\n      const result = await response.json();\r\n      \r\n      if (result.success) {\r\n        setTrends(result.data);\r\n      }\r\n    } catch (err) {\r\n      console.error('Error fetching visit trends:', err);\r\n    }\r\n  };\r\n\r\n  // Function to record a new visit\r\n  const recordVisit = async () => {\r\n    try {\r\n      const response = await fetch(`${API_URL}/visits/record`, {\r\n        method: 'POST',\r\n        credentials: 'include',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n      });\r\n\r\n      if (!response.ok) {\r\n        throw new Error(`HTTP error! status: ${response.status}`);\r\n      }\r\n\r\n      const result = await response.json();\r\n      \r\n      if (result.success) {\r\n        setVisitStats(result.data);\r\n        setError(null);\r\n        // Refresh related data\r\n        await fetchVisitHistory();\r\n        await fetchVisitTrends();\r\n      } else {\r\n        throw new Error(result.message || 'Failed to record visit');\r\n      }\r\n    } catch (err) {\r\n      console.error('Error recording visit:', err);\r\n      setError(err.message);\r\n    }\r\n  };\r\n\r\n  // Load initial data\r\n  useEffect(() => {\r\n    const loadData = async () => {\r\n      await fetchVisitStats();\r\n      await fetchVisitHistory();\r\n      await fetchVisitTrends();\r\n    };\r\n\r\n    loadData();\r\n  }, []);\r\n\r\n  // Auto-refresh stats every 30 seconds\r\n  useEffect(() => {\r\n    const interval = setInterval(() => {\r\n      fetchVisitStats();\r\n    }, 30000);\r\n\r\n    return () => clearInterval(interval);\r\n  }, []);\r\n\r\n  // Format date for display\r\n  const formatDate = (dateString) => {\r\n    if (!dateString) return 'N/A';\r\n    return new Date(dateString).toLocaleDateString('en-US', {\r\n      weekday: 'short',\r\n      month: 'short',\r\n      day: 'numeric'\r\n    });\r\n  };\r\n\r\n  // Format timestamp for display\r\n  const formatTimestamp = (timestamp) => {\r\n    if (!timestamp) return 'N/A';\r\n    return new Date(timestamp).toLocaleString('en-US', {\r\n      month: 'short',\r\n      day: 'numeric',\r\n      hour: '2-digit',\r\n      minute: '2-digit'\r\n    });\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"max-w-4xl mx-auto p-6\">\r\n        <div className=\"animate-pulse\">\r\n          <div className=\"h-8 bg-gray-200 rounded mb-6\"></div>\r\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6\">\r\n            <div className=\"h-32 bg-gray-200 rounded\"></div>\r\n            <div className=\"h-32 bg-gray-200 rounded\"></div>\r\n          </div>\r\n          <div className=\"h-64 bg-gray-200 rounded\"></div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"max-w-4xl mx-auto p-6\">\r\n      <div className=\"flex items-center justify-between mb-6\">\r\n        <h1 className=\"text-3xl font-bold text-gray-800\">\r\n          Website Analytics Dashboard\r\n        </h1>\r\n        <div className={`flex items-center px-3 py-1 rounded-full text-sm ${\r\n          error \r\n            ? 'bg-red-100 text-red-800' \r\n            : 'bg-green-100 text-green-800'\r\n        }`}>\r\n          <div className={`w-2 h-2 rounded-full mr-2 ${\r\n            error ? 'bg-red-400' : 'bg-green-400'\r\n          }`}></div>\r\n          {error ? 'Offline' : 'Live'}\r\n        </div>\r\n      </div>\r\n\r\n      {error && (\r\n        <div className=\"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg\">\r\n          <p className=\"text-red-700\">\r\n            <strong>Connection Error:</strong> {error}\r\n          </p>\r\n          <button\r\n            onClick={() => {\r\n              setError(null);\r\n              fetchVisitStats();\r\n            }}\r\n            className=\"mt-2 text-sm text-red-600 hover:text-red-800 underline\"\r\n          >\r\n            Retry Connection\r\n          </button>\r\n        </div>\r\n      )}\r\n\r\n      {/* Main Stats Cards */}\r\n      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8\">\r\n        {/* Today's Visits */}\r\n        <div className=\"bg-gradient-to-br from-blue-500 to-blue-600 p-6 rounded-xl shadow-lg text-white\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <div>\r\n              <p className=\"text-blue-100 text-sm font-medium\">Today's Visits</p>\r\n              <p className=\"text-3xl font-bold\">{visitStats.dailyVisits.toLocaleString()}</p>\r\n              <p className=\"text-blue-100 text-xs mt-1\">\r\n                {formatDate(visitStats.visitDate)}\r\n              </p>\r\n            </div>\r\n            <div className=\"text-4xl opacity-80\"></div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Lifetime Visits */}\r\n        <div className=\"bg-gradient-to-br from-green-500 to-green-600 p-6 rounded-xl shadow-lg text-white\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <div>\r\n              <p className=\"text-green-100 text-sm font-medium\">Total Visits</p>\r\n              <p className=\"text-3xl font-bold\">{visitStats.lifetimeVisits.toLocaleString()}</p>\r\n              <p className=\"text-green-100 text-xs mt-1\">\r\n                All time tracking\r\n              </p>\r\n            </div>\r\n            <div className=\"text-4xl opacity-80\"></div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Action Buttons */}\r\n      <div className=\"mb-8\">\r\n        <div className=\"flex flex-wrap gap-3\">\r\n          <button\r\n            onClick={recordVisit}\r\n            disabled={loading}\r\n            className=\"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 disabled:bg-gray-400 transition-colors font-medium\"\r\n          >\r\n            Record New Visit\r\n          </button>\r\n          <button\r\n            onClick={fetchVisitStats}\r\n            disabled={loading}\r\n            className=\"px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 disabled:bg-gray-400 transition-colors font-medium\"\r\n          >\r\n            Refresh Data\r\n          </button>\r\n          <button\r\n            onClick={() => fetchVisitHistory(30)}\r\n            className=\"px-4 py-2 bg-purple-500 text-white rounded-lg hover:bg-purple-600 transition-colors font-medium\"\r\n          >\r\n            Load 30 Days\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Visit History Table */}\r\n      {visitHistory.length > 0 && (\r\n        <div className=\"bg-white rounded-xl shadow-lg overflow-hidden mb-8\">\r\n          <div className=\"px-6 py-4 bg-gray-50 border-b\">\r\n            <h2 className=\"text-xl font-semibold text-gray-800\">Recent Visit History</h2>\r\n          </div>\r\n          <div className=\"overflow-x-auto\">\r\n            <table className=\"w-full\">\r\n              <thead className=\"bg-gray-100\">\r\n                <tr>\r\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase\">Date</th>\r\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase\">Daily Visits</th>\r\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase\">Day of Week</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody className=\"divide-y divide-gray-200\">\r\n                {visitHistory.map((visit, index) => (\r\n                  <tr key={index} className=\"hover:bg-gray-50\">\r\n                    <td className=\"px-6 py-4 text-sm text-gray-900\">\r\n                      {formatDate(visit.visit_date)}\r\n                    </td>\r\n                    <td className=\"px-6 py-4 text-sm font-medium text-gray-900\">\r\n                      {visit.daily_count.toLocaleString()}\r\n                    </td>\r\n                    <td className=\"px-6 py-4 text-sm text-gray-500\">\r\n                      {new Date(visit.visit_date).toLocaleDateString('en-US', { weekday: 'long' })}\r\n                    </td>\r\n                  </tr>\r\n                ))}\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Trends Visualization */}\r\n      {trends.length > 0 && (\r\n        <div className=\"bg-white rounded-xl shadow-lg p-6\">\r\n          <h2 className=\"text-xl font-semibold text-gray-800 mb-4\">Visit Trends</h2>\r\n          <div className=\"space-y-4\">\r\n            {trends.map((trend, index) => (\r\n              <div key={index} className=\"flex items-center justify-between p-3 bg-gray-50 rounded-lg\">\r\n                <span className=\"text-sm font-medium text-gray-700\">\r\n                  {formatDate(trend.visit_date)}\r\n                </span>\r\n                <div className=\"flex items-center space-x-4\">\r\n                  <span className=\"text-sm text-gray-600\">\r\n                    Daily: {trend.daily_count}\r\n                  </span>\r\n                  <span className=\"text-sm font-medium text-blue-600\">\r\n                    Total: {trend.cumulative_total}\r\n                  </span>\r\n                </div>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Last Updated Info */}\r\n      {visitStats.lastUpdated && (\r\n        <div className=\"mt-6 text-center text-sm text-gray-500\">\r\n          Last updated: {formatTimestamp(visitStats.lastUpdated)}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default VisitCounter;","import React, { useState, useEffect, useRef } from 'react';\r\nimport { motion, AnimatePresence } from 'framer-motion';\r\nimport axios from 'axios';\r\nimport { useTheme } from '../theme';\r\nimport { API_URL, STATIC_URL } from '../config';\r\n\r\nconst PartnersSlider = () => {\r\n  const { colors, isDarkMode } = useTheme();\r\n  const [partners, setPartners] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  const [visiblePartners, setVisiblePartners] = useState(new Set());\r\n  const [visibleAccreditors, setVisibleAccreditors] = useState(new Set());\r\n  const intervalRef = useRef(null);\r\n\r\n  // Fetch partners from API\r\n  useEffect(() => {\r\n    const fetchPartners = async () => {\r\n      try {\r\n        setLoading(true);\r\n        setError(null);\r\n        const response = await axios.get(`${API_URL}/partners`, { \r\n          withCredentials: true \r\n        });\r\n        \r\n        // Sort partners by featured first, then by name\r\n        const sortedPartners = response.data.sort((a, b) => {\r\n          if (a.featured && !b.featured) return -1;\r\n          if (!a.featured && b.featured) return 1;\r\n          return a.name.localeCompare(b.name);\r\n        });\r\n        \r\n        setPartners(sortedPartners);\r\n      } catch (err) {\r\n        console.error('Error fetching partners:', err);\r\n        setError('Failed to load partners');\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchPartners();\r\n  }, []);\r\n\r\n  // Filter partners by type\r\n  const partnersOnly = partners.filter(p => \r\n    (p.type || '').toLowerCase() === 'partner' || \r\n    (p.type || '').toLowerCase() === 'both'\r\n  );\r\n  const accreditors = partners.filter(p => \r\n    (p.type || '').toLowerCase() === 'accreditator' || \r\n    (p.type || '').toLowerCase() === 'both'\r\n  );\r\n\r\n  // Simple interval display effect\r\n  useEffect(() => {\r\n    if (partnersOnly.length === 0 && accreditors.length === 0) return;\r\n\r\n    // Show all partners first, then all accreditors\r\n    setVisiblePartners(new Set(partnersOnly.map((_, index) => index)));\r\n    setVisibleAccreditors(new Set(accreditors.map((_, index) => index)));\r\n\r\n  }, [partnersOnly.length, accreditors.length]);\r\n\r\n  // Show loading state\r\n  if (loading) {\r\n    return (\r\n      <section\r\n        style={{\r\n          backgroundColor: colors.background,\r\n          padding: '60px 0',\r\n          width: '100%',\r\n          margin: 0,\r\n        }}\r\n      >\r\n        <div style={{ \r\n          maxWidth: '1200px', \r\n          margin: '0 auto', \r\n          textAlign: 'center',\r\n          padding: '0 20px'\r\n        }}>\r\n          <div\r\n            style={{\r\n              display: 'inline-block',\r\n              width: '40px',\r\n              height: '40px',\r\n              border: `4px solid ${colors.border}`,\r\n              borderTop: `4px solid ${colors.primary}`,\r\n              borderRadius: '50%',\r\n              animation: 'spin 1s linear infinite',\r\n            }}\r\n          />\r\n          <p style={{ \r\n            marginTop: '20px', \r\n            color: colors.textSecondary,\r\n            fontSize: '16px',\r\n          }}>\r\n            Loading our partners and accreditors...\r\n          </p>\r\n        </div>\r\n      </section>\r\n    );\r\n  }\r\n\r\n  // Show error state\r\n  if (error) {\r\n    return (\r\n      <section\r\n        style={{\r\n          backgroundColor: colors.background,\r\n          padding: '60px 0',\r\n          width: '100%',\r\n          margin: 0,\r\n        }}\r\n      >\r\n        <div style={{ \r\n          maxWidth: '1200px', \r\n          margin: '0 auto', \r\n          textAlign: 'center',\r\n          padding: '0 20px'\r\n        }}>\r\n          <p style={{ \r\n            color: colors.error,\r\n            fontSize: '16px',\r\n          }}>\r\n            {error}\r\n          </p>\r\n          <button\r\n            onClick={() => window.location.reload()}\r\n            style={{\r\n              marginTop: '16px',\r\n              padding: '10px 20px',\r\n              backgroundColor: colors.primary,\r\n              color: colors.white,\r\n              border: 'none',\r\n              borderRadius: '6px',\r\n              cursor: 'pointer',\r\n            }}\r\n          >\r\n            Try Again\r\n          </button>\r\n        </div>\r\n      </section>\r\n    );\r\n  }\r\n\r\n  // Don't render if no data\r\n  if (!partners.length) {\r\n    return null;\r\n  }\r\n\r\n  const renderItemLogo = (item, index) => (\r\n    <motion.div\r\n      key={item.id}\r\n      initial={{ opacity: 0 }}\r\n      animate={{ opacity: 1 }}\r\n      transition={{ duration: 0.3, delay: index * 0.1 }}\r\n      style={{\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n        padding: '10px',\r\n        cursor: 'pointer',\r\n      }}\r\n      whileHover={{ \r\n        scale: 1.05,\r\n        transition: { duration: 0.2 }\r\n      }}\r\n    >\r\n      <img\r\n        src={`${STATIC_URL}/uploads/partners/${item.logo}`}\r\n        alt={item.name}\r\n        style={{\r\n          maxWidth: '160px',\r\n          maxHeight: '80px',\r\n          objectFit: 'contain',\r\n          transition: 'filter 0.3s ease',\r\n        }}\r\n        onError={(e) => {\r\n          e.target.style.display = 'none';\r\n          e.target.nextSibling.style.display = 'flex';\r\n        }}\r\n      />\r\n      {/* Fallback for broken images */}\r\n      <div\r\n        style={{\r\n          display: 'none',\r\n          alignItems: 'center',\r\n          justifyContent: 'center',\r\n          width: '120px',\r\n          height: '60px',\r\n          fontSize: '12px',\r\n          color: colors.textSecondary,\r\n          textAlign: 'center',\r\n          border: `1px dashed ${colors.border}`,\r\n          borderRadius: '4px',\r\n        }}\r\n      >\r\n        {item.name}\r\n      </div>\r\n    </motion.div>\r\n  );\r\n\r\n  const renderSection = (title, items) => {\r\n    if (!items.length) return null;\r\n\r\n    return (\r\n      <div style={{ marginBottom: '80px' }}>\r\n        {/* Section Title - Keep original design with border bottom */}\r\n        <div style={{ \r\n          borderBottom: `2px solid ${colors.border}`,\r\n          marginBottom: '40px',\r\n          paddingBottom: '10px'\r\n        }}>\r\n          <h2\r\n            style={{\r\n              fontSize: '24px',\r\n              fontWeight: '600',\r\n              color: colors.text,\r\n              margin: 0,\r\n              fontFamily: 'system-ui, -apple-system, sans-serif',\r\n            }}\r\n          >\r\n            {title}\r\n          </h2>\r\n        </div>\r\n\r\n        {/* Logo Grid - Centered */}\r\n        <div style={{\r\n          display: 'grid',\r\n          gridTemplateColumns: 'repeat(auto-fit, minmax(160px, 1fr))',\r\n          gap: '20px',\r\n          maxWidth: '1000px',\r\n          margin: '0 auto',\r\n          justifyItems: 'center',\r\n        }}>\r\n          {items.map((item, index) => renderItemLogo(item, index))}\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <section\r\n      style={{\r\n        backgroundColor: colors.background,\r\n        padding: '60px 0',\r\n        width: '100%',\r\n        margin: 0,\r\n      }}\r\n    >\r\n      {/* Main Title - Centered like Mission & Vision */}\r\n      <div style={{ \r\n        textAlign: 'center',\r\n        marginBottom: '80px',\r\n        padding: '0 20px'\r\n      }}>\r\n        <motion.h1\r\n          initial={{ opacity: 0, y: 20 }}\r\n          whileInView={{ opacity: 1, y: 0 }}\r\n          viewport={{ once: false }}\r\n          transition={{ duration: 0.6 }}\r\n          style={{\r\n      fontSize: '48px',\r\n      fontWeight: '800',\r\n      lineHeight: '1.1',\r\n      color:colors.primary,\r\n      marginBottom: '24px',\r\n                  fontFamily: '\"Nunito Sans\", -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, sans-serif'\r\n  \r\n          }}\r\n        >\r\n      \r\n          Our Affiliations\r\n          {/* Underline decoration */}\r\n          <motion.div\r\n            initial={{ width: 0 }}\r\n            whileInView={{ width: '120px' }}\r\n            viewport={{ once: false }}\r\n            transition={{ duration: 0.8, delay: 0.3 }}\r\n            style={{\r\n              height: '4px',\r\n              backgroundColor: colors.secondary,\r\n              margin: '16px auto 0',\r\n              borderRadius: '2px',\r\n            }}\r\n          />\r\n        </motion.h1>\r\n        \r\n        {/* Subtitle */}\r\n        <motion.p\r\n          initial={{ opacity: 0 }}\r\n          whileInView={{ opacity: 1 }}\r\n          viewport={{ once: false }}\r\n          transition={{ duration: 0.6, delay: 0.2 }}\r\n          style={{\r\n            fontSize: '18px',\r\n            color: colors.textSecondary,\r\n            marginTop: '20px',\r\n            fontWeight: '300',\r\n            fontFamily: 'inherit'\r\n          }}\r\n        >\r\n          Building Stronger Networks  Driven by Impact\r\n        </motion.p>\r\n      </div>\r\n\r\n      <div style={{ \r\n  maxWidth: '1200px', \r\n  margin: '0 auto',\r\n  padding: '0 40px'\r\n}}>\r\n  {/* Partners Section (always visible first) */}\r\n  {partnersOnly.length > 0 && renderSection('Partners', partnersOnly)}\r\n\r\n  {/* Accreditors Section (animates on scroll) */}\r\n  {accreditors.length > 0 && (\r\n    <motion.div\r\n      initial={{ opacity: 0, y: 40 }}\r\n      whileInView={{ opacity: 1, y: 0 }}\r\n      viewport={{ once: false, amount: 0.3 }} \r\n      transition={{ duration: 0.6, ease: 'easeOut' }}\r\n    >\r\n      {renderSection('Accreditors', accreditors)}\r\n    </motion.div>\r\n  )}\r\n</div>\r\n\r\n\r\n      <style jsx>{`\r\n        @keyframes spin {\r\n          0% { transform: rotate(0deg); }\r\n          100% { transform: rotate(360deg); }\r\n        }\r\n        \r\n        @media (max-width: 768px) {\r\n          section {\r\n            padding: 40px 0 !important;\r\n          }\r\n          \r\n          section > div:last-child {\r\n            padding: 0 20px !important;\r\n          }\r\n          \r\n          h2 {\r\n            font-size: 20px !important;\r\n          }\r\n          \r\n          img {\r\n            max-width: 100px !important;\r\n            max-height: 50px !important;\r\n          }\r\n        }\r\n        \r\n        @media (max-width: 480px) {\r\n          section > div:last-child {\r\n            padding: 0 16px !important;\r\n          }\r\n          \r\n          .logo-grid {\r\n            grid-template-columns: repeat(2, 1fr) !important;\r\n          }\r\n        }\r\n      `}</style>\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default PartnersSlider;","// extracted by mini-css-extract-plugin\nexport default {\"homepage\":\"HomePage_homepage__EM7Rg\",\"container\":\"HomePage_container__0yAm2\",\"scrollAnimate\":\"HomePage_scrollAnimate__QujMT\",\"fadeInUp\":\"HomePage_fadeInUp__BE4ms\",\"hero\":\"HomePage_hero__uOSHw\",\"heroSlider\":\"HomePage_heroSlider__Pqygh\",\"heroSlide\":\"HomePage_heroSlide__wSq3f\",\"active\":\"HomePage_active__N1+Bw\",\"heroOverlay\":\"HomePage_heroOverlay__ffXaO\",\"heroContent\":\"HomePage_heroContent__5nfmT\",\"heroBadge\":\"HomePage_heroBadge__QSkpj\",\"float\":\"HomePage_float__JHHiC\",\"heroText\":\"HomePage_heroText__KqHk4\",\"heroActions\":\"HomePage_heroActions__MaT0G\",\"btnPrimary\":\"HomePage_btnPrimary__mXrOP\",\"heroNav\":\"HomePage_heroNav__GY5yw\",\"heroNavBtn\":\"HomePage_heroNavBtn__jcTnb\",\"heroDots\":\"HomePage_heroDots__dNOSi\",\"dot\":\"HomePage_dot__mnsoQ\",\"aboutImpactSection\":\"HomePage_aboutImpactSection__498EB\",\"projectsSection\":\"HomePage_projectsSection__Mx42N\",\"newsBlogsSection\":\"HomePage_newsBlogsSection__DL71F\",\"aboutImpactLayout\":\"HomePage_aboutImpactLayout__Q+fkj\",\"aboutContent\":\"HomePage_aboutContent__F82M0\",\"impactGrid\":\"HomePage_impactGrid__eJ669\",\"impactCard\":\"HomePage_impactCard__SDu3m\",\"hovered\":\"HomePage_hovered__jxeH-\",\"impactIcon\":\"HomePage_impactIcon__ReqU+\",\"projectsIntro\":\"HomePage_projectsIntro__DewPO\",\"newsBlogsIntro\":\"HomePage_newsBlogsIntro__LEL79\",\"viewAllLink\":\"HomePage_viewAllLink__oHFN+\",\"contentLoading\":\"HomePage_contentLoading__Xojuk\",\"contentError\":\"HomePage_contentError__Eas9l\",\"contentEmpty\":\"HomePage_contentEmpty__6+7tE\",\"loadingSpinner\":\"HomePage_loadingSpinner__wRBlX\",\"spin\":\"HomePage_spin__96885\",\"projectsShowcase\":\"HomePage_projectsShowcase__h2WaN\",\"projectShowcaseCard\":\"HomePage_projectShowcaseCard__jASNw\",\"projectShowcaseImage\":\"HomePage_projectShowcaseImage__40pHN\",\"projectShowcaseOverlay\":\"HomePage_projectShowcaseOverlay__fiMPX\",\"projectShowcaseBadges\":\"HomePage_projectShowcaseBadges__YGloy\",\"projectShowcaseStatus\":\"HomePage_projectShowcaseStatus__X-2ZI\",\"projectShowcaseFeatured\":\"HomePage_projectShowcaseFeatured__bGB6w\",\"projectShowcaseContent\":\"HomePage_projectShowcaseContent__XE66P\",\"projectShowcaseHeader\":\"HomePage_projectShowcaseHeader__YN22q\",\"projectShowcaseCategory\":\"HomePage_projectShowcaseCategory__lOQb1\",\"projectShowcaseDescription\":\"HomePage_projectShowcaseDescription__a8QVU\",\"projectShowcaseMeta\":\"HomePage_projectShowcaseMeta__qYEd7\",\"projectShowcaseMetaItem\":\"HomePage_projectShowcaseMetaItem__tH20V\",\"projectShowcaseFooter\":\"HomePage_projectShowcaseFooter__m8OkH\",\"learnMoreText\":\"HomePage_learnMoreText__iCVRz\",\"newsBlogsLayout\":\"HomePage_newsBlogsLayout__1clL+\",\"featuredNewsSection\":\"HomePage_featuredNewsSection__JTl0b\",\"featuredNewsCard\":\"HomePage_featuredNewsCard__ixHW2\",\"featuredNewsImage\":\"HomePage_featuredNewsImage__4YiwJ\",\"featuredNewsOverlay\":\"HomePage_featuredNewsOverlay__hbg1A\",\"featuredNewsBadge\":\"HomePage_featuredNewsBadge__3eWNS\",\"featuredNewsContent\":\"HomePage_featuredNewsContent__Nv9H7\",\"featuredNewsMeta\":\"HomePage_featuredNewsMeta__kKN-l\",\"featuredNewsDate\":\"HomePage_featuredNewsDate__oVM4s\",\"featuredNewsStats\":\"HomePage_featuredNewsStats__OtWTh\",\"featuredNewsTitle\":\"HomePage_featuredNewsTitle__P+0le\",\"featuredNewsExcerpt\":\"HomePage_featuredNewsExcerpt__CZ-xs\",\"featuredNewsFooter\":\"HomePage_featuredNewsFooter__2d9W7\",\"readMoreText\":\"HomePage_readMoreText__fb7eC\",\"featuredNewsAuthor\":\"HomePage_featuredNewsAuthor__-xZ9N\",\"recentBlogsSection\":\"HomePage_recentBlogsSection__HI61P\",\"recentBlogsHeader\":\"HomePage_recentBlogsHeader__TJhkT\",\"recentBlogsList\":\"HomePage_recentBlogsList__AuyBb\",\"recentBlogCard\":\"HomePage_recentBlogCard__yEL-U\",\"recentBlogImage\":\"HomePage_recentBlogImage__GSkXB\",\"recentBlogFeaturedBadge\":\"HomePage_recentBlogFeaturedBadge__8bk9A\",\"recentBlogContent\":\"HomePage_recentBlogContent__Q6UW2\",\"recentBlogMeta\":\"HomePage_recentBlogMeta__WVLsL\",\"recentBlogDate\":\"HomePage_recentBlogDate__r-kdH\",\"recentBlogViews\":\"HomePage_recentBlogViews__mqogr\",\"recentBlogTitle\":\"HomePage_recentBlogTitle__80gsL\",\"recentBlogExcerpt\":\"HomePage_recentBlogExcerpt__3+Cq7\",\"recentBlogFooter\":\"HomePage_recentBlogFooter__eo3qG\",\"recentBlogReadTime\":\"HomePage_recentBlogReadTime__oTWF+\",\"noFeaturedNews\":\"HomePage_noFeaturedNews__3v211\",\"noBlogs\":\"HomePage_noBlogs__u69MV\",\"floatingElements\":\"HomePage_floatingElements__fBS4d\",\"floatingLeaf\":\"HomePage_floatingLeaf__SxTCi\",\"floatAnimation\":\"HomePage_floatAnimation__wTx0z\",\"leaf1\":\"HomePage_leaf1__cR7av\",\"leaf2\":\"HomePage_leaf2__Q3eDC\",\"leaf3\":\"HomePage_leaf3__zM5Vb\",\"shimmer\":\"HomePage_shimmer__IFdo7\"};","import React from 'react';\r\nimport { useTheme } from '../theme';\r\nimport { Link } from 'react-router-dom';\r\nimport '../styles/JoinMovement.css';\r\n\r\n\r\nconst JoinMovement = () => {\r\n  const { theme, colors } = useTheme();\r\n\r\n  return (\r\n    <section className=\"join-movement\" data-theme={theme.name}>\r\n      <div className=\"join-movement__texture-overlay\"></div>\r\n      <div className=\"join-movement__container\">\r\n        <div className=\"join-movement__content\">\r\n          \r\n          <h2 className=\"join-movement__title\">\r\n            Shape Africa's Sustainable Future\r\n          </h2>\r\n          <p className=\"join-movement__description\">\r\n            Join industry leaders, policymakers, and innovators in driving transformative \r\n            change across the continent. Your partnership creates lasting impact.\r\n          </p>\r\n\r\n          <div className=\"join-movement__actions\">\r\n            <Link \r\n              to=\"/get-involved\" \r\n              className=\"join-movement__button join-movement__button--primary\"\r\n            >\r\n              <span>Join Us</span>\r\n              <svg className=\"join-movement__button-icon\" viewBox=\"0 0 24 24\" fill=\"none\">\r\n                <path d=\"M5 12h14m-7-7l7 7-7 7\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n              </svg>\r\n            </Link>\r\n            <Link \r\n              to=\"/about-us\" \r\n              className=\"join-movement__button join-movement__button--secondary\"\r\n            >\r\n              <span>Learn More</span>\r\n            </Link>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default JoinMovement;","import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport { motion, AnimatePresence } from 'framer-motion';\r\nimport { useTheme } from '../../theme';\r\nimport { API_URL, STATIC_URL } from '../../config';\r\n\r\nconst FounderSection = () => {\r\n  const [members, setMembers] = useState([]);\r\n  const [showLetter, setShowLetter] = useState(false);\r\n  const [letterContent, setLetterContent] = useState('');\r\n  const { colors, isDarkMode } = useTheme();\r\n\r\n  useEffect(() => {\r\n    const fetchMembers = async () => {\r\n      try {\r\n        const response = await axios.get(`${API_URL}/team`, { withCredentials: true });\r\n        const data = response.data;\r\n        const teamArray = Array.isArray(data) ? data : data.data || data.members || [];\r\n        setMembers(teamArray);\r\n      } catch (error) {\r\n        console.error('Error fetching team members:', error);\r\n      }\r\n    };\r\n\r\n    fetchMembers();\r\n  }, []);\r\n\r\n  const founder = members.find(\r\n    (member) => member.department?.trim().toLowerCase() === 'founder'\r\n  );\r\n\r\n  const handleLetterClick = () => {\r\n    setLetterContent(`\r\n      Dear Friends and Supporters,\r\n\r\n      Welcome to the Africa Climate and Environment Foundation (ACEF)!\r\n\r\n      As the founder of ACEF, it is with immense pride and a profound sense of purpose that I share our journey with you. Our organization was born out of a deep conviction that the future of Africa lies in the hands of its vibrant, dedicated youth, women, and grassroots communities.\r\n\r\n      Since our registration on March 31st, 2021, ACEF has grown into a network of over 2,000 passionate individuals working tirelessly to address climate change, environmental degradation, and poverty across Africa. We believe in the power of collective action and unwavering commitment to create lasting change.\r\n\r\n      Our mission extends beyond just addressing environmental challenges - we aim to bridge the hunger and poverty gap, build community resilience, protect our precious environment, promote peace, and conserve the vital natural resources that sustain life across our beautiful continent.\r\n\r\n      I invite you to join us in this vital movement. Together, we can build a resilient, thriving Africa where communities flourish in harmony with nature.\r\n\r\n      Thank you for your support and belief in our mission.\r\n\r\n      Warm regards,\r\n      ${founder?.name || 'Founder'}\r\n      ${founder?.position || 'Founder & CEO'}\r\n      Africa Climate and Environment Foundation (ACEF)\r\n    `);\r\n    setShowLetter(true);\r\n  };\r\n\r\n  const styles = {\r\n    section: {\r\n      minHeight: '100vh',\r\n      display: 'flex',\r\n      alignItems: 'center',\r\n      position: 'relative',\r\n      background: isDarkMode ? colors.background : colors.white,\r\n      fontFamily: '\"Nunito Sans\", -apple-system, BlinkMacSystemFont, sans-serif',\r\n      padding: '0',\r\n    },\r\n    backgroundPattern: {\r\n      position: 'absolute',\r\n      top: 0,\r\n      left: 0,\r\n      right: 0,\r\n      bottom: 0,\r\n      opacity: isDarkMode ? 0.03 : 0.02,\r\n      background: `\r\n        radial-gradient(circle at 25% 25%, ${colors.primary} 1px, transparent 1px),\r\n        radial-gradient(circle at 75% 75%, ${colors.accent} 1px, transparent 1px)\r\n      `,\r\n      backgroundSize: '60px 60px',\r\n      backgroundPosition: '0 0, 30px 30px',\r\n    },\r\n    container: {\r\n      maxWidth: '1200px',\r\n      margin: '0 auto',\r\n      padding: '120px 24px',\r\n      display: 'grid',\r\n      gridTemplateColumns: '1fr 400px',\r\n      gap: '80px',\r\n      alignItems: 'center',\r\n      position: 'relative',\r\n      zIndex: 2,\r\n    },\r\n    leftContent: {\r\n      maxWidth: '600px',\r\n    },\r\n    rightContent: {\r\n      display: 'flex',\r\n      justifyContent: 'center',\r\n      alignItems: 'center',\r\n      position: 'relative',\r\n    },\r\n    sectionLabel: {\r\n      display: 'inline-block',\r\n      fontSize: '12px',\r\n      fontWeight: 700,\r\n      letterSpacing: '0.1em',\r\n      textTransform: 'uppercase',\r\n      color: colors.primary,\r\n      backgroundColor: isDarkMode ? `${colors.primary}15` : `${colors.primary}08`,\r\n      padding: '8px 16px',\r\n      borderRadius: '20px',\r\n      marginBottom: '32px',\r\n      border: `1px solid ${isDarkMode ? colors.primary + '25' : colors.primary + '15'}`,\r\n    },\r\n    title: {\r\n      fontSize: 'clamp(36px, 5vw, 56px)',\r\n      fontWeight: 800,\r\n      color: isDarkMode ? colors.text : colors.primary,\r\n      lineHeight: '1.1',\r\n      marginBottom: '24px',\r\n      letterSpacing: '-0.02em',\r\n      fontFamily: '\"Nunito Sans\", sans-serif',\r\n    },\r\n    titleAccent: {\r\n      background: `linear-gradient(135deg, ${colors.primary} 0%, ${colors.accent} 100%)`,\r\n      backgroundClip: 'text',\r\n      WebkitBackgroundClip: 'text',\r\n      WebkitTextFillColor: 'transparent',\r\n      position: 'relative',\r\n    },\r\n    subtitle: {\r\n      fontSize: '16px',\r\n      color: isDarkMode ? colors.textSecondary : colors.gray600,\r\n      lineHeight: '1.7',\r\n      marginBottom: '48px',\r\n      fontWeight: 400,\r\n      maxWidth: '520px',\r\n    },\r\n    buttonContainer: {\r\n      display: 'flex',\r\n      gap: '16px',\r\n      alignItems: 'flex-start',\r\n      flexWrap: 'wrap',\r\n    },\r\n    primaryButton: {\r\n      display: 'inline-flex',\r\n      alignItems: 'center',\r\n      justifyContent: 'center',\r\n      padding: '14px 28px',\r\n      backgroundColor: colors.primary,\r\n      color: colors.white,\r\n      border: 'none',\r\n      borderRadius: '12px',\r\n      fontSize: '14px',\r\n      fontWeight: 600,\r\n      fontFamily: '\"Nunito Sans\", sans-serif',\r\n      cursor: 'pointer',\r\n      transition: 'all 0.3s cubic-bezier(0.4, 0, 0.2, 1)',\r\n      textDecoration: 'none',\r\n      letterSpacing: '0.01em',\r\n      boxShadow: `0 4px 20px ${colors.primary}25`,\r\n      position: 'relative',\r\n      overflow: 'hidden',\r\n    },\r\n    secondaryButton: {\r\n      display: 'inline-flex',\r\n      alignItems: 'center',\r\n      justifyContent: 'center',\r\n      padding: '14px 28px',\r\n      backgroundColor: 'transparent',\r\n      color: isDarkMode ? colors.text : colors.primary,\r\n      border: `1.5px solid ${isDarkMode ? colors.border : colors.primary + '25'}`,\r\n      borderRadius: '12px',\r\n      fontSize: '14px',\r\n      fontWeight: 600,\r\n      fontFamily: '\"Nunito Sans\", sans-serif',\r\n      cursor: 'pointer',\r\n      transition: 'all 0.3s cubic-bezier(0.4, 0, 0.2, 1)',\r\n      textDecoration: 'none',\r\n      letterSpacing: '0.01em',\r\n      position: 'relative',\r\n      overflow: 'hidden',\r\n    },\r\n    imageContainer: {\r\n      position: 'relative',\r\n      borderRadius: '24px',\r\n      overflow: 'hidden',\r\n      background: isDarkMode \r\n        ? `linear-gradient(145deg, ${colors.surface}, ${colors.surfaceSecondary})`\r\n        : `linear-gradient(145deg, ${colors.white}, ${colors.gray50})`,\r\n      padding: '4px',\r\n      boxShadow: isDarkMode \r\n        ? `0 20px 60px ${colors.black}40, 0 8px 25px ${colors.black}20`\r\n        : `0 20px 60px ${colors.primary}15, 0 8px 25px ${colors.primary}08`,\r\n    },\r\n    founderImage: {\r\n      width: '400px',\r\n      height: '480px',\r\n      objectFit: 'cover',\r\n      borderRadius: '20px',\r\n      position: 'relative',\r\n      filter: 'contrast(1.05) brightness(1.02)',\r\n    },\r\n    imageOverlay: {\r\n      position: 'absolute',\r\n      bottom: '16px',\r\n      left: '16px',\r\n      right: '16px',\r\n      background: isDarkMode \r\n        ? 'rgba(0, 0, 0, 0.7)'\r\n        : 'rgba(255, 255, 255, 0.9)',\r\n      backdropFilter: 'blur(12px)',\r\n      borderRadius: '12px',\r\n      padding: '16px 20px',\r\n      border: `1px solid ${isDarkMode ? colors.border : colors.gray200}`,\r\n    },\r\n    overlayName: {\r\n      margin: '0 0 4px 0',\r\n      fontSize: '16px',\r\n      fontWeight: 700,\r\n      color: isDarkMode ? colors.text : colors.primary,\r\n      lineHeight: '1.2',\r\n    },\r\n    overlayPosition: {\r\n      margin: 0,\r\n      fontSize: '13px',\r\n      color: isDarkMode ? colors.textSecondary : colors.gray600,\r\n      fontWeight: 500,\r\n      lineHeight: '1.2',\r\n    },\r\n    modal: {\r\n      position: 'fixed',\r\n      top: 0,\r\n      left: 0,\r\n      width: '100%',\r\n      height: '100%',\r\n      backgroundColor: isDarkMode ? 'rgba(0, 0, 0, 0.8)' : 'rgba(0, 0, 0, 0.6)',\r\n      backdropFilter: 'blur(20px)',\r\n      display: 'flex',\r\n      justifyContent: 'center',\r\n      alignItems: 'center',\r\n      zIndex: 1000,\r\n      padding: '20px',\r\n    },\r\n    modalContent: {\r\n      backgroundColor: isDarkMode ? colors.surface : colors.white,\r\n      backdropFilter: 'blur(20px)',\r\n      padding: '40px',\r\n      borderRadius: '20px',\r\n      maxWidth: '700px',\r\n      width: '100%',\r\n      maxHeight: '80vh',\r\n      overflowY: 'auto',\r\n      fontFamily: '\"Nunito Sans\", sans-serif',\r\n      lineHeight: '1.7',\r\n      color: isDarkMode ? colors.text : colors.primary,\r\n      boxShadow: isDarkMode \r\n        ? `0 40px 120px ${colors.black}60, 0 20px 60px ${colors.black}40`\r\n        : `0 40px 120px ${colors.primary}20, 0 20px 60px ${colors.primary}15`,\r\n      border: `1px solid ${isDarkMode ? colors.border : colors.gray200}`,\r\n      position: 'relative',\r\n    },\r\n    modalHeader: {\r\n      marginTop: 0,\r\n      marginBottom: '32px',\r\n      fontWeight: 800,\r\n      color: isDarkMode ? colors.text : colors.primary,\r\n      fontSize: '28px',\r\n      letterSpacing: '-0.01em',\r\n      textAlign: 'center',\r\n      lineHeight: '1.2',\r\n    },\r\n    modalText: {\r\n      whiteSpace: 'pre-wrap',\r\n      color: isDarkMode ? colors.textSecondary : colors.gray700,\r\n      fontSize: '15px',\r\n      lineHeight: '1.7',\r\n      fontWeight: 400,\r\n    },\r\n    closeButton: {\r\n      marginTop: '32px',\r\n      padding: '12px 24px',\r\n      backgroundColor: colors.primary,\r\n      color: colors.white,\r\n      border: 'none',\r\n      borderRadius: '10px',\r\n      fontWeight: 600,\r\n      cursor: 'pointer',\r\n      fontFamily: '\"Nunito Sans\", sans-serif',\r\n      fontSize: '14px',\r\n      boxShadow: `0 4px 20px ${colors.primary}25`,\r\n      transition: 'all 0.3s cubic-bezier(0.4, 0, 0.2, 1)',\r\n      display: 'block',\r\n      margin: '32px auto 0',\r\n    },\r\n    // Responsive breakpoints\r\n    '@media (max-width: 1024px)': {\r\n      container: {\r\n        gridTemplateColumns: '1fr',\r\n        gap: '60px',\r\n        textAlign: 'center',\r\n        padding: '100px 24px',\r\n      },\r\n      founderImage: {\r\n        width: '350px',\r\n        height: '420px',\r\n      },\r\n    },\r\n    '@media (max-width: 768px)': {\r\n      container: {\r\n        padding: '80px 20px',\r\n        gap: '48px',\r\n      },\r\n      founderImage: {\r\n        width: '300px',\r\n        height: '360px',\r\n      },\r\n      buttonContainer: {\r\n        justifyContent: 'center',\r\n      },\r\n      modalContent: {\r\n        padding: '32px 24px',\r\n        borderRadius: '16px',\r\n      },\r\n      modalHeader: {\r\n        fontSize: '24px',\r\n      },\r\n      modalText: {\r\n        fontSize: '14px',\r\n      },\r\n    },\r\n    '@media (max-width: 480px)': {\r\n      buttonContainer: {\r\n        flexDirection: 'column',\r\n        alignItems: 'center',\r\n        width: '100%',\r\n      },\r\n      primaryButton: {\r\n        width: '100%',\r\n        maxWidth: '280px',\r\n      },\r\n      secondaryButton: {\r\n        width: '100%',\r\n        maxWidth: '280px',\r\n      },\r\n    },\r\n  };\r\n\r\n  // Animation variants\r\n  const containerVariants = {\r\n    hidden: { opacity: 0 },\r\n    visible: {\r\n      opacity: 1,\r\n      transition: {\r\n        duration: 0.6,\r\n        staggerChildren: 0.2\r\n      }\r\n    }\r\n  };\r\n\r\n  const itemVariants = {\r\n    hidden: { \r\n      opacity: 0, \r\n      y: 30,\r\n      filter: 'blur(8px)'\r\n    },\r\n    visible: {\r\n      opacity: 1,\r\n      y: 0,\r\n      filter: 'blur(0px)',\r\n      transition: {\r\n        duration: 0.8,\r\n        ease: [0.25, 0.46, 0.45, 0.94]\r\n      }\r\n    }\r\n  };\r\n\r\n  const imageVariants = {\r\n    hidden: { \r\n      opacity: 0, \r\n      scale: 0.9,\r\n      filter: 'blur(10px)'\r\n    },\r\n    visible: {\r\n      opacity: 1,\r\n      scale: 1,\r\n      filter: 'blur(0px)',\r\n      transition: {\r\n        duration: 1.0,\r\n        delay: 0.4,\r\n        ease: [0.25, 0.46, 0.45, 0.94]\r\n      }\r\n    }\r\n  };\r\n\r\n  const modalVariants = {\r\n    hidden: { \r\n      opacity: 0,\r\n      scale: 0.9,\r\n      y: 40,\r\n    },\r\n    visible: {\r\n      opacity: 1,\r\n      scale: 1,\r\n      y: 0,\r\n      transition: {\r\n        duration: 0.4,\r\n        ease: [0.25, 0.46, 0.45, 0.94]\r\n      }\r\n    },\r\n    exit: {\r\n      opacity: 0,\r\n      scale: 0.9,\r\n      y: -40,\r\n      transition: {\r\n        duration: 0.3,\r\n        ease: [0.25, 0.46, 0.45, 0.94]\r\n      }\r\n    }\r\n  };\r\n\r\n  return (\r\n    <section style={styles.section}>\r\n      <div style={styles.backgroundPattern} />\r\n      \r\n      <motion.div \r\n        style={styles.container}\r\n        variants={containerVariants}\r\n        initial=\"hidden\"\r\n        whileInView=\"visible\"\r\n        viewport={{ once: true, margin: '-100px' }}\r\n      >\r\n        <div style={styles.leftContent}>\r\n          <motion.div\r\n            variants={itemVariants}\r\n            style={styles.sectionLabel}\r\n          >\r\n            Leadership\r\n          </motion.div>\r\n          \r\n          <motion.h1\r\n            style={styles.title}\r\n            variants={itemVariants}\r\n          >\r\n            A message from our{' '}\r\n            <span style={styles.titleAccent}>\r\n              Founder\r\n            </span>\r\n          </motion.h1>\r\n          \r\n          <motion.p\r\n            style={styles.subtitle}\r\n            variants={itemVariants}\r\n          >\r\n            Discover the vision and commitment driving ACEF's mission to create \r\n            sustainable solutions for climate challenges across Africa, fostering \r\n            community resilience and environmental harmony.\r\n          </motion.p>\r\n          \r\n          <motion.div\r\n            style={styles.buttonContainer}\r\n            variants={itemVariants}\r\n          >\r\n            <motion.button\r\n              style={styles.primaryButton}\r\n              onClick={handleLetterClick}\r\n              whileHover={{ \r\n                scale: 1.02,\r\n                backgroundColor: colors.primaryDark,\r\n                boxShadow: `0 6px 25px ${colors.primary}35`,\r\n                transition: { duration: 0.2 }\r\n              }}\r\n              whileTap={{ \r\n                scale: 0.98,\r\n                transition: { duration: 0.1 }\r\n              }}\r\n            >\r\n              Read Founder's Message\r\n            </motion.button>\r\n            \r\n          \r\n          </motion.div>\r\n        </div>\r\n        \r\n        <div style={styles.rightContent}>\r\n          <motion.div\r\n            style={styles.imageContainer}\r\n            variants={imageVariants}\r\n            whileHover={{ \r\n              scale: 1.02,\r\n              transition: { duration: 0.4 }\r\n            }}\r\n          >\r\n            <motion.img\r\n              src={founder?.image_url ? `${STATIC_URL}${founder.image_url}` : 'https://images.unsplash.com/photo-1594736797933-d0401ba2fe65?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80'}\r\n              alt={founder?.name || 'ACEF Founder'}\r\n              style={styles.founderImage}\r\n              whileHover={{ \r\n                scale: 1.05,\r\n                transition: { duration: 0.3 }\r\n              }}\r\n            />\r\n            \r\n            <div style={styles.imageOverlay}>\r\n              <h3 style={styles.overlayName}>\r\n                {founder?.name || 'Founder'}\r\n              </h3>\r\n              <p style={styles.overlayPosition}>\r\n                {founder?.position || 'Founder & CEO'}\r\n              </p>\r\n            </div>\r\n          </motion.div>\r\n        </div>\r\n      </motion.div>\r\n\r\n      <AnimatePresence>\r\n        {showLetter && (\r\n          <motion.div \r\n            style={styles.modal} \r\n            initial={{ opacity: 0 }}\r\n            animate={{ opacity: 1 }}\r\n            exit={{ opacity: 0 }}\r\n            transition={{ duration: 0.3 }}\r\n            onClick={() => setShowLetter(false)}\r\n          >\r\n            <motion.div \r\n              style={styles.modalContent} \r\n              variants={modalVariants}\r\n              initial=\"hidden\"\r\n              animate=\"visible\"\r\n              exit=\"exit\"\r\n              onClick={(e) => e.stopPropagation()}\r\n            >\r\n              <h2 style={styles.modalHeader}>\r\n                A Message from Our Founder\r\n              </h2>\r\n              \r\n              <pre style={styles.modalText}>\r\n                {letterContent}\r\n              </pre>\r\n\r\n              <motion.button\r\n                style={styles.closeButton}\r\n                onClick={() => setShowLetter(false)}\r\n                whileHover={{ \r\n                  scale: 1.02,\r\n                  backgroundColor: colors.primaryDark,\r\n                  boxShadow: `0 6px 25px ${colors.primary}35`,\r\n                  transition: { duration: 0.2 }\r\n                }}\r\n                whileTap={{ \r\n                  scale: 0.98,\r\n                  transition: { duration: 0.1 }\r\n                }}\r\n              >\r\n                Close\r\n              </motion.button>\r\n            </motion.div>\r\n          </motion.div>\r\n        )}\r\n      </AnimatePresence>\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default FounderSection;","import React, { useState } from 'react';\r\nimport { useTheme } from '../../theme';\r\n\r\nconst ImageFallbackComponent = ({ onStartClick }) => {\r\n  const [imageError, setImageError] = useState(false);\r\n    const { colors, isDarkMode } = useTheme();\r\n  \r\n  // Multiple path attempts for debugging\r\n  const imagePaths = [\r\n    \"/heroimageget.jpg\",           // Standard public folder path\r\n    \"./heroimageget.jpg\",          // Relative path\r\n    \"heroimageget.jpg\",            // Without leading slash\r\n    \"/public/heroimageget.jpg\",    // Your original path (shouldn't work but let's try)\r\n    process.env.PUBLIC_URL + \"/heroimageget.jpg\" // Environment-aware path\r\n  ];\r\n  \r\n  const [currentPathIndex, setCurrentPathIndex] = useState(0);\r\n  const [attemptedPaths, setAttemptedPaths] = useState([]);\r\n  \r\n  const fallbackImage = `https://picsum.photos/800/1000?random=${Date.now()}`;\r\n  \r\n  const handleImageError = () => {\r\n    const failedPath = imagePaths[currentPathIndex];\r\n    console.log(`Image failed to load from: ${failedPath}`);\r\n    setAttemptedPaths(prev => [...prev, failedPath]);\r\n    \r\n    if (currentPathIndex < imagePaths.length - 1) {\r\n      console.log(`Trying next path: ${imagePaths[currentPathIndex + 1]}`);\r\n      setCurrentPathIndex(prev => prev + 1);\r\n    } else {\r\n      console.log('All paths failed, using fallback image');\r\n      setImageError(true);\r\n    }\r\n  };\r\n\r\n  const handleImageLoad = () => {\r\n    console.log(`Image loaded successfully from: ${imagePaths[currentPathIndex]}`);\r\n  };\r\n\r\n  const handleStartClick = () => {\r\n    if (onStartClick) {\r\n      onStartClick();\r\n    }\r\n  };\r\n\r\n  const handleReadStoriesClick = () => {\r\n    const testimonialSection = document.getElementById('collvolunteerstestimonials');\r\n    if (testimonialSection) {\r\n      testimonialSection.scrollIntoView({ behavior: 'smooth' });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"image-container\">\r\n      <style>{`\r\n        .image-container {\r\n          position: relative;\r\n          width: 100%;\r\n          min-height: 100vh;\r\n\r\n          background-color: ${colors.surface};\r\n          margin-top: 80px;\r\n          display: flex;\r\n          align-items: center;\r\n          justify-content: flex-start;\r\n          overflow: hidden;\r\n          font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;\r\n        }\r\n        \r\n        .content-wrapper {\r\n          position: relative;\r\n          width: 100%;\r\n          height: 100vh;\r\n          display: flex;\r\n          align-items: center;\r\n          justify-content: space-between;\r\n        }\r\n        \r\n        .text-content {\r\n          position: relative;\r\n          z-index: 10;\r\n          flex: 0 0 45%;\r\n          padding: 0 5%;\r\n          color: ${colors.text};\r\n          backdrop-filter: blur(2px);\r\n        }\r\n        \r\n        .text-content h1 {\r\n          font-size: clamp(1.5rem, 4vw, 3rem);\r\n          font-weight: 800;\r\n          margin-bottom: 1.5rem;\r\n          color: ${colors.primary};\r\n          line-height: 1.1;\r\n          text-shadow: ${isDarkMode ? '0 2px 4px rgba(0, 0, 0, 0.5)' : '0 2px 4px rgba(255, 255, 255, 0.9)'};\r\n          letter-spacing: -0.02em;\r\n        }\r\n        \r\n        .text-content .subtitle {\r\n          font-size: clamp(0.5rem, 1vw, 1.0rem);\r\n          font-weight: 600;\r\n          color: ${colors.secondary};\r\n          margin-bottom: 1rem;\r\n          text-transform: uppercase;\r\n          letter-spacing: 0.1em;\r\n        }\r\n        \r\n        .text-content p {\r\n          font-size: clamp(1rem, 0.8vw, 0.5rem);\r\n          line-height: 1.7;\r\n          margin-bottom: 2.5rem;\r\n          color: ${colors.textSecondary};\r\n          font-weight: 400;\r\n          text-shadow: ${isDarkMode ? '0 1px 2px rgba(0, 0, 0, 0.5)' : '0 1px 2px rgba(255, 255, 255, 0.8)'};\r\n        }\r\n        \r\n        .button-group {\r\n          display: flex;\r\n          gap: 1.5rem;\r\n          align-items: center;\r\n          flex-wrap: wrap;\r\n        }\r\n        \r\n        .cta-button {\r\n          background-color: ${colors.primary};\r\n          color: ${colors.white || '#ffffff'};\r\n          padding: 12px 24px;\r\n          border-radius: 12px;\r\n          border: none;\r\n          font-weight: 600;\r\n          font-size: 16px;\r\n          cursor: pointer;\r\n          display: inline-flex;\r\n          align-items: center;\r\n          gap: 8px;\r\n          transition: all 0.3s ease;\r\n          font-family: \"Nunito Sans\", sans-serif;\r\n          position: relative;\r\n          overflow: hidden;\r\n          text-decoration: none;\r\n          box-shadow: 0 4px 15px rgba(250, 207, 60, 0.3);\r\n        }\r\n        \r\n        .secondary-button {\r\n          background-color: transparent;\r\n          color: ${colors.primary};\r\n          border: 2px solid ${colors.primary};\r\n          padding: 10px 22px;\r\n          border-radius: 12px;\r\n          font-weight: 600;\r\n          font-size: 16px;\r\n          cursor: pointer;\r\n          display: inline-flex;\r\n          align-items: center;\r\n          gap: 8px;\r\n          transition: all 0.3s ease;\r\n          font-family: \"Nunito Sans\", sans-serif;\r\n          position: relative;\r\n          overflow: hidden;\r\n          text-decoration: none;\r\n          box-shadow: 0 4px 15px ${isDarkMode ? 'rgba(250, 207, 60, 0.1)' : 'rgba(250, 207, 60, 0.2)'};\r\n        }\r\n        \r\n        .cta-button::before,\r\n        .secondary-button::before {\r\n          content: '';\r\n          position: absolute;\r\n          top: 0;\r\n          left: -100%;\r\n          width: 100%;\r\n          height: 100%;\r\n          background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);\r\n          transition: left 0.6s ease;\r\n        }\r\n        \r\n        .cta-button:hover::before,\r\n        .secondary-button:hover::before {\r\n          left: 100%;\r\n        }\r\n        \r\n        .cta-button:hover {\r\n          transform: translateY(-3px) scale(1.02);\r\n          box-shadow: 0 12px 40px rgba(250, 207, 60, 0.5);\r\n          filter: brightness(1.1);\r\n        }\r\n        \r\n        .secondary-button:hover {\r\n          transform: translateY(-3px) scale(1.02);\r\n          background-color: ${colors.primary};\r\n          color: ${colors.white || '#ffffff'};\r\n          box-shadow: 0 12px 40px rgba(250, 207, 60, 0.4);\r\n        }\r\n        \r\n        .cta-button:active,\r\n        .secondary-button:active {\r\n          transform: translateY(-1px) scale(1.01);\r\n        }\r\n        \r\n        .image-section {\r\n          position: absolute;\r\n          right: 0;\r\n          top: 0;\r\n          width: 65%;\r\n          height: 100vh;\r\n          z-index: 1;\r\n        }\r\n        \r\n        .main-image {\r\n          width: 100%;\r\n          height: 100%;\r\n          object-fit: cover;\r\n          object-position: center;\r\n        }\r\n        \r\n        .image-overlay {\r\n          position: absolute;\r\n          top: 0;\r\n          left: 0;\r\n          right: 0;\r\n          bottom: 0;\r\n          z-index: 2;\r\n          background: ${\r\n            isDarkMode\r\n              ? `linear-gradient(\r\n                  90deg,\r\n                  ${colors.surface} 0%,\r\n                  rgba(18, 18, 18, 0.98) 5%,\r\n                  rgba(18, 18, 18, 0.85) 12%,\r\n                  rgba(18, 18, 18, 0.7) 20%,\r\n                  rgba(18, 18, 18, 0.5) 30%,\r\n                  rgba(18, 18, 18, 0.3) 40%,\r\n                  rgba(18, 18, 18, 0.1) 50%,\r\n                  transparent 60%\r\n                )`\r\n              : `linear-gradient(\r\n                  90deg,\r\n                  ${colors.surface} 0%,\r\n                  rgba(255, 255, 255, 0.98) 5%,\r\n                  rgba(255, 255, 255, 0.85) 12%,\r\n                  rgba(255, 255, 255, 0.7) 20%,\r\n                  rgba(255, 255, 255, 0.5) 30%,\r\n                  rgba(255, 255, 255, 0.3) 40%,\r\n                  rgba(255, 255, 255, 0.1) 50%,\r\n                  transparent 60%\r\n                )`\r\n          };\r\n        }\r\n        \r\n        .bottom-fade {\r\n          position: absolute;\r\n          bottom: 0;\r\n          left: 0;\r\n          right: 0;\r\n          height: 100px;\r\n          background: linear-gradient(\r\n            to bottom,\r\n            transparent 0%,\r\n            ${isDarkMode ? 'rgba(18, 18, 18, 0.1)' : 'rgba(255, 255, 255, 0.1)'} 30%,\r\n            ${isDarkMode ? 'rgba(18, 18, 18, 0.3)' : 'rgba(255, 255, 255, 0.3)'} 60%,\r\n            ${isDarkMode ? 'rgba(18, 18, 18, 0.6)' : 'rgba(255, 255, 255, 0.6)'} 80%,\r\n            ${isDarkMode ? 'rgba(18, 18, 18, 0.9)' : 'rgba(255, 255, 255, 0.9)'} 100%\r\n          );\r\n          z-index: 5;\r\n          pointer-events: none;\r\n        }\r\n        \r\n        .futuristic-overlay {\r\n          position: absolute;\r\n          top: 0;\r\n          left: 0;\r\n          right: 0;\r\n          bottom: 0;\r\n          background: linear-gradient(\r\n            45deg,\r\n            ${isDarkMode ? 'rgba(10, 69, 28, 0.08)' : 'rgba(10, 69, 28, 0.05)'} 0%,\r\n            transparent 30%,\r\n            ${isDarkMode ? 'rgba(250, 207, 60, 0.05)' : 'rgba(250, 207, 60, 0.03)'} 70%,\r\n            transparent 100%\r\n          );\r\n          z-index: 3;\r\n          pointer-events: none;\r\n        }\r\n        \r\n        .accent-elements {\r\n          position: absolute;\r\n          top: 20%;\r\n          right: 10%;\r\n          width: 200px;\r\n          height: 200px;\r\n          z-index: 4;\r\n          pointer-events: none;\r\n        }\r\n        \r\n        .accent-circle {\r\n          position: absolute;\r\n          border: 2px solid rgba(250, 207, 60, ${isDarkMode ? '0.4' : '0.3'});\r\n          border-radius: 50%;\r\n          animation: pulse 3s infinite ease-in-out;\r\n        }\r\n        \r\n        .accent-circle:nth-child(1) {\r\n          width: 80px;\r\n          height: 80px;\r\n          top: 0;\r\n          right: 0;\r\n        }\r\n        \r\n        .accent-circle:nth-child(2) {\r\n          width: 120px;\r\n          height: 120px;\r\n          top: 40px;\r\n          right: 60px;\r\n          animation-delay: -1s;\r\n        }\r\n        \r\n        .fallback-indicator {\r\n          position: absolute;\r\n          top: 30px;\r\n          right: 30px;\r\n          background: rgba(10, 69, 28, 0.9);\r\n          color: #fff;\r\n          padding: 0.8rem 1.2rem;\r\n          border-radius: 25px;\r\n          font-size: 0.9rem;\r\n          z-index: 15;\r\n          backdrop-filter: blur(10px);\r\n          font-weight: 600;\r\n          border: 1px solid rgba(250, 207, 60, 0.3);\r\n        }\r\n        \r\n        .local-indicator {\r\n          position: absolute;\r\n          top: 30px;\r\n          right: 30px;\r\n          background: rgba(10, 69, 28, 0.9);\r\n          color: #fff;\r\n          padding: 0.8rem 1.2rem;\r\n          border-radius: 25px;\r\n          font-size: 0.9rem;\r\n          z-index: 15;\r\n          backdrop-filter: blur(10px);\r\n          font-weight: 600;\r\n          border: 1px solid rgba(250, 207, 60, 0.3);\r\n        }\r\n        \r\n        .highlight {\r\n          background: linear-gradient(135deg, ${colors.secondary}, #f0c346);\r\n          background-clip: text;\r\n          -webkit-background-clip: text;\r\n          -webkit-text-fill-color: transparent;\r\n          font-weight: 700;\r\n        }\r\n        \r\n        @keyframes pulse {\r\n          0%, 100% {\r\n            transform: scale(1);\r\n            opacity: ${isDarkMode ? '0.4' : '0.3'};\r\n          }\r\n          50% {\r\n            transform: scale(1.1);\r\n            opacity: ${isDarkMode ? '0.7' : '0.6'};\r\n          }\r\n        }\r\n        \r\n        @keyframes float {\r\n          0%, 100% {\r\n            transform: translateY(0px);\r\n          }\r\n          50% {\r\n            transform: translateY(-10px);\r\n          }\r\n        }\r\n        \r\n        .text-content {\r\n          animation: float 6s ease-in-out infinite;\r\n        }\r\n        \r\n        @media (max-width: 1024px) {\r\n          .image-container {\r\n            margin-top: 60px;\r\n          }\r\n          \r\n          .content-wrapper {\r\n            flex-direction: column;\r\n            justify-content: center;\r\n          }\r\n          \r\n          .text-content {\r\n            flex: none;\r\n            padding: 2rem;\r\n            text-align: center;\r\n            backdrop-filter: blur(5px);\r\n            background: ${isDarkMode ? 'rgba(18, 18, 18, 0.9)' : 'rgba(255, 255, 255, 0.9)'};\r\n            border-radius: 20px;\r\n            margin: 2rem;\r\n            box-shadow: 0 20px 40px ${isDarkMode ? 'rgba(0, 0, 0, 0.3)' : 'rgba(0, 0, 0, 0.1)'};\r\n          }\r\n          \r\n          .image-section {\r\n            position: absolute;\r\n            width: 100%;\r\n            height: 100%;\r\n            z-index: 0;\r\n          }\r\n          \r\n          .image-overlay {\r\n            background: ${\r\n              isDarkMode\r\n                ? `linear-gradient(\r\n                    180deg,\r\n                    transparent 0%,\r\n                    rgba(18, 18, 18, 0.1) 20%,\r\n                    rgba(18, 18, 18, 0.3) 40%,\r\n                    rgba(18, 18, 18, 0.6) 60%,\r\n                    rgba(18, 18, 18, 0.8) 80%,\r\n                    rgba(18, 18, 18, 0.95) 100%\r\n                  )`\r\n                : `linear-gradient(\r\n                    180deg,\r\n                    transparent 0%,\r\n                    rgba(255, 255, 255, 0.1) 20%,\r\n                    rgba(255, 255, 255, 0.3) 40%,\r\n                    rgba(255, 255, 255, 0.6) 60%,\r\n                    rgba(255, 255, 255, 0.8) 80%,\r\n                    rgba(255, 255, 255, 0.95) 100%\r\n                  )`\r\n            };\r\n          }\r\n          \r\n          .accent-elements {\r\n            display: none;\r\n          }\r\n          \r\n          .button-group {\r\n            justify-content: center;\r\n            gap: 1rem;\r\n          }\r\n        }\r\n        \r\n        @media (max-width: 768px) {\r\n          .image-container {\r\n            margin-top: 50px;\r\n          }\r\n          \r\n          .text-content {\r\n            margin: 1rem;\r\n            padding: 1.5rem;\r\n          }\r\n          \r\n          .cta-button,\r\n          .secondary-button {\r\n            padding: 12px 20px;\r\n            font-size: 15px;\r\n          }\r\n          \r\n          .button-group {\r\n            flex-direction: column;\r\n            gap: 1rem;\r\n            width: 100%;\r\n          }\r\n          \r\n          .cta-button,\r\n          .secondary-button {\r\n            width: 100%;\r\n            justify-content: center;\r\n          }\r\n        }\r\n        \r\n        @media (max-width: 480px) {\r\n          .image-container {\r\n            margin-top: 40px;\r\n          }\r\n          \r\n          .cta-button,\r\n          .secondary-button {\r\n            padding: 10px 18px;\r\n            font-size: 14px;\r\n          }\r\n        }\r\n      `}</style>\r\n      \r\n      <div className=\"content-wrapper\">\r\n        <div className=\"text-content\">\r\n          <h1>Join ACEF in Empowering Grassroots</h1>\r\n          <p>\r\n            Be part of a movement that transforms communities from the ground up. \r\n            Together, we're building sustainable solutions, fostering innovation, \r\n            and creating lasting change that <span className=\"highlight\">empowers every voice</span>. \r\n            Your involvement makes the difference between hope and reality for countless lives across Africa.\r\n          </p>\r\n          <div className=\"button-group\">\r\n            <button className=\"cta-button\" onClick={handleStartClick}>\r\n              Start\r\n            </button>\r\n            <button className=\"secondary-button\" onClick={handleReadStoriesClick}>\r\n              Read Impact Stories\r\n            </button>\r\n          </div>\r\n        </div>\r\n        \r\n        <div className=\"image-section\">\r\n         {isDarkMode ? (\r\n  <video\r\n    className=\"main-image\"\r\n    autoPlay\r\n    loop\r\n    muted\r\n    playsInline\r\n  >\r\n    <source src=\"/plantdripping.mp4\" type=\"video/mp4\" />\r\n    Your browser does not support the video tag.\r\n  </video>\r\n) : (\r\n  <img\r\n    src={imageError ? fallbackImage : imagePaths[currentPathIndex]}\r\n    alt=\"Community empowerment and grassroots development\"\r\n    className=\"main-image\"\r\n    onError={handleImageError}\r\n    onLoad={handleImageLoad}\r\n  />\r\n)}\r\n\r\n          <div className=\"image-overlay\"></div>\r\n          <div className=\"bottom-fade\"></div>\r\n          <div className=\"futuristic-overlay\"></div>\r\n          <div className=\"accent-elements\">\r\n            <div className=\"accent-circle\"></div>\r\n            <div className=\"accent-circle\"></div>\r\n          </div>\r\n          \r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ImageFallbackComponent;","import React, { useEffect, useState, useRef } from 'react';\r\nimport { motion } from 'framer-motion';\r\nimport { useTheme } from '../../theme';\r\nimport { API_URL, STATIC_URL } from '../../config';\r\nimport { subscribeToNewsletter } from \"../../services/newsletterService\";\r\n\r\n// Updated Accreditors Grid Component with animations\r\n// Updated Accreditors Grid Component with logo display and hover names\r\nconst AccreditorsGrid = ({ partners }) => {\r\n  const { colors, isDarkMode } = useTheme();\r\n\r\n  if (partners.length === 0) return null;\r\n\r\n  return (\r\n    <motion.div \r\n      initial={{ opacity: 0, y: 30 }}\r\n      whileInView={{ opacity: 1, y: 0 }}\r\n      viewport={{ margin: '-50px' }}\r\n      transition={{ duration: 0.6 }}\r\n      style={{\r\n        marginTop: '2rem',\r\n        marginBottom: '2rem'\r\n      }}\r\n    >\r\n      {/* Divider line */}\r\n      <motion.div \r\n        initial={{ scaleX: 0 }}\r\n        whileInView={{ scaleX: 1 }}\r\n        viewport={{ margin: '-50px' }}\r\n        transition={{ duration: 0.8 }}\r\n        style={{\r\n          height: '1px',\r\n          background: `linear-gradient(to right, transparent 0%, ${colors.border} 20%, ${colors.border} 80%, transparent 100%)`,\r\n          marginBottom: '1.5rem',\r\n          width: '100%',\r\n          maxWidth: '100%',\r\n          transformOrigin: 'center'\r\n        }} \r\n      />\r\n      \r\n      <motion.h3 \r\n        initial={{ opacity: 0, x: -30 }}\r\n        whileInView={{ opacity: 1, x: 0 }}\r\n        viewport={{ margin: '-50px' }}\r\n        transition={{ duration: 0.6 }}\r\n        style={{\r\n          textAlign: 'left',\r\n          fontSize: 'clamp(1.1rem, 3vw, 1.3rem)',\r\n          fontWeight: 700,\r\n          color: colors.text,\r\n          marginBottom: '1rem',\r\n          fontFamily: '\"Nunito Sans\", -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, sans-serif'\r\n        }}\r\n      >\r\n        Trusted and Accredited by\r\n      </motion.h3>\r\n      \r\n      <div style={{\r\n        display: 'flex',\r\n        flexWrap: 'wrap',\r\n        gap: '1rem',\r\n        alignItems: 'flex-start'\r\n      }}>\r\n        {partners.map((partner, index) => (\r\n          <motion.div \r\n            key={partner.id}\r\n            initial={{ opacity: 0, y: 20 }}\r\n            whileInView={{ opacity: 1, y: 0 }}\r\n            viewport={{ margin: '-50px' }}\r\n            transition={{ duration: 0.5, delay: index * 0.1 }}\r\n            style={{\r\n              position: 'relative',\r\n              display: 'inline-flex',\r\n              alignItems: 'center',\r\n              justifyContent: 'center',\r\n              padding: '0.5rem',\r\n              transition: 'all 0.3s ease',\r\n              cursor: 'pointer',\r\n              minWidth: '80px',\r\n              minHeight: '80px',\r\n              maxWidth: '100px',\r\n              maxHeight: '100px',\r\n              overflow: 'visible'\r\n            }}\r\n            onMouseEnter={(e) => {\r\n              e.currentTarget.style.transform = 'translateY(-3px) scale(1.1)';\r\n              e.currentTarget.style.filter = 'drop-shadow(0 8px 25px rgba(0, 0, 0, 0.15))';\r\n              \r\n              // Show tooltip with partner name from API\r\n              const tooltip = e.currentTarget.querySelector('.partner-tooltip');\r\n              if (tooltip) {\r\n                tooltip.style.opacity = '1';\r\n                tooltip.style.transform = 'translateX(-50%) translateY(-10px)';\r\n                tooltip.style.visibility = 'visible';\r\n              }\r\n            }}\r\n            onMouseLeave={(e) => {\r\n              e.currentTarget.style.transform = 'translateY(0) scale(1)';\r\n              e.currentTarget.style.filter = 'none';\r\n              \r\n              // Hide tooltip\r\n              const tooltip = e.currentTarget.querySelector('.partner-tooltip');\r\n              if (tooltip) {\r\n                tooltip.style.opacity = '0';\r\n                tooltip.style.transform = 'translateX(-50%) translateY(0)';\r\n                tooltip.style.visibility = 'hidden';\r\n              }\r\n            }}\r\n          >\r\n            {/* Logo Image */}\r\n            <img\r\n              src={partner.logo ? `${STATIC_URL}/uploads/partners/${partner.logo}` : '/placeholder-logo.png'}\r\n              alt={`${partner.name} logo`}\r\n              style={{\r\n                width: '100%',\r\n                height: '100%',\r\n                objectFit: 'contain',\r\n                maxWidth: '64px',\r\n                maxHeight: '64px',\r\n                filter: isDarkMode ? 'brightness(0.9)' : 'none'\r\n              }}\r\n              onError={(e) => {\r\n                // Fallback to a generic logo or initials\r\n                e.target.style.display = 'none';\r\n                const parent = e.target.parentElement;\r\n                const fallback = document.createElement('div');\r\n                fallback.style.cssText = `\r\n                  display: flex;\r\n                  align-items: center;\r\n                  justify-content: center;\r\n                  width: 64px;\r\n                  height: 64px;\r\n                  background: ${colors.primary}20;\r\n                  color: ${colors.primary};\r\n                  font-weight: 700;\r\n                  font-size: 16px;\r\n                  border-radius: 8px;\r\n                  font-family: inherit;\r\n                `;\r\n                fallback.textContent = partner.name.split(' ').map(word => word[0]).join('').substring(0, 3);\r\n                parent.appendChild(fallback);\r\n              }}\r\n            />\r\n            \r\n            {/* Tooltip showing actual partner name from API */}\r\n            <div \r\n              className=\"partner-tooltip\"\r\n              style={{\r\n                position: 'absolute',\r\n                bottom: '100%',\r\n                left: '50%',\r\n                transform: 'translateX(-50%) translateY(0)',\r\n                backgroundColor: colors.surface,\r\n                color: colors.text,\r\n                padding: '0.6rem 1rem',\r\n                borderRadius: '0.5rem',\r\n                fontSize: '0.8rem',\r\n                fontWeight: 600,\r\n                whiteSpace: 'nowrap',\r\n                boxShadow: `0 8px 25px ${colors.cardShadow}80`,\r\n                border: `1px solid ${colors.border}`,\r\n                opacity: '0',\r\n                visibility: 'hidden',\r\n                pointerEvents: 'none',\r\n                transition: 'all 0.3s ease',\r\n                zIndex: 1000,\r\n                fontFamily: '\"Nunito Sans\", -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, sans-serif',\r\n                maxWidth: '250px',\r\n                textAlign: 'center'\r\n              }}\r\n            >\r\n              {partner.name}\r\n              {/* Tooltip arrow */}\r\n              <div style={{\r\n                position: 'absolute',\r\n                top: '100%',\r\n                left: '50%',\r\n                transform: 'translateX(-50%)',\r\n                width: '0',\r\n                height: '0',\r\n                borderLeft: '6px solid transparent',\r\n                borderRight: '6px solid transparent',\r\n                borderTop: `6px solid ${colors.surface}`\r\n              }} />\r\n            </div>\r\n          </motion.div>\r\n        ))}\r\n      </div>\r\n    </motion.div>\r\n  );\r\n};\r\n\r\n\r\nconst AcefAboutInfo = () => {\r\n  const [email, setEmail] = useState('');\r\n  const [partners, setPartners] = useState([]);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [isSubmitting, setIsSubmitting] = useState(false);\r\n  const { colors, isDarkMode } = useTheme();\r\n  const [status, setStatus] = useState(null);\r\n\r\n  useEffect(() => {\r\n    const fetchPartners = async () => {\r\n      try {\r\n        setIsLoading(true);\r\n        const response = await fetch(`${API_URL}/partners`, { \r\n          credentials: 'include',\r\n          headers: {\r\n            'Content-Type': 'application/json',\r\n          }\r\n        });\r\n\r\n        if (!response.ok) {\r\n          throw new Error('Failed to fetch partners');\r\n        }\r\n\r\n        const data = await response.json();\r\n\r\n        // Only show accreditors or both\r\n        const filtered = data.filter(p =>\r\n          p.type?.toLowerCase() === 'accreditator' || p.type?.toLowerCase() === 'both'\r\n        );\r\n\r\n        setPartners(filtered);\r\n      } catch (error) {\r\n        console.error('Error fetching partners:', error);\r\n        // Mock data for demo purposes\r\n        setPartners([\r\n          { id: 1, name: 'UN Environment Programme', logo: 'unep-logo.png' },\r\n          { id: 2, name: 'African Union', logo: 'au-logo.png' },\r\n          { id: 3, name: 'Climate Investment Funds', logo: 'cif-logo.png' },\r\n          { id: 4, name: 'Green Climate Fund', logo: 'gcf-logo.png' },\r\n          { id: 5, name: 'WWF Africa', logo: 'wwf-logo.png' },\r\n          { id: 6, name: 'UNEP FI', logo: 'unepfi-logo.png' },\r\n        ]);\r\n      } finally {\r\n        setIsLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchPartners();\r\n  }, []);\r\n\r\n  const handleSubmit = async (e) => {\r\n    if (e) e.preventDefault();\r\n    if (!email) return;\r\n\r\n    try {\r\n      setIsSubmitting(true);\r\n      \r\n      // Replace with your actual newsletter API endpoint\r\n      const response = await fetch(`${API_URL}/newsletter/subscribe`, {\r\n        method: 'POST',\r\n        credentials: 'include',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify({ email })\r\n      });\r\n\r\n      if (response.ok) {\r\n        setEmail('');\r\n        alert('Thank you for subscribing to our newsletter!');\r\n      } else {\r\n        throw new Error('Subscription failed');\r\n      }\r\n    } catch (error) {\r\n      console.error('Newsletter subscription error:', error);\r\n      // For demo - still clear email and show success\r\n      console.log('Email submitted:', email);\r\n      setEmail('');\r\n      alert('Thank you for subscribing to our newsletter!');\r\n    } finally {\r\n      setIsSubmitting(false);\r\n    }\r\n  };\r\n\r\nconst handleSubscribe = async (e) => {\r\n  if (e) e.preventDefault(); // make sure it's a form submit\r\n  if (!email) return;\r\n\r\n  setIsSubmitting(true);\r\n  const result = await subscribeToNewsletter(email);\r\n  setStatus(result.message);\r\n  setEmail(\"\"); // optional reset\r\n  setIsSubmitting(false);\r\n};\r\n\r\n\r\n  const containerStyle = {\r\n    fontFamily: '\"Nunito Sans\", -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, sans-serif',\r\n    lineHeight: 1.6,\r\n    color: colors.text,\r\n    \r\n    background: colors.background\r\n  };\r\n\r\n  const mainSectionStyle = {\r\n    background: isDarkMode \r\n      ? `linear-gradient(135deg, ${colors.backgroundSecondary} 0%, ${colors.background} 100%)`\r\n      : `linear-gradient(135deg, ${colors.gray50} 0%, ${colors.backgroundSecondary} 50%, #fef7ff 100%)`,\r\n    minHeight: '100vh',\r\n    padding: '4rem 0',\r\n    position: 'relative'\r\n  };\r\n\r\n  const gridStyle = {\r\n    display: 'grid',\r\n    gridTemplateColumns: window.innerWidth > 768 ? 'minmax(0, 1.2fr) minmax(0, 1fr)' : '1fr',\r\n    gap: window.innerWidth > 768 ? '4rem' : '2rem',\r\n    alignItems: 'start'\r\n  };\r\n\r\n  const emailInputStyle = {\r\n    flex: 1,\r\n    padding: '1rem 1.25rem',\r\n    border: 'none',\r\n    fontSize: '1rem',\r\n    outline: 'none',\r\n    background: colors.surface,\r\n    color: colors.text,\r\n    borderRadius: window.innerWidth <= 768 ? '0.5rem 0.5rem 0 0' : '0'\r\n  };\r\n\r\n  const buttonStyle = {\r\n    background: isSubmitting ? colors.gray400 : colors.primary,\r\n    color: colors.white,\r\n    border: 'none',\r\n    padding: '1rem 2rem',\r\n    fontWeight: 600,\r\n    cursor: isSubmitting ? 'not-allowed' : 'pointer',\r\n    transition: 'all 0.3s ease',\r\n    fontSize: '1rem',\r\n    whiteSpace: 'nowrap',\r\n    borderRadius: window.innerWidth <= 768 ? '0 0 0.5rem 0.5rem' : '0',\r\n    opacity: isSubmitting ? 0.7 : 1\r\n  };\r\n\r\n  return (\r\n    <div style={containerStyle}>\r\n      {/* Main Section */}\r\n      <div style={mainSectionStyle}>\r\n        <div style={{\r\n          maxWidth: '1200px',\r\n          margin: '0 auto',\r\n          padding: '0 2rem',\r\n          width: '100%'\r\n        }}>\r\n          <div style={gridStyle}>\r\n            {/* Text Content */}\r\n            <div style={{\r\n              maxWidth: '100%',\r\n              zIndex: 2,\r\n              padding: window.innerWidth <= 768 ? '0 0.5rem' : '0'\r\n            }}>\r\n              <motion.h1 \r\n                initial={{ opacity: 0, y: 30 }}\r\n                whileInView={{ opacity: 1, y: 0 }}\r\n                viewport={{ margin: '-50px' }}\r\n                transition={{ duration: 0.6 }}\r\n                style={{\r\n\r\n\r\n\r\n\r\n      fontSize: '48px',\r\n      fontWeight: '800',\r\n      lineHeight: '1.1',\r\n      marginBottom: '24px',\r\n      fontFamily: 'inherit',\r\n  \r\n                  // fontSize: 'clamp(2rem, 6vw, 3.5rem)',\r\n                  color: colors.primary,\r\n                  // letterSpacing: '-0.02em',\r\n                }}\r\n              >\r\n                Empowering Youth for Climate Action\r\n              </motion.h1>\r\n              \r\n              <motion.div \r\n                initial={{ opacity: 0, y: 30 }}\r\n                whileInView={{ opacity: 1, y: 0 }}\r\n                viewport={{ margin: '-50px' }}\r\n                transition={{ duration: 0.6, delay: 0.2 }}\r\n                style={{\r\n                  color: colors.textSecondary,\r\n                  marginBottom: '2.5rem',\r\n                  fontSize: 'clamp(0.9rem, 2.5vw, 1rem)',\r\n                  lineHeight: 1.7,\r\n                  fontFamily: '\"Nunito Sans\", -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, sans-serif'\r\n                }}\r\n              >\r\n                <p style={{ marginBottom: '1.5rem' }}>\r\n                  <strong style={{ color: colors.text, fontWeight: 700, fontFamily: '\"Nunito Sans\", -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, sans-serif' }}>\r\n                    Africa Climate and Environment Foundation (ACEF)\r\n                  </strong> is a youth focused non-governmental organization (NGO) founded in 2021, dedicated to empowering grassroots youth and women while supporting locally driven initiatives to address the triple planetary crisis of climate change, biodiversity loss, and pollution.\r\n                </p>\r\n                \r\n                <p style={{ marginBottom: '1.5rem' }}>\r\n                  ACEF works toward addressing global issues related to climate change, environmental degradation, and poverty alleviation by focusing on Sustainable Development Goals (SDGs) such as clean water and sanitation (SDG 6), climate action (SDG 13), Life below water (SDG 14), and quality education (SDG 4).\r\n                </p>\r\n              </motion.div>\r\n\r\n              {/* Newsletter Signup */}\r\n              <motion.div \r\n                initial={{ opacity: 0, y: 30 }}\r\n                whileInView={{ opacity: 1, y: 0 }}\r\n                viewport={{ margin: '-50px' }}\r\n                transition={{ duration: 0.6, delay: 0.4 }}\r\n                style={{\r\n                  display: 'flex',\r\n                  gap: 0,\r\n                  marginBottom: '1rem',\r\n                  boxShadow: `0 10px 25px ${colors.cardShadow}`,\r\n                  borderRadius: '0.5rem',\r\n                  overflow: 'hidden',\r\n                  maxWidth: '100%',\r\n                  width: '100%',\r\n                  maxWidth: window.innerWidth <= 768 ? '100%' : '450px',\r\n                  flexDirection: window.innerWidth <= 768 ? 'column' : 'row'\r\n                }}\r\n              >\r\n                <input\r\n                  type=\"email\"\r\n                  placeholder=\"Your email address\"\r\n                  value={email}\r\n                  onChange={(e) => setEmail(e.target.value)}\r\n                  disabled={isSubmitting}\r\n                  style={{\r\n                    ...emailInputStyle,\r\n                    fontFamily: '\"Nunito Sans\", -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, sans-serif'\r\n                  }}\r\n                />\r\n                <button \r\n                  type=\"button\"\r\n                  onClick={handleSubscribe}\r\n                  disabled={isSubmitting || !email}\r\n                  style={{\r\n                    ...buttonStyle,\r\n                    fontFamily: '\"Nunito Sans\", -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, sans-serif'\r\n                  }}\r\n                  onMouseEnter={(e) => {\r\n                    if (!isSubmitting) {\r\n                      e.target.style.transform = 'translateY(-1px)';\r\n                      e.target.style.boxShadow = `0 4px 12px ${colors.cardShadow}`;\r\n                      e.target.style.backgroundColor = colors.primaryLight;\r\n                    }\r\n                  }}\r\n                  onMouseLeave={(e) => {\r\n                    e.target.style.transform = 'translateY(0)';\r\n                    e.target.style.boxShadow = 'none';\r\n                    e.target.style.backgroundColor = isSubmitting ? colors.gray400 : colors.primary;\r\n                  }}\r\n                >\r\n                  \r\n                  {isSubmitting ? 'Connecting...' : 'Stay Connected'}\r\n                </button>\r\n                \r\n              </motion.div>\r\n\r\n              {/* Accreditors Grid - Now positioned right after Stay Connected */}\r\n              {!isLoading && partners.length > 0 && (\r\n                <AccreditorsGrid partners={partners} />\r\n              )}\r\n            </div>\r\n\r\n            {/* Extended Image */}\r\n            <motion.div \r\n              initial={{ opacity: 0, x: 30 }}\r\n              whileInView={{ opacity: 1, x: 0 }}\r\n              viewport={{ margin: '-50px' }}\r\n              transition={{ duration: 0.8 }}\r\n              style={{\r\n                position: 'relative',\r\n                borderRadius: '0.75rem',\r\n                overflow: 'visible',\r\n                boxShadow: `0 20px 40px ${colors.cardShadow}`,\r\n                height: window.innerWidth > 768 ? '600px' : '400px',\r\n                order: window.innerWidth <= 768 ? -1 : 0,\r\n                marginTop: window.innerWidth > 768 ? '6rem' : '0'\r\n              }}\r\n            >\r\n              <div style={{\r\n                width: '100%',\r\n                height: '100%',\r\n                borderRadius: '0.75rem',\r\n                overflow: 'hidden',\r\n                position: 'relative'\r\n              }}>\r\n                <img\r\n                  src=\"/youth.jpg\"\r\n                  alt=\"African youth engaged in climate action and environmental protection activities\"\r\n                  style={{\r\n                    width: '100%',\r\n                    height: '100%',\r\n                    objectFit: 'cover',\r\n                    display: 'block',\r\n                    filter: isDarkMode ? 'brightness(0.9) contrast(1.1)' : 'none'\r\n                  }}\r\n                  onError={(e) => {\r\n                    e.target.src = 'https://images.unsplash.com/photo-1542601906990-b4d3fb778b09?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80';\r\n                  }}\r\n                />\r\n                \r\n                {/* Overlay for better visual depth */}\r\n                <div style={{\r\n                  position: 'absolute',\r\n                  top: 0,\r\n                  left: 0,\r\n                  right: 0,\r\n                  bottom: 0,\r\n                  background: isDarkMode \r\n                    ? 'linear-gradient(135deg, rgba(0,0,0,0.3) 0%, rgba(0,0,0,0.1) 100%)'\r\n                    : 'linear-gradient(135deg, rgba(255,255,255,0.1) 0%, rgba(0,0,0,0.05) 100%)',\r\n                  pointerEvents: 'none'\r\n                }} />\r\n              </div>\r\n              \r\n              {/* Corner Icon */}\r\n              <div style={{\r\n                position: 'absolute',\r\n                bottom: '-15px',\r\n                left: '-15px',\r\n                width: '60px',\r\n                height: '60px',\r\n                backgroundColor: colors.white,\r\n                borderRadius: '12px',\r\n                display: 'flex',\r\n                alignItems: 'center',\r\n                justifyContent: 'center',\r\n                boxShadow: `0 4px 12px ${colors.cardShadow}`,\r\n                zIndex: 10\r\n              }}>\r\n                <svg \r\n                  width=\"30\" \r\n                  height=\"30\" \r\n                  viewBox=\"0 0 24 24\" \r\n                  fill=\"none\" \r\n                  stroke=\"#0a451c\" \r\n                  strokeWidth=\"2\" \r\n                  strokeLinecap=\"round\" \r\n                  strokeLinejoin=\"round\"\r\n                >\r\n                  <circle cx=\"12\" cy=\"12\" r=\"10\"/>\r\n                  <path d=\"M2 12h20\"/>\r\n                  <path d=\"M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z\"/>\r\n                  <path d=\"M8 12c0-2 2-4 4-4s4 2 4 4-2 4-4 4-4-2-4-4z\"/>\r\n                </svg>\r\n              </div>\r\n            </motion.div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Loading indicator for partners */}\r\n      {isLoading && (\r\n        <div style={{\r\n          display: 'flex',\r\n          justifyContent: 'center',\r\n          alignItems: 'center',\r\n          padding: '2rem',\r\n          background: colors.backgroundSecondary\r\n        }}>\r\n          <div style={{\r\n            width: '32px',\r\n            height: '32px',\r\n            border: `3px solid ${colors.border}`,\r\n            borderTop: `3px solid ${colors.primary}`,\r\n            borderRadius: '50%',\r\n            animation: 'spin 1s linear infinite'\r\n          }} />\r\n        </div>\r\n      )}\r\n\r\n      <style jsx>{`\r\n        @keyframes spin {\r\n          0% { transform: rotate(0deg); }\r\n          100% { transform: rotate(360deg); }\r\n        }\r\n        \r\n        input::placeholder {\r\n          color: ${colors.textMuted} !important;\r\n        }\r\n        \r\n        input:focus {\r\n          outline: 2px solid ${colors.primary} !important;\r\n          outline-offset: 2px;\r\n        }\r\n        \r\n        @media (max-width: 768px) {\r\n          .grid-mobile {\r\n            grid-template-columns: 1fr !important;\r\n            gap: 2rem !important;\r\n          }\r\n        }\r\n      `}</style>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AcefAboutInfo;","import React, { useState, useEffect } from 'react';\r\nimport { useTheme } from '../../theme';\r\n\r\nconst VideoSection = () => {\r\n  const [videoData, setVideoData] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  const { theme, colors, isDarkMode } = useTheme();\r\n\r\n  const API_URL = process.env.REACT_APP_API_URL || 'http://localhost:5000/api';\r\n\r\n  useEffect(() => {\r\n    const fetchVideoData = async () => {\r\n      try {\r\n        setLoading(true);\r\n        \r\n        let response;\r\n        let data;\r\n        \r\n        // First, try to get a featured video specifically\r\n        try {\r\n          console.log('Attempting to fetch featured video...');\r\n          response = await fetch(`${API_URL}/video-sections/featured`);\r\n          \r\n          if (response.ok) {\r\n            data = await response.json();\r\n            console.log('Featured video API Response:', data);\r\n            \r\n            if (data.success && data.data) {\r\n              console.log('Featured video found:', data.data);\r\n              setVideoData(data.data);\r\n              return; // Exit early if we found a featured video\r\n            }\r\n          }\r\n          \r\n          console.log('No featured video available, trying latest...');\r\n        } catch (featuredError) {\r\n          console.log('Featured endpoint failed, trying latest...', featuredError.message);\r\n        }\r\n        \r\n        // Fallback: Get the latest video if no featured video exists\r\n        try {\r\n          console.log('Attempting to fetch latest video...');\r\n          response = await fetch(`${API_URL}/video-sections/latest`);\r\n          \r\n          if (response.ok) {\r\n            data = await response.json();\r\n            console.log('Latest video API Response:', data);\r\n            \r\n            if (data.success && data.data) {\r\n              console.log('Latest video found:', data.data);\r\n              setVideoData(data.data);\r\n              return;\r\n            }\r\n          }\r\n          \r\n          console.log('No latest video available, trying general endpoint...');\r\n        } catch (latestError) {\r\n          console.log('Latest endpoint failed, trying general...', latestError.message);\r\n        }\r\n        \r\n        // Final fallback: Get all videos and find the best one\r\n        try {\r\n          console.log('Attempting to fetch all videos...');\r\n          response = await fetch(`${API_URL}/video-sections`);\r\n          \r\n          if (response.ok) {\r\n            data = await response.json();\r\n            console.log('All videos API Response:', data);\r\n            \r\n            if (data.success && Array.isArray(data.data) && data.data.length > 0) {\r\n              // Priority: Featured + Active > Featured > Active > Any\r\n              const featuredActive = data.data.find(video => video.is_featured && video.is_active);\r\n              const featured = data.data.find(video => video.is_featured);\r\n              const active = data.data.find(video => video.is_active);\r\n              \r\n              const selectedVideo = featuredActive || featured || active || data.data[0];\r\n              console.log('Selected video from all videos:', selectedVideo);\r\n              setVideoData(selectedVideo);\r\n              return;\r\n            }\r\n          }\r\n        } catch (generalError) {\r\n          console.log('General endpoint failed:', generalError.message);\r\n        }\r\n        \r\n        // If we reach here, no videos were found\r\n        console.log('No videos found at all');\r\n        setError('No video content available');\r\n        \r\n      } catch (err) {\r\n        console.error('Error in fetchVideoData:', err);\r\n        setError('Failed to load video content');\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchVideoData();\r\n  }, [API_URL]);\r\n\r\n  // Theme-aware styles\r\n  const getBackgroundGradient = () => {\r\n    if (isDarkMode) {\r\n      return 'linear-gradient(135deg, #000408ff, #000308ff)';\r\n    }\r\n    return 'linear-gradient(135deg, #ffffff, #9ccf9f, #ffffff)';\r\n  };\r\n\r\n  const getLoadingSpinnerColor = () => {\r\n    return isDarkMode ? colors.accent : colors.primary;\r\n  };\r\n\r\n  const getTextColor = () => {\r\n    return colors.text;\r\n  };\r\n\r\n  const getSecondaryTextColor = () => {\r\n    return colors.textSecondary;\r\n  };\r\n\r\n  const getBadgeStyles = (isFeatured) => {\r\n    if (isDarkMode) {\r\n      return isFeatured ? {\r\n        background: 'rgba(251, 191, 36, 0.15)',\r\n        border: '1px solid rgba(251, 191, 36, 0.3)',\r\n        color: '#fbbf24'\r\n      } : {\r\n        background: 'rgba(156, 207, 159, 0.15)',\r\n        border: '1px solid rgba(156, 207, 159, 0.3)',\r\n        color: colors.accent\r\n      };\r\n    }\r\n    \r\n    return isFeatured ? {\r\n      background: 'rgba(251, 191, 36, 0.15)',\r\n      border: '1px solid rgba(251, 191, 36, 0.3)',\r\n      color: '#92400e'\r\n    } : {\r\n      background: 'rgba(10, 69, 28, 0.15)',\r\n      border: '1px solid rgba(10, 69, 28, 0.2)',\r\n      color: colors.primary\r\n    };\r\n  };\r\n\r\n  const getVideoWrapperStyles = () => {\r\n    if (isDarkMode) {\r\n      return {\r\n        boxShadow: '0 25px 60px rgba(0, 0, 0, 0.5), 0 10px 30px rgba(0, 0, 0, 0.3)',\r\n        border: '1px solid rgba(255, 255, 255, 0.1)'\r\n      };\r\n    }\r\n    \r\n    return {\r\n      boxShadow: '0 25px 60px rgba(0, 0, 0, 0.3), 0 10px 30px rgba(0, 0, 0, 0.2)',\r\n      border: '1px solid rgba(255, 255, 255, 0.2)'\r\n    };\r\n  };\r\n\r\n  const getTitleGradient = () => {\r\n    if (isDarkMode) {\r\n      return `linear-gradient(45deg, ${colors.accent} 0%, ${colors.accentLight} 100%)`;\r\n    }\r\n    return `linear-gradient(45deg, ${colors.primary} 0%, rgba(10, 69, 28, 0.8) 100%)`;\r\n  };\r\n\r\n  const getButtonStyles = () => {\r\n    return {\r\n      backgroundColor: colors.primary,\r\n      color: isDarkMode ? colors.white : colors.white,\r\n      boxShadow: `0 8px 25px rgba(${colors.primary.slice(1).match(/.{2}/g)?.map(x => parseInt(x, 16)).join(', ') || '10, 69, 28'}, 0.3)`\r\n    };\r\n  };\r\n\r\n  const getButtonHoverStyles = () => {\r\n    return {\r\n      backgroundColor: colors.primaryDark || '#052310',\r\n      boxShadow: `0 12px 35px rgba(${colors.primary.slice(1).match(/.{2}/g)?.map(x => parseInt(x, 16)).join(', ') || '10, 69, 28'}, 0.4)`\r\n    };\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <section className=\"video-section\">\r\n        <style jsx>{`\r\n          .video-section {\r\n            position: relative;\r\n            padding: 120px 0;\r\n            background: ${getBackgroundGradient()};\r\n            overflow: hidden;\r\n            display: flex;\r\n            align-items: center;\r\n            justify-content: center;\r\n          }\r\n          .loading-spinner {\r\n            width: 40px;\r\n            height: 40px;\r\n            border: 3px solid ${getLoadingSpinnerColor()}30;\r\n            border-top: 3px solid ${getLoadingSpinnerColor()};\r\n            border-radius: 50%;\r\n            animation: spin 1s linear infinite;\r\n          }\r\n          @keyframes spin {\r\n            0% { transform: rotate(0deg); }\r\n            100% { transform: rotate(360deg); }\r\n          }\r\n        `}</style>\r\n        <div className=\"loading-spinner\"></div>\r\n      </section>\r\n    );\r\n  }\r\n\r\n  if (error) {\r\n    return (\r\n      <section className=\"video-section\">\r\n        <style jsx>{`\r\n          .video-section {\r\n            position: relative;\r\n            padding: 120px 0;\r\n            background: ${getBackgroundGradient()};\r\n            overflow: hidden;\r\n            display: flex;\r\n            align-items: center;\r\n            justify-content: center;\r\n          }\r\n          .error-message {\r\n            color: ${getTextColor()};\r\n            font-size: 1.1rem;\r\n            text-align: center;\r\n          }\r\n        `}</style>\r\n        <div className=\"error-message\">\r\n          Unable to load video content. Please try again later.\r\n        </div>\r\n      </section>\r\n    );\r\n  }\r\n\r\n  if (!videoData) {\r\n    return null;\r\n  }\r\n\r\n  const { tag, title, description, youtube_url: videoUrl, is_featured } = videoData;\r\n  const badgeStyles = getBadgeStyles(is_featured);\r\n  const videoWrapperStyles = getVideoWrapperStyles();\r\n  const buttonStyles = getButtonStyles();\r\n  \r\n  return (\r\n    <section className=\"video-section\">\r\n      <style jsx>{`\r\n        .video-section {\r\n          position: relative;\r\n          padding: 120px 0;\r\n          background: ${getBackgroundGradient()};\r\n          overflow: hidden;\r\n          transition: all 0.3s ease;\r\n        }\r\n\r\n        .video-section::before {\r\n          content: '';\r\n          position: absolute;\r\n          top: 0;\r\n          left: 0;\r\n          right: 0;\r\n          bottom: 0;\r\n          background: \r\n            radial-gradient(circle at 20% 80%, ${isDarkMode ? 'rgba(255, 255, 255, 0.03)' : 'rgba(255, 255, 255, 0.1)'} 0%, transparent 50%),\r\n            radial-gradient(circle at 80% 20%, ${isDarkMode ? 'rgba(255, 255, 255, 0.03)' : 'rgba(255, 255, 255, 0.1)'} 0%, transparent 50%);\r\n          pointer-events: none;\r\n        }\r\n\r\n        .video-section::after {\r\n          content: '';\r\n          position: absolute;\r\n          top: 0;\r\n          left: 0;\r\n          right: 0;\r\n          bottom: 0;\r\n          background-image: \r\n            linear-gradient(45deg, transparent 48%, ${isDarkMode ? 'rgba(255, 255, 255, 0.01)' : 'rgba(255, 255, 255, 0.02)'} 49%, ${isDarkMode ? 'rgba(255, 255, 255, 0.01)' : 'rgba(255, 255, 255, 0.02)'} 51%, transparent 52%),\r\n            linear-gradient(-45deg, transparent 48%, ${isDarkMode ? 'rgba(255, 255, 255, 0.01)' : 'rgba(255, 255, 255, 0.02)'} 49%, ${isDarkMode ? 'rgba(255, 255, 255, 0.01)' : 'rgba(255, 255, 255, 0.02)'} 51%, transparent 52%);\r\n          background-size: 60px 60px;\r\n          opacity: 0.5;\r\n          pointer-events: none;\r\n        }\r\n\r\n        .container {\r\n          max-width: 1200px;\r\n          margin: 0 auto;\r\n          padding: 0 20px;\r\n          position: relative;\r\n          z-index: 1;\r\n        }\r\n\r\n        .video-content {\r\n          display: grid;\r\n          grid-template-columns: 1fr 1fr;\r\n          gap: 60px;\r\n          align-items: center;\r\n        }\r\n\r\n        .video-wrapper {\r\n          position: relative;\r\n          width: 100%;\r\n          height: 0;\r\n          padding-bottom: 56.25%;\r\n          border-radius: 20px;\r\n          overflow: hidden;\r\n          box-shadow: ${videoWrapperStyles.boxShadow};\r\n          backdrop-filter: blur(10px);\r\n          border: ${videoWrapperStyles.border};\r\n          transition: all 0.3s ease;\r\n        }\r\n\r\n        .video-wrapper:hover {\r\n          transform: translateY(-4px);\r\n          box-shadow: ${isDarkMode \r\n            ? '0 35px 80px rgba(0, 0, 0, 0.6), 0 15px 40px rgba(0, 0, 0, 0.4)' \r\n            : '0 35px 80px rgba(0, 0, 0, 0.4), 0 15px 40px rgba(0, 0, 0, 0.3)'\r\n          };\r\n        }\r\n\r\n        .video-wrapper::before {\r\n          content: '';\r\n          position: absolute;\r\n          top: 0;\r\n          left: 0;\r\n          right: 0;\r\n          bottom: 0;\r\n          background: ${isDarkMode \r\n            ? 'linear-gradient(45deg, rgba(255, 255, 255, 0.05) 0%, transparent 100%)' \r\n            : 'linear-gradient(45deg, rgba(255, 255, 255, 0.1) 0%, transparent 100%)'\r\n          };\r\n          z-index: 1;\r\n          pointer-events: none;\r\n        }\r\n\r\n        .video-iframe {\r\n          position: absolute;\r\n          top: 0;\r\n          left: 0;\r\n          width: 100%;\r\n          height: 100%;\r\n          border: none;\r\n          border-radius: 20px;\r\n        }\r\n\r\n        .video-text {\r\n          color: ${getTextColor()};\r\n        }\r\n\r\n        .video-badge {\r\n          display: inline-flex;\r\n          align-items: center;\r\n          gap: 8px;\r\n          background: ${badgeStyles.background};\r\n          backdrop-filter: blur(10px);\r\n          padding: 8px 20px;\r\n          border-radius: 25px;\r\n          border: ${badgeStyles.border};\r\n          font-size: 14px;\r\n          font-weight: 500;\r\n          margin-bottom: 20px;\r\n          color: ${badgeStyles.color};\r\n          transition: all 0.3s ease;\r\n        }\r\n\r\n        .video-badge:hover {\r\n          transform: translateY(-2px);\r\n          box-shadow: 0 4px 15px ${badgeStyles.color}30;\r\n        }\r\n\r\n        .pulse-dot {\r\n          width: 8px;\r\n          height: 8px;\r\n          background: ${is_featured ? '#fbbf24' : '#ff6b6b'};\r\n          border-radius: 50%;\r\n          animation: pulse 2s infinite;\r\n        }\r\n\r\n        @keyframes pulse {\r\n          0% {\r\n            box-shadow: 0 0 0 0 ${is_featured ? 'rgba(251, 191, 36, 0.7)' : 'rgba(255, 107, 107, 0.7)'};\r\n          }\r\n          70% {\r\n            box-shadow: 0 0 0 10px ${is_featured ? 'rgba(251, 191, 36, 0)' : 'rgba(255, 107, 107, 0)'};\r\n          }\r\n          100% {\r\n            box-shadow: 0 0 0 0 ${is_featured ? 'rgba(251, 191, 36, 0)' : 'rgba(255, 107, 107, 0)'};\r\n          }\r\n        }\r\n\r\n        .video-title {\r\n          font-size: 2.5rem;\r\n          font-weight: 700;\r\n          line-height: 1.2;\r\n          margin-bottom: 20px;\r\n          background: ${getTitleGradient()};\r\n          -webkit-background-clip: text;\r\n          -webkit-text-fill-color: transparent;\r\n          background-clip: text;\r\n          transition: all 0.3s ease;\r\n        }\r\n\r\n        .video-title:hover {\r\n          transform: translateX(4px);\r\n        }\r\n\r\n        .video-description {\r\n          font-size: 1.1rem;\r\n          line-height: 1.6;\r\n          color: ${getSecondaryTextColor()};\r\n          margin-bottom: 30px;\r\n          transition: color 0.3s ease;\r\n        }\r\n\r\n        .video-actions {\r\n          display: flex;\r\n          justify-content: center;\r\n          margin-top: 40px;\r\n        }\r\n\r\n        .read-latest-btn {\r\n          display: inline-flex;\r\n          align-items: center;\r\n          gap: 10px;\r\n          padding: 15px 30px;\r\n          background: ${buttonStyles.backgroundColor};\r\n          color: ${buttonStyles.color};\r\n          border: none;\r\n          border-radius: 50px;\r\n          font-size: 16px;\r\n          font-weight: 600;\r\n          text-decoration: none;\r\n          cursor: pointer;\r\n          transition: all 0.3s ease;\r\n          backdrop-filter: blur(10px);\r\n          border: 2px solid ${isDarkMode ? 'rgba(255, 255, 255, 0.1)' : 'rgba(255, 255, 255, 0.1)'};\r\n          box-shadow: ${buttonStyles.boxShadow};\r\n          font-family: '\"Nunito Sans\", sans-serif';\r\n        }\r\n\r\n        .read-latest-btn:hover {\r\n          background: ${getButtonHoverStyles().backgroundColor};\r\n          transform: translateY(-2px);\r\n          box-shadow: ${getButtonHoverStyles().boxShadow};\r\n          border-color: ${isDarkMode ? 'rgba(255, 255, 255, 0.2)' : 'rgba(255, 255, 255, 0.2)'};\r\n        }\r\n\r\n        .read-latest-btn:active {\r\n          transform: translateY(0);\r\n        }\r\n\r\n        .btn-icon {\r\n          width: 18px;\r\n          height: 18px;\r\n          transition: transform 0.3s ease;\r\n        }\r\n\r\n        .read-latest-btn:hover .btn-icon {\r\n          transform: translateX(3px);\r\n        }\r\n\r\n        @media (max-width: 768px) {\r\n          .video-section {\r\n            padding: 80px 0;\r\n          }\r\n\r\n          .video-content {\r\n            grid-template-columns: 1fr;\r\n            gap: 40px;\r\n            text-align: center;\r\n          }\r\n\r\n          .video-title {\r\n            font-size: 2rem;\r\n          }\r\n\r\n          .video-actions {\r\n            margin-top: 30px;\r\n          }\r\n\r\n          .read-latest-btn {\r\n            font-size: 14px;\r\n            padding: 12px 24px;\r\n          }\r\n        }\r\n\r\n        @media (prefers-reduced-motion: reduce) {\r\n          .video-wrapper,\r\n          .video-badge,\r\n          .video-title,\r\n          .read-latest-btn,\r\n          .pulse-dot {\r\n            animation: none !important;\r\n            transition: none !important;\r\n          }\r\n          \r\n          .video-wrapper:hover,\r\n          .video-badge:hover,\r\n          .video-title:hover,\r\n          .read-latest-btn:hover {\r\n            transform: none !important;\r\n          }\r\n        }\r\n      `}</style>\r\n\r\n      <div className=\"container\">\r\n        <div className=\"video-content\">\r\n          <div className=\"video-text\">\r\n            <div className=\"video-badge\">\r\n              <span className=\"pulse-dot\"></span>\r\n              {tag}\r\n            </div>\r\n            \r\n            <h2 className=\"video-title\">{title}</h2>\r\n            <p className=\"video-description\">{description}</p>\r\n          </div>\r\n\r\n          <div className=\"video-wrapper\">\r\n            <iframe\r\n              className=\"video-iframe\"\r\n              src={videoUrl}\r\n              title=\"ACEF Video\"\r\n              allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\"\r\n              allowFullScreen\r\n            ></iframe>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"video-actions\">\r\n          <a \r\n            href=\"/insights\" \r\n            style={{\r\n              padding: '16px 32px',\r\n              borderRadius: '12px',\r\n              border: 'none',\r\n              fontWeight: '600',\r\n              fontSize: '16px',\r\n              cursor: 'pointer',\r\n              display: 'inline-flex',\r\n              alignItems: 'center',\r\n              gap: '8px',\r\n              transition: 'all 0.3s ease',\r\n              boxShadow: buttonStyles.boxShadow,\r\n              alignSelf: 'flex-start',\r\n              fontFamily: '\"Nunito Sans\", sans-serif',\r\n              backgroundColor: buttonStyles.backgroundColor,\r\n              color: buttonStyles.color,\r\n              textDecoration: 'none',\r\n            }}\r\n            onMouseEnter={(e) => {\r\n              const hoverStyles = getButtonHoverStyles();\r\n              e.currentTarget.style.backgroundColor = hoverStyles.backgroundColor;\r\n              e.currentTarget.style.boxShadow = hoverStyles.boxShadow;\r\n              e.currentTarget.style.transform = 'translateY(-2px)';\r\n              // Animate arrow\r\n              const arrow = e.currentTarget.querySelector('.btn-icon');\r\n              if (arrow) {\r\n                arrow.style.transform = 'translateX(3px)';\r\n              }\r\n            }}\r\n            onMouseLeave={(e) => {\r\n              e.currentTarget.style.backgroundColor = buttonStyles.backgroundColor;\r\n              e.currentTarget.style.boxShadow = buttonStyles.boxShadow;\r\n              e.currentTarget.style.transform = 'translateY(0)';\r\n              // Reset arrow\r\n              const arrow = e.currentTarget.querySelector('.btn-icon');\r\n              if (arrow) {\r\n                arrow.style.transform = 'translateX(0)';\r\n              }\r\n            }}\r\n          >\r\n            Read the Latest from ACEF\r\n            <svg \r\n              className=\"btn-icon\" \r\n              fill=\"none\" \r\n              stroke=\"currentColor\" \r\n              viewBox=\"0 0 24 24\" \r\n              xmlns=\"http://www.w3.org/2000/svg\"\r\n              style={{ \r\n                width: '20px', \r\n                height: '20px',\r\n                transition: 'transform 0.3s ease',\r\n                strokeWidth: '2'\r\n              }}\r\n            >\r\n              <path \r\n                strokeLinecap=\"round\" \r\n                strokeLinejoin=\"round\" \r\n                d=\"M17 8l4 4m0 0l-4 4m4-4H3\" \r\n              />\r\n            </svg>\r\n          </a>\r\n        </div>\r\n      </div>\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default VideoSection;","import React, { useState, useEffect, useRef } from 'react';\r\nimport { \r\n  TrendingUp, \r\n  Users, \r\n  MapPin, \r\n  CheckCircle, \r\n  Handshake, \r\n  DollarSign, \r\n  Heart, \r\n  BarChart3, \r\n  Loader2\r\n} from 'lucide-react';\r\nimport { useTheme } from '../../theme';\r\n\r\n\r\n\r\n// Icon mapping for impact types\r\nconst iconMap = {\r\n  people: Users,\r\n  location_city: MapPin,\r\n  check_circle: CheckCircle,\r\n  handshake: Handshake,\r\n  attach_money: DollarSign,\r\n  volunteer_activism: Heart,\r\n  assessment: BarChart3,\r\n  trending_up: TrendingUp\r\n};\r\n\r\n// Environmental images for moodboard\r\nconst environmentalImages = [\r\n  {\r\n    url: \"https://images.unsplash.com/photo-1441974231531-c6227db76b6e?w=400&h=400&fit=crop\",\r\n    alt: \"Dense forest canopy\"\r\n  },\r\n  {\r\n    url: \"https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=400&h=400&fit=crop\",\r\n    alt: \"Tropical paradise\"\r\n  },\r\n  {\r\n    url: \"https://images.unsplash.com/photo-1574263867128-a3d5c1b1decc?w=400&h=400&fit=crop\",\r\n    alt: \"Conservation worker\"\r\n  },\r\n  {\r\n    url: \"https://images.unsplash.com/photo-1437622368342-7a3d73a34c8f?w=400&h=400&fit=crop\",\r\n    alt: \"Endangered wildlife\"\r\n  },\r\n  {\r\n    url: \"https://images.unsplash.com/photo-1519904981063-b0cf448d479e?w=400&h=400&fit=crop\",\r\n    alt: \"Local community\"\r\n  },\r\n  {\r\n    url: \"https://images.unsplash.com/photo-1463320726281-696a485928c7?w=400&h=400&fit=crop\",\r\n    alt: \"Protected mountains\"\r\n  },\r\n  {\r\n    url: \"https://images.unsplash.com/photo-1542273917363-3b1817f69a2d?w=400&h=400&fit=crop\",\r\n    alt: \"Ocean conservation\"\r\n  },\r\n  {\r\n    url: \"https://images.unsplash.com/photo-1511593358241-7eea1f3c84e5?w=400&h=400&fit=crop\",\r\n    alt: \"Tree planting\"\r\n  }\r\n];\r\n\r\nconst EnvironmentalCharity = () => {\r\n  const [impacts, setImpacts] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  const [isGridVisible, setIsGridVisible] = useState(false);\r\n  const gridRef = useRef(null);\r\n  const { colors, isDarkMode } = useTheme();\r\n\r\n\r\n  // Apply theme to document body\r\n    \r\n\r\n  // Intersection Observer for grid animation\r\n  useEffect(() => {\r\n    const observer = new IntersectionObserver(\r\n      (entries) => {\r\n        const [entry] = entries;\r\n        if (entry.isIntersecting && entry.intersectionRatio > 0.3) {\r\n          setIsGridVisible(true);\r\n        }\r\n      },\r\n      {\r\n        threshold: [0, 0.1, 0.3, 0.5],\r\n        rootMargin: '-100px 0px -100px 0px'\r\n      }\r\n    );\r\n\r\n    const currentGridRef = gridRef.current;\r\n    if (currentGridRef) {\r\n      observer.observe(currentGridRef);\r\n    }\r\n\r\n    return () => {\r\n      if (currentGridRef) {\r\n        observer.unobserve(currentGridRef);\r\n      }\r\n    };\r\n  }, []);\r\n\r\n  // Fetch real featured impacts from API\r\n  const fetchFeaturedImpacts = async () => {\r\n    try {\r\n      setLoading(true);\r\n      setError(null);\r\n\r\n      const API_BASE = process.env.REACT_APP_API_URL || 'https://your-api-base-url.com/api';\r\n      \r\n      const response = await fetch(`${API_BASE}/impacts?is_featured=true&is_active=true`, {\r\n        method: 'GET',\r\n        credentials: 'include',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        }\r\n      });\r\n\r\n      if (!response.ok) {\r\n        throw new Error(`HTTP error! status: ${response.status}`);\r\n      }\r\n\r\n      const data = await response.json();\r\n      \r\n      if (data.success && Array.isArray(data.data)) {\r\n        const featuredImpacts = data.data\r\n          .filter(impact => impact.is_featured && impact.is_active)\r\n          .sort((a, b) => (a.order_index || 0) - (b.order_index || 0))\r\n          .slice(0, 6);\r\n        \r\n        setImpacts(featuredImpacts);\r\n      } else {\r\n        throw new Error('Invalid response format');\r\n      }\r\n    } catch (err) {\r\n      setError('Failed to load impact data');\r\n      console.error('Error fetching impacts:', err);\r\n      \r\n      // Fallback to sample data\r\n      setImpacts([\r\n        { \r\n          id: 1, \r\n          name: \"Trees Protected\", \r\n          current_value: 2500000, \r\n          starting_value: 1000000,\r\n          unit: \"trees\", \r\n          color: colors.success,\r\n          icon: \"volunteer_activism\",\r\n          description: \"Ancient rainforest trees saved from deforestation\",\r\n          project_count: 45\r\n        },\r\n        { \r\n          id: 2, \r\n          name: \"Hectares Preserved\", \r\n          current_value: 150000, \r\n          starting_value: 50000,\r\n          unit: \"hectares\", \r\n          color: colors.info,\r\n          icon: \"location_city\",\r\n          description: \"Protected forest land across multiple countries\",\r\n          project_count: 32\r\n        },\r\n        { \r\n          id: 3, \r\n          name: \"Communities Supported\", \r\n          current_value: 75, \r\n          starting_value: 25,\r\n          unit: \"communities\", \r\n          color: colors.secondary,\r\n          icon: \"people\",\r\n          description: \"Indigenous and local communities empowered\",\r\n          project_count: 18\r\n        },\r\n        { \r\n          id: 4, \r\n          name: \"CO Reduced\", \r\n          current_value: 1200000, \r\n          starting_value: 400000,\r\n          unit: \"tons\", \r\n          color: colors.warning,\r\n          icon: \"trending_up\",\r\n          description: \"Carbon emissions prevented through conservation\",\r\n          project_count: 28\r\n        },\r\n        { \r\n          id: 5, \r\n          name: \"Species Protected\", \r\n          current_value: 500, \r\n          starting_value: 200,\r\n          unit: \"species\", \r\n          color: colors.error,\r\n          icon: \"heart\",\r\n          description: \"Endangered species given a second chance\",\r\n          project_count: 15\r\n        },\r\n        { \r\n          id: 6, \r\n          name: \"Countries Reached\", \r\n          current_value: 25, \r\n          starting_value: 10,\r\n          unit: \"countries\", \r\n          color: colors.accent,\r\n          icon: \"check_circle\",\r\n          description: \"Global reach of our conservation efforts\",\r\n          project_count: 8\r\n        }\r\n      ]);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchFeaturedImpacts();\r\n  }, []);\r\n\r\n  const formatNumber = (num, unit) => {\r\n    if (unit === 'USD') {\r\n      if (num >= 1000000) {\r\n        return `$${(num / 1000000).toFixed(1)}M`;\r\n      } else if (num >= 1000) {\r\n        return `$${(num / 1000).toFixed(0)}K`;\r\n      }\r\n      return `$${num.toLocaleString()}`;\r\n    }\r\n    \r\n    if (num >= 1000000) {\r\n      return (num / 1000000).toFixed(1) + 'M';\r\n    } else if (num >= 1000) {\r\n      return (num / 1000).toFixed(1) + 'K';\r\n    }\r\n    return num.toLocaleString();\r\n  };\r\n\r\n  const calculateGrowth = (current, starting) => {\r\n    if (starting === 0) return current > 0 ? 100 : 0;\r\n    return Math.round(((current - starting) / starting) * 100);\r\n  };\r\n\r\n  const styles = {\r\n    container: {\r\n  minHeight: '100vh',\r\n  backgroundColor: colors.background,\r\n  color: colors.text,\r\n  fontFamily: '\"Nunito Sans\", -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, sans-serif',\r\n  transition: 'all 0.3s ease',\r\n},\r\n\r\nmainContent: {\r\n  display: 'flex',\r\n  alignItems: 'stretch',\r\n  maxWidth: '1180px',   // keeps margins ~120px on 1366px screens\r\n  margin: '0 auto',     // centers content\r\n  padding: '80px 24px', // top/bottom padding; side padding stays responsive\r\n  gap: '60px',\r\n  minHeight: 'calc(100vh - 160px)',\r\n},\r\n\r\n    \r\n    leftContent: {\r\n      flex: '1',\r\n      maxWidth: '500px',\r\n      display: 'flex',\r\n      flexDirection: 'column',\r\n      justifyContent: 'center',\r\n      paddingRight: '24px'\r\n    },\r\n    \r\n    mainHeading: {\r\n      fontSize: '48px',\r\n      fontWeight: '800',\r\n      lineHeight: '1.1',\r\n      color: colors.primary,\r\n      marginBottom: '24px',\r\n      fontFamily: 'inherit'\r\n    },\r\n    \r\n    subHeading: {\r\n      color: colors.textSecondary,\r\n      marginBottom: '2.5rem',\r\n      fontSize: 'clamp(0.9rem, 2.5vw, 1rem)',\r\n      lineHeight: 1.7,\r\n      fontFamily: '\"Nunito Sans\", -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, sans-serif', \r\n      maxWidth: '450px',\r\n      fontWeight: '400'\r\n    },\r\n    \r\n    ctaButton: {\r\n      backgroundColor: colors.primary,\r\n      color: colors.white,\r\n      padding: '16px 32px',\r\n      borderRadius: '12px',\r\n      border: 'none',\r\n      fontWeight: '600',\r\n      fontSize: '16px',\r\n      cursor: 'pointer',\r\n      display: 'inline-flex',\r\n      alignItems: 'center',\r\n      gap: '8px',\r\n      transition: 'all 0.3s ease',\r\n      boxShadow: `0 4px 16px rgba(10, 69, 28, 0.3)`,\r\n      alignSelf: 'flex-start',\r\n      fontFamily: '\"Nunito Sans\", sans-serif'\r\n    },\r\n    \r\n    rightContent: {\r\n      flex: '1',\r\n      display: 'grid',\r\n      gridTemplateColumns: 'repeat(3, 1fr)',\r\n      gridTemplateRows: 'repeat(4, 150px)',\r\n      gap: '16px',\r\n      maxWidth: '600px',\r\n      paddingLeft: '24px',\r\n      transform: isGridVisible ? 'scale(1)' : 'scale(0.8)',\r\n      opacity: isGridVisible ? 1 : 0.7,\r\n      transition: 'all 0.8s cubic-bezier(0.4, 0, 0.2, 1)',\r\n      transformOrigin: 'center center',\r\n    },\r\n    \r\n    gridItem: {\r\n      borderRadius: '16px',\r\n      overflow: 'hidden',\r\n      position: 'relative',\r\n      transition: 'all 0.3s ease',\r\n      transform: isGridVisible ? 'translateY(0) scale(1)' : 'translateY(20px) scale(0.9)',\r\n      opacity: isGridVisible ? 1 : 0,\r\n    },\r\n    \r\n    imageCell: {\r\n      backgroundSize: 'cover',\r\n      backgroundPosition: 'center',\r\n      position: 'relative',\r\n      cursor: 'pointer',\r\n    },\r\n    \r\n    imageOverlay: {\r\n      position: 'absolute',\r\n      inset: 0,\r\n      background: 'linear-gradient(135deg, rgba(0,0,0,0.2), rgba(0,0,0,0.4))',\r\n      display: 'flex',\r\n      alignItems: 'center',\r\n      justifyContent: 'center',\r\n      opacity: 0,\r\n      transition: 'all 0.3s ease',\r\n    },\r\n    \r\n    statCell: {\r\n      backgroundColor: colors.cardBg,\r\n      display: 'flex',\r\n      flexDirection: 'column',\r\n      alignItems: 'center',\r\n      justifyContent: 'center',\r\n      padding: '20px',\r\n      border: `1px solid ${colors.border}`,\r\n      position: 'relative',\r\n      boxShadow: `0 4px 12px ${colors.cardShadow}`,\r\n    },\r\n    \r\n    statNumber: {\r\n      fontSize: '24px',\r\n      fontWeight: '800',\r\n      marginBottom: '4px',\r\n      fontFamily: 'inherit'\r\n    },\r\n    \r\n    statLabel: {\r\n      fontSize: '11px',\r\n      color: colors.textSecondary,\r\n      textAlign: 'center',\r\n      fontWeight: '500',\r\n      lineHeight: 1.2,\r\n      fontFamily: '\"Nunito Sans\", sans-serif'\r\n    },\r\n    \r\n    growthIndicator: {\r\n      position: 'absolute',\r\n      top: '8px',\r\n      right: '8px',\r\n      backgroundColor: colors.success,\r\n      color: colors.white,\r\n      borderRadius: '12px',\r\n      padding: '2px 6px',\r\n      fontSize: '10px',\r\n      fontWeight: '600',\r\n      display: 'flex',\r\n      alignItems: 'center',\r\n      gap: '2px',\r\n      fontFamily: '\"Nunito Sans\", sans-serif'\r\n    },\r\n    \r\n    loadingContainer: {\r\n      display: 'flex',\r\n      justifyContent: 'center',\r\n      alignItems: 'center',\r\n      minHeight: '400px',\r\n      flexDirection: 'column',\r\n      gap: '16px'\r\n    },\r\n    \r\n    loadingText: {\r\n      color: colors.textSecondary,\r\n      fontSize: '16px',\r\n      fontFamily: '\"Nunito Sans\", sans-serif'\r\n    },\r\n    \r\n    // Grid positioning for moodboard layout\r\n    cell1: { \r\n      gridColumn: '1', \r\n      gridRow: '1',\r\n      transitionDelay: isGridVisible ? '0.1s' : '0s'\r\n    },\r\n    cell2: { \r\n      gridColumn: '2', \r\n      gridRow: '1',\r\n      transitionDelay: isGridVisible ? '0.2s' : '0s'\r\n    },\r\n    cell3: { \r\n      gridColumn: '3', \r\n      gridRow: '1 / 3',\r\n      transitionDelay: isGridVisible ? '0.3s' : '0s'\r\n    },\r\n    cell4: { \r\n      gridColumn: '1', \r\n      gridRow: '2',\r\n      transitionDelay: isGridVisible ? '0.4s' : '0s'\r\n    },\r\n    cell5: { \r\n      gridColumn: '2', \r\n      gridRow: '2',\r\n      transitionDelay: isGridVisible ? '0.5s' : '0s'\r\n    },\r\n    cell6: { \r\n      gridColumn: '1 / 3', \r\n      gridRow: '3',\r\n      transitionDelay: isGridVisible ? '0.6s' : '0s'\r\n    },\r\n    cell7: { \r\n      gridColumn: '3', \r\n      gridRow: '3',\r\n      transitionDelay: isGridVisible ? '0.7s' : '0s'\r\n    },\r\n    cell8: { \r\n      gridColumn: '1', \r\n      gridRow: '4',\r\n      transitionDelay: isGridVisible ? '0.8s' : '0s'\r\n    },\r\n    cell9: { \r\n      gridColumn: '2', \r\n      gridRow: '4',\r\n      transitionDelay: isGridVisible ? '0.9s' : '0s'\r\n    },\r\n    cell10: { \r\n      gridColumn: '3', \r\n      gridRow: '4',\r\n      transitionDelay: isGridVisible ? '1.0s' : '0s'\r\n    },\r\n  };\r\n\r\n  const renderGridContent = () => {\r\n    if (loading) {\r\n      return (\r\n        <div style={styles.loadingContainer}>\r\n          <Loader2 size={48} color={colors.primary} style={{ \r\n            animation: 'spin 2s linear infinite'\r\n          }} />\r\n          <p style={styles.loadingText}>\r\n            Loading our impact...\r\n          </p>\r\n        </div>\r\n      );\r\n    }\r\n\r\n    const gridItems = [];\r\n    let imageIndex = 0;\r\n    let impactIndex = 0;\r\n\r\n    // Create moodboard pattern: image, stat, image, stat, etc.\r\n    for (let i = 0; i < 10; i++) {\r\n      const cellKey = `cell${i + 1}`;\r\n      const isStatCell = [1, 3, 6, 8].includes(i); // positions for stats\r\n\r\n      if (isStatCell && impactIndex < impacts.length) {\r\n        // Render stat cell\r\n        const impact = impacts[impactIndex];\r\n        const IconComponent = iconMap[impact.icon] || BarChart3;\r\n        const growthPercent = calculateGrowth(impact.current_value, impact.starting_value);\r\n        \r\n        gridItems.push(\r\n          <div\r\n            key={`stat-${impact.id}`}\r\n            style={{\r\n              ...styles.gridItem,\r\n              ...styles.statCell,\r\n              ...styles[cellKey]\r\n            }}\r\n            onMouseEnter={(e) => {\r\n              e.currentTarget.style.transform = 'translateY(-4px) scale(1.02)';\r\n              e.currentTarget.style.boxShadow = `0 8px 25px ${colors.cardShadow}`;\r\n            }}\r\n            onMouseLeave={(e) => {\r\n              const baseTransform = isGridVisible ? 'translateY(0) scale(1)' : 'translateY(20px) scale(0.9)';\r\n              e.currentTarget.style.transform = baseTransform;\r\n              e.currentTarget.style.boxShadow = `0 4px 12px ${colors.cardShadow}`;\r\n            }}\r\n          >\r\n            <div style={{\r\n              ...styles.statNumber,\r\n              color: impact.color\r\n            }}>\r\n              {formatNumber(impact.current_value, impact.unit)}\r\n            </div>\r\n            <div style={styles.statLabel}>\r\n              {impact.name}\r\n            </div>\r\n            {growthPercent > 0 && (\r\n              <div style={styles.growthIndicator}>\r\n                <TrendingUp size={10} />\r\n                +{growthPercent}%\r\n              </div>\r\n            )}\r\n          </div>\r\n        );\r\n        impactIndex++;\r\n      } else {\r\n        // Render image cell\r\n        const image = environmentalImages[imageIndex % environmentalImages.length];\r\n        \r\n        gridItems.push(\r\n          <div\r\n            key={`image-${imageIndex}`}\r\n            style={{\r\n              ...styles.gridItem,\r\n              ...styles.imageCell,\r\n              ...styles[cellKey],\r\n              backgroundImage: `url(${image.url})`\r\n            }}\r\n            onMouseEnter={(e) => {\r\n              e.currentTarget.style.transform = 'scale(1.05)';\r\n              const overlay = e.currentTarget.querySelector('.image-overlay');\r\n              if (overlay) overlay.style.opacity = '1';\r\n            }}\r\n            onMouseLeave={(e) => {\r\n              e.currentTarget.style.transform = 'scale(1)';\r\n              const overlay = e.currentTarget.querySelector('.image-overlay');\r\n              if (overlay) overlay.style.opacity = '0';\r\n            }}\r\n          >\r\n            <div className=\"image-overlay\" style={styles.imageOverlay}>\r\n              <Heart size={24} color=\"white\" style={{ opacity: 0.9 }} />\r\n            </div>\r\n          </div>\r\n        );\r\n        imageIndex++;\r\n      }\r\n    }\r\n    \r\n    return gridItems;\r\n  };\r\n\r\n  return (\r\n    <div style={styles.container}>\r\n      <style>{`\r\n        @keyframes spin {\r\n          0% { transform: rotate(0deg); }\r\n          100% { transform: rotate(360deg); }\r\n        }\r\n        \r\n        .cta-button:hover {\r\n          background-color: ${colors.primaryDark};\r\n          transform: translateY(-2px);\r\n          box-shadow: 0 8px 25px rgba(10, 69, 28, 0.4);\r\n        }\r\n        \r\n        @media (max-width: 1200px) {\r\n          .main-content {\r\n            padding: 60px 0 !important;\r\n            gap: 40px !important;\r\n          }\r\n        }\r\n        \r\n        @media (max-width: 1024px) {\r\n          .main-content {\r\n            flex-direction: column !important;\r\n            gap: 40px !important;\r\n            padding: 40px 0 !important;\r\n            min-height: auto !important;\r\n          }\r\n          \r\n          .left-content {\r\n            max-width: none !important;\r\n            padding-right: 0 !important;\r\n            text-align: center !important;\r\n          }\r\n          \r\n          .right-content {\r\n            max-width: none !important;\r\n            padding-left: 0 !important;\r\n            justify-self: center !important;\r\n            width: 100% !important;\r\n            max-width: 600px !important;\r\n            margin: 0 auto !important;\r\n          }\r\n        }\r\n        \r\n        @media (max-width: 768px) {\r\n          .container {\r\n            padding: 0 1rem !important;\r\n          }\r\n          \r\n          .main-heading {\r\n            font-size: 36px !important;\r\n          }\r\n          \r\n          .sub-heading {\r\n            font-size: 16px !important;\r\n          }\r\n          \r\n          .right-content {\r\n            grid-template-columns: repeat(2, 1fr) !important;\r\n            grid-template-rows: repeat(5, 120px) !important;\r\n          }\r\n          \r\n          .main-content {\r\n            padding: 40px 0 !important;\r\n          }\r\n        }\r\n        \r\n        @media (max-width: 480px) {\r\n          .container {\r\n            padding: 0 1rem !important;\r\n          }\r\n          \r\n          .main-heading {\r\n            font-size: 28px !important;\r\n          }\r\n          \r\n          .sub-heading {\r\n            font-size: 15px !important;\r\n          }\r\n          \r\n          .right-content {\r\n            grid-template-columns: 1fr !important;\r\n            grid-template-rows: repeat(10, 100px) !important;\r\n          }\r\n          \r\n          .main-content {\r\n            padding: 20px 0 !important;\r\n          }\r\n        }\r\n        \r\n        @media (max-width: 375px) {\r\n          .container {\r\n            padding: 0 0.75rem !important;\r\n          }\r\n          \r\n          .main-heading {\r\n            font-size: 24px !important;\r\n            margin-bottom: 16px !important;\r\n          }\r\n          \r\n          .sub-heading {\r\n            font-size: 14px !important;\r\n            margin-bottom: 24px !important;\r\n          }\r\n        }\r\n      `}</style>\r\n\r\n      <main style={styles.mainContent} className=\"main-content\">\r\n        <div style={styles.leftContent} className=\"left-content\">\r\n          <h1 style={styles.mainHeading} className=\"main-heading\">\r\n            We protect the world's<br />\r\n            most precious ecosystems\r\n          </h1>\r\n          \r\n          <p style={styles.subHeading} className=\"sub-heading\">\r\n            Our innovative conservation approach directly supports \r\n            high-impact environmental protection and community empowerment\r\n          </p>\r\n          \r\n          <button \r\n            style={styles.ctaButton}\r\n            className=\"cta-button\"\r\n            onClick={() => window.open('/impact', '_blank')}\r\n          >\r\n            View Our Impact \r\n          </button>\r\n        </div>\r\n\r\n        <div ref={gridRef} style={styles.rightContent} className=\"right-content\">\r\n          {renderGridContent()}\r\n        </div>\r\n      </main>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default EnvironmentalCharity;","import React, { useState, useEffect, useRef, useCallback } from 'react';\r\nimport Header from '../../components/Header';\r\nimport Footer from '../../components/Footer';\r\nimport JoinMovement from '../../components/JoinMovement'; \r\n\r\nimport { useNavigate, useLocation } from 'react-router-dom';\r\nimport {\r\n  Box, Typography, Grid, Card, CardContent, CardMedia, CardActions,\r\n  Button, Chip, FormControl, InputLabel, Select, MenuItem,\r\n  TextField, InputAdornment, CircularProgress, Avatar, Paper,\r\n  Container, Tooltip, IconButton, Stack, Divider\r\n} from '@mui/material';\r\nimport {\r\n  Search, Visibility, LocationOn, Category, Public,\r\n  Star, ArrowForward, CheckCircle, Assessment, \r\n  ClearAll, TrendingUp, ViewModule, ViewList, \r\n  FilterAlt, NatureOutlined\r\n} from '@mui/icons-material';\r\nimport { motion, AnimatePresence } from 'framer-motion';\r\nimport { useTheme } from '../../theme';\r\n\r\nimport { API_URL, STATIC_URL} from '../../config';\r\n\r\nconst API_BASE = API_URL;\r\n\r\nconst PublicProjectsDisplay = ({ initialCategoryFilter = null }) => {\r\n  const navigate = useNavigate();\r\n  const { colors, isDarkMode } = useTheme();\r\n  const location = useLocation();\r\n\r\n  const [projects, setProjects] = useState([]);\r\n  const [filteredProjects, setFilteredProjects] = useState([]);\r\n  const [categories, setCategories] = useState([]);\r\n  const [countries, setCountries] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [visibleProjects, setVisibleProjects] = useState(new Set());\r\n  const [viewMode, setViewMode] = useState('grid');\r\n  const [filters, setFilters] = useState({\r\n    search: '',\r\n    categoryId: initialCategoryFilter || '',\r\n    countryId: '',\r\n    status: '',\r\n    featured: ''\r\n  });\r\n\r\n  const projectRefs = useRef([]);\r\n\r\n  // Placeholder data for when API data is not available\r\n  const placeholderProjects = [\r\n    {\r\n      id: 'placeholder-1',\r\n      title: 'Clean Water Initiative - Lake Victoria',\r\n      short_description: 'Providing sustainable clean water solutions to rural communities around Lake Victoria through innovative filtration systems.',\r\n      category_name: 'Water & Sanitation',\r\n      status: 'ongoing',\r\n      location: 'Kisumu County, Kenya',\r\n      is_featured: true,\r\n      featured_image: null\r\n    },\r\n    {\r\n      id: 'placeholder-2',\r\n      title: 'Solar Energy for Schools Project',\r\n      short_description: 'Installing solar panel systems in primary schools across rural Kenya to improve learning conditions and reduce energy costs.',\r\n      category_name: 'Renewable Energy',\r\n      status: 'ongoing',\r\n      location: 'Nakuru County, Kenya',\r\n      is_featured: false,\r\n      featured_image: null\r\n    },\r\n    {\r\n      id: 'placeholder-3',\r\n      title: 'Community Reforestation Program',\r\n      short_description: 'Engaging local communities in large-scale tree planting initiatives to combat deforestation and promote biodiversity.',\r\n      category_name: 'Environment',\r\n      status: 'completed',\r\n      location: 'Mount Kenya Region',\r\n      is_featured: true,\r\n      featured_image: null\r\n    },\r\n    {\r\n      id: 'placeholder-4',\r\n      title: 'Urban Waste Management System',\r\n      short_description: 'Implementing innovative waste sorting and recycling programs in Nairobi informal settlements.',\r\n      category_name: 'Waste Management',\r\n      status: 'planning',\r\n      location: 'Nairobi County, Kenya',\r\n      is_featured: false,\r\n      featured_image: null\r\n    },\r\n    {\r\n      id: 'placeholder-5',\r\n      title: 'Agricultural Technology Training',\r\n      short_description: 'Teaching modern farming techniques and providing agricultural equipment to smallholder farmers.',\r\n      category_name: 'Agriculture',\r\n      status: 'ongoing',\r\n      location: 'Central Kenya',\r\n      is_featured: false,\r\n      featured_image: null\r\n    },\r\n    {\r\n      id: 'placeholder-6',\r\n      title: 'Coastal Conservation Initiative',\r\n      short_description: 'Protecting marine ecosystems through community-based conservation programs along the Kenyan coast.',\r\n      category_name: 'Marine Conservation',\r\n      status: 'ongoing',\r\n      location: 'Mombasa County, Kenya',\r\n      is_featured: true,\r\n      featured_image: null\r\n    }\r\n  ];\r\n\r\n  const placeholderCategories = [\r\n    { id: 'cat-1', name: 'Water & Sanitation' },\r\n    { id: 'cat-2', name: 'Renewable Energy' },\r\n    { id: 'cat-3', name: 'Environment' },\r\n    { id: 'cat-4', name: 'Waste Management' },\r\n    { id: 'cat-5', name: 'Agriculture' },\r\n    { id: 'cat-6', name: 'Marine Conservation' }\r\n  ];\r\n\r\n  const statusConfig = {\r\n    planning: { \r\n      label: 'Planning', \r\n      icon: <Assessment />,\r\n      color: colors.warning,\r\n      bgColor: `${colors.warning}20`\r\n    },\r\n    ongoing: { \r\n      label: 'Ongoing', \r\n      icon: <TrendingUp />,\r\n      color: colors.info,\r\n      bgColor: `${colors.info}20`\r\n    },\r\n    completed: { \r\n      label: 'Completed', \r\n      icon: <CheckCircle />,\r\n      color: colors.success,\r\n      bgColor: `${colors.success}20`\r\n    },\r\n    on_hold: { \r\n      label: 'On Hold', \r\n      icon: <Assessment />,\r\n      color: colors.warning,\r\n      bgColor: `${colors.warning}20`\r\n    }\r\n  };\r\n\r\n  const sdgGoalsInfo = {\r\n    1: { title: 'No Poverty', color: '#E5243B' },\r\n    2: { title: 'Zero Hunger', color: '#DDA63A' },\r\n    3: { title: 'Good Health and Well-being', color: '#4C9F38' },\r\n    4: { title: 'Quality Education', color: '#C5192D' },\r\n    6: { title: 'Clean Water and Sanitation', color: '#26BDE2' },\r\n    7: { title: 'Affordable and Clean Energy', color: '#FCC30B' },\r\n    13: { title: 'Climate Action', color: '#3F7E44' },\r\n    14: { title: 'Life Below Water', color: '#0A97D9' },\r\n    15: { title: 'Life on Land', color: '#56C02B' },\r\n  };\r\n\r\n  // Animation variants\r\n  const containerVariants = {\r\n    hidden: { opacity: 0 },\r\n    visible: {\r\n      opacity: 1,\r\n      transition: {\r\n        staggerChildren: 0.1\r\n      }\r\n    }\r\n  };\r\n\r\n  const cardVariants = {\r\n    hidden: { \r\n      opacity: 0, \r\n      y: 20,\r\n      scale: 0.95 \r\n    },\r\n    visible: { \r\n      opacity: 1, \r\n      y: 0,\r\n      scale: 1,\r\n      transition: {\r\n        duration: 0.5,\r\n        ease: \"easeOut\"\r\n      }\r\n    },\r\n    hover: {\r\n      y: -8,\r\n      scale: 1.02,\r\n      transition: {\r\n        duration: 0.3,\r\n        ease: \"easeOut\"\r\n      }\r\n    }\r\n  };\r\n\r\n  // Data fetching effects\r\n  useEffect(() => {\r\n    const initializeData = async () => {\r\n      setLoading(true);\r\n      try {\r\n        await Promise.all([\r\n          fetchCategories(),\r\n          fetchCountries()\r\n        ]);\r\n        await fetchProjects();\r\n      } catch (error) {\r\n        console.error('Error initializing data:', error);\r\n        // Use placeholder data when API fails\r\n        setProjects(placeholderProjects);\r\n        setCategories(placeholderCategories);\r\n        setCountries([\r\n          { id: 'ke', name: 'Kenya' },\r\n          { id: 'ug', name: 'Uganda' },\r\n          { id: 'tz', name: 'Tanzania' }\r\n        ]);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n    \r\n    initializeData();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (initialCategoryFilter && categories.length > 0) {\r\n      setFilters(prev => ({ ...prev, categoryId: initialCategoryFilter }));\r\n    }\r\n  }, [initialCategoryFilter, categories]);\r\n\r\n  // Filter projects whenever filters or projects change\r\n  useEffect(() => {\r\n    applyFilters();\r\n  }, [filters, projects]);\r\n\r\n  const applyFilters = () => {\r\n    let filtered = [...projects];\r\n\r\n    // Search filter\r\n    if (filters.search) {\r\n      filtered = filtered.filter(project => \r\n        project.title.toLowerCase().includes(filters.search.toLowerCase()) ||\r\n        (project.short_description && project.short_description.toLowerCase().includes(filters.search.toLowerCase())) ||\r\n        (project.description && project.description.toLowerCase().includes(filters.search.toLowerCase())) ||\r\n        (project.location && project.location.toLowerCase().includes(filters.search.toLowerCase()))\r\n      );\r\n    }\r\n\r\n    // Category filter\r\n    if (filters.categoryId) {\r\n      filtered = filtered.filter(project => \r\n        project.category_id === filters.categoryId || \r\n        project.category_name === categories.find(cat => cat.id === filters.categoryId)?.name\r\n      );\r\n    }\r\n\r\n    // Country filter\r\n    if (filters.countryId) {\r\n      filtered = filtered.filter(project => \r\n        project.country_id === filters.countryId\r\n      );\r\n    }\r\n\r\n    // Status filter\r\n    if (filters.status) {\r\n      filtered = filtered.filter(project => \r\n        project.status === filters.status\r\n      );\r\n    }\r\n\r\n    // Featured filter\r\n    if (filters.featured === 'true') {\r\n      filtered = filtered.filter(project => project.is_featured);\r\n    } else if (filters.featured === 'false') {\r\n      filtered = filtered.filter(project => !project.is_featured);\r\n    }\r\n\r\n    // Sort: featured first, then by title\r\n    filtered.sort((a, b) => {\r\n      if (a.is_featured && !b.is_featured) return -1;\r\n      if (!a.is_featured && b.is_featured) return 1;\r\n      return a.title.localeCompare(b.title);\r\n    });\r\n\r\n    setFilteredProjects(filtered);\r\n  };\r\n\r\n  // Intersection observer for animations\r\n  useEffect(() => {\r\n    const observers = [];\r\n    \r\n    projectRefs.current.forEach((ref, index) => {\r\n      if (ref) {\r\n        const observer = new IntersectionObserver(\r\n          ([entry]) => {\r\n            if (entry.isIntersecting) {\r\n              setVisibleProjects(prev => new Set([...prev, index]));\r\n            }\r\n          },\r\n          { threshold: 0.1, rootMargin: '50px' }\r\n        );\r\n        \r\n        observer.observe(ref);\r\n        observers.push(observer);\r\n      }\r\n    });\r\n\r\n    return () => {\r\n      observers.forEach(observer => observer.disconnect());\r\n    };\r\n  }, [filteredProjects]);\r\n\r\n  const fetchProjects = async () => {\r\n    try {\r\n      const response = await fetch(`${API_BASE}/projects`, {\r\n        method: 'GET',\r\n        credentials: 'include',\r\n        headers: { 'Content-Type': 'application/json' }\r\n      });\r\n\r\n      if (!response.ok) {\r\n        throw new Error(`HTTP error! status: ${response.status}`);\r\n      }\r\n\r\n      const data = await response.json();\r\n      \r\n      if (data.success) {\r\n        const allProjects = Array.isArray(data.data) ? data.data : [];\r\n        if (allProjects.length > 0) {\r\n          setProjects(allProjects);\r\n        } else {\r\n          setProjects(placeholderProjects);\r\n        }\r\n      } else if (Array.isArray(data)) {\r\n        setProjects(data.length > 0 ? data : placeholderProjects);\r\n      } else {\r\n        setProjects(placeholderProjects);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error fetching projects:', error);\r\n      setProjects(placeholderProjects);\r\n    }\r\n  };\r\n\r\n  const fetchCategories = async () => {\r\n    try {\r\n      const response = await fetch(`${API_BASE}/categories`, { credentials: 'include' });\r\n      if (!response.ok) throw new Error(`HTTP error! status: ${response.status}`);\r\n      \r\n      const data = await response.json();\r\n      if (data.success) {\r\n        const cats = Array.isArray(data.data) ? data.data : [];\r\n        setCategories(cats.length > 0 ? cats : placeholderCategories);\r\n      } else if (Array.isArray(data)) {\r\n        setCategories(data.length > 0 ? data : placeholderCategories);\r\n      } else {\r\n        setCategories(placeholderCategories);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error fetching categories:', error);\r\n      setCategories(placeholderCategories);\r\n    }\r\n  };\r\n\r\n  const fetchCountries = async () => {\r\n    try {\r\n      const response = await fetch(`${API_BASE}/countries`, { credentials: 'include' });\r\n      if (!response.ok) throw new Error(`HTTP error! status: ${response.status}`);\r\n      \r\n      const data = await response.json();\r\n      if (data.success) {\r\n        const ctrs = Array.isArray(data.data) ? data.data : [];\r\n        setCountries(ctrs.length > 0 ? ctrs : [\r\n          { id: 'ke', name: 'Kenya' },\r\n          { id: 'ug', name: 'Uganda' },\r\n          { id: 'tz', name: 'Tanzania' }\r\n        ]);\r\n      } else if (Array.isArray(data)) {\r\n        setCountries(data.length > 0 ? data : [\r\n          { id: 'ke', name: 'Kenya' },\r\n          { id: 'ug', name: 'Uganda' },\r\n          { id: 'tz', name: 'Tanzania' }\r\n        ]);\r\n      } else {\r\n        setCountries([\r\n          { id: 'ke', name: 'Kenya' },\r\n          { id: 'ug', name: 'Uganda' },\r\n          { id: 'tz', name: 'Tanzania' }\r\n        ]);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error fetching countries:', error);\r\n      setCountries([\r\n        { id: 'ke', name: 'Kenya' },\r\n        { id: 'ug', name: 'Uganda' },\r\n        { id: 'tz', name: 'Tanzania' }\r\n      ]);\r\n    }\r\n  };\r\n\r\n  const handleFilterChange = (field, value) => {\r\n    setFilters(prev => ({ ...prev, [field]: value }));\r\n    setVisibleProjects(new Set());\r\n  };\r\n\r\n  const handleSearchChange = (event) => {\r\n    const value = event.target.value;\r\n    setFilters(prev => ({ ...prev, search: value }));\r\n    setVisibleProjects(new Set());\r\n  };\r\n\r\n  const clearFilters = () => {\r\n    setFilters({\r\n      search: '',\r\n      categoryId: '',\r\n      countryId: '',\r\n      status: '',\r\n      featured: ''\r\n    });\r\n    setVisibleProjects(new Set());\r\n  };\r\n\r\n  const handleProjectClick = (project, event) => {\r\n    console.log('Project clicked:', project.id, project.title);\r\n    \r\n    if (event) {\r\n      event.preventDefault();\r\n      event.stopPropagation();\r\n    }\r\n    \r\n    try {\r\n      navigate(`/project/${project.id}`, { \r\n        state: { \r\n          project,\r\n          from: location.pathname\r\n        },\r\n        replace: false\r\n      });\r\n    } catch (error) {\r\n      console.error('Navigation failed:', error);\r\n    }\r\n  };\r\n\r\n  const getStatusInfo = (status) => {\r\n    return statusConfig[status] || statusConfig.planning;\r\n  };\r\n\r\n  const truncateText = (text, maxLength = 120) => {\r\n    if (!text) return '';\r\n    if (text.length <= maxLength) return text;\r\n    return text.substring(0, maxLength) + '...';\r\n  };\r\n\r\n  const totalProjects = projects.length;\r\n  const featuredCount = projects.filter(p => p.is_featured).length;\r\n  const ongoingCount = projects.filter(p => p.status === 'ongoing').length;\r\n  const completedCount = projects.filter(p => p.status === 'completed').length;\r\n\r\n  return (\r\n    <Box sx={{ \r\n      minHeight: '100vh',\r\n            minWidth: '100vh',\r\n                        minlength: '100vh',\r\n\r\n\r\n      backgroundColor: colors.background,\r\n      py: 6\r\n    }}>\r\n          <Header/>\r\n\r\n      <Container maxWidth=\"xl\">\r\n        {/* Enhanced Header with Stats */}\r\n        <motion.div\r\n          initial={{ opacity: 0, y: -20 }}\r\n          animate={{ opacity: 1, y: 0 }}\r\n          transition={{ duration: 0.8 }}\r\n        >\r\n          <Box sx={{ \r\n            textAlign: 'center', \r\n            mb: 8,\r\n            py: 4\r\n          }}>\r\n            <Typography \r\n              variant=\"h1\" \r\n              sx={{ \r\n                fontWeight: 800,\r\n                color: colors.text,\r\n                mb: 2,\r\n                fontSize: { xs: '2.5rem', md: '3.5rem' },\r\n                letterSpacing: '-0.02em'\r\n              }}\r\n            >\r\n              Impact Projects\r\n            </Typography>\r\n            <Typography \r\n              variant=\"h6\" \r\n              sx={{ \r\n                color: colors.textSecondary,\r\n                fontWeight: 400,\r\n                maxWidth: '600px',\r\n                mx: 'auto',\r\n                mb: 4\r\n              }}\r\n            >\r\n              Driving sustainable environmental change across Africa\r\n            </Typography>\r\n            \r\n            {/* Stats Row */}\r\n            <Stack \r\n              direction={{ xs: 'column', sm: 'row' }} \r\n              spacing={3} \r\n              justifyContent=\"center\" \r\n              alignItems=\"center\"\r\n              sx={{ mb: 2 }}\r\n            >\r\n              <Box sx={{\r\n                display: 'flex',\r\n                alignItems: 'center',\r\n                gap: 2,\r\n                px: 3,\r\n                py: 2,\r\n                borderRadius: '50px',\r\n                backgroundColor: colors.surface,\r\n                border: `1px solid ${colors.border}`\r\n              }}>\r\n                <NatureOutlined sx={{ color: colors.primary, fontSize: 24 }} />\r\n                <Typography variant=\"h4\" sx={{ \r\n                  color: colors.text,\r\n                  fontWeight: 700,\r\n                  mr: 1\r\n                }}>\r\n                  {totalProjects}\r\n                </Typography>\r\n                <Typography variant=\"body1\" sx={{ \r\n                  color: colors.textSecondary,\r\n                  fontWeight: 500\r\n                }}>\r\n                  Total Projects\r\n                </Typography>\r\n              </Box>\r\n\r\n              <Box sx={{\r\n                display: 'flex',\r\n                alignItems: 'center',\r\n                gap: 2,\r\n                px: 3,\r\n                py: 2,\r\n                borderRadius: '50px',\r\n                backgroundColor: colors.surface,\r\n                border: `1px solid ${colors.border}`\r\n              }}>\r\n                <Star sx={{ color: colors.secondary, fontSize: 24 }} />\r\n                <Typography variant=\"h4\" sx={{ \r\n                  color: colors.text,\r\n                  fontWeight: 700,\r\n                  mr: 1\r\n                }}>\r\n                  {featuredCount}\r\n                </Typography>\r\n                <Typography variant=\"body1\" sx={{ \r\n                  color: colors.textSecondary,\r\n                  fontWeight: 500\r\n                }}>\r\n                  Featured\r\n                </Typography>\r\n              </Box>\r\n\r\n              <Box sx={{\r\n                display: 'flex',\r\n                alignItems: 'center',\r\n                gap: 2,\r\n                px: 3,\r\n                py: 2,\r\n                borderRadius: '50px',\r\n                backgroundColor: colors.surface,\r\n                border: `1px solid ${colors.border}`\r\n              }}>\r\n                <TrendingUp sx={{ color: colors.info, fontSize: 24 }} />\r\n                <Typography variant=\"h4\" sx={{ \r\n                  color: colors.text,\r\n                  fontWeight: 700,\r\n                  mr: 1\r\n                }}>\r\n                  {ongoingCount}\r\n                </Typography>\r\n                <Typography variant=\"body1\" sx={{ \r\n                  color: colors.textSecondary,\r\n                  fontWeight: 500\r\n                }}>\r\n                  Active\r\n                </Typography>\r\n              </Box>\r\n\r\n              <Box sx={{\r\n                display: 'flex',\r\n                alignItems: 'center',\r\n                gap: 2,\r\n                px: 3,\r\n                py: 2,\r\n                borderRadius: '50px',\r\n                backgroundColor: colors.surface,\r\n                border: `1px solid ${colors.border}`\r\n              }}>\r\n                <CheckCircle sx={{ color: colors.success, fontSize: 24 }} />\r\n                <Typography variant=\"h4\" sx={{ \r\n                  color: colors.text,\r\n                  fontWeight: 700,\r\n                  mr: 1\r\n                }}>\r\n                  {completedCount}\r\n                </Typography>\r\n                <Typography variant=\"body1\" sx={{ \r\n                  color: colors.textSecondary,\r\n                  fontWeight: 500\r\n                }}>\r\n                  Completed\r\n                </Typography>\r\n              </Box>\r\n            </Stack>\r\n\r\n            {/* Results count */}\r\n            <Typography variant=\"body2\" sx={{ \r\n              color: colors.textMuted,\r\n              fontWeight: 500,\r\n              mt: 2\r\n            }}>\r\n              {filteredProjects.length === totalProjects \r\n                ? `Showing all ${totalProjects} projects` \r\n                : `Showing ${filteredProjects.length} of ${totalProjects} projects`\r\n              }\r\n            </Typography>\r\n          </Box>\r\n        </motion.div>\r\n\r\n        {/* Streamlined Filters */}\r\n        <motion.div\r\n          initial={{ opacity: 0, y: 20 }}\r\n          animate={{ opacity: 1, y: 0 }}\r\n          transition={{ duration: 0.6, delay: 0.2 }}\r\n        >\r\n          <Paper sx={{\r\n            p: 3,\r\n            mb: 6,\r\n            backgroundColor: colors.surface,\r\n            border: `1px solid ${colors.border}`,\r\n            borderRadius: 3,\r\n            boxShadow: 'none'\r\n          }}>\r\n            <Stack \r\n              direction={{ xs: 'column', md: 'row' }} \r\n              spacing={3} \r\n              alignItems=\"center\"\r\n            >\r\n              <TextField\r\n                placeholder=\"Search projects...\"\r\n                value={filters.search}\r\n                onChange={handleSearchChange}\r\n                size=\"medium\"\r\n                sx={{\r\n                  minWidth: { xs: '100%', md: '300px' },\r\n                  '& .MuiOutlinedInput-root': {\r\n                    backgroundColor: colors.background,\r\n                    '& fieldset': { borderColor: colors.borderLight },\r\n                    '&:hover fieldset': { borderColor: colors.primary },\r\n                  }\r\n                }}\r\n                InputProps={{\r\n                  startAdornment: (\r\n                    <InputAdornment position=\"start\">\r\n                      <Search sx={{ color: colors.textMuted }} />\r\n                    </InputAdornment>\r\n                  ),\r\n                }}\r\n              />\r\n\r\n              <FormControl size=\"medium\" sx={{ minWidth: 160 }}>\r\n                <InputLabel>Category</InputLabel>\r\n                <Select\r\n                  value={filters.categoryId}\r\n                  onChange={(e) => handleFilterChange('categoryId', e.target.value)}\r\n                  sx={{ backgroundColor: colors.background }}\r\n                >\r\n                  <MenuItem value=\"\">All Categories</MenuItem>\r\n                  {categories.map(category => (\r\n                    <MenuItem key={category.id} value={category.id}>\r\n                      {category.name}\r\n                    </MenuItem>\r\n                  ))}\r\n                </Select>\r\n              </FormControl>\r\n\r\n              <FormControl size=\"medium\" sx={{ minWidth: 140 }}>\r\n                <InputLabel>Status</InputLabel>\r\n                <Select\r\n                  value={filters.status}\r\n                  onChange={(e) => handleFilterChange('status', e.target.value)}\r\n                  sx={{ backgroundColor: colors.background }}\r\n                >\r\n                  <MenuItem value=\"\">All Status</MenuItem>\r\n                  {Object.entries(statusConfig).map(([key, config]) => (\r\n                    <MenuItem key={key} value={key}>\r\n                      {config.label}\r\n                    </MenuItem>\r\n                  ))}\r\n                </Select>\r\n              </FormControl>\r\n\r\n              <FormControl size=\"medium\" sx={{ minWidth: 120 }}>\r\n                <InputLabel>Featured</InputLabel>\r\n                <Select\r\n                  value={filters.featured}\r\n                  onChange={(e) => handleFilterChange('featured', e.target.value)}\r\n                  sx={{ backgroundColor: colors.background }}\r\n                >\r\n                  <MenuItem value=\"\">All Projects</MenuItem>\r\n                  <MenuItem value=\"true\">Featured Only</MenuItem>\r\n                  <MenuItem value=\"false\">Regular Only</MenuItem>\r\n                </Select>\r\n              </FormControl>\r\n\r\n              <Button \r\n                onClick={clearFilters} \r\n                variant=\"outlined\"\r\n                startIcon={<ClearAll />}\r\n                sx={{ \r\n                  borderColor: colors.border,\r\n                  color: colors.textSecondary,\r\n                  '&:hover': {\r\n                    borderColor: colors.primary,\r\n                    backgroundColor: `${colors.primary}10`\r\n                  }\r\n                }}\r\n              >\r\n                Clear\r\n              </Button>\r\n\r\n              <Box sx={{ ml: 'auto', display: 'flex', gap: 1 }}>\r\n                <Tooltip title=\"Grid View\">\r\n                  <IconButton\r\n                    onClick={() => setViewMode('grid')}\r\n                    sx={{ \r\n                      backgroundColor: viewMode === 'grid' ? colors.primary : 'transparent',\r\n                      color: viewMode === 'grid' ? colors.white : colors.textSecondary,\r\n                      '&:hover': {\r\n                        backgroundColor: viewMode === 'grid' ? colors.primaryDark : `${colors.primary}20`,\r\n                      }\r\n                    }}\r\n                  >\r\n                    <ViewModule />\r\n                  </IconButton>\r\n                </Tooltip>\r\n                <Tooltip title=\"List View\">\r\n                  <IconButton\r\n                    onClick={() => setViewMode('list')}\r\n                    sx={{ \r\n                      backgroundColor: viewMode === 'list' ? colors.primary : 'transparent',\r\n                      color: viewMode === 'list' ? colors.white : colors.textSecondary,\r\n                      '&:hover': {\r\n                        backgroundColor: viewMode === 'list' ? colors.primaryDark : `${colors.primary}20`,\r\n                      }\r\n                    }}\r\n                  >\r\n                    <ViewList />\r\n                  </IconButton>\r\n                </Tooltip>\r\n              </Box>\r\n            </Stack>\r\n          </Paper>\r\n        </motion.div>\r\n\r\n        {/* Projects Grid */}\r\n        {loading ? (\r\n          <Box sx={{ \r\n            display: 'flex', \r\n            flexDirection: 'column',\r\n            alignItems: 'center', \r\n            py: 12\r\n          }}>\r\n            <CircularProgress \r\n              size={60} \r\n              thickness={4}\r\n              sx={{ color: colors.primary, mb: 3 }} \r\n            />\r\n            <Typography variant=\"h6\" sx={{ \r\n              color: colors.textSecondary,\r\n              fontWeight: 500\r\n            }}>\r\n              Loading Projects...\r\n            </Typography>\r\n          </Box>\r\n        ) : filteredProjects.length === 0 ? (\r\n          <Box sx={{ \r\n            textAlign: 'center', \r\n            py: 12\r\n          }}>\r\n            <NatureOutlined sx={{ \r\n              fontSize: 80, \r\n              color: colors.textMuted,\r\n              mb: 3\r\n            }} />\r\n            <Typography variant=\"h4\" sx={{ \r\n              color: colors.text,\r\n              fontWeight: 600,\r\n              mb: 2\r\n            }}>\r\n              No Projects Found\r\n            </Typography>\r\n            <Typography variant=\"body1\" sx={{ \r\n              color: colors.textSecondary,\r\n              maxWidth: '400px',\r\n              mx: 'auto',\r\n              mb: 3\r\n            }}>\r\n              Try adjusting your search or filters to discover more projects\r\n            </Typography>\r\n            <Button \r\n              onClick={clearFilters}\r\n              variant=\"outlined\"\r\n              sx={{ \r\n                borderColor: colors.primary,\r\n                color: colors.primary,\r\n                '&:hover': {\r\n                  borderColor: colors.primaryDark,\r\n                  backgroundColor: `${colors.primary}10`\r\n                }\r\n              }}\r\n            >\r\n              Clear All Filters\r\n            </Button>\r\n          </Box>\r\n        ) : (\r\n          <motion.div\r\n            variants={containerVariants}\r\n            initial=\"hidden\"\r\n            animate=\"visible\"\r\n          >\r\n            <Grid container spacing={4}>\r\n              {filteredProjects.map((project, index) => (\r\n                <Grid item xs={12} sm={6} lg={4} key={project.id}>\r\n                  <div ref={el => projectRefs.current[index] = el}>\r\n                    <motion.div\r\n                      variants={cardVariants}\r\n                      whileHover=\"hover\"\r\n                      layout\r\n                    >\r\n\r\n\r\n                      <Card\r\n  onClick={(event) => handleProjectClick(project, event)}\r\n  sx={{\r\n    height: '520px',\r\n    minHeight: '520px',\r\n    width: '100%',         //  ensures full stretch\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    borderRadius: 3,\r\n    overflow: 'hidden',\r\n    backgroundColor: colors.surface,\r\n    border: `1px solid ${colors.borderLight}`,\r\n    boxShadow: 'none',\r\n    cursor: 'pointer',\r\n    transition: 'all 0.3s ease',\r\n    position: 'relative',\r\n    '&:hover': {\r\n      transform: 'translateY(-4px)',\r\n      boxShadow: `0 12px 40px ${colors.primary}20`,\r\n    }\r\n  }}\r\n>\r\n\r\n                        {/* Hero Section with Featured Image or Category Color */}\r\n                        <Box sx={{\r\n                          height: 200,\r\n                          position: 'relative',\r\n                          background: project.featured_image ? 'none' :\r\n                                    project.category_name === 'Water & Sanitation' ? 'linear-gradient(135deg, #26BDE2 0%, #1976d2 100%)' :\r\n                                    project.category_name === 'Renewable Energy' ? 'linear-gradient(135deg, #FCC30B 0%, #FF9800 100%)' :\r\n                                    project.category_name === 'Environment' ? 'linear-gradient(135deg, #56C02B 0%, #4CAF50 100%)' :\r\n                                    project.category_name === 'Waste Management' ? 'linear-gradient(135deg, #9C27B0 0%, #673AB7 100%)' :\r\n                                    project.category_name === 'Agriculture' ? 'linear-gradient(135deg, #FF9800 0%, #FF5722 100%)' :\r\n                                    project.category_name === 'Marine Conservation' ? 'linear-gradient(135deg, #0A97D9 0%, #1976d2 100%)' :\r\n                                    `linear-gradient(135deg, ${colors.primary} 0%, ${colors.primaryDark} 100%)`,\r\n                          backgroundImage: project.featured_image ? \r\n                            `url(${project.featured_image.startsWith('http') \r\n                              ? project.featured_image \r\n                              : `${STATIC_URL || ''}${project.featured_image}`})` : \r\n                            'none',\r\n                          backgroundSize: 'cover',\r\n                          backgroundPosition: 'center',\r\n                          display: 'flex',\r\n                          alignItems: 'center',\r\n                          justifyContent: 'center',\r\n                          color: 'white'\r\n                        }}>\r\n                          {/* Overlay for better text readability on images */}\r\n                          {project.featured_image && (\r\n                            <Box sx={{\r\n                              position: 'absolute',\r\n                              top: 0,\r\n                              left: 0,\r\n                              right: 0,\r\n                              bottom: 0,\r\n                              background: 'linear-gradient(135deg, rgba(0,0,0,0.4) 0%, rgba(0,0,0,0.2) 100%)'\r\n                            }} />\r\n                          )}\r\n\r\n                          {/* Category Icon - only show if no featured image */}\r\n                          {!project.featured_image && (\r\n                            <Box sx={{\r\n                              fontSize: '4rem',\r\n                              opacity: 0.9,\r\n                              zIndex: 1\r\n                            }}>\r\n                              {project.category_name === 'Water & Sanitation' ? '' :\r\n                               project.category_name === 'Renewable Energy' ? '' :\r\n                               project.category_name === 'Environment' ? '' :\r\n                               project.category_name === 'Waste Management' ? '' :\r\n                               project.category_name === 'Agriculture' ? '' :\r\n                               project.category_name === 'Marine Conservation' ? '' :\r\n                               ''}\r\n                            </Box>\r\n                          )}\r\n\r\n                          {/* Year Badge */}\r\n                          <Box sx={{\r\n                            position: 'absolute',\r\n                            top: 16,\r\n                            right: 16,\r\n                            backgroundColor: 'rgba(255, 255, 255, 0.2)',\r\n                            backdropFilter: 'blur(10px)',\r\n                            px: 2,\r\n                            py: 1,\r\n                            borderRadius: 2,\r\n                            border: '1px solid rgba(255, 255, 255, 0.3)',\r\n                            zIndex: 2\r\n                          }}>\r\n                            <Typography variant=\"body2\" sx={{ \r\n                              color: 'white',\r\n                              fontWeight: 600\r\n                            }}>\r\n                              2024\r\n                            </Typography>\r\n                          </Box>\r\n\r\n                          {/* Category Badge */}\r\n                          <Box sx={{\r\n                            position: 'absolute',\r\n                            top: 16,\r\n                            left: 16,\r\n                            backgroundColor: 'rgba(255, 255, 255, 0.9)',\r\n                            px: 2,\r\n                            py: 0.5,\r\n                            borderRadius: 1,\r\n                            backdropFilter: 'blur(10px)',\r\n                            zIndex: 2\r\n                          }}>\r\n                            <Typography variant=\"caption\" sx={{ \r\n                              fontWeight: 600,\r\n                              fontSize: '0.7rem',\r\n                              textTransform: 'uppercase',\r\n                              letterSpacing: '0.5px',\r\n                              color: project.featured_image ? colors.text : 'inherit'\r\n                            }}>\r\n                              {project.category_name || 'Project'}\r\n                            </Typography>\r\n                          </Box>\r\n\r\n                          {/* Featured Badge */}\r\n                          {project.is_featured && (\r\n                            <Box sx={{\r\n                              position: 'absolute',\r\n                              bottom: 16,\r\n                              right: 16,\r\n                              backgroundColor: colors.secondary,\r\n                              color: colors.black,\r\n                              px: 2,\r\n                              py: 0.5,\r\n                              borderRadius: 1,\r\n                              display: 'flex',\r\n                              alignItems: 'center',\r\n                              gap: 0.5,\r\n                              zIndex: 2\r\n                            }}>\r\n                              <Star sx={{ fontSize: 16 }} />\r\n                              <Typography variant=\"caption\" sx={{ \r\n                                fontWeight: 700,\r\n                                fontSize: '0.7rem'\r\n                              }}>\r\n                                FEATURED\r\n                              </Typography>\r\n                            </Box>\r\n                          )}\r\n                        </Box>\r\n\r\n                        <CardContent sx={{ p: 3, height: 'calc(100% - 200px)', display: 'flex', flexDirection: 'column' }}>\r\n                          {/* Project Title */}\r\n                          <Typography variant=\"h6\" sx={{\r\n                            fontSize: '1.2rem',\r\n                            fontWeight: 700,\r\n                            color: colors.text,\r\n                            mb: 2,\r\n                            lineHeight: 1.3,\r\n                            overflow: 'hidden',\r\n                            display: '-webkit-box',\r\n                            WebkitLineClamp: 2,\r\n                            WebkitBoxOrient: 'vertical',\r\n                          }}>\r\n                            {project.title}\r\n                          </Typography>\r\n\r\n                          {/* Description */}\r\n                          <Typography variant=\"body2\" sx={{\r\n                            color: colors.textSecondary,\r\n                            lineHeight: 1.6,\r\n                            mb: 3,\r\n                            flex: 1,\r\n                            overflow: 'hidden',\r\n                            display: '-webkit-box',\r\n                            WebkitLineClamp: 3,\r\n                            WebkitBoxOrient: 'vertical',\r\n                          }}>\r\n                            {truncateText(project.short_description || project.description, 140)}\r\n                          </Typography>\r\n\r\n                          \r\n\r\n                          {/* Location */}\r\n                          {project.location && (\r\n                            <Box sx={{ \r\n                              display: 'flex', \r\n                              alignItems: 'center',\r\n                              mb: 3\r\n                            }}>\r\n                              <LocationOn sx={{ fontSize: 16, mr: 1, color: colors.textMuted }} />\r\n                              <Typography variant=\"body2\" sx={{\r\n                                color: colors.textSecondary,\r\n                                fontWeight: 500\r\n                              }}>\r\n                                {project.location}\r\n                              </Typography>\r\n                            </Box>\r\n                          )}\r\n\r\n                          {/* Stats Row */}\r\n                          <Box sx={{ \r\n                            display: 'flex', \r\n                            justifyContent: 'space-between',\r\n                            alignItems: 'center',\r\n                            mb: 3,\r\n                            gap: 2\r\n                          }}>\r\n                            <Box sx={{ display: 'flex', alignItems: 'center', gap: 1 }}>\r\n                              {project.category_name === 'Water & Sanitation' && (\r\n                                <>\r\n                                  <Box sx={{ \r\n                                    width: 8, \r\n                                    height: 8, \r\n                                    borderRadius: '50%', \r\n                                    backgroundColor: colors.success \r\n                                  }} />\r\n                                  <Typography variant=\"caption\" sx={{ color: colors.textSecondary }}>\r\n                                    500+ volunteers\r\n                                  </Typography>\r\n                                </>\r\n                              )}\r\n                              {project.category_name === 'Renewable Energy' && (\r\n                                <>\r\n                                  <Box sx={{ \r\n                                    width: 8, \r\n                                    height: 8, \r\n                                    borderRadius: '50%', \r\n                                    backgroundColor: colors.info \r\n                                  }} />\r\n                                  <Typography variant=\"caption\" sx={{ color: colors.textSecondary }}>\r\n                                    15 Communities\r\n                                  </Typography>\r\n                                </>\r\n                              )}\r\n                              {project.category_name === 'Environment' && (\r\n                                <>\r\n                                  <Box sx={{ \r\n                                    width: 8, \r\n                                    height: 8, \r\n                                    borderRadius: '50%', \r\n                                    backgroundColor: colors.success \r\n                                  }} />\r\n                                  <Typography variant=\"caption\" sx={{ color: colors.textSecondary }}>\r\n                                    Rural Areas\r\n                                  </Typography>\r\n                                </>\r\n                              )}\r\n                              {(!project.category_name || !['Water & Sanitation', 'Renewable Energy', 'Environment'].includes(project.category_name)) && (\r\n                                <>\r\n                                  <Box sx={{ \r\n                                    width: 8, \r\n                                    height: 8, \r\n                                    borderRadius: '50%', \r\n                                    backgroundColor: colors.primary \r\n                                  }} />\r\n                                  <Typography variant=\"caption\" sx={{ color: colors.textSecondary }}>\r\n                                    Active Project\r\n                                  </Typography>\r\n                                </>\r\n                              )}\r\n                            </Box>\r\n\r\n                            <Box sx={{ display: 'flex', alignItems: 'center', gap: 1 }}>\r\n                              {getStatusInfo(project.status).icon}\r\n                              <Typography variant=\"caption\" sx={{ \r\n                                color: getStatusInfo(project.status).color,\r\n                                fontWeight: 600\r\n                              }}>\r\n                                {getStatusInfo(project.status).label}\r\n                              </Typography>\r\n                            </Box>\r\n                          </Box>\r\n\r\n                          {/* Additional Info */}\r\n                          <Box sx={{ \r\n                            display: 'flex', \r\n                            justifyContent: 'space-between',\r\n                            alignItems: 'center',\r\n                            mb: 3,\r\n                            gap: 2\r\n                          }}>\r\n                            <Box sx={{ display: 'flex', alignItems: 'center', gap: 1 }}>\r\n                              {project.category_name === 'Water & Sanitation' && (\r\n                                <Typography variant=\"caption\" sx={{ color: colors.textSecondary }}>\r\n                                  500 trees planted\r\n                                </Typography>\r\n                              )}\r\n                              {project.category_name === 'Renewable Energy' && (\r\n                                <Typography variant=\"caption\" sx={{ color: colors.textSecondary }}>\r\n                                  25 workshops\r\n                                </Typography>\r\n                              )}\r\n                              {project.category_name === 'Environment' && (\r\n                                <Typography variant=\"caption\" sx={{ color: colors.textSecondary }}>\r\n                                  15 training sessions\r\n                                </Typography>\r\n                              )}\r\n                              {(!project.category_name || !['Water & Sanitation', 'Renewable Energy', 'Environment'].includes(project.category_name)) && (\r\n                                <Typography variant=\"caption\" sx={{ color: colors.textSecondary }}>\r\n                                  In Progress\r\n                                </Typography>\r\n                              )}\r\n                            </Box>\r\n\r\n                            <Box sx={{ display: 'flex', alignItems: 'center', gap: 1 }}>\r\n                              {project.category_name === 'Water & Sanitation' && (\r\n                                <Typography variant=\"caption\" sx={{ color: colors.success, fontWeight: 600 }}>\r\n                                  On track\r\n                                </Typography>\r\n                              )}\r\n                              {project.category_name === 'Renewable Energy' && (\r\n                                <Typography variant=\"caption\" sx={{ color: colors.success, fontWeight: 600 }}>\r\n                                  Excellent\r\n                                </Typography>\r\n                              )}\r\n                              {project.category_name === 'Environment' && (\r\n                                <Typography variant=\"caption\" sx={{ color: colors.warning, fontWeight: 600 }}>\r\n                                  In progress\r\n                                </Typography>\r\n                              )}\r\n                              {(!project.category_name || !['Water & Sanitation', 'Renewable Energy', 'Environment'].includes(project.category_name)) && (\r\n                                <Typography variant=\"caption\" sx={{ color: colors.primary, fontWeight: 600 }}>\r\n                                  Active\r\n                                </Typography>\r\n                              )}\r\n                            </Box>\r\n                          </Box>\r\n\r\n                          {/* Progress Section */}\r\n                          <Box sx={{ mb: 3 }}>\r\n                            <Box sx={{ \r\n                              display: 'flex', \r\n                              justifyContent: 'space-between', \r\n                              alignItems: 'center',\r\n                              mb: 1\r\n                            }}>\r\n                              <Typography variant=\"body2\" sx={{ \r\n                                color: colors.text,\r\n                                fontWeight: 600\r\n                              }}>\r\n                                Progress\r\n                              </Typography>\r\n                              <Typography variant=\"body2\" sx={{ \r\n                                color: colors.text,\r\n                                fontWeight: 700\r\n                              }}>\r\n                                {project.category_name === 'Water & Sanitation' ? '85%' :\r\n                                 project.category_name === 'Renewable Energy' ? '92%' :\r\n                                 project.category_name === 'Environment' ? '70%' :\r\n                                 project.status === 'completed' ? '100%' :\r\n                                 project.status === 'ongoing' ? '65%' : '25%'}\r\n                              </Typography>\r\n                            </Box>\r\n                            <Box sx={{ \r\n                              height: 6,\r\n                              backgroundColor: colors.borderLight,\r\n                              borderRadius: 3,\r\n                              overflow: 'hidden'\r\n                            }}>\r\n                              <Box sx={{\r\n                                height: '100%',\r\n                                width: project.category_name === 'Water & Sanitation' ? '85%' :\r\n                                       project.category_name === 'Renewable Energy' ? '92%' :\r\n                                       project.category_name === 'Environment' ? '70%' :\r\n                                       project.status === 'completed' ? '100%' :\r\n                                       project.status === 'ongoing' ? '65%' : '25%',\r\n                                backgroundColor: project.category_name === 'Water & Sanitation' ? '#4CAF50' :\r\n                                                project.category_name === 'Renewable Energy' ? '#2196F3' :\r\n                                                project.category_name === 'Environment' ? '#FF9800' :\r\n                                                colors.primary,\r\n                                borderRadius: 3,\r\n                                transition: 'width 0.3s ease'\r\n                              }} />\r\n                            </Box>\r\n                          </Box>\r\n\r\n                          {/* Learn More Button */}\r\n                          <Button\r\n                            variant=\"contained\"\r\n                            endIcon={<ArrowForward />}\r\n                            fullWidth\r\n                            sx={{\r\n                              backgroundColor: project.category_name === 'Water & Sanitation' ? '#4CAF50' :\r\n                                              project.category_name === 'Renewable Energy' ? '#2196F3' :\r\n                                              project.category_name === 'Environment' ? '#FF9800' :\r\n                                              colors.primary,\r\n                              color: 'white',\r\n                              fontWeight: 600,\r\n                              py: 1.5,\r\n                              borderRadius: 2,\r\n                              textTransform: 'none',\r\n                              fontSize: '0.9rem',\r\n                              '&:hover': {\r\n                                backgroundColor: project.category_name === 'Water & Sanitation' ? '#45a049' :\r\n                                                project.category_name === 'Renewable Energy' ? '#1976d2' :\r\n                                                project.category_name === 'Environment' ? '#f57c00' :\r\n                                                colors.primaryDark,\r\n                                transform: 'translateY(-1px)',\r\n                              }\r\n                            }}\r\n                          >\r\n                            Learn More\r\n                          </Button>\r\n                        </CardContent>\r\n                      </Card>\r\n                    </motion.div>\r\n                  </div>\r\n                </Grid>\r\n              ))}\r\n            </Grid>\r\n\r\n          </motion.div>\r\n        )}\r\n      </Container>\r\n      <JoinMovement/>\r\n      <Footer/>\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default PublicProjectsDisplay;","import React, { useState, useEffect, useRef, useCallback } from 'react';\r\nimport { useNavigate, useLocation } from 'react-router-dom';\r\nimport {\r\n  Box, Typography, Card, CardContent, CardMedia,\r\n  Button, Chip, CircularProgress, Container, \r\n  IconButton, Stack\r\n} from '@mui/material';\r\nimport {\r\n  ArrowForward, ArrowBack, Visibility, LocationOn, \r\n  Star, CheckCircle, Assessment, TrendingUp, \r\n  NatureOutlined, ChevronRight\r\n} from '@mui/icons-material';\r\nimport { motion, AnimatePresence } from 'framer-motion';\r\nimport { useTheme } from '../../theme';\r\nimport { API_URL, STATIC_URL} from '../../config';\r\n\r\nconst API_BASE = API_URL;\r\n\r\nconst ProjectsDisplay = ({ initialCategoryFilter = null }) => {\r\n  const navigate = useNavigate();\r\n  const { colors, isDarkMode } = useTheme();\r\n  const location = useLocation();\r\n\r\n  const [projects, setProjects] = useState([]);\r\n  const [categories, setCategories] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [currentIndex, setCurrentIndex] = useState(0);\r\n  const [isTransitioning, setIsTransitioning] = useState(false);\r\n    const filterRef = useRef();\r\n  \r\n  const carouselRef = useRef(null);\r\n  const itemWidth = 320; // Width of each project card plus margin\r\n  const visibleItems = 4.5; // Show 4.5 items as requested\r\n\r\n  // Color palette matching design system\r\n  const designColors = {\r\n    primary: '#0a451c',\r\n    secondary: '#facf3c',\r\n    accent: '#9ccf9f',\r\n    info: '#3b82f6',\r\n    primaryLight: '#1a5a2c',\r\n    white: '#ffffff',\r\n    surface: '#fafafa',\r\n    gray100: '#f3f4f6',\r\n    gray200: '#e5e7eb',\r\n    gray300: '#d1d5db',\r\n    gray400: '#9ca3af',\r\n    gray500: '#6b7280',\r\n    gray600: '#4b5563',\r\n    text: '#1f2937',\r\n    textSecondary: '#6b7280',\r\n    border: '#e5e7eb'\r\n  };\r\n\r\n  // Placeholder data for when API data is not available\r\n  const placeholderProjects = [\r\n    {\r\n      id: 'placeholder-1',\r\n      title: 'Clean Water Initiative - Lake Victoria',\r\n      short_description: 'Providing sustainable clean water solutions to rural communities around Lake Victoria through innovative filtration systems.',\r\n      category_name: 'Water & Sanitation',\r\n      status: 'ongoing',\r\n      location: 'Kisumu County, Kenya',\r\n      is_featured: true,\r\n      featured_image: null,\r\n      person_name: 'Sarah Wanjiku'\r\n    },\r\n    {\r\n      id: 'placeholder-2',\r\n      title: 'Solar Energy for Schools Project',\r\n      short_description: 'Installing solar panel systems in primary schools across rural Kenya to improve learning conditions.',\r\n      category_name: 'Renewable Energy',\r\n      status: 'ongoing',\r\n      location: 'Nakuru County, Kenya',\r\n      is_featured: false,\r\n      featured_image: null,\r\n      person_name: 'James Kiprotich'\r\n    },\r\n    {\r\n      id: 'placeholder-3',\r\n      title: 'Community Reforestation Program',\r\n      short_description: 'Engaging local communities in large-scale tree planting initiatives to combat deforestation.',\r\n      category_name: 'Environment',\r\n      status: 'completed',\r\n      location: 'Mount Kenya Region',\r\n      is_featured: true,\r\n      featured_image: null,\r\n      person_name: 'Grace Muthoni'\r\n    },\r\n    {\r\n      id: 'placeholder-4',\r\n      title: 'Urban Waste Management System',\r\n      short_description: 'Implementing innovative waste sorting and recycling programs in Nairobi settlements.',\r\n      category_name: 'Waste Management',\r\n      status: 'planning',\r\n      location: 'Nairobi County, Kenya',\r\n      is_featured: false,\r\n      featured_image: null,\r\n      person_name: 'Peter Ochieng'\r\n    },\r\n    {\r\n      id: 'placeholder-5',\r\n      title: 'Agricultural Technology Training',\r\n      short_description: 'Teaching modern farming techniques and providing equipment to smallholder farmers.',\r\n      category_name: 'Agriculture',\r\n      status: 'ongoing',\r\n      location: 'Central Kenya',\r\n      is_featured: false,\r\n      featured_image: null,\r\n      person_name: 'Mary Nyambura'\r\n    },\r\n    {\r\n      id: 'placeholder-6',\r\n      title: 'Coastal Conservation Initiative',\r\n      short_description: 'Protecting marine ecosystems through community-based conservation programs.',\r\n      category_name: 'Marine Conservation',\r\n      status: 'ongoing',\r\n      location: 'Mombasa County, Kenya',\r\n      is_featured: true,\r\n      featured_image: null,\r\n      person_name: 'Hassan Omar'\r\n    }\r\n  ];\r\n\r\n  const placeholderCategories = [\r\n    { id: 'cat-1', name: 'Water & Sanitation' },\r\n    { id: 'cat-2', name: 'Renewable Energy' },\r\n    { id: 'cat-3', name: 'Environment' },\r\n    { id: 'cat-4', name: 'Waste Management' },\r\n    { id: 'cat-5', name: 'Agriculture' },\r\n    { id: 'cat-6', name: 'Marine Conservation' }\r\n  ];\r\n\r\n  const statusConfig = {\r\n    planning: { \r\n      label: 'Planning', \r\n      icon: <Assessment />,\r\n      color: designColors.info,\r\n      bgColor: `${designColors.info}20`\r\n    },\r\n    ongoing: { \r\n      label: 'Ongoing', \r\n      icon: <TrendingUp />,\r\n      color: designColors.accent,\r\n      bgColor: `${designColors.accent}20`\r\n    },\r\n    completed: { \r\n      label: 'Completed', \r\n      icon: <CheckCircle />,\r\n      color: designColors.primary,\r\n      bgColor: `${designColors.primary}20`\r\n    },\r\n    on_hold: { \r\n      label: 'On Hold', \r\n      icon: <Assessment />,\r\n      color: designColors.secondary,\r\n      bgColor: `${designColors.secondary}20`\r\n    }\r\n  };\r\n\r\n  // Data fetching effects\r\n  useEffect(() => {\r\n    const initializeData = async () => {\r\n      setLoading(true);\r\n      try {\r\n        await Promise.all([\r\n          fetchCategories(),\r\n        ]);\r\n        await fetchProjects();\r\n      } catch (error) {\r\n        console.error('Error initializing data:', error);\r\n        setProjects(placeholderProjects);\r\n        setCategories(placeholderCategories);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n    \r\n    initializeData();\r\n  }, []);\r\n\r\n  const fetchProjects = async () => {\r\n    try {\r\n      const response = await fetch(`${API_BASE}/projects`, {\r\n        method: 'GET',\r\n        credentials: 'include',\r\n        headers: { 'Content-Type': 'application/json' }\r\n      });\r\n\r\n      if (!response.ok) {\r\n        throw new Error(`HTTP error! status: ${response.status}`);\r\n      }\r\n\r\n      const data = await response.json();\r\n      \r\n      if (data.success) {\r\n        const allProjects = Array.isArray(data.data) ? data.data : [];\r\n        if (allProjects.length > 0) {\r\n          setProjects(allProjects);\r\n        } else {\r\n          setProjects(placeholderProjects);\r\n        }\r\n      } else if (Array.isArray(data)) {\r\n        setProjects(data.length > 0 ? data : placeholderProjects);\r\n      } else {\r\n        setProjects(placeholderProjects);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error fetching projects:', error);\r\n      setProjects(placeholderProjects);\r\n    }\r\n  };\r\n\r\n  const fetchCategories = async () => {\r\n    try {\r\n      const response = await fetch(`${API_BASE}/categories`, { credentials: 'include' });\r\n      if (!response.ok) throw new Error(`HTTP error! status: ${response.status}`);\r\n      \r\n      const data = await response.json();\r\n      if (data.success) {\r\n        const cats = Array.isArray(data.data) ? data.data : [];\r\n        setCategories(cats.length > 0 ? cats : placeholderCategories);\r\n      } else if (Array.isArray(data)) {\r\n        setCategories(data.length > 0 ? data : placeholderCategories);\r\n      } else {\r\n        setCategories(placeholderCategories);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error fetching categories:', error);\r\n      setCategories(placeholderCategories);\r\n    }\r\n  };\r\n\r\n  const handleProjectClick = (project, event) => {\r\n    console.log('Project clicked:', project.id, project.title);\r\n    \r\n    if (event) {\r\n      event.preventDefault();\r\n      event.stopPropagation();\r\n    }\r\n    \r\n    try {\r\n      navigate(`/project/${project.id}`, { \r\n        state: { \r\n          project,\r\n          from: location.pathname\r\n        },\r\n        replace: false\r\n      });\r\n    } catch (error) {\r\n      console.error('Navigation failed:', error);\r\n    }\r\n  };\r\n\r\n  const goToProjectsCatalogue = () => {\r\n    navigate('/projectscatalogue');\r\n  };\r\n\r\n  const getStatusInfo = (status) => {\r\n    return statusConfig[status] || statusConfig.planning;\r\n  };\r\n\r\n  const truncateText = (text, maxLength = 100) => {\r\n    if (!text) return '';\r\n    if (text.length <= maxLength) return text;\r\n    return text.substring(0, maxLength) + '...';\r\n  };\r\n\r\n  // Carousel navigation\r\n  const canGoNext = currentIndex < projects.length - Math.floor(visibleItems);\r\n  const canGoPrev = currentIndex > 0;\r\n\r\n  const goNext = () => {\r\n    if (canGoNext && !isTransitioning) {\r\n      setIsTransitioning(true);\r\n      setCurrentIndex(prev => prev + 1);\r\n      setTimeout(() => setIsTransitioning(false), 300);\r\n    }\r\n  };\r\n\r\n  const goPrev = () => {\r\n    if (canGoPrev && !isTransitioning) {\r\n      setIsTransitioning(true);\r\n      setCurrentIndex(prev => prev - 1);\r\n      setTimeout(() => setIsTransitioning(false), 300);\r\n    }\r\n  };\r\n\r\n  // Auto-scroll functionality (optional)\r\n  useEffect(() => {\r\n    const interval = setInterval(() => {\r\n      if (canGoNext) {\r\n        goNext();\r\n      } else {\r\n        setCurrentIndex(0);\r\n      }\r\n    }, 8000); // Auto-scroll every 8 seconds\r\n\r\n    return () => clearInterval(interval);\r\n  }, [canGoNext, currentIndex]);\r\n\r\n  if (loading) {\r\n    return (\r\n      <Box sx={{ \r\n        display: 'flex', \r\n        flexDirection: 'column',\r\n        alignItems: 'center', \r\n        py: 8\r\n      }}>\r\n        <CircularProgress \r\n          size={50} \r\n          thickness={4}\r\n          sx={{ color: designColors.primary, mb: 2 }} \r\n        />\r\n        <Typography sx={{ \r\n          color: designColors.textSecondary,\r\n          fontWeight: 500,\r\n          fontSize: '0.85rem'\r\n        }}>\r\n          Loading projects...\r\n        </Typography>\r\n      </Box>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Box sx={{ \r\n      backgroundColor: designColors.white,\r\n      fontFamily: '\"Inter\", sans-serif',\r\n      position: 'relative',\r\n      py: 6\r\n    }}>\r\n      <Container maxWidth=\"xl\">\r\n        {/* Header Section */}\r\n        <motion.div\r\n          initial={{ opacity: 0, y: -20 }}\r\n          animate={{ opacity: 1, y: 0 }}\r\n          transition={{ duration: 0.8 }}\r\n        >\r\n          <Box sx={{ \r\n            display: 'flex',\r\n            justifyContent: 'space-between',\r\n            alignItems: 'flex-start',\r\n            mb: 4,\r\n            ml: '96px' // 1 inch margin (96px = 1 inch at 96 DPI)\r\n          }}>\r\n            {/* Left side - Title and description */}\r\n            <Box>\r\n              <Typography \r\n                variant=\"h3\"\r\n                sx={{ \r\n                  fontSize: '2.5rem',\r\n                  fontWeight: 700,\r\n                  color: designColors.primary,\r\n                  mb: 2,\r\n                  letterSpacing: '-0.02em'\r\n                }}\r\n              >\r\n                Recent Projects\r\n              </Typography>\r\n              \r\n              <Typography \r\n                sx={{ \r\n                  color: designColors.textSecondary,\r\n                  fontWeight: 400,\r\n                  fontSize: '1.1rem',\r\n                  maxWidth: '500px',\r\n                  lineHeight: 1.6,\r\n                  mb: 3\r\n                }}\r\n              >\r\nOur completed and ongoing projects are acively creating a tremendous change in Africa. We continue to roll out new projects following gaps we identify from the societies we are impacting.              </Typography>\r\n\r\n              {/* Stats */}\r\n              <Stack direction=\"row\" spacing={3} sx={{ mb: 2 }}>\r\n                <Box sx={{ textAlign: 'center' }}>\r\n                  <Typography sx={{ \r\n                    fontSize: '2rem', \r\n                    fontWeight: 700, \r\n                    color: designColors.primary \r\n                  }}>\r\n                    {projects.length}\r\n                  </Typography>\r\n                  <Typography sx={{ \r\n                    fontSize: '0.8rem', \r\n                    color: designColors.textSecondary,\r\n                    fontWeight: 500\r\n                  }}>\r\n                    Active Projects\r\n                  </Typography>\r\n                </Box>\r\n                \r\n                <Box sx={{ textAlign: 'center' }}>\r\n                  <Typography sx={{ \r\n                    fontSize: '2rem', \r\n                    fontWeight: 700, \r\n                    color: designColors.accent \r\n                  }}>\r\n                    {projects.filter(p => p.status === 'completed').length}\r\n                  </Typography>\r\n                  <Typography sx={{ \r\n                    fontSize: '0.8rem', \r\n                    color: designColors.textSecondary,\r\n                    fontWeight: 500\r\n                  }}>\r\n                    Completed\r\n                  </Typography>\r\n                </Box>\r\n                \r\n                <Box sx={{ textAlign: 'center' }}>\r\n                  <Typography sx={{ \r\n                    fontSize: '2rem', \r\n                    fontWeight: 700, \r\n                    color: designColors.secondary \r\n                  }}>\r\n                    {projects.filter(p => p.is_featured).length}\r\n                  </Typography>\r\n                  <Typography sx={{ \r\n                    fontSize: '0.8rem', \r\n                    color: designColors.textSecondary,\r\n                    fontWeight: 500\r\n                  }}>\r\n                    Featured\r\n                  </Typography>\r\n                </Box>\r\n              </Stack>\r\n            </Box>\r\n\r\n            {/* Right side - Go to Projects Catalogue Button */}\r\n            <Box sx={{ \r\n              display: 'flex', \r\n              flexDirection: 'column',\r\n              alignItems: 'flex-end',\r\n              gap: 2\r\n            }}>\r\n              <Button\r\n                variant=\"contained\"\r\n                onClick={goToProjectsCatalogue}\r\n                endIcon={<ChevronRight />}\r\n                sx={{\r\n                  backgroundColor: designColors.primary,\r\n                  color: designColors.white,\r\n                  px: 3,\r\n                  py: 1.5,\r\n                  borderRadius: '12px',\r\n                  fontWeight: 600,\r\n                  fontSize: '0.95rem',\r\n                  textTransform: 'none',\r\n                  boxShadow: `0 4px 15px ${designColors.primary}40`,\r\n                  '&:hover': {\r\n                    backgroundColor: designColors.primaryLight,\r\n                    transform: 'translateY(-2px)',\r\n                    boxShadow: `0 8px 25px ${designColors.primary}60`\r\n                  }\r\n                }}\r\n              >\r\n                Go to Projects Catalogue\r\n              </Button>\r\n              \r\n              {/* Navigation arrows */}\r\n              <Stack direction=\"row\" spacing={1}>\r\n                <IconButton\r\n                  onClick={goPrev}\r\n                  disabled={!canGoPrev || isTransitioning}\r\n                  sx={{\r\n                    backgroundColor: canGoPrev ? designColors.surface : designColors.gray200,\r\n                    color: canGoPrev ? designColors.text : designColors.gray400,\r\n                    border: `1px solid ${designColors.border}`,\r\n                    '&:hover': {\r\n                      backgroundColor: canGoPrev ? designColors.gray100 : designColors.gray200,\r\n                    },\r\n                    '&:disabled': {\r\n                      opacity: 0.5\r\n                    }\r\n                  }}\r\n                >\r\n                  <ArrowBack />\r\n                </IconButton>\r\n                \r\n                <IconButton\r\n                  onClick={goNext}\r\n                  disabled={!canGoNext || isTransitioning}\r\n                  sx={{\r\n                    backgroundColor: canGoNext ? designColors.surface : designColors.gray200,\r\n                    color: canGoNext ? designColors.text : designColors.gray400,\r\n                    border: `1px solid ${designColors.border}`,\r\n                    '&:hover': {\r\n                      backgroundColor: canGoNext ? designColors.gray100 : designColors.gray200,\r\n                    },\r\n                    '&:disabled': {\r\n                      opacity: 0.5\r\n                    }\r\n                  }}\r\n                >\r\n                  <ArrowForward />\r\n                </IconButton>\r\n              </Stack>\r\n            </Box>\r\n          </Box>\r\n        </motion.div>\r\n\r\n        {/* Carousel Container */}\r\n        <Box sx={{ \r\n          position: 'relative',\r\n          overflow: 'hidden',\r\n          width: '100%',\r\n          ml: '96px' // 1 inch margin (96px = 1 inch at 96 DPI)\r\n        }}>\r\n          <motion.div\r\n            ref={carouselRef}\r\n            style={{\r\n              display: 'flex',\r\n              transform: `translateX(-${currentIndex * itemWidth}px)`,\r\n              transition: 'transform 0.5s cubic-bezier(0.4, 0, 0.2, 1)',\r\n              gap: '24px'\r\n            }}\r\n          >\r\n            {projects.map((project, index) => (\r\n              <motion.div\r\n                key={project.id}\r\n                style={{\r\n                  minWidth: '296px',\r\n                  flexShrink: 0\r\n                }}\r\n                initial={{ opacity: 0, y: 20 }}\r\n                animate={{ opacity: 1, y: 0 }}\r\n                transition={{ duration: 0.5, delay: index * 0.1 }}\r\n              >\r\n                <Card\r\n                  onClick={(event) => handleProjectClick(project, event)}\r\n                  sx={{\r\n                    height: '580px', // Fixed height for all cards\r\n                    width: '296px', // Fixed width for all cards\r\n                    borderRadius: '16px',\r\n                    overflow: 'hidden',\r\n                    backgroundColor: designColors.white,\r\n                    border: `1px solid ${designColors.border}`,\r\n                    boxShadow: '0 4px 12px rgba(0,0,0,0.05)',\r\n                    cursor: 'pointer',\r\n                    transition: 'all 0.4s cubic-bezier(0.4, 0, 0.2, 1)',\r\n                    position: 'relative',\r\n                    display: 'flex',\r\n                    flexDirection: 'column',\r\n                    flexShrink: 0, // Prevent shrinking\r\n                    '&:hover': {\r\n                      transform: 'translateY(-8px)',\r\n                      boxShadow: `0 12px 30px ${designColors.primary}20`,\r\n                      borderColor: `${designColors.primary}60`\r\n                    }\r\n                  }}\r\n                >\r\n                  {/* Hero Image Section */}\r\n                  <Box sx={{\r\n                    height: 240, // Fixed height for image section\r\n                    position: 'relative',\r\n                    flexShrink: 0,\r\n                    background: project.featured_image ? 'none' :\r\n                              project.category_name === 'Water & Sanitation' ? 'linear-gradient(135deg, #26BDE2 0%, #1976d2 100%)' :\r\n                              project.category_name === 'Renewable Energy' ? 'linear-gradient(135deg, #FCC30B 0%, #FF9800 100%)' :\r\n                              project.category_name === 'Environment' ? 'linear-gradient(135deg, #56C02B 0%, #4CAF50 100%)' :\r\n                              project.category_name === 'Waste Management' ? 'linear-gradient(135deg, #9C27B0 0%, #673AB7 100%)' :\r\n                              project.category_name === 'Agriculture' ? 'linear-gradient(135deg, #FF9800 0%, #FF5722 100%)' :\r\n                              project.category_name === 'Marine Conservation' ? 'linear-gradient(135deg, #0A97D9 0%, #1976d2 100%)' :\r\n                              `linear-gradient(135deg, ${designColors.primary} 0%, ${designColors.primaryLight} 100%)`,\r\n                    backgroundImage: project.featured_image ? \r\n                      `url(${project.featured_image.startsWith('http') \r\n                        ? project.featured_image \r\n                        : `${STATIC_URL || ''}${project.featured_image}`})` : \r\n                      'none',\r\n                    backgroundSize: 'cover',\r\n                    backgroundPosition: 'center',\r\n                    display: 'flex',\r\n                    alignItems: 'flex-end',\r\n                    color: 'white'\r\n                  }}>\r\n                    {project.featured_image && (\r\n                      <Box sx={{\r\n                        position: 'absolute',\r\n                        top: 0,\r\n                        left: 0,\r\n                        right: 0,\r\n                        bottom: 0,\r\n                        background: 'linear-gradient(0deg, rgba(0,0,0,0.6) 0%, transparent 50%)'\r\n                      }} />\r\n                    )}\r\n\r\n                    {/* Person name badge at bottom */}\r\n                    {project.person_name && (\r\n                      <Box sx={{\r\n                        position: 'absolute',\r\n                        bottom: 16,\r\n                        left: 16,\r\n                        backgroundColor: designColors.secondary,\r\n                        color: designColors.text,\r\n                        px: 2,\r\n                        py: 1,\r\n                        borderRadius: '8px',\r\n                        fontWeight: 600,\r\n                        fontSize: '0.85rem',\r\n                        zIndex: 2\r\n                      }}>\r\n                        {project.person_name}\r\n                      </Box>\r\n                    )}\r\n\r\n                    {/* Status Badge */}\r\n                    <Box sx={{\r\n                      position: 'absolute',\r\n                      top: 16,\r\n                      right: 16,\r\n                      backgroundColor: getStatusInfo(project.status).bgColor,\r\n                      color: getStatusInfo(project.status).color,\r\n                      px: 1.5,\r\n                      py: 0.5,\r\n                      borderRadius: '12px',\r\n                      display: 'flex',\r\n                      alignItems: 'center',\r\n                      gap: 0.5,\r\n                      backdropFilter: 'blur(10px)',\r\n                      zIndex: 2\r\n                    }}>\r\n                      {React.cloneElement(getStatusInfo(project.status).icon, { \r\n                        sx: { fontSize: 14 }\r\n                      })}\r\n                      <Typography sx={{ \r\n                        fontWeight: 600,\r\n                        fontSize: '0.7rem'\r\n                      }}>\r\n                        {getStatusInfo(project.status).label.toUpperCase()}\r\n                      </Typography>\r\n                    </Box>\r\n\r\n                    {/* Featured Badge */}\r\n                    {project.is_featured && (\r\n                      <Box sx={{\r\n                        position: 'absolute',\r\n                        top: 16,\r\n                        left: 16,\r\n                        backgroundColor: designColors.primary,\r\n                        color: designColors.white,\r\n                        px: 1.5,\r\n                        py: 0.5,\r\n                        borderRadius: '12px',\r\n                        display: 'flex',\r\n                        alignItems: 'center',\r\n                        gap: 0.5,\r\n                        zIndex: 2\r\n                      }}>\r\n                        <Star sx={{ fontSize: 14 }} />\r\n                        <Typography sx={{ \r\n                          fontWeight: 600,\r\n                          fontSize: '0.7rem'\r\n                        }}>\r\n                          FEATURED\r\n                        </Typography>\r\n                      </Box>\r\n                    )}\r\n                  </Box>\r\n\r\n                  <CardContent sx={{ \r\n                    p: 3, \r\n                    height: '340px', // Fixed height for content section (580 - 240 = 340)\r\n                    display: 'flex', \r\n                    flexDirection: 'column',\r\n                    justifyContent: 'space-between', // Distributes content evenly\r\n                    overflow: 'hidden' // Prevent content overflow\r\n                  }}>\r\n                    <Box sx={{ height: '220px', display: 'flex', flexDirection: 'column' }}>\r\n                      {/* Category */}\r\n                      <Chip\r\n                        label={project.category_name || 'Project'}\r\n                        size=\"small\"\r\n                        sx={{\r\n                          backgroundColor: `${designColors.primary}15`,\r\n                          color: designColors.primary,\r\n                          fontWeight: 600,\r\n                          fontSize: '0.7rem',\r\n                          mb: 2,\r\n                          alignSelf: 'flex-start'\r\n                        }}\r\n                      />\r\n\r\n                      {/* Project Title */}\r\n                      <Typography sx={{\r\n                        fontSize: '1.1rem',\r\n                        fontWeight: 700,\r\n                        color: designColors.text,\r\n                        mb: 2,\r\n                        lineHeight: 1.3,\r\n                        height: '2.6em', // Fixed height for exactly 2 lines\r\n                        overflow: 'hidden',\r\n                        display: '-webkit-box',\r\n                        WebkitLineClamp: 2,\r\n                        WebkitBoxOrient: 'vertical',\r\n                      }}>\r\n                        {project.title}\r\n                      </Typography>\r\n\r\n                      {/* Description */}\r\n                      <Typography sx={{\r\n                        color: designColors.textSecondary,\r\n                        lineHeight: 1.5,\r\n                        mb: 2,\r\n                        height: '4.5em', // Fixed height for exactly 3 lines\r\n                        overflow: 'hidden',\r\n                        display: '-webkit-box',\r\n                        WebkitLineClamp: 3,\r\n                        WebkitBoxOrient: 'vertical',\r\n                        fontSize: '0.85rem'\r\n                      }}>\r\n                        {truncateText(project.short_description || project.description, 120)}\r\n                      </Typography>\r\n                    </Box>\r\n\r\n                    <Box sx={{ height: '120px', display: 'flex', flexDirection: 'column', justifyContent: 'space-between' }}>\r\n                      {/* Location */}\r\n                      <Box sx={{ \r\n                        display: 'flex', \r\n                        alignItems: 'center',\r\n                        mb: 2,\r\n                        height: '24px', // Fixed height for location section\r\n                        overflow: 'hidden'\r\n                      }}>\r\n                        {project.location ? (\r\n                          <>\r\n                            <LocationOn sx={{ fontSize: 16, mr: 0.5, color: designColors.textSecondary }} />\r\n                            <Typography sx={{\r\n                              color: designColors.textSecondary,\r\n                              fontWeight: 500,\r\n                              fontSize: '0.8rem',\r\n                              overflow: 'hidden',\r\n                              textOverflow: 'ellipsis',\r\n                              whiteSpace: 'nowrap'\r\n                            }}>\r\n                              {project.location}\r\n                            </Typography>\r\n                          </>\r\n                        ) : (\r\n                          <Box sx={{ height: '16px' }} /> // Empty space if no location\r\n                        )}\r\n                      </Box>\r\n\r\n                      {/* Learn More Button */}\r\n                      <Button\r\n                        variant=\"outlined\"\r\n                        endIcon={<ArrowForward sx={{ fontSize: 16 }} />}\r\n                        fullWidth\r\n                        sx={{\r\n                          borderColor: designColors.primary,\r\n                          color: designColors.primary,\r\n                          fontWeight: 600,\r\n                          borderRadius: '10px',\r\n                          textTransform: 'none',\r\n                          fontSize: '0.85rem',\r\n                          py: 1.2,\r\n                          '&:hover': {\r\n                            backgroundColor: designColors.primary,\r\n                            color: designColors.white,\r\n                            transform: 'translateY(-1px)',\r\n                            borderColor: designColors.primary\r\n                          }\r\n                        }}\r\n                      >\r\n                        Read Story\r\n                      </Button>\r\n                    </Box>\r\n                  </CardContent>\r\n                </Card>\r\n              </motion.div>\r\n            ))}\r\n          </motion.div>\r\n        </Box>\r\n\r\n        {/* Pagination dots */}\r\n        <Box sx={{ \r\n          display: 'flex', \r\n          justifyContent: 'center', \r\n          alignItems: 'center',\r\n          mt: 4,\r\n          gap: 1\r\n        }}>\r\n          {Array.from({ length: Math.max(1, projects.length - Math.floor(visibleItems) + 1) }).map((_, index) => (\r\n            <Box\r\n              key={index}\r\n              onClick={() => {\r\n                if (!isTransitioning) {\r\n                  setCurrentIndex(index);\r\n                }\r\n              }}\r\n              sx={{\r\n                width: currentIndex === index ? 24 : 8,\r\n                height: 8,\r\n                borderRadius: 4,\r\n                backgroundColor: currentIndex === index ? designColors.primary : designColors.gray300,\r\n                cursor: 'pointer',\r\n                transition: 'all 0.3s ease',\r\n                '&:hover': {\r\n                  backgroundColor: currentIndex === index ? designColors.primaryLight : designColors.gray400\r\n                }\r\n              }}\r\n            />\r\n          ))}\r\n        </Box>\r\n      </Container>\r\n\r\n      {/* Responsive Styles */}\r\n      <style>{`\r\n        @media (max-width: 768px) {\r\n          .carousel-container {\r\n            padding: 0 16px;\r\n          }\r\n        }\r\n      `}</style>\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default ProjectsDisplay;","import React, { useEffect, useState, useCallback } from 'react';\r\nimport { Calendar, ArrowRight } from 'lucide-react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { useTheme } from '../../theme';\r\n\r\n// Configuration\r\nconst API_URL = process.env.REACT_APP_API_URL || 'http://localhost:5000/api';\r\n\r\nconst LatestNewsSection = () => {\r\n  const [article, setArticle] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  const navigate = useNavigate();\r\n  \r\n  // Use theme context\r\n  const { colors, isDarkMode } = useTheme();\r\n\r\n  const fetchLatestArticle = useCallback(async () => {\r\n    try {\r\n      setLoading(true);\r\n      setError(null);\r\n      \r\n      const endpoints = ['/blogs', '/blogs/published', '/articles'];\r\n      let response = null;\r\n      \r\n      for (const endpoint of endpoints) {\r\n        try {\r\n          response = await fetch(`${API_URL}${endpoint}`, {\r\n            method: 'GET',\r\n            headers: {\r\n              'Content-Type': 'application/json',\r\n              'Accept': 'application/json'\r\n            },\r\n            credentials: 'include'\r\n          });\r\n          \r\n          if (response.ok) break;\r\n        } catch (endpointError) {\r\n          console.error(`Endpoint ${endpoint} failed:`, endpointError);\r\n        }\r\n      }\r\n      \r\n      if (!response || !response.ok) {\r\n        throw new Error('Failed to fetch articles');\r\n      }\r\n      \r\n      const data = await response.json();\r\n      \r\n      // Handle different response structures\r\n      let articlesArray = [];\r\n      if (Array.isArray(data)) {\r\n        articlesArray = data;\r\n      } else if (data?.data && Array.isArray(data.data)) {\r\n        articlesArray = data.data;\r\n      } else if (data?.articles && Array.isArray(data.articles)) {\r\n        articlesArray = data.articles;\r\n      } else if (data?.blogs && Array.isArray(data.blogs)) {\r\n        articlesArray = data.blogs;\r\n      }\r\n      \r\n      // Get the latest published article\r\n      const latestArticle = articlesArray\r\n        .filter(blog => \r\n          blog.status === 'published' || \r\n          blog.is_published === true || \r\n          blog.published === true ||\r\n          (!blog.status && !blog.is_published && !blog.published)\r\n        )\r\n        .sort((a, b) => new Date(b.published_at || b.created_at) - new Date(a.published_at || a.created_at))\r\n        [0];\r\n      \r\n      if (latestArticle) {\r\n        setArticle({\r\n          ...latestArticle,\r\n          id: latestArticle.id || latestArticle._id || Math.random().toString(36),\r\n          title: latestArticle.title || 'Untitled Article',\r\n          excerpt: latestArticle.excerpt || latestArticle.summary || '',\r\n          content: latestArticle.content || latestArticle.body || '',\r\n          created_at: latestArticle.created_at || latestArticle.createdAt || new Date().toISOString(),\r\n          published_at: latestArticle.published_at || latestArticle.publishedAt || latestArticle.created_at || latestArticle.createdAt,\r\n          is_featured: latestArticle.is_featured || latestArticle.featured || false,\r\n          is_news: latestArticle.is_news || latestArticle.category === 'news' || latestArticle.type === 'news' || false,\r\n        });\r\n      }\r\n      \r\n    } catch (err) {\r\n      console.error('Failed to fetch latest article:', err);\r\n      setError(err.message);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    fetchLatestArticle();\r\n  }, [fetchLatestArticle]);\r\n\r\n  const formatDate = useCallback((date) => {\r\n    if (!date) return 'Recent';\r\n    const now = new Date();\r\n    const articleDate = new Date(date);\r\n    const diffTime = Math.abs(now - articleDate);\r\n    const diffDays = Math.floor(diffTime / (1000 * 60 * 60 * 24));\r\n    \r\n    if (diffDays === 0) return 'Today';\r\n    if (diffDays === 1) return 'Yesterday';\r\n    if (diffDays < 7) return `${diffDays} days ago`;\r\n    \r\n    return articleDate.toLocaleDateString('en-US', {\r\n      month: 'short', day: 'numeric', year: 'numeric'\r\n    });\r\n  }, []);\r\n\r\n  const handleArticleClick = useCallback(() => {\r\n    if (article) {\r\n      // Navigate to the insights page and trigger the article view\r\n      // We'll use URL parameters to identify which article to show\r\n      navigate(`/insights?article=${article.id}`);\r\n    }\r\n  }, [article, navigate]);\r\n\r\n  const handleNewsroomClick = useCallback(() => {\r\n    // Navigate to insights page with news section active\r\n    navigate('/insights?section=news');\r\n  }, [navigate]);\r\n\r\n  const styles = {\r\n    section: {\r\n      padding: '60px 0 40px',\r\n      backgroundColor: isDarkMode ? colors.background : colors.background,\r\n      position: 'relative'\r\n    },\r\n    container: {\r\n      maxWidth: '1200px',\r\n      margin: '0 auto',\r\n      padding: '0 24px'\r\n    },\r\n    header: {\r\n      display: 'flex',\r\n      justifyContent: 'flex-end',\r\n      marginBottom: '24px'\r\n    },\r\n    newsroomLink: {\r\n      color: colors.primary,\r\n      fontSize: '14px',\r\n      fontWeight: 600,\r\n      textDecoration: 'none',\r\n      cursor: 'pointer',\r\n      transition: 'all 0.2s ease',\r\n      padding: '8px 0',\r\n      borderBottom: '2px solid transparent'\r\n    },\r\n    contentWrapper: {\r\n      cursor: 'pointer',\r\n      transition: 'all 0.3s ease',\r\n      padding: '32px',\r\n      borderRadius: '16px',\r\n      background: isDarkMode \r\n        ? 'rgba(255, 255, 255, 0.02)'\r\n        : 'rgba(0, 0, 0, 0.02)',\r\n      border: `1px solid ${isDarkMode ? 'rgba(255, 255, 255, 0.05)' : 'rgba(0, 0, 0, 0.05)'}`,\r\n      backdropFilter: 'blur(10px)'\r\n    },\r\n    title: {\r\n      fontSize: 'clamp(24px, 4vw, 36px)',\r\n      fontWeight: 700,\r\n      color: colors.text,\r\n      margin: '0 0 16px 0',\r\n      lineHeight: '1.3'\r\n    },\r\n    excerpt: {\r\n      color: colors.textSecondary,\r\n      fontSize: '16px',\r\n      lineHeight: '1.6',\r\n      margin: '0 0 24px 0'\r\n    },\r\n    footer: {\r\n      display: 'flex',\r\n      alignItems: 'center',\r\n      justifyContent: 'space-between',\r\n      flexWrap: 'wrap',\r\n      gap: '16px'\r\n    },\r\n    meta: {\r\n      display: 'flex',\r\n      alignItems: 'center',\r\n      gap: '6px',\r\n      color: colors.textSecondary,\r\n      fontSize: '14px',\r\n      fontWeight: 500\r\n    },\r\n    readButton: {\r\n      display: 'inline-flex',\r\n      alignItems: 'center',\r\n      gap: '8px',\r\n      padding: '12px 24px',\r\n      backgroundColor: colors.primary,\r\n      color: colors.white,\r\n      border: 'none',\r\n      borderRadius: '8px',\r\n      fontSize: '14px',\r\n      fontWeight: 600,\r\n      cursor: 'pointer',\r\n      transition: 'all 0.3s ease',\r\n      textDecoration: 'none'\r\n    },\r\n    loading: {\r\n      display: 'flex',\r\n      alignItems: 'center',\r\n      justifyContent: 'center',\r\n      minHeight: '200px',\r\n      color: colors.textSecondary\r\n    },\r\n    error: {\r\n      textAlign: 'center',\r\n      padding: '40px 0',\r\n      color: colors.error\r\n    },\r\n    empty: {\r\n      textAlign: 'center',\r\n      padding: '40px 0',\r\n      color: colors.textSecondary\r\n    }\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <section style={styles.section}>\r\n        <div style={styles.container}>\r\n          <div style={styles.loading}>\r\n            <p>Loading latest news...</p>\r\n          </div>\r\n        </div>\r\n      </section>\r\n    );\r\n  }\r\n\r\n  if (error) {\r\n    return (\r\n      <section style={styles.section}>\r\n        <div style={styles.container}>\r\n          <div style={styles.error}>\r\n            <p>Unable to load content: {error}</p>\r\n          </div>\r\n        </div>\r\n      </section>\r\n    );\r\n  }\r\n\r\n  if (!article) {\r\n    return (\r\n      <section style={styles.section}>\r\n        <div style={styles.container}>\r\n          <div style={styles.empty}>\r\n            <p>No articles available. Check back soon!</p>\r\n          </div>\r\n        </div>\r\n      </section>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <section style={styles.section}>\r\n      <div style={styles.container}>\r\n        <div style={styles.header}>\r\n          <button\r\n            onClick={handleNewsroomClick}\r\n            style={styles.newsroomLink}\r\n            onMouseEnter={(e) => {\r\n              e.target.style.color = colors.primaryDark || colors.primary;\r\n              e.target.style.borderBottomColor = colors.primary;\r\n            }}\r\n            onMouseLeave={(e) => {\r\n              e.target.style.color = colors.primary;\r\n              e.target.style.borderBottomColor = 'transparent';\r\n            }}\r\n          >\r\n            Go to Newsroom\r\n          </button>\r\n        </div>\r\n\r\n        <div \r\n          onClick={handleArticleClick}\r\n          style={styles.contentWrapper}\r\n          onMouseEnter={(e) => {\r\n            e.currentTarget.style.transform = 'translateY(-4px)';\r\n            e.currentTarget.style.background = isDarkMode \r\n              ? 'rgba(255, 255, 255, 0.04)'\r\n              : 'rgba(0, 0, 0, 0.04)';\r\n            e.currentTarget.style.border = `1px solid ${isDarkMode ? 'rgba(255, 255, 255, 0.1)' : 'rgba(0, 0, 0, 0.1)'}`;\r\n          }}\r\n          onMouseLeave={(e) => {\r\n            e.currentTarget.style.transform = 'translateY(0)';\r\n            e.currentTarget.style.background = isDarkMode \r\n              ? 'rgba(255, 255, 255, 0.02)'\r\n              : 'rgba(0, 0, 0, 0.02)';\r\n            e.currentTarget.style.border = `1px solid ${isDarkMode ? 'rgba(255, 255, 255, 0.05)' : 'rgba(0, 0, 0, 0.05)'}`;\r\n          }}\r\n        >\r\n          <h3 style={styles.title}>\r\n            {article.title}\r\n          </h3>\r\n          \r\n          {article.excerpt && (\r\n            <p style={styles.excerpt}>\r\n              {article.excerpt}\r\n            </p>\r\n          )}\r\n\r\n          <div style={styles.footer}>\r\n            <div style={styles.meta}>\r\n              <Calendar size={16} style={{ color: colors.primary }} />\r\n              <span>{formatDate(article.published_at || article.created_at)}</span>\r\n            </div>\r\n\r\n            <button \r\n              style={styles.readButton}\r\n              onClick={(e) => {\r\n                e.stopPropagation();\r\n                handleArticleClick();\r\n              }}\r\n              onMouseEnter={(e) => {\r\n                e.target.style.backgroundColor = colors.primaryDark || colors.primary;\r\n                e.target.style.transform = 'translateY(-1px)';\r\n              }}\r\n              onMouseLeave={(e) => {\r\n                e.target.style.backgroundColor = colors.primary;\r\n                e.target.style.transform = 'translateY(0)';\r\n              }}\r\n            >\r\n              Learn More\r\n              <ArrowRight size={16} />\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <style jsx>{`\r\n        @media (max-width: 768px) {\r\n          .footer {\r\n            flex-direction: column !important;\r\n            align-items: center !important;\r\n            gap: 16px !important;\r\n          }\r\n          \r\n          .contentWrapper {\r\n            padding: 24px !important;\r\n          }\r\n          \r\n          .title {\r\n            font-size: 22px !important;\r\n          }\r\n        }\r\n      `}</style>\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default LatestNewsSection;","import React, { useState } from \"react\";\r\nimport { MapPin, Globe, ArrowRight } from \"lucide-react\";\r\n\r\nexport default function GlassButton() {\r\n  const [isHovered, setIsHovered] = useState(false);\r\n  const [isPressed, setIsPressed] = useState(false);\r\n\r\n  const handleClick = () => {\r\n    setIsPressed(true);\r\n    setTimeout(() => setIsPressed(false), 150);\r\n    setTimeout(() => {\r\n      window.location.href = \"/findbycountry\";\r\n    }, 200);\r\n  };\r\n\r\n  return (\r\n    <div className=\"glass-button-container\">\r\n      <div\r\n        className={`glass-button ${isHovered ? 'hovered' : ''} ${isPressed ? 'pressed' : ''}`}\r\n        onMouseEnter={() => setIsHovered(true)}\r\n        onMouseLeave={() => setIsHovered(false)}\r\n        onClick={handleClick}\r\n      >\r\n        {/* Background glow effect */}\r\n        <div className=\"glow-effect\"></div>\r\n        \r\n        {/* Main content */}\r\n        <div className=\"button-content\">\r\n          {/* Icon container */}\r\n          <div className=\"icon-container\">\r\n            <div className=\"icon-bg\">\r\n              <Globe className=\"globe-icon\" size={24} />\r\n            </div>\r\n            <MapPin className=\"map-pin\" size={20} />\r\n          </div>\r\n          \r\n          {/* Text content */}\r\n          <div className=\"text-content\">\r\n            <h3 className=\"main-title\">Find Us Globally</h3>\r\n            <p className=\"subtitle\">Discover ACEF in your country</p>\r\n          </div>\r\n          \r\n          {/* Arrow indicator */}\r\n          <div className=\"arrow-container\">\r\n            <ArrowRight className=\"arrow-icon\" size={20} />\r\n          </div>\r\n        </div>\r\n        \r\n        {/* Animated border */}\r\n        <div className=\"animated-border\"></div>\r\n      </div>\r\n\r\n      <style jsx>{`\r\n        .glass-button-container {\r\n          display: flex;\r\n          align-items: center;\r\n          justify-content: center;\r\n          min-height: 60vh;\r\n          padding: 2rem;\r\n          position: relative;\r\n          z-index: 1;\r\n        }\r\n\r\n        .glass-button {\r\n          position: relative;\r\n          width: 350px;\r\n          height: 120px;\r\n          background: rgba(255, 255, 255, 0.08);\r\n          backdrop-filter: blur(20px);\r\n          -webkit-backdrop-filter: blur(20px);\r\n          border: 1px solid rgba(255, 255, 255, 0.1);\r\n          border-radius: 20px;\r\n          cursor: pointer;\r\n          overflow: hidden;\r\n          transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);\r\n          user-select: none;\r\n          box-shadow: \r\n            0 8px 32px rgba(0, 0, 0, 0.1),\r\n            inset 0 1px 0 rgba(255, 255, 255, 0.1);\r\n        }\r\n\r\n        .glass-button:hover {\r\n          background: rgba(255, 255, 255, 0.12);\r\n          border-color: rgba(255, 255, 255, 0.2);\r\n          transform: translateY(-2px);\r\n          box-shadow: \r\n            0 12px 40px rgba(0, 0, 0, 0.15),\r\n            inset 0 1px 0 rgba(255, 255, 255, 0.15);\r\n        }\r\n\r\n        .glass-button.pressed {\r\n          transform: translateY(0px) scale(0.98);\r\n          background: rgba(255, 255, 255, 0.15);\r\n        }\r\n\r\n        .glow-effect {\r\n          position: absolute;\r\n          top: -50%;\r\n          left: -50%;\r\n          width: 200%;\r\n          height: 200%;\r\n          background: radial-gradient(\r\n            circle,\r\n            rgba(76, 175, 80, 0.1) 0%,\r\n            rgba(76, 175, 80, 0.05) 30%,\r\n            transparent 70%\r\n          );\r\n          opacity: 0;\r\n          transition: opacity 0.4s ease;\r\n          pointer-events: none;\r\n        }\r\n\r\n        .glass-button:hover .glow-effect {\r\n          opacity: 1;\r\n        }\r\n\r\n        .button-content {\r\n          display: flex;\r\n          align-items: center;\r\n          justify-content: space-between;\r\n          padding: 1.5rem 2rem;\r\n          height: 100%;\r\n          position: relative;\r\n          z-index: 2;\r\n        }\r\n\r\n        .icon-container {\r\n          position: relative;\r\n          display: flex;\r\n          align-items: center;\r\n          justify-content: center;\r\n        }\r\n\r\n        .icon-bg {\r\n          width: 50px;\r\n          height: 50px;\r\n          background: linear-gradient(135deg, rgba(76, 175, 80, 0.2), rgba(56, 142, 60, 0.2));\r\n          border-radius: 15px;\r\n          display: flex;\r\n          align-items: center;\r\n          justify-content: center;\r\n          border: 1px solid rgba(76, 175, 80, 0.3);\r\n          position: relative;\r\n        }\r\n\r\n        .globe-icon {\r\n          color: rgba(255, 255, 255, 0.9);\r\n          animation: rotate 8s linear infinite;\r\n        }\r\n\r\n        .map-pin {\r\n          position: absolute;\r\n          top: -5px;\r\n          right: -5px;\r\n          color: #4CAF50;\r\n          background: rgba(255, 255, 255, 0.1);\r\n          border-radius: 50%;\r\n          padding: 2px;\r\n          backdrop-filter: blur(10px);\r\n        }\r\n\r\n        .text-content {\r\n          flex: 1;\r\n          margin-left: 1.5rem;\r\n          text-align: left;\r\n        }\r\n\r\n        .main-title {\r\n          font-size: 1.2rem;\r\n          font-weight: 600;\r\n          color: rgba(255, 255, 255, 0.95);\r\n          margin: 0 0 0.25rem 0;\r\n          letter-spacing: -0.01em;\r\n        }\r\n\r\n        .subtitle {\r\n          font-size: 0.9rem;\r\n          color: rgba(255, 255, 255, 0.7);\r\n          margin: 0;\r\n          font-weight: 400;\r\n        }\r\n\r\n        .arrow-container {\r\n          display: flex;\r\n          align-items: center;\r\n          justify-content: center;\r\n          width: 40px;\r\n          height: 40px;\r\n          background: rgba(255, 255, 255, 0.1);\r\n          border-radius: 12px;\r\n          transition: all 0.3s ease;\r\n        }\r\n\r\n        .glass-button:hover .arrow-container {\r\n          background: rgba(76, 175, 80, 0.2);\r\n          transform: translateX(5px);\r\n        }\r\n\r\n        .arrow-icon {\r\n          color: rgba(255, 255, 255, 0.8);\r\n          transition: all 0.3s ease;\r\n        }\r\n\r\n        .glass-button:hover .arrow-icon {\r\n          color: #4CAF50;\r\n        }\r\n\r\n        .animated-border {\r\n          position: absolute;\r\n          top: 0;\r\n          left: 0;\r\n          right: 0;\r\n          bottom: 0;\r\n          border-radius: 20px;\r\n          padding: 1px;\r\n          background: linear-gradient(\r\n            45deg,\r\n            transparent,\r\n            rgba(76, 175, 80, 0.3),\r\n            transparent,\r\n            rgba(76, 175, 80, 0.3),\r\n            transparent\r\n          );\r\n          background-size: 300% 300%;\r\n          opacity: 0;\r\n          transition: opacity 0.3s ease;\r\n          pointer-events: none;\r\n        }\r\n\r\n        .glass-button:hover .animated-border {\r\n          opacity: 1;\r\n          animation: borderMove 3s ease-in-out infinite;\r\n        }\r\n\r\n        @keyframes rotate {\r\n          from {\r\n            transform: rotate(0deg);\r\n          }\r\n          to {\r\n            transform: rotate(360deg);\r\n          }\r\n        }\r\n\r\n        @keyframes borderMove {\r\n          0%, 100% {\r\n            background-position: 0% 50%;\r\n          }\r\n          50% {\r\n            background-position: 100% 50%;\r\n          }\r\n        }\r\n\r\n        /* Responsive design */\r\n        @media (max-width: 768px) {\r\n          .glass-button {\r\n            width: 300px;\r\n            height: 100px;\r\n          }\r\n\r\n          .button-content {\r\n            padding: 1rem 1.5rem;\r\n          }\r\n\r\n          .icon-bg {\r\n            width: 40px;\r\n            height: 40px;\r\n          }\r\n\r\n          .globe-icon {\r\n            width: 20px;\r\n            height: 20px;\r\n          }\r\n\r\n          .map-pin {\r\n            width: 16px;\r\n            height: 16px;\r\n          }\r\n\r\n          .main-title {\r\n            font-size: 1.1rem;\r\n          }\r\n\r\n          .subtitle {\r\n            font-size: 0.8rem;\r\n          }\r\n\r\n          .text-content {\r\n            margin-left: 1rem;\r\n          }\r\n        }\r\n\r\n        @media (max-width: 480px) {\r\n          .glass-button {\r\n            width: 280px;\r\n            height: 90px;\r\n          }\r\n\r\n          .main-title {\r\n            font-size: 1rem;\r\n          }\r\n\r\n          .subtitle {\r\n            font-size: 0.75rem;\r\n          }\r\n        }\r\n      `}</style>\r\n    </div>\r\n  );\r\n}","\r\n\r\n\r\nimport React, { useState, useEffect } from \"react\";\r\nimport { Download, Share2, Calendar, MapPin, DollarSign } from \"lucide-react\";\r\nimport axios from \"axios\";\r\nimport { API_URL, STATIC_URL } from '../../config';\r\n\r\n\r\nconst LatestEvent = () => {\r\n  const [latestEvent, setLatestEvent] = useState(null);\r\n  const [isHovered, setIsHovered] = useState(false);\r\n  \r\n  \r\n  // Mock navigate function - replace with actual useNavigate() hook\r\n  const navigate = (path) => {\r\n    console.log(\"Would navigate to:\", path);\r\n    // In your actual project: const navigate = useNavigate();\r\n  };\r\n\r\n  // Fetch latest event - restore your original logic\r\n  useEffect(() => {\r\n    const fetchLatestEvent = async () => {\r\n      try {\r\n        // Mock fetch for demo - replace with actual axios call\r\n        const { data } = await axios.get(`${API_URL}/events`);\r\n        \r\n\r\n        \r\n        if (data.length > 0) {\r\n          // Sort by start_date (nearest upcoming first) - your original logic\r\n          const sorted = data.sort(\r\n            (a, b) => new Date(a.start_date) - new Date(b.start_date)\r\n          );\r\n          setLatestEvent(sorted[0]);\r\n        }\r\n      } catch (error) {\r\n        console.error(\"Error fetching events:\", error);\r\n      }\r\n    };\r\n    fetchLatestEvent();\r\n  }, []);\r\n\r\n  // Navigate to event page with modal - your original logic\r\n  const handleEventClick = (event) => {\r\n    navigate(`/events?eventId=${event.id}`);\r\n  };\r\n\r\nconst handleDownload = (e) => {\r\n  e.stopPropagation();\r\n\r\n  const canvas = document.createElement(\"canvas\");\r\n  const ctx = canvas.getContext(\"2d\");\r\n  canvas.width = 400;\r\n  canvas.height = 600;\r\n\r\n  const img = new Image();\r\n  img.crossOrigin = \"anonymous\"; \r\n  img.src = `${STATIC_URL}${latestEvent.image_url}`;\r\n\r\n  img.onload = () => {\r\n    // Get aspect ratios\r\n    const imgAspect = img.width / img.height;\r\n    const canvasAspect = canvas.width / canvas.height;\r\n\r\n    let renderWidth, renderHeight, offsetX, offsetY;\r\n\r\n    if (imgAspect > canvasAspect) {\r\n      // Image is wider than canvas  fit height\r\n      renderHeight = canvas.height;\r\n      renderWidth = img.width * (canvas.height / img.height);\r\n      offsetX = (canvas.width - renderWidth) / 2;\r\n      offsetY = 0;\r\n    } else {\r\n      // Image is taller than canvas  fit width\r\n      renderWidth = canvas.width;\r\n      renderHeight = img.height * (canvas.width / img.width);\r\n      offsetX = 0;\r\n      offsetY = (canvas.height - renderHeight) / 2;\r\n    }\r\n\r\n    // Draw the image preserving aspect ratio\r\n    ctx.drawImage(img, offsetX, offsetY, renderWidth, renderHeight);\r\n\r\n    // Overlay a gradient at the bottom for text readability\r\n    const gradient = ctx.createLinearGradient(0, canvas.height - 150, 0, canvas.height);\r\n    gradient.addColorStop(0, \"rgba(0,0,0,0)\");\r\n    gradient.addColorStop(1, \"rgba(0,0,0,0.6)\");\r\n    ctx.fillStyle = gradient;\r\n    ctx.fillRect(0, canvas.height - 150, canvas.width, 150);\r\n\r\n    // Add text on top\r\n    ctx.fillStyle = \"white\";\r\n    ctx.font = \"bold 20px sans-serif\";\r\n    ctx.fillText(latestEvent.title, 20, canvas.height - 110);\r\n\r\n    ctx.font = \"14px sans-serif\";\r\n    ctx.fillText(\r\n      new Date(latestEvent.start_date).toLocaleDateString(),\r\n      20,\r\n      canvas.height - 80\r\n    );\r\n\r\n    ctx.fillText(latestEvent.location || \"Venue TBA\", 20, canvas.height - 50);\r\n\r\n    // Save poster\r\n    const link = document.createElement(\"a\");\r\n    link.download = `${latestEvent.title.replace(/\\s+/g, \"-\")}-poster.png`;\r\n    canvas.toBlob((blob) => {\r\n      link.href = URL.createObjectURL(blob);\r\n      link.click();\r\n    });\r\n  };\r\n\r\n  img.onerror = () => {\r\n    console.error(\"Failed to load event image for poster\");\r\n  };\r\n};\r\n\r\n\r\n\r\n\r\n  const handleShare = (e) => {\r\n    e.stopPropagation();\r\n    // Implement share logic\r\n    if (navigator.share) {\r\n      navigator.share({\r\n        title: latestEvent?.title,\r\n        text: latestEvent?.one_liner,\r\n        url: window.location.href,\r\n      });\r\n    } else {\r\n      // Fallback share logic\r\n      console.log(\"Share event\");\r\n    }\r\n  };\r\n\r\nif (!latestEvent) {\r\n  return null;\r\n}\r\n\r\n\r\n  const posterStyle = {\r\n    position: \"relative\",\r\n    width: \"400px\",\r\n    height: \"600px\",\r\n    margin: \"0 auto\",\r\n    borderRadius: \"24px\",\r\n    overflow: \"hidden\",\r\n    cursor: \"pointer\",\r\n    background: latestEvent.image_url && STATIC_URL\r\n      ? `linear-gradient(135deg, rgba(0,0,0,0.7) 0%, rgba(0,0,0,0.4) 40%, rgba(0,0,0,0.8) 100%), url(${STATIC_URL}${latestEvent.image_url})`\r\n      : \"linear-gradient(135deg, #667eea 0%, #764ba2 50%, #f093fb 100%)\",\r\n    backgroundSize: \"cover\",\r\n    backgroundPosition: \"center\",\r\n    boxShadow: \"0 25px 50px -12px rgba(0, 0, 0, 0.25), 0 0 0 1px rgba(255,255,255,0.1)\",\r\n    transform: isHovered ? \"scale(1.02)\" : \"scale(1)\",\r\n    transition: \"all 0.4s cubic-bezier(0.4, 0, 0.2, 1)\",\r\n  };\r\n\r\n  const overlayStyle = {\r\n    position: \"absolute\",\r\n    inset: 0,\r\n    background: \"linear-gradient(to bottom, transparent 0%, rgba(0,0,0,0.3) 50%, rgba(0,0,0,0.9) 100%)\",\r\n    zIndex: 1,\r\n  };\r\n\r\n  const contentStyle = {\r\n    position: \"absolute\",\r\n    inset: 0,\r\n    zIndex: 2,\r\n    padding: \"32px 24px\",\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    justifyContent: \"space-between\",\r\n    color: \"white\",\r\n  };\r\n\r\n  const titleStyle = {\r\n    fontSize: \"28px\",\r\n    fontWeight: \"800\",\r\n    lineHeight: \"1.2\",\r\n    marginBottom: \"8px\",\r\n    textShadow: \"0 2px 4px rgba(0,0,0,0.5)\",\r\n    background: \"linear-gradient(45deg, #fff, #e2e8f0)\",\r\n    WebkitBackgroundClip: \"text\",\r\n    WebkitTextFillColor: \"transparent\",\r\n    backgroundClip: \"text\",\r\n  };\r\n\r\n  const detailStyle = {\r\n    fontSize: \"11px\",\r\n    fontWeight: \"500\",\r\n    opacity: \"0.9\",\r\n    marginBottom: \"4px\",\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    gap: \"8px\",\r\n    textShadow: \"0 1px 2px rgba(0,0,0,0.5)\",\r\n  };\r\n\r\n  const one_linerStyle = {\r\n    fontSize: \"11px\",\r\n    lineHeight: \"1.4\",\r\n    opacity: \"0.8\",\r\n    marginBottom: \"16px\",\r\n    textShadow: \"0 1px 2px rgba(0,0,0,0.5)\",\r\n  };\r\n\r\n  const buttonContainerStyle = {\r\n    display: \"flex\",\r\n    gap: \"12px\",\r\n    opacity: isHovered ? 1 : 0,\r\n    transform: isHovered ? \"translateY(0)\" : \"translateY(10px)\",\r\n    transition: \"all 0.3s ease\",\r\n  };\r\n\r\n  const buttonStyle = {\r\n    flex: 1,\r\n    padding: \"12px 16px\",\r\n    border: \"1px solid rgba(255,255,255,0.2)\",\r\n    borderRadius: \"12px\",\r\n    backgroundColor: \"rgba(255,255,255,0.1)\",\r\n    backdropFilter: \"blur(10px)\",\r\n    color: \"white\",\r\n    fontSize: \"10px\",\r\n    fontWeight: \"600\",\r\n    cursor: \"pointer\",\r\n    transition: \"all 0.2s ease\",\r\n    textAlign: \"center\",\r\n  };\r\n\r\n  const utilityButtonsStyle = {\r\n    position: \"absolute\",\r\n    top: \"20px\",\r\n    right: \"20px\",\r\n    display: \"flex\",\r\n    gap: \"8px\",\r\n    zIndex: 3,\r\n  };\r\n\r\n  const utilityButtonStyle = {\r\n    width: \"36px\",\r\n    height: \"36px\",\r\n    borderRadius: \"50%\",\r\n    backgroundColor: \"rgba(255,255,255,0.1)\",\r\n    backdropFilter: \"blur(10px)\",\r\n    border: \"1px solid rgba(255,255,255,0.2)\",\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    justifyContent: \"center\",\r\n    cursor: \"pointer\",\r\n    transition: \"all 0.2s ease\",\r\n    color: \"white\",\r\n  };\r\n\r\n  // Placeholder image component\r\n  const PlaceholderImage = () => (\r\n    <div style={{\r\n      position: \"absolute\",\r\n      inset: 0,\r\n      background: \"linear-gradient(135deg, #667eea 0%, #764ba2 50%, #f093fb 100%)\",\r\n      display: \"flex\",\r\n      alignItems: \"center\",\r\n      justifyContent: \"center\",\r\n      fontSize: \"48px\",\r\n      opacity: \"0.3\",\r\n    }}>\r\n      \r\n    </div>\r\n  );\r\n\r\n  return (\r\n    <div\r\n      style={posterStyle}\r\n      onMouseEnter={() => setIsHovered(true)}\r\n      onMouseLeave={() => setIsHovered(false)}\r\n      onClick={() => handleEventClick(latestEvent)}\r\n    >\r\n      {!latestEvent.image_url && <PlaceholderImage />}\r\n      \r\n      <div style={overlayStyle} />\r\n      \r\n      {/* Utility buttons */}\r\n      <div style={utilityButtonsStyle}>\r\n        <button\r\n          style={utilityButtonStyle}\r\n          onClick={handleDownload}\r\n          onMouseEnter={(e) => e.target.style.backgroundColor = \"rgba(255,255,255,0.2)\"}\r\n          onMouseLeave={(e) => e.target.style.backgroundColor = \"rgba(255,255,255,0.1)\"}\r\n        >\r\n          <Download size={16} />\r\n        </button>\r\n        <button\r\n          style={utilityButtonStyle}\r\n          onClick={handleShare}\r\n          onMouseEnter={(e) => e.target.style.backgroundColor = \"rgba(255,255,255,0.2)\"}\r\n          onMouseLeave={(e) => e.target.style.backgroundColor = \"rgba(255,255,255,0.1)\"}\r\n        >\r\n          <Share2 size={16} />\r\n        </button>\r\n      </div>\r\n\r\n      <div style={contentStyle}>\r\n        <div>\r\n          <h1 style={titleStyle}>{latestEvent.title}</h1>\r\n          <p style={one_linerStyle}>\r\n            {latestEvent.one_liner?.length > 120\r\n              ? latestEvent.one_liner.substring(0, 120) + \"...\"\r\n              : latestEvent.one_liner || \"Join us for an amazing event experience\"}\r\n          </p>\r\n        </div>\r\n\r\n        <div>\r\n          <div style={detailStyle}>\r\n            <MapPin size={14} />\r\n            {latestEvent.location || \"Venue TBA\"}\r\n          </div>\r\n          <div style={detailStyle}>\r\n            <Calendar size={14} />\r\n            {new Date(latestEvent.start_date).toLocaleDateString(\"en-US\", {\r\n              month: \"short\",\r\n              day: \"numeric\",\r\n              year: \"numeric\"\r\n            })}\r\n          </div>\r\n          <div style={detailStyle}>\r\n            <DollarSign size={14} />\r\n            {latestEvent.is_paid\r\n              ? `${latestEvent.currency || \"$\"} ${latestEvent.price}`\r\n              : \"Free Entry\"}\r\n          </div>\r\n\r\n          <div style={buttonContainerStyle}>\r\n            <button\r\n              style={buttonStyle}\r\n              onMouseEnter={(e) => {\r\n                e.target.style.backgroundColor = \"rgba(255,255,255,0.2)\";\r\n                e.target.style.transform = \"translateY(-2px)\";\r\n              }}\r\n              onMouseLeave={(e) => {\r\n                e.target.style.backgroundColor = \"rgba(255,255,255,0.1)\";\r\n                e.target.style.transform = \"translateY(0)\";\r\n              }}\r\n              onClick={(e) => {\r\n                e.stopPropagation();\r\n                handleEventClick(latestEvent);\r\n              }}\r\n            >\r\n              MORE ABOUT\r\n            </button>\r\n            <button\r\n              style={{\r\n                ...buttonStyle,\r\n                background: \"linear-gradient(45deg, #667eea, #764ba2)\",\r\n                border: \"1px solid rgba(255,255,255,0.3)\",\r\n              }}\r\n              onMouseEnter={(e) => {\r\n                e.target.style.background = \"linear-gradient(45deg, #5a6fd8, #6a42a0)\";\r\n                e.target.style.transform = \"translateY(-2px)\";\r\n              }}\r\n              onMouseLeave={(e) => {\r\n                e.target.style.background = \"linear-gradient(45deg, #667eea, #764ba2)\";\r\n                e.target.style.transform = \"translateY(0)\";\r\n              }}\r\n              onClick={(e) => {\r\n                e.stopPropagation();\r\n                handleEventClick(latestEvent);\r\n              }}\r\n            >\r\n              APPLY NOW\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default LatestEvent;","import React, { useState, useEffect } from 'react';\r\nimport { useNavigate } from 'react-router-dom'; // Fixed import\r\nimport axios from 'axios';\r\nimport { Star, Quote, User, Users, Heart, Handshake } from 'lucide-react';\r\nimport { useTheme } from '../../theme';\r\nimport { API_URL, STATIC_URL } from '../../config';\r\nimport '../../styles/Testimonials.css';\r\nimport GlassButton from '../../components/GlassButton'; \r\n\r\nconst FeaturedTestimonial = ({ \r\n  title = \"Featured Testimonial\",\r\n  showCTA = true,\r\n  className = \"\",\r\n  LatestNewsSection // Pass the news section component as prop\r\n}) => {\r\n  const [featuredTestimonial, setFeaturedTestimonial] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState('');\r\n  const navigate = useNavigate(); // Fixed placement\r\n  \r\n  const { colors } = useTheme();\r\n\r\n  useEffect(() => {\r\n    fetchFeaturedTestimonial();\r\n  }, []);\r\n\r\n  const fetchFeaturedTestimonial = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const response = await axios.get(`${API_URL}/generaltestimonials/public`);\r\n      const testimonials = response.data;\r\n      \r\n      // Find the first featured testimonial\r\n      const featured = testimonials.find(t => t.featured === true);\r\n      setFeaturedTestimonial(featured || testimonials[0]); // Fallback to first if no featured\r\n      setError('');\r\n    } catch (err) {\r\n      console.error('Error fetching featured testimonial:', err);\r\n      setError('Failed to load featured testimonial');\r\n      setFeaturedTestimonial(null);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const getTypeIcon = (type) => {\r\n    switch (type?.toLowerCase()) {\r\n      case 'community':\r\n        return <Users className=\"role-icon\" />;\r\n      case 'volunteers':\r\n        return <Heart className=\"role-icon\" />;\r\n      case 'collaborators':\r\n        return <Handshake className=\"role-icon\" />;\r\n      default:\r\n        return <User className=\"role-icon\" />;\r\n    }\r\n  };\r\n\r\n  const getTypeDisplayName = (type) => {\r\n    switch (type?.toLowerCase()) {\r\n      case 'community':\r\n        return 'Community Member';\r\n      case 'volunteers':\r\n        return 'Volunteer';\r\n      case 'collaborators':\r\n        return 'Collaborator';\r\n      default:\r\n        return 'Member';\r\n    }\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"three-column-layout\">\r\n        {/* Video Background */}\r\n        <video \r\n          autoPlay \r\n          muted \r\n          loop \r\n          style={{\r\n            position: 'fixed',\r\n            top: 0,\r\n            left: 0,\r\n            width: '100%',\r\n            height: '100%',\r\n            objectFit: 'cover',\r\n            zIndex: -1\r\n          }}\r\n        >\r\n          <source src=\"https://www.videvo.net/video/abstract-dark-motion-background/885/abstract-dark-motion-background.mp4\" type=\"video/mp4\" />\r\n        </video>\r\n        \r\n        <div className=\"column-empty\"></div>\r\n        <div className=\"column-news\">\r\n          {LatestNewsSection && <LatestNewsSection />}\r\n        </div>\r\n        <div className=\"column-testimonial\">\r\n          <div className=\"testimonial-loading\">\r\n            <div className=\"loading-spinner\"></div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (error || !featuredTestimonial) {\r\n    return (\r\n      <div className=\"three-column-layout\">\r\n        {/* Video Background */}\r\n        <video \r\n          autoPlay \r\n          muted \r\n          loop \r\n          style={{\r\n            position: 'fixed',\r\n            top: 0,\r\n            left: 0,\r\n            width: '100%',\r\n            height: '100%',\r\n            objectFit: 'cover',\r\n            zIndex: -1\r\n          }}\r\n        >\r\n          <source src=\"https://www.videvo.net/video/abstract-dark-motion-background/885/abstract-dark-motion-background.mp4\" type=\"video/mp4\" />\r\n        </video>\r\n        \r\n        <div className=\"column-empty\"></div>\r\n        <div className=\"column-news\">\r\n          {LatestNewsSection && <LatestNewsSection />}\r\n        </div>\r\n        <div className=\"column-testimonial\">\r\n          <div className=\"testimonial-error\">\r\n            <h3>Unable to load testimonial</h3>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className={`three-column-layout ${className}`}>\r\n      {/* Video Background */}\r\n      <video \r\n        autoPlay \r\n        muted \r\n        loop \r\n        style={{\r\n          position: 'fixed',\r\n          top: 0,\r\n          left: 0,\r\n          width: '100%',\r\n          height: '100%',\r\n          objectFit: 'cover',\r\n          zIndex: -1\r\n        }}\r\n      >\r\n        <source src=\"https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/BigBuckBunny.mp4\" type=\"video/mp4\" />\r\n      </video>\r\n\r\n      {/* First Column - Latest News Full Height/Width */}\r\n      <div className=\"column-news\">\r\n        {LatestNewsSection && <LatestNewsSection />}\r\n      </div>\r\n\r\n      {/* Second Column - GlassButton */}\r\n      <div className=\"column-glass-button\">\r\n        <GlassButton />\r\n      </div>\r\n\r\n      {/* Third Column - Featured Testimonial */}\r\n      <div className=\"column-testimonial\">\r\n        <div className=\"testimonial-card-modern\">\r\n          {/* Background Image */}\r\n          <div className=\"testimonial-background\">\r\n            {featuredTestimonial.image ? (\r\n              <img\r\n                src={`${STATIC_URL}/uploads/testimonials/${featuredTestimonial.image}`}\r\n                alt={`${featuredTestimonial.first_name} ${featuredTestimonial.last_name}`}\r\n                className=\"background-image\"\r\n                onError={(e) => {\r\n                  e.target.style.display = 'none';\r\n                }}\r\n              />\r\n            ) : (\r\n              <div className=\"background-placeholder\">\r\n                <User size={80} />\r\n              </div>\r\n            )}\r\n            <div className=\"background-overlay\"></div>\r\n          </div>\r\n\r\n          {/* Content Overlay */}\r\n          <div className=\"testimonial-overlay\">\r\n            {/* Header */}\r\n            <div className=\"testimonial-header\">\r\n              <h2 className=\"testimonial-main-title\">TESTIMONIAL</h2>\r\n              <div className=\"star-rating\">\r\n                {[...Array(5)].map((_, i) => (\r\n                  <Star key={i} className=\"star filled\" />\r\n                ))}\r\n              </div>\r\n            </div>\r\n\r\n            {/* Quote */}\r\n            <div className=\"testimonial-quote-section\">\r\n              <blockquote className=\"testimonial-quote\">\r\n                \"{featuredTestimonial.testimonial}\"\r\n              </blockquote>\r\n            </div>\r\n\r\n            {/* Author Info */}\r\n            <div className=\"testimonial-author\">\r\n              <div className=\"author-avatar\">\r\n                {featuredTestimonial.image ? (\r\n                  <img\r\n                    src={`${STATIC_URL}/uploads/testimonials/${featuredTestimonial.image}`}\r\n                    alt={`${featuredTestimonial.first_name} ${featuredTestimonial.last_name}`}\r\n                    className=\"author-image\"\r\n                    onError={(e) => {\r\n                      e.target.style.display = 'none';\r\n                      e.target.nextSibling.style.display = 'flex';\r\n                    }}\r\n                  />\r\n                ) : null}\r\n                \r\n                <div className=\"author-placeholder\" style={{ display: featuredTestimonial.image ? 'none' : 'flex' }}>\r\n                  <User size={20} />\r\n                </div>\r\n              </div>\r\n              <div className=\"author-details\">\r\n                <h3 className=\"author-name\">\r\n                  {featuredTestimonial.first_name} {featuredTestimonial.last_name}\r\n                </h3>\r\n                <p className=\"author-role\">\r\n                  {getTypeDisplayName(featuredTestimonial.type)}\r\n                </p>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Website/Brand */}\r\n            <div className=\"testimonial-footer\">\r\n              <p className=\"website-url\">www.acef-ngo.com</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Call to Action - Fixed JSX */}\r\n        {showCTA && (\r\n          <div \r\n            className=\"testimonials-cta-modern\"\r\n            onClick={() => {\r\n              navigate('/impact');\r\n              // Wait for navigation to complete, then scroll to GeneralTestimonialsDisplay specifically\r\n              setTimeout(() => {\r\n                // Target the specific component by ID (recommended approach)\r\n                const testimonialsSection = document.getElementById('general-testimonials-section');\r\n                \r\n                if (testimonialsSection) {\r\n                  testimonialsSection.scrollIntoView({ \r\n                    behavior: 'smooth', \r\n                    block: 'start' \r\n                  });\r\n                } else {\r\n                  // Fallback: search for component-specific selectors\r\n                  const fallbackSelectors = [\r\n                    '[data-component=\"GeneralTestimonialsDisplay\"]',\r\n                    '.general-testimonials-display',\r\n                    '[class*=\"GeneralTestimonials\"]',\r\n                    '[class*=\"testimonials-display\"]'\r\n                  ];\r\n                  \r\n                  for (const selector of fallbackSelectors) {\r\n                    const element = document.querySelector(selector);\r\n                    if (element) {\r\n                      element.scrollIntoView({ \r\n                        behavior: 'smooth', \r\n                        block: 'start' \r\n                      });\r\n                      break;\r\n                    }\r\n                  }\r\n                }\r\n              }, 300);\r\n            }}\r\n            style={{ cursor: 'pointer' }}\r\n          >\r\n            <h3 className=\"cta-title\">Read more Stories</h3>\r\n            <p className=\"cta-description\">\r\n              Every story is a testament to ACEF's commitment to sustainability. Learn more.\r\n            </p>\r\n          \r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FeaturedTestimonial;","import React, { useState, useEffect } from 'react';\r\nimport { ChevronLeft, ChevronRight, ArrowRight, Calendar, Building2, MapPin as LocationIcon, Calendar as CalendarIcon, Users, Award, ExternalLink, TreePine, Leaf, Globe, Target, Eye, Clock, User, Star, Play, CheckCircle, Circle, Sparkles, ArrowUpRight, X, Newspaper, ChevronUp } from 'lucide-react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport Header from '../components/Header';\r\nimport Footer from '../components/Footer';\r\nimport PartnerSlider from '../components/PartnerSlider'; \r\nimport styles from '../styles/HomePage.module.css';\r\nimport JoinMovement from '../components/JoinMovement'; \r\nimport FounderSection from '../pages/AboutUs/FounderSection';\r\nimport MailList from '../components/MailList';\r\nimport { useTheme } from '../theme';\r\nimport UltraRealisticNatureHero from '../pages/GetInvolved/GetInvolvedHero'\r\nimport { API_URL, STATIC_URL } from '../config';\r\nimport AcefAboutInfo from '../pages/AboutUs/acefAboutInfo';\r\nimport VideoSection from '../pages/Insights/VideoSection'; \r\nimport ACEFHeroSection from '../components/HERO'; \r\nimport EnvironmentalCharity from '../pages/Impact/Impactstats';\r\nimport AccreditationsSlider from '../components/AccreditationsSlider'; \r\nimport PublicProjectsDisplay from '../pages/Projects/displayProjects';\r\nimport ProjectsDisplay from '../pages/Projects/ProjectsDisplay';\r\nimport LatestNewsSection from '../pages/Insights/LatestNewsSection';\r\nimport GlassButton from '../components/GlassButton'; \r\nimport LatestEvent from '../pages/Events/LatestEvent';\r\nimport FeaturedTestimonial from '../pages/Testimonials/FeaturedTestimonial'; \r\n\r\n// In your parent component\r\n\r\n\r\nconst Homepage = () => {\r\n  const navigate = useNavigate();\r\n  const [currentSlide, setCurrentSlide] = useState(0);\r\n  const [isScrolled, setIsScrolled] = useState(false);\r\n  const [scrollY, setScrollY] = useState(0);\r\n  const [hoveredCard, setHoveredCard] = useState(null);\r\n  const { colors, isDarkMode, theme } = useTheme();\r\n  \r\n  // News state\r\n  const [latestNews, setLatestNews] = useState(null);\r\n  const [showNewsPopup, setShowNewsPopup] = useState(false);\r\n  const [newsPopupClosed, setNewsPopupClosed] = useState(false);\r\n  const [loadingNews, setLoadingNews] = useState(true);\r\n  const [newsError, setNewsError] = useState(null);\r\n\r\n  // Blog/News state for general articles\r\n  const [featuredNews, setFeaturedNews] = useState(null);\r\n  const [recentBlogs, setRecentBlogs] = useState([]);\r\n  const [loadingArticles, setLoadingArticles] = useState(true);\r\n  const [articleError, setArticleError] = useState(null);\r\n\r\n  // Projects state\r\n  const [featuredProjects, setFeaturedProjects] = useState([]);\r\n  const [loadingProjects, setLoadingProjects] = useState(true);\r\n  const [projectError, setProjectError] = useState(null);\r\n\r\n  // SDG Goals information\r\n  const sdgGoalsInfo = {\r\n    1: { title: 'No Poverty', color: '#E5243B' },\r\n    2: { title: 'Zero Hunger', color: '#DDA63A' },\r\n    3: { title: 'Good Health and Well-being', color: '#4C9F38' },\r\n    4: { title: 'Quality Education', color: '#C5192D' },\r\n    6: { title: 'Clean Water and Sanitation', color: '#26BDE2' },\r\n    7: { title: 'Affordable and Clean Energy', color: '#FCC30B' },\r\n    13: { title: 'Climate Action', color: '#3F7E44' },\r\n    14: { title: 'Life Below Water', color: '#0A97D9' },\r\n    15: { title: 'Life on Land', color: '#56C02B' },\r\n  };\r\n\r\n  // Placeholder projects for fallback\r\n  const placeholderProjects = [\r\n    {\r\n      id: 'placeholder-1',\r\n      title: 'Clean Water Initiative - Lake Victoria',\r\n      short_description: 'Providing sustainable clean water solutions to rural communities around Lake Victoria through innovative filtration systems.',\r\n      category_name: 'Water & Sanitation',\r\n      status: 'ongoing',\r\n      location: 'Kisumu County, Kenya',\r\n      is_featured: true,\r\n      featured_image: null,\r\n      progress: 85\r\n    },\r\n    {\r\n      id: 'placeholder-2',\r\n      title: 'Community Reforestation Program',\r\n      short_description: 'Engaging local communities in large-scale tree planting initiatives to combat deforestation and promote biodiversity.',\r\n      category_name: 'Environment',\r\n      status: 'ongoing',\r\n      location: 'Mount Kenya Region',\r\n      is_featured: true,\r\n      featured_image: null,\r\n      progress: 70\r\n    }\r\n  ];\r\n\r\n  // Placeholder news for fallback\r\n  const placeholderNews = {\r\n    id: 'placeholder-news-1',\r\n    title: 'ACEF Launches Major Climate Initiative Across East Africa',\r\n    excerpt: 'Our foundation announces a groundbreaking multi-year program to combat climate change through grassroots community engagement and sustainable technology deployment.',\r\n    content: 'This comprehensive initiative will span across Kenya, Uganda, and Tanzania, focusing on reforestation, clean energy access, and water conservation projects.',\r\n    is_featured: true,\r\n    featured_image: null,\r\n    published_at: new Date().toISOString(),\r\n    author: 'ACEF Communications Team'\r\n  };\r\n  \r\n  // Hero slides with theme integration\r\n  const heroSlides = [\r\n    {\r\n      image: 'https://images.unsplash.com/photo-1441974231531-c6227db76b6e?w=1920&h=1080&fit=crop&auto=format&q=80',\r\n      title: 'ACEF',\r\n      description: 'Africa Climate and Environment Foundation',\r\n      accent: 'Empowering Grassroots for a Sustainable Future',\r\n      gradient: `linear-gradient(135deg, ${colors.primary}ee 0%, ${colors.secondary}cc 50%, ${colors.accent}ee 100%)`\r\n    },\r\n  ];\r\n\r\n  // Store last visited path for navigation\r\n  useEffect(() => {\r\n    sessionStorage.setItem('lastVisitedPath', '/');\r\n  }, []);\r\n\r\n  // Fetch latest news specifically for popup\r\n  useEffect(() => {\r\n    const fetchLatestNews = async () => {\r\n      try {\r\n        setLoadingNews(true);\r\n        const response = await fetch(`${API_URL}/blogs`);\r\n        \r\n        if (!response.ok) {\r\n          throw new Error(`HTTP ${response.status}: ${response.statusText}`);\r\n        }\r\n        \r\n        const data = await response.json();\r\n        const rawArticles = data.data || data || [];\r\n        \r\n        // Filter for published, approved news articles\r\n        const newsArticles = rawArticles.filter(item => {\r\n          const isPublished = item.status === 'published';\r\n          const isApproved = item.approved === true || \r\n                           item.approved === 1 || \r\n                           item.approved === '1' || \r\n                           item.approved === 'true';\r\n          const isNews = item.is_news === true || \r\n                        item.is_news === 1 || \r\n                        item.is_news === '1' || \r\n                        item.is_news === 'true';\r\n          return isPublished && isApproved && isNews;\r\n        });\r\n        \r\n        // Sort by published date\r\n        const sortedNews = newsArticles.sort((a, b) => {\r\n          const dateA = new Date(a.published_at || a.created_at);\r\n          const dateB = new Date(b.published_at || b.created_at);\r\n          return dateB - dateA;\r\n        });\r\n\r\n        if (sortedNews.length > 0) {\r\n          const latest = sortedNews[0];\r\n          setLatestNews(latest);\r\n          \r\n          // Show popup if latest news is featured and popup hasn't been closed\r\n          const popupClosedKey = `news-popup-closed-${latest.id}`;\r\n          const wasPopupClosed = localStorage.getItem(popupClosedKey) === 'true';\r\n          \r\n          if (latest.is_featured && !wasPopupClosed) {\r\n            setTimeout(() => setShowNewsPopup(true), 2000); // Show after 2 seconds\r\n          }\r\n        } else {\r\n          // Use placeholder if no news available\r\n          setLatestNews(placeholderNews);\r\n          if (!localStorage.getItem(`news-popup-closed-${placeholderNews.id}`)) {\r\n            setTimeout(() => setShowNewsPopup(true), 2000);\r\n          }\r\n        }\r\n        \r\n        setNewsError(null);\r\n      } catch (error) {\r\n        console.error('Error fetching latest news:', error);\r\n        setNewsError(error.message);\r\n        // Use placeholder on error\r\n        setLatestNews(placeholderNews);\r\n        if (!localStorage.getItem(`news-popup-closed-${placeholderNews.id}`)) {\r\n          setTimeout(() => setShowNewsPopup(true), 2000);\r\n        }\r\n      } finally {\r\n        setLoadingNews(false);\r\n      }\r\n    };\r\n\r\n    fetchLatestNews();\r\n  }, []);\r\n\r\n  // Fetch articles and separate news from blogs for the news section\r\n  useEffect(() => {\r\n    const fetchArticles = async () => {\r\n      try {\r\n        setLoadingArticles(true);\r\n        const response = await fetch(`${API_URL}/blogs`);\r\n        \r\n        if (!response.ok) {\r\n          throw new Error(`HTTP ${response.status}: ${response.statusText}`);\r\n        }\r\n        \r\n        const data = await response.json();\r\n        const rawArticles = data.data || data || [];\r\n        \r\n        // Filter for published and approved articles\r\n        const publishedApproved = rawArticles.filter(item => {\r\n          const isPublished = item.status === 'published';\r\n          const isApproved = item.approved === true || \r\n                           item.approved === 1 || \r\n                           item.approved === '1' || \r\n                           item.approved === 'true';\r\n          return isPublished && isApproved;\r\n        });\r\n        \r\n        // Sort by date\r\n        const sorted = publishedApproved.sort((a, b) => {\r\n          const dateA = new Date(a.published_at || a.created_at);\r\n          const dateB = new Date(b.published_at || b.created_at);\r\n          return dateB - dateA;\r\n        });\r\n\r\n        // Separate news and blogs\r\n        const newsArticles = sorted.filter(item => item.is_news === true || item.is_news === 1 || item.is_news === '1' || item.is_news === 'true');\r\n        const blogArticles = sorted.filter(item => !(item.is_news === true || item.is_news === 1 || item.is_news === '1' || item.is_news === 'true'));\r\n        \r\n        // Set featured news for section (most recent news article)\r\n        setFeaturedNews(newsArticles.length > 0 ? newsArticles[0] : null);\r\n        \r\n        // Set recent blogs\r\n        setRecentBlogs(blogArticles.slice(0, 3));\r\n        \r\n        setArticleError(null);\r\n      } catch (error) {\r\n        console.error('Error fetching articles:', error);\r\n        setArticleError(error.message);\r\n      } finally {\r\n        setLoadingArticles(false);\r\n      }\r\n    };\r\n\r\n    fetchArticles();\r\n  }, []);\r\n\r\n  // Fetch featured projects\r\n  useEffect(() => {\r\n    const fetchFeaturedProjects = async () => {\r\n      try {\r\n        setLoadingProjects(true);\r\n        \r\n        const response = await fetch(`${API_URL}/projects`);\r\n        \r\n        if (!response.ok) {\r\n          throw new Error(`HTTP ${response.status}: ${response.statusText}`);\r\n        }\r\n        \r\n        const data = await response.json();\r\n        const rawProjects = data.data || data || [];\r\n        \r\n        if (Array.isArray(rawProjects) && rawProjects.length > 0) {\r\n          // Filter out hidden projects\r\n          const visibleProjects = rawProjects.filter(project => !project.is_hidden);\r\n          \r\n          // Sort: featured projects first, then by date\r\n          const sortedProjects = visibleProjects.sort((a, b) => {\r\n            if (a.is_featured && !b.is_featured) return -1;\r\n            if (!a.is_featured && b.is_featured) return 1;\r\n            \r\n            const dateA = new Date(a.created_at || 0);\r\n            const dateB = new Date(b.created_at || 0);\r\n            return dateB - dateA;\r\n          });\r\n          \r\n          // Take up to 2 projects for minimalistic display\r\n          setFeaturedProjects(sortedProjects.slice(0, 2));\r\n        } else {\r\n          // Use placeholder data when no projects available\r\n          setFeaturedProjects(placeholderProjects);\r\n        }\r\n        \r\n        setProjectError(null);\r\n      } catch (error) {\r\n        console.error('Error fetching projects:', error);\r\n        setProjectError(error.message);\r\n        // Use placeholder data on error\r\n        setFeaturedProjects(placeholderProjects);\r\n      } finally {\r\n        setLoadingProjects(false);\r\n      }\r\n    };\r\n\r\n    fetchFeaturedProjects();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    const handleScroll = () => {\r\n      const newScrollY = window.scrollY;\r\n      setScrollY(newScrollY);\r\n      setIsScrolled(newScrollY > 50);\r\n    };\r\n\r\n    window.addEventListener('scroll', handleScroll, { passive: true });\r\n    \r\n    return () => {\r\n      window.removeEventListener('scroll', handleScroll);\r\n    };\r\n  }, []);\r\n\r\n  // Auto-slide hero\r\n  useEffect(() => {\r\n    const timer = setInterval(() => {\r\n      setCurrentSlide((prev) => (prev + 1) % heroSlides.length);\r\n    }, 6000);\r\n    return () => clearInterval(timer);\r\n  }, [heroSlides.length]);\r\n\r\n  const nextSlide = () => {\r\n    setCurrentSlide((prev) => (prev + 1) % heroSlides.length);\r\n  };\r\n\r\n  const prevSlide = () => {\r\n    setCurrentSlide((prev) => (prev - 1 + heroSlides.length) % heroSlides.length);\r\n  };\r\n\r\n  const handleCardInteraction = (cardType, index, isEntering) => {\r\n    setHoveredCard(isEntering ? `${cardType}-${index}` : null);\r\n  };\r\n\r\n  // Project navigation handlers\r\n  const handleProjectClick = (project, event) => {\r\n    if (event) {\r\n      event.preventDefault();\r\n      event.stopPropagation();\r\n    }\r\n    \r\n    sessionStorage.setItem('lastVisitedPath', '/');\r\n    \r\n    navigate(`/project/${project.id}`, { \r\n      state: { \r\n        project,\r\n        from: '/',\r\n        fromPath: '/'\r\n      }\r\n    });\r\n  };\r\n\r\n  const handleViewAllProjects = () => {\r\n    sessionStorage.setItem('lastVisitedPath', '/');\r\n    navigate('/projectscatalogue');\r\n  };\r\n\r\n  // News popup handlers\r\n  const handleCloseNewsPopup = () => {\r\n    setShowNewsPopup(false);\r\n    setNewsPopupClosed(true);\r\n    if (latestNews) {\r\n      localStorage.setItem(`news-popup-closed-${latestNews.id}`, 'true');\r\n    }\r\n  };\r\n\r\n  const handleNewsClick = (newsItem, event) => {\r\n    if (event) {\r\n      event.preventDefault();\r\n      event.stopPropagation();\r\n    }\r\n    \r\n    sessionStorage.setItem('lastVisitedPath', '/');\r\n    \r\n    // Navigate to blog/news detail page\r\n    navigate(`/blog/${newsItem.id}`, { \r\n      state: { \r\n        article: newsItem,\r\n        from: '/',\r\n        fromPath: '/'\r\n      }\r\n    });\r\n  };\r\n\r\n  const formatDate = (dateString) => {\r\n    if (!dateString) return 'Recently';\r\n    const date = new Date(dateString);\r\n    return date.toLocaleDateString('en-US', {\r\n      month: 'short',\r\n      day: 'numeric',\r\n      year: 'numeric'\r\n    });\r\n  };\r\n\r\n  const truncateText = (text, maxLength = 150) => {\r\n    if (!text) return '';\r\n    if (text.length <= maxLength) return text;\r\n    return text.substring(0, maxLength) + '...';\r\n  };\r\n\r\n  const getProjectProgress = (project) => {\r\n    if (project.progress !== undefined) return project.progress;\r\n    \r\n    // Calculate progress based on category and status\r\n    if (project.status === 'completed') return 100;\r\n    if (project.status === 'ongoing') {\r\n      if (project.category_name === 'Water & Sanitation') return 85;\r\n      if (project.category_name === 'Environment') return 70;\r\n      if (project.category_name === 'Renewable Energy') return 92;\r\n      return 65;\r\n    }\r\n    if (project.status === 'planning') return 25;\r\n    return 50;\r\n  };\r\n\r\n  const getStatusColor = (status) => {\r\n    switch (status) {\r\n      case 'ongoing': return colors.info;\r\n      case 'completed': return colors.success;\r\n      case 'planning': return colors.warning;\r\n      default: return colors.primary;\r\n    }\r\n  };\r\n\r\n  const getCategoryGradient = (categoryName) => {\r\n    switch (categoryName) {\r\n      case 'Water & Sanitation':\r\n        return 'linear-gradient(135deg, #26BDE2 0%, #1976d2 100%)';\r\n      case 'Renewable Energy':\r\n        return 'linear-gradient(135deg, #FCC30B 0%, #FF9800 100%)';\r\n      case 'Environment':\r\n        return 'linear-gradient(135deg, #56C02B 0%, #4CAF50 100%)';\r\n      case 'Waste Management':\r\n        return 'linear-gradient(135deg, #9C27B0 0%, #673AB7 100%)';\r\n      case 'Agriculture':\r\n        return 'linear-gradient(135deg, #FF9800 0%, #FF5722 100%)';\r\n      case 'Marine Conservation':\r\n        return 'linear-gradient(135deg, #0A97D9 0%, #1976d2 100%)';\r\n      default:\r\n        return `linear-gradient(135deg, ${colors.primary} 0%, ${colors.primaryDark} 100%)`;\r\n    }\r\n  };\r\n\r\n  const getCategoryIcon = (categoryName) => {\r\n    switch (categoryName) {\r\n      case 'Water & Sanitation': return '';\r\n      case 'Renewable Energy': return '';\r\n      case 'Environment': return '';\r\n      case 'Waste Management': return '';\r\n      case 'Agriculture': return '';\r\n      case 'Marine Conservation': return '';\r\n      default: return '';\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div \r\n      className={styles.homepage} \r\n      style={{ \r\n        position: 'relative',\r\n        backgroundColor: colors.background,\r\n        color: colors.text,\r\n        transition: 'background-color 0.3s ease, color 0.3s ease'\r\n      }}\r\n    >\r\n      <Header/>\r\n\r\n      {/* News Popup */}\r\n      {showNewsPopup && latestNews && !newsPopupClosed && (\r\n        <div style={{\r\n          position: 'fixed',\r\n          top: 0,\r\n          left: 0,\r\n          right: 0,\r\n          bottom: 0,\r\n          backgroundColor: 'rgba(0, 0, 0, 0.7)',\r\n          backdropFilter: 'blur(8px)',\r\n          zIndex: 9999,\r\n          display: 'flex',\r\n          alignItems: 'center',\r\n          justifyContent: 'center',\r\n          padding: '20px'\r\n        }}>\r\n          <div style={{\r\n            backgroundColor: colors.surface,\r\n            borderRadius: '16px',\r\n            maxWidth: '600px',\r\n            width: '100%',\r\n            maxHeight: '80vh',\r\n            overflow: 'hidden',\r\n            position: 'relative',\r\n            border: `1px solid ${colors.borderLight}`,\r\n            boxShadow: `0 20px 60px ${colors.primary}30`\r\n          }}>\r\n            {/* Close Button */}\r\n            <button\r\n              onClick={handleCloseNewsPopup}\r\n              style={{\r\n                position: 'absolute',\r\n                top: '16px',\r\n                right: '16px',\r\n                background: 'rgba(0, 0, 0, 0.5)',\r\n                border: 'none',\r\n                borderRadius: '50%',\r\n                width: '36px',\r\n                height: '36px',\r\n                display: 'flex',\r\n                alignItems: 'center',\r\n                justifyContent: 'center',\r\n                cursor: 'pointer',\r\n                zIndex: 2,\r\n                transition: 'all 0.3s ease'\r\n              }}\r\n              onMouseEnter={(e) => {\r\n                e.target.style.background = 'rgba(0, 0, 0, 0.7)';\r\n              }}\r\n              onMouseLeave={(e) => {\r\n                e.target.style.background = 'rgba(0, 0, 0, 0.5)';\r\n              }}\r\n            >\r\n              <X size={20} color=\"white\" />\r\n            </button>\r\n\r\n            {/* Featured Image or Gradient Background */}\r\n            <div style={{\r\n              height: '200px',\r\n              background: latestNews.featured_image \r\n                ? `url(${latestNews.featured_image.startsWith('http') \r\n                    ? latestNews.featured_image \r\n                    : `${STATIC_URL || ''}${latestNews.featured_image}`})`\r\n                : `linear-gradient(135deg, ${colors.primary} 0%, ${colors.secondary} 100%)`,\r\n              backgroundSize: 'cover',\r\n              backgroundPosition: 'center',\r\n              position: 'relative',\r\n              display: 'flex',\r\n              alignItems: 'center',\r\n              justifyContent: 'center'\r\n            }}>\r\n              {/* Overlay */}\r\n              <div style={{\r\n                position: 'absolute',\r\n                top: 0,\r\n                left: 0,\r\n                right: 0,\r\n                bottom: 0,\r\n                background: latestNews.featured_image \r\n                  ? 'linear-gradient(135deg, rgba(0,0,0,0.4) 0%, rgba(0,0,0,0.2) 100%)'\r\n                  : 'none'\r\n              }} />\r\n              \r\n              {/* Breaking News Badge */}\r\n              <div style={{\r\n                position: 'absolute',\r\n                top: '16px',\r\n                left: '16px',\r\n                backgroundColor: colors.error,\r\n                color: colors.white,\r\n                padding: '6px 16px',\r\n                borderRadius: '20px',\r\n                fontSize: '12px',\r\n                fontWeight: '700',\r\n                textTransform: 'uppercase',\r\n                letterSpacing: '0.5px',\r\n                zIndex: 1,\r\n                animation: 'pulse 2s infinite'\r\n              }}>\r\n                 Latest News\r\n              </div>\r\n\r\n              {/* News Icon for non-image backgrounds */}\r\n              {!latestNews.featured_image && (\r\n                <Newspaper size={60} style={{ color: colors.white, opacity: 0.9 }} />\r\n              )}\r\n            </div>\r\n\r\n            {/* Content */}\r\n            <div style={{ padding: '24px', maxHeight: '400px', overflowY: 'auto' }}>\r\n              <h2 style={{\r\n                fontSize: '1.5rem',\r\n                fontWeight: '700',\r\n                color: colors.text,\r\n                marginBottom: '12px',\r\n                lineHeight: '1.3'\r\n              }}>\r\n                {latestNews.title}\r\n              </h2>\r\n\r\n              <div style={{\r\n                display: 'flex',\r\n                alignItems: 'center',\r\n                gap: '12px',\r\n                marginBottom: '16px',\r\n                color: colors.textSecondary,\r\n                fontSize: '0.9rem'\r\n              }}>\r\n                <Calendar size={16} />\r\n                <span>{formatDate(latestNews.published_at)}</span>\r\n                {latestNews.author && (\r\n                  <>\r\n                    <span></span>\r\n                    <span>{latestNews.author}</span>\r\n                  </>\r\n                )}\r\n              </div>\r\n\r\n              <p style={{\r\n                color: colors.textSecondary,\r\n                lineHeight: '1.6',\r\n                marginBottom: '24px',\r\n                fontSize: '1rem'\r\n              }}>\r\n                {latestNews.excerpt || truncateText(latestNews.content, 200)}\r\n              </p>\r\n\r\n              <div style={{ \r\n                display: 'flex', \r\n                gap: '12px',\r\n                alignItems: 'center' \r\n              }}>\r\n                <button\r\n                  onClick={(e) => handleNewsClick(latestNews, e)}\r\n                  style={{\r\n                    backgroundColor: colors.primary,\r\n                    color: colors.white,\r\n                    border: 'none',\r\n                    padding: '12px 24px',\r\n                    borderRadius: '8px',\r\n                    fontWeight: '600',\r\n                    cursor: 'pointer',\r\n                    display: 'flex',\r\n                    alignItems: 'center',\r\n                    gap: '8px',\r\n                    transition: 'all 0.3s ease'\r\n                  }}\r\n                  onMouseEnter={(e) => {\r\n                    e.target.style.backgroundColor = colors.primaryDark;\r\n                  }}\r\n                  onMouseLeave={(e) => {\r\n                    e.target.style.backgroundColor = colors.primary;\r\n                  }}\r\n                >\r\n                  Read Full Story\r\n                  <ArrowRight size={16} />\r\n                </button>\r\n                \r\n                <button\r\n                  onClick={handleCloseNewsPopup}\r\n                  style={{\r\n                    backgroundColor: 'transparent',\r\n                    color: colors.textSecondary,\r\n                    border: `1px solid ${colors.borderLight}`,\r\n                    padding: '12px 24px',\r\n                    borderRadius: '8px',\r\n                    fontWeight: '600',\r\n                    cursor: 'pointer',\r\n                    transition: 'all 0.3s ease'\r\n                  }}\r\n                  onMouseEnter={(e) => {\r\n                    e.target.style.backgroundColor = `${colors.primary}10`;\r\n                    e.target.style.borderColor = colors.primary;\r\n                  }}\r\n                  onMouseLeave={(e) => {\r\n                    e.target.style.backgroundColor = 'transparent';\r\n                    e.target.style.borderColor = colors.borderLight;\r\n                  }}\r\n                >\r\n                  Maybe Later\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      <section className={styles.hero} style={{ \r\n        position: 'relative', \r\n        overflow: 'hidden',\r\n        height: '100vh',\r\n        minHeight: '700px',\r\n        background: heroSlides[currentSlide].gradient\r\n      }}>\r\n        {/* Static Grid Background with Theme Colors */}\r\n        <div style={{\r\n          position: 'absolute',\r\n          top: 0,\r\n          left: 0,\r\n          right: 0,\r\n          bottom: 0,\r\n          backgroundImage: `\r\n            linear-gradient(${colors.primary}30 1px, transparent 1px),\r\n            linear-gradient(90deg, ${colors.primary}30 1px, transparent 1px)\r\n          `,\r\n          backgroundSize: '50px 50px',\r\n          zIndex: 1\r\n        }} />\r\n\r\n        <div className={styles.heroSlider}>\r\n          {heroSlides.map((slide, index) => (\r\n            <div\r\n              key={index}\r\n              className={`${styles.heroSlide} ${index === currentSlide ? styles.active : ''}`}\r\n              style={{\r\n                backgroundImage: `url(${slide.image})`,\r\n                filter: `brightness(0.3) contrast(1.2) saturate(1.3)`,\r\n                opacity: index === currentSlide ? 1 : 0,\r\n                transition: 'opacity 1.5s ease'\r\n              }}\r\n            >\r\n              <div style={{\r\n                position: 'absolute',\r\n                top: 0,\r\n                left: 0,\r\n                right: 0,\r\n                bottom: 0,\r\n                background: slide.gradient,\r\n                opacity: 0.6,\r\n                mixBlendMode: 'overlay'\r\n              }} />\r\n            </div>\r\n          ))}\r\n        </div>\r\n        \r\n        {/* Centered Hero Content */}\r\n        <div className={styles.heroContent} style={{ \r\n          position: 'relative', \r\n          zIndex: 10,\r\n          display: 'flex',\r\n          alignItems: 'center',\r\n          justifyContent: 'center',\r\n          height: '100%',\r\n          textAlign: 'center'\r\n        }}>\r\n          <div className={styles.container} style={{ maxWidth: '1200px', margin: '0 auto', padding: '0 20px' }}>\r\n            <div className={styles.heroText} style={{ \r\n              maxWidth: '900px',\r\n              margin: '0 auto'\r\n            }}>\r\n              <h1\r\n                style={{\r\n                  fontSize: 'clamp(3rem, 8vw, 6rem)',\r\n                  fontWeight: '700',\r\n                  background: `linear-gradient(135deg, ${colors.white} 0%, ${colors.secondary} 50%, ${colors.accent} 100%)`,\r\n                  WebkitBackgroundClip: 'text',\r\n                  WebkitTextFillColor: 'transparent',\r\n                  backgroundClip: 'text',\r\n                  lineHeight: '1.1',\r\n                  marginBottom: '25px',\r\n                  letterSpacing: '-0.02em',\r\n                  textShadow: `0 0 50px ${colors.primary}60`\r\n                }}\r\n              >\r\n                {heroSlides[currentSlide].title}\r\n              </h1>\r\n\r\n              <p\r\n                style={{\r\n                  fontSize: '1.3rem',\r\n                  color: colors.white,\r\n                  marginBottom: '20px',\r\n                  fontWeight: '400',\r\n                  lineHeight: '1.6',\r\n                  maxWidth: '700px',\r\n                  margin: '0 auto 20px auto',\r\n                  textShadow: '0 2px 20px rgba(0, 0, 0, 0.5)'\r\n                }}\r\n              >\r\n                {heroSlides[currentSlide].description}\r\n              </p>\r\n\r\n              <p\r\n                style={{\r\n                  fontSize: '1.1rem',\r\n                  color: colors.white,\r\n                  marginBottom: '40px',\r\n                  fontWeight: '300',\r\n                  lineHeight: '1.6',\r\n                  maxWidth: '600px',\r\n                  margin: '0 auto 40px auto',\r\n                  textShadow: '0 2px 20px rgba(0, 0, 0, 0.5)'\r\n                }}\r\n              >\r\n                {heroSlides[currentSlide].accent}\r\n              </p>\r\n              \r\n              {/* <div \r\n                className={styles.heroActions}\r\n                style={{ display: 'flex', gap: '20px', alignItems: 'center', justifyContent: 'center' }}\r\n              >\r\n                <button \r\n                  style={{\r\n                    backgroundColor: colors.primary,\r\n                    color: colors.white,\r\n                    padding: '16px 32px',\r\n                    borderRadius: '12px',\r\n                    border: 'none',\r\n                    fontWeight: '600',\r\n                    fontSize: '16px',\r\n                    cursor: 'pointer',\r\n                    display: 'inline-flex',\r\n                    alignItems: 'center',\r\n                    gap: '8px',\r\n                    transition: 'all 0.3s ease',\r\n                    boxShadow: `0 4px 16px rgba(10, 69, 28, 0.3)`,\r\n                    fontFamily: '\"Nunito Sans\", sans-serif'\r\n                  }}\r\n                  onMouseEnter={(e) => {\r\n                    e.target.style.transform = 'scale(1.05) translateY(-2px)';\r\n                    e.target.style.boxShadow = `0 15px 40px ${colors.\r\n              </p>\r\n              \r\n\r\n */}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n              \r\n              <div \r\n                className={styles.heroActions}\r\n                style={{ display: 'flex', gap: '20px', alignItems: 'center', justifyContent: 'center' }}\r\n              >\r\n                <button \r\n                  style={{\r\n                    backgroundColor: colors.primary,\r\n                    color: colors.white,\r\n                    padding: '16px 32px',\r\n                    borderRadius: '12px',\r\n                    border: 'none',\r\n                    fontWeight: '600',\r\n                    fontSize: '16px',\r\n                    cursor: 'pointer',\r\n                    display: 'inline-flex',\r\n                    alignItems: 'center',\r\n                    gap: '8px',\r\n                    transition: 'all 0.3s ease',\r\n                    boxShadow: `0 4px 16px rgba(10, 69, 28, 0.3)`,\r\n                    fontFamily: '\"Nunito Sans\", sans-serif'\r\n                  }}\r\n                  onMouseEnter={(e) => {\r\n                    e.target.style.transform = 'scale(1.05) translateY(-2px)';\r\n                    e.target.style.boxShadow = `0 15px 40px ${colors.secondary}70`;\r\n                  }}\r\n                  onMouseLeave={(e) => {\r\n                    e.target.style.transform = 'scale(1) translateY(0)';\r\n                    e.target.style.boxShadow = `0 4px 16px rgba(10, 69, 28, 0.3)`;\r\n                  }}\r\n                >\r\n                  Get Involved \r\n                  <ArrowRight size={20} />\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          \r\n        </div>\r\n      </section>\r\n\r\n      {/* Sections without animations */}\r\n      <div\r\n        style={{\r\n          backgroundColor: colors.background,\r\n          borderTop: `1px solid ${colors.border}20`\r\n        }}\r\n      >\r\n        <AcefAboutInfo/>\r\n      </div>\r\n\r\n\r\n\r\n\r\n      <div\r\n        style={{\r\n          background: `linear-gradient(135deg, ${colors.primary}10 0%, ${colors.accent}05 100%)`,\r\n          backdropFilter: 'blur(10px)',\r\n          borderTop: `1px solid ${colors.border}30`,\r\n          borderBottom: `1px solid ${colors.border}30`\r\n        }}\r\n      >\r\n                <LatestNewsSection/>\r\n\r\n                  {/* Featured Projects Section */}\r\n      <div\r\n        style={{\r\n          backgroundColor: isDarkMode ? colors.backgroundSecondary : colors.surface,\r\n          padding: '80px 0',\r\n          borderTop: `1px solid ${colors.border}20`\r\n        }}\r\n      >\r\n\r\n        <div style={{ maxWidth: '1200px', margin: '0 auto', padding: '0 20px' }}>\r\n          {/* Section Header */}\r\n          <div style={{ textAlign: 'center', marginBottom: '60px' }}>\r\n            <div style={{ \r\n              display: 'inline-flex', \r\n              alignItems: 'center', \r\n              gap: '12px',\r\n              backgroundColor: `${colors.primary}15`,\r\n              padding: '8px 20px',\r\n              borderRadius: '50px',\r\n              border: `1px solid ${colors.primary}30`,\r\n              marginBottom: '20px'\r\n            }}>\r\n       \r\n            </div>\r\n            \r\n            <h2 style={{\r\n              fontSize: 'clamp(2rem, 4vw, 3rem)',\r\n              fontWeight: '700',\r\n              color: colors.text,\r\n              marginBottom: '16px',\r\n              lineHeight: '1.2'\r\n            }}>\r\n              Making Real Impact\r\n            </h2>\r\n            \r\n            <p style={{\r\n              fontSize: '1.1rem',\r\n              color: colors.textSecondary,\r\n              maxWidth: '600px',\r\n              margin: '0 auto',\r\n              lineHeight: '1.6'\r\n            }}>\r\n              Discover our ongoing initiatives creating sustainable environmental change across communities\r\n            </p>\r\n          </div>\r\n\r\n          {/* Projects Grid */}\r\n          {loadingProjects ? (\r\n            <div style={{ \r\n              textAlign: 'center', \r\n              padding: '60px 20px',\r\n              color: colors.textSecondary \r\n            }}>\r\n              <div style={{\r\n                display: 'inline-block',\r\n                width: '40px',\r\n                height: '40px',\r\n                border: `3px solid ${colors.primary}30`,\r\n                borderTop: `3px solid ${colors.primary}`,\r\n                borderRadius: '50%',\r\n                animation: 'spin 1s linear infinite',\r\n                marginBottom: '16px'\r\n              }} />\r\n              <p>Loading featured projects...</p>\r\n            </div>\r\n          ) : (\r\n            <div style={{\r\n              display: 'grid',\r\n              gridTemplateColumns: 'repeat(auto-fit, minmax(450px, 1fr))',\r\n              gap: '30px',\r\n              marginBottom: '50px'\r\n            }}>        \r\n\r\n              {featuredProjects.map((project, index) => (\r\n                \r\n                <div\r\n                  key={project.id}\r\n                  onClick={(e) => handleProjectClick(project, e)}\r\n                  style={{\r\n                    backgroundColor: colors.background,\r\n                    borderRadius: '16px',\r\n                    overflow: 'hidden',\r\n                    border: `1px solid ${colors.borderLight}`,\r\n                    transition: 'all 0.3s ease',\r\n                    cursor: 'pointer',\r\n                    position: 'relative',\r\n                    height: '420px'\r\n                  }}\r\n                  onMouseEnter={(e) => {\r\n                    e.currentTarget.style.transform = 'translateY(-8px)';\r\n                    e.currentTarget.style.boxShadow = `0 20px 40px ${colors.primary}20`;\r\n                    e.currentTarget.style.borderColor = colors.primary;\r\n                  }}\r\n                  onMouseLeave={(e) => {\r\n                    e.currentTarget.style.transform = 'translateY(0)';\r\n                    e.currentTarget.style.boxShadow = 'none';\r\n                    e.currentTarget.style.borderColor = colors.borderLight;\r\n                  }}\r\n                >\r\n                  {/* Hero Image/Gradient */}\r\n                  <div style={{\r\n                    height: '180px',\r\n                    background: project.featured_image \r\n                      ? `url(${project.featured_image.startsWith('http') \r\n                          ? project.featured_image \r\n                          : `${STATIC_URL || ''}${project.featured_image}`})`\r\n                      : getCategoryGradient(project.category_name),\r\n                    backgroundSize: 'cover',\r\n                    backgroundPosition: 'center',\r\n                    position: 'relative',\r\n                    display: 'flex',\r\n                    alignItems: 'center',\r\n                    justifyContent: 'center'\r\n                  }}>\r\n                    {/* Overlay */}\r\n                    {project.featured_image && (\r\n                      <div style={{\r\n                        position: 'absolute',\r\n                        top: 0,\r\n                        left: 0,\r\n                        right: 0,\r\n                        bottom: 0,\r\n                        background: 'linear-gradient(135deg, rgba(0,0,0,0.3) 0%, rgba(0,0,0,0.1) 100%)'\r\n                      }} />\r\n                    )}\r\n\r\n                    {/* Category Icon for non-image projects */}\r\n                    {!project.featured_image && (\r\n                      <span style={{ \r\n                        fontSize: '3rem',\r\n                        opacity: 0.9,\r\n                        zIndex: 1\r\n                      }}>\r\n                        {getCategoryIcon(project.category_name)}\r\n                      </span>\r\n                    )}\r\n\r\n                    {/* Featured Badge */}\r\n                    {project.is_featured && (\r\n                      <div style={{\r\n                        position: 'absolute',\r\n                        top: '12px',\r\n                        right: '12px',\r\n                        backgroundColor: colors.secondary,\r\n                        color: colors.black,\r\n                        padding: '4px 12px',\r\n                        borderRadius: '20px',\r\n                        fontSize: '12px',\r\n                        fontWeight: '700',\r\n                        display: 'flex',\r\n                        alignItems: 'center',\r\n                        gap: '4px',\r\n                        zIndex: 2\r\n                      }}>\r\n                        <Star size={12} />\r\n                        FEATURED\r\n                      </div>\r\n                    )}\r\n\r\n                    {/* Category Badge */}\r\n                    <div style={{\r\n                      position: 'absolute',\r\n                      top: '12px',\r\n                      left: '12px',\r\n                      backgroundColor: 'rgba(255, 255, 255, 0.9)',\r\n                      color: colors.text,\r\n                      padding: '4px 12px',\r\n                      borderRadius: '12px',\r\n                      fontSize: '11px',\r\n                      fontWeight: '600',\r\n                      textTransform: 'uppercase',\r\n                      letterSpacing: '0.5px',\r\n                      zIndex: 2\r\n                    }}>\r\n                      {project.category_name || 'Project'}\r\n                    </div>\r\n                  </div>\r\n\r\n                  {/* Content */}\r\n                  <div style={{ \r\n                    padding: '24px',\r\n                    display: 'flex',\r\n                    flexDirection: 'column',\r\n                    height: 'calc(100% - 180px)'\r\n                  }}>\r\n                    {/* Title */}\r\n                    <h3 style={{\r\n                      fontSize: '1.3rem',\r\n                      fontWeight: '700',\r\n                      color: colors.text,\r\n                      marginBottom: '12px',\r\n                      lineHeight: '1.3',\r\n                      display: '-webkit-box',\r\n                      WebkitLineClamp: 2,\r\n                      WebkitBoxOrient: 'vertical',\r\n                      overflow: 'hidden'\r\n                    }}>\r\n                      {project.title}\r\n                    </h3>\r\n\r\n                    {/* Description */}\r\n                    <p style={{\r\n                      color: colors.textSecondary,\r\n                      lineHeight: '1.6',\r\n                      marginBottom: '16px',\r\n                      flex: 1,\r\n                      display: '-webkit-box',\r\n                      WebkitLineClamp: 2,\r\n                      WebkitBoxOrient: 'vertical',\r\n                      overflow: 'hidden'\r\n                    }}>\r\n                      {project.short_description || project.description}\r\n                    </p>\r\n\r\n                    {/* Location */}\r\n                    {project.location && (\r\n                      <div style={{ \r\n                        display: 'flex', \r\n                        alignItems: 'center',\r\n                        marginBottom: '16px'\r\n                      }}>\r\n                        <LocationIcon size={16} style={{ \r\n                          marginRight: '6px', \r\n                          color: colors.textMuted \r\n                        }} />\r\n                        <span style={{\r\n                          color: colors.textSecondary,\r\n                          fontSize: '0.9rem',\r\n                          fontWeight: '500'\r\n                        }}>\r\n                          {project.location}\r\n                        </span>\r\n                      </div>\r\n                    )}\r\n\r\n                    {/* Progress */}\r\n                    <div style={{ marginBottom: '20px' }}>\r\n                      <div style={{ \r\n                        display: 'flex', \r\n                        justifyContent: 'space-between',\r\n                        alignItems: 'center',\r\n                        marginBottom: '8px'\r\n                      }}>\r\n                        <span style={{ \r\n                          fontSize: '0.9rem',\r\n                          fontWeight: '600',\r\n                          color: colors.text\r\n                        }}>\r\n                          Progress\r\n                        </span>\r\n                        <span style={{ \r\n                          fontSize: '0.9rem',\r\n                          fontWeight: '700',\r\n                          color: getStatusColor(project.status)\r\n                        }}>\r\n                          {getProjectProgress(project)}%\r\n                        </span>\r\n                      </div>\r\n                      <div style={{\r\n                        height: '6px',\r\n                        backgroundColor: colors.borderLight,\r\n                        borderRadius: '3px',\r\n                        overflow: 'hidden'\r\n                      }}>\r\n                        <div style={{\r\n                          width: `${getProjectProgress(project)}%`,\r\n                          height: '100%',\r\n                          backgroundColor: getStatusColor(project.status),\r\n                          borderRadius: '3px',\r\n                          transition: 'width 0.3s ease'\r\n                        }} />\r\n                      </div>\r\n                    </div>\r\n\r\n                    {/* Learn More Link */}\r\n                    <div style={{\r\n                      display: 'flex',\r\n                      alignItems: 'center',\r\n                      color: colors.primary,\r\n                      fontWeight: '600',\r\n                      fontSize: '0.9rem',\r\n                      gap: '6px'\r\n                    }}>\r\n                      Learn More\r\n                      <ArrowRight size={16} />\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          )}\r\n\r\n          {/* View All Projects Button */}\r\n          <div style={{ textAlign: 'center' }}>\r\n            <button\r\n              onClick={handleViewAllProjects}\r\n              style={{\r\n                backgroundColor: 'transparent',\r\n                color: colors.primary,\r\n                border: `2px solid ${colors.primary}`,\r\n                padding: '14px 28px',\r\n                borderRadius: '8px',\r\n                fontWeight: '600',\r\n                fontSize: '16px',\r\n                cursor: 'pointer',\r\n                display: 'inline-flex',\r\n                alignItems: 'center',\r\n                gap: '8px',\r\n                transition: 'all 0.3s ease',\r\n                fontFamily: '\"Nunito Sans\", sans-serif'\r\n              }}\r\n              onMouseEnter={(e) => {\r\n                e.target.style.backgroundColor = colors.primary;\r\n                e.target.style.color = colors.white;\r\n              }}\r\n              onMouseLeave={(e) => {\r\n                e.target.style.backgroundColor = 'transparent';\r\n                e.target.style.color = colors.primary;\r\n              }}\r\n            >\r\n              View All Projects\r\n              <ArrowRight size={20} />\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n\r\n\r\n      </div>\r\n\r\n      <div\r\n        style={{\r\n          backgroundColor: colors.background,\r\n          position: 'relative',\r\n          overflow: 'hidden'\r\n        }}\r\n      >\r\n        {/* Decorative background elements */}\r\n        <div style={{\r\n          position: 'absolute',\r\n          top: 0,\r\n          left: 0,\r\n          right: 0,\r\n          bottom: 0,\r\n          opacity: 0.03,\r\n          backgroundImage: `radial-gradient(circle at 20% 50%, ${colors.primary} 0%, transparent 50%), radial-gradient(circle at 80% 20%, ${colors.secondary} 0%, transparent 50%), radial-gradient(circle at 40% 80%, ${colors.accent} 0%, transparent 50%)`,\r\n          pointerEvents: 'none'\r\n        }} />\r\n        <EnvironmentalCharity/>\r\n      </div>\r\n\r\n      <div\r\n        style={{\r\n          backgroundColor: colors.surface,\r\n          padding: '80px 0'\r\n        }}\r\n      >\r\n        <VideoSection/>\r\n      </div>\r\n\r\n <div style={{ position: 'relative', overflow: 'hidden' }}>\r\n  <video\r\n    autoPlay\r\n    loop\r\n    muted\r\n    playsInline\r\n    aria-hidden=\"true\"\r\n    style={{\r\n      position: 'absolute',\r\n      top: 0,\r\n      left: 0,\r\n      width: '100%',\r\n      height: '100%',\r\n      objectFit: 'cover',\r\n      zIndex: 0,\r\n    }}\r\n  >\r\n    <source\r\n  src=\"/greenwater.mp4\"\r\n  type=\"video/mp4\"\r\n/>\r\n\r\n  </video>\r\n\r\n  <div\r\n    style={{\r\n      position: 'absolute',\r\n      top: 0,\r\n      left: 0,\r\n      width: '100%',\r\n      height: '100%',\r\n      background: 'rgba(10, 10, 10, 0.6)', // semi-transparent dark overlay\r\n      zIndex: 1,\r\n    }}\r\n  />\r\n\r\n  <div style={{ position: 'relative', zIndex: 2 }}>\r\n    <FeaturedTestimonial\r\n      title=\"Featured Testimonial\"\r\n      LatestNewsSection={LatestEvent}\r\n      showCTA={true}\r\n    />\r\n  </div>\r\n</div>\r\n\r\n      <div\r\n        style={{\r\n          background: `linear-gradient(135deg, ${colors.secondary}08 0%, ${colors.primary}06 100%)`,\r\n          backdropFilter: 'blur(5px)',\r\n          borderTop: `1px solid ${colors.border}20`\r\n        }}\r\n      >\r\n        {/* <PartnerSlider/> */}\r\n        \r\n\r\n    \r\n\r\n        {/* <JoinMovement/> */}\r\n      </div>\r\n      <Footer/>\r\n\r\n      {/* Static Scroll Progress Indicator */}\r\n      <div\r\n        style={{\r\n          position: 'fixed',\r\n          top: 0,\r\n          left: 0,\r\n          right: 0,\r\n          height: '3px',\r\n          background: `linear-gradient(90deg, ${colors.secondary} 0%, ${colors.primary} 50%, ${colors.accent} 100%)`,\r\n          transformOrigin: '0%',\r\n          zIndex: 1000,\r\n          boxShadow: `0 0 10px ${colors.primary}40`,\r\n          transform: `scaleX(${scrollY / (document.body.scrollHeight - window.innerHeight)})`\r\n        }}\r\n      />\r\n\r\n      {/* Basic CSS without animations */}\r\n      <style jsx>{`\r\n        /* Responsive design */\r\n        @media (max-width: 968px) {\r\n          .grid-responsive {\r\n            grid-template-columns: 1fr !important;\r\n          }\r\n          \r\n          .hero-text h1 {\r\n            font-size: clamp(2rem, 6vw, 4rem) !important;\r\n          }\r\n          \r\n          .hero-actions {\r\n            flex-direction: column !important;\r\n            gap: 15px !important;\r\n          }\r\n        }\r\n        \r\n        @media (max-width: 640px) {\r\n          .hero-content {\r\n            padding: 0 15px !important;\r\n          }\r\n          \r\n          .hero-nav {\r\n            bottom: 20px !important;\r\n          }\r\n        }\r\n\r\n        @media (max-width: 500px) {\r\n          div[style*=\"grid-template-columns: repeat(auto-fit, minmax(450px, 1fr))\"] {\r\n            grid-template-columns: 1fr !important;\r\n          }\r\n        }\r\n        \r\n        /* Keyframes for loading spinner */\r\n        @keyframes spin {\r\n          0% { transform: rotate(0deg); }\r\n          100% { transform: rotate(360deg); }\r\n        }\r\n        \r\n        /* Basic theme transitions only */\r\n        * {\r\n          transition: background-color 0.3s ease, \r\n                      color 0.3s ease, \r\n                      border-color 0.3s ease,\r\n                      box-shadow 0.3s ease !important;\r\n        }\r\n        \r\n        /* High contrast mode support */\r\n        @media (prefers-contrast: high) {\r\n          .theme-border {\r\n            border-width: 2px !important;\r\n          }\r\n          \r\n          .theme-text {\r\n            font-weight: 600 !important;\r\n          }\r\n        }\r\n      `}</style>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Homepage;","// extracted by mini-css-extract-plugin\nexport default {\"container\":\"LoginForm_container__xvVsp\",\"loginCard\":\"LoginForm_loginCard__73hhk\",\"slideUp\":\"LoginForm_slideUp__nU8v5\",\"header\":\"LoginForm_header__LrhdO\",\"logo\":\"LoginForm_logo__Mu4zQ\",\"logoIcon\":\"LoginForm_logoIcon__1ZwOI\",\"title\":\"LoginForm_title__B3krV\",\"subtitle\":\"LoginForm_subtitle__RfiGp\",\"errorContainer\":\"LoginForm_errorContainer__7E2Ie\",\"shake\":\"LoginForm_shake__ChThb\",\"errorIcon\":\"LoginForm_errorIcon__o-qS6\",\"errorMessage\":\"LoginForm_errorMessage__HoGoz\",\"form\":\"LoginForm_form__x+plo\",\"inputGroup\":\"LoginForm_inputGroup__pFq+t\",\"label\":\"LoginForm_label__z2MCw\",\"inputWrapper\":\"LoginForm_inputWrapper__Q3PHN\",\"inputIcon\":\"LoginForm_inputIcon__rRbdk\",\"input\":\"LoginForm_input__XXVHH\",\"togglePassword\":\"LoginForm_togglePassword__fd77z\",\"submitButton\":\"LoginForm_submitButton__vG4he\",\"loadingContainer\":\"LoginForm_loadingContainer__pGdtI\",\"spinner\":\"LoginForm_spinner__hAL3B\",\"spin\":\"LoginForm_spin__Dt41S\",\"footer\":\"LoginForm_footer__4lY5o\",\"forgotLink\":\"LoginForm_forgotLink__1f5oe\",\"backgroundElements\":\"LoginForm_backgroundElements__fprct\",\"circle1\":\"LoginForm_circle1__55Hi4\",\"circle2\":\"LoginForm_circle2__K7mNo\",\"circle3\":\"LoginForm_circle3__C2qpj\",\"float\":\"LoginForm_float__8fUtG\"};","import React, { useState } from 'react';\r\nimport { useAuth } from '../context/AuthContext';\r\nimport { useTheme } from '../theme'; // Import your theme hook\r\nimport { useNavigate, Link } from 'react-router-dom';\r\nimport { Eye, EyeOff, Lock, Mail, AlertCircle } from 'lucide-react';\r\nimport styles from '../styles/LoginForm.module.css';\r\n\r\nconst LoginForm = () => {\r\n  const { login } = useAuth();\r\n  const { theme, colors } = useTheme(); // Use your theme system\r\n  const navigate = useNavigate();\r\n\r\n  const [form, setForm] = useState({ email: '', password: '' });\r\n  const [error, setError] = useState(null);\r\n  const [loading, setLoading] = useState(false);\r\n  const [showPassword, setShowPassword] = useState(false);\r\n\r\n  const handleChange = (e) => {\r\n    setForm({ ...form, [e.target.name]: e.target.value });\r\n    if (error) setError(null); // Clear error when user starts typing\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    setLoading(true);\r\n    setError(null);\r\n    try {\r\n      await login(form.email, form.password);\r\n      navigate('/admin/dashboard');\r\n    } catch (err) {\r\n      setError(err.message || 'Login failed');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const togglePasswordVisibility = () => {\r\n    setShowPassword(!showPassword);\r\n  };\r\n\r\n  return (\r\n    <div className={styles.container}>\r\n      <div className={styles.loginCard}>\r\n        <div className={styles.header}>\r\n          <div className={styles.logo}>\r\n            <Lock size={32} className={styles.logoIcon} />\r\n          </div>\r\n          <h1 className={styles.title}>Admin Login</h1>\r\n          <p className={styles.subtitle}>Welcome back! Please sign in to your account.</p>\r\n        </div>\r\n\r\n        {error && (\r\n          <div className={styles.errorContainer}>\r\n            <AlertCircle size={20} className={styles.errorIcon} />\r\n            <p className={styles.errorMessage}>{error}</p>\r\n          </div>\r\n        )}\r\n\r\n        <form onSubmit={handleSubmit} className={styles.form}>\r\n          <div className={styles.inputGroup}>\r\n            <label htmlFor=\"email\" className={styles.label}>\r\n              Email Address\r\n            </label>\r\n            <div className={styles.inputWrapper}>\r\n              <Mail size={20} className={styles.inputIcon} />\r\n              <input\r\n                id=\"email\"\r\n                className={styles.input}\r\n                name=\"email\"\r\n                type=\"email\"\r\n                placeholder=\"Enter your email\"\r\n                value={form.email}\r\n                onChange={handleChange}\r\n                required\r\n                autoComplete=\"email\"\r\n              />\r\n            </div>\r\n          </div>\r\n\r\n          <div className={styles.inputGroup}>\r\n            <label htmlFor=\"password\" className={styles.label}>\r\n              Password\r\n            </label>\r\n            <div className={styles.inputWrapper}>\r\n              <Lock size={20} className={styles.inputIcon} />\r\n              <input\r\n                id=\"password\"\r\n                className={styles.input}\r\n                name=\"password\"\r\n                type={showPassword ? 'text' : 'password'}\r\n                placeholder=\"Enter your password\"\r\n                value={form.password}\r\n                onChange={handleChange}\r\n                required\r\n                autoComplete=\"current-password\"\r\n              />\r\n              <button\r\n                type=\"button\"\r\n                className={styles.togglePassword}\r\n                onClick={togglePasswordVisibility}\r\n                aria-label={showPassword ? 'Hide password' : 'Show password'}\r\n              >\r\n                {showPassword ? <EyeOff size={20} /> : <Eye size={20} />}\r\n              </button>\r\n            </div>\r\n          </div>\r\n\r\n          <button \r\n            className={styles.submitButton} \r\n            type=\"submit\" \r\n            disabled={loading || !form.email || !form.password}\r\n          >\r\n            {loading ? (\r\n              <div className={styles.loadingContainer}>\r\n                <div className={styles.spinner} />\r\n                <span>Signing in...</span>\r\n              </div>\r\n            ) : (\r\n              'Sign In'\r\n            )}\r\n          </button>\r\n        </form>\r\n\r\n        <div className={styles.footer}>\r\n          <Link to=\"/forgot-password\" className={styles.forgotLink}>\r\n            Forgot your password?\r\n          </Link>\r\n        </div>\r\n      </div>\r\n\r\n      <div className={styles.backgroundElements}>\r\n        <div className={styles.circle1}></div>\r\n        <div className={styles.circle2}></div>\r\n        <div className={styles.circle3}></div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default LoginForm;","import React from 'react';\r\nimport { useAuth } from '../../context/AuthContext';\r\n\r\nconst Profile = () => {\r\n  const { user, logout } = useAuth();\r\n\r\n  if (!user) return <p>You are not logged in.</p>;\r\n\r\n  return (\r\n    <div>\r\n      <h2>Welcome, {user.name}</h2>\r\n      <p>Email: {user.email}</p>\r\n      <p>Role: {user.role}</p>\r\n      <button onClick={logout}>Logout</button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Profile;\r\n","\r\n\r\n\r\n\r\n\r\nimport React, { useState, useEffect, useRef } from \"react\";\r\nimport axios from \"axios\";\r\nimport { API_URL, STATIC_URL } from \"../../config\";\r\nimport { useTheme, withOpacity } from \"../../theme\";\r\nimport Header from '../../components/Header';\r\nimport Footer from '../../components/Footer';\r\nimport { useLocation } from \"react-router-dom\";\r\n\r\nconst EventsPublicDisplay = () => {\r\n  const { theme, colors, isDarkMode } = useTheme();\r\n  const [events, setEvents] = useState([]);\r\n  const [countries, setCountries] = useState([]);\r\n  const [selectedCountry, setSelectedCountry] = useState(\"\");\r\n  const [selectedEvent, setSelectedEvent] = useState(null);\r\n  const [viewMode, setViewMode] = useState('grid'); // 'grid', 'calendar', 'detail'\r\n  const [detailEvent, setDetailEvent] = useState(null);\r\n  const [currentDate, setCurrentDate] = useState(new Date());\r\n  const [calendarEvents, setCalendarEvents] = useState([]);\r\n  const location = useLocation();\r\n\r\n  // Animation states\r\n  const [mousePosition, setMousePosition] = useState({ x: 0, y: 0 });\r\n  const [visibleElements, setVisibleElements] = useState(new Set());\r\n\r\n  const [showInterestForm, setShowInterestForm] = useState(false);\r\n  const [interestForm, setInterestForm] = useState({\r\n    name: \"\",\r\n    email: \"\",\r\n    phone: \"\",\r\n    message: \"\",\r\n    event_id: null,\r\n  });\r\n  const [loading, setLoading] = useState(true);\r\n  const [submitting, setSubmitting] = useState(false);\r\n  const [submitStatus, setSubmitStatus] = useState({ message: \"\", type: \"\" });\r\n  \r\n  const observerRef = useRef();\r\n\r\n  // Mouse tracking for premium effects\r\n  useEffect(() => {\r\n    const handleMouseMove = (e) => {\r\n      setMousePosition({ x: e.clientX, y: e.clientY });\r\n    };\r\n\r\n    // Intersection Observer for scroll animations\r\n    const observerCallback = (entries) => {\r\n      entries.forEach((entry) => {\r\n        if (entry.isIntersecting) {\r\n          setVisibleElements(prev => new Set([...prev, entry.target.dataset.animateId]));\r\n        }\r\n      });\r\n    };\r\n\r\n    observerRef.current = new IntersectionObserver(observerCallback, {\r\n      threshold: 0.1,\r\n      rootMargin: '50px'\r\n    });\r\n\r\n    window.addEventListener('mousemove', handleMouseMove);\r\n    \r\n    return () => {\r\n      window.removeEventListener('mousemove', handleMouseMove);\r\n      if (observerRef.current) {\r\n        observerRef.current.disconnect();\r\n      }\r\n    };\r\n  }, []);\r\n\r\n  // Animate elements as they come into view\r\n  useEffect(() => {\r\n    const elements = document.querySelectorAll('[data-animate-id]');\r\n    elements.forEach(el => {\r\n      if (observerRef.current) {\r\n        observerRef.current.observe(el);\r\n      }\r\n    });\r\n  }, [events, viewMode]);\r\n\r\n  useEffect(() => {\r\n    const params = new URLSearchParams(location.search);\r\n    const eventId = params.get(\"eventId\");\r\n\r\n    if (eventId && events.length > 0) {\r\n      const foundEvent = events.find(e => e.id.toString() === eventId);\r\n      if (foundEvent) {\r\n        handleExpressInterest(foundEvent);\r\n      }\r\n    }\r\n  }, [location.search, events]);\r\n\r\n  const fetchEvents = async () => {\r\n    try {\r\n      const { data } = await axios.get(`${API_URL}/events`);\r\n      setEvents(data);\r\n      setCalendarEvents(data);\r\n      setLoading(false);\r\n    } catch (error) {\r\n      console.error(\"Error fetching events:\", error);\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const fetchCountries = async () => {\r\n    try {\r\n      const { data } = await axios.get(`${API_URL}/countries`);\r\n      setCountries(data);\r\n    } catch (error) {\r\n      console.error(\"Error fetching countries:\", error);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchEvents();\r\n    fetchCountries();\r\n  }, []);\r\n\r\n  const filteredEvents = selectedCountry \r\n    ? events.filter(event => event.country === selectedCountry)\r\n    : events;\r\n\r\n  // Calendar helper functions\r\n  const getDaysInMonth = (date) => {\r\n    return new Date(date.getFullYear(), date.getMonth() + 1, 0).getDate();\r\n  };\r\n\r\n  const getFirstDayOfMonth = (date) => {\r\n    return new Date(date.getFullYear(), date.getMonth(), 1).getDay();\r\n  };\r\n\r\n  const getEventsForDate = (date) => {\r\n    return filteredEvents.filter(event => {\r\n      const eventDate = new Date(event.start_date);\r\n      return eventDate.toDateString() === date.toDateString();\r\n    });\r\n  };\r\n\r\n  const handleInterestChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setInterestForm({ ...interestForm, [name]: value });\r\n    \r\n    if (submitStatus.message) {\r\n      setSubmitStatus({ message: \"\", type: \"\" });\r\n    }\r\n  };\r\n\r\n  const handleExpressInterest = (event) => {\r\n    setSelectedEvent(event);\r\n    setInterestForm({ \r\n      name: \"\",\r\n      email: \"\",\r\n      phone: \"\",\r\n      message: \"\",\r\n      event_id: event.id \r\n    });\r\n    setShowInterestForm(true);\r\n    setSubmitStatus({ message: \"\", type: \"\" });\r\n  };\r\n\r\n  const handleViewDetails = (event) => {\r\n    setDetailEvent(event);\r\n    setViewMode('detail');\r\n  };\r\n\r\n  const validateForm = () => {\r\n    const errors = [];\r\n    \r\n    if (!interestForm.name.trim()) errors.push(\"Name is required\");\r\n    if (!interestForm.email.trim()) errors.push(\"Email is required\");\r\n    \r\n    const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\r\n    if (interestForm.email && !emailRegex.test(interestForm.email)) {\r\n      errors.push(\"Please enter a valid email address\");\r\n    }\r\n    \r\n    return errors;\r\n  };\r\n\r\n  const checkExistingInterest = async (eventId, email) => {\r\n    try {\r\n      const response = await axios.get(`${API_URL}/event-interests/check`, {\r\n        params: { event_id: eventId, email: email.toLowerCase().trim() }\r\n      });\r\n      return response.data.exists;\r\n    } catch (error) {\r\n      console.error(\"Error checking existing interest:\", error);\r\n      return false;\r\n    }\r\n  };\r\n\r\n    const submitInterest = async (e) => {\r\n    e.preventDefault();\r\n    \r\n    const validationErrors = validateForm();\r\n    if (validationErrors.length > 0) {\r\n      setSubmitStatus({ \r\n        message: validationErrors.join(\", \"), \r\n        type: \"error\" \r\n      });\r\n      return;\r\n    }\r\n\r\n    setSubmitting(true);\r\n    setSubmitStatus({ message: \"Submitting your interest...\", type: \"info\" });\r\n    \r\n    try {\r\n      // Check for existing interest\r\n      const existingInterest = await checkExistingInterest(\r\n        interestForm.event_id, \r\n        interestForm.email\r\n      );\r\n      \r\n      if (existingInterest) {\r\n        setSubmitStatus({ \r\n          message: \"You have already expressed interest in this event\", \r\n          type: \"warning\" \r\n        });\r\n        return;\r\n      }\r\n\r\n      const response = await axios.post(`${API_URL}/event-interests`, {\r\n        ...interestForm,\r\n        email: interestForm.email.toLowerCase().trim(),\r\n        name: interestForm.name.trim(),\r\n        phone: interestForm.phone.trim(),\r\n        message: interestForm.message.trim()\r\n      });\r\n\r\n      if (response.data.success !== false) {\r\n        setSubmitStatus({ \r\n          message: \"Thank you for your interest! We'll be in touch soon.\", \r\n          type: \"success\" \r\n        });\r\n        \r\n        setTimeout(() => {\r\n          closeInterestForm();\r\n        }, 2000);\r\n      } else {\r\n        setSubmitStatus({ \r\n          message: response.data.error || \"Failed to submit interest\", \r\n          type: \"error\" \r\n        });\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Error submitting interest:\", error);\r\n      \r\n      let errorMessage = \"Sorry, there was an error submitting your interest. Please try again.\";\r\n      \r\n      if (error.response?.data?.error) {\r\n        errorMessage = error.response.data.error;\r\n      } else if (error.response?.data?.message) {\r\n        errorMessage = error.response.data.message;\r\n      }\r\n      \r\n      setSubmitStatus({ message: errorMessage, type: \"error\" });\r\n    } finally {\r\n      setSubmitting(false);\r\n    }\r\n  };\r\n\r\n\r\n\r\n\r\n\r\n  const closeInterestForm = () => {\r\n    setShowInterestForm(false);\r\n    setSelectedEvent(null);\r\n    setInterestForm({\r\n      name: \"\",\r\n      email: \"\",\r\n      phone: \"\",\r\n      message: \"\",\r\n      event_id: null,\r\n    });\r\n    setSubmitStatus({ message: \"\", type: \"\" });\r\n  };\r\n\r\n  const formatDate = (dateString) => {\r\n    const date = new Date(dateString);\r\n    return date.toLocaleDateString('en-US', {\r\n      weekday: 'long',\r\n      year: 'numeric',\r\n      month: 'long',\r\n      day: 'numeric',\r\n      hour: '2-digit',\r\n      minute: '2-digit'\r\n    });\r\n  };\r\n\r\n  const formatDateShort = (dateString) => {\r\n    const date = new Date(dateString);\r\n    return date.toLocaleDateString('en-US', {\r\n      month: 'short',\r\n      day: 'numeric'\r\n    });\r\n  };\r\n\r\n  const styles = {\r\n    pageContainer: {\r\n      minHeight: '100vh',\r\n      background: isDarkMode \r\n        ? `radial-gradient(ellipse at top, ${withOpacity(colors.primaryDark, 0.3)}, ${colors.black})`\r\n        : `radial-gradient(ellipse at top, ${withOpacity(colors.primary, 0.1)}, ${colors.white})`,\r\n      fontFamily: '\"Nunito Sans\", -apple-system, BlinkMacSystemFont, sans-serif',\r\n      color: theme.colors.text,\r\n      position: 'relative',\r\n      fontSize: '14px',\r\n      lineHeight: 1.5\r\n    },\r\n\r\n    backgroundEffect: {\r\n      position: 'fixed',\r\n      top: 0,\r\n      left: 0,\r\n      right: 0,\r\n      bottom: 0,\r\n      background: isDarkMode\r\n        ? `radial-gradient(600px circle at ${mousePosition.x}px ${mousePosition.y}px, ${withOpacity(colors.primary, 0.1)}, transparent 40%)`\r\n        : `radial-gradient(800px circle at ${mousePosition.x}px ${mousePosition.y}px, ${withOpacity(colors.secondary, 0.08)}, transparent 40%)`,\r\n      pointerEvents: 'none',\r\n      zIndex: 0,\r\n      transition: 'all 0.3s ease'\r\n    },\r\n\r\n    heroSection: {\r\n      position: 'relative',\r\n      minHeight: '70vh',\r\n      display: 'flex',\r\n      alignItems: 'center',\r\n      justifyContent: 'center',\r\n      background: isDarkMode \r\n        ? `linear-gradient(135deg, ${colors.primary} 0%, ${colors.primaryDark} 50%, ${colors.secondary} 100%)`\r\n        : `linear-gradient(135deg, ${colors.primary} 0%, ${colors.secondary} 50%, ${colors.primary} 100%)`,\r\n      color: colors.white,\r\n      zIndex: 1\r\n    },\r\n\r\n    heroContent: {\r\n      maxWidth: '800px',\r\n      textAlign: 'center',\r\n      padding: '0 2rem'\r\n    },\r\n\r\n    heroTitle: {\r\n      fontSize: 'clamp(2.5rem, 5vw, 4rem)',\r\n      fontWeight: 800,\r\n      marginBottom: '1.5rem',\r\n      lineHeight: 1.1,\r\n      letterSpacing: '-0.02em',\r\n      textShadow: '0 4px 8px rgba(0,0,0,0.3)'\r\n    },\r\n\r\n    heroSubtitle: {\r\n      fontSize: 'clamp(1.125rem, 2.5vw, 1.5rem)',\r\n      opacity: 0.95,\r\n      lineHeight: 1.6,\r\n      fontWeight: 300,\r\n      marginBottom: '3rem'\r\n    },\r\n\r\n    mainContainer: {\r\n      maxWidth: '1400px',\r\n      margin: '0 auto',\r\n      padding: '4rem 2rem',\r\n      position: 'relative',\r\n      zIndex: 1\r\n    },\r\n\r\n    viewToggle: {\r\n      display: 'flex',\r\n      justifyContent: 'center',\r\n      gap: '0.5rem',\r\n      marginBottom: '2rem',\r\n      padding: '0.5rem',\r\n      background: isDarkMode \r\n        ? withOpacity(colors.black, 0.3)\r\n        : withOpacity(colors.white, 0.7),\r\n      borderRadius: '50px',\r\n      backdropFilter: 'blur(20px)',\r\n      border: `1px solid ${withOpacity(colors.primary, 0.2)}`,\r\n      maxWidth: '400px',\r\n      margin: '0 auto 2rem auto'\r\n    },\r\n\r\n    viewButton: {\r\n      padding: '0.75rem 1.5rem',\r\n      border: 'none',\r\n      borderRadius: '25px',\r\n      cursor: 'pointer',\r\n      fontSize: '0.875rem',\r\n      fontWeight: 600,\r\n      transition: 'all 0.3s ease',\r\n      fontFamily: 'inherit'\r\n    },\r\n\r\n    filterSection: {\r\n      background: isDarkMode \r\n        ? `linear-gradient(145deg, ${withOpacity(colors.black, 0.4)}, ${withOpacity(colors.primaryDark, 0.1)})`\r\n        : `linear-gradient(145deg, ${withOpacity(colors.white, 0.9)}, ${withOpacity(colors.primary, 0.05)})`,\r\n      backdropFilter: 'blur(20px)',\r\n      borderRadius: '24px',\r\n      padding: '2rem',\r\n      marginBottom: '3rem',\r\n      border: `1px solid ${withOpacity(colors.primary, 0.2)}`,\r\n      boxShadow: `0 8px 32px ${withOpacity(colors.black, 0.1)}`,\r\n    },\r\n\r\n    select: {\r\n      width: '100%',\r\n      maxWidth: '300px',\r\n      padding: '1rem 1.5rem',\r\n      background: isDarkMode \r\n        ? withOpacity(colors.black, 0.3)\r\n        : withOpacity(colors.white, 0.8),\r\n      border: `1px solid ${withOpacity(colors.primary, 0.2)}`,\r\n      borderRadius: '50px',\r\n      fontSize: '1rem',\r\n      fontFamily: 'inherit',\r\n      color: theme.colors.text,\r\n      cursor: 'pointer',\r\n      transition: 'all 0.3s ease',\r\n      outline: 'none',\r\n      appearance: 'none',\r\n      backgroundImage: `url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='${colors.primary.replace('#', '%23')}' viewBox='0 0 16 16'%3e%3cpath d='m7.247 4.86-4.796 5.481c-.566.647-.106 1.659.753 1.659h9.592a1 1 0 0 0 .753-1.659l-4.796-5.48a1 1 0 0 0-1.506 0z'/%3e%3c/svg%3e\")`,\r\n      backgroundRepeat: 'no-repeat',\r\n      backgroundPosition: 'right 1rem center',\r\n      backgroundSize: '12px'\r\n    },\r\n\r\n    eventsGrid: {\r\n      display: 'grid',\r\n      gridTemplateColumns: 'repeat(auto-fit, minmax(350px, 1fr))',\r\n      gap: '2rem',\r\n      marginBottom: '4rem'\r\n    },\r\n\r\n    eventCard: {\r\n      background: isDarkMode \r\n        ? `linear-gradient(145deg, ${withOpacity(colors.black, 0.4)}, ${withOpacity(colors.primaryDark, 0.1)})`\r\n        : `linear-gradient(145deg, ${withOpacity(colors.white, 0.95)}, ${withOpacity(colors.primary, 0.05)})`,\r\n      borderRadius: '24px',\r\n      overflow: 'hidden',\r\n      boxShadow: `0 8px 32px ${withOpacity(colors.black, 0.1)}`,\r\n      backdropFilter: 'blur(20px)',\r\n      border: `1px solid ${withOpacity(colors.primary, 0.2)}`,\r\n      transition: 'all 0.4s cubic-bezier(0.4, 0, 0.2, 1)',\r\n      position: 'relative'\r\n    },\r\n\r\n    calendar: {\r\n      background: isDarkMode \r\n        ? `linear-gradient(145deg, ${withOpacity(colors.black, 0.4)}, ${withOpacity(colors.primaryDark, 0.1)})`\r\n        : `linear-gradient(145deg, ${withOpacity(colors.white, 0.95)}, ${withOpacity(colors.primary, 0.05)})`,\r\n      borderRadius: '24px',\r\n      padding: '2rem',\r\n      boxShadow: `0 8px 32px ${withOpacity(colors.black, 0.1)}`,\r\n      backdropFilter: 'blur(20px)',\r\n      border: `1px solid ${withOpacity(colors.primary, 0.2)}`\r\n    },\r\n\r\n    calendarGrid: {\r\n      display: 'grid',\r\n      gridTemplateColumns: 'repeat(7, 1fr)',\r\n      gap: '1px',\r\n      background: withOpacity(colors.primary, 0.1),\r\n      borderRadius: '12px',\r\n      overflow: 'hidden'\r\n    },\r\n\r\n    calendarDay: {\r\n      minHeight: '60px',\r\n      background: isDarkMode ? colors.black : colors.white,\r\n      display: 'flex',\r\n      flexDirection: 'column',\r\n      alignItems: 'center',\r\n      justifyContent: 'flex-start',\r\n      padding: '0.5rem',\r\n      position: 'relative',\r\n      cursor: 'pointer',\r\n      transition: 'all 0.2s ease'\r\n    },\r\n\r\n    animateSlideUp: {\r\n      transform: 'translateY(50px)',\r\n      opacity: 0,\r\n      transition: 'all 0.8s cubic-bezier(0.4, 0, 0.2, 1)',\r\n    },\r\n\r\n    animateSlideUpVisible: {\r\n      transform: 'translateY(0)',\r\n      opacity: 1,\r\n    },\r\n\r\n    animateFadeIn: {\r\n      opacity: 0,\r\n      transition: 'all 0.8s ease-in-out',\r\n    },\r\n\r\n    animateFadeInVisible: {\r\n      opacity: 1,\r\n    },\r\n\r\n    loadingSpinner: {\r\n      width: '50px',\r\n      height: '50px',\r\n      border: `3px solid ${withOpacity(colors.primary, 0.2)}`,\r\n      borderTopColor: colors.primary,\r\n      borderRadius: '50%',\r\n      animation: 'spin 1s linear infinite',\r\n      margin: '0 auto 1rem'\r\n    }\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div style={styles.pageContainer}>\r\n        <div style={styles.backgroundEffect}></div>\r\n        <Header />\r\n        <div style={{\r\n          minHeight: '100vh',\r\n          display: 'flex',\r\n          alignItems: 'center',\r\n          justifyContent: 'center',\r\n          flexDirection: 'column'\r\n        }}>\r\n          <div style={styles.loadingSpinner}></div>\r\n          <p style={{ \r\n            fontSize: '1.125rem', \r\n            fontWeight: '500',\r\n            color: theme.colors.text \r\n          }}>\r\n            Loading events...\r\n          </p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div style={styles.pageContainer}>\r\n      <div style={styles.backgroundEffect}></div>\r\n      <Header />\r\n\r\n      {/* Hero Section */}\r\n      <div style={styles.heroSection}>\r\n        <div style={styles.heroContent}>\r\n          <h1 style={styles.heroTitle}>Discover Amazing Events</h1>\r\n          <p style={styles.heroSubtitle}>\r\n            Connect, learn, and grow with events happening around the world\r\n          </p>\r\n        </div>\r\n      </div>\r\n\r\n      <div style={styles.mainContainer}>\r\n        {viewMode !== 'detail' && (\r\n          <>\r\n            {/* View Toggle */}\r\n            <div \r\n              style={styles.viewToggle}\r\n              data-animate-id=\"view-toggle\"\r\n            >\r\n              <button\r\n                style={{\r\n                  ...styles.viewButton,\r\n                  background: viewMode === 'grid' \r\n                    ? `linear-gradient(135deg, ${colors.primary}, ${colors.secondary})`\r\n                    : 'transparent',\r\n                  color: viewMode === 'grid' ? colors.white : theme.colors.text\r\n                }}\r\n                onClick={() => setViewMode('grid')}\r\n              >\r\n                 Grid View\r\n              </button>\r\n              <button\r\n                style={{\r\n                  ...styles.viewButton,\r\n                  background: viewMode === 'calendar' \r\n                    ? `linear-gradient(135deg, ${colors.primary}, ${colors.secondary})`\r\n                    : 'transparent',\r\n                  color: viewMode === 'calendar' ? colors.white : theme.colors.text\r\n                }}\r\n                onClick={() => setViewMode('calendar')}\r\n              >\r\n                 Calendar View\r\n              </button>\r\n            </div>\r\n\r\n            {/* Filter Section */}\r\n            <div \r\n              style={{\r\n                ...styles.filterSection,\r\n                ...styles.animateSlideUp,\r\n                ...(visibleElements.has('filter') ? styles.animateSlideUpVisible : {})\r\n              }}\r\n              data-animate-id=\"filter\"\r\n            >\r\n              <h3 style={{\r\n                fontSize: '1.25rem',\r\n                fontWeight: 600,\r\n                color: colors.primary,\r\n                marginBottom: '1.5rem',\r\n                textAlign: 'center'\r\n              }}>\r\n                Filter by Location\r\n              </h3>\r\n              <div style={{ display: 'flex', justifyContent: 'center' }}>\r\n                <select\r\n                  value={selectedCountry}\r\n                  onChange={(e) => setSelectedCountry(e.target.value)}\r\n                  style={styles.select}\r\n                >\r\n                  <option value=\"\">All Countries</option>\r\n                  {countries.map((country) => (\r\n                    <option key={country.id} value={country.name}>\r\n                      {country.name}\r\n                    </option>\r\n                  ))}\r\n                </select>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Events Count */}\r\n            {filteredEvents.length > 0 && (\r\n              <div \r\n                style={{\r\n                  textAlign: 'center',\r\n                  marginBottom: '3rem',\r\n                  fontSize: '1.125rem',\r\n                  opacity: 0.9\r\n                }}\r\n                data-animate-id=\"count\"\r\n              >\r\n                <span style={{\r\n                  background: isDarkMode \r\n                    ? withOpacity(colors.black, 0.3)\r\n                    : withOpacity(colors.white, 0.7),\r\n                  padding: '0.75rem 2rem',\r\n                  borderRadius: '25px',\r\n                  backdropFilter: 'blur(10px)',\r\n                  border: `1px solid ${withOpacity(colors.primary, 0.2)}`,\r\n                  color: theme.colors.text\r\n                }}>\r\n                  {filteredEvents.length} event{filteredEvents.length !== 1 ? 's' : ''} available\r\n                  {selectedCountry && ` in ${selectedCountry}`}\r\n                </span>\r\n              </div>\r\n            )}\r\n          </>\r\n        )}\r\n\r\n        {/* Grid View */}\r\n        {viewMode === 'grid' && (\r\n          <>\r\n            {filteredEvents.length === 0 ? (\r\n              <div style={{\r\n                textAlign: 'center',\r\n                padding: '4rem 2rem',\r\n                background: isDarkMode \r\n                  ? withOpacity(colors.black, 0.3)\r\n                  : withOpacity(colors.white, 0.7),\r\n                borderRadius: '24px',\r\n                backdropFilter: 'blur(20px)',\r\n                border: `1px solid ${withOpacity(colors.primary, 0.2)}`\r\n              }}>\r\n                <h3 style={{\r\n                  fontSize: '1.5rem',\r\n                  fontWeight: 600,\r\n                  margin: '0 0 1rem 0',\r\n                  color: theme.colors.text\r\n                }}>\r\n                  No events found\r\n                </h3>\r\n                <p style={{ color: theme.colors.textSecondary }}>\r\n                  Check back later for upcoming events{selectedCountry && ` in ${selectedCountry}`}.\r\n                </p>\r\n              </div>\r\n            ) : (\r\n              <div style={styles.eventsGrid}>\r\n                {filteredEvents.map((event, index) => {\r\n                  const now = new Date();\r\n                  const startDate = new Date(event.start_date);\r\n                  const endDate = event.end_date ? new Date(event.end_date) : null;\r\n                  \r\n                  let status = 'upcoming';\r\n                  if (endDate && now > endDate) {\r\n                    status = 'past';\r\n                  } else if (now >= startDate && (!endDate || now <= endDate)) {\r\n                    status = 'ongoing';\r\n                  }\r\n\r\n                  return (\r\n                    <div \r\n                      key={event.id}\r\n                      style={{\r\n                        ...styles.eventCard,\r\n                        ...styles.animateSlideUp,\r\n                        transitionDelay: `${index * 0.1}s`,\r\n                        ...(visibleElements.has('events-grid') ? styles.animateSlideUpVisible : {})\r\n                      }}\r\n                      data-animate-id=\"events-grid\"\r\n                      onMouseEnter={(e) => {\r\n                        e.currentTarget.style.transform = 'translateY(-8px) scale(1.02)';\r\n                        e.currentTarget.style.boxShadow = `0 20px 40px ${withOpacity(colors.primary, 0.2)}`;\r\n                      }}\r\n                      onMouseLeave={(e) => {\r\n                        e.currentTarget.style.transform = 'translateY(0) scale(1)';\r\n                        e.currentTarget.style.boxShadow = `0 8px 32px ${withOpacity(colors.black, 0.1)}`;\r\n                      }}\r\n                    >\r\n                      {/* Status Badge */}\r\n                      <div style={{\r\n                        position: 'absolute',\r\n                        top: '1rem',\r\n                        right: '1rem',\r\n                        padding: '0.5rem 1rem',\r\n                        borderRadius: '25px',\r\n                        fontSize: '0.75rem',\r\n                        fontWeight: 600,\r\n                        textTransform: 'uppercase',\r\n                        letterSpacing: '0.05em',\r\n                        zIndex: 10,\r\n                        backgroundColor: status === 'upcoming' \r\n                          ? colors.success \r\n                          : status === 'ongoing' \r\n                          ? colors.warning \r\n                          : colors.gray500,\r\n                        color: colors.white\r\n                      }}>\r\n                        {status === 'upcoming' ? 'Upcoming' : status === 'ongoing' ? 'Live Now' : 'Past Event'}\r\n                      </div>\r\n\r\n                      {/* Event Image */}\r\n                      {event.image_url ? (\r\n                        <img\r\n                          src={`${STATIC_URL}${event.image_url}`}\r\n                          alt={event.title}\r\n                          style={{\r\n                            width: '100%',\r\n                            height: '200px',\r\n                            objectFit: 'cover'\r\n                          }}\r\n                        />\r\n                      ) : (\r\n                        <div style={{\r\n                          width: '100%',\r\n                          height: '200px',\r\n                          background: `linear-gradient(135deg, ${colors.primary}, ${colors.secondary})`,\r\n                          display: 'flex',\r\n                          alignItems: 'center',\r\n                          justifyContent: 'center',\r\n                          color: colors.white,\r\n                          fontSize: '1.125rem',\r\n                          fontWeight: 500\r\n                        }}>\r\n                          {event.title}\r\n                        </div>\r\n                      )}\r\n\r\n                      {/* Event Content */}\r\n                      <div style={{ padding: '1.5rem' }}>\r\n                        <h3 style={{\r\n                          fontSize: '1.25rem',\r\n                          fontWeight: 700,\r\n                          color: theme.colors.text,\r\n                          margin: '0 0 1rem 0',\r\n                          lineHeight: 1.3\r\n                        }}>\r\n                          {event.title}\r\n                        </h3>\r\n                        \r\n                        {/* Event Meta */}\r\n                        <div style={{\r\n                          display: 'flex',\r\n                          flexWrap: 'wrap',\r\n                          gap: '0.5rem',\r\n                          marginBottom: '1rem'\r\n                        }}>\r\n                          {event.country && (\r\n                            <span style={{\r\n                              padding: '0.25rem 0.75rem',\r\n                              borderRadius: '20px',\r\n                              fontSize: '0.75rem',\r\n                              fontWeight: 600,\r\n                              backgroundColor: colors.info,\r\n                              color: colors.white\r\n                            }}>\r\n                              {event.country}\r\n                            </span>\r\n                          )}\r\n                          {event.is_paid ? (\r\n                            <span style={{\r\n                              padding: '0.25rem 0.75rem',\r\n                              borderRadius: '20px',\r\n                              fontSize: '0.75rem',\r\n                              fontWeight: 600,\r\n                              backgroundColor: colors.success,\r\n                              color: colors.white\r\n                            }}>\r\n                              {event.currency} {parseFloat(event.price).toFixed(2)}\r\n                            </span>\r\n                          ) : (\r\n                            <span style={{\r\n                              padding: '0.25rem 0.75rem',\r\n                              borderRadius: '20px',\r\n                              fontSize: '0.75rem',\r\n                              fontWeight: 600,\r\n                              backgroundColor: colors.secondary,\r\n                              color: colors.black\r\n                            }}>\r\n                              Free\r\n                            </span>\r\n                          )}\r\n                        </div>\r\n\r\n                        {/* Description */}\r\n                        {event.description && (\r\n                          <p style={{\r\n                            color: theme.colors.textSecondary,\r\n                            lineHeight: 1.6,\r\n                            marginBottom: '1.5rem',\r\n                            fontSize: '0.875rem'\r\n                          }}>\r\n                            {event.description.length > 100 \r\n                              ? `${event.description.substring(0, 100)}...`\r\n                              : event.description\r\n                            }\r\n                          </p>\r\n                        )}\r\n\r\n                        {/* Event Details */}\r\n                        <div style={{ marginBottom: '1.5rem' }}>\r\n                          <div style={{\r\n                            display: 'flex',\r\n                            alignItems: 'center',\r\n                            gap: '0.5rem',\r\n                            marginBottom: '0.25rem',\r\n                            color: theme.colors.textSecondary,\r\n                            fontSize: '0.8125rem'\r\n                          }}>\r\n                            <span></span>\r\n                            <span>{formatDateShort(event.start_date)}</span>\r\n                          </div>\r\n                          \r\n                          {event.location && (\r\n                            <div style={{\r\n                              display: 'flex',\r\n                              alignItems: 'center',\r\n                              gap: '0.5rem',\r\n                              color: theme.colors.textSecondary,\r\n                              fontSize: '0.8125rem'\r\n                            }}>\r\n                              <span></span>\r\n                              <span>{event.location}</span>\r\n                            </div>\r\n                          )}\r\n                        </div>\r\n\r\n                        {/* Action Buttons */}\r\n                        <div style={{\r\n                          display: 'flex',\r\n                          gap: '0.75rem'\r\n                        }}>\r\n                          <button\r\n                            onClick={() => handleViewDetails(event)}\r\n                            style={{\r\n                              flex: 1,\r\n                              padding: '0.75rem 1rem',\r\n                              border: `2px solid ${colors.primary}`,\r\n                              borderRadius: '25px',\r\n                              background: 'transparent',\r\n                              color: colors.primary,\r\n                              fontWeight: 600,\r\n                              fontSize: '0.875rem',\r\n                              cursor: 'pointer',\r\n                              transition: 'all 0.3s ease',\r\n                              fontFamily: 'inherit'\r\n                            }}\r\n                            onMouseEnter={(e) => {\r\n                              e.target.style.background = colors.primary;\r\n                              e.target.style.color = colors.white;\r\n                            }}\r\n                            onMouseLeave={(e) => {\r\n                              e.target.style.background = 'transparent';\r\n                              e.target.style.color = colors.primary;\r\n                            }}\r\n                          >\r\n                            View Details\r\n                          </button>\r\n                          <button\r\n                            onClick={() => handleExpressInterest(event)}\r\n                            disabled={status === 'past'}\r\n                            style={{\r\n                              flex: 1,\r\n                              padding: '0.75rem 1rem',\r\n                              border: 'none',\r\n                              borderRadius: '25px',\r\n                              background: status === 'past' \r\n                                ? colors.gray400 \r\n                                : `linear-gradient(135deg, ${colors.primary}, ${colors.secondary})`,\r\n                              color: colors.white,\r\n                              fontWeight: 600,\r\n                              fontSize: '0.875rem',\r\n                              cursor: status === 'past' ? 'not-allowed' : 'pointer',\r\n                              transition: 'all 0.3s ease',\r\n                              opacity: status === 'past' ? 0.6 : 1,\r\n                              fontFamily: 'inherit'\r\n                            }}\r\n                            onMouseEnter={(e) => {\r\n                              if (status !== 'past') {\r\n                                e.target.style.transform = 'translateY(-2px)';\r\n                                e.target.style.boxShadow = `0 4px 12px ${withOpacity(colors.primary, 0.3)}`;\r\n                              }\r\n                            }}\r\n                            onMouseLeave={(e) => {\r\n                              if (status !== 'past') {\r\n                                e.target.style.transform = 'translateY(0)';\r\n                                e.target.style.boxShadow = 'none';\r\n                              }\r\n                            }}\r\n                          >\r\n                            {status === 'past' ? 'Event Ended' : 'Express Interest'}\r\n                          </button>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  );\r\n                })}\r\n              </div>\r\n            )}\r\n          </>\r\n        )}\r\n\r\n        {/* Calendar View */}\r\n        {viewMode === 'calendar' && (\r\n          <div \r\n            style={{\r\n              ...styles.calendar,\r\n              ...styles.animateSlideUp,\r\n              ...(visibleElements.has('calendar') ? styles.animateSlideUpVisible : {})\r\n            }}\r\n            data-animate-id=\"calendar\"\r\n          >\r\n            {/* Calendar Header */}\r\n            <div style={{\r\n              display: 'flex',\r\n              justifyContent: 'space-between',\r\n              alignItems: 'center',\r\n              marginBottom: '2rem'\r\n            }}>\r\n              <button\r\n                onClick={() => setCurrentDate(new Date(currentDate.getFullYear(), currentDate.getMonth() - 1, 1))}\r\n                style={{\r\n                  padding: '0.75rem 1.5rem',\r\n                  border: `1px solid ${withOpacity(colors.primary, 0.3)}`,\r\n                  borderRadius: '25px',\r\n                  background: 'transparent',\r\n                  color: colors.primary,\r\n                  cursor: 'pointer',\r\n                  fontWeight: 600,\r\n                  transition: 'all 0.3s ease',\r\n                  fontFamily: 'inherit'\r\n                }}\r\n                onMouseEnter={(e) => {\r\n                  e.target.style.background = withOpacity(colors.primary, 0.1);\r\n                }}\r\n                onMouseLeave={(e) => {\r\n                  e.target.style.background = 'transparent';\r\n                }}\r\n              >\r\n                 Previous\r\n              </button>\r\n              \r\n              <h2 style={{\r\n                fontSize: '1.5rem',\r\n                fontWeight: 700,\r\n                color: theme.colors.text,\r\n                margin: 0\r\n              }}>\r\n                {currentDate.toLocaleDateString('en-US', { month: 'long', year: 'numeric' })}\r\n              </h2>\r\n              \r\n              <button\r\n                onClick={() => setCurrentDate(new Date(currentDate.getFullYear(), currentDate.getMonth() + 1, 1))}\r\n                style={{\r\n                  padding: '0.75rem 1.5rem',\r\n                  border: `1px solid ${withOpacity(colors.primary, 0.3)}`,\r\n                  borderRadius: '25px',\r\n                  background: 'transparent',\r\n                  color: colors.primary,\r\n                  cursor: 'pointer',\r\n                  fontWeight: 600,\r\n                  transition: 'all 0.3s ease',\r\n                  fontFamily: 'inherit'\r\n                }}\r\n                onMouseEnter={(e) => {\r\n                  e.target.style.background = withOpacity(colors.primary, 0.1);\r\n                }}\r\n                onMouseLeave={(e) => {\r\n                  e.target.style.background = 'transparent';\r\n                }}\r\n              >\r\n                Next \r\n              </button>\r\n            </div>\r\n\r\n            {/* Calendar Days Header */}\r\n            <div style={styles.calendarGrid}>\r\n              {['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'].map(day => (\r\n                <div key={day} style={{\r\n                  padding: '1rem',\r\n                  fontWeight: 700,\r\n                  textAlign: 'center',\r\n                  background: withOpacity(colors.primary, 0.1),\r\n                  color: theme.colors.text\r\n                }}>\r\n                  {day}\r\n                </div>\r\n              ))}\r\n\r\n              {/* Calendar Days */}\r\n              {Array.from({ length: getFirstDayOfMonth(currentDate) }, (_, i) => (\r\n                <div key={`empty-${i}`} style={styles.calendarDay}></div>\r\n              ))}\r\n\r\n              {Array.from({ length: getDaysInMonth(currentDate) }, (_, i) => {\r\n                const date = new Date(currentDate.getFullYear(), currentDate.getMonth(), i + 1);\r\n                const dayEvents = getEventsForDate(date);\r\n                const isToday = date.toDateString() === new Date().toDateString();\r\n\r\n                return (\r\n                  <div\r\n                    key={i + 1}\r\n                    style={{\r\n                      ...styles.calendarDay,\r\n                      background: isToday \r\n                        ? withOpacity(colors.primary, 0.2)\r\n                        : (isDarkMode ? colors.black : colors.white)\r\n                    }}\r\n                    onMouseEnter={(e) => {\r\n                      if (dayEvents.length > 0) {\r\n                        e.target.style.background = withOpacity(colors.secondary, 0.2);\r\n                      }\r\n                    }}\r\n                    onMouseLeave={(e) => {\r\n                      e.target.style.background = isToday \r\n                        ? withOpacity(colors.primary, 0.2)\r\n                        : (isDarkMode ? colors.black : colors.white);\r\n                    }}\r\n                  >\r\n                    <div style={{\r\n                      fontSize: '0.875rem',\r\n                      fontWeight: isToday ? 700 : 500,\r\n                      color: isToday ? colors.primary : theme.colors.text,\r\n                      marginBottom: '0.25rem'\r\n                    }}>\r\n                      {i + 1}\r\n                    </div>\r\n                    {dayEvents.slice(0, 2).map((event, idx) => (\r\n                      <div\r\n                        key={event.id}\r\n                        onClick={() => handleViewDetails(event)}\r\n                        style={{\r\n                          width: '100%',\r\n                          padding: '0.125rem 0.25rem',\r\n                          background: colors.primary,\r\n                          color: colors.white,\r\n                          fontSize: '0.625rem',\r\n                          borderRadius: '3px',\r\n                          marginBottom: '0.125rem',\r\n                          cursor: 'pointer',\r\n                          overflow: 'hidden',\r\n                          whiteSpace: 'nowrap',\r\n                          textOverflow: 'ellipsis'\r\n                        }}\r\n                        title={event.title}\r\n                      >\r\n                        {event.title}\r\n                      </div>\r\n                    ))}\r\n                    {dayEvents.length > 2 && (\r\n                      <div style={{\r\n                        fontSize: '0.625rem',\r\n                        color: theme.colors.textSecondary,\r\n                        cursor: 'pointer'\r\n                      }}>\r\n                        +{dayEvents.length - 2} more\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                );\r\n              })}\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {/* Detail View */}\r\n        {viewMode === 'detail' && detailEvent && (\r\n          <div \r\n            style={{\r\n              ...styles.calendar,\r\n              ...styles.animateSlideUp,\r\n              ...(visibleElements.has('detail') ? styles.animateSlideUpVisible : {})\r\n            }}\r\n            data-animate-id=\"detail\"\r\n          >\r\n            {/* Back Button */}\r\n            <button\r\n              onClick={() => setViewMode('grid')}\r\n              style={{\r\n                display: 'flex',\r\n                alignItems: 'center',\r\n                gap: '0.5rem',\r\n                padding: '0.75rem 1.5rem',\r\n                background: 'transparent',\r\n                border: `1px solid ${withOpacity(colors.primary, 0.3)}`,\r\n                borderRadius: '25px',\r\n                color: colors.primary,\r\n                cursor: 'pointer',\r\n                fontSize: '0.875rem',\r\n                fontWeight: 600,\r\n                marginBottom: '2rem',\r\n                transition: 'all 0.3s ease',\r\n                fontFamily: 'inherit'\r\n              }}\r\n              onMouseEnter={(e) => {\r\n                e.target.style.background = withOpacity(colors.primary, 0.1);\r\n              }}\r\n              onMouseLeave={(e) => {\r\n                e.target.style.background = 'transparent';\r\n              }}\r\n            >\r\n               Back to Events\r\n            </button>\r\n\r\n            {/* Event Image */}\r\n            {detailEvent.image_url && (\r\n              <div style={{\r\n                width: '100%',\r\n                height: '300px',\r\n                borderRadius: '16px',\r\n                overflow: 'hidden',\r\n                marginBottom: '2rem',\r\n                boxShadow: `0 8px 24px ${withOpacity(colors.black, 0.1)}`\r\n              }}>\r\n                <img\r\n                  src={`${STATIC_URL}${detailEvent.image_url}`}\r\n                  alt={detailEvent.title}\r\n                  style={{\r\n                    width: '100%',\r\n                    height: '100%',\r\n                    objectFit: 'cover'\r\n                  }}\r\n                />\r\n              </div>\r\n            )}\r\n\r\n            {/* Event Header */}\r\n            <div style={{ marginBottom: '2rem' }}>\r\n              <h1 style={{\r\n                fontSize: '2.5rem',\r\n                fontWeight: 800,\r\n                color: theme.colors.text,\r\n                margin: '0 0 1rem 0',\r\n                lineHeight: 1.2\r\n              }}>\r\n                {detailEvent.title}\r\n              </h1>\r\n\r\n              {/* Event Meta */}\r\n              <div style={{\r\n                display: 'flex',\r\n                flexWrap: 'wrap',\r\n                gap: '1rem',\r\n                marginBottom: '1.5rem'\r\n              }}>\r\n                {detailEvent.country && (\r\n                  <span style={{\r\n                    padding: '0.5rem 1rem',\r\n                    borderRadius: '25px',\r\n                    fontSize: '0.875rem',\r\n                    fontWeight: 600,\r\n                    backgroundColor: colors.info,\r\n                    color: colors.white\r\n                  }}>\r\n                     {detailEvent.country}\r\n                  </span>\r\n                )}\r\n                {detailEvent.is_paid ? (\r\n                  <span style={{\r\n                    padding: '0.5rem 1rem',\r\n                    borderRadius: '25px',\r\n                    fontSize: '0.875rem',\r\n                    fontWeight: 600,\r\n                    backgroundColor: colors.success,\r\n                    color: colors.white\r\n                  }}>\r\n                     {detailEvent.currency} {parseFloat(detailEvent.price).toFixed(2)}\r\n                  </span>\r\n                ) : (\r\n                  <span style={{\r\n                    padding: '0.5rem 1rem',\r\n                    borderRadius: '25px',\r\n                    fontSize: '0.875rem',\r\n                    fontWeight: 600,\r\n                    backgroundColor: colors.secondary,\r\n                    color: colors.black\r\n                  }}>\r\n                     Free Event\r\n                  </span>\r\n                )}\r\n              </div>\r\n\r\n              {/* Event Times */}\r\n              <div style={{\r\n                background: isDarkMode \r\n                  ? withOpacity(colors.black, 0.3)\r\n                  : withOpacity(colors.white, 0.5),\r\n                padding: '1.5rem',\r\n                borderRadius: '16px',\r\n                border: `1px solid ${withOpacity(colors.primary, 0.2)}`\r\n              }}>\r\n                <div style={{\r\n                  display: 'flex',\r\n                  alignItems: 'center',\r\n                  gap: '0.75rem',\r\n                  marginBottom: detailEvent.end_date ? '0.75rem' : 0,\r\n                  color: theme.colors.text,\r\n                  fontSize: '1rem',\r\n                  fontWeight: 500\r\n                }}>\r\n                  <span></span>\r\n                  <span>Starts: {formatDate(detailEvent.start_date)}</span>\r\n                </div>\r\n                \r\n                {detailEvent.end_date && (\r\n                  <div style={{\r\n                    display: 'flex',\r\n                    alignItems: 'center',\r\n                    gap: '0.75rem',\r\n                    color: theme.colors.text,\r\n                    fontSize: '1rem',\r\n                    fontWeight: 500\r\n                  }}>\r\n                    <span></span>\r\n                    <span>Ends: {formatDate(detailEvent.end_date)}</span>\r\n                  </div>\r\n                )}\r\n                \r\n                {detailEvent.location && (\r\n                  <div style={{\r\n                    display: 'flex',\r\n                    alignItems: 'center',\r\n                    gap: '0.75rem',\r\n                    marginTop: '0.75rem',\r\n                    color: theme.colors.text,\r\n                    fontSize: '1rem',\r\n                    fontWeight: 500\r\n                  }}>\r\n                    <span></span>\r\n                    <span>{detailEvent.location}</span>\r\n                  </div>\r\n                )}\r\n              </div>\r\n            </div>\r\n\r\n            {/* Full Description */}\r\n            {detailEvent.description && (\r\n              <div style={{ marginBottom: '2rem' }}>\r\n                <h2 style={{\r\n                  fontSize: '1.5rem',\r\n                  fontWeight: 700,\r\n                  color: theme.colors.text,\r\n                  marginBottom: '1rem'\r\n                }}>\r\n                  About This Event\r\n                </h2>\r\n                <div style={{\r\n                  color: theme.colors.textSecondary,\r\n                  lineHeight: 1.8,\r\n                  fontSize: '1rem',\r\n                  whiteSpace: 'pre-wrap'\r\n                }}>\r\n                  {detailEvent.description}\r\n                </div>\r\n              </div>\r\n            )}\r\n\r\n            {/* Action Button */}\r\n            <div style={{ textAlign: 'center' }}>\r\n              <button\r\n                onClick={() => handleExpressInterest(detailEvent)}\r\n                style={{\r\n                  padding: '1rem 3rem',\r\n                  border: 'none',\r\n                  borderRadius: '50px',\r\n                  background: `linear-gradient(135deg, ${colors.primary}, ${colors.secondary})`,\r\n                  color: colors.white,\r\n                  fontWeight: 700,\r\n                  fontSize: '1.125rem',\r\n                  cursor: 'pointer',\r\n                  transition: 'all 0.3s ease',\r\n                  fontFamily: 'inherit',\r\n                  boxShadow: `0 4px 20px ${withOpacity(colors.primary, 0.3)}`\r\n                }}\r\n                onMouseEnter={(e) => {\r\n                  e.target.style.transform = 'translateY(-3px)';\r\n                  e.target.style.boxShadow = `0 8px 30px ${withOpacity(colors.primary, 0.4)}`;\r\n                }}\r\n                onMouseLeave={(e) => {\r\n                  e.target.style.transform = 'translateY(0)';\r\n                  e.target.style.boxShadow = `0 4px 20px ${withOpacity(colors.primary, 0.3)}`;\r\n                }}\r\n              >\r\n                Express Interest\r\n              </button>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {/* Interest Form Modal - keeping original styling but improved */}\r\n        {showInterestForm && (\r\n          <div style={{\r\n            position: 'fixed',\r\n            top: 0,\r\n            left: 0,\r\n            right: 0,\r\n            bottom: 0,\r\n            backgroundColor: 'rgba(0, 0, 0, 0.8)',\r\n            display: 'flex',\r\n            alignItems: 'center',\r\n            justifyContent: 'center',\r\n            zIndex: 1000,\r\n            padding: '1rem',\r\n            backdropFilter: 'blur(10px)'\r\n          }} onClick={closeInterestForm}>\r\n            <div \r\n              style={{\r\n                background: isDarkMode \r\n                  ? `linear-gradient(145deg, ${colors.black}, ${withOpacity(colors.primaryDark, 0.2)})`\r\n                  : `linear-gradient(145deg, ${colors.white}, ${withOpacity(colors.primary, 0.05)})`,\r\n                borderRadius: '24px',\r\n                width: '100%',\r\n                maxWidth: '500px',\r\n                maxHeight: '90vh',\r\n                overflowY: 'auto',\r\n                position: 'relative',\r\n                boxShadow: `0 20px 60px ${withOpacity(colors.black, 0.3)}`,\r\n                border: `1px solid ${withOpacity(colors.primary, 0.2)}`,\r\n                backdropFilter: 'blur(20px)'\r\n              }} \r\n              onClick={(e) => e.stopPropagation()}\r\n            >\r\n              {/* Close Button */}\r\n              <button\r\n                onClick={closeInterestForm}\r\n                style={{\r\n                  position: 'absolute',\r\n                  top: '1rem',\r\n                  right: '1rem',\r\n                  background: 'none',\r\n                  border: 'none',\r\n                  fontSize: '1.5rem',\r\n                  cursor: 'pointer',\r\n                  color: theme.colors.textSecondary,\r\n                  width: '2.5rem',\r\n                  height: '2.5rem',\r\n                  display: 'flex',\r\n                  alignItems: 'center',\r\n                  justifyContent: 'center',\r\n                  borderRadius: '50%',\r\n                  transition: 'all 0.2s ease'\r\n                }}\r\n                onMouseEnter={(e) => {\r\n                  e.target.style.backgroundColor = withOpacity(colors.primary, 0.1);\r\n                  e.target.style.color = colors.primary;\r\n                }}\r\n                onMouseLeave={(e) => {\r\n                  e.target.style.backgroundColor = 'transparent';\r\n                  e.target.style.color = theme.colors.textSecondary;\r\n                }}\r\n              >\r\n                \r\n              </button>\r\n              \r\n              {/* Modal Header */}\r\n              <div style={{\r\n                padding: '2rem 2rem 1rem 2rem',\r\n                borderBottom: `1px solid ${withOpacity(colors.primary, 0.1)}`\r\n              }}>\r\n                <h2 style={{\r\n                  fontSize: '1.5rem',\r\n                  fontWeight: 700,\r\n                  color: theme.colors.text,\r\n                  margin: '0 0 0.5rem 0'\r\n                }}>\r\n                  Express Interest\r\n                </h2>\r\n                <p style={{\r\n                  color: theme.colors.textSecondary,\r\n                  margin: '0',\r\n                  fontSize: '0.875rem'\r\n                }}>\r\n                  {selectedEvent?.title}\r\n                </p>\r\n              </div>\r\n\r\n              {/* Modal Body */}\r\n              <div style={{ padding: '2rem' }}>\r\n                {/* Status Message */}\r\n                {submitStatus.message && (\r\n                  <div style={{\r\n                    padding: '1rem',\r\n                    borderRadius: '12px',\r\n                    marginBottom: '1.5rem',\r\n                    backgroundColor: submitStatus.type === 'error' \r\n                      ? withOpacity(colors.error, 0.1)\r\n                      : submitStatus.type === 'success'\r\n                      ? withOpacity(colors.success, 0.1)\r\n                      : submitStatus.type === 'warning'\r\n                      ? withOpacity(colors.warning, 0.1)\r\n                      : withOpacity(colors.info, 0.1),\r\n                    color: submitStatus.type === 'error' \r\n                      ? colors.error\r\n                      : submitStatus.type === 'success'\r\n                      ? colors.success\r\n                      : submitStatus.type === 'warning'\r\n                      ? colors.warning\r\n                      : colors.info,\r\n                    border: `1px solid ${submitStatus.type === 'error' \r\n                      ? withOpacity(colors.error, 0.3)\r\n                      : submitStatus.type === 'success'\r\n                      ? withOpacity(colors.success, 0.3)\r\n                      : submitStatus.type === 'warning'\r\n                      ? withOpacity(colors.warning, 0.3)\r\n                      : withOpacity(colors.info, 0.3)}`,\r\n                    fontSize: '0.875rem'\r\n                  }}>\r\n                    {submitStatus.message}\r\n                  </div>\r\n                )}\r\n\r\n\r\n\r\n\r\n\r\n                <form onSubmit={submitInterest}>\r\n                 <div style={{ marginBottom: '1.5rem' }}>                    <label style={{\r\n\r\n\r\n\r\n                      display: 'block',\r\n                      fontWeight: '600',\r\n                      color: isDarkMode ? colors.white : colors.gray700,\r\n                      marginBottom: '0.5rem',\r\n                      fontSize: '0.875rem'\r\n                    }}>\r\n                      Full Name *\r\n                    </label>\r\n                    <input\r\n                      type=\"text\"\r\n                      name=\"name\"\r\n                      value={interestForm.name}\r\n                      onChange={handleInterestChange}\r\n                      required\r\n                      disabled={submitting}\r\n                      placeholder=\"Enter your full name\"\r\n                      style={{\r\n                        width: '100%',\r\n                        padding: '1rem',\r\n                        border: `2px solid ${isDarkMode ? colors.gray600 : colors.gray300}`,\r\n                        borderRadius: '12px',\r\n                        fontSize: '1rem',\r\n                        backgroundColor: isDarkMode ? colors.gray700 : colors.white,\r\n                        color: isDarkMode ? colors.white : colors.gray900,\r\n                        transition: 'all 0.3s ease',\r\n                        outline: 'none',\r\n                        boxSizing: 'border-box'\r\n                      }}\r\n                      onFocus={(e) => {\r\n                        e.target.style.borderColor = colors.primary;\r\n                        e.target.style.boxShadow = `0 0 0 3px rgba(10, 69, 28, 0.1)`;\r\n                      }}\r\n                      onBlur={(e) => {\r\n                        e.target.style.borderColor = isDarkMode ? colors.gray600 : colors.gray300;\r\n                        e.target.style.boxShadow = 'none';\r\n                      }}\r\n                    />\r\n                  </div>\r\n\r\n                  <div style={{ marginBottom: '1.5rem' }}>\r\n                    <label style={{\r\n                      display: 'block',\r\n                      fontWeight: '600',\r\n                      color: isDarkMode ? colors.white : colors.gray700,\r\n                      marginBottom: '0.5rem',\r\n                      fontSize: '0.875rem'\r\n                    }}>\r\n                      Email Address *\r\n                    </label>\r\n                    <input\r\n                      type=\"email\"\r\n                      name=\"email\"\r\n                      value={interestForm.email}\r\n                      onChange={handleInterestChange}\r\n                      required\r\n                      disabled={submitting}\r\n                      placeholder=\"Enter your email address\"\r\n                      style={{\r\n                        width: '100%',\r\n                        padding: '1rem',\r\n                        border: `2px solid ${isDarkMode ? colors.gray600 : colors.gray300}`,\r\n                        borderRadius: '12px',\r\n                        fontSize: '1rem',\r\n                        backgroundColor: isDarkMode ? colors.gray700 : colors.white,\r\n                        color: isDarkMode ? colors.white : colors.gray900,\r\n                        transition: 'all 0.3s ease',\r\n                        outline: 'none',\r\n                        boxSizing: 'border-box'\r\n                      }}\r\n                      onFocus={(e) => {\r\n                        e.target.style.borderColor = colors.primary;\r\n                        e.target.style.boxShadow = `0 0 0 3px rgba(10, 69, 28, 0.1)`;\r\n                      }}\r\n                      onBlur={(e) => {\r\n                        e.target.style.borderColor = isDarkMode ? colors.gray600 : colors.gray300;\r\n                        e.target.style.boxShadow = 'none';\r\n                      }}\r\n                    />\r\n                  </div>\r\n\r\n                  <div style={{ marginBottom: '1.5rem' }}>\r\n                    <label style={{\r\n                      display: 'block',\r\n                      fontWeight: '600',\r\n                      color: isDarkMode ? colors.white : colors.gray700,\r\n                      marginBottom: '0.5rem',\r\n                      fontSize: '0.875rem'\r\n                    }}>\r\n                      Phone Number\r\n                    </label>\r\n                    <input\r\n                      type=\"tel\"\r\n                      name=\"phone\"\r\n                      value={interestForm.phone}\r\n                      onChange={handleInterestChange}\r\n                      disabled={submitting}\r\n                      placeholder=\"Enter your phone number\"\r\n                      style={{\r\n                        width: '100%',\r\n                        padding: '1rem',\r\n                        border: `2px solid ${isDarkMode ? colors.gray600 : colors.gray300}`,\r\n                        borderRadius: '12px',\r\n                        fontSize: '1rem',\r\n                        backgroundColor: isDarkMode ? colors.gray700 : colors.white,\r\n                        color: isDarkMode ? colors.white : colors.gray900,\r\n                        transition: 'all 0.3s ease',\r\n                        outline: 'none',\r\n                        boxSizing: 'border-box'\r\n                      }}\r\n                      onFocus={(e) => {\r\n                        e.target.style.borderColor = colors.primary;\r\n                        e.target.style.boxShadow = `0 0 0 3px rgba(10, 69, 28, 0.1)`;\r\n                      }}\r\n                      onBlur={(e) => {\r\n                        e.target.style.borderColor = isDarkMode ? colors.gray600 : colors.gray300;\r\n                        e.target.style.boxShadow = 'none';\r\n                      }}\r\n                    />\r\n                  </div>\r\n\r\n                  <div style={{ marginBottom: '2rem' }}>\r\n                    <label style={{\r\n                      display: 'block',\r\n                      fontWeight: '600',\r\n                      color: isDarkMode ? colors.white : colors.gray700,\r\n                      marginBottom: '0.5rem',\r\n                      fontSize: '0.875rem'\r\n                    }}>\r\n                      Message (Optional)\r\n                    </label>\r\n                    <textarea\r\n                      name=\"message\"\r\n                      value={interestForm.message}\r\n                      onChange={handleInterestChange}\r\n                      disabled={submitting}\r\n                      placeholder=\"Any questions or additional information...\"\r\n                      style={{\r\n                        width: '100%',\r\n                        padding: '1rem',\r\n                        border: `2px solid ${isDarkMode ? colors.gray600 : colors.gray300}`,\r\n                        borderRadius: '12px',\r\n                        fontSize: '1rem',\r\n                        backgroundColor: isDarkMode ? colors.gray700 : colors.white,\r\n                        color: isDarkMode ? colors.white : colors.gray900,\r\n                        minHeight: '100px',\r\n                        resize: 'vertical',\r\n                        transition: 'all 0.3s ease',\r\n                        outline: 'none',\r\n                        boxSizing: 'border-box',\r\n                        fontFamily: 'inherit'\r\n                      }}\r\n                      onFocus={(e) => {\r\n                        e.target.style.borderColor = colors.primary;\r\n                        e.target.style.boxShadow = `0 0 0 3px rgba(10, 69, 28, 0.1)`;\r\n                      }}\r\n                      onBlur={(e) => {\r\n                        e.target.style.borderColor = isDarkMode ? colors.gray600 : colors.gray300;\r\n                        e.target.style.boxShadow = 'none';\r\n                      }}\r\n                    />\r\n                  </div>\r\n\r\n                  {/* Form Actions */}\r\n                  <div style={{\r\n                    display: 'flex',\r\n                    gap: '1rem'\r\n                  }}>\r\n                    <button\r\n                      type=\"button\"\r\n                      onClick={closeInterestForm}\r\n                      disabled={submitting}\r\n                      style={{\r\n                        flex: '1',\r\n                        padding: '1rem',\r\n                        border: `2px solid ${isDarkMode ? colors.gray600 : colors.gray300}`,\r\n                        borderRadius: '50px',\r\n                        backgroundColor: isDarkMode ? colors.gray700 : colors.gray100,\r\n                        color: isDarkMode ? colors.white : colors.gray700,\r\n                        fontWeight: '600',\r\n                        fontSize: '1rem',\r\n                        cursor: submitting ? 'not-allowed' : 'pointer',\r\n                        transition: 'all 0.3s ease',\r\n                        opacity: submitting ? 0.6 : 1\r\n                      }}\r\n                      onMouseEnter={(e) => {\r\n                        if (!submitting) {\r\n                          e.target.style.backgroundColor = isDarkMode ? colors.gray600 : colors.gray200;\r\n                        }\r\n                      }}\r\n                      onMouseLeave={(e) => {\r\n                        if (!submitting) {\r\n                          e.target.style.backgroundColor = isDarkMode ? colors.gray700 : colors.gray100;\r\n                        }\r\n                      }}\r\n                    >\r\n                      Cancel\r\n                    </button>\r\n                    <button\r\n                      type=\"submit\"\r\n                      disabled={submitting}\r\n                      style={{\r\n                        flex: '1',\r\n                        padding: '1rem',\r\n                        border: 'none',\r\n                        borderRadius: '50px',\r\n                        background: `linear-gradient(135deg, ${colors.primary} 0%, ${colors.accent} 100%)`,\r\n                        color: colors.white,\r\n                        fontWeight: '600',\r\n                        fontSize: '1rem',\r\n                        cursor: submitting ? 'not-allowed' : 'pointer',\r\n                        transition: 'all 0.3s ease',\r\n                        opacity: submitting ? 0.6 : 1\r\n                      }}\r\n                      onMouseEnter={(e) => {\r\n                        if (!submitting) {\r\n                          e.target.style.transform = 'translateY(-2px)';\r\n                          e.target.style.boxShadow = '0 8px 20px rgba(10, 69, 28, 0.3)';\r\n                        }\r\n                      }}\r\n                      onMouseLeave={(e) => {\r\n                        if (!submitting) {\r\n                          e.target.style.transform = 'translateY(0)';\r\n                          e.target.style.boxShadow = 'none';\r\n                        }\r\n                      }}\r\n                    >\r\n                      {submitting ? 'Submitting...' : 'Submit Interest'}\r\n                    </button>\r\n                  </div>\r\n                </form>\r\n\r\n\r\n\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      <Footer />\r\n\r\n      <style jsx>{`\r\n        @import url('https://fonts.googleapis.com/css2?family=Nunito+Sans:wght@200;300;400;500;600;700;800;900&display=swap');\r\n\r\n        @keyframes spin {\r\n          0% { transform: rotate(0deg); }\r\n          100% { transform: rotate(360deg); }\r\n        }\r\n        \r\n        @keyframes fadeInUp {\r\n          from {\r\n            opacity: 0;\r\n            transform: translateY(30px);\r\n          }\r\n          to {\r\n            opacity: 1;\r\n            transform: translateY(0);\r\n          }\r\n        }\r\n        \r\n        @keyframes fadeInLeft {\r\n          from {\r\n            opacity: 0;\r\n            transform: translateX(-30px);\r\n          }\r\n          to {\r\n            opacity: 1;\r\n            transform: translateX(0);\r\n          }\r\n        }\r\n        \r\n        @keyframes fadeInRight {\r\n          from {\r\n            opacity: 0;\r\n            transform: translateX(30px);\r\n          }\r\n          to {\r\n            opacity: 1;\r\n            transform: translateX(0);\r\n          }\r\n        }\r\n        \r\n        @keyframes scaleIn {\r\n          from {\r\n            opacity: 0;\r\n            transform: scale(0.9);\r\n          }\r\n          to {\r\n            opacity: 1;\r\n            transform: scale(1);\r\n          }\r\n        }\r\n\r\n        .pulse {\r\n          animation: pulse 2s infinite;\r\n        }\r\n        \r\n        @keyframes pulse {\r\n          0%, 100% { transform: scale(1); }\r\n          50% { transform: scale(1.05); }\r\n        }\r\n\r\n        @media (max-width: 768px) {\r\n          .hero-title {\r\n            font-size: 2.5rem !important;\r\n          }\r\n          \r\n          .hero-subtitle {\r\n            font-size: 1.125rem !important;\r\n          }\r\n          \r\n          .events-grid {\r\n            grid-template-columns: 1fr !important;\r\n            gap: 1.5rem !important;\r\n          }\r\n          \r\n          .view-toggle {\r\n            flex-direction: column !important;\r\n            gap: 0.25rem !important;\r\n          }\r\n          \r\n          .calendar-grid {\r\n            font-size: 0.75rem !important;\r\n          }\r\n          \r\n          .calendar-day {\r\n            min-height: 50px !important;\r\n            padding: 0.25rem !important;\r\n          }\r\n        }\r\n\r\n        @media (max-width: 480px) {\r\n          .main-container {\r\n            padding: 2rem 1rem !important;\r\n          }\r\n          \r\n          .hero-title {\r\n            font-size: 2rem !important;\r\n          }\r\n          \r\n          .hero-subtitle {\r\n            font-size: 1rem !important;\r\n          }\r\n          \r\n          .event-card {\r\n            margin: 0 !important;\r\n          }\r\n          \r\n          .filter-section {\r\n            padding: 1.5rem !important;\r\n            border-radius: 16px !important;\r\n          }\r\n          \r\n          .calendar {\r\n            padding: 1.5rem !important;\r\n            border-radius: 16px !important;\r\n          }\r\n          \r\n          .modal-content {\r\n            margin: 0.5rem !important;\r\n            border-radius: 16px !important;\r\n          }\r\n        }\r\n\r\n        /* Scrollbar Styling */\r\n        ::-webkit-scrollbar {\r\n          width: 8px;\r\n        }\r\n\r\n        ::-webkit-scrollbar-track {\r\n          background: ${isDarkMode ? colors.gray800 : colors.gray100};\r\n          border-radius: 10px;\r\n        }\r\n\r\n        ::-webkit-scrollbar-thumb {\r\n          background: ${colors.primary};\r\n          border-radius: 10px;\r\n        }\r\n\r\n        ::-webkit-scrollbar-thumb:hover {\r\n          background: ${colors.primaryDark};\r\n        }\r\n\r\n        /* Selection styling */\r\n        ::selection {\r\n          background: ${withOpacity(colors.primary, 0.3)};\r\n          color: ${theme.colors.text};\r\n        }\r\n\r\n        /* Focus outline styling */\r\n        button:focus-visible,\r\n        select:focus-visible,\r\n        input:focus-visible,\r\n        textarea:focus-visible {\r\n          outline: 2px solid ${colors.primary} !important;\r\n          outline-offset: 2px !important;\r\n        }\r\n      `}</style>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default EventsPublicDisplay;","import React from \"react\";\r\n\r\nconst FollowACEF = () => {\r\n  return (\r\n    <section\r\n      style={{\r\n        width: \"100%\",\r\n        padding: \"60px 20px\",\r\n        backgroundColor: \"#fff\",\r\n        textAlign: \"center\",\r\n      }}\r\n    >\r\n      <h2\r\n        style={{\r\n          fontFamily: '\"Georgia\", \"Times New Roman\", serif',\r\n          fontSize: \"28px\",\r\n          fontWeight: \"500\",\r\n          marginBottom: \"40px\",\r\n          color: \"#0a451c\",\r\n        }}\r\n      >\r\n        Follow ACEF\r\n      </h2>\r\n\r\n      <div\r\n        style={{\r\n          display: \"flex\",\r\n          justifyContent: \"center\",\r\n          alignItems: \"center\",\r\n          gap: \"40px\",\r\n          flexWrap: \"wrap\",\r\n        }}\r\n      >\r\n        {/* Facebook */}\r\n        <a\r\n          href=\"https://www.facebook.com/share/172ZDMd2dL/\"\r\n          target=\"_blank\"\r\n          rel=\"noopener noreferrer\"\r\n          style={{ color: \"#1877F2\", fontSize: \"32px\", textDecoration: \"none\" }}\r\n        >\r\n          <i className=\"fab fa-facebook\"></i>\r\n        </a>\r\n\r\n        {/* LinkedIn */}\r\n        <a\r\n          href=\"https://www.linkedin.com/company/acef-africa-climate-and-environment-foundation/\"\r\n          target=\"_blank\"\r\n          rel=\"noopener noreferrer\"\r\n          style={{ color: \"#0A66C2\", fontSize: \"32px\", textDecoration: \"none\" }}\r\n        >\r\n          <i className=\"fab fa-linkedin\"></i>\r\n        </a>\r\n\r\n        {/* Instagram */}\r\n        <a\r\n          href=\"https://www.instagram.com/acefngo?igsh=MXE3YXRmd2hvZ2xodg==\"\r\n          target=\"_blank\"\r\n          rel=\"noopener noreferrer\"\r\n          style={{ color: \"#E1306C\", fontSize: \"32px\", textDecoration: \"none\" }}\r\n        >\r\n          <i className=\"fab fa-instagram\"></i>\r\n        </a>\r\n\r\n        {/* YouTube */}\r\n        <a\r\n          href=\"https://youtube.com/@acef-africaclimateandenvir6363?si=YfaOJ9L1IpKG0H8X\"\r\n          target=\"_blank\"\r\n          rel=\"noopener noreferrer\"\r\n          style={{ color: \"#FF0000\", fontSize: \"32px\", textDecoration: \"none\" }}\r\n        >\r\n          <i className=\"fab fa-youtube\"></i>\r\n        </a>\r\n\r\n        {/* X (Twitter) */}\r\n        <a\r\n          href=\"https://x.com/ACEFngo?t=H00D4LR0XgHHRHS73lQ76A&s=09\"\r\n          target=\"_blank\"\r\n          rel=\"noopener noreferrer\"\r\n          style={{ color: \"#000\", fontSize: \"32px\", textDecoration: \"none\" }}\r\n        >\r\n          <i className=\"fab fa-x-twitter\"></i>\r\n        </a>\r\n\r\n        {/* TikTok */}\r\n        <a\r\n          href=\"#\"\r\n          target=\"_blank\"\r\n          rel=\"noopener noreferrer\"\r\n          style={{ color: \"#000000\", fontSize: \"32px\", textDecoration: \"none\" }}\r\n        >\r\n          <i className=\"fab fa-tiktok\"></i>\r\n        </a>\r\n      </div>\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default FollowACEF;\r\n","import React, { useEffect, useRef, useState, useCallback } from 'react';\r\nimport { useTheme, withOpacity } from '../theme';\r\nimport { API_URL } from '../config';\r\n\r\nconst API_BASE = API_URL;\r\n\r\nconst CompanyLocationsMap = () => {\r\n  const { theme, colors } = useTheme();\r\n  \r\n  const mapRef = useRef(null);\r\n  const mapInstanceRef = useRef(null);\r\n  const markersRef = useRef([]);\r\n  const [locations, setLocations] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState('');\r\n  const [debugInfo, setDebugInfo] = useState([]);\r\n  const [leafletReady, setLeafletReady] = useState(false);\r\n\r\n  // Debug logging function\r\n  const addDebugLog = useCallback((message, data = null) => {\r\n    const timestamp = new Date().toLocaleTimeString();\r\n    const logEntry = `[${timestamp}] ${message}`;\r\n    console.log(logEntry, data);\r\n    setDebugInfo(prev => [...prev.slice(-9), { message: logEntry, data }]);\r\n  }, []);\r\n\r\n  // Simplified data fetching with extensive logging\r\n  const fetchLocationData = useCallback(async () => {\r\n    addDebugLog('Starting data fetch...');\r\n    setLoading(true);\r\n    setError('');\r\n    \r\n    try {\r\n      // Fetch contacts first\r\n      addDebugLog('Fetching contacts...');\r\n      const contactsRes = await fetch(`${API_BASE}/country-contacts`);\r\n      addDebugLog(`Contacts response status: ${contactsRes.status}`);\r\n      \r\n      if (!contactsRes.ok) {\r\n        throw new Error(`Contacts fetch failed: ${contactsRes.status}`);\r\n      }\r\n\r\n      const contacts = await contactsRes.json();\r\n      addDebugLog('Raw contacts data received:', contacts);\r\n\r\n      if (!Array.isArray(contacts)) {\r\n        throw new Error('Contacts data is not an array');\r\n      }\r\n\r\n      addDebugLog(`Found ${contacts.length} contacts`);\r\n\r\n      // Process contacts and extract those with coordinates\r\n      const locationsWithCoords = contacts.filter(contact => {\r\n        const hasLat = contact.latitude !== null && contact.latitude !== undefined && contact.latitude !== '';\r\n        const hasLng = contact.longitude !== null && contact.longitude !== undefined && contact.longitude !== '';\r\n        return hasLat && hasLng;\r\n      });\r\n\r\n      addDebugLog(`Contacts with coordinates: ${locationsWithCoords.length}`);\r\n\r\n      // Convert to location objects\r\n      const processedLocations = locationsWithCoords.map(contact => {\r\n        const lat = parseFloat(contact.latitude);\r\n        const lng = parseFloat(contact.longitude);\r\n        \r\n        // Validate coordinates\r\n        if (isNaN(lat) || isNaN(lng) || lat < -90 || lat > 90 || lng < -180 || lng > 180) {\r\n          addDebugLog(`Invalid coordinates for ${contact.country}: ${lat}, ${lng}`);\r\n          return null;\r\n        }\r\n\r\n        addDebugLog(`Valid coordinates for ${contact.country}: ${lat}, ${lng}`);\r\n        \r\n        return {\r\n          id: contact.id || contact.country,\r\n          name: contact.country,\r\n          lat,\r\n          lng,\r\n          contact,\r\n          source: 'database'\r\n        };\r\n      }).filter(Boolean);\r\n\r\n      addDebugLog(`Final processed locations: ${processedLocations.length}`, processedLocations);\r\n      \r\n      setLocations(processedLocations);\r\n\r\n    } catch (err) {\r\n      addDebugLog(`Error in fetchLocationData: ${err.message}`);\r\n      console.error('Fetch error:', err);\r\n      setError(`Failed to load location data: ${err.message}`);\r\n    } finally {\r\n      setLoading(false);\r\n      addDebugLog('Data fetch completed');\r\n    }\r\n  }, [addDebugLog]);\r\n\r\n  // Load data on mount\r\n  useEffect(() => {\r\n    addDebugLog('Component mounted, fetching data...');\r\n    fetchLocationData();\r\n  }, [fetchLocationData]);\r\n\r\n  // Load Leaflet with better error handling\r\n  useEffect(() => {\r\n    if (loading || locations.length === 0) {\r\n      addDebugLog(`Skipping Leaflet load - loading: ${loading}, locations: ${locations.length}`);\r\n      return;\r\n    }\r\n\r\n    const loadLeaflet = async () => {\r\n      addDebugLog('Loading Leaflet...');\r\n      \r\n      try {\r\n        if (window.L) {\r\n          addDebugLog('Leaflet already loaded');\r\n          setLeafletReady(true);\r\n          return;\r\n        }\r\n\r\n        // Load CSS\r\n        addDebugLog('Loading Leaflet CSS...');\r\n        const cssPromise = new Promise((resolve, reject) => {\r\n          const leafletCSS = document.createElement('link');\r\n          leafletCSS.rel = 'stylesheet';\r\n          leafletCSS.href = 'https://unpkg.com/leaflet@1.9.4/dist/leaflet.css';\r\n          leafletCSS.crossOrigin = '';\r\n          leafletCSS.onload = () => {\r\n            addDebugLog('Leaflet CSS loaded');\r\n            resolve();\r\n          };\r\n          leafletCSS.onerror = () => {\r\n            addDebugLog('Leaflet CSS failed to load');\r\n            reject(new Error('Failed to load Leaflet CSS'));\r\n          };\r\n          document.head.appendChild(leafletCSS);\r\n        });\r\n\r\n        await cssPromise;\r\n\r\n        // Load JS\r\n        addDebugLog('Loading Leaflet JS...');\r\n        const jsPromise = new Promise((resolve, reject) => {\r\n          const leafletJS = document.createElement('script');\r\n          leafletJS.src = 'https://unpkg.com/leaflet@1.9.4/dist/leaflet.js';\r\n          leafletJS.crossOrigin = '';\r\n          leafletJS.onload = () => {\r\n            addDebugLog('Leaflet JS loaded');\r\n            resolve();\r\n          };\r\n          leafletJS.onerror = () => {\r\n            addDebugLog('Leaflet JS failed to load');\r\n            reject(new Error('Failed to load Leaflet JS'));\r\n          };\r\n          document.head.appendChild(leafletJS);\r\n        });\r\n\r\n        await jsPromise;\r\n\r\n        // Wait and verify Leaflet\r\n        setTimeout(() => {\r\n          if (window.L && typeof window.L.map === 'function') {\r\n            addDebugLog('Leaflet ready and verified');\r\n            setLeafletReady(true);\r\n          } else {\r\n            addDebugLog('Leaflet failed to initialize properly');\r\n            setError('Map library failed to initialize');\r\n          }\r\n        }, 500);\r\n\r\n      } catch (err) {\r\n        addDebugLog(`Leaflet loading error: ${err.message}`);\r\n        setError(`Failed to load map: ${err.message}`);\r\n      }\r\n    };\r\n\r\n    loadLeaflet();\r\n  }, [loading, locations.length, addDebugLog]);\r\n\r\n  // Initialize map\r\n  useEffect(() => {\r\n    if (!leafletReady || !window.L || !mapRef.current || locations.length === 0) {\r\n      addDebugLog(`Skipping map init - leafletReady: ${leafletReady}, hasL: ${!!window.L}, hasMapRef: ${!!mapRef.current}, locations: ${locations.length}`);\r\n      return;\r\n    }\r\n\r\n    addDebugLog('Initializing map...');\r\n\r\n    try {\r\n      const L = window.L;\r\n      \r\n      // Clean up existing map\r\n      if (mapInstanceRef.current) {\r\n        addDebugLog('Cleaning up existing map');\r\n        mapInstanceRef.current.remove();\r\n      }\r\n      \r\n      // Create map with scroll-through behavior\r\n      addDebugLog('Creating map instance');\r\n      const map = L.map(mapRef.current, {\r\n        center: [0, 0],\r\n        zoom: 2,\r\n        zoomControl: true,\r\n        scrollWheelZoom: false, // Disable by default\r\n        doubleClickZoom: false, // Disable by default\r\n        touchZoom: false // Disable by default for mobile\r\n      });\r\n\r\n      // Add scroll-through functionality\r\n      let mapActive = false;\r\n      \r\n      const activateMap = () => {\r\n        if (!mapActive) {\r\n          map.scrollWheelZoom.enable();\r\n          map.doubleClickZoom.enable();\r\n          map.touchZoom.enable();\r\n          mapActive = true;\r\n          \r\n          // Show activation indicator\r\n          const indicator = document.createElement('div');\r\n          indicator.innerHTML = 'Map activated - scroll to zoom';\r\n          indicator.style.cssText = `\r\n            position: absolute;\r\n            top: 50%;\r\n            left: 50%;\r\n            transform: translate(-50%, -50%);\r\n            background: rgba(0, 0, 0, 0.8);\r\n            color: white;\r\n            padding: 8px 12px;\r\n            border-radius: 4px;\r\n            font-size: 12px;\r\n            z-index: 1000;\r\n            pointer-events: none;\r\n          `;\r\n          mapRef.current.appendChild(indicator);\r\n          \r\n          setTimeout(() => {\r\n            if (indicator.parentNode) {\r\n              indicator.parentNode.removeChild(indicator);\r\n            }\r\n          }, 1500);\r\n        }\r\n      };\r\n\r\n      const deactivateMap = () => {\r\n        map.scrollWheelZoom.disable();\r\n        map.doubleClickZoom.disable();\r\n        map.touchZoom.disable();\r\n        mapActive = false;\r\n      };\r\n\r\n      // Activate on click/focus\r\n      map.on('focus', activateMap);\r\n      map.on('click', activateMap);\r\n      \r\n      // Deactivate when clicking outside\r\n      document.addEventListener('click', (e) => {\r\n        if (!mapRef.current?.contains(e.target)) {\r\n          deactivateMap();\r\n        }\r\n      });\r\n\r\n      // Keyboard activation\r\n      mapRef.current.tabIndex = 0; // Make focusable\r\n      mapRef.current.addEventListener('keydown', (e) => {\r\n        if (e.key === 'Enter' || e.key === ' ') {\r\n          e.preventDefault();\r\n          activateMap();\r\n        }\r\n      });\r\n\r\n      // Add tile layer\r\n      addDebugLog('Adding tile layer');\r\n      L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {\r\n        attribution: ' OpenStreetMap contributors',\r\n        maxZoom: 18\r\n      }).addTo(map);\r\n\r\n      // Clear existing markers\r\n      markersRef.current.forEach(marker => {\r\n        try {\r\n          map.removeLayer(marker);\r\n        } catch (e) {\r\n          // Ignore errors\r\n        }\r\n      });\r\n      markersRef.current = [];\r\n\r\n      addDebugLog(`Adding ${locations.length} markers...`);\r\n\r\n      // Add markers\r\n      locations.forEach((location, index) => {\r\n        addDebugLog(`Adding marker ${index + 1}: ${location.name} at ${location.lat}, ${location.lng}`);\r\n        \r\n        try {\r\n          const marker = L.marker([location.lat, location.lng]).addTo(map);\r\n          \r\n          const popupContent = `\r\n            <div>\r\n              <h3>${location.name}</h3>\r\n              <p>Coordinates: ${location.lat.toFixed(4)}, ${location.lng.toFixed(4)}</p>\r\n              <p>Source: ${location.source}</p>\r\n              ${location.contact?.email ? `<p>Email: ${location.contact.email}</p>` : ''}\r\n              ${location.contact?.phone ? `<p>Phone: ${location.contact.phone}</p>` : ''}\r\n            </div>\r\n          `;\r\n          \r\n          marker.bindPopup(popupContent);\r\n          markersRef.current.push(marker);\r\n          \r\n          addDebugLog(`Marker ${index + 1} added successfully`);\r\n        } catch (err) {\r\n          addDebugLog(`Error adding marker ${index + 1}: ${err.message}`);\r\n        }\r\n      });\r\n\r\n      // Fit bounds if we have markers\r\n      if (markersRef.current.length > 0) {\r\n        addDebugLog('Fitting map bounds');\r\n        try {\r\n          const group = new L.featureGroup(markersRef.current);\r\n          map.fitBounds(group.getBounds().pad(0.1));\r\n        } catch (err) {\r\n          addDebugLog(`Error fitting bounds: ${err.message}`);\r\n          map.setView([20, 0], 2);\r\n        }\r\n      } else {\r\n        addDebugLog('No markers to fit, using default view');\r\n        map.setView([20, 0], 2);\r\n      }\r\n\r\n      mapInstanceRef.current = map;\r\n      setError('');\r\n      addDebugLog('Map initialization completed successfully');\r\n\r\n    } catch (err) {\r\n      addDebugLog(`Map initialization error: ${err.message}`);\r\n      setError(`Map initialization failed: ${err.message}`);\r\n    }\r\n  }, [leafletReady, locations, addDebugLog]);\r\n\r\n  // Cleanup on unmount\r\n  useEffect(() => {\r\n    return () => {\r\n      if (mapInstanceRef.current) {\r\n        try {\r\n          mapInstanceRef.current.remove();\r\n        } catch (e) {\r\n          // Ignore cleanup errors\r\n        }\r\n      }\r\n    };\r\n  }, []);\r\n\r\n  if (loading) {\r\n    return (\r\n      <div style={{\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n        height: '80vh',\r\n        margin: '2rem',\r\n        fontFamily: 'Inter, sans-serif',\r\n        backgroundColor: colors.background,\r\n        color: colors.text,\r\n        borderRadius: '12px',\r\n        border: `1px solid ${colors.border}`,\r\n        padding: '2rem'\r\n      }}>\r\n        <div style={{\r\n          width: '50px',\r\n          height: '50px',\r\n          border: `4px solid ${colors.border}`,\r\n          borderTop: `4px solid ${colors.primary}`,\r\n          borderRadius: '50%',\r\n          animation: 'spin 1s linear infinite'\r\n        }}></div>\r\n        <p style={{ marginTop: '1rem' }}>Loading location data...</p>\r\n        \r\n        {/* Debug information */}\r\n        <div style={{\r\n          marginTop: '2rem',\r\n          padding: '1rem',\r\n          backgroundColor: colors.backgroundSecondary,\r\n          borderRadius: '8px',\r\n          width: '100%',\r\n          maxWidth: '600px',\r\n          fontSize: '12px',\r\n          fontFamily: 'monospace'\r\n        }}>\r\n          <h4>Debug Log:</h4>\r\n          {debugInfo.slice(-5).map((log, index) => (\r\n            <div key={index} style={{ margin: '4px 0', color: colors.textSecondary }}>\r\n              {log.message}\r\n            </div>\r\n          ))}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (error) {\r\n    return (\r\n      <div style={{\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n        height: '80vh',\r\n        margin: '2rem',\r\n        fontFamily: 'Inter, sans-serif',\r\n        backgroundColor: colors.background,\r\n        color: colors.text,\r\n        borderRadius: '12px',\r\n        border: `1px solid ${colors.error}`,\r\n        padding: '2rem'\r\n      }}>\r\n        <h3 style={{ color: colors.error, marginBottom: '1rem' }}>Map Error</h3>\r\n        <p style={{ marginBottom: '1.5rem', textAlign: 'center' }}>{error}</p>\r\n        \r\n        <button \r\n          onClick={fetchLocationData}\r\n          style={{\r\n            padding: '0.75rem 1.5rem',\r\n            backgroundColor: colors.primary,\r\n            color: colors.white,\r\n            border: 'none',\r\n            borderRadius: '6px',\r\n            cursor: 'pointer',\r\n            fontSize: '16px',\r\n            marginBottom: '2rem'\r\n          }}\r\n        >\r\n          Retry\r\n        </button>\r\n\r\n        {/* Full debug log */}\r\n        <div style={{\r\n          padding: '1rem',\r\n          backgroundColor: colors.backgroundSecondary,\r\n          borderRadius: '8px',\r\n          width: '100%',\r\n          maxWidth: '800px',\r\n          fontSize: '12px',\r\n          fontFamily: 'monospace',\r\n          maxHeight: '300px',\r\n          overflowY: 'auto'\r\n        }}>\r\n          <h4>Full Debug Log:</h4>\r\n          {debugInfo.map((log, index) => (\r\n            <div key={index} style={{ margin: '4px 0', color: colors.textSecondary }}>\r\n              {log.message}\r\n              {log.data && (\r\n                <pre style={{ margin: '4px 0 8px 16px', fontSize: '11px' }}>\r\n                  {JSON.stringify(log.data, null, 2)}\r\n                </pre>\r\n              )}\r\n            </div>\r\n          ))}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div style={{\r\n      position: 'relative',\r\n      width: 'calc(100% - 4rem)',\r\n      height: '80vh',\r\n      margin: '2rem',\r\n      fontFamily: 'Inter, sans-serif',\r\n      backgroundColor: colors.backgroundSecondary,\r\n      borderRadius: '12px',\r\n      overflow: 'hidden',\r\n      boxShadow: `0 8px 32px ${withOpacity(colors.black, 0.1)}`,\r\n      border: `1px solid ${colors.border}`\r\n    }}>\r\n      <style>{`\r\n        @keyframes spin {\r\n          0% { transform: rotate(0deg); }\r\n          100% { transform: rotate(360deg); }\r\n        }\r\n        .leaflet-container {\r\n          height: 100%;\r\n          width: 100%;\r\n          border-radius: 12px;\r\n        }\r\n      `}</style>\r\n\r\n      {/* Status overlay */}\r\n      <div style={{\r\n        position: 'absolute',\r\n        top: '1rem',\r\n        left: '1rem',\r\n        zIndex: 1000,\r\n        backgroundColor: withOpacity(colors.background, 0.9),\r\n        padding: '0.75rem',\r\n        borderRadius: '8px',\r\n        border: `1px solid ${colors.border}`,\r\n        fontSize: '12px'\r\n      }}>\r\n        <div>Locations: {locations.length}</div>\r\n        <div>Leaflet Ready: {leafletReady ? 'Yes' : 'No'}</div>\r\n      </div>\r\n\r\n      {/* Map interaction hint */}\r\n      <div style={{\r\n        position: 'absolute',\r\n        top: '1rem',\r\n        right: '1rem',\r\n        zIndex: 1000,\r\n        backgroundColor: withOpacity(colors.primary, 0.9),\r\n        color: colors.white,\r\n        padding: '0.5rem 0.75rem',\r\n        borderRadius: '6px',\r\n        fontSize: '11px',\r\n        pointerEvents: 'none'\r\n      }}>\r\n        Click map to enable scroll zoom\r\n      </div>\r\n\r\n      {/* Debug panel (toggle-able) */}\r\n      <details style={{\r\n        position: 'absolute',\r\n        bottom: '1rem',\r\n        left: '1rem',\r\n        zIndex: 1000,\r\n        backgroundColor: withOpacity(colors.background, 0.95),\r\n        padding: '0.5rem',\r\n        borderRadius: '8px',\r\n        border: `1px solid ${colors.border}`,\r\n        fontSize: '11px',\r\n        fontFamily: 'monospace',\r\n        maxWidth: '400px'\r\n      }}>\r\n        <summary style={{ cursor: 'pointer', marginBottom: '0.5rem' }}>Debug Info</summary>\r\n        {debugInfo.slice(-10).map((log, index) => (\r\n          <div key={index} style={{ margin: '2px 0', color: colors.textSecondary }}>\r\n            {log.message}\r\n          </div>\r\n        ))}\r\n      </details>\r\n\r\n      <div ref={mapRef} style={{ width: '100%', height: '100%' }}></div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CompanyLocationsMap;","import React, { useState, useEffect } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport Header from './Header';\r\nimport Footer from './Footer';\r\nimport FollowACEF from './FollowAcef'; // Import your theme hook\r\nimport CompanyLocationsMap from './CompanyLocationsMap'\r\nimport {\r\n  Typography, Container, Box, Button, CircularProgress\r\n} from '@mui/material';\r\n// Minimalistic styling with scroll animations\r\nconst styleSheet = document.createElement('style');\r\nstyleSheet.textContent = `\r\n  @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');\r\n  \r\n  @keyframes fadeInUp {\r\n    from { \r\n      opacity: 0; \r\n      transform: translateY(30px);\r\n    }\r\n    to { \r\n      opacity: 1; \r\n      transform: translateY(0);\r\n    }\r\n  }\r\n  \r\n  @keyframes fadeIn {\r\n    from { opacity: 0; }\r\n    to { opacity: 1; }\r\n  }\r\n  \r\n  @keyframes shimmer {\r\n    0% { transform: translateX(-100%); }\r\n    100% { transform: translateX(100%); }\r\n  }\r\n  \r\n  .scroll-reveal {\r\n    opacity: 0;\r\n    transform: translateY(20px);\r\n    transition: all 0.6s ease-out;\r\n  }\r\n  \r\n  .scroll-reveal.visible {\r\n    opacity: 1;\r\n    transform: translateY(0);\r\n  }\r\n  \r\n  .minimal-card {\r\n    background: rgba(255, 255, 255, 0.4);\r\n    backdrop-filter: blur(10px);\r\n    border: 1px solid rgba(255, 255, 255, 0.2);\r\n    transition: all 0.3s ease;\r\n  }\r\n  \r\n  .minimal-card:hover {\r\n    background: rgba(255, 255, 255, 0.6);\r\n    transform: translateY(-2px);\r\n    box-shadow: 0 8px 25px rgba(0, 0, 0, 0.08);\r\n  }\r\n  \r\n  .minimal-input {\r\n    background: rgba(255, 255, 255, 0.3);\r\n    backdrop-filter: blur(10px);\r\n    border: 1px solid rgba(255, 255, 255, 0.2);\r\n    transition: all 0.2s ease;\r\n  }\r\n  \r\n  .minimal-input:focus {\r\n    background: rgba(255, 255, 255, 0.5);\r\n    border-color: rgba(10, 69, 28, 0.3);\r\n    outline: none;\r\n  }\r\n  \r\n  .minimal-button {\r\n    background: rgba(255, 255, 255, 0.3);\r\n    backdrop-filter: blur(10px);\r\n    border: 1px solid rgba(255, 255, 255, 0.2);\r\n    transition: all 0.2s ease;\r\n  }\r\n  \r\n  .minimal-button:hover {\r\n    background: rgba(255, 255, 255, 0.5);\r\n  }\r\n  \r\n  .minimal-button.active {\r\n    background: rgba(10, 69, 28, 0.9);\r\n    color: white;\r\n    border-color: rgba(10, 69, 28, 0.3);\r\n  }\r\n`;\r\n\r\nif (!document.head.querySelector('style[data-minimal-countries]')) {\r\n  styleSheet.setAttribute('data-minimal-countries', 'true');\r\n  document.head.appendChild(styleSheet);\r\n}\r\n\r\n// Refined color system\r\nconst colors = {\r\n  primary: '#0a451c',\r\n  secondary: '#6b7280',\r\n  accent: '#9ccf9f',\r\n  text: '#374151',\r\n  textLight: '#9ca3af',\r\n  success: '#10b981',\r\n  error: '#ef4444',\r\n  border: 'rgba(255, 255, 255, 0.2)',\r\n};\r\n\r\n// Country to region mapping\r\nconst countryToRegion = {\r\n  'United States': 'North America', 'Canada': 'North America', 'Mexico': 'North America', 'Guatemala': 'North America',\r\n  'Costa Rica': 'North America', 'Panama': 'North America', 'Jamaica': 'North America', 'Bahamas': 'North America',\r\n  'Cuba': 'North America', 'Dominican Republic': 'North America', 'Haiti': 'North America', 'Trinidad and Tobago': 'North America',\r\n  'Barbados': 'North America', 'Nicaragua': 'North America', 'Honduras': 'North America', 'Belize': 'North America',\r\n  'El Salvador': 'North America', 'Antigua and Barbuda': 'North America', 'Dominica': 'North America', 'Grenada': 'North America',\r\n  'Saint Kitts and Nevis': 'North America', 'Saint Lucia': 'North America', 'Saint Vincent and the Grenadines': 'North America',\r\n  \r\n  'Brazil': 'South America', 'Argentina': 'South America', 'Chile': 'South America', 'Peru': 'South America',\r\n  'Colombia': 'South America', 'Venezuela': 'South America', 'Ecuador': 'South America', 'Uruguay': 'South America',\r\n  'Paraguay': 'South America', 'Bolivia': 'South America', 'Guyana': 'South America', 'Suriname': 'South America',\r\n  \r\n  'United Kingdom': 'Europe', 'Germany': 'Europe', 'France': 'Europe', 'Italy': 'Europe', 'Spain': 'Europe',\r\n  'Netherlands': 'Europe', 'Belgium': 'Europe', 'Switzerland': 'Europe', 'Austria': 'Europe', 'Sweden': 'Europe',\r\n  'Norway': 'Europe', 'Denmark': 'Europe', 'Finland': 'Europe', 'Poland': 'Europe', 'Czech Republic': 'Europe',\r\n  'Hungary': 'Europe', 'Portugal': 'Europe', 'Greece': 'Europe', 'Ireland': 'Europe', 'Luxembourg': 'Europe',\r\n  'Iceland': 'Europe', 'Malta': 'Europe', 'Cyprus': 'Europe', 'Croatia': 'Europe', 'Slovenia': 'Europe',\r\n  'Slovakia': 'Europe', 'Estonia': 'Europe', 'Latvia': 'Europe', 'Lithuania': 'Europe', 'Romania': 'Europe',\r\n  'Bulgaria': 'Europe', 'Serbia': 'Europe', 'Montenegro': 'Europe', 'Bosnia and Herzegovina': 'Europe',\r\n  'Albania': 'Europe', 'North Macedonia': 'Europe', 'Moldova': 'Europe', 'Ukraine': 'Europe', 'Belarus': 'Europe',\r\n  'Russia': 'Europe', 'Monaco': 'Europe', 'Andorra': 'Europe', 'San Marino': 'Europe', 'Vatican City': 'Europe',\r\n  'Liechtenstein': 'Europe',\r\n  \r\n  'China': 'Asia', 'Japan': 'Asia', 'India': 'Asia', 'South Korea': 'Asia', 'Thailand': 'Asia', 'Singapore': 'Asia',\r\n  'Malaysia': 'Asia', 'Indonesia': 'Asia', 'Philippines': 'Asia', 'Vietnam': 'Asia', 'Cambodia': 'Asia',\r\n  'Laos': 'Asia', 'Myanmar': 'Asia', 'Bangladesh': 'Asia', 'Pakistan': 'Asia', 'Sri Lanka': 'Asia', 'Nepal': 'Asia',\r\n  'Bhutan': 'Asia', 'Mongolia': 'Asia', 'Kazakhstan': 'Asia', 'Uzbekistan': 'Asia', 'Kyrgyzstan': 'Asia',\r\n  'Tajikistan': 'Asia', 'Turkmenistan': 'Asia', 'Afghanistan': 'Asia', 'Iran': 'Asia', 'Iraq': 'Asia',\r\n  'Turkey': 'Asia', 'Syria': 'Asia', 'Lebanon': 'Asia', 'Jordan': 'Asia', 'Israel': 'Asia', 'Palestine': 'Asia',\r\n  'Saudi Arabia': 'Asia', 'United Arab Emirates': 'Asia', 'Qatar': 'Asia', 'Kuwait': 'Asia', 'Bahrain': 'Asia',\r\n  'Oman': 'Asia', 'Yemen': 'Asia', 'Georgia': 'Asia', 'Armenia': 'Asia', 'Azerbaijan': 'Asia', 'Maldives': 'Asia',\r\n  'Brunei': 'Asia', 'Timor-Leste': 'Asia', 'North Korea': 'Asia',\r\n  \r\n  'South Africa': 'Africa', 'Nigeria': 'Africa', 'Egypt': 'Africa', 'Kenya': 'Africa', 'Ghana': 'Africa',\r\n  'Ethiopia': 'Africa', 'Morocco': 'Africa', 'Algeria': 'Africa', 'Tunisia': 'Africa', 'Libya': 'Africa',\r\n  'Sudan': 'Africa', 'South Sudan': 'Africa', 'Chad': 'Africa', 'Central African Republic': 'Africa',\r\n  'Cameroon': 'Africa', 'Democratic Republic of the Congo': 'Africa', 'Congo': 'Africa',\r\n  'Gabon': 'Africa', 'Equatorial Guinea': 'Africa', 'Sao Tome and Principe': 'Africa', 'Angola': 'Africa',\r\n  'Zambia': 'Africa', 'Zimbabwe': 'Africa', 'Botswana': 'Africa', 'Namibia': 'Africa', 'Lesotho': 'Africa',\r\n  'Eswatini': 'Africa', 'Mozambique': 'Africa', 'Malawi': 'Africa', 'Tanzania': 'Africa', 'Uganda': 'Africa',\r\n  'Rwanda': 'Africa', 'Burundi': 'Africa', 'Somalia': 'Africa', 'Djibouti': 'Africa', 'Eritrea': 'Africa',\r\n  'Mali': 'Africa', 'Burkina Faso': 'Africa', 'Niger': 'Africa', 'Mauritania': 'Africa', 'Senegal': 'Africa',\r\n  'Gambia': 'Africa', 'Guinea-Bissau': 'Africa', 'Guinea': 'Africa', 'Sierra Leone': 'Africa', 'Liberia': 'Africa',\r\n  'Ivory Coast': 'Africa', 'Togo': 'Africa', 'Benin': 'Africa', 'Cabo Verde': 'Africa', 'Mauritius': 'Africa',\r\n  'Seychelles': 'Africa', 'Comoros': 'Africa', 'Madagascar': 'Africa',\r\n  \r\n  'Australia': 'Oceania', 'New Zealand': 'Oceania', 'Papua New Guinea': 'Oceania', 'Fiji': 'Oceania',\r\n  'Solomon Islands': 'Oceania', 'Vanuatu': 'Oceania', 'Samoa': 'Oceania', 'Tonga': 'Oceania',\r\n  'Kiribati': 'Oceania', 'Tuvalu': 'Oceania', 'Nauru': 'Oceania', 'Palau': 'Oceania', 'Marshall Islands': 'Oceania',\r\n  'Micronesia': 'Oceania',\r\n};\r\n\r\nconst API_BASE = process.env.REACT_APP_API_URL || 'http://localhost:3001/api';\r\n\r\nconst FindbyCountry = () => {\r\n  const navigate = useNavigate();\r\n  const [countries, setCountries] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState('');\r\n  const [selectedRegion, setSelectedRegion] = useState('All');\r\n  const [searchTerm, setSearchTerm] = useState('');\r\n  const [viewMode, setViewMode] = useState('grid');\r\n\r\n  // Scroll animation observer\r\n  useEffect(() => {\r\n    const observer = new IntersectionObserver(\r\n      (entries) => {\r\n        entries.forEach((entry) => {\r\n          if (entry.isIntersecting) {\r\n            entry.target.classList.add('visible');\r\n          }\r\n        });\r\n      },\r\n      { threshold: 0.1, rootMargin: '0px 0px -50px 0px' }\r\n    );\r\n\r\n    const elements = document.querySelectorAll('.scroll-reveal');\r\n    elements.forEach((el) => observer.observe(el));\r\n\r\n    return () => observer.disconnect();\r\n  }, [countries]);\r\n\r\n  const fetchCountries = async () => {\r\n    setLoading(true);\r\n    setError('');\r\n    \r\n    try {\r\n      const response = await fetch(`${API_BASE}/countries`);\r\n      if (!response.ok) {\r\n        throw new Error(`HTTP error! status: ${response.status}`);\r\n      }\r\n      \r\n      const data = await response.json();\r\n      \r\n      if (!Array.isArray(data)) {\r\n        throw new Error('Invalid response format');\r\n      }\r\n      \r\n      const transformedCountries = data.map(country => ({\r\n        id: country.id,\r\n        name: country.name,\r\n        region: countryToRegion[country.name] || 'Other',\r\n        reached: true,\r\n        ...country\r\n      }));\r\n      \r\n      const sortedCountries = transformedCountries.sort((a, b) => \r\n        a.name.localeCompare(b.name)\r\n      );\r\n      \r\n      setCountries(sortedCountries);\r\n    } catch (err) {\r\n      console.error('Error fetching countries:', err);\r\n      setError(`Failed to load countries: ${err.message}`);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchCountries();\r\n  }, []);\r\n\r\n  const handleCountryClick = (country) => {\r\n    navigate(`/country/${encodeURIComponent(country.name)}`);\r\n  };\r\n\r\n  const groupedCountries = countries.reduce((acc, country) => {\r\n    if (!acc[country.region]) {\r\n      acc[country.region] = [];\r\n    }\r\n    acc[country.region].push(country);\r\n    return acc;\r\n  }, {});\r\n\r\n  const regions = ['All', ...Object.keys(groupedCountries).sort()];\r\n  const filteredCountries = selectedRegion === 'All' \r\n    ? countries \r\n    : groupedCountries[selectedRegion] || [];\r\n    \r\n  const searchResults = filteredCountries.filter(country =>\r\n    country.name.toLowerCase().includes(searchTerm.toLowerCase())\r\n  );\r\n\r\n  const getRegionColor = (region) => {\r\n    const colorMap = {\r\n      'North America': '#0ea5e9',\r\n      'South America': '#10b981',\r\n      'Europe': '#8b5cf6',\r\n      'Africa': '#f59e0b',\r\n      'Asia': '#ef4444',\r\n      'Oceania': '#06b6d4',\r\n      'Other': colors.textLight\r\n    };\r\n    return colorMap[region] || colors.accent;\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div style={styles.container}>\r\n        <div style={styles.loadingContainer}>\r\n          <div style={styles.spinner}></div>\r\n          <div style={styles.loadingText}>Loading network...</div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div style={styles.container}>\r\n            <Header/>\r\n\r\n      {/* Minimal Header */}\r\n      <div style={styles.header} className=\"scroll-reveal\">\r\n        <div style={styles.headerContent}>\r\n          <div style={styles.badge} className=\"minimal-card\">\r\n            <div style={styles.statusDot}></div>\r\n            <span>Global Network</span>\r\n          </div>\r\n          \r\n      <Typography \r\n                variant=\"h3\"\r\n                sx={{ \r\n                  fontSize: '2.5rem',\r\n                  fontWeight: 700,\r\n                  color: colors.primary,\r\n                  mb: 2,\r\n                  letterSpacing: '-0.02em'\r\n                }}\r\n              >\r\nCountries Reached              </Typography>          <p style={styles.subtitle}>\r\n            {countries.length} countries across {Object.keys(groupedCountries).length} regions\r\n          </p>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Minimal Controls */}\r\n      <div style={styles.controls} className=\"scroll-reveal\">\r\n        <div style={styles.controlsGrid}>\r\n          <input\r\n            type=\"text\"\r\n            placeholder=\"Search...\"\r\n            value={searchTerm}\r\n            onChange={(e) => setSearchTerm(e.target.value)}\r\n            style={styles.searchInput}\r\n            className=\"minimal-input\"\r\n          />\r\n          \r\n          <div style={styles.viewToggle}>\r\n            <button\r\n              onClick={() => setViewMode('grid')}\r\n              className={`minimal-button ${viewMode === 'grid' ? 'active' : ''}`}\r\n              style={styles.toggleBtn}\r\n            >\r\n              Grid\r\n            </button>\r\n            <button\r\n              onClick={() => setViewMode('list')}\r\n              className={`minimal-button ${viewMode === 'list' ? 'active' : ''}`}\r\n              style={styles.toggleBtn}\r\n            >\r\n              List\r\n            </button>\r\n          </div>\r\n        </div>\r\n\r\n        <div style={styles.filters}>\r\n          {regions.map(region => (\r\n            <button\r\n              key={region}\r\n              onClick={() => setSelectedRegion(region)}\r\n              className={`minimal-button ${selectedRegion === region ? 'active' : ''}`}\r\n              style={styles.filterBtn}\r\n            >\r\n              {region}\r\n              {region !== 'All' && (\r\n                <span style={styles.count}>\r\n                  {(groupedCountries[region] || []).length}\r\n                </span>\r\n              )}\r\n            </button>\r\n          ))}\r\n        </div>\r\n      </div>\r\n\r\n      {/* Content */}\r\n      <div style={styles.content}>\r\n        {error ? (\r\n          <div style={styles.errorState} className=\"minimal-card scroll-reveal\">\r\n            <div style={styles.errorIcon}>!</div>\r\n            <div>\r\n              <h3 style={styles.errorTitle}>Connection Error</h3>\r\n              <p style={styles.errorMessage}>{error}</p>\r\n              <button \r\n                onClick={fetchCountries} \r\n                style={styles.retryBtn}\r\n                className=\"minimal-button\"\r\n              >\r\n                Retry\r\n              </button>\r\n            </div>\r\n          </div>\r\n        ) : searchResults.length === 0 ? (\r\n          <div style={styles.emptyState} className=\"minimal-card scroll-reveal\">\r\n            <div style={styles.emptyIcon}></div>\r\n            <div>\r\n              <h3 style={styles.emptyTitle}>No Results</h3>\r\n              <p style={styles.emptyMessage}>\r\n                {searchTerm ? `No matches for \"${searchTerm}\"` : 'Adjust filters'}\r\n              </p>\r\n            </div>\r\n          </div>\r\n        ) : (\r\n          <div style={{\r\n            ...styles.grid,\r\n            gridTemplateColumns: viewMode === 'grid' \r\n              ? 'repeat(auto-fill, minmax(200px, 1fr))' \r\n              : '1fr',\r\n          }}>\r\n            {searchResults.map((country, index) => {\r\n              const regionColor = getRegionColor(country.region);\r\n              \r\n              return (\r\n                <div\r\n                  key={country.id}\r\n                  className=\"minimal-card scroll-reveal\"\r\n                  style={{\r\n                    ...styles.card,\r\n                    ...(viewMode === 'list' ? styles.listCard : {}),\r\n                    transitionDelay: `${index * 30}ms`,\r\n                  }}\r\n                  onClick={() => handleCountryClick(country)}\r\n                >\r\n                  {viewMode === 'grid' ? (\r\n                    <>\r\n                      <div \r\n                        style={{\r\n                          ...styles.indicator,\r\n                          backgroundColor: regionColor,\r\n                        }}\r\n                      ></div>\r\n                      <h3 style={styles.countryName}>{country.name}</h3>\r\n                      <span style={{\r\n                        ...styles.region,\r\n                        color: regionColor,\r\n                      }}>\r\n                        {country.region}\r\n                      </span>\r\n                    </>\r\n                  ) : (\r\n                    <>\r\n                      <div \r\n                        style={{\r\n                          ...styles.indicatorSmall,\r\n                          backgroundColor: regionColor,\r\n                        }}\r\n                      ></div>\r\n                      <div style={styles.listContent}>\r\n                        <h3 style={styles.listName}>{country.name}</h3>\r\n                        <span style={{\r\n                          ...styles.listRegion,\r\n                          color: regionColor,\r\n                        }}>\r\n                          {country.region}\r\n                        </span>\r\n                      </div>\r\n                      <div style={{\r\n                        ...styles.arrow,\r\n                        color: regionColor\r\n                      }}></div>\r\n                    </>\r\n                  )}\r\n                </div>\r\n              );\r\n            })}\r\n          </div>\r\n        )}\r\n      </div>\r\n      <CompanyLocationsMap/>\r\n      <FollowACEF/>\r\n          <Footer/>\r\n\r\n    </div>\r\n  );\r\n};\r\n\r\nconst styles = {\r\n container: {\r\n  minHeight: '100vh',\r\n  fontFamily: \"'Inter', -apple-system, BlinkMacSystemFont, sans-serif\",\r\n  color: colors.text,\r\nbackground: 'linear-gradient(135deg, #e0f7fa, #80deea, #e0f7fa, #ffffff)',\r\n},\r\n\r\n\r\n  loadingContainer: {\r\n    minHeight: '100vh',\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    gap: '1rem',\r\n  },\r\n\r\n  spinner: {\r\n    width: '24px',\r\n    height: '24px',\r\n    border: '2px solid rgba(10, 69, 28, 0.2)',\r\n    borderTop: '2px solid #0a451c',\r\n    borderRadius: '50%',\r\n    animation: 'spin 1s linear infinite',\r\n  },\r\n\r\n  loadingText: {\r\n    fontSize: '0.875rem',\r\n    color: colors.secondary,\r\n    fontWeight: '500',\r\n  },\r\n\r\n  header: {\r\n    textAlign: 'center',\r\n    padding: '2rem 1rem 1rem',\r\n    maxWidth: '800px',\r\n    margin: '0 auto',\r\n  },\r\n\r\n  headerContent: {\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n    gap: '1rem',\r\n  },\r\n\r\n  badge: {\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    gap: '0.5rem',\r\n    padding: '0.5rem 1rem',\r\n    borderRadius: '20px',\r\n    fontSize: '0.75rem',\r\n    fontWeight: '500',\r\n    color: colors.primary,\r\n  },\r\n\r\n  statusDot: {\r\n    width: '6px',\r\n    height: '6px',\r\n    borderRadius: '50%',\r\n    backgroundColor: colors.success,\r\n  },\r\n\r\n  title: {\r\n    fontSize: '1.75rem',\r\n    fontWeight: '600',\r\n    margin: '0',\r\n    color: colors.text,\r\n  },\r\n      mainHeading: {\r\n       fontSize: '2.5rem',\r\n            fontWeight: '700',\r\n            color: colors.primary,\r\n      fontFamily: 'inherit'\r\n    },\r\n\r\n  subtitle: {\r\n    fontSize: '0.875rem',\r\n    color: colors.secondary,\r\n    margin: '0',\r\n  },\r\n\r\n  controls: {\r\n    maxWidth: '1000px',\r\n    margin: '0 auto',\r\n    padding: '1rem',\r\n  },\r\n\r\n  controlsGrid: {\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    gap: '1rem',\r\n    marginBottom: '1rem',\r\n    flexWrap: 'wrap',\r\n  },\r\n\r\n  searchInput: {\r\n    flex: '1',\r\n    minWidth: '200px',\r\n    padding: '0.5rem 0.75rem',\r\n    fontSize: '0.875rem',\r\n    borderRadius: '8px',\r\n    color: colors.text,\r\n  },\r\n\r\n  viewToggle: {\r\n    display: 'flex',\r\n    gap: '0.25rem',\r\n  },\r\n\r\n  toggleBtn: {\r\n    padding: '0.5rem 0.75rem',\r\n    fontSize: '0.75rem',\r\n    fontWeight: '500',\r\n    borderRadius: '6px',\r\n    cursor: 'pointer',\r\n  },\r\n\r\n  filters: {\r\n    display: 'flex',\r\n    flexWrap: 'wrap',\r\n    gap: '0.5rem',\r\n    justifyContent: 'center',\r\n  },\r\n\r\n  filterBtn: {\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    gap: '0.375rem',\r\n    padding: '0.375rem 0.75rem',\r\n    fontSize: '0.75rem',\r\n    fontWeight: '500',\r\n    borderRadius: '16px',\r\n    cursor: 'pointer',\r\n  },\r\n\r\n  count: {\r\n    backgroundColor: 'rgba(255, 255, 255, 0.4)',\r\n    padding: '0.125rem 0.375rem',\r\n    borderRadius: '8px',\r\n    fontSize: '0.625rem',\r\n    fontWeight: '600',\r\n  },\r\n\r\n  content: {\r\n    maxWidth: '1000px',\r\n    margin: '0 auto',\r\n    padding: '0 1rem 2rem',\r\n  },\r\n\r\n  grid: {\r\n    display: 'grid',\r\n    gap: '0.75rem',\r\n  },\r\n\r\n  card: {\r\n    padding: '1rem',\r\n    borderRadius: '12px',\r\n    cursor: 'pointer',\r\n    textAlign: 'center',\r\n    position: 'relative',\r\n    overflow: 'hidden',\r\n  },\r\n\r\n  listCard: {\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    textAlign: 'left',\r\n    padding: '0.75rem 1rem',\r\n  },\r\n\r\n  indicator: {\r\n    width: '8px',\r\n    height: '8px',\r\n    borderRadius: '50%',\r\n    margin: '0 auto 0.75rem',\r\n  },\r\n\r\n  indicatorSmall: {\r\n    width: '8px',\r\n    height: '8px',\r\n    borderRadius: '50%',\r\n    marginRight: '0.75rem',\r\n    flexShrink: 0,\r\n  },\r\n\r\n  countryName: {\r\n    fontSize: '0.875rem',\r\n    fontWeight: '600',\r\n    margin: '0 0 0.375rem 0',\r\n    color: colors.text,\r\n  },\r\n\r\n  region: {\r\n    fontSize: '0.75rem',\r\n    fontWeight: '500',\r\n  },\r\n\r\n  listContent: {\r\n    flex: '1',\r\n  },\r\n\r\n  listName: {\r\n    fontSize: '0.875rem',\r\n    fontWeight: '600',\r\n    margin: '0 0 0.125rem 0',\r\n    color: colors.text,\r\n  },\r\n\r\n  listRegion: {\r\n    fontSize: '0.75rem',\r\n    fontWeight: '500',\r\n  },\r\n\r\n  arrow: {\r\n    fontSize: '0.875rem',\r\n    fontWeight: '600',\r\n  },\r\n\r\n  errorState: {\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    gap: '1rem',\r\n    padding: '1.5rem',\r\n    borderRadius: '12px',\r\n    maxWidth: '400px',\r\n    margin: '0 auto',\r\n  },\r\n\r\n  errorIcon: {\r\n    fontSize: '1.25rem',\r\n    color: colors.error,\r\n    fontWeight: '600',\r\n  },\r\n\r\n  errorTitle: {\r\n    fontSize: '0.875rem',\r\n    fontWeight: '600',\r\n    color: colors.error,\r\n    margin: '0 0 0.25rem 0',\r\n  },\r\n\r\n  errorMessage: {\r\n    fontSize: '0.75rem',\r\n    color: colors.secondary,\r\n    margin: '0 0 0.75rem 0',\r\n  },\r\n\r\n  retryBtn: {\r\n    padding: '0.375rem 0.75rem',\r\n    fontSize: '0.75rem',\r\n    fontWeight: '500',\r\n    borderRadius: '6px',\r\n    cursor: 'pointer',\r\n  },\r\n\r\n  emptyState: {\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    gap: '1rem',\r\n    padding: '1.5rem',\r\n    borderRadius: '12px',\r\n    maxWidth: '400px',\r\n    margin: '0 auto',\r\n  },\r\n\r\n  emptyIcon: {\r\n    fontSize: '1.25rem',\r\n    color: colors.textLight,\r\n    fontWeight: '300',\r\n  },\r\n\r\n  emptyTitle: {\r\n    fontSize: '0.875rem',\r\n    fontWeight: '600',\r\n    color: colors.text,\r\n    margin: '0 0 0.25rem 0',\r\n  },\r\n\r\n  emptyMessage: {\r\n    fontSize: '0.75rem',\r\n    color: colors.secondary,\r\n    margin: '0',\r\n  },\r\n};\r\n\r\n// Add spin animation to global styles\r\nconst spinAnimation = `\r\n  @keyframes spin {\r\n    0% { transform: rotate(0deg); }\r\n    100% { transform: rotate(360deg); }\r\n  }\r\n`;\r\n\r\nif (!document.head.querySelector('style[data-spin-animation]')) {\r\n  const spinStyle = document.createElement('style');\r\n  spinStyle.setAttribute('data-spin-animation', 'true');\r\n  spinStyle.textContent = spinAnimation;\r\n  document.head.appendChild(spinStyle);\r\n}\r\n\r\nexport default FindbyCountry;","import React, { useState, useEffect } from 'react';\r\nimport { TrendingUp, Users, Globe, Leaf, Heart, Award, ChevronLeft, ChevronRight } from 'lucide-react';\r\n\r\nconst DisplayImpact = ({ \r\n  title = \"Our Impact\",\r\n  subtitle = \"Making a difference through measurable outcomes\",\r\n  showCategories = true,\r\n  maxItems = 8,\r\n  layout = \"grid\", // grid, carousel, featured\r\n  className = \"\"\r\n}) => {\r\n  const [impacts, setImpacts] = useState([]);\r\n  const [categories, setCategories] = useState([]);\r\n  const [selectedCategory, setSelectedCategory] = useState('');\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState('');\r\n  const [currentSlide, setCurrentSlide] = useState(0);\r\n\r\n  // Fetch impacts on component mount\r\n  useEffect(() => {\r\n    fetchImpacts();\r\n    if (showCategories) {\r\n      fetchCategories();\r\n    }\r\n  }, []);\r\n\r\n  const fetchImpacts = async () => {\r\n    try {\r\n      const endpoint = layout === 'featured' ? '/api/impacts/featured' : '/api/impacts/public';\r\n      const url = maxItems ? `${endpoint}?limit=${maxItems}` : endpoint;\r\n      \r\n      const response = await fetch(url);\r\n      const data = await response.json();\r\n      \r\n      if (data.success) {\r\n        setImpacts(data.data);\r\n      } else {\r\n        setError('Failed to load impact data');\r\n      }\r\n    } catch (err) {\r\n      setError('Unable to fetch impact statistics');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const fetchCategories = async () => {\r\n    try {\r\n      const response = await fetch('/api/impacts/categories');\r\n      const data = await response.json();\r\n      \r\n      if (data.success) {\r\n        setCategories(data.data);\r\n      }\r\n    } catch (err) {\r\n      console.error('Failed to fetch categories');\r\n    }\r\n  };\r\n\r\n  const fetchByCategory = async (category) => {\r\n    if (!category) {\r\n      fetchImpacts();\r\n      return;\r\n    }\r\n\r\n    setLoading(true);\r\n    try {\r\n      const response = await fetch(`/api/impacts/category/${category}`);\r\n      const data = await response.json();\r\n      \r\n      if (data.success) {\r\n        setImpacts(data.data);\r\n      }\r\n    } catch (err) {\r\n      setError('Failed to fetch category data');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleCategoryFilter = (category) => {\r\n    setSelectedCategory(category);\r\n    fetchByCategory(category);\r\n    setCurrentSlide(0);\r\n  };\r\n\r\n  const formatNumber = (number) => {\r\n    if (number >= 1000000) {\r\n      return (number / 1000000).toFixed(1) + 'M';\r\n    } else if (number >= 1000) {\r\n      return (number / 1000).toFixed(1) + 'K';\r\n    }\r\n    return number.toLocaleString();\r\n  };\r\n\r\n  const getIconForCategory = (category) => {\r\n    const iconMap = {\r\n      'environment': <Leaf className=\"h-6 w-6\" />,\r\n      'social': <Users className=\"h-6 w-6\" />,\r\n      'economic': <TrendingUp className=\"h-6 w-6\" />,\r\n      'education': <Award className=\"h-6 w-6\" />,\r\n      'health': <Heart className=\"h-6 w-6\" />,\r\n      'community': <Globe className=\"h-6 w-6\" />,\r\n    };\r\n    return iconMap[category.toLowerCase()] || <TrendingUp className=\"h-6 w-6\" />;\r\n  };\r\n\r\n  const nextSlide = () => {\r\n    if (layout === 'carousel') {\r\n      setCurrentSlide((prev) => (prev + 1) % Math.ceil(impacts.length / 4));\r\n    }\r\n  };\r\n\r\n  const prevSlide = () => {\r\n    if (layout === 'carousel') {\r\n      setCurrentSlide((prev) => (prev - 1 + Math.ceil(impacts.length / 4)) % Math.ceil(impacts.length / 4));\r\n    }\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <section className={`py-16 bg-gray-50 ${className}`}>\r\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\r\n          <div className=\"text-center mb-12\">\r\n            <div className=\"h-8 bg-gray-200 rounded w-64 mx-auto mb-4 animate-pulse\"></div>\r\n            <div className=\"h-4 bg-gray-200 rounded w-96 mx-auto animate-pulse\"></div>\r\n          </div>\r\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6\">\r\n            {[...Array(4)].map((_, index) => (\r\n              <div key={index} className=\"bg-white rounded-lg shadow-lg p-6 animate-pulse\">\r\n                <div className=\"h-12 w-12 bg-gray-200 rounded-lg mb-4\"></div>\r\n                <div className=\"h-8 bg-gray-200 rounded mb-2\"></div>\r\n                <div className=\"h-4 bg-gray-200 rounded mb-4\"></div>\r\n                <div className=\"h-6 bg-gray-200 rounded w-20\"></div>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </div>\r\n      </section>\r\n    );\r\n  }\r\n\r\n  if (error) {\r\n    return (\r\n      <section className={`py-16 bg-gray-50 ${className}`}>\r\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center\">\r\n          <div className=\"bg-red-50 border border-red-200 rounded-lg p-8\">\r\n            <p className=\"text-red-800\">{error}</p>\r\n          </div>\r\n        </div>\r\n      </section>\r\n    );\r\n  }\r\n\r\n  if (impacts.length === 0) {\r\n    return (\r\n      <section className={`py-16 bg-gray-50 ${className}`}>\r\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center\">\r\n          <h2 className=\"text-3xl font-bold text-gray-900 mb-4\">{title}</h2>\r\n          <p className=\"text-gray-600 mb-8\">{subtitle}</p>\r\n          <div className=\"bg-white rounded-lg shadow-lg p-12\">\r\n            <TrendingUp className=\"h-16 w-16 text-gray-400 mx-auto mb-4\" />\r\n            <p className=\"text-gray-500\">No impact statistics available at this time.</p>\r\n          </div>\r\n        </div>\r\n      </section>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <section className={`py-16 bg-gray-50 ${className}`}>\r\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\r\n        {/* Header */}\r\n        <div className=\"text-center mb-12\">\r\n          <h2 className=\"text-3xl font-bold text-gray-900 mb-4\">{title}</h2>\r\n          <p className=\"text-lg text-gray-600 max-w-3xl mx-auto\">{subtitle}</p>\r\n        </div>\r\n\r\n        {/* Category Filter */}\r\n        {showCategories && categories.length > 0 && (\r\n          <div className=\"flex flex-wrap justify-center gap-3 mb-12\">\r\n            <button\r\n              onClick={() => handleCategoryFilter('')}\r\n              className={`px-6 py-3 rounded-full text-sm font-medium transition-all duration-200 ${\r\n                selectedCategory === ''\r\n                  ? 'bg-blue-600 text-white shadow-lg'\r\n                  : 'bg-white text-gray-700 hover:bg-gray-50 shadow'\r\n              }`}\r\n            >\r\n              All Categories\r\n            </button>\r\n            {categories.map((category) => (\r\n              <button\r\n                key={category}\r\n                onClick={() => handleCategoryFilter(category)}\r\n                className={`px-6 py-3 rounded-full text-sm font-medium transition-all duration-200 capitalize ${\r\n                  selectedCategory === category\r\n                    ? 'bg-blue-600 text-white shadow-lg'\r\n                    : 'bg-white text-gray-700 hover:bg-gray-50 shadow'\r\n                }`}\r\n              >\r\n                {category}\r\n              </button>\r\n            ))}\r\n          </div>\r\n        )}\r\n\r\n        {/* Impact Display */}\r\n        {layout === 'carousel' ? (\r\n          <div className=\"relative\">\r\n            <div className=\"overflow-hidden\">\r\n              <div \r\n                className=\"flex transition-transform duration-500 ease-in-out\"\r\n                style={{ transform: `translateX(-${currentSlide * 100}%)` }}\r\n              >\r\n                {Array.from({ length: Math.ceil(impacts.length / 4) }).map((_, slideIndex) => (\r\n                  <div key={slideIndex} className=\"min-w-full grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6\">\r\n                    {impacts.slice(slideIndex * 4, (slideIndex + 1) * 4).map((impact) => (\r\n                      <ImpactCard key={impact.id} impact={impact} getIconForCategory={getIconForCategory} formatNumber={formatNumber} />\r\n                    ))}\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            </div>\r\n            \r\n            {/* Carousel Controls */}\r\n            {Math.ceil(impacts.length / 4) > 1 && (\r\n              <>\r\n                <button\r\n                  onClick={prevSlide}\r\n                  className=\"absolute left-0 top-1/2 -translate-y-1/2 -translate-x-4 bg-white rounded-full p-3 shadow-lg hover:bg-gray-50 transition-colors\"\r\n                >\r\n                  <ChevronLeft className=\"h-5 w-5 text-gray-600\" />\r\n                </button>\r\n                <button\r\n                  onClick={nextSlide}\r\n                  className=\"absolute right-0 top-1/2 -translate-y-1/2 translate-x-4 bg-white rounded-full p-3 shadow-lg hover:bg-gray-50 transition-colors\"\r\n                >\r\n                  <ChevronRight className=\"h-5 w-5 text-gray-600\" />\r\n                </button>\r\n                \r\n                {/* Dots Indicator */}\r\n                <div className=\"flex justify-center space-x-2 mt-8\">\r\n                  {Array.from({ length: Math.ceil(impacts.length / 4) }).map((_, index) => (\r\n                    <button\r\n                      key={index}\r\n                      onClick={() => setCurrentSlide(index)}\r\n                      className={`w-3 h-3 rounded-full transition-colors ${\r\n                        index === currentSlide ? 'bg-blue-600' : 'bg-gray-300'\r\n                      }`}\r\n                    />\r\n                  ))}\r\n                </div>\r\n              </>\r\n            )}\r\n          </div>\r\n        ) : layout === 'featured' ? (\r\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6\">\r\n            {impacts.slice(0, 4).map((impact) => (\r\n              <FeaturedImpactCard key={impact.id} impact={impact} getIconForCategory={getIconForCategory} formatNumber={formatNumber} />\r\n            ))}\r\n          </div>\r\n        ) : (\r\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6\">\r\n            {impacts.map((impact) => (\r\n              <ImpactCard key={impact.id} impact={impact} getIconForCategory={getIconForCategory} formatNumber={formatNumber} />\r\n            ))}\r\n          </div>\r\n        )}\r\n\r\n        {/* View More Button */}\r\n        {impacts.length >= maxItems && (\r\n          <div className=\"text-center mt-12\">\r\n            <button className=\"inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 transition-colors\">\r\n              View All Impact Statistics\r\n              <TrendingUp className=\"ml-2 h-5 w-5\" />\r\n            </button>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </section>\r\n  );\r\n};\r\n\r\n// Regular Impact Card Component\r\nconst ImpactCard = ({ impact, getIconForCategory, formatNumber }) => {\r\n  return (\r\n    <div className=\"bg-white rounded-lg shadow-lg p-6 hover:shadow-xl transition-shadow duration-300 group\">\r\n      <div className=\"flex items-center justify-between mb-4\">\r\n        <div \r\n          className=\"p-3 rounded-lg\"\r\n          style={{ backgroundColor: impact.color + '20', color: impact.color }}\r\n        >\r\n          {impact.icon ? (\r\n            <span className=\"text-2xl\">{impact.icon}</span>\r\n          ) : (\r\n            getIconForCategory(impact.category)\r\n          )}\r\n        </div>\r\n        <span \r\n          className=\"px-3 py-1 text-xs font-medium rounded-full capitalize\"\r\n          style={{ \r\n            backgroundColor: impact.color + '20', \r\n            color: impact.color \r\n          }}\r\n        >\r\n          {impact.category}\r\n        </span>\r\n      </div>\r\n      \r\n      <div className=\"mb-4\">\r\n        <h3 className=\"text-2xl font-bold text-gray-900 mb-1\">\r\n          {formatNumber(impact.value)} {impact.unit}\r\n        </h3>\r\n        <h4 className=\"text-lg font-semibold text-gray-800 mb-2 group-hover:text-blue-600 transition-colors\">\r\n          {impact.title}\r\n        </h4>\r\n        <p className=\"text-gray-600 text-sm leading-relaxed\">\r\n          {impact.description}\r\n        </p>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\n// Featured Impact Card Component (larger, more prominent)\r\nconst FeaturedImpactCard = ({ impact, getIconForCategory, formatNumber }) => {\r\n  return (\r\n    <div className=\"bg-gradient-to-br from-white to-gray-50 rounded-xl shadow-xl p-8 hover:shadow-2xl transition-all duration-300 group border border-gray-100\">\r\n      <div className=\"flex items-center justify-between mb-6\">\r\n        <div \r\n          className=\"p-4 rounded-xl shadow-sm\"\r\n          style={{ backgroundColor: impact.color, color: 'white' }}\r\n        >\r\n          {impact.icon ? (\r\n            <span className=\"text-3xl\">{impact.icon}</span>\r\n          ) : (\r\n            getIconForCategory(impact.category)\r\n          )}\r\n        </div>\r\n        <span \r\n          className=\"px-4 py-2 text-sm font-medium rounded-full capitalize border\"\r\n          style={{ \r\n            backgroundColor: 'white',\r\n            color: impact.color,\r\n            borderColor: impact.color + '40'\r\n          }}\r\n        >\r\n          {impact.category}\r\n        </span>\r\n      </div>\r\n      \r\n      <div className=\"text-center mb-6\">\r\n        <h3 className=\"text-4xl font-bold mb-2\" style={{ color: impact.color }}>\r\n          {formatNumber(impact.value)}\r\n        </h3>\r\n        <span className=\"text-lg text-gray-500 font-medium\">{impact.unit}</span>\r\n      </div>\r\n      \r\n      <div>\r\n        <h4 className=\"text-xl font-bold text-gray-800 mb-3 group-hover:text-blue-600 transition-colors text-center\">\r\n          {impact.title}\r\n        </h4>\r\n        <p className=\"text-gray-600 leading-relaxed text-center\">\r\n          {impact.description}\r\n        </p>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DisplayImpact;","import React, { useState, useEffect } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\n// Minimalistic styling with scroll animations\r\nconst styleSheet = document.createElement('style');\r\nstyleSheet.textContent = `\r\n  @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');\r\n  \r\n  @keyframes fadeInUp {\r\n    from { \r\n      opacity: 0; \r\n      transform: translateY(30px);\r\n    }\r\n    to { \r\n      opacity: 1; \r\n      transform: translateY(0);\r\n    }\r\n  }\r\n  \r\n  @keyframes fadeIn {\r\n    from { opacity: 0; }\r\n    to { opacity: 1; }\r\n  }\r\n  \r\n  @keyframes shimmer {\r\n    0% { transform: translateX(-100%); }\r\n    100% { transform: translateX(100%); }\r\n  }\r\n  \r\n  .scroll-reveal {\r\n    opacity: 0;\r\n    transform: translateY(20px);\r\n    transition: all 0.6s ease-out;\r\n  }\r\n  \r\n  .scroll-reveal.visible {\r\n    opacity: 1;\r\n    transform: translateY(0);\r\n  }\r\n  \r\n  .minimal-card {\r\n    background: rgba(255, 255, 255, 0.4);\r\n    backdrop-filter: blur(10px);\r\n    border: 1px solid rgba(255, 255, 255, 0.2);\r\n    transition: all 0.3s ease;\r\n  }\r\n  \r\n  .minimal-card:hover {\r\n    background: rgba(255, 255, 255, 0.6);\r\n    transform: translateY(-2px);\r\n    box-shadow: 0 8px 25px rgba(0, 0, 0, 0.08);\r\n  }\r\n  \r\n  .minimal-input {\r\n    background: rgba(255, 255, 255, 0.3);\r\n    backdrop-filter: blur(10px);\r\n    border: 1px solid rgba(255, 255, 255, 0.2);\r\n    transition: all 0.2s ease;\r\n  }\r\n  \r\n  .minimal-input:focus {\r\n    background: rgba(255, 255, 255, 0.5);\r\n    border-color: rgba(10, 69, 28, 0.3);\r\n    outline: none;\r\n  }\r\n  \r\n  .minimal-button {\r\n    background: rgba(255, 255, 255, 0.3);\r\n    backdrop-filter: blur(10px);\r\n    border: 1px solid rgba(255, 255, 255, 0.2);\r\n    transition: all 0.2s ease;\r\n  }\r\n  \r\n  .minimal-button:hover {\r\n    background: rgba(255, 255, 255, 0.5);\r\n  }\r\n  \r\n  .minimal-button.active {\r\n    background: rgba(10, 69, 28, 0.9);\r\n    color: white;\r\n    border-color: rgba(10, 69, 28, 0.3);\r\n  }\r\n`;\r\n\r\nif (!document.head.querySelector('style[data-minimal-countries]')) {\r\n  styleSheet.setAttribute('data-minimal-countries', 'true');\r\n  document.head.appendChild(styleSheet);\r\n}\r\n\r\n// Refined color system\r\nconst colors = {\r\n  primary: '#0a451c',\r\n  secondary: '#6b7280',\r\n  accent: '#9ccf9f',\r\n  text: '#374151',\r\n  textLight: '#9ca3af',\r\n  success: '#10b981',\r\n  error: '#ef4444',\r\n  border: 'rgba(255, 255, 255, 0.2)',\r\n};\r\n\r\n// Country to region mapping\r\nconst countryToRegion = {\r\n  'United States': 'North America', 'Canada': 'North America', 'Mexico': 'North America', 'Guatemala': 'North America',\r\n  'Costa Rica': 'North America', 'Panama': 'North America', 'Jamaica': 'North America', 'Bahamas': 'North America',\r\n  'Cuba': 'North America', 'Dominican Republic': 'North America', 'Haiti': 'North America', 'Trinidad and Tobago': 'North America',\r\n  'Barbados': 'North America', 'Nicaragua': 'North America', 'Honduras': 'North America', 'Belize': 'North America',\r\n  'El Salvador': 'North America', 'Antigua and Barbuda': 'North America', 'Dominica': 'North America', 'Grenada': 'North America',\r\n  'Saint Kitts and Nevis': 'North America', 'Saint Lucia': 'North America', 'Saint Vincent and the Grenadines': 'North America',\r\n  \r\n  'Brazil': 'South America', 'Argentina': 'South America', 'Chile': 'South America', 'Peru': 'South America',\r\n  'Colombia': 'South America', 'Venezuela': 'South America', 'Ecuador': 'South America', 'Uruguay': 'South America',\r\n  'Paraguay': 'South America', 'Bolivia': 'South America', 'Guyana': 'South America', 'Suriname': 'South America',\r\n  \r\n  'United Kingdom': 'Europe', 'Germany': 'Europe', 'France': 'Europe', 'Italy': 'Europe', 'Spain': 'Europe',\r\n  'Netherlands': 'Europe', 'Belgium': 'Europe', 'Switzerland': 'Europe', 'Austria': 'Europe', 'Sweden': 'Europe',\r\n  'Norway': 'Europe', 'Denmark': 'Europe', 'Finland': 'Europe', 'Poland': 'Europe', 'Czech Republic': 'Europe',\r\n  'Hungary': 'Europe', 'Portugal': 'Europe', 'Greece': 'Europe', 'Ireland': 'Europe', 'Luxembourg': 'Europe',\r\n  'Iceland': 'Europe', 'Malta': 'Europe', 'Cyprus': 'Europe', 'Croatia': 'Europe', 'Slovenia': 'Europe',\r\n  'Slovakia': 'Europe', 'Estonia': 'Europe', 'Latvia': 'Europe', 'Lithuania': 'Europe', 'Romania': 'Europe',\r\n  'Bulgaria': 'Europe', 'Serbia': 'Europe', 'Montenegro': 'Europe', 'Bosnia and Herzegovina': 'Europe',\r\n  'Albania': 'Europe', 'North Macedonia': 'Europe', 'Moldova': 'Europe', 'Ukraine': 'Europe', 'Belarus': 'Europe',\r\n  'Russia': 'Europe', 'Monaco': 'Europe', 'Andorra': 'Europe', 'San Marino': 'Europe', 'Vatican City': 'Europe',\r\n  'Liechtenstein': 'Europe',\r\n  \r\n  'China': 'Asia', 'Japan': 'Asia', 'India': 'Asia', 'South Korea': 'Asia', 'Thailand': 'Asia', 'Singapore': 'Asia',\r\n  'Malaysia': 'Asia', 'Indonesia': 'Asia', 'Philippines': 'Asia', 'Vietnam': 'Asia', 'Cambodia': 'Asia',\r\n  'Laos': 'Asia', 'Myanmar': 'Asia', 'Bangladesh': 'Asia', 'Pakistan': 'Asia', 'Sri Lanka': 'Asia', 'Nepal': 'Asia',\r\n  'Bhutan': 'Asia', 'Mongolia': 'Asia', 'Kazakhstan': 'Asia', 'Uzbekistan': 'Asia', 'Kyrgyzstan': 'Asia',\r\n  'Tajikistan': 'Asia', 'Turkmenistan': 'Asia', 'Afghanistan': 'Asia', 'Iran': 'Asia', 'Iraq': 'Asia',\r\n  'Turkey': 'Asia', 'Syria': 'Asia', 'Lebanon': 'Asia', 'Jordan': 'Asia', 'Israel': 'Asia', 'Palestine': 'Asia',\r\n  'Saudi Arabia': 'Asia', 'United Arab Emirates': 'Asia', 'Qatar': 'Asia', 'Kuwait': 'Asia', 'Bahrain': 'Asia',\r\n  'Oman': 'Asia', 'Yemen': 'Asia', 'Georgia': 'Asia', 'Armenia': 'Asia', 'Azerbaijan': 'Asia', 'Maldives': 'Asia',\r\n  'Brunei': 'Asia', 'Timor-Leste': 'Asia', 'North Korea': 'Asia',\r\n  \r\n  'South Africa': 'Africa', 'Nigeria': 'Africa', 'Egypt': 'Africa', 'Kenya': 'Africa', 'Ghana': 'Africa',\r\n  'Ethiopia': 'Africa', 'Morocco': 'Africa', 'Algeria': 'Africa', 'Tunisia': 'Africa', 'Libya': 'Africa',\r\n  'Sudan': 'Africa', 'South Sudan': 'Africa', 'Chad': 'Africa', 'Central African Republic': 'Africa',\r\n  'Cameroon': 'Africa', 'Democratic Republic of the Congo': 'Africa', 'Congo': 'Africa',\r\n  'Gabon': 'Africa', 'Equatorial Guinea': 'Africa', 'Sao Tome and Principe': 'Africa', 'Angola': 'Africa',\r\n  'Zambia': 'Africa', 'Zimbabwe': 'Africa', 'Botswana': 'Africa', 'Namibia': 'Africa', 'Lesotho': 'Africa',\r\n  'Eswatini': 'Africa', 'Mozambique': 'Africa', 'Malawi': 'Africa', 'Tanzania': 'Africa', 'Uganda': 'Africa',\r\n  'Rwanda': 'Africa', 'Burundi': 'Africa', 'Somalia': 'Africa', 'Djibouti': 'Africa', 'Eritrea': 'Africa',\r\n  'Mali': 'Africa', 'Burkina Faso': 'Africa', 'Niger': 'Africa', 'Mauritania': 'Africa', 'Senegal': 'Africa',\r\n  'Gambia': 'Africa', 'Guinea-Bissau': 'Africa', 'Guinea': 'Africa', 'Sierra Leone': 'Africa', 'Liberia': 'Africa',\r\n  'Ivory Coast': 'Africa', 'Togo': 'Africa', 'Benin': 'Africa', 'Cabo Verde': 'Africa', 'Mauritius': 'Africa',\r\n  'Seychelles': 'Africa', 'Comoros': 'Africa', 'Madagascar': 'Africa',\r\n  \r\n  'Australia': 'Oceania', 'New Zealand': 'Oceania', 'Papua New Guinea': 'Oceania', 'Fiji': 'Oceania',\r\n  'Solomon Islands': 'Oceania', 'Vanuatu': 'Oceania', 'Samoa': 'Oceania', 'Tonga': 'Oceania',\r\n  'Kiribati': 'Oceania', 'Tuvalu': 'Oceania', 'Nauru': 'Oceania', 'Palau': 'Oceania', 'Marshall Islands': 'Oceania',\r\n  'Micronesia': 'Oceania',\r\n};\r\n\r\nconst API_BASE = process.env.REACT_APP_API_URL || 'http://localhost:3001/api';\r\n\r\nconst CountriesReached = () => {\r\n  const navigate = useNavigate();\r\n  const [countries, setCountries] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState('');\r\n  const [selectedRegion, setSelectedRegion] = useState('All');\r\n  const [searchTerm, setSearchTerm] = useState('');\r\n  const [viewMode, setViewMode] = useState('grid');\r\n\r\n  // Scroll animation observer\r\n  useEffect(() => {\r\n    const observer = new IntersectionObserver(\r\n      (entries) => {\r\n        entries.forEach((entry) => {\r\n          if (entry.isIntersecting) {\r\n            entry.target.classList.add('visible');\r\n          }\r\n        });\r\n      },\r\n      { threshold: 0.1, rootMargin: '0px 0px -50px 0px' }\r\n    );\r\n\r\n    const elements = document.querySelectorAll('.scroll-reveal');\r\n    elements.forEach((el) => observer.observe(el));\r\n\r\n    return () => observer.disconnect();\r\n  }, [countries]);\r\n\r\n  const fetchCountries = async () => {\r\n    setLoading(true);\r\n    setError('');\r\n    \r\n    try {\r\n      const response = await fetch(`${API_BASE}/countries`);\r\n      if (!response.ok) {\r\n        throw new Error(`HTTP error! status: ${response.status}`);\r\n      }\r\n      \r\n      const data = await response.json();\r\n      \r\n      if (!Array.isArray(data)) {\r\n        throw new Error('Invalid response format');\r\n      }\r\n      \r\n      const transformedCountries = data.map(country => ({\r\n        id: country.id,\r\n        name: country.name,\r\n        region: countryToRegion[country.name] || 'Other',\r\n        reached: true,\r\n        ...country\r\n      }));\r\n      \r\n      const sortedCountries = transformedCountries.sort((a, b) => \r\n        a.name.localeCompare(b.name)\r\n      );\r\n      \r\n      setCountries(sortedCountries);\r\n    } catch (err) {\r\n      console.error('Error fetching countries:', err);\r\n      setError(`Failed to load countries: ${err.message}`);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchCountries();\r\n  }, []);\r\n\r\n  const handleCountryClick = (country) => {\r\n    navigate(`/country/${encodeURIComponent(country.name)}`);\r\n  };\r\n\r\n  const groupedCountries = countries.reduce((acc, country) => {\r\n    if (!acc[country.region]) {\r\n      acc[country.region] = [];\r\n    }\r\n    acc[country.region].push(country);\r\n    return acc;\r\n  }, {});\r\n\r\n  const regions = ['All', ...Object.keys(groupedCountries).sort()];\r\n  const filteredCountries = selectedRegion === 'All' \r\n    ? countries \r\n    : groupedCountries[selectedRegion] || [];\r\n    \r\n  const searchResults = filteredCountries.filter(country =>\r\n    country.name.toLowerCase().includes(searchTerm.toLowerCase())\r\n  );\r\n\r\n  const getRegionColor = (region) => {\r\n    const colorMap = {\r\n      'North America': '#0ea5e9',\r\n      'South America': '#10b981',\r\n      'Europe': '#8b5cf6',\r\n      'Africa': '#f59e0b',\r\n      'Asia': '#ef4444',\r\n      'Oceania': '#06b6d4',\r\n      'Other': colors.textLight\r\n    };\r\n    return colorMap[region] || colors.accent;\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div style={styles.container}>\r\n        <div style={styles.loadingContainer}>\r\n          <div style={styles.spinner}></div>\r\n          <div style={styles.loadingText}>Loading network...</div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div style={styles.container}>\r\n      {/* Minimal Header */}\r\n      <div style={styles.header} className=\"scroll-reveal\">\r\n        <div style={styles.headerContent}>\r\n          <div style={styles.badge} className=\"minimal-card\">\r\n            <div style={styles.statusDot}></div>\r\n            <span>Global Network</span>\r\n          </div>\r\n          \r\n          <h1 style={styles.mainHeading}>Countries Reached</h1>\r\n          <p style={styles.subtitle}>\r\n            {countries.length} countries across {Object.keys(groupedCountries).length} regions\r\n          </p>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Minimal Controls */}\r\n      <div style={styles.controls} className=\"scroll-reveal\">\r\n        <div style={styles.controlsGrid}>\r\n          <input\r\n            type=\"text\"\r\n            placeholder=\"Search...\"\r\n            value={searchTerm}\r\n            onChange={(e) => setSearchTerm(e.target.value)}\r\n            style={styles.searchInput}\r\n            className=\"minimal-input\"\r\n          />\r\n          \r\n          <div style={styles.viewToggle}>\r\n            <button\r\n              onClick={() => setViewMode('grid')}\r\n              className={`minimal-button ${viewMode === 'grid' ? 'active' : ''}`}\r\n              style={styles.toggleBtn}\r\n            >\r\n              Grid\r\n            </button>\r\n            <button\r\n              onClick={() => setViewMode('list')}\r\n              className={`minimal-button ${viewMode === 'list' ? 'active' : ''}`}\r\n              style={styles.toggleBtn}\r\n            >\r\n              List\r\n            </button>\r\n          </div>\r\n        </div>\r\n\r\n        <div style={styles.filters}>\r\n          {regions.map(region => (\r\n            <button\r\n              key={region}\r\n              onClick={() => setSelectedRegion(region)}\r\n              className={`minimal-button ${selectedRegion === region ? 'active' : ''}`}\r\n              style={styles.filterBtn}\r\n            >\r\n              {region}\r\n              {region !== 'All' && (\r\n                <span style={styles.count}>\r\n                  {(groupedCountries[region] || []).length}\r\n                </span>\r\n              )}\r\n            </button>\r\n          ))}\r\n        </div>\r\n      </div>\r\n\r\n      {/* Content */}\r\n      <div style={styles.content}>\r\n        {error ? (\r\n          <div style={styles.errorState} className=\"minimal-card scroll-reveal\">\r\n            <div style={styles.errorIcon}>!</div>\r\n            <div>\r\n              <h3 style={styles.errorTitle}>Connection Error</h3>\r\n              <p style={styles.errorMessage}>{error}</p>\r\n              <button \r\n                onClick={fetchCountries} \r\n                style={styles.retryBtn}\r\n                className=\"minimal-button\"\r\n              >\r\n                Retry\r\n              </button>\r\n            </div>\r\n          </div>\r\n        ) : searchResults.length === 0 ? (\r\n          <div style={styles.emptyState} className=\"minimal-card scroll-reveal\">\r\n            <div style={styles.emptyIcon}></div>\r\n            <div>\r\n              <h3 style={styles.emptyTitle}>No Results</h3>\r\n              <p style={styles.emptyMessage}>\r\n                {searchTerm ? `No matches for \"${searchTerm}\"` : 'Adjust filters'}\r\n              </p>\r\n            </div>\r\n          </div>\r\n        ) : (\r\n          <div style={{\r\n            ...styles.grid,\r\n            gridTemplateColumns: viewMode === 'grid' \r\n              ? 'repeat(auto-fill, minmax(200px, 1fr))' \r\n              : '1fr',\r\n          }}>\r\n            {searchResults.map((country, index) => {\r\n              const regionColor = getRegionColor(country.region);\r\n              \r\n              return (\r\n                <div\r\n                  key={country.id}\r\n                  className=\"minimal-card scroll-reveal\"\r\n                  style={{\r\n                    ...styles.card,\r\n                    ...(viewMode === 'list' ? styles.listCard : {}),\r\n                    transitionDelay: `${index * 30}ms`,\r\n                  }}\r\n                  onClick={() => handleCountryClick(country)}\r\n                >\r\n                  {viewMode === 'grid' ? (\r\n                    <>\r\n                      <div \r\n                        style={{\r\n                          ...styles.indicator,\r\n                          backgroundColor: regionColor,\r\n                        }}\r\n                      ></div>\r\n                      <h3 style={styles.countryName}>{country.name}</h3>\r\n                      <span style={{\r\n                        ...styles.region,\r\n                        color: regionColor,\r\n                      }}>\r\n                        {country.region}\r\n                      </span>\r\n                    </>\r\n                  ) : (\r\n                    <>\r\n                      <div \r\n                        style={{\r\n                          ...styles.indicatorSmall,\r\n                          backgroundColor: regionColor,\r\n                        }}\r\n                      ></div>\r\n                      <div style={styles.listContent}>\r\n                        <h3 style={styles.listName}>{country.name}</h3>\r\n                        <span style={{\r\n                          ...styles.listRegion,\r\n                          color: regionColor,\r\n                        }}>\r\n                          {country.region}\r\n                        </span>\r\n                      </div>\r\n                      <div style={{\r\n                        ...styles.arrow,\r\n                        color: regionColor\r\n                      }}></div>\r\n                    </>\r\n                  )}\r\n                </div>\r\n              );\r\n            })}\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst styles = {\r\n container: {\r\n  minHeight: '100vh',\r\n  fontFamily: \"'Inter', -apple-system, BlinkMacSystemFont, sans-serif\",\r\n  color: colors.text,\r\nbackground: 'linear-gradient(135deg, #e0f7fa, #80deea, #e0f7fa, #ffffff)',\r\n},\r\n\r\n\r\n  loadingContainer: {\r\n    minHeight: '100vh',\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    gap: '1rem',\r\n  },\r\n\r\n  spinner: {\r\n    width: '24px',\r\n    height: '24px',\r\n    border: '2px solid rgba(10, 69, 28, 0.2)',\r\n    borderTop: '2px solid #0a451c',\r\n    borderRadius: '50%',\r\n    animation: 'spin 1s linear infinite',\r\n  },\r\n\r\n  loadingText: {\r\n    fontSize: '0.875rem',\r\n    color: colors.secondary,\r\n    fontWeight: '500',\r\n  },\r\n\r\n  header: {\r\n    textAlign: 'center',\r\n    padding: '2rem 1rem 1rem',\r\n    maxWidth: '800px',\r\n    margin: '0 auto',\r\n  },\r\n\r\n  headerContent: {\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n    gap: '1rem',\r\n  },\r\n\r\n  badge: {\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    gap: '0.5rem',\r\n    padding: '0.5rem 1rem',\r\n    borderRadius: '20px',\r\n    fontSize: '0.75rem',\r\n    fontWeight: '500',\r\n    color: colors.primary,\r\n  },\r\n\r\n  statusDot: {\r\n    width: '6px',\r\n    height: '6px',\r\n    borderRadius: '50%',\r\n    backgroundColor: colors.success,\r\n  },\r\n\r\n  title: {\r\n    fontSize: '1.75rem',\r\n    fontWeight: '600',\r\n    margin: '0',\r\n    color: colors.text,\r\n  },\r\n      mainHeading: {\r\n       fontSize: '2.5rem',\r\n            fontWeight: '700',\r\n            color: colors.primary,\r\n      fontFamily: 'inherit'\r\n    },\r\n\r\n  subtitle: {\r\n    fontSize: '0.875rem',\r\n    color: colors.secondary,\r\n    margin: '0',\r\n  },\r\n\r\n  controls: {\r\n    maxWidth: '1000px',\r\n    margin: '0 auto',\r\n    padding: '1rem',\r\n  },\r\n\r\n  controlsGrid: {\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    gap: '1rem',\r\n    marginBottom: '1rem',\r\n    flexWrap: 'wrap',\r\n  },\r\n\r\n  searchInput: {\r\n    flex: '1',\r\n    minWidth: '200px',\r\n    padding: '0.5rem 0.75rem',\r\n    fontSize: '0.875rem',\r\n    borderRadius: '8px',\r\n    color: colors.text,\r\n  },\r\n\r\n  viewToggle: {\r\n    display: 'flex',\r\n    gap: '0.25rem',\r\n  },\r\n\r\n  toggleBtn: {\r\n    padding: '0.5rem 0.75rem',\r\n    fontSize: '0.75rem',\r\n    fontWeight: '500',\r\n    borderRadius: '6px',\r\n    cursor: 'pointer',\r\n  },\r\n\r\n  filters: {\r\n    display: 'flex',\r\n    flexWrap: 'wrap',\r\n    gap: '0.5rem',\r\n    justifyContent: 'center',\r\n  },\r\n\r\n  filterBtn: {\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    gap: '0.375rem',\r\n    padding: '0.375rem 0.75rem',\r\n    fontSize: '0.75rem',\r\n    fontWeight: '500',\r\n    borderRadius: '16px',\r\n    cursor: 'pointer',\r\n  },\r\n\r\n  count: {\r\n    backgroundColor: 'rgba(255, 255, 255, 0.4)',\r\n    padding: '0.125rem 0.375rem',\r\n    borderRadius: '8px',\r\n    fontSize: '0.625rem',\r\n    fontWeight: '600',\r\n  },\r\n\r\n  content: {\r\n    maxWidth: '1000px',\r\n    margin: '0 auto',\r\n    padding: '0 1rem 2rem',\r\n  },\r\n\r\n  grid: {\r\n    display: 'grid',\r\n    gap: '0.75rem',\r\n  },\r\n\r\n  card: {\r\n    padding: '1rem',\r\n    borderRadius: '12px',\r\n    cursor: 'pointer',\r\n    textAlign: 'center',\r\n    position: 'relative',\r\n    overflow: 'hidden',\r\n  },\r\n\r\n  listCard: {\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    textAlign: 'left',\r\n    padding: '0.75rem 1rem',\r\n  },\r\n\r\n  indicator: {\r\n    width: '8px',\r\n    height: '8px',\r\n    borderRadius: '50%',\r\n    margin: '0 auto 0.75rem',\r\n  },\r\n\r\n  indicatorSmall: {\r\n    width: '8px',\r\n    height: '8px',\r\n    borderRadius: '50%',\r\n    marginRight: '0.75rem',\r\n    flexShrink: 0,\r\n  },\r\n\r\n  countryName: {\r\n    fontSize: '0.875rem',\r\n    fontWeight: '600',\r\n    margin: '0 0 0.375rem 0',\r\n    color: colors.text,\r\n  },\r\n\r\n  region: {\r\n    fontSize: '0.75rem',\r\n    fontWeight: '500',\r\n  },\r\n\r\n  listContent: {\r\n    flex: '1',\r\n  },\r\n\r\n  listName: {\r\n    fontSize: '0.875rem',\r\n    fontWeight: '600',\r\n    margin: '0 0 0.125rem 0',\r\n    color: colors.text,\r\n  },\r\n\r\n  listRegion: {\r\n    fontSize: '0.75rem',\r\n    fontWeight: '500',\r\n  },\r\n\r\n  arrow: {\r\n    fontSize: '0.875rem',\r\n    fontWeight: '600',\r\n  },\r\n\r\n  errorState: {\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    gap: '1rem',\r\n    padding: '1.5rem',\r\n    borderRadius: '12px',\r\n    maxWidth: '400px',\r\n    margin: '0 auto',\r\n  },\r\n\r\n  errorIcon: {\r\n    fontSize: '1.25rem',\r\n    color: colors.error,\r\n    fontWeight: '600',\r\n  },\r\n\r\n  errorTitle: {\r\n    fontSize: '0.875rem',\r\n    fontWeight: '600',\r\n    color: colors.error,\r\n    margin: '0 0 0.25rem 0',\r\n  },\r\n\r\n  errorMessage: {\r\n    fontSize: '0.75rem',\r\n    color: colors.secondary,\r\n    margin: '0 0 0.75rem 0',\r\n  },\r\n\r\n  retryBtn: {\r\n    padding: '0.375rem 0.75rem',\r\n    fontSize: '0.75rem',\r\n    fontWeight: '500',\r\n    borderRadius: '6px',\r\n    cursor: 'pointer',\r\n  },\r\n\r\n  emptyState: {\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    gap: '1rem',\r\n    padding: '1.5rem',\r\n    borderRadius: '12px',\r\n    maxWidth: '400px',\r\n    margin: '0 auto',\r\n  },\r\n\r\n  emptyIcon: {\r\n    fontSize: '1.25rem',\r\n    color: colors.textLight,\r\n    fontWeight: '300',\r\n  },\r\n\r\n  emptyTitle: {\r\n    fontSize: '0.875rem',\r\n    fontWeight: '600',\r\n    color: colors.text,\r\n    margin: '0 0 0.25rem 0',\r\n  },\r\n\r\n  emptyMessage: {\r\n    fontSize: '0.75rem',\r\n    color: colors.secondary,\r\n    margin: '0',\r\n  },\r\n};\r\n\r\n// Add spin animation to global styles\r\nconst spinAnimation = `\r\n  @keyframes spin {\r\n    0% { transform: rotate(0deg); }\r\n    100% { transform: rotate(360deg); }\r\n  }\r\n`;\r\n\r\nif (!document.head.querySelector('style[data-spin-animation]')) {\r\n  const spinStyle = document.createElement('style');\r\n  spinStyle.setAttribute('data-spin-animation', 'true');\r\n  spinStyle.textContent = spinAnimation;\r\n  document.head.appendChild(spinStyle);\r\n}\r\n\r\nexport default CountriesReached;","// ACEF Partnership Questions - Streamlined Version\r\nexport const questions = [\r\n  {\r\n    key: 'applicantType',\r\n    question: \"Are you applying as an individual or representing an organization?\",\r\n    type: 'select',\r\n    options: ['Individual', 'Organization'],\r\n    required: true\r\n  },\r\n  {\r\n    key: 'fullName',\r\n    question: (formData) => formData.applicantType === 'Individual' \r\n      ? \"What's your full name?\" \r\n      : \"What's your organization's full name?\",\r\n    type: 'text',\r\n    required: true,\r\n    validation: (value) => value.trim().length >= 2 ? null : 'Name must be at least 2 characters'\r\n  },\r\n  {\r\n    key: 'email',\r\n    question: \"What's your primary email address?\",\r\n    type: 'email',\r\n    required: true,\r\n    validation: (value) => /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(value) ? null : 'Please enter a valid email address'\r\n  },\r\n  {\r\n    key: 'country',\r\n    question: \"Which country are you based in?\",\r\n    type: 'select',\r\n    options: [\r\n      \"Cameroon\", \"Kenya\", \"Nigeria\", \"Ghana\", \"Uganda\", \"Tanzania\", \"Zimbabwe\", \"Zambia\", \r\n      \"Sierra Leone\", \"Liberia\", \"Rwanda\", \"Benin\", \"Togo\", \"DR Congo\", \"Somalia\",\r\n      \"South Africa\", \"Ethiopia\", \"Senegal\", \"Mali\", \"Burkina Faso\", \"Ivory Coast\",\r\n      \"Mozambique\", \"Madagascar\", \"Angola\", \"Chad\", \"Niger\", \"Guinea\", \"Malawi\",\r\n      \"Botswana\", \"Namibia\", \"Mauritius\", \"Seychelles\", \"Gabon\", \"Equatorial Guinea\",\r\n      \"Central African Republic\", \"Republic of Congo\", \"Djibouti\", \"Eritrea\", \r\n      \"South Sudan\", \"Lesotho\", \"Swaziland\", \"Gambia\", \"Guinea-Bissau\", \"Cape Verde\",\r\n      \"Comoros\", \"Sao Tome and Principe\", \"Other\"\r\n    ],\r\n    required: true\r\n  },\r\n  {\r\n    key: 'organizationType',\r\n    question: \"What type of organization do you represent?\",\r\n    type: 'select',\r\n    options: [\r\n      'Youth-led NGO/Non-Profit', \r\n      'Environmental NGO', \r\n      'Climate Action Organization',\r\n      'Community-Based Organization',\r\n      'Educational Institution', \r\n      'Research Institute',\r\n      'Government Institution', \r\n      'UN Agency/International Organization',\r\n      'Private Company/Social Enterprise', \r\n      'Tech Company',\r\n      'Legal/Advocacy Organization',\r\n      'Healthcare Organization',\r\n      'Faith-Based Organization',\r\n      'Other'\r\n    ],\r\n    condition: (formData) => formData.applicantType === 'Organization',\r\n    required: true\r\n  },\r\n  {\r\n    key: 'individualProfession',\r\n    question: \"What's your current profession/occupation?\",\r\n    type: 'text',\r\n    condition: (formData) => formData.applicantType === 'Individual',\r\n    required: true,\r\n    validation: (value) => value.trim().length >= 3 ? null : 'Please provide your profession'\r\n  },\r\n  {\r\n    key: 'expertise',\r\n    question: (formData) => formData.applicantType === 'Individual'\r\n      ? \"What are your key skills or areas of expertise? (e.g., Climate Science, Environmental Law, Community Development, Digital Technology, Agriculture, Marine Conservation)\"\r\n      : \"What are your organization's core competencies and focus areas related to climate, environment, or sustainable development?\",\r\n    type: 'textarea',\r\n    required: true,\r\n    validation: (value) => value.trim().length >= 30 ? null : 'Please provide at least 30 characters describing your expertise'\r\n  },\r\n  {\r\n    key: 'previousExperience',\r\n    question: (formData) => formData.applicantType === 'Individual'\r\n      ? \"Do you have previous experience in climate action, environmental conservation, or sustainable development projects?\"\r\n      : \"Does your organization have experience in climate action, environmental conservation, or sustainable development initiatives?\",\r\n    type: 'select',\r\n    options: ['Yes - Extensive experience (5+ years)', 'Yes - Moderate experience (2-4 years)', 'Some experience (Less than 2 years)', 'No - New to this field but passionate to learn'],\r\n    required: true\r\n  },\r\n  {\r\n    key: 'acefFocusAreas',\r\n    question: \"Which ACEF programme areas align most with your interests/expertise? (Select your primary area of interest)\",\r\n    type: 'select',\r\n    options: [\r\n      'Climate Resilience & Adaptation',\r\n      'Net Zero & Energy Access', \r\n      'Climate Migration, Peace & Security',\r\n      'Chemicals & Waste Management',\r\n      'Natural Resources Conservation (Terrestrial & Aquatic)',\r\n      'WASH (Water, Sanitation, and Hygiene)',\r\n      'Agriculture & Food Security',\r\n      'Education Access & Environmental Literacy',\r\n      'Health Access & Environmental Health',\r\n      'Youth Empowerment & Green Job Creation',\r\n      'Policy Advocacy & International Engagement',\r\n      'Marine Conservation & Ocean Literacy',\r\n      'All of the above'\r\n    ],\r\n    required: true\r\n  },\r\n  {\r\n    key: 'collaborationIdea',\r\n    question: \"Describe your specific collaboration idea with ACEF. How do you envision working together to address climate and environmental challenges in Africa?\",\r\n    type: 'textarea',\r\n    required: true,\r\n    validation: (value) => value.trim().length >= 100 ? null : 'Please provide at least 100 characters describing your collaboration idea'\r\n  },\r\n  {\r\n    key: 'resources',\r\n    question: \"What resources can you contribute to this partnership? (e.g., technical skills, funding, expertise, networks, time commitment, local knowledge)\",\r\n    type: 'textarea',\r\n    required: true,\r\n    validation: (value) => value.trim().length >= 30 ? null : 'Please describe the resources you can contribute (minimum 30 characters)'\r\n  },\r\n  {\r\n    key: 'youthFocus',\r\n    question: (formData) => formData.applicantType === 'Individual'\r\n      ? \"How do you see yourself contributing to ACEF's mission of youth empowerment in climate and environmental action?\"\r\n      : \"How does your organization support or plan to support youth empowerment in climate and environmental initiatives?\",\r\n    type: 'textarea',\r\n    required: true,\r\n    validation: (value) => value.trim().length >= 50 ? null : 'Please describe your approach to youth empowerment (minimum 50 characters)'\r\n  },\r\n  {\r\n    key: 'expectations',\r\n    question: \"What specific outcomes do you hope to achieve through this partnership with ACEF?\",\r\n    type: 'textarea',\r\n    required: true,\r\n    validation: (value) => value.trim().length >= 40 ? null : 'Please describe your expected outcomes (minimum 40 characters)'\r\n  },\r\n  {\r\n    key: 'challenges',\r\n    question: \"What do you see as the main climate or environmental challenges in your region that this collaboration could help address?\",\r\n    type: 'textarea',\r\n    required: true,\r\n    validation: (value) => value.trim().length >= 40 ? null : 'Please describe the challenges you want to address (minimum 40 characters)'\r\n  },\r\n  {\r\n    key: 'proposalLink',\r\n    question: \"If you have a detailed proposal, project document, or additional materials, please share the link here (optional):\",\r\n    type: 'text',\r\n    required: false,\r\n    validation: (value) => {\r\n      if (!value.trim()) return null;\r\n      const urlPattern = /^https?:\\/\\/.+\\..+/;\r\n      return urlPattern.test(value.trim()) ? null : 'Please enter a valid URL starting with http:// or https://';\r\n    }\r\n  },\r\n  {\r\n    key: 'additionalInfo',\r\n    question: \"Is there anything else you'd like ACEF to know about your collaboration proposal?\",\r\n    type: 'textarea',\r\n    required: false\r\n  }\r\n]","import React, { useState, useEffect, useRef } from \"react\";\r\nimport { useTheme, withOpacity } from '../../theme';\r\nimport { questions } from './chatbotQuestions';\r\nimport { API_URL } from '../../config';\r\n\r\nconst CollaborationChatbot = ({ \r\n  flowType = 'collaborate', \r\n  onSubmit, \r\n  onExit,\r\n  initialData = {},\r\n  className = '',\r\n  style = {}\r\n}) => {\r\n  const { theme, colors, isDarkMode } = useTheme();\r\n  \r\n  // Component state\r\n  const [chatMessages, setChatMessages] = useState([]);\r\n  const [userMessage, setUserMessage] = useState(\"\");\r\n  const [currentStep, setCurrentStep] = useState(0);\r\n  const [formData, setFormData] = useState(initialData);\r\n  const [errorMessage, setErrorMessage] = useState(\"\");\r\n  const [awaitingConfirmation, setAwaitingConfirmation] = useState(false);\r\n  const [isTyping, setIsTyping] = useState(false);\r\n  const [editingStep, setEditingStep] = useState(null);\r\n  const [questionHistory, setQuestionHistory] = useState([]);\r\n  const [isInitialized, setIsInitialized] = useState(false);\r\n  \r\n  const chatContainerRef = useRef(null);\r\n\r\n  // Auto-scroll chat to bottom\r\n  useEffect(() => {\r\n    if (chatContainerRef.current) {\r\n      chatContainerRef.current.scrollTo({\r\n        top: chatContainerRef.current.scrollHeight,\r\n        behavior: 'smooth'\r\n      });\r\n    }\r\n  }, [chatMessages]);\r\n\r\n  // Initialize chatbot with welcome message\r\n  useEffect(() => {\r\n    if (isInitialized) return;\r\n\r\n    const welcomeMessages = {\r\n      collaborate: \"Welcome! I'm excited to help you start a collaboration with ACEF. I'll ask you some questions to understand your background and ideas better.\",\r\n      partner: \"Wonderful! Let's explore how we can build a meaningful partnership together.\"\r\n    };\r\n    \r\n    const initializeChat = () => {\r\n      setIsInitialized(true);\r\n      \r\n      // Add welcome message\r\n      setChatMessages([{ \r\n        sender: 'bot', \r\n        message: welcomeMessages[flowType], \r\n        id: Date.now(),\r\n        stepIndex: null\r\n      }]);\r\n      \r\n      // Add first question after a delay\r\n      setTimeout(() => {\r\n        const firstQuestion = questions[0];\r\n        const questionText = typeof firstQuestion.question === 'function' \r\n          ? firstQuestion.question({}) \r\n          : firstQuestion.question;\r\n          \r\n        setChatMessages(prev => [...prev, { \r\n          sender: 'bot', \r\n          message: questionText, \r\n          id: Date.now() + 1,\r\n          stepIndex: 0\r\n        }]);\r\n      }, 1000);\r\n    };\r\n\r\n    const timer = setTimeout(initializeChat, 500);\r\n    \r\n    return () => clearTimeout(timer);\r\n  }, [flowType, isInitialized]);\r\n\r\n  const addMessage = (message, sender = 'bot', stepIndex = null) => {\r\n    if (sender === 'bot') {\r\n      setIsTyping(true);\r\n      setTimeout(() => {\r\n        setChatMessages(prev => [...prev, { \r\n          sender, \r\n          message, \r\n          id: Date.now() + Math.random(),\r\n          stepIndex: stepIndex !== null ? stepIndex : currentStep \r\n        }]);\r\n        setIsTyping(false);\r\n      }, 800);\r\n    } else {\r\n      setChatMessages(prev => [...prev, { \r\n        sender, \r\n        message, \r\n        id: Date.now() + Math.random(),\r\n        stepIndex: stepIndex !== null ? stepIndex : currentStep \r\n      }]);\r\n    }\r\n  };\r\n\r\n  const getNextStep = (currentStepIndex, currentFormData) => {\r\n    for (let i = currentStepIndex + 1; i < questions.length; i++) {\r\n      const question = questions[i];\r\n      if (!question.condition || question.condition(currentFormData)) {\r\n        return i;\r\n      }\r\n    }\r\n    return -1;\r\n  };\r\n\r\n  const getPreviousStep = (currentStepIndex, currentFormData) => {\r\n    for (let i = currentStepIndex - 1; i >= 0; i--) {\r\n      const question = questions[i];\r\n      if (!question.condition || question.condition(currentFormData)) {\r\n        return i;\r\n      }\r\n    }\r\n    return -1;\r\n  };\r\n\r\n  const validateInput = (value, question, currentFormData) => {\r\n    if (question.required && !value.trim()) {\r\n      return 'This field is required';\r\n    }\r\n\r\n    if (question.validation) {\r\n      const error = question.validation(value);\r\n      if (error) return error;\r\n    }\r\n\r\n    if (question.type === 'select' && question.options && value) {\r\n      const options = typeof question.options === 'function' \r\n        ? question.options(currentFormData) \r\n        : question.options;\r\n      if (!options.includes(value)) {\r\n        return `Please select one of the available options: ${options.join(', ')}`;\r\n      }\r\n    }\r\n\r\n    return null;\r\n  };\r\n\r\n  const handleSubmit = () => {\r\n    const questionToValidate = editingStep !== null ? questions[editingStep] : questions[currentStep];\r\n    \r\n    // Validation\r\n    const validationError = validateInput(userMessage, questionToValidate, formData);\r\n    if (validationError) {\r\n      setErrorMessage(validationError);\r\n      return;\r\n    }\r\n\r\n    setErrorMessage('');\r\n    \r\n    // Handle editing mode\r\n    if (editingStep !== null) {\r\n      setChatMessages(prev => prev.map(msg => \r\n        msg.stepIndex === editingStep && msg.sender === 'user' \r\n          ? { ...msg, message: userMessage }\r\n          : msg\r\n      ));\r\n      \r\n      const editQuestion = questions[editingStep];\r\n      const newFormData = { ...formData, [editQuestion.key]: userMessage };\r\n      setFormData(newFormData);\r\n      setUserMessage('');\r\n      setEditingStep(null);\r\n      \r\n      setTimeout(() => {\r\n        addMessage(\" Your response has been updated!\", 'bot');\r\n        \r\n        setTimeout(() => {\r\n          if (!awaitingConfirmation && questions[currentStep]) {\r\n            const currentQuestion = questions[currentStep];\r\n            const questionText = typeof currentQuestion.question === 'function' \r\n              ? currentQuestion.question(newFormData) \r\n              : currentQuestion.question;\r\n            \r\n            const questionAlreadyAsked = chatMessages.some(msg => \r\n              msg.sender === 'bot' && \r\n              msg.stepIndex === currentStep && \r\n              msg.message.includes(questionText.split('?')[0])\r\n            );\r\n            \r\n            if (!questionAlreadyAsked) {\r\n              addMessage(`Now, let's continue: ${questionText}`, 'bot', currentStep);\r\n            }\r\n          }\r\n        }, 800);\r\n      }, 300);\r\n      \r\n      return;\r\n    }\r\n\r\n    // Normal flow\r\n    const current = questions[currentStep];\r\n    addMessage(userMessage, 'user', currentStep);\r\n    const newFormData = { ...formData, [current.key]: userMessage };\r\n    setFormData(newFormData);\r\n    \r\n    // Track question history\r\n    setQuestionHistory(prev => [...prev, {\r\n      stepIndex: currentStep,\r\n      questionKey: current.key,\r\n      question: typeof current.question === 'function' ? current.question(formData) : current.question,\r\n      answer: userMessage\r\n    }]);\r\n    \r\n    setUserMessage('');\r\n\r\n    const nextStepIndex = getNextStep(currentStep, newFormData);\r\n    \r\n    if (nextStepIndex === -1) {\r\n      // End of questions\r\n      setTimeout(() => {\r\n        addMessage(\"Excellent! I've collected all the information. Let me summarize what you've shared:\", 'bot');\r\n        setTimeout(() => {\r\n          const summary = Object.entries(newFormData)\r\n            .map(([key, value]) => {\r\n              const question = questions.find(q => q.key === key);\r\n              if (!question || !value) return null;\r\n              const questionText = typeof question.question === 'function' \r\n                ? question.question(newFormData) \r\n                : question.question;\r\n              return ` ${questionText.replace(/[?:]/g, '')}: ${value}`;\r\n            })\r\n            .filter(Boolean)\r\n            .join('\\n');\r\n          \r\n          addMessage(summary, 'bot');\r\n          setTimeout(() => {\r\n            addMessage(\"Please review the information above. You can click on any of your responses to edit them, or submit your collaboration request if everything looks correct.\", 'bot');\r\n            setAwaitingConfirmation(true);\r\n          }, 1000);\r\n        }, 1000);\r\n      }, 1000);\r\n    } else {\r\n      // Move to next question\r\n      setCurrentStep(nextStepIndex);\r\n    }\r\n  };\r\n\r\n  const handleBack = () => {\r\n    const prevStepIndex = getPreviousStep(currentStep, formData);\r\n    if (prevStepIndex === -1) return;\r\n    \r\n    setChatMessages(prev => prev.slice(0, -2));\r\n    setCurrentStep(prevStepIndex);\r\n    setUserMessage(formData[questions[prevStepIndex].key] || '');\r\n  };\r\n\r\n  const handleEditMessage = (stepIndex) => {\r\n    if (stepIndex !== undefined && stepIndex !== null && stepIndex < questions.length) {\r\n      const question = questions[stepIndex];\r\n      setEditingStep(stepIndex);\r\n      setUserMessage(formData[question.key] || '');\r\n      setErrorMessage('');\r\n      \r\n      const questionText = typeof question.question === 'function' \r\n        ? question.question(formData) \r\n        : question.question;\r\n      \r\n      addMessage(` Editing: ${questionText}`, 'bot');\r\n    }\r\n  };\r\n\r\n  // FIXED: Better field mapping for backend requirements\r\n  const prepareSubmissionData = (formData) => {\r\n    // Create a copy of form data\r\n    const processedData = { ...formData };\r\n    \r\n    // Ensure required fields are present with fallback logic\r\n    // Map common question keys to required backend fields\r\n    if (!processedData.name) {\r\n      processedData.name = processedData.fullName || \r\n                           processedData.full_name || \r\n                           processedData.firstName || \r\n                           processedData.user_name || '';\r\n    }\r\n    \r\n    if (!processedData.email) {\r\n      processedData.email = processedData.emailAddress || \r\n                           processedData.email_address || \r\n                           processedData.primaryEmail || \r\n                           processedData.contact_email || '';\r\n    }\r\n\r\n    // Handle organization field\r\n    if (!processedData.organization) {\r\n      processedData.organization = processedData.organizationName || \r\n                                  processedData.company || \r\n                                  processedData.institution || \r\n                                  null;\r\n    }\r\n\r\n    return processedData;\r\n  };\r\n\r\n  const handleFinalSubmit = async () => {\r\n    setIsTyping(true);\r\n    \r\n    try {\r\n      // Prepare and validate submission data\r\n      const processedFormData = prepareSubmissionData(formData);\r\n      \r\n      // Final validation check\r\n      if (!processedFormData.name || !processedFormData.name.trim()) {\r\n        setIsTyping(false);\r\n        addMessage(\"I notice the name field is missing. Please go back and edit your response to include your full name.\", 'bot');\r\n        setAwaitingConfirmation(false);\r\n        return;\r\n      }\r\n\r\n      if (!processedFormData.email || !processedFormData.email.trim()) {\r\n        setIsTyping(false);\r\n        addMessage(\"I notice the email field is missing. Please go back and edit your response to include your email address.\", 'bot');\r\n        setAwaitingConfirmation(false);\r\n        return;\r\n      }\r\n\r\n      // Prepare submission data\r\n      const submissionData = {\r\n        flowType,\r\n        formData: processedFormData,\r\n        additionalData: {\r\n          submissionMethod: 'chatbot',\r\n          questionHistory: questionHistory.map(q => ({\r\n            question: q.question,\r\n            answer: q.answer,\r\n            questionKey: q.questionKey\r\n          })),\r\n          completionTime: Date.now() - (chatMessages[0]?.id || Date.now()),\r\n          originalFormData: formData // Keep original for reference\r\n        }\r\n      };\r\n\r\n      console.log('Submitting data:', submissionData); // Debug log\r\n\r\n      // Submit to backend\r\n      const response = await fetch(`${API_URL || '/api'}/collaboration/submit`, {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n        credentials: 'include',\r\n        body: JSON.stringify(submissionData)\r\n      });\r\n\r\n      const result = await response.json();\r\n\r\n      if (result.success) {\r\n        setIsTyping(false);\r\n        addMessage(`Perfect! Your ${flowType} request has been submitted successfully. Reference ID: ${result.data.collaborationId}`, 'bot');\r\n        setTimeout(() => {\r\n          addMessage(\"Our team will review your request and contact you within 2-3 business days. Thank you for your interest in working with ACEF!\", 'bot');\r\n        }, 1000);\r\n        \r\n        // Call parent onSubmit if provided\r\n        if (onSubmit) {\r\n          onSubmit({\r\n            ...processedFormData,\r\n            collaborationId: result.data.collaborationId,\r\n            submittedAt: result.data.submittedAt\r\n          });\r\n        }\r\n      } else {\r\n        throw new Error(result.message || 'Submission failed');\r\n      }\r\n    } catch (error) {\r\n      setIsTyping(false);\r\n      console.error('Submission error:', error);\r\n      addMessage(`I'm sorry, there was an error submitting your request: ${error.message}. Please try again or contact us directly.`, 'bot');\r\n      \r\n      // Allow retry\r\n      setTimeout(() => {\r\n        addMessage(\"You can try submitting again by clicking the submit button below.\", 'bot');\r\n        setAwaitingConfirmation(true);\r\n      }, 2000);\r\n    }\r\n    \r\n    setAwaitingConfirmation(false);\r\n  };\r\n\r\n  // Load next question\r\n  useEffect(() => {\r\n    if (!isInitialized || \r\n        !questions[currentStep] || \r\n        awaitingConfirmation || \r\n        editingStep !== null ||\r\n        chatMessages.length <= 1) {\r\n      return;\r\n    }\r\n    \r\n    const q = questions[currentStep];\r\n    const message = typeof q.question === 'function' ? q.question(formData) : q.question;\r\n    \r\n    const alreadyAsked = chatMessages.some((msg) => \r\n      msg.sender === 'bot' && \r\n      msg.stepIndex === currentStep &&\r\n      (msg.message.includes(message.split('?')[0]) || msg.message.includes(\"Now, let's continue:\"))\r\n    );\r\n    \r\n    if (!alreadyAsked && !isTyping) {\r\n      const timer = setTimeout(() => addMessage(message, 'bot', currentStep), 500);\r\n      return () => clearTimeout(timer);\r\n    }\r\n  }, [currentStep, awaitingConfirmation, editingStep, formData, isInitialized, chatMessages.length, isTyping]);\r\n\r\n  const styles = {\r\n    container: {\r\n      background: isDarkMode \r\n        ? `linear-gradient(145deg, ${withOpacity(colors.black, 0.6)}, ${withOpacity(colors.primaryDark, 0.2)})`\r\n        : `linear-gradient(145deg, ${withOpacity(colors.white, 0.95)}, ${withOpacity(colors.primary, 0.05)})`,\r\n      backdropFilter: 'blur(20px)',\r\n      borderRadius: '24px',\r\n      padding: '32px',\r\n      boxShadow: `0 8px 40px ${withOpacity(colors.primary, 0.15)}`,\r\n      border: `1px solid ${withOpacity(colors.primary, 0.2)}`,\r\n      position: 'relative',\r\n      ...style\r\n    },\r\n\r\n    header: {\r\n      display: 'flex',\r\n      alignItems: 'center',\r\n      justifyContent: 'space-between',\r\n      marginBottom: '24px',\r\n      paddingBottom: '20px',\r\n      borderBottom: `1px solid ${withOpacity(colors.primary, 0.1)}`\r\n    },\r\n\r\n    title: {\r\n      fontSize: '1.25rem',\r\n      fontWeight: 700,\r\n      color: colors.primary,\r\n      display: 'flex',\r\n      alignItems: 'center',\r\n      gap: '10px'\r\n    },\r\n\r\n    exitButton: {\r\n      background: 'transparent',\r\n      border: `1px solid ${withOpacity(colors.primary, 0.3)}`,\r\n      borderRadius: '20px',\r\n      padding: '8px 16px',\r\n      cursor: 'pointer',\r\n      fontSize: '0.875rem',\r\n      fontWeight: 600,\r\n      color: theme.colors.textSecondary,\r\n      transition: 'all 0.3s ease',\r\n      fontFamily: 'inherit'\r\n    },\r\n\r\n    chatContainer: {\r\n      minHeight: '400px'\r\n    },\r\n\r\n    chatMessages: {\r\n      maxHeight: '500px',\r\n      overflowY: 'auto',\r\n      marginBottom: '24px',\r\n      paddingRight: '6px'\r\n    },\r\n\r\n    message: {\r\n      marginBottom: '20px',\r\n      animation: 'messageSlide 0.4s ease-out'\r\n    },\r\n\r\n    botMessage: {\r\n      display: 'flex',\r\n      alignItems: 'flex-start',\r\n      gap: '12px'\r\n    },\r\n\r\n    botAvatar: {\r\n      width: '32px',\r\n      height: '32px',\r\n      borderRadius: '50%',\r\n      background: `linear-gradient(135deg, ${colors.primary}, ${colors.secondary})`,\r\n      display: 'flex',\r\n      alignItems: 'center',\r\n      justifyContent: 'center',\r\n      fontSize: '0.875rem',\r\n      flexShrink: 0\r\n    },\r\n\r\n    botMessageContent: {\r\n      background: isDarkMode \r\n        ? withOpacity(colors.primary, 0.15)\r\n        : withOpacity(colors.primary, 0.08),\r\n      padding: '12px 16px',\r\n      borderRadius: '16px 16px 16px 6px',\r\n      color: theme.colors.text,\r\n      fontSize: '0.875rem',\r\n      lineHeight: 1.5,\r\n      maxWidth: '75%',\r\n      whiteSpace: 'pre-line',\r\n      border: `1px solid ${withOpacity(colors.primary, 0.1)}`\r\n    },\r\n\r\n    userMessage: {\r\n      display: 'flex',\r\n      justifyContent: 'flex-end'\r\n    },\r\n\r\n    userMessageContent: {\r\n      background: `linear-gradient(135deg, ${colors.primary}, ${colors.primaryDark})`,\r\n      padding: '12px 16px',\r\n      borderRadius: '16px 16px 6px 16px',\r\n      color: colors.white,\r\n      fontSize: '0.875rem',\r\n      lineHeight: 1.5,\r\n      maxWidth: '75%',\r\n      cursor: 'pointer',\r\n      transition: 'all 0.3s ease',\r\n      position: 'relative',\r\n      boxShadow: `0 2px 8px ${withOpacity(colors.primary, 0.3)}`\r\n    },\r\n\r\n    editHint: {\r\n      position: 'absolute',\r\n      top: '-6px',\r\n      right: '-6px',\r\n      background: colors.warning,\r\n      color: colors.white,\r\n      borderRadius: '50%',\r\n      width: '16px',\r\n      height: '16px',\r\n      display: 'flex',\r\n      alignItems: 'center',\r\n      justifyContent: 'center',\r\n      fontSize: '0.625rem',\r\n      opacity: 0,\r\n      transition: 'opacity 0.3s ease'\r\n    },\r\n\r\n    typingIndicator: {\r\n      display: 'flex',\r\n      alignItems: 'flex-start',\r\n      gap: '12px',\r\n      marginBottom: '20px'\r\n    },\r\n\r\n    typingDots: {\r\n      background: isDarkMode \r\n        ? withOpacity(colors.primary, 0.15)\r\n        : withOpacity(colors.primary, 0.08),\r\n      padding: '12px 16px',\r\n      borderRadius: '16px 16px 16px 6px',\r\n      border: `1px solid ${withOpacity(colors.primary, 0.1)}`,\r\n      display: 'flex',\r\n      gap: '3px'\r\n    },\r\n\r\n    dot: {\r\n      width: '6px',\r\n      height: '6px',\r\n      borderRadius: '50%',\r\n      background: colors.primary,\r\n      animation: 'typingDots 1.4s infinite ease-in-out'\r\n    },\r\n\r\n    inputSection: {\r\n      display: 'flex',\r\n      flexDirection: 'column',\r\n      gap: '16px'\r\n    },\r\n\r\n    inputGroup: {\r\n      position: 'relative'\r\n    },\r\n\r\n    input: {\r\n      width: '100%',\r\n      padding: '14px 16px',\r\n      background: isDarkMode \r\n        ? withOpacity(colors.black, 0.3)\r\n        : withOpacity(colors.gray50, 0.8),\r\n      border: `1px solid ${withOpacity(colors.primary, 0.2)}`,\r\n      borderRadius: '12px',\r\n      fontSize: '0.875rem',\r\n      fontFamily: 'inherit',\r\n      color: theme.colors.text,\r\n      transition: 'all 0.3s ease',\r\n      outline: 'none'\r\n    },\r\n\r\n    textarea: {\r\n      width: '100%',\r\n      padding: '14px 16px',\r\n      background: isDarkMode \r\n        ? withOpacity(colors.black, 0.3)\r\n        : withOpacity(colors.gray50, 0.8),\r\n      border: `1px solid ${withOpacity(colors.primary, 0.2)}`,\r\n      borderRadius: '12px',\r\n      fontSize: '0.875rem',\r\n      fontFamily: 'inherit',\r\n      color: theme.colors.text,\r\n      transition: 'all 0.3s ease',\r\n      outline: 'none',\r\n      minHeight: '80px',\r\n      resize: 'vertical'\r\n    },\r\n\r\n    select: {\r\n      width: '100%',\r\n      padding: '14px 16px',\r\n      background: isDarkMode \r\n        ? withOpacity(colors.black, 0.3)\r\n        : withOpacity(colors.gray50, 0.8),\r\n      border: `1px solid ${withOpacity(colors.primary, 0.2)}`,\r\n      borderRadius: '12px',\r\n      fontSize: '0.875rem',\r\n      fontFamily: 'inherit',\r\n      color: theme.colors.text,\r\n      cursor: 'pointer',\r\n      transition: 'all 0.3s ease',\r\n      outline: 'none',\r\n      appearance: 'none',\r\n      backgroundImage: `url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='${colors.primary.replace('#', '%23')}' viewBox='0 0 16 16'%3e%3cpath d='m7.247 4.86-4.796 5.481c-.566.647-.106 1.659.753 1.659h9.592a1 1 0 0 0 .753-1.659l-4.796-5.48a1 1 0 0 0-1.506 0z'/%3e%3c/svg%3e\")`,\r\n      backgroundRepeat: 'no-repeat',\r\n      backgroundPosition: 'right 12px center',\r\n      backgroundSize: '12px'\r\n    },\r\n\r\n    buttonGroup: {\r\n      display: 'flex',\r\n      gap: '12px',\r\n      justifyContent: 'center',\r\n      flexWrap: 'wrap'\r\n    },\r\n\r\n    primaryButton: {\r\n      padding: '12px 24px',\r\n      background: `linear-gradient(135deg, ${colors.primary}, ${colors.primaryDark})`,\r\n      color: colors.white,\r\n      border: 'none',\r\n      borderRadius: '20px',\r\n      fontSize: '0.875rem',\r\n      fontWeight: 600,\r\n      cursor: 'pointer',\r\n      transition: 'all 0.3s ease',\r\n      fontFamily: 'inherit',\r\n      minWidth: '120px',\r\n      boxShadow: `0 4px 12px ${withOpacity(colors.primary, 0.3)}`\r\n    },\r\n\r\n    secondaryButton: {\r\n      padding: '12px 24px',\r\n      background: 'transparent',\r\n      color: theme.colors.text,\r\n      border: `1px solid ${withOpacity(colors.primary, 0.3)}`,\r\n      borderRadius: '20px',\r\n      fontSize: '0.875rem',\r\n      fontWeight: 600,\r\n      cursor: 'pointer',\r\n      transition: 'all 0.3s ease',\r\n      fontFamily: 'inherit',\r\n      minWidth: '120px'\r\n    },\r\n\r\n    successButton: {\r\n      background: `linear-gradient(135deg, ${colors.success}, #059669)`\r\n    },\r\n\r\n    errorMessage: {\r\n      color: colors.error,\r\n      fontSize: '0.8125rem',\r\n      textAlign: 'center',\r\n      padding: '10px 16px',\r\n      background: `${colors.error}15`,\r\n      borderRadius: '10px',\r\n      border: `1px solid ${colors.error}30`\r\n    },\r\n\r\n    editingIndicator: {\r\n      color: colors.warning,\r\n      fontSize: '0.8125rem',\r\n      textAlign: 'center',\r\n      padding: '8px 16px',\r\n      background: `${colors.warning}15`,\r\n      borderRadius: '10px',\r\n      marginBottom: '12px',\r\n      fontWeight: 600\r\n    }\r\n  };\r\n\r\n  const renderInput = () => {\r\n    const currentQuestion = questions[editingStep !== null ? editingStep : currentStep];\r\n    if (!currentQuestion) return null;\r\n\r\n    const options = currentQuestion.type === 'select' && currentQuestion.options\r\n      ? (typeof currentQuestion.options === 'function' \r\n          ? currentQuestion.options(formData) \r\n          : currentQuestion.options)\r\n      : null;\r\n\r\n    if (currentQuestion.type === 'select' && options) {\r\n      return (\r\n        <select \r\n          value={userMessage} \r\n          onChange={(e) => setUserMessage(e.target.value)}\r\n          style={{\r\n            ...styles.select,\r\n            borderColor: userMessage ? colors.primary : withOpacity(colors.primary, 0.2)\r\n          }}\r\n        >\r\n          <option value=\"\">Choose an option...</option>\r\n          {options.map(opt => (\r\n            <option key={opt} value={opt}>{opt}</option>\r\n          ))}\r\n        </select>\r\n      );\r\n    } else if (currentQuestion.type === 'textarea') {\r\n      return (\r\n        <textarea \r\n          placeholder=\"Type your response...\" \r\n          value={userMessage} \r\n          onChange={(e) => setUserMessage(e.target.value)}\r\n          style={{\r\n            ...styles.textarea,\r\n            borderColor: userMessage.length > 0 ? colors.primary : withOpacity(colors.primary, 0.2)\r\n          }}\r\n        />\r\n      );\r\n    } else {\r\n      return (\r\n        <input \r\n          type={currentQuestion.type === 'email' ? 'email' : \r\n                currentQuestion.type === 'url' ? 'url' : 'text'}\r\n          placeholder=\"Type your response...\" \r\n          value={userMessage} \r\n          onChange={(e) => setUserMessage(e.target.value)}\r\n          onKeyPress={(e) => e.key === 'Enter' && handleSubmit()}\r\n          style={{\r\n            ...styles.input,\r\n            borderColor: userMessage.length > 0 ? colors.primary : withOpacity(colors.primary, 0.2)\r\n          }}\r\n        />\r\n      );\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className={className} style={styles.container}>\r\n      {/* Header */}\r\n      <div style={styles.header}>\r\n        <div style={styles.title}>\r\n          <span>{flowType === 'collaborate' ? '' : ''}</span>\r\n          <span>{flowType === 'collaborate' ? 'Collaborate' : 'Partner'}</span>\r\n        </div>\r\n        {onExit && (\r\n          <button style={styles.exitButton} onClick={onExit}>\r\n             Back to Options\r\n          </button>\r\n        )}\r\n      </div>\r\n\r\n      {/* Chat Interface */}\r\n      <div style={styles.chatContainer}>\r\n        <div style={styles.chatMessages} ref={chatContainerRef}>\r\n          {chatMessages.map((msg) => (\r\n            <div key={msg.id} style={styles.message}>\r\n              {msg.sender === 'bot' ? (\r\n                <div style={styles.botMessage}>\r\n<div style={styles.botAvatar}>\r\n  <img \r\n    src=\"/bird.png\" \r\n    alt=\"Bird Avatar\" \r\n    style={{ width: '100%', height: '100%', borderRadius: '50%' }}\r\n  />\r\n</div>\r\n                  <div style={styles.botMessageContent}>\r\n                    {msg.message}\r\n                  </div>\r\n                </div>\r\n              ) : (\r\n                <div style={styles.userMessage}>\r\n                  <div \r\n                    style={styles.userMessageContent}\r\n                    onClick={() => handleEditMessage(msg.stepIndex)}\r\n                    onMouseEnter={(e) => {\r\n                      const hint = e.target.querySelector('.edit-hint');\r\n                      if (hint) hint.style.opacity = '1';\r\n                    }}\r\n                    onMouseLeave={(e) => {\r\n                      const hint = e.target.querySelector('.edit-hint');\r\n                      if (hint) hint.style.opacity = '0';\r\n                    }}\r\n                    title=\"Click to edit this response\"\r\n                  >\r\n                    {msg.message}\r\n                    <div className=\"edit-hint\" style={styles.editHint}></div>\r\n                  </div>\r\n                </div>\r\n              )}\r\n            </div>\r\n          ))}\r\n          \r\n          {isTyping && (\r\n            <div style={styles.typingIndicator}>\r\n              <div style={styles.botAvatar}></div>\r\n              <div style={styles.typingDots}>\r\n                <div style={{...styles.dot, animationDelay: '0s'}}></div>\r\n                <div style={{...styles.dot, animationDelay: '0.2s'}}></div>\r\n                <div style={{...styles.dot, animationDelay: '0.4s'}}></div>\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n        \r\n        {/* Input Section */}\r\n        <div style={styles.inputSection}>\r\n          {awaitingConfirmation ? (\r\n            <div style={styles.buttonGroup}>\r\n              <button \r\n                style={{...styles.primaryButton, ...styles.successButton}}\r\n                onClick={handleFinalSubmit}\r\n              >\r\n                 Submit Request\r\n              </button>\r\n              <button \r\n                style={styles.secondaryButton}\r\n                onClick={() => {\r\n                  addMessage(\"No worries! You can edit any response by clicking on it above.\", 'bot');\r\n                  setAwaitingConfirmation(false);\r\n                }}\r\n              >\r\n                 Review & Edit\r\n              </button>\r\n            </div>\r\n          ) : questions[currentStep] ? (\r\n            <>\r\n              <div style={styles.inputGroup}>\r\n                {editingStep !== null && (\r\n                  <div style={styles.editingIndicator}>\r\n                     Editing your response - press Continue when done\r\n                  </div>\r\n                )}\r\n                \r\n                {renderInput()}\r\n              </div>\r\n              \r\n              <div style={styles.buttonGroup}>\r\n                <button \r\n                  style={{\r\n                    ...styles.secondaryButton,\r\n                    opacity: (currentStep === 0 && editingStep === null) ? 0.5 : 1,\r\n                    cursor: (currentStep === 0 && editingStep === null) ? 'not-allowed' : 'pointer'\r\n                  }}\r\n                  onClick={editingStep !== null ? \r\n                    () => {\r\n                      setEditingStep(null);\r\n                      setUserMessage('');\r\n                      setErrorMessage('');\r\n                      addMessage(\"Edit cancelled. Let's continue where we left off.\", 'bot');\r\n                    } : \r\n                    handleBack\r\n                  }\r\n                  disabled={currentStep === 0 && editingStep === null}\r\n                >\r\n                  {editingStep !== null ? ' Cancel Edit' : ' Previous'}\r\n                </button>\r\n                <button \r\n                  style={{\r\n                    ...styles.primaryButton,\r\n                    opacity: (!userMessage.trim() && questions[editingStep !== null ? editingStep : currentStep]?.required) ? 0.6 : 1,\r\n                    cursor: (!userMessage.trim() && questions[editingStep !== null ? editingStep : currentStep]?.required) ? 'not-allowed' : 'pointer'\r\n                  }}\r\n                  onClick={handleSubmit}\r\n                  disabled={!userMessage.trim() && questions[editingStep !== null ? editingStep : currentStep]?.required}\r\n                >\r\n                  Continue \r\n                </button>\r\n              </div>\r\n              \r\n              {errorMessage && (\r\n                <div style={styles.errorMessage}>\r\n                   {errorMessage}\r\n                </div>\r\n              )}\r\n            </>\r\n          ) : null}\r\n        </div>\r\n      </div>\r\n\r\n      <style jsx>{`\r\n        @keyframes messageSlide {\r\n          from {\r\n            opacity: 0;\r\n            transform: translateY(16px);\r\n          }\r\n          to {\r\n            opacity: 1;\r\n            transform: translateY(0);\r\n          }\r\n        }\r\n\r\n        @keyframes typingDots {\r\n          0%, 60%, 100% { \r\n            transform: translateY(0); \r\n            opacity: 0.4; \r\n          }\r\n          30% { \r\n            transform: translateY(-6px); \r\n            opacity: 1; \r\n          }\r\n        }\r\n\r\n        .user-message-content:hover {\r\n          transform: translateY(-1px);\r\n          box-shadow: 0 4px 12px ${withOpacity(colors.primary, 0.4)} !important;\r\n        }\r\n\r\n        .user-message-content:hover .edit-hint {\r\n          opacity: 1 !important;\r\n        }\r\n\r\n        .chat-messages::-webkit-scrollbar {\r\n          width: 4px;\r\n        }\r\n\r\n        .chat-messages::-webkit-scrollbar-track {\r\n          background: ${withOpacity(colors.primary, 0.1)};\r\n          border-radius: 1px;\r\n        }\r\n\r\n        .chat-messages::-webkit-scrollbar-thumb {\r\n          background: ${colors.primary};\r\n          border-radius: 1px;\r\n        }\r\n\r\n        .chat-messages::-webkit-scrollbar-thumb:hover {\r\n          background: ${colors.primaryDark};\r\n        }\r\n\r\n        button:focus,\r\n        input:focus,\r\n        textarea:focus,\r\n        select:focus {\r\n          outline: 2px solid ${colors.primary};\r\n          outline-offset: 2px;\r\n        }\r\n\r\n        .primary-button:hover {\r\n          transform: translateY(-1px);\r\n          box-shadow: 0 6px 16px ${withOpacity(colors.primary, 0.4)} !important;\r\n        }\r\n\r\n        .secondary-button:hover {\r\n          background: ${withOpacity(colors.primary, 0.05)} !important;\r\n          border-color: ${colors.primary} !important;\r\n          color: ${colors.primary} !important;\r\n          transform: translateY(-1px);\r\n        }\r\n\r\n        .exit-button:hover {\r\n          background: ${withOpacity(colors.primary, 0.05)} !important;\r\n          border-color: ${colors.primary} !important;\r\n          color: ${colors.primary} !important;\r\n        }\r\n\r\n        input:focus,\r\n        textarea:focus,\r\n        select:focus {\r\n          border-color: ${colors.primary} !important;\r\n          box-shadow: 0 0 0 2px ${withOpacity(colors.primary, 0.2)} !important;\r\n        }\r\n\r\n        @media (max-width: 768px) {\r\n          .button-group {\r\n            flex-direction: column !important;\r\n          }\r\n          \r\n          .primary-button,\r\n          .secondary-button {\r\n            width: 100% !important;\r\n          }\r\n          \r\n          .chat-messages {\r\n            max-height: 350px !important;\r\n          }\r\n          \r\n          .bot-message-content,\r\n          .user-message-content {\r\n            font-size: 0.8125rem !important;\r\n            max-width: 85% !important;\r\n          }\r\n        }\r\n      `}</style>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CollaborationChatbot;","import React, { useEffect } from \"react\";\r\nimport { useTheme, withOpacity } from '../theme';\r\n\r\nconst ThankYouMessage = ({ \r\n  onClose, \r\n  autoCloseDelay = 5000,\r\n  className = '',\r\n  style = {}\r\n}) => {\r\n  const { theme, colors, isDarkMode } = useTheme();\r\n\r\n  useEffect(() => {\r\n    if (autoCloseDelay && onClose) {\r\n      const timer = setTimeout(() => {\r\n        onClose();\r\n      }, autoCloseDelay);\r\n      return () => clearTimeout(timer);\r\n    }\r\n  }, [autoCloseDelay, onClose]);\r\n\r\n  const styles = {\r\n    container: {\r\n      textAlign: 'center',\r\n      padding: '60px 32px',\r\n      background: isDarkMode \r\n        ? `linear-gradient(145deg, ${withOpacity(colors.black, 0.6)}, ${withOpacity(colors.success, 0.1)})`\r\n        : `linear-gradient(145deg, ${withOpacity(colors.white, 0.95)}, ${withOpacity(colors.success, 0.05)})`,\r\n      backdropFilter: 'blur(20px)',\r\n      borderRadius: '24px',\r\n      border: `1px solid ${withOpacity(colors.success, 0.2)}`,\r\n      boxShadow: `0 8px 32px ${withOpacity(colors.success, 0.15)}`,\r\n      animation: 'thankYouSlideIn 0.8s ease-out',\r\n      ...style\r\n    },\r\n\r\n    icon: {\r\n      fontSize: '3rem',\r\n      marginBottom: '20px',\r\n      animation: 'bounce 1s ease-in-out infinite alternate'\r\n    },\r\n\r\n    title: {\r\n      fontSize: '2rem',\r\n      fontWeight: 700,\r\n      marginBottom: '12px',\r\n      background: `linear-gradient(135deg, ${colors.success}, ${colors.primary})`,\r\n      backgroundClip: 'text',\r\n      WebkitBackgroundClip: 'text',\r\n      WebkitTextFillColor: 'transparent'\r\n    },\r\n\r\n    message: {\r\n      fontSize: '1rem',\r\n      color: theme.colors.textSecondary,\r\n      lineHeight: 1.6,\r\n      marginBottom: '24px',\r\n      maxWidth: '500px',\r\n      margin: '0 auto 24px'\r\n    },\r\n\r\n    button: {\r\n      padding: '12px 24px',\r\n      background: `linear-gradient(135deg, ${colors.success}, #059669)`,\r\n      color: colors.white,\r\n      border: 'none',\r\n      borderRadius: '20px',\r\n      fontSize: '0.875rem',\r\n      fontWeight: 600,\r\n      cursor: 'pointer',\r\n      transition: 'all 0.3s ease',\r\n      fontFamily: 'inherit',\r\n      minWidth: '180px',\r\n      boxShadow: `0 4px 12px ${withOpacity(colors.success, 0.3)}`,\r\n      animation: 'successPulse 2s ease-in-out infinite'\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className={className} style={styles.container}>\r\n      <div style={styles.icon}></div>\r\n      <h2 style={styles.title}>Thank You!</h2>\r\n      <p style={styles.message}>\r\n        We've received your collaboration request and our team will review it shortly. \r\n        Expect to hear from us within 24-48 hours.\r\n      </p>\r\n      {onClose && (\r\n        <button style={styles.button} onClick={onClose}>\r\n          Continue Exploring \r\n        </button>\r\n      )}\r\n\r\n      <style jsx>{`\r\n        @keyframes bounce {\r\n          0%, 100% { transform: translateY(0px); }\r\n          50% { transform: translateY(-8px); }\r\n        }\r\n\r\n        @keyframes thankYouSlideIn {\r\n          from {\r\n            opacity: 0;\r\n            transform: translateY(30px) scale(0.95);\r\n          }\r\n          to {\r\n            opacity: 1;\r\n            transform: translateY(0) scale(1);\r\n          }\r\n        }\r\n\r\n        @keyframes successPulse {\r\n          0%, 100% { \r\n            box-shadow: 0 4px 12px ${withOpacity(colors.success, 0.3)};\r\n          }\r\n          50% { \r\n            box-shadow: 0 6px 16px ${withOpacity(colors.success, 0.4)};\r\n          }\r\n        }\r\n\r\n        button:hover {\r\n          transform: translateY(-1px);\r\n          box-shadow: 0 6px 16px ${withOpacity(colors.success, 0.4)} !important;\r\n        }\r\n\r\n        button:focus {\r\n          outline: 2px solid ${colors.success};\r\n          outline-offset: 2px;\r\n        }\r\n\r\n        button:active {\r\n          transform: translateY(0) scale(0.98);\r\n        }\r\n\r\n        @media (max-width: 768px) {\r\n          .container {\r\n            padding: 40px 24px !important;\r\n          }\r\n          \r\n          .title {\r\n            font-size: 1.75rem !important;\r\n          }\r\n          \r\n          .message {\r\n            font-size: 0.9375rem !important;\r\n          }\r\n          \r\n          .button {\r\n            width: 100% !important;\r\n          }\r\n        }\r\n\r\n        @media (max-width: 480px) {\r\n          .container {\r\n            padding: 32px 20px !important;\r\n            border-radius: 20px !important;\r\n          }\r\n          \r\n          .title {\r\n            font-size: 1.5rem !important;\r\n          }\r\n          \r\n          .message {\r\n            font-size: 0.875rem !important;\r\n          }\r\n          \r\n          .icon {\r\n            font-size: 2.5rem !important;\r\n          }\r\n        }\r\n      `}</style>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ThankYouMessage;","import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport { Quote, User, Heart, Handshake, Star, Camera, ChevronLeft, ChevronRight } from 'lucide-react';\r\nimport { useTheme } from '../../theme';\r\nimport { API_URL, STATIC_URL } from '../../config';\r\n\r\nconst CollVolunteersTestimonials = ({ \r\n  title = \"Our Volunteers & Collaborators\",\r\n  maxItems = null,\r\n  showFeaturedFirst = true,\r\n  showCTA = true,\r\n  className = \"\" \r\n}) => {\r\n  const [testimonials, setTestimonials] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState('');\r\n  const [loadedImages, setLoadedImages] = useState({});\r\n  const [currentIndex, setCurrentIndex] = useState(0);\r\n  const [isAutoPlaying, setIsAutoPlaying] = useState(true);\r\n  \r\n  const { colors } = useTheme();\r\n\r\n  useEffect(() => {\r\n    fetchTestimonials();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (!isAutoPlaying || testimonials.length <= 1) return;\r\n    \r\n    const interval = setInterval(() => {\r\n      setCurrentIndex(prev => (prev + 1) % testimonials.length);\r\n    }, 5000);\r\n\r\n    return () => clearInterval(interval);\r\n  }, [isAutoPlaying, testimonials.length]);\r\n\r\n  const fetchTestimonials = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const response = await axios.get(`${API_URL}/generaltestimonials/public`);\r\n      let filteredData = response.data.filter(t => \r\n        t.type === 'volunteers' || t.type === 'collaborators'\r\n      );\r\n\r\n      if (showFeaturedFirst) {\r\n        filteredData = filteredData.sort((a, b) => {\r\n          if (a.featured && !b.featured) return -1;\r\n          if (!a.featured && b.featured) return 1;\r\n          return 0;\r\n        });\r\n      }\r\n\r\n      if (maxItems && maxItems > 0) {\r\n        filteredData = filteredData.slice(0, maxItems);\r\n      }\r\n\r\n      setTestimonials(filteredData);\r\n      setError('');\r\n    } catch (err) {\r\n      console.error('Error fetching testimonials:', err);\r\n      setError('Failed to load testimonials');\r\n      setTestimonials([]);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const getTypeIcon = (type) => {\r\n    switch (type?.toLowerCase()) {\r\n      case 'volunteers':\r\n        return <Heart size={16} />;\r\n      case 'collaborators':\r\n        return <Handshake size={16} />;\r\n      default:\r\n        return <User size={16} />;\r\n    }\r\n  };\r\n\r\n  const getTypeDisplayName = (type) => {\r\n    switch (type?.toLowerCase()) {\r\n      case 'volunteers':\r\n        return 'Volunteer';\r\n      case 'collaborators':\r\n        return 'Collaborator';\r\n      default:\r\n        return 'Member';\r\n    }\r\n  };\r\n\r\n  const handleImageLoad = (testimonialId) => {\r\n    setLoadedImages(prev => ({\r\n      ...prev,\r\n      [testimonialId]: true\r\n    }));\r\n  };\r\n\r\n  const goToNext = () => {\r\n    setCurrentIndex(prev => (prev + 1) % testimonials.length);\r\n  };\r\n\r\n  const goToPrev = () => {\r\n    setCurrentIndex(prev => (prev - 1 + testimonials.length) % testimonials.length);\r\n  };\r\n\r\n  const goToSlide = (index) => {\r\n    setCurrentIndex(index);\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className={`testimonials-container ${className}`} style={{\r\n        minHeight: '100vh',\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n        backgroundColor: colors.background\r\n      }}>\r\n        <div style={{\r\n          width: '40px',\r\n          height: '40px',\r\n          border: `3px solid ${colors.primary}20`,\r\n          borderTop: `3px solid ${colors.primary}`,\r\n          borderRadius: '50%',\r\n          animation: 'spin 1s linear infinite'\r\n        }}></div>\r\n        <style jsx>{`\r\n          @keyframes spin {\r\n            0% { transform: rotate(0deg); }\r\n            100% { transform: rotate(360deg); }\r\n          }\r\n        `}</style>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (error || testimonials.length === 0) {\r\n    return (\r\n      <div className={`testimonials-container ${className}`} style={{\r\n        minHeight: '100vh',\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n        backgroundColor: colors.background,\r\n        padding: '2rem',\r\n        textAlign: 'center'\r\n      }}>\r\n        <h3 style={{ \r\n          color: colors.text, \r\n          marginBottom: '1rem',\r\n          fontSize: '1.5rem',\r\n          fontWeight: '600'\r\n        }}>\r\n          {error ? 'Unable to load testimonials' : 'No testimonials available'}\r\n        </h3>\r\n        <p style={{ \r\n          color: colors.textSecondary,\r\n          fontSize: '1rem',\r\n          maxWidth: '500px'\r\n        }}>\r\n          {error || 'Check back soon for inspiring stories from our volunteers and collaborators.'}\r\n        </p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  const currentTestimonial = testimonials[currentIndex];\r\n  const isImageLoaded = loadedImages[currentTestimonial?.id];\r\n\r\n  return (\r\n    <div \r\n      className={`testimonials-container ${className}`} \r\n      style={{\r\n        backgroundColor: colors.background,\r\n        width: '100%',\r\n        minHeight: '100vh',\r\n        position: 'relative',\r\n        overflow: 'hidden'\r\n      }}\r\n      onMouseEnter={() => setIsAutoPlaying(false)}\r\n      onMouseLeave={() => setIsAutoPlaying(true)}\r\n    >\r\n      {/* Main Slider */}\r\n      <div style={{\r\n        height: '100vh',\r\n        display: 'grid',\r\n        gridTemplateColumns: '45% 55%',\r\n        '@media (max-width: 768px)': {\r\n          gridTemplateColumns: '1fr'\r\n        }\r\n      }}>\r\n        {/* Image Section */}\r\n        <div style={{\r\n          position: 'relative',\r\n          backgroundColor: `${colors.primary}08`,\r\n          display: 'flex',\r\n          alignItems: 'center',\r\n          justifyContent: 'center',\r\n          overflow: 'hidden'\r\n        }}>\r\n          {currentTestimonial.image ? (\r\n            <img\r\n              src={`${STATIC_URL}/uploads/testimonials/${currentTestimonial.image}`}\r\n              alt={`${currentTestimonial.first_name} ${currentTestimonial.last_name}`}\r\n              style={{\r\n                width: '100%',\r\n                height: '100%',\r\n                objectFit: 'cover',\r\n                objectPosition: 'center',\r\n                transition: 'opacity 0.5s ease',\r\n                opacity: isImageLoaded ? 1 : 0\r\n              }}\r\n              onLoad={() => handleImageLoad(currentTestimonial.id)}\r\n            />\r\n          ) : (\r\n            <div style={{\r\n              textAlign: 'center',\r\n              color: colors.primary,\r\n              display: 'flex',\r\n              flexDirection: 'column',\r\n              alignItems: 'center',\r\n              padding: '2rem'\r\n            }}>\r\n              <User size={60} />\r\n              <h4 style={{\r\n                margin: '1rem 0 0 0',\r\n                fontSize: '1.25rem',\r\n                fontWeight: '600',\r\n                color: colors.text\r\n              }}>\r\n                {currentTestimonial.first_name}\r\n              </h4>\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        {/* Content Section */}\r\n        <div style={{\r\n          padding: '2rem 3rem',\r\n          display: 'flex',\r\n          flexDirection: 'column',\r\n          justifyContent: 'center',\r\n          backgroundColor: colors.surface,\r\n          position: 'relative'\r\n        }}>\r\n          <blockquote style={{\r\n            fontSize: '1.25rem',\r\n            lineHeight: '1.5',\r\n            color: colors.text,\r\n            fontWeight: '400',\r\n            margin: '0 0 1.5rem 0',\r\n            fontStyle: 'italic'\r\n          }}>\r\n            \"{currentTestimonial.testimonial}\"\r\n          </blockquote>\r\n\r\n          <div>\r\n            <h4 style={{\r\n              fontSize: '1.125rem',\r\n              fontWeight: '600',\r\n              color: colors.text,\r\n              margin: '0 0 0.5rem 0'\r\n            }}>\r\n              {currentTestimonial.first_name} {currentTestimonial.last_name}\r\n            </h4>\r\n            <div style={{\r\n              display: 'flex',\r\n              alignItems: 'center',\r\n              gap: '8px',\r\n              color: colors.primary,\r\n              fontSize: '0.9rem',\r\n              fontWeight: '500'\r\n            }}>\r\n              {getTypeIcon(currentTestimonial.type)}\r\n              {getTypeDisplayName(currentTestimonial.type)}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Navigation Arrows */}\r\n      {testimonials.length > 1 && (\r\n        <>\r\n          <button\r\n            onClick={goToPrev}\r\n            style={{\r\n              position: 'absolute',\r\n              left: '2rem',\r\n              top: '50%',\r\n              transform: 'translateY(-50%)',\r\n              zIndex: 20,\r\n              backgroundColor: `${colors.surface}95`,\r\n              border: `1px solid ${colors.borderLight}`,\r\n              borderRadius: '50%',\r\n              width: '45px',\r\n              height: '45px',\r\n              display: 'flex',\r\n              alignItems: 'center',\r\n              justifyContent: 'center',\r\n              cursor: 'pointer',\r\n              color: colors.text\r\n            }}\r\n          >\r\n            <ChevronLeft size={20} />\r\n          </button>\r\n\r\n          <button\r\n            onClick={goToNext}\r\n            style={{\r\n              position: 'absolute',\r\n              right: '2rem',\r\n              top: '50%',\r\n              transform: 'translateY(-50%)',\r\n              zIndex: 20,\r\n              backgroundColor: `${colors.surface}95`,\r\n              border: `1px solid ${colors.borderLight}`,\r\n              borderRadius: '50%',\r\n              width: '45px',\r\n              height: '45px',\r\n              display: 'flex',\r\n              alignItems: 'center',\r\n              justifyContent: 'center',\r\n              cursor: 'pointer',\r\n              color: colors.text\r\n            }}\r\n          >\r\n            <ChevronRight size={20} />\r\n          </button>\r\n        </>\r\n      )}\r\n\r\n      {/* Dots Navigation */}\r\n      {testimonials.length > 1 && (\r\n        <div style={{\r\n          position: 'absolute',\r\n          bottom: '2rem',\r\n          left: '50%',\r\n          transform: 'translateX(-50%)',\r\n          display: 'flex',\r\n          gap: '10px',\r\n          zIndex: 20\r\n        }}>\r\n          {testimonials.map((_, index) => (\r\n            <button\r\n              key={index}\r\n              onClick={() => goToSlide(index)}\r\n              style={{\r\n                width: '10px',\r\n                height: '10px',\r\n                borderRadius: '50%',\r\n                border: 'none',\r\n                backgroundColor: index === currentIndex ? colors.primary : `${colors.textMuted}40`,\r\n                cursor: 'pointer',\r\n                transition: 'all 0.3s ease'\r\n              }}\r\n            />\r\n          ))}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CollVolunteersTestimonials;\r\n","import React, { useState, useEffect, useRef } from \"react\";\r\nimport { useTheme, withOpacity } from '../../theme';\r\nimport { API_URL } from '../../config';\r\nimport Header from '../../components/Header';\r\nimport Footer from '../../components/Footer';\r\nimport DonationModal from '../../pages/Donations/DonationModal';\r\nimport TestimonialsSlider from '../Testimonials/TestimonialsSlider';\r\nimport CollaborationChatbot from '../Chatbot/CollaborationChatbot';\r\nimport ThankYouMessage from '../../components/ThankYouMessage';\r\nimport ImageFallbackComponent from './GetInvolvedHero';\r\nimport CollVolunteersTestimonials from '../../pages/Testimonials/CollVolunteersTestimonials';\r\nimport MailList from '../../components/MailList';\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\nconst GetInvolved = () => {\r\n  const { theme, colors, isDarkMode } = useTheme();\r\n  const API_BASE = API_URL;\r\n  \r\n  // Component state\r\n  const [activeFlow, setActiveFlow] = useState(null);\r\n  const [volunteerCountry, setVolunteerCountry] = useState('');\r\n  const [availableCountries, setAvailableCountries] = useState([]);\r\n  const [volunteerForm, setVolunteerForm] = useState(null);\r\n  const [loadingForm, setLoadingForm] = useState(false);\r\n  const [formError, setFormError] = useState('');\r\n  const [isDonationModalOpen, setIsDonationModalOpen] = useState(false);\r\n  const [thankYouVisible, setThankYouVisible] = useState(false);\r\n    const navigate = useNavigate();\r\n  \r\n  // Premium animation states\r\n  const [mousePosition, setMousePosition] = useState({ x: 0, y: 0 });\r\n  const [scrollY, setScrollY] = useState(0);\r\n  const [visibleElements, setVisibleElements] = useState(new Set());\r\n\r\n  // Ref for scrolling to action cards\r\n  const actionCardsRef = useRef(null);\r\n\r\n  // Mouse tracking for premium effects and intersection observer for animations\r\n  useEffect(() => {\r\n    const handleMouseMove = (e) => {\r\n      setMousePosition({ x: e.clientX, y: e.clientY });\r\n    };\r\n    \r\n    const handleScroll = () => {\r\n      setScrollY(window.scrollY);\r\n    };\r\n\r\n    // Intersection Observer for scroll animations\r\n    const observerOptions = {\r\n      threshold: 0.1,\r\n      rootMargin: '0px 0px -50px 0px'\r\n    };\r\n\r\n    const observer = new IntersectionObserver((entries) => {\r\n      entries.forEach((entry) => {\r\n        if (entry.isIntersecting) {\r\n          setVisibleElements(prev => new Set([...prev, entry.target.dataset.animateId]));\r\n        }\r\n      });\r\n    }, observerOptions);\r\n\r\n    // Observe elements with animation\r\n    const animatedElements = document.querySelectorAll('[data-animate-id]');\r\n    animatedElements.forEach(el => observer.observe(el));\r\n\r\n    window.addEventListener('mousemove', handleMouseMove);\r\n    window.addEventListener('scroll', handleScroll, { passive: true });\r\n    \r\n    return () => {\r\n      window.removeEventListener('mousemove', handleMouseMove);\r\n      window.removeEventListener('scroll', handleScroll);\r\n      observer.disconnect();\r\n    };\r\n  }, []);\r\n\r\n  // Original functions preserved for volunteer functionality\r\n  const fetchAvailableCountries = async () => {\r\n    try {\r\n      const response = await fetch(`${API_BASE}/countries`, {\r\n        method: 'GET',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        credentials: 'include'\r\n      });\r\n      \r\n      if (!response.ok) throw new Error('Failed to fetch countries');\r\n      \r\n      const data = await response.json();\r\n      if (!Array.isArray(data)) throw new Error('Invalid response format');\r\n      \r\n      const sorted = [...data].sort((a, b) => a.name.localeCompare(b.name));\r\n      setAvailableCountries(sorted);\r\n    } catch (error) {\r\n      console.error('Error fetching countries:', error);\r\n      setFormError('Failed to load countries');\r\n      \r\n      // Fallback countries from questions\r\n      const fallbackCountries = [\r\n        \"Afghanistan\", \"Albania\", \"Algeria\", \"Argentina\", \"Australia\", \"Austria\",\r\n        \"Bangladesh\", \"Belgium\", \"Brazil\", \"Canada\", \"China\", \"Denmark\", \"Egypt\",\r\n        \"France\", \"Germany\", \"Ghana\", \"India\", \"Indonesia\", \"Italy\", \"Japan\",\r\n        \"Kenya\", \"Malaysia\", \"Mexico\", \"Netherlands\", \"Nigeria\", \"Norway\",\r\n        \"Pakistan\", \"Philippines\", \"Poland\", \"Russia\", \"Saudi Arabia\", \"Singapore\",\r\n        \"South Africa\", \"South Korea\", \"Spain\", \"Sweden\", \"Switzerland\", \"Thailand\",\r\n        \"Turkey\", \"Uganda\", \"Ukraine\", \"United Kingdom\", \"United States\", \"Vietnam\"\r\n      ];\r\n      const fallbackData = fallbackCountries.map((name, index) => ({ id: index + 1, name }));\r\n      setAvailableCountries(fallbackData);\r\n    }\r\n  };\r\n\r\n  const fetchVolunteerForm = async (countryName) => {\r\n    setLoadingForm(true);\r\n    setFormError('');\r\n    \r\n    try {\r\n      const response = await fetch(\r\n        `${API_BASE}/volunteer-forms/country/${encodeURIComponent(countryName)}`, \r\n        {\r\n          method: 'GET',\r\n          headers: { 'Content-Type': 'application/json' },\r\n          credentials: 'include'\r\n        }\r\n      );\r\n\r\n      if (response.ok) {\r\n        const result = await response.json();\r\n        if (result.data && result.data.is_active) {\r\n          setVolunteerForm(result.data);\r\n        } else {\r\n          setFormError(`Thank you for your interest in ${countryName}.`);\r\n          setVolunteerForm(null);\r\n        }\r\n      } else if (response.status === 404) {\r\n        setFormError(`Thank you for your interest in ACEF ${countryName}.`);\r\n        setVolunteerForm(null);\r\n      } else {\r\n        const errorData = await response.json().catch(() => ({}));\r\n        throw new Error(errorData.message || 'Failed to fetch volunteer form');\r\n      }\r\n    } catch (error) {\r\n      console.error('Error fetching volunteer form:', error);\r\n      setFormError(`Error loading volunteer form for ${countryName}. Please try again later.`);\r\n      setVolunteerForm(null);\r\n    } finally {\r\n      setLoadingForm(false);\r\n    }\r\n  };\r\n\r\n  const getEmbeddableFormURL = (formUrl) => {\r\n    if (!formUrl) return '';\r\n    \r\n    try {\r\n      if (formUrl.includes('docs.google.com/forms')) {\r\n        if (formUrl.includes('/viewform')) {\r\n          return formUrl.includes('embedded=true') ? formUrl : `${formUrl}&embedded=true`;\r\n        } else if (formUrl.includes('/d/')) {\r\n          const formIdMatch = formUrl.match(/\\/d\\/([a-zA-Z0-9-_]+)/);\r\n          if (formIdMatch) {\r\n            return `https://docs.google.com/forms/d/e/${formIdMatch[1]}/viewform?embedded=true`;\r\n          }\r\n        }\r\n      }\r\n      \r\n      if (formUrl.includes('typeform.com')) return formUrl;\r\n      if (formUrl.includes('jotform.com')) {\r\n        return formUrl.includes('?') ? `${formUrl}&embed=1` : `${formUrl}?embed=1`;\r\n      }\r\n      \r\n      const separator = formUrl.includes('?') ? '&' : '?';\r\n      return `${formUrl}${separator}embedded=true`;\r\n      \r\n    } catch (error) {\r\n      console.error('Error processing form URL:', error);\r\n      return formUrl;\r\n    }\r\n  };\r\n\r\n  const handleVolunteerCountryChange = (e) => {\r\n    const selectedCountry = e.target.value;\r\n    setVolunteerCountry(selectedCountry);\r\n    \r\n    if (selectedCountry) {\r\n      fetchVolunteerForm(selectedCountry);\r\n    } else {\r\n      setVolunteerForm(null);\r\n      setFormError('');\r\n    }\r\n  };\r\n\r\n  // Handler functions for chatbot\r\n  const handleChatbotSubmit = (formData) => {\r\n    console.log(\"Collaboration data received:\", formData);\r\n    // Here you would send the data to your backend\r\n    sendEmail(formData);\r\n    setThankYouVisible(true);\r\n  };\r\n\r\n  const sendEmail = (data) => {\r\n    console.log(\"Email sent with comprehensive data:\", data);\r\n    // Here you would integrate with your email service\r\n  };\r\n\r\n  const startFlow = (flowType) => {\r\n    setActiveFlow(flowType);\r\n    setThankYouVisible(false);\r\n    \r\n    if (flowType === 'volunteer') {\r\n      fetchAvailableCountries();\r\n    }\r\n  };\r\n\r\n  const exitFlow = () => {\r\n    setActiveFlow(null);\r\n    setThankYouVisible(false);\r\n    // Reset volunteer state\r\n    setVolunteerCountry('');\r\n    setVolunteerForm(null);\r\n    setFormError('');\r\n  };\r\n\r\n  const scrollToActionCards = () => {\r\n    if (actionCardsRef.current) {\r\n      actionCardsRef.current.scrollIntoView({ \r\n        behavior: 'smooth',\r\n        block: 'start'\r\n      });\r\n    }\r\n  };\r\n\r\n  const renderVolunteerForm = () => {\r\n    if (!volunteerForm) return null;\r\n\r\n    const embeddableURL = getEmbeddableFormURL(volunteerForm.form_url);\r\n    \r\n    return (\r\n      <div style={{\r\n        marginTop: '32px',\r\n        background: isDarkMode \r\n          ? `linear-gradient(145deg, ${withOpacity(colors.black, 0.4)}, ${withOpacity(colors.primaryDark, 0.1)})`\r\n          : `linear-gradient(145deg, ${withOpacity(colors.white, 0.9)}, ${withOpacity(colors.primary, 0.05)})`,\r\n        backdropFilter: 'blur(20px)',\r\n        borderRadius: '24px',\r\n        padding: '40px',\r\n        border: `1px solid ${withOpacity(colors.primary, 0.2)}`,\r\n        boxShadow: `0 8px 32px ${withOpacity(colors.black, 0.1)}`,\r\n      }}>\r\n        <div style={{ marginBottom: '32px', textAlign: 'center' }}>\r\n          <h3 style={{\r\n            color: colors.primary,\r\n            fontSize: '1.25rem',\r\n            fontWeight: 700,\r\n            marginBottom: '12px',\r\n            background: `linear-gradient(135deg, ${colors.primary}, ${colors.secondary})`,\r\n            backgroundClip: 'text',\r\n            WebkitBackgroundClip: 'text',\r\n            WebkitTextFillColor: 'transparent'\r\n          }}>{volunteerForm.form_title}</h3>\r\n          {volunteerForm.description && (\r\n            <p style={{\r\n              color: theme.colors.textSecondary,\r\n              fontSize: '0.95rem',\r\n              lineHeight: 1.6,\r\n              maxWidth: '600px',\r\n              margin: '0 auto'\r\n            }}>{volunteerForm.description}</p>\r\n          )}\r\n        </div>\r\n        \r\n        <div style={{ \r\n          position: 'relative', \r\n          minHeight: '600px',\r\n          borderRadius: '16px',\r\n          overflow: 'hidden',\r\n          boxShadow: `inset 0 2px 8px ${withOpacity(colors.black, 0.05)}`\r\n        }}>\r\n          <iframe\r\n            src={embeddableURL}\r\n            width=\"100%\"\r\n            height=\"600\"\r\n            frameBorder=\"0\"\r\n            title={volunteerForm.form_title}\r\n            sandbox=\"allow-scripts allow-forms allow-same-origin allow-popups allow-top-navigation\"\r\n            loading=\"lazy\"\r\n            style={{\r\n              border: 'none',\r\n              borderRadius: '16px',\r\n              backgroundColor: theme.colors.surface,\r\n            }}\r\n          />\r\n          \r\n          <div style={{ textAlign: 'center', marginTop: '24px' }}>\r\n            <p style={{ color: theme.colors.textSecondary, fontSize: '0.875rem' }}>\r\n              Having trouble with the form?{' '}\r\n              <a \r\n                href={volunteerForm.form_url}\r\n                target=\"_blank\"\r\n                rel=\"noopener noreferrer\"\r\n                style={{\r\n                  color: colors.primary,\r\n                  textDecoration: 'none',\r\n                  fontWeight: 600,\r\n                  borderBottom: `1px solid ${withOpacity(colors.primary, 0.3)}`,\r\n                  transition: 'all 0.3s ease'\r\n                }}\r\n              >\r\n                Open in new tab \r\n              </a>\r\n            </p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const actionButtons = [\r\n    {\r\n      id: 'collaborate',\r\n      title: 'Collaborate',\r\n      subtitle: 'Strategic partnerships & projects',\r\n      icon: '',\r\n      gradient: `linear-gradient(135deg, ${colors.primary}, ${colors.secondary})`,\r\n      description: 'Work with us on transformative projects that bridge law and technology'\r\n    },\r\n    {\r\n      id: 'volunteer',\r\n      title: 'Volunteer',\r\n      subtitle: 'Direct community impact',\r\n      icon: '',\r\n      gradient: `linear-gradient(135deg, ${colors.secondary}, ${colors.success})`,\r\n      description: 'Contribute your time and skills to meaningful community programs'\r\n    },\r\n    {\r\n      id: 'partner',\r\n      title: 'Partner',\r\n      subtitle: 'Long-term organizational partnerships',\r\n      icon: '',\r\n      gradient: `linear-gradient(135deg, ${colors.success}, ${colors.primary})`,\r\n      description: 'Establish sustainable partnerships for lasting social impact'\r\n    },\r\n    {\r\n      id: 'donate',\r\n      title: 'Support',\r\n      subtitle: 'Financial contributions',\r\n      icon: '',\r\n      gradient: `linear-gradient(135deg, ${colors.warning}, ${colors.primary})`,\r\n      description: 'Fuel our mission with financial support for key initiatives'\r\n    }\r\n  ];\r\n\r\n  const styles = {\r\n    pageContainer: {\r\n      minHeight: '100vh',\r\n      background: isDarkMode \r\n        ? `radial-gradient(ellipse at top, ${withOpacity(colors.primaryDark, 0.3)}, ${colors.black})`\r\n        : `radial-gradient(ellipse at top, ${withOpacity(colors.primary, 0.1)}, ${colors.white})`,\r\n      fontFamily: '\"Nunito Sans\", -apple-system, BlinkMacSystemFont, sans-serif',\r\n      color: theme.colors.text,\r\n      position: 'relative',\r\n      fontSize: '14px',\r\n      lineHeight: 1.5\r\n    },\r\n\r\n    backgroundEffect: {\r\n      position: 'fixed',\r\n      top: 0,\r\n      left: 0,\r\n      right: 0,\r\n      bottom: 0,\r\n      background: isDarkMode\r\n        ? `radial-gradient(600px circle at ${mousePosition.x}px ${mousePosition.y}px, ${withOpacity(colors.primary, 0.1)}, transparent 40%)`\r\n        : `radial-gradient(800px circle at ${mousePosition.x}px ${mousePosition.y}px, ${withOpacity(colors.secondary, 0.08)}, transparent 40%)`,\r\n      pointerEvents: 'none',\r\n      zIndex: 0,\r\n      transition: 'all 0.3s ease'\r\n    },\r\n\r\n    heroSection: {\r\n      position: 'relative',\r\n      minHeight: '60vh',\r\n      display: 'flex',\r\n      alignItems: 'center',\r\n      justifyContent: 'center',\r\n      background: isDarkMode \r\n        ? `linear-gradient(135deg, ${colors.primary} 0%, ${colors.secondaryDark} 50%, ${colors.secondary} 100%)`\r\n        : `linear-gradient(135deg, ${colors.primary} 0%, ${colors.secondary} 50%, ${colors.primary} 100%)`,\r\n      color: colors.white,\r\n      zIndex: 1\r\n    },\r\n\r\n    heroContent: {\r\n      maxWidth: '700px',\r\n      textAlign: 'center',\r\n      padding: '0 20px'\r\n    },\r\n\r\n    heroTitle: {\r\n      fontSize: '3rem',\r\n      fontWeight: 800,\r\n      marginBottom: '20px',\r\n      lineHeight: 1.1,\r\n      letterSpacing: '-0.02em',\r\n    },\r\n\r\n    heroSubtitle: {\r\n      fontSize: '1.125rem',\r\n      opacity: 0.95,\r\n      lineHeight: 1.6,\r\n      fontWeight: 300,\r\n      marginBottom: '40px'\r\n    },\r\n\r\n    mainContainer: {\r\n      maxWidth: '1200px',\r\n      margin: '0 auto',\r\n      padding: '60px 20px',\r\n      position: 'relative',\r\n      zIndex: 1,\r\n      paddingTop: '80px'\r\n    },\r\n\r\n    navigationSection: {\r\n      textAlign: 'center',\r\n      marginBottom: '60px'\r\n    },\r\n\r\n    sectionTitle: {\r\n      fontSize: '2rem',\r\n      fontWeight: 700,\r\n      marginBottom: '12px',\r\n      background: `linear-gradient(135deg, ${colors.primary}, ${colors.secondary})`,\r\n      backgroundClip: 'text',\r\n      WebkitBackgroundClip: 'text',\r\n      WebkitTextFillColor: 'transparent',\r\n    },\r\n\r\n    sectionSubtitle: {\r\n      fontSize: '1rem',\r\n      color: theme.colors.textSecondary,\r\n      marginBottom: '48px',\r\n      fontWeight: 400\r\n    },\r\n\r\n    buttonGrid: {\r\n      display: 'grid',\r\n      gridTemplateColumns: 'repeat(auto-fit, minmax(240px, 1fr))',\r\n      gap: '20px',\r\n      marginBottom: '40px'\r\n    },\r\n\r\n    // Animation styles\r\n    animateSlideUp: {\r\n      transform: 'translateY(50px)',\r\n      opacity: 0,\r\n      transition: 'all 0.8s cubic-bezier(0.4, 0, 0.2, 1)',\r\n    },\r\n\r\n    animateSlideUpVisible: {\r\n      transform: 'translateY(0)',\r\n      opacity: 1,\r\n    },\r\n\r\n    animateSlideLeft: {\r\n      transform: 'translateX(-50px)',\r\n      opacity: 0,\r\n      transition: 'all 0.8s cubic-bezier(0.4, 0, 0.2, 1)',\r\n    },\r\n\r\n    animateSlideLeftVisible: {\r\n      transform: 'translateX(0)',\r\n      opacity: 1,\r\n    },\r\n\r\n    animateSlideRight: {\r\n      transform: 'translateX(50px)',\r\n      opacity: 0,\r\n      transition: 'all 0.8s cubic-bezier(0.4, 0, 0.2, 1)',\r\n    },\r\n\r\n    animateSlideRightVisible: {\r\n      transform: 'translateX(0)',\r\n      opacity: 1,\r\n    },\r\n\r\n    animateFadeIn: {\r\n      opacity: 0,\r\n      transition: 'all 0.8s ease-in-out',\r\n    },\r\n\r\n    animateFadeInVisible: {\r\n      opacity: 1,\r\n    },\r\n\r\n    actionButton: {\r\n      background: isDarkMode \r\n        ? withOpacity(colors.primaryDark, 0.1)\r\n        : colors.white,\r\n      borderRadius: '20px',\r\n      padding: '24px',\r\n      border: `1px solid ${withOpacity(colors.primary, 0.2)}`,\r\n      cursor: 'pointer',\r\n      transition: 'all 0.3s cubic-bezier(0.4, 0, 0.2, 1)',\r\n      textAlign: 'left',\r\n      position: 'relative',\r\n      overflow: 'hidden',\r\n      boxShadow: `0 4px 20px ${withOpacity(colors.primary, 0.08)}`,\r\n      backdropFilter: 'blur(10px)'\r\n    },\r\n\r\n    buttonIcon: {\r\n      fontSize: '2rem',\r\n      marginBottom: '12px',\r\n      display: 'block'\r\n    },\r\n\r\n    buttonTitle: {\r\n      fontSize: '1.125rem',\r\n      fontWeight: 700,\r\n      marginBottom: '6px',\r\n      color: theme.colors.text\r\n    },\r\n\r\n    buttonSubtitle: {\r\n      fontSize: '0.875rem',\r\n      color: colors.primary,\r\n      marginBottom: '8px',\r\n      fontWeight: 600\r\n    },\r\n\r\n    buttonDescription: {\r\n      fontSize: '0.875rem',\r\n      color: theme.colors.textSecondary,\r\n      lineHeight: 1.4,\r\n      fontWeight: 400\r\n    },\r\n\r\n    backButton: {\r\n      display: 'flex',\r\n      alignItems: 'center',\r\n      gap: '8px',\r\n      padding: '12px 20px',\r\n      background: 'transparent',\r\n      border: `1px solid ${withOpacity(colors.primary, 0.3)}`,\r\n      borderRadius: '24px',\r\n      color: colors.primary,\r\n      cursor: 'pointer',\r\n      fontSize: '0.875rem',\r\n      fontWeight: 600,\r\n      marginBottom: '24px',\r\n      transition: 'all 0.3s ease',\r\n      fontFamily: 'inherit',\r\n      backdropFilter: 'blur(10px)'\r\n    },\r\n\r\n    volunteerSection: {\r\n      padding: '40px',\r\n      textAlign: 'center',\r\n      background: isDarkMode \r\n        ? `linear-gradient(145deg, ${withOpacity(colors.black, 0.6)}, ${withOpacity(colors.primaryDark, 0.2)})`\r\n        : `linear-gradient(145deg, ${withOpacity(colors.white, 0.95)}, ${withOpacity(colors.primary, 0.05)})`,\r\n      backdropFilter: 'blur(20px)',\r\n      borderRadius: '24px',\r\n      boxShadow: `0 8px 40px ${withOpacity(colors.primary, 0.15)}`,\r\n      border: `1px solid ${withOpacity(colors.primary, 0.2)}`,\r\n    },\r\n\r\n    volunteerTitle: {\r\n      fontSize: '1.25rem',\r\n      marginBottom: '24px',\r\n      color: colors.primary,\r\n      fontWeight: 700\r\n    },\r\n\r\n    volunteerDescription: {\r\n      fontSize: '0.875rem',\r\n      color: theme.colors.textSecondary,\r\n      marginBottom: '24px',\r\n      lineHeight: 1.6\r\n    },\r\n\r\n    countrySelector: {\r\n      maxWidth: '400px',\r\n      margin: '0 auto 24px',\r\n      display: 'block'\r\n    },\r\n\r\n    select: {\r\n      width: '100%',\r\n      padding: '14px 16px',\r\n      background: isDarkMode \r\n        ? withOpacity(colors.black, 0.3)\r\n        : withOpacity(colors.gray50, 0.8),\r\n      border: `1px solid ${withOpacity(colors.primary, 0.2)}`,\r\n      borderRadius: '12px',\r\n      fontSize: '0.875rem',\r\n      fontFamily: 'inherit',\r\n      color: theme.colors.text,\r\n      cursor: 'pointer',\r\n      transition: 'all 0.3s ease',\r\n      outline: 'none',\r\n      appearance: 'none',\r\n      backgroundImage: `url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='${colors.primary.replace('#', '%23')}' viewBox='0 0 16 16'%3e%3cpath d='m7.247 4.86-4.796 5.481c-.566.647-.106 1.659.753 1.659h9.592a1 1 0 0 0 .753-1.659l-4.796-5.48a1 1 0 0 0-1.506 0z'/%3e%3c/svg%3e\")`,\r\n      backgroundRepeat: 'no-repeat',\r\n      backgroundPosition: 'right 12px center',\r\n      backgroundSize: '12px'\r\n    },\r\n\r\n    loadingState: {\r\n      textAlign: 'center',\r\n      padding: '40px',\r\n      color: colors.primary,\r\n      fontSize: '0.875rem',\r\n      fontWeight: 500\r\n    },\r\n\r\n    loadingSpinner: {\r\n      width: '32px',\r\n      height: '32px',\r\n      border: `3px solid ${withOpacity(colors.primary, 0.2)}`,\r\n      borderTopColor: colors.primary,\r\n      borderRadius: '50%',\r\n      animation: 'spin 1s linear infinite',\r\n      margin: '0 auto 16px'\r\n    },\r\n\r\n    errorState: {\r\n      textAlign: 'center',\r\n      padding: '32px',\r\n      background: `${colors.error}10`,\r\n      borderRadius: '16px',\r\n      border: `1px solid ${colors.error}20`,\r\n      margin: '24px 0'\r\n    },\r\n\r\n    primaryButton: {\r\n            backgroundColor: colors.primary,\r\n      color: colors.white,\r\n      padding: '16px 32px',\r\n      borderRadius: '12px',\r\n      border: 'none',\r\n      fontWeight: '600',\r\n      fontSize: '16px',\r\n      cursor: 'pointer',\r\n      display: 'inline-flex',\r\n      alignItems: 'center',\r\n      gap: '8px',\r\n      transition: 'all 0.3s ease',\r\n      boxShadow: `0 4px 16px rgba(10, 69, 28, 0.3)`,\r\n      fontFamily: '\"Nunito Sans\", sans-serif'\r\n    },\r\n\r\n    careerEventSection: {\r\n      width: '100%',\r\n      display: 'flex',\r\n      margin: '4rem 0',\r\n      flexDirection: window.innerWidth <= 768 ? 'column' : 'row',\r\n    },\r\n\r\n    careerBlock: {\r\n      flex: 1,\r\n      background: isDarkMode \r\n        ? `linear-gradient(135deg, ${withOpacity(colors.primary, 0.15)}, ${withOpacity(colors.primaryDark, 0.25)})`\r\n        : `linear-gradient(135deg, #ebf4ff, #dbeafe)`,\r\n      padding: '4rem 2rem',\r\n      textAlign: 'center',\r\n      minHeight: '400px',\r\n      display: 'flex',\r\n      flexDirection: 'column',\r\n      justifyContent: 'center',\r\n      backdropFilter: 'blur(10px)',\r\n      border: isDarkMode ? `1px solid ${withOpacity(colors.primary, 0.2)}` : 'none',\r\n    },\r\n\r\n    eventsBlock: {\r\n      flex: 1,\r\n      background: isDarkMode \r\n        ? `linear-gradient(135deg, ${withOpacity(colors.secondary, 0.15)}, ${withOpacity(colors.success, 0.20)})`\r\n        : `linear-gradient(135deg, #ecfdf5, #d1fae5)`,\r\n      padding: '4rem 2rem',\r\n      textAlign: 'center',\r\n      minHeight: '400px',\r\n      display: 'flex',\r\n      flexDirection: 'column',\r\n      justifyContent: 'center',\r\n      backdropFilter: 'blur(10px)',\r\n      border: isDarkMode ? `1px solid ${withOpacity(colors.secondary, 0.2)}` : 'none',\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div style={styles.pageContainer}>\r\n      <div style={styles.backgroundEffect}></div>\r\n      <Header />\r\n      <ImageFallbackComponent onStartClick={scrollToActionCards} />\r\n      \r\n\r\n      {/* Main Content */}\r\n      <div style={styles.mainContainer} ref={actionCardsRef}>\r\n        {thankYouVisible ? (\r\n          <ThankYouMessage onClose={exitFlow} />\r\n        ) : activeFlow ? (\r\n          // Flow Interface\r\n          <>\r\n            {(activeFlow === 'collaborate' || activeFlow === 'partner') && (\r\n              <CollaborationChatbot\r\n                flowType={activeFlow}\r\n                onSubmit={handleChatbotSubmit}\r\n                onExit={exitFlow}\r\n              />\r\n            )}\r\n\r\n            {activeFlow === 'volunteer' && (\r\n              <div style={styles.volunteerSection}>\r\n                <button \r\n                  style={styles.backButton}\r\n                  onClick={exitFlow}\r\n                  onMouseEnter={(e) => {\r\n                    e.target.style.background = withOpacity(colors.primary, 0.1);\r\n                    e.target.style.borderColor = colors.primary;\r\n                  }}\r\n                  onMouseLeave={(e) => {\r\n                    e.target.style.background = 'transparent';\r\n                    e.target.style.borderColor = withOpacity(colors.primary, 0.3);\r\n                  }}\r\n                >\r\n                   Back to Options\r\n                </button>\r\n                \r\n                <h3 style={styles.volunteerTitle}> Volunteer Opportunities</h3>\r\n                <p style={styles.volunteerDescription}>\r\n                  Select a country you'd like to volunteer in.\r\n                </p>\r\n                \r\n                <div style={styles.countrySelector}>\r\n                  <select\r\n                    value={volunteerCountry}\r\n                    onChange={handleVolunteerCountryChange}\r\n                    style={styles.select}\r\n                  >\r\n                    <option value=\"\">Choose country of interest...</option>\r\n                    {availableCountries.map((country) => (\r\n                      <option key={country.id || country.name} value={country.name}>\r\n                        {country.name}\r\n                      </option>\r\n                    ))}\r\n                  </select>\r\n                </div>\r\n\r\n                {loadingForm && (\r\n                  <div style={styles.loadingState}>\r\n                    <div style={styles.loadingSpinner}></div>\r\n                    <p>Loading volunteer opportunities for {volunteerCountry}...</p>\r\n                  </div>\r\n                )}\r\n\r\n                {formError && !loadingForm && (\r\n                  <div style={styles.errorState}>\r\n                    <h4 style={{ color: colors.primary, marginBottom: '12px', fontSize: '1rem' }}>\r\n                      Sorry, we are not accepting applications here at this time. Please check back later or try another ACEF region.\r\n                    </h4>\r\n                    <p style={{ marginBottom: '16px', fontSize: '0.875rem' }}>{formError}</p>\r\n                  </div>\r\n                )}\r\n\r\n                {volunteerForm && !loadingForm && !formError && renderVolunteerForm()}\r\n              </div>\r\n            )}\r\n\r\n            {activeFlow === 'donate' && (\r\n              <div style={styles.volunteerSection}>\r\n                <button \r\n                  style={styles.backButton}\r\n                  onClick={exitFlow}\r\n                  onMouseEnter={(e) => {\r\n                    e.target.style.background = withOpacity(colors.primary, 0.1);\r\n                    e.target.style.borderColor = colors.primary;\r\n                  }}\r\n                  onMouseLeave={(e) => {\r\n                    e.target.style.background = 'transparent';\r\n                    e.target.style.borderColor = withOpacity(colors.primary, 0.3);\r\n                  }}\r\n                >\r\n                   Back to Options\r\n                </button>\r\n                \r\n                <h3 style={styles.volunteerTitle}> Support Our Mission</h3>\r\n                <p style={styles.volunteerDescription}>\r\n                  Your financial support enables us to expand our reach, develop innovative solutions, \r\n                  and create lasting positive change across Africa.\r\n                </p>\r\n                <button \r\n                  style={styles.primaryButton} \r\n                  onClick={() => setIsDonationModalOpen(true)}\r\n                >\r\n                   Make a Donation\r\n                </button>\r\n              </div>\r\n            )}\r\n          </>\r\n        ) : (\r\n          // Navigation Interface\r\n          <div style={styles.navigationSection}>\r\n            <div \r\n              style={{\r\n                ...styles.animateSlideUp,\r\n                ...(visibleElements.has('section-title') ? styles.animateSlideUpVisible : {})\r\n              }}\r\n              data-animate-id=\"section-title\"\r\n            >\r\n              <h2 style={styles.sectionTitle}>Choose Your Path</h2>\r\n              <p style={styles.sectionSubtitle}>\r\n                Select how you'd like to contribute to our mission\r\n              </p>\r\n            </div>\r\n            \r\n            <div \r\n              style={{\r\n                ...styles.buttonGrid,\r\n                ...styles.animateFadeIn,\r\n                ...(visibleElements.has('action-cards') ? styles.animateFadeInVisible : {})\r\n              }}\r\n              data-animate-id=\"action-cards\"\r\n            >\r\n              {actionButtons.map((button, index) => (\r\n                <div\r\n                  key={button.id}\r\n                  style={{\r\n                    ...styles.actionButton,\r\n                    ...styles.animateSlideUp,\r\n                    transitionDelay: `${index * 0.1}s`,\r\n                    ...(visibleElements.has('action-cards') ? styles.animateSlideUpVisible : {})\r\n                  }}\r\n                  onClick={() => startFlow(button.id)}\r\n                  onMouseEnter={(e) => {\r\n                    e.target.style.transform = 'translateY(-4px)';\r\n                    e.target.style.boxShadow = `0 8px 32px ${withOpacity(colors.primary, 0.2)}`;\r\n                    e.target.style.borderColor = colors.primary;\r\n                  }}\r\n                  onMouseLeave={(e) => {\r\n                    e.target.style.transform = 'translateY(0)';\r\n                    e.target.style.boxShadow = `0 4px 20px ${withOpacity(colors.primary, 0.08)}`;\r\n                    e.target.style.borderColor = withOpacity(colors.primary, 0.2);\r\n                  }}\r\n                >\r\n                  <span style={styles.buttonIcon}>{button.icon}</span>\r\n                  <h3 style={styles.buttonTitle}>{button.title}</h3>\r\n                  <p style={styles.buttonSubtitle}>{button.subtitle}</p>\r\n                  <p style={styles.buttonDescription}>{button.description}</p>\r\n                </div>\r\n              ))}\r\n            </div>\r\n\r\n            {/* Career and Events Section */}\r\n            <div style={styles.careerEventSection}>\r\n              {/* Careers Block */}\r\n              <div style={styles.careerBlock}>\r\n                <div style={{\r\n                  fontSize: '3rem',\r\n                  marginBottom: '1.5rem'\r\n                }}></div>\r\n                <h3 style={{\r\n                  fontSize: '1.5rem',\r\n                  fontWeight: 700,\r\n                  marginBottom: '1rem',\r\n                  color: colors.primary\r\n                }}>Explore Careers</h3>\r\n                <p style={{\r\n                  fontSize: '1rem',\r\n                  lineHeight: 1.6,\r\n                  marginBottom: '2rem',\r\n                  color: theme.colors.textSecondary\r\n                }}>\r\n                  Be part of a dynamic team driving legal innovation across Africa. \r\n                  Explore career opportunities that combine purpose with professional growth.\r\n                </p>\r\n                <button \r\n                  style={{\r\n                    ...styles.primaryButton,\r\n                    background: `linear-gradient(135deg, ${colors.primary}, ${colors.secondary})`,\r\n                  }}\r\n                  onMouseEnter={(e) => {\r\n                    e.target.style.transform = 'translateY(-2px)';\r\n                    e.target.style.boxShadow = `0 6px 20px ${withOpacity(colors.primary, 0.4)}`;\r\n                  }}\r\n                  onMouseLeave={(e) => {\r\n                    e.target.style.transform = 'translateY(0)';\r\n                    e.target.style.boxShadow = `0 4px 12px ${withOpacity(colors.primary, 0.3)}`;\r\n                  }}\r\n                        onClick={() => navigate(\"/jobs\")}\r\n\r\n                >\r\n                  View Open Positions\r\n                </button>\r\n              </div>\r\n\r\n              {/* Events Block */}\r\n              <div style={styles.eventsBlock}>\r\n                <div style={{\r\n                  fontSize: '3rem',\r\n                  marginBottom: '1.5rem'\r\n                }}></div>\r\n                <h3 style={{\r\n                  fontSize: '1.5rem',\r\n                  fontWeight: 700,\r\n                  marginBottom: '1rem',\r\n                  color: colors.secondary\r\n                }}>Upcoming Events</h3>\r\n                <p style={{\r\n                  fontSize: '1rem',\r\n                  lineHeight: 1.6,\r\n                  marginBottom: '2rem',\r\n                  color: theme.colors.textSecondary\r\n                }}>\r\n                  Join our workshops, conferences, and community events. \r\n                  Connect with legal professionals and innovators across the continent.\r\n                </p>\r\n                   <button\r\n      style={{\r\n        ...styles.primaryButton,\r\n        background: `linear-gradient(135deg, ${colors.secondary}, ${colors.success})`,\r\n      }}\r\n      onMouseEnter={(e) => {\r\n        e.target.style.transform = \"translateY(-2px)\";\r\n        e.target.style.boxShadow = `0 6px 20px ${withOpacity(colors.secondary, 0.4)}`;\r\n      }}\r\n      onMouseLeave={(e) => {\r\n        e.target.style.transform = \"translateY(0)\";\r\n        e.target.style.boxShadow = `0 4px 12px ${withOpacity(colors.secondary, 0.3)}`;\r\n      }}\r\n      onClick={() => navigate(\"/events\")}\r\n    >\r\n      Explore Events\r\n    </button>\r\n\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {/* Move CollVolunteersTestimonials OUTSIDE the mainContainer to remove width constraint */}\r\n\r\n      <DonationModal \r\n        open={isDonationModalOpen} \r\n        onClose={() => setIsDonationModalOpen(false)} \r\n      />\r\n      <CollVolunteersTestimonials />\r\n\r\n      <MailList/>\r\n      <Footer />\r\n\r\n      <style jsx>{`\r\n        @import url('https://fonts.googleapis.com/css2?family=Nunito+Sans:wght@200;300;400;500;600;700;800;900&display=swap');\r\n\r\n        @keyframes spin {\r\n          to { transform: rotate(360deg); }\r\n        }\r\n\r\n        .action-button:hover {\r\n          transform: translateY(-4px) !important;\r\n          box-shadow: 0 8px 32px ${withOpacity(colors.primary, 0.2)} !important;\r\n          border-color: ${colors.primary} !important;\r\n        }\r\n\r\n        .primary-button:hover {\r\n          transform: translateY(-1px);\r\n          box-shadow: 0 6px 16px ${withOpacity(colors.primary, 0.4)} !important;\r\n        }\r\n\r\n        select:focus {\r\n          border-color: ${colors.primary} !important;\r\n          box-shadow: 0 0 0 2px ${withOpacity(colors.primary, 0.2)} !important;\r\n        }\r\n\r\n        @media (max-width: 768px) {\r\n          .hero-title {\r\n            font-size: 2.25rem !important;\r\n          }\r\n          \r\n          .hero-subtitle {\r\n            font-size: 1rem !important;\r\n          }\r\n          \r\n          .section-title {\r\n            font-size: 1.75rem !important;\r\n          }\r\n          \r\n          .button-grid {\r\n            grid-template-columns: 1fr !important;\r\n            gap: 16px !important;\r\n          }\r\n          \r\n          .action-button {\r\n            padding: 20px !important;\r\n          }\r\n          \r\n          .volunteer-section {\r\n            padding: 24px !important;\r\n          }\r\n        }\r\n\r\n        @media (max-width: 480px) {\r\n          .main-container {\r\n            padding: 40px 16px !important;\r\n          }\r\n          \r\n          .hero-title {\r\n            font-size: 1.875rem !important;\r\n          }\r\n          \r\n          .hero-subtitle {\r\n            font-size: 0.9375rem !important;\r\n          }\r\n          \r\n          .volunteer-section {\r\n            padding: 20px 16px !important;\r\n            border-radius: 16px !important;\r\n          }\r\n        }\r\n      `}</style>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default GetInvolved;","import React, { useState, useEffect } from 'react';\r\nimport { \r\n  TrendingUp, \r\n  Users, \r\n  MapPin, \r\n  CheckCircle, \r\n  Handshake, \r\n  DollarSign, \r\n  Heart, \r\n  BarChart3, \r\n  Target,\r\n  Loader2,\r\n  Star,\r\n  Zap,\r\n  Globe,\r\n  Activity\r\n} from 'lucide-react';\r\n\r\n// Icon mapping for impact types\r\nconst iconMap = {\r\n  people: Users,\r\n  location_city: MapPin,\r\n  check_circle: CheckCircle,\r\n  handshake: Handshake,\r\n  attach_money: DollarSign,\r\n  volunteer_activism: Heart,\r\n  assessment: BarChart3,\r\n  trending_up: TrendingUp\r\n};\r\n\r\nconst FeaturedImpactsDisplay = () => {\r\n  const [impacts, setImpacts] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  const [activeCard, setActiveCard] = useState(null);\r\n\r\n  // Fetch all impacts from API\r\n  const fetchAllImpacts = async () => {\r\n    try {\r\n      setLoading(true);\r\n      setError(null);\r\n\r\n      const API_BASE = process.env.REACT_APP_API_URL;\r\n      \r\n      const response = await fetch(`${API_BASE}/impacts?is_active=true`, {\r\n        method: 'GET',\r\n        credentials: 'include',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        }\r\n      });\r\n\r\n      if (!response.ok) {\r\n        throw new Error(`HTTP error! status: ${response.status}`);\r\n      }\r\n\r\n      const data = await response.json();\r\n      \r\n      if (data.success && Array.isArray(data.data)) {\r\n        // Sort impacts - featured first, then by order_index\r\n        const sortedImpacts = data.data\r\n          .filter(impact => impact.is_active)\r\n          .sort((a, b) => {\r\n            // Featured items first\r\n            if (a.is_featured && !b.is_featured) return -1;\r\n            if (!a.is_featured && b.is_featured) return 1;\r\n            // Then by order_index\r\n            return (a.order_index || 0) - (b.order_index || 0);\r\n          });\r\n        \r\n        setImpacts(sortedImpacts);\r\n      } else {\r\n        throw new Error('Invalid response format');\r\n      }\r\n    } catch (err) {\r\n      setError('Failed to load impact data');\r\n      console.error('Error fetching impacts:', err);\r\n      setImpacts([]);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchAllImpacts();\r\n  }, []);\r\n\r\n  const formatNumber = (num, unit) => {\r\n    if (unit === 'USD') {\r\n      if (num >= 1000000) {\r\n        return `$${(num / 1000000).toFixed(1)}M`;\r\n      } else if (num >= 1000) {\r\n        return `$${(num / 1000).toFixed(0)}K`;\r\n      }\r\n      return `$${num.toLocaleString()}`;\r\n    }\r\n    \r\n    if (num >= 1000000) {\r\n      return (num / 1000000).toFixed(1) + 'M';\r\n    } else if (num >= 1000) {\r\n      return (num / 1000).toFixed(1) + 'K';\r\n    }\r\n    return num.toLocaleString();\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <section style={{\r\n        minHeight: '50vh',\r\n        background: 'linear-gradient(135deg, rgba(16, 185, 129, 0.03) 0%, rgba(59, 130, 246, 0.05) 100%)',\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n        fontFamily: '-apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, sans-serif'\r\n      }}>\r\n        <div style={{ \r\n          textAlign: 'center',\r\n          background: 'rgba(255, 255, 255, 0.9)',\r\n          backdropFilter: 'blur(20px)',\r\n          borderRadius: '16px',\r\n          padding: '32px',\r\n          border: '1px solid rgba(255, 255, 255, 0.3)',\r\n          boxShadow: '0 8px 32px rgba(0, 0, 0, 0.1)'\r\n        }}>\r\n          <div style={{\r\n            width: '40px',\r\n            height: '40px',\r\n            background: 'linear-gradient(135deg, #10b981, #3b82f6)',\r\n            borderRadius: '50%',\r\n            animation: 'spin 2s linear infinite',\r\n            marginBottom: '16px',\r\n            margin: '0 auto 16px'\r\n          }}></div>\r\n          <p style={{\r\n            color: '#6b7280',\r\n            fontSize: '14px',\r\n            fontWeight: '500',\r\n            margin: 0\r\n          }}>\r\n            Loading impact data...\r\n          </p>\r\n        </div>\r\n      </section>\r\n    );\r\n  }\r\n\r\n  if (error) {\r\n    return (\r\n      <section style={{\r\n        minHeight: '40vh',\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n        padding: '24px',\r\n        fontFamily: '-apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, sans-serif'\r\n      }}>\r\n        <div style={{\r\n          background: 'rgba(255, 255, 255, 0.95)',\r\n          backdropFilter: 'blur(20px)',\r\n          borderRadius: '16px',\r\n          padding: '32px',\r\n          textAlign: 'center',\r\n          border: '1px solid rgba(239, 68, 68, 0.2)',\r\n          maxWidth: '400px',\r\n          boxShadow: '0 8px 32px rgba(239, 68, 68, 0.1)'\r\n        }}>\r\n          <div style={{\r\n            width: '48px',\r\n            height: '48px',\r\n            borderRadius: '50%',\r\n            background: 'rgba(239, 68, 68, 0.1)',\r\n            display: 'flex',\r\n            alignItems: 'center',\r\n            justifyContent: 'center',\r\n            margin: '0 auto 16px'\r\n          }}>\r\n            <Zap size={24} color=\"#ef4444\" />\r\n          </div>\r\n          <h3 style={{\r\n            fontSize: '18px',\r\n            fontWeight: '600',\r\n            color: '#1f2937',\r\n            margin: '0 0 8px 0'\r\n          }}>\r\n            Unable to load data\r\n          </h3>\r\n          <p style={{\r\n            fontSize: '14px',\r\n            color: '#6b7280',\r\n            margin: '0 0 20px 0'\r\n          }}>\r\n            {error}\r\n          </p>\r\n          <button \r\n            onClick={fetchAllImpacts}\r\n            style={{\r\n              background: '#ef4444',\r\n              color: 'white',\r\n              border: 'none',\r\n              padding: '10px 20px',\r\n              borderRadius: '8px',\r\n              fontSize: '14px',\r\n              fontWeight: '500',\r\n              cursor: 'pointer',\r\n              transition: 'all 0.2s ease'\r\n            }}\r\n            onMouseOver={(e) => e.target.style.background = '#dc2626'}\r\n            onMouseOut={(e) => e.target.style.background = '#ef4444'}\r\n          >\r\n            Try again\r\n          </button>\r\n        </div>\r\n      </section>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <section style={{\r\n      padding: '60px 20px',\r\n      background: 'linear-gradient(135deg, rgba(16, 185, 129, 0.02) 0%, rgba(59, 130, 246, 0.03) 100%)',\r\n      position: 'relative',\r\n      fontFamily: '-apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, sans-serif'\r\n    }}>\r\n      <div style={{\r\n        maxWidth: '1200px',\r\n        margin: '0 auto',\r\n        position: 'relative'\r\n      }}>\r\n        {/* Header */}\r\n        <div style={{\r\n          textAlign: 'center',\r\n          marginBottom: '48px'\r\n        }}>\r\n          <div style={{\r\n            display: 'inline-flex',\r\n            alignItems: 'center',\r\n            background: 'rgba(255, 255, 255, 0.8)',\r\n            backdropFilter: 'blur(20px)',\r\n            padding: '8px 16px',\r\n            borderRadius: '20px',\r\n            border: '1px solid rgba(16, 185, 129, 0.2)',\r\n            gap: '8px',\r\n            marginBottom: '16px'\r\n          }}>\r\n            <div style={{\r\n              width: '6px',\r\n              height: '6px',\r\n              borderRadius: '50%',\r\n              background: '#10b981',\r\n              animation: 'pulse 2s infinite'\r\n            }} />\r\n            <span style={{\r\n              fontSize: '12px',\r\n              fontWeight: '500',\r\n              color: '#10b981'\r\n            }}>\r\n              Live metrics\r\n            </span>\r\n          </div>\r\n          \r\n          <h2 style={{\r\n            fontSize: '32px',\r\n            fontWeight: '700',\r\n            color: '#1f2937',\r\n            margin: '0 0 12px 0',\r\n            letterSpacing: '-0.5px'\r\n          }}>\r\n            Impact dashboard\r\n          </h2>\r\n          \r\n          <p style={{\r\n            fontSize: '16px',\r\n            color: '#6b7280',\r\n            margin: 0,\r\n            maxWidth: '500px',\r\n            marginLeft: 'auto',\r\n            marginRight: 'auto'\r\n          }}>\r\n            Real-time metrics from our active projects\r\n          </p>\r\n        </div>\r\n\r\n        {/* Impact grid */}\r\n        <div style={{\r\n          display: 'grid',\r\n          gridTemplateColumns: 'repeat(auto-fit, minmax(280px, 1fr))',\r\n          gap: '20px',\r\n          marginBottom: '32px'\r\n        }}>\r\n          {impacts.map((impact, index) => {\r\n            const IconComponent = iconMap[impact.icon] || BarChart3;\r\n            const isActive = activeCard === impact.id;\r\n            \r\n            return (\r\n              <div\r\n                key={impact.id}\r\n                style={{\r\n                  background: isActive \r\n                    ? 'rgba(255, 255, 255, 0.95)' \r\n                    : 'rgba(255, 255, 255, 0.8)',\r\n                  backdropFilter: 'blur(20px)',\r\n                  borderRadius: '16px',\r\n                  padding: '24px',\r\n                  border: isActive \r\n                    ? `2px solid ${impact.color || '#10b981'}` \r\n                    : '1px solid rgba(255, 255, 255, 0.3)',\r\n                  transition: 'all 0.3s ease',\r\n                  transform: isActive ? 'translateY(-4px)' : 'translateY(0)',\r\n                  boxShadow: isActive \r\n                    ? `0 8px 25px ${impact.color || '#10b981'}20` \r\n                    : '0 4px 15px rgba(0, 0, 0, 0.05)',\r\n                  cursor: 'pointer',\r\n                  position: 'relative'\r\n                }}\r\n                onMouseEnter={() => setActiveCard(impact.id)}\r\n                onMouseLeave={() => setActiveCard(null)}\r\n              >\r\n                {/* Featured indicator */}\r\n                {impact.is_featured && (\r\n                  <div style={{\r\n                    position: 'absolute',\r\n                    top: '16px',\r\n                    right: '16px',\r\n                    background: '#fbbf24',\r\n                    borderRadius: '6px',\r\n                    padding: '4px 6px',\r\n                    display: 'flex',\r\n                    alignItems: 'center',\r\n                    gap: '4px'\r\n                  }}>\r\n                    <Star size={10} color=\"#ffffff\" />\r\n                    <span style={{\r\n                      fontSize: '10px',\r\n                      fontWeight: '600',\r\n                      color: 'white'\r\n                    }}>\r\n                      Featured\r\n                    </span>\r\n                  </div>\r\n                )}\r\n\r\n                {/* Icon and title */}\r\n                <div style={{\r\n                  display: 'flex',\r\n                  alignItems: 'center',\r\n                  gap: '12px',\r\n                  marginBottom: '20px'\r\n                }}>\r\n                  <div style={{\r\n                    width: '40px',\r\n                    height: '40px',\r\n                    borderRadius: '10px',\r\n                    background: `${impact.color || '#10b981'}20`,\r\n                    display: 'flex',\r\n                    alignItems: 'center',\r\n                    justifyContent: 'center'\r\n                  }}>\r\n                    <IconComponent size={20} color={impact.color || '#10b981'} />\r\n                  </div>\r\n                  <div style={{ flex: 1 }}>\r\n                    <h3 style={{\r\n                      margin: '0 0 4px 0',\r\n                      fontSize: '16px',\r\n                      fontWeight: '600',\r\n                      color: '#1f2937'\r\n                    }}>\r\n                      {impact.name}\r\n                    </h3>\r\n                    <p style={{\r\n                      margin: '0',\r\n                      fontSize: '12px',\r\n                      color: '#6b7280',\r\n                      fontWeight: '500'\r\n                    }}>\r\n                      {impact.unit || 'Units'}\r\n                    </p>\r\n                  </div>\r\n                </div>\r\n\r\n                {/* Value display */}\r\n                <div style={{\r\n                  textAlign: 'center',\r\n                  marginBottom: '16px'\r\n                }}>\r\n                  <div style={{\r\n                    fontSize: '28px',\r\n                    fontWeight: '700',\r\n                    color: impact.color || '#10b981',\r\n                    marginBottom: '8px',\r\n                    lineHeight: '1'\r\n                  }}>\r\n                    {formatNumber(impact.current_value, impact.unit)}\r\n                  </div>\r\n                  \r\n                  {/* Progress bar */}\r\n                  <div style={{\r\n                    height: '3px',\r\n                    background: 'rgba(107, 114, 128, 0.1)',\r\n                    borderRadius: '2px',\r\n                    overflow: 'hidden'\r\n                  }}>\r\n                    <div style={{\r\n                      height: '100%',\r\n                      background: impact.color || '#10b981',\r\n                      width: '100%',\r\n                      borderRadius: '2px'\r\n                    }} />\r\n                  </div>\r\n                </div>\r\n\r\n                {/* Last updated */}\r\n                <div style={{\r\n                  display: 'flex',\r\n                  alignItems: 'center',\r\n                  justifyContent: 'center',\r\n                  gap: '6px',\r\n                  paddingTop: '12px',\r\n                  borderTop: '1px solid rgba(107, 114, 128, 0.1)'\r\n                }}>\r\n                  <Activity size={12} color=\"#6b7280\" />\r\n                  <span style={{\r\n                    fontSize: '11px',\r\n                    color: '#6b7280',\r\n                    fontWeight: '500'\r\n                  }}>\r\n                    Updated now\r\n                  </span>\r\n                </div>\r\n              </div>\r\n            );\r\n          })}\r\n        </div>\r\n             {/* Ultra-premium transparency and certification section */}\r\n        <div style={{\r\n          display: 'flex',\r\n          flexDirection: 'column',\r\n          alignItems: 'center',\r\n          gap: '24px'\r\n        }}>\r\n          {/* Main transparency badge */}\r\n          <div style={{\r\n            background: 'rgba(255, 255, 255, 0.95)',\r\n            backdropFilter: 'blur(40px)',\r\n            borderRadius: '60px',\r\n            padding: '20px 48px',\r\n            border: '3px solid rgba(16, 185, 129, 0.2)',\r\n            boxShadow: '0 12px 48px rgba(16, 185, 129, 0.2)',\r\n            display: 'flex',\r\n            alignItems: 'center',\r\n            gap: '20px',\r\n            position: 'relative',\r\n            overflow: 'hidden'\r\n          }}>\r\n            {/* Animated gradient border */}\r\n            <div style={{\r\n              position: 'absolute',\r\n              top: 0,\r\n              left: 0,\r\n              right: 0,\r\n              bottom: 0,\r\n              borderRadius: '60px',\r\n              padding: '3px',\r\n              background: 'linear-gradient(45deg, #10b981, #3b82f6, #8b5cf6, #ef4444, #f59e0b, #10b981)',\r\n              backgroundSize: '300% 300%',\r\n              animation: 'gradientRotate 6s ease-in-out infinite'\r\n            }}>\r\n              <div style={{\r\n                background: 'rgba(255, 255, 255, 0.95)',\r\n                borderRadius: '57px',\r\n                width: '100%',\r\n                height: '100%'\r\n              }} />\r\n            </div>\r\n\r\n            <div style={{ position: 'relative', zIndex: 1, display: 'flex', alignItems: 'center', gap: '20px' }}>\r\n              <div style={{\r\n                width: '48px',\r\n                height: '48px',\r\n                borderRadius: '50%',\r\n                background: 'linear-gradient(135deg, #10b981, #34d399)',\r\n                display: 'flex',\r\n                alignItems: 'center',\r\n                justifyContent: 'center',\r\n                animation: 'certificationPulse 3s ease-in-out infinite'\r\n              }}>\r\n                <Target size={24} color=\"white\" />\r\n              </div>\r\n              \r\n              <div>\r\n                <h3 style={{\r\n                  fontSize: '24px',\r\n                  fontWeight: '900',\r\n                  background: 'linear-gradient(135deg, #10b981, #1f2937)',\r\n                  backgroundClip: 'text',\r\n                  WebkitBackgroundClip: 'text',\r\n                  WebkitTextFillColor: 'transparent',\r\n                  marginBottom: '4px',\r\n                  letterSpacing: '0.5px',\r\n                  textTransform: 'uppercase'\r\n                }}>\r\n                  100% Verified Impact\r\n                </h3>\r\n                <p style={{\r\n                  fontSize: '14px',\r\n                  color: '#6b7280',\r\n                  margin: 0,\r\n                  fontWeight: '500'\r\n                }}>\r\n                  All metrics independently audited and blockchain-verified\r\n                </p>\r\n              </div>\r\n\r\n              <div style={{\r\n                display: 'flex',\r\n                alignItems: 'center',\r\n                gap: '8px',\r\n                background: 'rgba(16, 185, 129, 0.1)',\r\n                padding: '8px 16px',\r\n                borderRadius: '20px',\r\n                border: '1px solid rgba(16, 185, 129, 0.2)'\r\n              }}>\r\n                <div style={{\r\n                  width: '8px',\r\n                  height: '8px',\r\n                  borderRadius: '50%',\r\n                  background: '#10b981',\r\n                  animation: 'pulse 2s infinite'\r\n                }} />\r\n                <span style={{\r\n                  fontSize: '12px',\r\n                  fontWeight: '700',\r\n                  color: '#10b981',\r\n                  textTransform: 'uppercase',\r\n                  letterSpacing: '0.5px'\r\n                }}>\r\n                  Live Feed\r\n                </span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n\r\n        {/* Verification badge */}\r\n        <div style={{\r\n          display: 'flex',\r\n          justifyContent: 'center'\r\n        }}>\r\n          <div style={{\r\n            background: 'rgba(255, 255, 255, 0.9)',\r\n            backdropFilter: 'blur(20px)',\r\n            borderRadius: '20px',\r\n            padding: '12px 24px',\r\n            border: '1px solid rgba(16, 185, 129, 0.2)',\r\n            display: 'flex',\r\n            alignItems: 'center',\r\n            gap: '8px'\r\n          }}>\r\n            <CheckCircle size={16} color=\"#10b981\" />\r\n            <span style={{\r\n              fontSize: '14px',\r\n              fontWeight: '500',\r\n              color: '#374151'\r\n            }}>\r\n              Verified data\r\n            </span>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Empty state */}\r\n        {impacts.length === 0 && !loading && (\r\n          <div style={{\r\n            textAlign: 'center',\r\n            padding: '60px 20px',\r\n            background: 'rgba(255, 255, 255, 0.7)',\r\n            backdropFilter: 'blur(20px)',\r\n            borderRadius: '16px',\r\n            border: '1px solid rgba(255, 255, 255, 0.3)'\r\n          }}>\r\n            <div style={{\r\n              width: '48px',\r\n              height: '48px',\r\n              borderRadius: '50%',\r\n              background: 'rgba(107, 114, 128, 0.1)',\r\n              display: 'flex',\r\n              alignItems: 'center',\r\n              justifyContent: 'center',\r\n              margin: '0 auto 16px'\r\n            }}>\r\n              <BarChart3 size={24} color=\"#6b7280\" />\r\n            </div>\r\n            <h3 style={{\r\n              fontSize: '18px',\r\n              fontWeight: '600',\r\n              color: '#374151',\r\n              margin: '0 0 8px 0'\r\n            }}>\r\n              No impact data available\r\n            </h3>\r\n            <p style={{\r\n              fontSize: '14px',\r\n              color: '#6b7280',\r\n              margin: '0'\r\n            }}>\r\n              Metrics will appear here when data becomes available\r\n            </p>\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      <style jsx>{`\r\n        @keyframes spin {\r\n          0% { transform: rotate(0deg); }\r\n          100% { transform: rotate(360deg); }\r\n        }\r\n        \r\n        @keyframes pulse {\r\n          0%, 100% { opacity: 1; }\r\n          50% { opacity: 0.5; }\r\n        }\r\n        \r\n        @media (max-width: 768px) {\r\n          section {\r\n            padding: 40px 16px !important;\r\n          }\r\n          \r\n          h2 {\r\n            font-size: 28px !important;\r\n          }\r\n          \r\n          .grid {\r\n            grid-template-columns: 1fr !important;\r\n            gap: 16px !important;\r\n          }\r\n        }\r\n      `}</style>\r\n     </div>\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default FeaturedImpactsDisplay;","import React, { useState, useEffect, useRef } from \"react\";\r\nimport { useTheme, colors } from '../../theme';\r\n\r\nconst ImpactHero = ({onStartClick}) => {\r\n  const [isLoaded, setIsLoaded] = useState(false);\r\n  const [activeParticle, setActiveParticle] = useState(0);\r\n  const [isVisible, setIsVisible] = useState(false);\r\n  const [scrollProgress, setScrollProgress] = useState(0);\r\n  const { colors, isDarkMode } = useTheme();\r\n  \r\n  \r\n  const sectionRef = useRef(null);\r\n  const imageRef = useRef(null);\r\n\r\n  useEffect(() => {\r\n    setIsLoaded(true);\r\n    \r\n    const interval = setInterval(() => {\r\n      setActiveParticle(prev => (prev + 1) % 6);\r\n    }, 2000);\r\n    \r\n    // Intersection Observer for visibility detection\r\n    const observer = new IntersectionObserver(\r\n      ([entry]) => {\r\n        setIsVisible(entry.isIntersecting);\r\n      },\r\n      { threshold: 0.1, rootMargin: '50px' }\r\n    );\r\n\r\n    if (sectionRef.current) {\r\n      observer.observe(sectionRef.current);\r\n    }\r\n\r\n    // Scroll progress tracking\r\n    const handleScroll = () => {\r\n      if (sectionRef.current) {\r\n        const rect = sectionRef.current.getBoundingClientRect();\r\n        const windowHeight = window.innerHeight;\r\n        const elementTop = rect.top;\r\n        const elementHeight = rect.height;\r\n        \r\n        // Calculate how much of the element is visible\r\n        const visibleTop = Math.max(0, -elementTop);\r\n        const visibleBottom = Math.min(elementHeight, windowHeight - elementTop);\r\n        const visibleHeight = Math.max(0, visibleBottom - visibleTop);\r\n        const progress = visibleHeight / windowHeight;\r\n        \r\n        setScrollProgress(Math.min(1, Math.max(0, progress)));\r\n      }\r\n    };\r\n\r\n    window.addEventListener('scroll', handleScroll);\r\n    handleScroll(); // Initial calculation\r\n    \r\n    return () => {\r\n      clearInterval(interval);\r\n      observer.disconnect();\r\n      window.removeEventListener('scroll', handleScroll);\r\n    };\r\n  }, []);\r\n  const handleStartClick = () => {\r\n    if (onStartClick) {\r\n      onStartClick();\r\n    }\r\n  };\r\n\r\n    const handleProjectsClick = () => {\r\n    }\r\n  \r\n  const floatingElements = Array.from({ length: 6 }, (_, i) => (\r\n    <div\r\n      key={i}\r\n      style={{\r\n        position: 'absolute',\r\n        width: '4px',\r\n        height: '4px',\r\n        borderRadius: '50%',\r\n        backgroundColor: activeParticle === i ? '#10b981' : 'rgba(10, 69, 28, 0.3)',\r\n        top: `${20 + (i * 12)}%`,\r\n        left: `${10 + (i * 15)}%`,\r\n        animation: `floatParticle ${3 + (i * 0.5)}s ease-in-out infinite`,\r\n        transition: 'all 0.5s ease',\r\n        zIndex: 3,\r\n        transform: isVisible ? 'scale(1) translateY(0)' : 'scale(0) translateY(20px)',\r\n        opacity: isVisible ? 1 : 0,\r\n        transitionDelay: `${i * 0.1}s`,\r\n      }}\r\n    />\r\n  ));\r\n\r\n  return (\r\n    <section ref={sectionRef} style={styles.section}>\r\n      {/* Background Pattern */}\r\n      <div style={{\r\n        ...styles.backgroundPattern,\r\n        transform: `translateY(${scrollProgress * 20}px)`,\r\n        opacity: 0.5 + (scrollProgress * 0.5),\r\n      }} />\r\n      \r\n      {/* Floating particles */}\r\n      {floatingElements}\r\n      \r\n      {/* Hero Image with Glass Overlay */}\r\n      <div ref={imageRef} style={{\r\n        ...styles.imageContainer,\r\n        transform: `translateX(${isVisible ? 0 : 100}px) scale(${isVisible ? 1 : 0.9}) rotateY(${scrollProgress * -5}deg)`,\r\n        opacity: isVisible ? 1 : 0,\r\n        transition: 'all 1.2s cubic-bezier(0.23, 1, 0.32, 1)',\r\n        transformOrigin: 'left center',\r\n      }}>\r\n        <div \r\n          style={{\r\n            ...styles.heroImage,\r\n            backgroundImage: \"url('/vol.jpg')\",\r\n            opacity: isLoaded && isVisible ? 1 : 0,\r\n            transform: `scale(${1 + scrollProgress * 0.1}) translateZ(0)`,\r\n            transition: 'all 0.8s ease-out',\r\n          }}\r\n        />\r\n        <div style={{\r\n          ...styles.imageOverlay,\r\n          background: `linear-gradient(135deg, rgba(10, 69, 28, ${0.1 - scrollProgress * 0.05}) 0%, rgba(156, 207, 159, ${0.05 + scrollProgress * 0.03}) 100%)`,\r\n        }} />\r\n      </div>\r\n\r\n      {/* Content Overlay */}\r\n      <div style={styles.contentOverlay}>\r\n        {/* Floating Status Badge */}\r\n    \r\n\r\n        {/* Main Content */}\r\n        <div style={styles.mainContent}>\r\n          <h2 style={{\r\n            ...styles.title,\r\n            // transform: `translateY(${isVisible ? 0 : 50}px) translateX(${scrollProgress * -15}px)`,\r\n            // opacity: isVisible ? 1 : 0,\r\n            // transition: 'all 1s cubic-bezier(0.4, 0, 0.2, 1) 0.2s',\r\n          }} className=\"holographic-text\">\r\n            Transforming \r\n            Communities\r\n          </h2>\r\n          \r\n          <p style={{\r\n            ...styles.subtitle,\r\n            transform: `translateY(${isVisible ? 0 : 40}px) translateX(${scrollProgress * -10}px)`,\r\n            opacity: isVisible ? 1 : 0,\r\n            // transition: 'all 1s cubic-bezier(0.4, 0, 0.2, 1) 0.4s',\r\n          }}>\r\n            Empowering grassroots initiatives for a sustainable future across Africa.\r\n            <br />\r\n            Every action creates ripples of positive change.\r\n          </p>\r\n          \r\n          <div style={{\r\n            ...styles.ctaContainer,\r\n            transform: `translateY(${isVisible ? 0 : 30}px)`,\r\n            opacity: isVisible ? 1 : 0,\r\n            transition: 'all 0.8s cubic-bezier(0.4, 0, 0.2, 1) 0.6s',\r\n          }}>\r\n                <button\r\n        style={{\r\n          ...styles.primaryButton,\r\n          transform: `translateX(${scrollProgress * -5}px)`,\r\n        }}\r\n        className=\"glass-card primary-action\"\r\n        onClick={handleStartClick} //  scrolls to impact\r\n      >\r\n        <span>View Our Impact</span>\r\n        <div style={styles.buttonGlow}></div>\r\n      </button>\r\n\r\n      <button\r\n        style={{\r\n          ...styles.secondaryButton,\r\n          transform: `translateX(${scrollProgress * -3}px)`,\r\n        }}\r\n        className=\"glass-card\"\r\n        onClick={handleProjectsClick} //  scrolls to projects\r\n      >\r\n        Explore Projects\r\n      </button>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Impact Stats */}\r\n        <div style={{\r\n          ...styles.statsContainer,\r\n          transform: `translateY(${isVisible ? 0 : 30}px)`,\r\n          opacity: isVisible ? 1 : 0,\r\n          transition: 'all 0.8s cubic-bezier(0.4, 0, 0.2, 1) 0.8s',\r\n        }}>\r\n          {[\r\n            { number: '500K+', label: 'Lives Impacted' },\r\n            { number: '50+', label: 'Communities' },\r\n            { number: '100K', label: 'Youths' }\r\n          ].map((stat, index) => (\r\n            <div \r\n              key={index}\r\n              style={{\r\n                ...styles.statCard,\r\n                transform: `translateY(${isVisible ? 0 : 20}px) scale(${isVisible ? 1 : 0.9})`,\r\n                opacity: isVisible ? 1 : 0,\r\n                transition: `all 0.6s cubic-bezier(0.4, 0, 0.2, 1) ${0.9 + index * 0.1}s`,\r\n              }} \r\n              className=\"glass-card\"\r\n            >\r\n              <div style={{\r\n                ...styles.statNumber,\r\n                transform: `scale(${1 + scrollProgress * 0.05})`,\r\n              }} className=\"holographic-text\">\r\n                {stat.number}\r\n              </div>\r\n              <div style={styles.statLabel}>{stat.label}</div>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      </div>\r\n\r\n      <style jsx>{`\r\n        \r\n        @keyframes floatParticle {\r\n          0%, 100% { transform: translateY(0px) rotate(0deg); }\r\n          50% { transform: translateY(-20px) rotate(180deg); }\r\n        }\r\n        \r\n        @keyframes shimmerEffect {\r\n          0% { background-position: -200% center; }\r\n          100% { background-position: 200% center; }\r\n        }\r\n        \r\n        @keyframes softPulse {\r\n          0%, 100% { opacity: 1; transform: scale(1); }\r\n          50% { opacity: 0.7; transform: scale(1.05); }\r\n        }\r\n        \r\n        @keyframes buttonGlow {\r\n          0%, 100% { opacity: 0; }\r\n          50% { opacity: 1; }\r\n        }\r\n        \r\n        @keyframes imageSlideIn {\r\n          0% {\r\n            transform: translateX(100px) scale(0.9) rotateY(-10deg);\r\n            opacity: 0;\r\n          }\r\n          100% {\r\n            transform: translateX(0) scale(1) rotateY(0deg);\r\n            opacity: 1;\r\n          }\r\n        }\r\n        \r\n        .glass-card {\r\n          background: rgba(255, 255, 255, 0.8);\r\n          backdrop-filter: blur(20px);\r\n          border: 1px solid rgba(255, 255, 255, 0.3);\r\n          transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);\r\n        }\r\n        \r\n        .glass-card:hover {\r\n          background: rgba(255, 255, 255, 0.95);\r\n          transform: translateY(-2px) scale(1.02);\r\n          box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);\r\n          border-color: rgba(10, 69, 28, 0.2);\r\n        }\r\n        \r\n        .primary-action:hover {\r\n          border-color: rgba(10, 69, 28, 0.4) !important;\r\n          box-shadow: 0 20px 40px rgba(10, 69, 28, 0.2) !important;\r\n        }\r\n        \r\n        .holographic-text {\r\n     \r\n        }\r\n        \r\n        /* Enhanced scroll animations */\r\n        @media (prefers-reduced-motion: no-preference) {\r\n          .scroll-reveal {\r\n            opacity: 0;\r\n            transform: translateY(30px);\r\n            transition: all 0.8s cubic-bezier(0.4, 0, 0.2, 1);\r\n          }\r\n          \r\n          .scroll-reveal.visible {\r\n            opacity: 1;\r\n            transform: translateY(0);\r\n          }\r\n        }\r\n        \r\n        @media (max-width: 768px) {\r\n          .mobile-stack {\r\n            flex-direction: column !important;\r\n            gap: 1rem !important;\r\n          }\r\n          \r\n          .mobile-full {\r\n            width: 100% !important;\r\n          }\r\n        }\r\n      `}</style>\r\n    </section>\r\n  );\r\n};\r\n\r\nconst styles = {\r\n  \r\n  section: {\r\n    position: 'relative',\r\n    minHeight: '80vh',\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    background: 'linear-gradient(135deg, rgba(156, 207, 159, 0.05) 0%, rgba(250, 207, 60, 0.03) 50%, rgba(10, 69, 28, 0.02) 100%)',\r\n    overflow: 'hidden',\r\n    fontFamily: 'inherit',\r\n    perspective: '1000px',\r\n  },\r\n\r\n  backgroundPattern: {\r\n    position: 'absolute',\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    background: `url(\"data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg opacity='0.03'%3E%3Ccircle cx='15' cy='15' r='1' fill='%230a451c'/%3E%3Ccircle cx='45' cy='15' r='1' fill='%230a451c'/%3E%3Ccircle cx='30' cy='30' r='1' fill='%230a451c'/%3E%3Cline x1='15' y1='15' x2='45' y2='15' stroke='%230a451c' stroke-width='0.5'/%3E%3C/g%3E%3C/svg%3E\")`,\r\n    pointerEvents: 'none',\r\n    zIndex: 1,\r\n    transition: 'all 0.3s ease-out',\r\n  },\r\n\r\n  imageContainer: {\r\n    position: 'absolute',\r\n    right: 0,\r\n    bottom: 0,\r\n    width: '60%',\r\n    height: '70%',\r\n    zIndex: 2,\r\n    transformStyle: 'preserve-3d',\r\n  },\r\n\r\n  heroImage: {\r\n    width: '100%',\r\n    height: '130%',\r\n    backgroundSize: 'cover',\r\n    backgroundPosition: 'center',\r\n    borderRadius: '20px 0 0 20px',\r\n    transition: 'all 0.8s ease-out',\r\n    willChange: 'transform, opacity',\r\n  },\r\n\r\n  imageOverlay: {\r\n    position: 'absolute',\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    borderRadius: '20px 0 0 20px',\r\n    transition: 'background 0.3s ease-out',\r\n  },\r\n\r\n  contentOverlay: {\r\n    position: 'relative',\r\n    zIndex: 10,\r\n    maxWidth: '1200px',\r\n    margin: '0 auto',\r\n    padding: '0 2rem',\r\n    width: '100%',\r\n  },\r\n\r\n  // statusBadge: {\r\n  //   display: 'inline-flex',\r\n  //   alignItems: 'center',\r\n  //   gap: '8px',\r\n  //   padding: '12px 24px',\r\n  //   borderRadius: '50px',\r\n  //   marginBottom: '2rem',\r\n  //   boxShadow: '0 8px 32px rgba(10, 69, 28, 0.1)',\r\n  // },\r\n\r\n  // statusDot: {\r\n  //   width: '8px',\r\n  //   height: '8px',\r\n  //   borderRadius: '50%',\r\n  //   backgroundColor: '#10b981',\r\n  //   animation: 'softPulse 2s ease-in-out infinite',\r\n  // },\r\n\r\n  // badgeText: {\r\n  //   fontSize: '14px',\r\n  //   fontWeight: '600',\r\n  //   color: '#0a451c',\r\n  //   letterSpacing: '0.5px',\r\n  // },\r\n\r\n  mainContent: {\r\n        marginTop: '6rem',\r\n\r\n    maxWidth: '600px',\r\n    marginBottom: '3rem',\r\n  },\r\n\r\n  title: {\r\n    fontSize: '48px',\r\n      fontWeight: '800',\r\n      lineHeight: '1.1',\r\n      color: colors.primary,\r\n      marginBottom: '24px',\r\n      fontFamily: 'inherit',\r\n  },\r\n\r\n  subtitle: {\r\n    color: colors.textSecondary,\r\n      marginBottom: '2.5rem',\r\n      fontSize: 'clamp(0.9rem, 2.5vw, 1rem)',\r\n      lineHeight: 1.7,\r\n      fontFamily: '\"Nunito Sans\", -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, sans-serif', \r\n      maxWidth: '450px',\r\n      fontWeight: '400'\r\n  },\r\n\r\n  ctaContainer: {\r\n    display: 'flex',\r\n    gap: '1rem',\r\n    flexWrap: 'wrap',\r\n    marginBottom: '3rem',\r\n  },\r\n\r\n  primaryButton: {\r\n    position: 'relative',\r\n    padding: '1rem 2rem',\r\n    borderRadius: '15px',\r\n    fontSize: '1rem',\r\n    fontWeight: '600',\r\n    cursor: 'pointer',\r\n    border: '1px solid rgba(10, 69, 28, 0.2)',\r\n    color: '#0a451c',\r\n    overflow: 'hidden',\r\n    transition: 'transform 0.3s ease-out',\r\n  },\r\n\r\n  secondaryButton: {\r\n       backgroundColor: colors.primary,\r\n      color: colors.white,\r\n      padding: '16px 32px',\r\n      borderRadius: '12px',\r\n      border: 'none',\r\n      fontWeight: '600',\r\n      fontSize: '16px',\r\n      cursor: 'pointer',\r\n      display: 'inline-flex',\r\n      alignItems: 'center',\r\n      gap: '8px',\r\n      transition: 'all 0.3s ease',\r\n      boxShadow: `0 4px 16px rgba(10, 69, 28, 0.3)`,\r\n      alignSelf: 'flex-start',\r\n      fontFamily: '\"Nunito Sans\", sans-serif'\r\n  },\r\n\r\n  buttonGlow: {\r\n    position: 'absolute',\r\n    top: 0,\r\n    left: '-100%',\r\n    width: '100%',\r\n    height: '100%',\r\n    background: 'linear-gradient(90deg, transparent, rgba(10, 69, 28, 0.1), transparent)',\r\n    animation: 'buttonGlow 2s ease-in-out infinite',\r\n    pointerEvents: 'none',\r\n  },\r\n\r\n  statsContainer: {\r\n    display: 'flex',\r\n    gap: '1.5rem',\r\n    flexWrap: 'wrap',\r\n    maxWidth: '500px',\r\n  },\r\n\r\n  statCard: {\r\n    padding: '1.5rem 1.25rem',\r\n    borderRadius: '16px',\r\n    textAlign: 'center',\r\n    minWidth: '120px',\r\n    flex: '1',\r\n  },\r\n\r\n  statNumber: {\r\n    fontSize: '1.75rem',\r\n    fontWeight: '800',\r\n    margin: '0 0 0.5rem 0',\r\n    lineHeight: 1,\r\n    transition: 'transform 0.3s ease-out',\r\n  },\r\n\r\n  statLabel: {\r\n    fontSize: '12px',\r\n    color: '#6b7280',\r\n    fontWeight: '600',\r\n    letterSpacing: '0.5px',\r\n    textTransform: 'uppercase',\r\n  },\r\n};\r\n\r\nexport default ImpactHero;","import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport { Quote, User, Users, Heart, Handshake, Star, ChevronLeft, ChevronRight, Play, Pause } from 'lucide-react';\r\nimport { useTheme } from '../../theme';\r\nimport { API_URL, STATIC_URL } from '../../config';\r\n\r\nconst GeneralTestimonialsDisplay = ({ \r\n  showTabs = true, \r\n  defaultType = 'all', \r\n  maxItems = null,\r\n  showFeaturedFirst = true,\r\n  title = \"Stories of transformation\",\r\n  showCTA = true,\r\n  className = \"\"\r\n}) => {\r\n  const [testimonials, setTestimonials] = useState([]);\r\n  const [filteredTestimonials, setFilteredTestimonials] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState('');\r\n  const [activeTab, setActiveTab] = useState(getTabIndex(defaultType));\r\n  const [currentIndex, setCurrentIndex] = useState(0);\r\n  const [isAutoPlaying, setIsAutoPlaying] = useState(true);\r\n  \r\n  const { colors, isDarkMode } = useTheme();\r\n\r\n  function getTabIndex(type) {\r\n    const tabMap = { 'all': 0, 'community': 1, 'volunteers': 2, 'collaborators': 3 };\r\n    return tabMap[type] || 0;\r\n  }\r\n\r\n  // Auto-play functionality\r\n  useEffect(() => {\r\n    if (!isAutoPlaying || filteredTestimonials.length <= 1) return;\r\n    \r\n    const interval = setInterval(() => {\r\n      setCurrentIndex((prev) => (prev + 1) % filteredTestimonials.length);\r\n    }, 6000);\r\n\r\n    return () => clearInterval(interval);\r\n  }, [isAutoPlaying, filteredTestimonials.length]);\r\n\r\n  useEffect(() => {\r\n    fetchTestimonials();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    filterTestimonials();\r\n    setCurrentIndex(0);\r\n  }, [testimonials, activeTab, maxItems, showFeaturedFirst]);\r\n\r\n  const fetchTestimonials = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const response = await axios.get(`${API_URL}/generaltestimonials/public`);\r\n      setTestimonials(response.data);\r\n      setError('');\r\n    } catch (err) {\r\n      console.error('Error fetching testimonials:', err);\r\n      setError('Failed to load testimonials');\r\n      setTestimonials([]);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const filterTestimonials = () => {\r\n    let filtered = [...testimonials];\r\n\r\n    if (activeTab === 1) {\r\n      filtered = filtered.filter(t => t.type === 'community');\r\n    } else if (activeTab === 2) {\r\n      filtered = filtered.filter(t => t.type === 'volunteers');\r\n    } else if (activeTab === 3) {\r\n      filtered = filtered.filter(t => t.type === 'collaborators');\r\n    }\r\n\r\n    if (showFeaturedFirst) {\r\n      const featured = filtered.filter(t => t.featured);\r\n      const nonFeatured = filtered.filter(t => !t.featured);\r\n      filtered = [...featured, ...nonFeatured];\r\n\r\n      if (maxItems && maxItems > 0) {\r\n        filtered = [\r\n          ...featured.slice(0, maxItems), \r\n          ...nonFeatured.slice(0, maxItems - featured.length)\r\n        ];\r\n      }\r\n    } else {\r\n      if (maxItems && maxItems > 0) {\r\n        filtered = filtered.slice(0, maxItems);\r\n      }\r\n    }\r\n\r\n    setFilteredTestimonials(filtered);\r\n  };\r\n\r\n  const handleTabChange = (tabIndex) => {\r\n    setActiveTab(tabIndex);\r\n    setCurrentIndex(0);\r\n  };\r\n\r\n  const nextTestimonial = () => {\r\n    if (filteredTestimonials.length > 1) {\r\n      setCurrentIndex((prev) => (prev + 1) % filteredTestimonials.length);\r\n      setIsAutoPlaying(false);\r\n    }\r\n  };\r\n\r\n  const prevTestimonial = () => {\r\n    if (filteredTestimonials.length > 1) {\r\n      setCurrentIndex((prev) => (prev - 1 + filteredTestimonials.length) % filteredTestimonials.length);\r\n      setIsAutoPlaying(false);\r\n    }\r\n  };\r\n\r\n  const goToTestimonial = (index) => {\r\n    setCurrentIndex(index);\r\n    setIsAutoPlaying(false);\r\n  };\r\n\r\n  const toggleAutoPlay = () => {\r\n    setIsAutoPlaying(!isAutoPlaying);\r\n  };\r\n\r\n  const getTypeIcon = (type) => {\r\n    const iconProps = { size: 16, strokeWidth: 2 };\r\n    switch (type?.toLowerCase()) {\r\n      case 'community':\r\n        return <Users {...iconProps} />;\r\n      case 'volunteers':\r\n        return <Heart {...iconProps} />;\r\n      case 'collaborators':\r\n        return <Handshake {...iconProps} />;\r\n      default:\r\n        return <User {...iconProps} />;\r\n    }\r\n  };\r\n\r\n  const getTypeDisplayName = (type) => {\r\n    switch (type?.toLowerCase()) {\r\n      case 'community':\r\n        return 'Community member';\r\n      case 'volunteers':\r\n        return 'Volunteer';\r\n      case 'collaborators':\r\n        return 'Collaborator';\r\n      default:\r\n        return 'Member';\r\n    }\r\n  };\r\n\r\n  const getTypeColor = (type) => {\r\n    switch (type?.toLowerCase()) {\r\n      case 'community':\r\n        return '#3b82f6';\r\n      case 'volunteers':\r\n        return '#ef4444';\r\n      case 'collaborators':\r\n        return '#10b981';\r\n      default:\r\n        return colors.primary;\r\n    }\r\n  };\r\n\r\n  const tabs = [\r\n    { label: 'All stories', icon: <Users size={14} /> },\r\n    { label: 'Community', icon: <Users size={14} /> },\r\n    { label: 'Volunteers', icon: <Heart size={14} /> },\r\n    { label: 'Collaborators', icon: <Handshake size={14} /> }\r\n  ];\r\n\r\n  if (loading) {\r\n    return (\r\n      <section style={{\r\n        minHeight: '60vh',\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n        fontFamily: '-apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, sans-serif',\r\n        background: isDarkMode \r\n          ? 'linear-gradient(135deg, rgba(15, 23, 42, 0.8) 0%, rgba(30, 41, 59, 0.6) 100%)' \r\n          : 'linear-gradient(135deg, rgba(248, 250, 252, 0.8) 0%, rgba(241, 245, 249, 0.6) 100%)'\r\n      }}>\r\n        <div style={{ \r\n          textAlign: 'center',\r\n          background: isDarkMode \r\n            ? 'rgba(30, 41, 59, 0.8)' \r\n            : 'rgba(255, 255, 255, 0.9)',\r\n          backdropFilter: 'blur(20px)',\r\n          borderRadius: '24px',\r\n          padding: '40px',\r\n          border: `1px solid ${isDarkMode ? 'rgba(71, 85, 105, 0.3)' : 'rgba(255, 255, 255, 0.3)'}`,\r\n          boxShadow: isDarkMode \r\n            ? '0 8px 32px rgba(0, 0, 0, 0.3)' \r\n            : '0 8px 32px rgba(0, 0, 0, 0.1)'\r\n        }}>\r\n          <div style={{\r\n            width: '32px',\r\n            height: '32px',\r\n            background: 'linear-gradient(135deg, #3b82f6, #10b981)',\r\n            borderRadius: '50%',\r\n            animation: 'spin 2s linear infinite',\r\n            marginBottom: '16px',\r\n            margin: '0 auto 16px'\r\n          }}></div>\r\n          <p style={{\r\n            color: colors.textSecondary,\r\n            fontSize: '14px',\r\n            fontWeight: '500',\r\n            margin: 0\r\n          }}>\r\n            Loading stories...\r\n          </p>\r\n        </div>\r\n      </section>\r\n    );\r\n  }\r\n\r\n  if (error) {\r\n    return (\r\n      <section style={{\r\n        minHeight: '50vh',\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n        padding: '40px 20px',\r\n        fontFamily: '-apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, sans-serif',\r\n        background: isDarkMode \r\n          ? 'linear-gradient(135deg, rgba(15, 23, 42, 0.8) 0%, rgba(30, 41, 59, 0.6) 100%)' \r\n          : 'linear-gradient(135deg, rgba(248, 250, 252, 0.8) 0%, rgba(241, 245, 249, 0.6) 100%)'\r\n      }}>\r\n        <div style={{\r\n          background: isDarkMode \r\n            ? 'rgba(30, 41, 59, 0.9)' \r\n            : 'rgba(255, 255, 255, 0.95)',\r\n          backdropFilter: 'blur(20px)',\r\n          borderRadius: '24px',\r\n          padding: '40px',\r\n          textAlign: 'center',\r\n          border: `1px solid rgba(239, 68, 68, 0.2)`,\r\n          maxWidth: '400px',\r\n          boxShadow: '0 8px 32px rgba(239, 68, 68, 0.1)'\r\n        }}>\r\n          <div style={{\r\n            width: '40px',\r\n            height: '40px',\r\n            borderRadius: '50%',\r\n            background: 'rgba(239, 68, 68, 0.1)',\r\n            display: 'flex',\r\n            alignItems: 'center',\r\n            justifyContent: 'center',\r\n            margin: '0 auto 16px'\r\n          }}>\r\n            <Quote size={20} color=\"#ef4444\" />\r\n          </div>\r\n          <h3 style={{\r\n            fontSize: '18px',\r\n            fontWeight: '600',\r\n            color: colors.text,\r\n            margin: '0 0 8px 0'\r\n          }}>\r\n            Unable to load stories\r\n          </h3>\r\n          <p style={{\r\n            fontSize: '14px',\r\n            color: colors.textSecondary,\r\n            margin: '0 0 20px 0'\r\n          }}>\r\n            {error}\r\n          </p>\r\n          <button \r\n            onClick={fetchTestimonials}\r\n            style={{\r\n              background: '#ef4444',\r\n              color: 'white',\r\n              border: 'none',\r\n              padding: '8px 16px',\r\n              borderRadius: '8px',\r\n              fontSize: '12px',\r\n              fontWeight: '500',\r\n              cursor: 'pointer',\r\n              transition: 'all 0.2s ease'\r\n            }}\r\n            onMouseOver={(e) => e.target.style.background = '#dc2626'}\r\n            onMouseOut={(e) => e.target.style.background = '#ef4444'}\r\n          >\r\n            Try again\r\n          </button>\r\n        </div>\r\n      </section>\r\n    );\r\n  }\r\n\r\n  // Get current testimonial or null if empty\r\n  const currentTestimonial = filteredTestimonials.length > 0 ? filteredTestimonials[currentIndex] : null;\r\n\r\n  return (\r\n    <section style={{\r\n      fontFamily: '-apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, sans-serif',\r\n      background: isDarkMode \r\n        ? 'linear-gradient(135deg, rgba(15, 23, 42, 1) 0%, rgba(30, 41, 59, 1) 100%)' \r\n        : 'linear-gradient(135deg, rgba(248, 250, 252, 1) 0%, rgba(241, 245, 249, 1) 100%)',\r\n      position: 'relative',\r\n      overflow: 'hidden'\r\n    }}>\r\n      {/* Header Section - Always visible */}\r\n      <div style={{\r\n        padding: '60px 20px 40px',\r\n        textAlign: 'center',\r\n        maxWidth: '1200px',\r\n        margin: '0 auto'\r\n      }}>\r\n        <h2 style={{\r\n          fontSize: '28px',\r\n          fontWeight: '700',\r\n          color: colors.text,\r\n          margin: '0 0 12px 0',\r\n          letterSpacing: '-0.5px'\r\n        }}>\r\n          {title}\r\n        </h2>\r\n        <p style={{\r\n          fontSize: '16px',\r\n          color: colors.textSecondary,\r\n          margin: '0 0 32px 0',\r\n          maxWidth: '500px',\r\n          marginLeft: 'auto',\r\n          marginRight: 'auto',\r\n          lineHeight: '1.6'\r\n        }}>\r\n          Real stories from the people whose lives we've touched and who have helped us grow\r\n        </p>\r\n\r\n        {/* Tab Navigation - Always visible */}\r\n        {showTabs && (\r\n          <div style={{\r\n            display: 'flex',\r\n            justifyContent: 'center',\r\n            marginBottom: '20px'\r\n          }}>\r\n            <div style={{\r\n              background: isDarkMode \r\n                ? 'rgba(30, 41, 59, 0.8)' \r\n                : 'rgba(255, 255, 255, 0.8)',\r\n              backdropFilter: 'blur(20px)',\r\n              borderRadius: '16px',\r\n              padding: '4px',\r\n              border: `1px solid ${isDarkMode ? 'rgba(71, 85, 105, 0.3)' : 'rgba(255, 255, 255, 0.3)'}`,\r\n              boxShadow: isDarkMode \r\n                ? '0 4px 20px rgba(0, 0, 0, 0.3)' \r\n                : '0 4px 20px rgba(0, 0, 0, 0.1)',\r\n              display: 'inline-flex',\r\n              gap: '2px'\r\n            }}>\r\n              {tabs.map((tab, index) => (\r\n                <button\r\n                  key={index}\r\n                  onClick={() => handleTabChange(index)}\r\n                  style={{\r\n                    background: activeTab === index \r\n                      ? (isDarkMode ? colors.surface : 'white')\r\n                      : 'transparent',\r\n                    color: activeTab === index ? colors.text : colors.textSecondary,\r\n                    border: 'none',\r\n                    padding: '8px 14px',\r\n                    borderRadius: '12px',\r\n                    fontSize: '12px',\r\n                    fontWeight: activeTab === index ? '600' : '500',\r\n                    cursor: 'pointer',\r\n                    transition: 'all 0.2s ease',\r\n                    display: 'flex',\r\n                    alignItems: 'center',\r\n                    gap: '6px',\r\n                    boxShadow: activeTab === index \r\n                      ? (isDarkMode ? '0 2px 8px rgba(0, 0, 0, 0.4)' : '0 2px 8px rgba(0, 0, 0, 0.1)') \r\n                      : 'none'\r\n                  }}\r\n                  onMouseOver={(e) => {\r\n                    if (activeTab !== index) {\r\n                      e.target.style.background = isDarkMode \r\n                        ? 'rgba(71, 85, 105, 0.3)' \r\n                        : 'rgba(255, 255, 255, 0.5)';\r\n                    }\r\n                  }}\r\n                  onMouseOut={(e) => {\r\n                    if (activeTab !== index) {\r\n                      e.target.style.background = 'transparent';\r\n                    }\r\n                  }}\r\n                >\r\n                  {tab.icon}\r\n                  {tab.label}\r\n                </button>\r\n              ))}\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {/* Main Content Area */}\r\n      <div style={{\r\n        maxWidth: '1400px',\r\n        margin: '0 auto',\r\n        padding: '0 20px 60px'\r\n      }}>\r\n        {/* Empty State or Testimonial Display */}\r\n        {!currentTestimonial ? (\r\n          <div style={{\r\n            textAlign: 'center',\r\n            padding: '60px 40px',\r\n            background: isDarkMode \r\n              ? 'rgba(30, 41, 59, 0.6)' \r\n              : 'rgba(255, 255, 255, 0.7)',\r\n            backdropFilter: 'blur(20px)',\r\n            borderRadius: '32px',\r\n            border: `1px solid ${isDarkMode ? 'rgba(71, 85, 105, 0.3)' : 'rgba(255, 255, 255, 0.3)'}`\r\n          }}>\r\n            <div style={{\r\n              width: '48px',\r\n              height: '48px',\r\n              borderRadius: '50%',\r\n              background: isDarkMode \r\n                ? 'rgba(71, 85, 105, 0.3)' \r\n                : 'rgba(107, 114, 128, 0.1)',\r\n              display: 'flex',\r\n              alignItems: 'center',\r\n              justifyContent: 'center',\r\n              margin: '0 auto 16px'\r\n            }}>\r\n              <Quote size={24} color={colors.textMuted} />\r\n            </div>\r\n            <h3 style={{\r\n              fontSize: '20px',\r\n              fontWeight: '600',\r\n              color: colors.text,\r\n              margin: '0 0 8px 0'\r\n            }}>\r\n              No testimonials available\r\n            </h3>\r\n            <p style={{\r\n              fontSize: '14px',\r\n              color: colors.textSecondary,\r\n              margin: '0'\r\n            }}>\r\n              Check back later for inspiring stories from our community\r\n            </p>\r\n          </div>\r\n        ) : (\r\n          <>\r\n            {/* Main Testimonial Display with Side Navigation */}\r\n            <div style={{ position: 'relative' }}>\r\n              {/* Left Arrow */}\r\n              <button\r\n                onClick={prevTestimonial}\r\n                disabled={filteredTestimonials.length <= 1}\r\n                style={{\r\n                  position: 'absolute',\r\n                  left: '-60px',\r\n                  top: '50%',\r\n                  transform: 'translateY(-50%)',\r\n                  background: isDarkMode \r\n                    ? 'rgba(30, 41, 59, 0.9)' \r\n                    : 'rgba(255, 255, 255, 0.95)',\r\n                  backdropFilter: 'blur(20px)',\r\n                  border: `1px solid ${isDarkMode ? 'rgba(71, 85, 105, 0.3)' : 'rgba(255, 255, 255, 0.3)'}`,\r\n                  borderRadius: '50%',\r\n                  width: '48px',\r\n                  height: '48px',\r\n                  display: 'flex',\r\n                  alignItems: 'center',\r\n                  justifyContent: 'center',\r\n                  cursor: filteredTestimonials.length > 1 ? 'pointer' : 'not-allowed',\r\n                  transition: 'all 0.3s ease',\r\n                  opacity: filteredTestimonials.length <= 1 ? 0.3 : 1,\r\n                  boxShadow: '0 4px 20px rgba(0, 0, 0, 0.1)',\r\n                  zIndex: 10\r\n                }}\r\n                onMouseOver={(e) => {\r\n                  if (filteredTestimonials.length > 1) {\r\n                    e.target.style.transform = 'translateY(-50%) scale(1.1)';\r\n                    e.target.style.boxShadow = '0 6px 30px rgba(0, 0, 0, 0.15)';\r\n                  }\r\n                }}\r\n                onMouseOut={(e) => {\r\n                  e.target.style.transform = 'translateY(-50%) scale(1)';\r\n                  e.target.style.boxShadow = '0 4px 20px rgba(0, 0, 0, 0.1)';\r\n                }}\r\n              >\r\n                <ChevronLeft size={24} color={colors.text} />\r\n              </button>\r\n\r\n              {/* Right Arrow */}\r\n              <button\r\n                onClick={nextTestimonial}\r\n                disabled={filteredTestimonials.length <= 1}\r\n                style={{\r\n                  position: 'absolute',\r\n                  right: '-60px',\r\n                  top: '50%',\r\n                  transform: 'translateY(-50%)',\r\n                  background: isDarkMode \r\n                    ? 'rgba(30, 41, 59, 0.9)' \r\n                    : 'rgba(255, 255, 255, 0.95)',\r\n                  backdropFilter: 'blur(20px)',\r\n                  border: `1px solid ${isDarkMode ? 'rgba(71, 85, 105, 0.3)' : 'rgba(255, 255, 255, 0.3)'}`,\r\n                  borderRadius: '50%',\r\n                  width: '48px',\r\n                  height: '48px',\r\n                  display: 'flex',\r\n                  alignItems: 'center',\r\n                  justifyContent: 'center',\r\n                  cursor: filteredTestimonials.length > 1 ? 'pointer' : 'not-allowed',\r\n                  transition: 'all 0.3s ease',\r\n                  opacity: filteredTestimonials.length <= 1 ? 0.3 : 1,\r\n                  boxShadow: '0 4px 20px rgba(0, 0, 0, 0.1)',\r\n                  zIndex: 10\r\n                }}\r\n                onMouseOver={(e) => {\r\n                  if (filteredTestimonials.length > 1) {\r\n                    e.target.style.transform = 'translateY(-50%) scale(1.1)';\r\n                    e.target.style.boxShadow = '0 6px 30px rgba(0, 0, 0, 0.15)';\r\n                  }\r\n                }}\r\n                onMouseOut={(e) => {\r\n                  e.target.style.transform = 'translateY(-50%) scale(1)';\r\n                  e.target.style.boxShadow = '0 4px 20px rgba(0, 0, 0, 0.1)';\r\n                }}\r\n              >\r\n                <ChevronRight size={24} color={colors.text} />\r\n              </button>\r\n\r\n              {/* Main Content */}\r\n              <div style={{\r\n                display: 'grid',\r\n                gridTemplateColumns: '1fr 1fr',\r\n                gap: '60px',\r\n                alignItems: 'center',\r\n                minHeight: '450px',\r\n                background: isDarkMode \r\n                  ? 'rgba(30, 41, 59, 0.5)' \r\n                  : 'rgba(255, 255, 255, 0.8)',\r\n                backdropFilter: 'blur(20px)',\r\n                borderRadius: '0px',\r\n                padding: '50px',\r\n                border: `1px solid ${isDarkMode ? 'rgba(71, 85, 105, 0.3)' : 'rgba(255, 255, 255, 0.3)'}`,\r\n                boxShadow: isDarkMode \r\n                  ? '0 20px 60px rgba(0, 0, 0, 0.4)' \r\n                  : '0 20px 60px rgba(0, 0, 0, 0.08)'\r\n              }}>\r\n                {/* Left Column - Image */}\r\n                <div style={{\r\n                  display: 'flex',\r\n                  justifyContent: 'center',\r\n                  alignItems: 'center',\r\n                  position: 'relative'\r\n                }}>\r\n                  <div style={{\r\n                    position: 'relative',\r\n                    width: '380px',\r\n                    height: '380px'\r\n                  }}>\r\n                    {currentTestimonial.image ? (\r\n                      <img\r\n                        src={`${STATIC_URL}/uploads/testimonials/${currentTestimonial.image}`}\r\n                        alt={`${currentTestimonial.first_name} ${currentTestimonial.last_name}`}\r\n                        style={{\r\n                          width: '100%',\r\n                          height: '100%',\r\n                          borderRadius: '0px', // No border radius as requested\r\n                          objectFit: 'cover',\r\n                          border: 'none', // No border as requested\r\n                          boxShadow: `0 20px 60px ${getTypeColor(currentTestimonial.type)}20`, // Reduced shadow opacity\r\n                          filter: 'brightness(1.02) contrast(1.01)',\r\n                          transition: 'all 0.3s ease'\r\n                        }}\r\n                        onError={(e) => {\r\n                          e.target.style.display = 'none';\r\n                          e.target.nextSibling.style.display = 'flex';\r\n                        }}\r\n                      />\r\n                    ) : null}\r\n                    \r\n                    <div \r\n                      style={{ \r\n                        display: currentTestimonial.image ? 'none' : 'flex',\r\n                        width: '380px',\r\n                        height: '380px',\r\n                        borderRadius: '0px', // No border radius as requested\r\n                        background: `linear-gradient(135deg, ${getTypeColor(currentTestimonial.type)}15, ${getTypeColor(currentTestimonial.type)}08)`,\r\n                        alignItems: 'center',\r\n                        justifyContent: 'center',\r\n                        border: 'none', // No border as requested\r\n                        boxShadow: `0 20px 60px ${getTypeColor(currentTestimonial.type)}20`\r\n                      }}\r\n                    >\r\n                      <User size={80} color={getTypeColor(currentTestimonial.type)} strokeWidth={1} />\r\n                    </div>\r\n\r\n                    {/* Featured badge */}\r\n                    {currentTestimonial.featured && (\r\n                      <div style={{\r\n                        position: 'absolute',\r\n                        top: '12px',\r\n                        right: '12px',\r\n                        background: 'linear-gradient(135deg, #fbbf24, #f59e0b)',\r\n                        borderRadius: '16px',\r\n                        padding: '6px 10px',\r\n                        display: 'flex',\r\n                        alignItems: 'center',\r\n                        gap: '4px',\r\n                        boxShadow: '0 4px 20px rgba(251, 191, 36, 0.4)',\r\n                        animation: 'pulse 2s infinite'\r\n                      }}>\r\n                        <Star size={12} color=\"white\" fill=\"white\" />\r\n                        <span style={{\r\n                          fontSize: '10px',\r\n                          fontWeight: '600',\r\n                          color: 'white'\r\n                        }}>\r\n                          Featured\r\n                        </span>\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n\r\n                {/* Right Column - Content */}\r\n                <div style={{\r\n                  display: 'flex',\r\n                  flexDirection: 'column',\r\n                  justifyContent: 'center',\r\n                  gap: '24px'\r\n                }}>\r\n                  {/* Quote icon */}\r\n                  <Quote \r\n                    size={32}\r\n                    color={getTypeColor(currentTestimonial.type)} \r\n                    style={{ opacity: 0.7 }} \r\n                  />\r\n\r\n                  {/* Testimonial text */}\r\n                  <blockquote style={{\r\n                    fontSize: '18px',\r\n                    lineHeight: '1.6',\r\n                    color: colors.text,\r\n                    margin: 0,\r\n                    fontStyle: 'italic',\r\n                    fontWeight: '400'\r\n                  }}>\r\n                    \"{currentTestimonial.testimonial}\"\r\n                  </blockquote>\r\n\r\n                  {/* Person info */}\r\n                  <div style={{\r\n                    display: 'flex',\r\n                    alignItems: 'center',\r\n                    gap: '12px',\r\n                    paddingTop: '20px',\r\n                    borderTop: `2px solid ${isDarkMode ? 'rgba(71, 85, 105, 0.3)' : 'rgba(107, 114, 128, 0.1)'}`\r\n                  }}>\r\n                    <div>\r\n                      <h4 style={{\r\n                        fontSize: '16px',\r\n                        fontWeight: '600',\r\n                        color: colors.text,\r\n                        margin: '0 0 6px 0'\r\n                      }}>\r\n                        {currentTestimonial.first_name} {currentTestimonial.last_name}\r\n                      </h4>\r\n                      <div style={{\r\n                        display: 'flex',\r\n                        alignItems: 'center',\r\n                        gap: '6px',\r\n                        background: `${getTypeColor(currentTestimonial.type)}15`,\r\n                        padding: '4px 10px',\r\n                        borderRadius: '12px',\r\n                        width: 'fit-content'\r\n                      }}>\r\n                        {getTypeIcon(currentTestimonial.type)}\r\n                        <span style={{\r\n                          fontSize: '12px',\r\n                          fontWeight: '500',\r\n                          color: getTypeColor(currentTestimonial.type)\r\n                        }}>\r\n                          {getTypeDisplayName(currentTestimonial.type)}\r\n                        </span>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Bottom Navigation Controls */}\r\n            <div style={{\r\n              display: 'flex',\r\n              justifyContent: 'center',\r\n              alignItems: 'center',\r\n              gap: '16px',\r\n              marginTop: '32px'\r\n            }}>\r\n              {/* Dots indicator */}\r\n              <div style={{\r\n                display: 'flex',\r\n                gap: '6px',\r\n                alignItems: 'center'\r\n              }}>\r\n                {filteredTestimonials.map((_, index) => (\r\n                  <button\r\n                    key={index}\r\n                    onClick={() => goToTestimonial(index)}\r\n                    style={{\r\n                      width: currentIndex === index ? '20px' : '6px',\r\n                      height: '6px',\r\n                      borderRadius: '3px',\r\n                      background: currentIndex === index \r\n                        ? getTypeColor(currentTestimonial.type) \r\n                        : (isDarkMode ? 'rgba(71, 85, 105, 0.5)' : 'rgba(107, 114, 128, 0.3)'),\r\n                      border: 'none',\r\n                      cursor: 'pointer',\r\n                      transition: 'all 0.3s ease'\r\n                    }}\r\n                  />\r\n                ))}\r\n              </div>\r\n\r\n              {/* Auto-play toggle */}\r\n              {filteredTestimonials.length > 1 && (\r\n                <button\r\n                  onClick={toggleAutoPlay}\r\n                  style={{\r\n                    background: isAutoPlaying \r\n                      ? getTypeColor(currentTestimonial.type) \r\n                      : (isDarkMode ? 'rgba(30, 41, 59, 0.8)' : 'rgba(255, 255, 255, 0.9)'),\r\n                    backdropFilter: 'blur(20px)',\r\n                    border: `1px solid ${isAutoPlaying \r\n                      ? getTypeColor(currentTestimonial.type) \r\n                      : (isDarkMode ? 'rgba(71, 85, 105, 0.3)' : 'rgba(255, 255, 255, 0.3)')}`,\r\n                    borderRadius: '16px',\r\n                    width: '40px',\r\n                    height: '40px',\r\n                    display: 'flex',\r\n                    alignItems: 'center',\r\n                    justifyContent: 'center',\r\n                    cursor: 'pointer',\r\n                    transition: 'all 0.2s ease',\r\n                    marginLeft: '8px'\r\n                  }}\r\n                  onMouseOver={(e) => {\r\n                    e.target.style.transform = 'scale(1.05)';\r\n                  }}\r\n                  onMouseOut={(e) => {\r\n                    e.target.style.transform = 'scale(1)';\r\n                  }}\r\n                >\r\n                  {isAutoPlaying ? \r\n                    <Pause size={16} color=\"white\" /> : \r\n                    <Play size={16} color={colors.text} />\r\n                  }\r\n                </button>\r\n              )}\r\n            </div>\r\n\r\n            {/* Progress indicator */}\r\n            {filteredTestimonials.length > 1 && (\r\n              <div style={{\r\n                marginTop: '20px',\r\n                textAlign: 'center',\r\n                color: colors.textSecondary,\r\n                fontSize: '12px'\r\n              }}>\r\n                {currentIndex + 1} of {filteredTestimonials.length} stories\r\n              </div>\r\n            )}\r\n          </>\r\n        )}\r\n      </div>\r\n\r\n      <style jsx>{`\r\n        @keyframes spin {\r\n          0% { transform: rotate(0deg); }\r\n          100% { transform: rotate(360deg); }\r\n        }\r\n        \r\n        @keyframes pulse {\r\n          0%, 100% { opacity: 1; transform: scale(1); }\r\n          50% { opacity: 0.8; transform: scale(1.05); }\r\n        }\r\n        \r\n        @media (max-width: 1024px) {\r\n          .testimonial-main {\r\n            grid-template-columns: 1fr !important;\r\n            gap: 40px !important;\r\n            text-align: center !important;\r\n            padding: 40px !important;\r\n          }\r\n          \r\n          .image-section {\r\n            width: 280px !important;\r\n            height: 280px !important;\r\n            margin: 0 auto !important;\r\n          }\r\n          \r\n          .content-section blockquote {\r\n            font-size: 16px !important;\r\n            text-align: center !important;\r\n          }\r\n        }\r\n        \r\n        @media (max-width: 768px) {\r\n          .header-section {\r\n            padding: 40px 16px 30px !important;\r\n          }\r\n          \r\n          .header-section h2 {\r\n            font-size: 24px !important;\r\n          }\r\n          \r\n          .testimonial-main {\r\n            padding: 30px 20px !important;\r\n            gap: 30px !important;\r\n          }\r\n          \r\n          .image-section {\r\n            width: 220px !important;\r\n            height: 220px !important;\r\n          }\r\n          \r\n          .content-section blockquote {\r\n            font-size: 15px !important;\r\n          }\r\n          \r\n          .tab-navigation {\r\n            flex-wrap: wrap !important;\r\n            gap: 4px !important;\r\n          }\r\n          \r\n          .navigation-controls {\r\n            gap: 12px !important;\r\n          }\r\n        }\r\n        \r\n        @media (max-width: 480px) {\r\n          .tab-navigation button {\r\n            font-size: 11px !important;\r\n            padding: 6px 10px !important;\r\n          }\r\n          \r\n          .testimonial-main {\r\n            padding: 20px 16px !important;\r\n          }\r\n          \r\n          .image-section {\r\n            width: 180px !important;\r\n            height: 180px !important;\r\n          }\r\n          \r\n          .content-section blockquote {\r\n            font-size: 14px !important;\r\n          }\r\n          \r\n          .person-name {\r\n            font-size: 14px !important;\r\n          }\r\n        }\r\n      `}</style>\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default GeneralTestimonialsDisplay;","import React, { useState, useEffect, useRef, useCallback, useMemo } from 'react';\r\nimport {\r\n  Typography, Container, Box, Button, CircularProgress\r\n} from '@mui/material';\r\nimport {\r\n  TrendingUp, Public, Nature, School, WaterDrop,\r\n  Forest, RecyclingOutlined, VolunteerActivism,\r\n  Category as CategoryIcon, ArrowForward, Assessment, GroupsOutlined, CheckCircle,\r\n  Handshake, AttachMoney\r\n} from '@mui/icons-material';\r\nimport { styled } from '@mui/material/styles';\r\nimport Header from '../../components/Header';\r\nimport Footer from '../../components/Footer';\r\nimport JoinMovement from '../../components/JoinMovement'; \r\nimport ProjectsDisplay from '../Projects/ProjectsDisplay';\r\nimport { useTheme } from '../../theme';\r\nimport { API_URL } from '../../config';\r\nimport FeaturedImpactsDisplay from './FeaturedImpactsDashboard'\r\nimport CountriesReached from './countriesReached'; \r\nimport ImpactHero from './ImpactHero'; \r\nimport TestimonialsSlider from '../../pages/Testimonials/TestimonialsSlider';\r\nimport GeneralTestimonialsDisplay from '../../pages/Testimonials/GeneralTestimonialsDisplay';\r\n\r\n\r\nconst API_BASE = API_URL;\r\n\r\n// Color palette matching objectives section exactly\r\nconst colors = {\r\n  primary: '#0a451c',\r\n  secondary: '#facf3c',\r\n  accent: '#9ccf9f',\r\n  info: '#3b82f6',\r\n  primaryLight: '#1a5a2c',\r\n  white: '#ffffff',\r\n  surface: '#fafafa',\r\n  gray100: '#f3f4f6',\r\n  gray200: '#e5e7eb',\r\n  gray400: '#9ca3af',\r\n  gray500: '#6b7280',\r\n  gray600: '#4b5563',\r\n  text: '#1f2937',\r\n  textSecondary: '#6b7280',\r\n  border: '#e5e7eb'\r\n};\r\n\r\n// Modern container with clean styling\r\nconst ModernContainer = styled(Box)(({ customTheme }) => ({\r\n  minHeight: '100vh',\r\n  backgroundColor: customTheme?.colors?.background || colors.surface,\r\n  position: 'relative',\r\n  overflow: 'hidden',\r\n      fontFamily: '\"Inter\", sans-serif'\r\n}));\r\n\r\n// Clean section with subtle background\r\nconst CleanSection = styled(Box)({\r\n  position: 'relative',\r\n  background: colors.white,\r\n  padding: '40px 20px',\r\n  overflow: 'hidden'\r\n});\r\n\r\n// Refined button styling\r\nconst ModernButton = styled(Button)(({ variant = 'primary' }) => ({\r\n  background: variant === 'primary' \r\n    ? `linear-gradient(135deg, ${colors.primary} 0%, ${colors.primaryLight} 100%)`\r\n    : colors.white,\r\n  color: variant === 'primary' ? colors.white : colors.primary,\r\n  border: variant === 'outline' ? `1px solid ${colors.border}` : 'none',\r\n  borderRadius: '12px',\r\n  padding: '0.75rem 1.5rem',\r\n  fontSize: '0.9rem',\r\n  fontWeight: 500,\r\n  textTransform: 'none',\r\n      fontFamily: '\"Inter\", sans-serif',\r\n  boxShadow: variant === 'primary' \r\n    ? `0 4px 16px ${colors.primary}20`\r\n    : '0 2px 8px rgba(0,0,0,0.04)',\r\n  transition: 'all 0.3s cubic-bezier(0.4, 0, 0.2, 1)',\r\n  \r\n  '&:hover': {\r\n    transform: 'translateY(-2px)',\r\n    boxShadow: variant === 'primary' \r\n      ? `0 8px 24px ${colors.primary}30`\r\n      : `0 6px 16px rgba(0,0,0,0.08)`,\r\n    \r\n    ...(variant === 'outline' && {\r\n      background: `${colors.primary}08`,\r\n      borderColor: colors.primary\r\n    })\r\n  }\r\n}));\r\n\r\n// Focus area button matching objectives exactly\r\nconst FocusAreaButton = styled('button')(({ delay = 0, isVisible = false }) => ({\r\n  width: '100%',\r\n  minHeight: '80px',\r\n  backgroundColor: colors.white,\r\n  border: `1px solid ${colors.border}`,\r\n  borderRadius: '12px',\r\n  padding: '20px 18px',\r\n  position: 'relative',\r\n  cursor: 'pointer',\r\n      fontFamily: '\"Inter\", sans-serif',\r\n  fontSize: '1rem',\r\n  fontWeight: 600,\r\n  color: colors.text,\r\n  textAlign: 'left',\r\n  display: 'flex',\r\n  alignItems: 'center',\r\n  gap: '12px',\r\n  transform: isVisible ? 'translateY(0)' : 'translateY(15px)',\r\n  opacity: isVisible ? 1 : 0,\r\n  transition: `all 0.4s cubic-bezier(0.4, 0, 0.2, 1) ${delay * 0.05}s`,\r\n  boxShadow: '0 2px 8px rgba(0,0,0,0.04)',\r\n  overflow: 'hidden',\r\n  \r\n  '&::before': {\r\n    content: '\"\"',\r\n    position: 'absolute',\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    height: '2px',\r\n    background: colors.primary,\r\n    opacity: 0,\r\n    transition: 'opacity 0.3s ease'\r\n  },\r\n  \r\n  '&:hover': {\r\n    transform: 'translateY(-3px)',\r\n    boxShadow: `0 8px 25px ${colors.primary}15`,\r\n    borderColor: `${colors.primary}40`,\r\n    \r\n    '&::before': {\r\n      opacity: 1\r\n    }\r\n  }\r\n}));\r\n\r\n// Icon mapping for dynamic impact data\r\nconst getIconComponent = (iconName) => {\r\n  const iconMap = {\r\n    people: GroupsOutlined,\r\n    location_city: Public,\r\n    check_circle: CheckCircle,\r\n    handshake: Handshake,\r\n    attach_money: AttachMoney,\r\n    volunteer_activism: VolunteerActivism,\r\n    assessment: Assessment,\r\n    trending_up: TrendingUp,\r\n    public: Public,\r\n    nature: Nature,\r\n    school: School,\r\n    water_drop: WaterDrop,\r\n    forest: Forest,\r\n    recycling: RecyclingOutlined\r\n  };\r\n  \r\n  const IconComponent = iconMap[iconName] || Assessment;\r\n  return <IconComponent />;\r\n};\r\n\r\n// Enhanced utility functions\r\nconst getCategoryIcon = (categoryName) => {\r\n  const name = categoryName.toLowerCase();\r\n  if (name.includes('marine') || name.includes('water') || name.includes('coastal')) return <WaterDrop />;\r\n  if (name.includes('climate') || name.includes('nature') || name.includes('environment')) return <Nature />;\r\n  if (name.includes('agriculture') || name.includes('farming') || name.includes('food')) return <Nature />;\r\n  if (name.includes('waste') || name.includes('recycling') || name.includes('circular')) return <RecyclingOutlined />;\r\n  if (name.includes('community') || name.includes('empowerment') || name.includes('social')) return <GroupsOutlined />;\r\n  if (name.includes('education') || name.includes('training') || name.includes('awareness')) return <School />;\r\n  if (name.includes('forest') || name.includes('tree') || name.includes('biodiversity')) return <Forest />;\r\n  return <CategoryIcon />;\r\n};\r\n\r\n// Intersection observer hook\r\nconst useIntersectionObserver = (options = {}) => {\r\n  const [isIntersecting, setIsIntersecting] = useState(false);\r\n  const [scrollY, setScrollY] = useState(0);\r\n  const ref = useRef(null);\r\n\r\n  const memoizedOptions = useMemo(() => ({\r\n    threshold: 0.3,\r\n    ...options\r\n  }), [options]);\r\n\r\n  useEffect(() => {\r\n    const currentRef = ref.current;\r\n    \r\n    const observer = new IntersectionObserver(([entry]) => {\r\n      setIsIntersecting(entry.isIntersecting);\r\n    }, memoizedOptions);\r\n\r\n    if (currentRef) {\r\n      observer.observe(currentRef);\r\n    }\r\n\r\n    return () => {\r\n      if (currentRef) {\r\n        observer.unobserve(currentRef);\r\n      }\r\n    };\r\n  }, [memoizedOptions]);\r\n\r\n  useEffect(() => {\r\n    const handleScroll = () => {\r\n      setScrollY(window.scrollY);\r\n    };\r\n    window.addEventListener('scroll', handleScroll, { passive: true });\r\n    return () => window.removeEventListener('scroll', handleScroll);\r\n  }, []);\r\n\r\n  return [ref, isIntersecting, scrollY];\r\n};\r\n\r\nexport default function Impact() {\r\n  const { theme } = useTheme();\r\n  const [categories, setCategories] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState('');\r\n  const [showProjects, setShowProjects] = useState(false);\r\n  const [selectedCategoryId, setSelectedCategoryId] = useState(null);\r\n  \r\n  const [focusRef, focusVisible, scrollY] = useIntersectionObserver();\r\n\r\n  // Memoized function to format impact values\r\n  const formatImpactValue = useCallback((value, unit) => {\r\n    const numValue = parseInt(value) || 0;\r\n    let formatted = '';\r\n    \r\n    if (numValue >= 1000000) {\r\n      formatted = (numValue / 1000000).toFixed(1) + 'M';\r\n    } else if (numValue >= 1000) {\r\n      formatted = (numValue / 1000).toFixed(1) + 'K';\r\n    } else {\r\n      formatted = numValue.toLocaleString();\r\n    }\r\n\r\n    if (unit && !unit.toLowerCase().includes('usd') && !unit.toLowerCase().includes('$')) {\r\n      formatted += '+';\r\n    }\r\n\r\n    return formatted;\r\n  }, []);\r\n\r\n  // Memoized fetchCategories function\r\n  const fetchCategories = useCallback(async () => {\r\n    try {\r\n      const res = await fetch(`${API_BASE}/categories`);\r\n      const data = await res.json();\r\n      \r\n      if (!res.ok) throw new Error(data.message || 'Failed to load categories');\r\n      setCategories(Array.isArray(data) ? data : []);\r\n    } catch (err) {\r\n      console.error(' Fetch categories error:', err);\r\n      setError('Failed to fetch focus areas.');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }, []);\r\n\r\n  // Memoized fetchImpactStats function\r\n  const fetchImpactStats = useCallback(async () => {\r\n    try {\r\n      const res = await fetch(`${API_BASE}/impacts?is_active=true`, {\r\n        method: 'GET',\r\n        credentials: 'include',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        }\r\n      });\r\n\r\n      if (!res.ok) throw new Error(`HTTP error! status: ${res.status}`);\r\n      \r\n      const data = await res.json();\r\n      \r\n      if (data.success && Array.isArray(data.data)) {\r\n        const transformedStats = data.data\r\n          .filter(impact => impact.is_active)\r\n          .sort((a, b) => (a.order_index || 0) - (b.order_index || 0))\r\n          .map(impact => ({\r\n            icon: getIconComponent(impact.icon),\r\n            value: formatImpactValue(impact.current_value, impact.unit),\r\n            label: impact.name,\r\n            color: impact.color || colors.primary,\r\n            description: impact.description\r\n          }));\r\n        \r\n        console.log('Impact stats loaded:', transformedStats);\r\n      } else {\r\n        console.error('Unexpected impact response format:', data);\r\n      }\r\n    } catch (err) {\r\n      console.error(' Fetch impact stats error:', err);\r\n    }\r\n  }, [formatImpactValue]);\r\n\r\n  useEffect(() => {\r\n    const initializeData = async () => {\r\n      await Promise.all([\r\n        fetchCategories(),\r\n        fetchImpactStats()\r\n      ]);\r\n    };\r\n    \r\n    initializeData();\r\n  }, [fetchCategories, fetchImpactStats]);\r\n\r\n  const handleFocusAreaClick = (categoryId) => {\r\n    setSelectedCategoryId(categoryId);\r\n    setShowProjects(true);\r\n    \r\n    setTimeout(() => {\r\n      const projectsSection = document.getElementById('projects');\r\n      if (projectsSection) {\r\n        projectsSection.scrollIntoView({ \r\n          behavior: 'smooth',\r\n          block: 'start'\r\n        });\r\n      }\r\n    }, 300);\r\n  };\r\n\r\n  const handleBackToImpact = () => {\r\n    setShowProjects(false);\r\n    setSelectedCategoryId(null);\r\n    \r\n    window.scrollTo({ \r\n      top: 0, \r\n      behavior: 'smooth' \r\n    });\r\n  };\r\n\r\n  if (showProjects) {\r\n    return (\r\n      <ModernContainer customTheme={theme}>\r\n        <Header />\r\n        <Box sx={{ pt: '80px' }}>\r\n          <Container maxWidth=\"lg\" sx={{ py: 4 }}>\r\n            <ModernButton\r\n              variant=\"outline\"\r\n              onClick={handleBackToImpact}\r\n              startIcon={<ArrowForward sx={{ transform: 'rotate(180deg)' }} />}\r\n              sx={{ mb: 4 }}\r\n            >\r\n              Back to Impact Overview\r\n            </ModernButton>\r\n          </Container>\r\n\r\n          <ProjectsDisplay initialCategoryFilter={selectedCategoryId} />\r\n        </Box>\r\n\r\n        <Footer />\r\n      </ModernContainer>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <ModernContainer customTheme={theme}>\r\n      <Header />\r\n      <ImpactHero/>\r\n      <FeaturedImpactsDisplay/>\r\n      <CountriesReached/>\r\n\r\n      {/* Focus Areas Section - Matching Objectives Style Exactly */}\r\n      <CleanSection ref={focusRef}>\r\n        {/* Subtle background accent */}\r\n        <div style={{\r\n          position: 'absolute',\r\n                    margin: '96px', // 1 inch margin (96px = 1 inch at 96 DPI)\r\n\r\n          top: '50%',\r\n          // right: '8%',\r\n          // width: '1px',\r\n          height: '100px',\r\n              background: \"linear-gradient(180deg, #21a851 0%, #067a3a 100%)\",\r\n\r\n          transform: `translateY(-50%) translateY(${scrollY * -0.02}px)`\r\n        }}></div>\r\n\r\n        <div style={{\r\n          maxWidth: '1000px',\r\n          // margin: '0 auto',\r\n                    margin: '96px',\r\n\r\n          position: 'relative',\r\n          zIndex: 2\r\n        }}>\r\n          \r\n          {/* Header matching objectives exactly */}\r\n          <div style={{\r\n            display: 'flex',\r\n            alignItems: 'center',\r\n            justifyContent: 'space-between',\r\n            marginBottom: '32px',\r\n            transform: focusVisible ? 'translateY(0)' : 'translateY(20px)',\r\n            opacity: focusVisible ? 1 : 0,\r\n            transition: 'all 0.6s ease'\r\n          }}>\r\n            <div>\r\n                    <Typography \r\n                variant=\"h3\"\r\n                sx={{ \r\n                  fontSize: '2.5rem',\r\n                  fontWeight: 700,\r\n                  color: colors.primary,\r\n                  mb: 2,\r\n                  letterSpacing: '-0.02em'\r\n                }}\r\n              >\r\nFocus Areas              </Typography>\r\n              <div style={{\r\n                width: '40px',\r\n                height: '2px',\r\n                background: `linear-gradient(90deg, ${colors.primary}, ${colors.accent})`,\r\n                borderRadius: '1px'\r\n              }}></div>\r\n            </div>\r\n            \r\n            <div style={{\r\n              fontSize: '0.75rem',\r\n              color: colors.textSecondary,\r\n              fontWeight: '500',\r\n      fontFamily: '\"Inter\", sans-serif',\r\n            }}>\r\n              IMPACT AREAS\r\n            </div>\r\n          </div>\r\n\r\n          {/* Loading State */}\r\n          {loading && (\r\n            <div style={{\r\n              display: 'flex',\r\n              flexDirection: 'column',\r\n              alignItems: 'center',\r\n              justifyContent: 'center',\r\n              minHeight: '200px',\r\n              gap: '16px'\r\n            }}>\r\n              <CircularProgress \r\n                size={50} \r\n                thickness={4}\r\n                style={{ color: colors.primary }} \r\n              />\r\n              <div style={{\r\n                fontSize: '0.85rem',\r\n                color: colors.textSecondary,\r\n                fontWeight: '500'\r\n              }}>\r\n                Loading focus areas...\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {/* Error State */}\r\n          {error && !loading && (\r\n            <div style={{\r\n              textAlign: 'center',\r\n              padding: '48px 0'\r\n            }}>\r\n              <div style={{\r\n                fontSize: '0.95rem',\r\n                color: colors.textSecondary,\r\n                marginBottom: '24px',\r\n                fontWeight: '500'\r\n              }}>\r\n                {error}\r\n              </div>\r\n              <ModernButton onClick={fetchCategories}>\r\n                Try Again\r\n              </ModernButton>\r\n            </div>\r\n          )}\r\n\r\n          {/* Focus Areas Grid */}\r\n          {!loading && !error && categories.length > 0 && (\r\n            <div style={{\r\n              display: 'grid',\r\n              gridTemplateColumns: 'repeat(auto-fit, minmax(280px, 1fr))',\r\n              gap: '16px',\r\n              marginBottom: '28px'\r\n            }}>\r\n              {categories.map((category, index) => (\r\n                <FocusAreaButton\r\n                  key={category.id}\r\n                  delay={index}\r\n                  isVisible={focusVisible}\r\n                  onClick={() => handleFocusAreaClick(category.id)}\r\n                >\r\n                  <div style={{\r\n                    width: '36px',\r\n                    height: '36px',\r\n                    backgroundColor: `${colors.primary}10`,\r\n                    borderRadius: '8px',\r\n                    display: 'flex',\r\n                    alignItems: 'left',\r\n                    justifyContent: 'left',\r\n                    flexShrink: 0\r\n                  }}>\r\n                    {React.cloneElement(getCategoryIcon(category.name), {\r\n                      style: { fontSize: '18px', color: colors.primary }\r\n                    })}\r\n                  </div>\r\n                  <div>\r\n                    <div style={{\r\n                      fontWeight: '600',\r\n                      fontSize: '1rem',\r\n                      color: colors.text,\r\n                      lineHeight: '1.3'\r\n                    }}>\r\n                      {category.name}\r\n                    </div>\r\n                    <div style={{\r\n                      fontSize: '0.7rem',\r\n                      color: colors.primary,\r\n                      backgroundColor: `${colors.primary}08`,\r\n                      padding: '2px 6px',\r\n                      borderRadius: '8px',\r\n                      fontWeight: '500',\r\n                      display: 'inline-block',\r\n                      marginTop: '4px'\r\n                    }}>\r\n                      Initiative\r\n                    </div>\r\n                  </div>\r\n                </FocusAreaButton>\r\n              ))}\r\n            </div>\r\n          )}\r\n\r\n          {/* Empty State */}\r\n          {!loading && !error && categories.length === 0 && (\r\n            <div style={{\r\n              textAlign: 'center',\r\n              padding: '48px 0'\r\n            }}>\r\n              <div style={{\r\n                fontSize: '0.95rem',\r\n                color: colors.textSecondary,\r\n                marginBottom: '24px',\r\n                fontWeight: '500'\r\n              }}>\r\n                No focus areas available at the moment\r\n              </div>\r\n              <ModernButton onClick={fetchCategories}>\r\n                Refresh\r\n              </ModernButton>\r\n            </div>\r\n          )}\r\n\r\n          {/* Bottom accent matching objectives */}\r\n          <div style={{\r\n            display: 'flex',\r\n            alignItems: 'center',\r\n            justifyContent: 'center',\r\n            marginTop: '24px',\r\n            gap: '6px',\r\n            opacity: focusVisible ? 1 : 0,\r\n            transition: 'opacity 0.8s ease 0.4s'\r\n          }}>\r\n            <div style={{\r\n              width: '12px',\r\n              height: '1px',\r\n              background: `linear-gradient(90deg, transparent, ${colors.primary}40)`\r\n            }}></div>\r\n        \r\n            <div style={{\r\n              width: '12px',\r\n              height: '1px',\r\n              background: `linear-gradient(90deg, ${colors.primary}40, transparent)`\r\n            }}></div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Responsive Styles */}\r\n        <style>{`\r\n          @media (max-width: 768px) {\r\n            div[style*=\"gridTemplateColumns: repeat(auto-fit, minmax(280px, 1fr))\"] {\r\n              grid-template-columns: 1fr !important;\r\n              gap: 12px !important;\r\n            }\r\n            \r\n            h2[style*=\"fontSize: '1.75rem'\"] {\r\n              font-size: 1.5rem !important;\r\n            }\r\n          }\r\n        `}</style>\r\n      </CleanSection>\r\n\r\n      <ProjectsDisplay/>\r\n      <GeneralTestimonialsDisplay/>\r\n      <JoinMovement/>\r\n      <Footer />\r\n    </ModernContainer>\r\n  );\r\n}","// extracted by mini-css-extract-plugin\nexport default {\"module\":\"AuthPages_module__ZL4Hy\",\"css\":\"AuthPages_css__oI+5E\",\"container\":\"AuthPages_container__9tvRp\",\"forgotPasswordCard\":\"AuthPages_forgotPasswordCard__vdIJu\",\"slideUp\":\"AuthPages_slideUp__kr685\",\"header\":\"AuthPages_header__OgaTd\",\"logo\":\"AuthPages_logo__KLLor\",\"logoIcon\":\"AuthPages_logoIcon__WCdR6\",\"title\":\"AuthPages_title__4uVpG\",\"subtitle\":\"AuthPages_subtitle__zn+4O\",\"successContainer\":\"AuthPages_successContainer__M4fz1\",\"slideIn\":\"AuthPages_slideIn__AMMYI\",\"successIcon\":\"AuthPages_successIcon__U6lcB\",\"successMessage\":\"AuthPages_successMessage__3jwb2\",\"errorContainer\":\"AuthPages_errorContainer__do4iv\",\"shake\":\"AuthPages_shake__YVVyd\",\"errorIcon\":\"AuthPages_errorIcon__z9WPQ\",\"errorMessage\":\"AuthPages_errorMessage__mgbvG\",\"form\":\"AuthPages_form__sAshk\",\"inputGroup\":\"AuthPages_inputGroup__XsCO9\",\"label\":\"AuthPages_label__7tm4C\",\"inputWrapper\":\"AuthPages_inputWrapper__Ol3f3\",\"inputIcon\":\"AuthPages_inputIcon__CIUQp\",\"input\":\"AuthPages_input__c7jRq\",\"submitButton\":\"AuthPages_submitButton__0Nmah\",\"buttonContent\":\"AuthPages_buttonContent__ejrF2\",\"loadingContainer\":\"AuthPages_loadingContainer__X8MWi\",\"spinner\":\"AuthPages_spinner__+MPoY\",\"spin\":\"AuthPages_spin__FOdEd\",\"successActions\":\"AuthPages_successActions__UOG0b\",\"instructionText\":\"AuthPages_instructionText__wLZ1j\",\"resendButton\":\"AuthPages_resendButton__joNi4\",\"footer\":\"AuthPages_footer__ZhwTr\",\"backLink\":\"AuthPages_backLink__+nef4\",\"backgroundElements\":\"AuthPages_backgroundElements__fW9cy\",\"circle1\":\"AuthPages_circle1__eFXf7\",\"circle2\":\"AuthPages_circle2__sz5f2\",\"circle3\":\"AuthPages_circle3__hy2D0\",\"float\":\"AuthPages_float__D1iJb\"};","import React, { useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { useTheme } from '../../theme'; // Import your theme hook\r\nimport { Mail, ArrowLeft, CheckCircle, AlertCircle, Send } from 'lucide-react';\r\nimport styles from '../../styles/AuthPages.module.css';\r\nimport { API_URL } from '../../config';\r\n\r\nconst ForgotPassword = () => {\r\n  const { theme, colors } = useTheme(); // Use your theme system\r\n  const [email, setEmail] = useState('');\r\n  const [status, setStatus] = useState('');\r\n  const [error, setError] = useState('');\r\n  const [loading, setLoading] = useState(false);\r\n  const [isSubmitted, setIsSubmitted] = useState(false);\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    setError('');\r\n    setStatus('');\r\n    setLoading(true);\r\n\r\n    const apiUrl = API_URL;\r\n\r\n    try {\r\n      const response = await fetch(`${apiUrl}/auth/forgot-password`, {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({ email }),\r\n        credentials: 'include',\r\n      });\r\n\r\n      const contentType = response.headers.get('content-type');\r\n      if (!contentType || !contentType.includes('application/json')) {\r\n        const text = await response.text();\r\n        console.error('Expected JSON, got:', text);\r\n        throw new Error('Server error: unexpected response');\r\n      }\r\n\r\n      const data = await response.json();\r\n\r\n      if (!response.ok) {\r\n        throw new Error(data.message || 'Failed to send reset email');\r\n      }\r\n\r\n      setStatus('Password reset link sent! Please check your email.');\r\n      setIsSubmitted(true);\r\n    } catch (err) {\r\n      setError(err.message || 'An error occurred');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleEmailChange = (e) => {\r\n    setEmail(e.target.value);\r\n    if (error) setError(''); // Clear error when user starts typing\r\n  };\r\n\r\n  return (\r\n    <div className={styles.container}>\r\n      <div className={styles.forgotPasswordCard}>\r\n        <div className={styles.header}>\r\n          <div className={styles.logo}>\r\n            <Mail size={32} className={styles.logoIcon} />\r\n          </div>\r\n          <h1 className={styles.title}>\r\n            {isSubmitted ? 'Check Your Email' : 'Forgot Password?'}\r\n          </h1>\r\n          <p className={styles.subtitle}>\r\n            {isSubmitted \r\n              ? `We've sent a password reset link to ${email}`\r\n              : 'No worries! Enter your email address and we\\'ll send you a link to reset your password.'\r\n            }\r\n          </p>\r\n        </div>\r\n\r\n        {/* Success Message */}\r\n        {status && !error && (\r\n          <div className={styles.successContainer}>\r\n            <CheckCircle size={20} className={styles.successIcon} />\r\n            <p className={styles.successMessage}>{status}</p>\r\n          </div>\r\n        )}\r\n\r\n        {/* Error Message */}\r\n        {error && (\r\n          <div className={styles.errorContainer}>\r\n            <AlertCircle size={20} className={styles.errorIcon} />\r\n            <p className={styles.errorMessage}>{error}</p>\r\n          </div>\r\n        )}\r\n\r\n        {!isSubmitted ? (\r\n          <form onSubmit={handleSubmit} className={styles.form}>\r\n            <div className={styles.inputGroup}>\r\n              <label htmlFor=\"email\" className={styles.label}>\r\n                Email Address\r\n              </label>\r\n              <div className={styles.inputWrapper}>\r\n                <Mail size={20} className={styles.inputIcon} />\r\n                <input\r\n                  id=\"email\"\r\n                  className={styles.input}\r\n                  type=\"email\"\r\n                  placeholder=\"Enter your email address\"\r\n                  value={email}\r\n                  onChange={handleEmailChange}\r\n                  required\r\n                  autoComplete=\"email\"\r\n                  autoFocus\r\n                />\r\n              </div>\r\n            </div>\r\n\r\n            <button\r\n              className={styles.submitButton}\r\n              type=\"submit\"\r\n              disabled={loading || !email}\r\n            >\r\n              {loading ? (\r\n                <div className={styles.loadingContainer}>\r\n                  <div className={styles.spinner} />\r\n                  <span>Sending...</span>\r\n                </div>\r\n              ) : (\r\n                <div className={styles.buttonContent}>\r\n                  <Send size={20} />\r\n                  <span>Send Reset Link</span>\r\n                </div>\r\n              )}\r\n            </button>\r\n          </form>\r\n        ) : (\r\n          <div className={styles.successActions}>\r\n            <p className={styles.instructionText}>\r\n              Didn't receive the email? Check your spam folder or try again.\r\n            </p>\r\n            <button\r\n              className={styles.resendButton}\r\n              onClick={() => {\r\n                setIsSubmitted(false);\r\n                setStatus('');\r\n                setError('');\r\n              }}\r\n            >\r\n              Try Again\r\n            </button>\r\n          </div>\r\n        )}\r\n\r\n        <div className={styles.footer}>\r\n          <Link to=\"/login\" className={styles.backLink}>\r\n            <ArrowLeft size={16} />\r\n            <span>Back to Sign In</span>\r\n          </Link>\r\n        </div>\r\n      </div>\r\n\r\n      <div className={styles.backgroundElements}>\r\n        <div className={styles.circle1}></div>\r\n        <div className={styles.circle2}></div>\r\n        <div className={styles.circle3}></div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ForgotPassword;","import React, { useState } from 'react';\r\nimport { Lock, Eye, EyeOff, Check, AlertCircle, ArrowLeft, Shield } from 'lucide-react';\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\nconst ResetPassword = () => {\r\n  const [password, setPassword] = useState('');\r\n  const [confirmPassword, setConfirmPassword] = useState('');\r\n  const [message, setMessage] = useState('');\r\n  const [error, setError] = useState('');\r\n  const [loading, setLoading] = useState(false);\r\n  const [showPassword, setShowPassword] = useState(false);\r\n  const [showConfirmPassword, setShowConfirmPassword] = useState(false);\r\n  const navigate = useNavigate();\r\n\r\n  // Mock token from URL params (in real app this would come from useParams)\r\n  const token = 'mock-token';\r\n\r\n  const handleSubmit = async () => {\r\n    setError('');\r\n    setMessage('');\r\n\r\n    if (password !== confirmPassword) {\r\n      return setError(\"Passwords don't match\");\r\n    }\r\n\r\n    if (password.length < 6) {\r\n      return setError(\"Password must be at least 6 characters\");\r\n    }\r\n\r\n    setLoading(true);\r\n\r\n    try {\r\n      // Simulate API call\r\n      await new Promise(resolve => setTimeout(resolve, 2000));\r\n      \r\n      // Mock successful response\r\n      setMessage('Password reset successful. Redirecting to login...');\r\n      setTimeout(() => {\r\n    navigate('/login'); // This will programmatically navigate to /login\r\n        console.log('Redirecting to login...');\r\n      }, 2500);\r\n    } catch (err) {\r\n      setError(err.message || 'An error occurred');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n const handleBackToLogin = () => {\r\n    navigate('/login'); // This will programmatically navigate to /login\r\n  };\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      {/* Background decorative elements */}\r\n      <div className=\"backgroundElements\">\r\n        <div className=\"circle1\"></div>\r\n        <div className=\"circle2\"></div>\r\n        <div className=\"circle3\"></div>\r\n      </div>\r\n\r\n      <div className=\"forgotPasswordCard\">\r\n        <div className=\"header\">\r\n          <div className=\"logo\">\r\n            <Shield className=\"logoIcon\" size={32} />\r\n          </div>\r\n          <h1 className=\"title\">Reset Your Password</h1>\r\n          <p className=\"subtitle\">\r\n            Enter your new password below. Make sure it's strong and secure.\r\n          </p>\r\n        </div>\r\n\r\n        {/* Success Message */}\r\n        {message && (\r\n          <div className=\"successContainer\">\r\n            <Check className=\"successIcon\" size={20} />\r\n            <p className=\"successMessage\">{message}</p>\r\n          </div>\r\n        )}\r\n\r\n        {/* Error Message */}\r\n        {error && (\r\n          <div className=\"errorContainer\">\r\n            <AlertCircle className=\"errorIcon\" size={20} />\r\n            <p className=\"errorMessage\">{error}</p>\r\n          </div>\r\n        )}\r\n\r\n        <div className=\"form\">\r\n          <div className=\"inputGroup\">\r\n            <label className=\"label\" htmlFor=\"password\">\r\n              New Password\r\n            </label>\r\n            <div className=\"inputWrapper\">\r\n              <Lock className=\"inputIcon\" size={20} />\r\n              <input\r\n                id=\"password\"\r\n                className=\"input\"\r\n                type={showPassword ? \"text\" : \"password\"}\r\n                placeholder=\"Enter your new password\"\r\n                value={password}\r\n                onChange={(e) => setPassword(e.target.value)}\r\n                required\r\n                minLength={6}\r\n              />\r\n              <button\r\n                type=\"button\"\r\n                onClick={() => setShowPassword(!showPassword)}\r\n                style={{\r\n                  position: 'absolute',\r\n                  right: '1rem',\r\n                  background: 'none',\r\n                  border: 'none',\r\n                  cursor: 'pointer',\r\n                  color: 'var(--color-text-muted)',\r\n                  padding: '0.25rem',\r\n                  display: 'flex',\r\n                  alignItems: 'center',\r\n                  justifyContent: 'center'\r\n                }}\r\n              >\r\n                {showPassword ? <EyeOff size={20} /> : <Eye size={20} />}\r\n              </button>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"inputGroup\">\r\n            <label className=\"label\" htmlFor=\"confirmPassword\">\r\n              Confirm New Password\r\n            </label>\r\n            <div className=\"inputWrapper\">\r\n              <Lock className=\"inputIcon\" size={20} />\r\n              <input\r\n                id=\"confirmPassword\"\r\n                className=\"input\"\r\n                type={showConfirmPassword ? \"text\" : \"password\"}\r\n                placeholder=\"Confirm your new password\"\r\n                value={confirmPassword}\r\n                onChange={(e) => setConfirmPassword(e.target.value)}\r\n                required\r\n                minLength={6}\r\n              />\r\n              <button\r\n                type=\"button\"\r\n                onClick={() => setShowConfirmPassword(!showConfirmPassword)}\r\n                style={{\r\n                  position: 'absolute',\r\n                  right: '1rem',\r\n                  background: 'none',\r\n                  border: 'none',\r\n                  cursor: 'pointer',\r\n                  color: 'var(--color-text-muted)',\r\n                  padding: '0.25rem',\r\n                  display: 'flex',\r\n                  alignItems: 'center',\r\n                  justifyContent: 'center'\r\n                }}\r\n              >\r\n                {showConfirmPassword ? <EyeOff size={20} /> : <Eye size={20} />}\r\n              </button>\r\n            </div>\r\n          </div>\r\n\r\n          <button \r\n            onClick={handleSubmit} \r\n            className=\"submitButton\" \r\n            disabled={loading || !password || !confirmPassword}\r\n          >\r\n            {loading ? (\r\n              <div className=\"loadingContainer\">\r\n                <div className=\"spinner\"></div>\r\n                <span>Resetting Password...</span>\r\n              </div>\r\n            ) : (\r\n              <div className=\"buttonContent\">\r\n                <Shield size={20} />\r\n                <span>Reset Password</span>\r\n              </div>\r\n            )}\r\n          </button>\r\n        </div>\r\n\r\n        <div className=\"footer\">\r\n          <button \r\n            onClick={handleBackToLogin}\r\n            className=\"backLink\"\r\n            style={{\r\n              background: 'none',\r\n              border: 'none',\r\n              cursor: 'pointer'\r\n            }}\r\n          >\r\n            <ArrowLeft size={16} />\r\n            <span>Back to Login</span>\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      <style jsx>{`\r\n        /* CSS Variables for theming */\r\n        :root {\r\n          --color-primary: #0a451c;\r\n          --color-primary-dark: #062a11;\r\n          --color-secondary: #facf3c;\r\n          --color-secondary-light: #fde047;\r\n          --color-surface: #ffffff;\r\n          --color-text: #1f2937;\r\n          --color-text-secondary: #6b7280;\r\n          --color-text-muted: #9ca3af;\r\n          --color-border: #e5e7eb;\r\n          --color-border-hover: #d1d5db;\r\n          --color-success: #10b981;\r\n          --color-error: #ef4444;\r\n          --color-white: #ffffff;\r\n          --color-black: #000000;\r\n        }\r\n\r\n        .container {\r\n          min-height: 100vh;\r\n          display: flex;\r\n          align-items: center;\r\n          justify-content: center;\r\n          padding: 1rem;\r\n          background: linear-gradient(135deg, var(--color-primary) 0%, var(--color-primary-dark) 100%);\r\n          position: relative;\r\n          overflow: hidden;\r\n        }\r\n\r\n        .forgotPasswordCard {\r\n          background: var(--color-surface);\r\n          padding: 3rem 2.5rem;\r\n          border-radius: 1.5rem;\r\n          box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);\r\n          backdrop-filter: blur(10px);\r\n          border: 1px solid var(--color-border);\r\n          width: 100%;\r\n          max-width: 420px;\r\n          position: relative;\r\n          z-index: 10;\r\n          animation: slideUp 0.6s ease-out;\r\n        }\r\n\r\n        @keyframes slideUp {\r\n          from {\r\n            opacity: 0;\r\n            transform: translateY(30px);\r\n          }\r\n          to {\r\n            opacity: 1;\r\n            transform: translateY(0);\r\n          }\r\n        }\r\n\r\n        .header {\r\n          text-align: center;\r\n          margin-bottom: 2rem;\r\n        }\r\n\r\n        .logo {\r\n          display: inline-flex;\r\n          align-items: center;\r\n          justify-content: center;\r\n          width: 4rem;\r\n          height: 4rem;\r\n          background: linear-gradient(135deg, var(--color-secondary) 0%, var(--color-secondary-light) 100%);\r\n          border-radius: 1rem;\r\n          margin-bottom: 1.5rem;\r\n          box-shadow: 0 10px 30px rgba(250, 207, 60, 0.3);\r\n        }\r\n\r\n        .logoIcon {\r\n          color: var(--color-black);\r\n        }\r\n\r\n        .title {\r\n          font-size: 1.875rem;\r\n          font-weight: 700;\r\n          color: var(--color-text);\r\n          margin: 0 0 0.5rem 0;\r\n          line-height: 1.2;\r\n        }\r\n\r\n        .subtitle {\r\n          color: var(--color-text-secondary);\r\n          margin: 0;\r\n          font-size: 0.95rem;\r\n          line-height: 1.5;\r\n          max-width: 350px;\r\n          margin-left: auto;\r\n          margin-right: auto;\r\n        }\r\n\r\n        .successContainer {\r\n          display: flex;\r\n          align-items: center;\r\n          gap: 0.75rem;\r\n          background: linear-gradient(135deg, rgba(16, 185, 129, 0.1) 0%, rgba(16, 185, 129, 0.05) 100%);\r\n          border: 1px solid rgba(16, 185, 129, 0.2);\r\n          border-radius: 0.75rem;\r\n          padding: 1rem;\r\n          margin-bottom: 1.5rem;\r\n          animation: slideIn 0.5s ease-out;\r\n        }\r\n\r\n        @keyframes slideIn {\r\n          from {\r\n            opacity: 0;\r\n            transform: translateX(-10px);\r\n          }\r\n          to {\r\n            opacity: 1;\r\n            transform: translateX(0);\r\n          }\r\n        }\r\n\r\n        .successIcon {\r\n          color: var(--color-success);\r\n          flex-shrink: 0;\r\n        }\r\n\r\n        .successMessage {\r\n          color: var(--color-success);\r\n          margin: 0;\r\n          font-size: 0.875rem;\r\n          font-weight: 500;\r\n        }\r\n\r\n        .errorContainer {\r\n          display: flex;\r\n          align-items: center;\r\n          gap: 0.75rem;\r\n          background: linear-gradient(135deg, rgba(239, 68, 68, 0.1) 0%, rgba(239, 68, 68, 0.05) 100%);\r\n          border: 1px solid rgba(239, 68, 68, 0.2);\r\n          border-radius: 0.75rem;\r\n          padding: 1rem;\r\n          margin-bottom: 1.5rem;\r\n          animation: shake 0.5s ease-in-out;\r\n        }\r\n\r\n        @keyframes shake {\r\n          0%, 100% { transform: translateX(0); }\r\n          25% { transform: translateX(-5px); }\r\n          75% { transform: translateX(5px); }\r\n        }\r\n\r\n        .errorIcon {\r\n          color: var(--color-error);\r\n          flex-shrink: 0;\r\n        }\r\n\r\n        .errorMessage {\r\n          color: var(--color-error);\r\n          margin: 0;\r\n          font-size: 0.875rem;\r\n          font-weight: 500;\r\n        }\r\n\r\n        .form {\r\n          display: flex;\r\n          flex-direction: column;\r\n          gap: 1.5rem;\r\n        }\r\n\r\n        .inputGroup {\r\n          display: flex;\r\n          flex-direction: column;\r\n          gap: 0.5rem;\r\n        }\r\n\r\n        .label {\r\n          font-weight: 600;\r\n          color: var(--color-text);\r\n          font-size: 0.875rem;\r\n          margin: 0;\r\n        }\r\n\r\n        .inputWrapper {\r\n          position: relative;\r\n          display: flex;\r\n          align-items: center;\r\n        }\r\n\r\n        .inputIcon {\r\n          position: absolute;\r\n          left: 1rem;\r\n          color: var(--color-text-muted);\r\n          z-index: 2;\r\n          pointer-events: none;\r\n        }\r\n\r\n        .input {\r\n          width: 100%;\r\n          padding: 1rem 3rem 1rem 3rem;\r\n          border: 2px solid var(--color-border);\r\n          border-radius: 0.75rem;\r\n          font-size: 1rem;\r\n          color: var(--color-text);\r\n          background: var(--color-surface);\r\n          transition: all 0.3s ease;\r\n          outline: none;\r\n          box-sizing: border-box;\r\n        }\r\n\r\n        .input:focus {\r\n          border-color: var(--color-secondary);\r\n          box-shadow: 0 0 0 3px rgba(250, 207, 60, 0.1);\r\n          transform: translateY(-1px);\r\n        }\r\n\r\n        .input:hover {\r\n          border-color: var(--color-border-hover);\r\n        }\r\n\r\n        .input::placeholder {\r\n          color: var(--color-text-muted);\r\n        }\r\n\r\n        .submitButton {\r\n          width: 100%;\r\n          padding: 1rem 1.5rem;\r\n          background: linear-gradient(135deg, var(--color-secondary) 0%, var(--color-secondary-light) 100%);\r\n          color: var(--color-black);\r\n          border: none;\r\n          border-radius: 0.75rem;\r\n          font-size: 1rem;\r\n          font-weight: 600;\r\n          cursor: pointer;\r\n          transition: all 0.3s ease;\r\n          box-shadow: 0 4px 15px rgba(250, 207, 60, 0.3);\r\n          margin-top: 0.5rem;\r\n          position: relative;\r\n          overflow: hidden;\r\n        }\r\n\r\n        .submitButton:hover:not(:disabled) {\r\n          transform: translateY(-2px);\r\n          box-shadow: 0 8px 25px rgba(250, 207, 60, 0.4);\r\n        }\r\n\r\n        .submitButton:active:not(:disabled) {\r\n          transform: translateY(0);\r\n        }\r\n\r\n        .submitButton:disabled {\r\n          opacity: 0.6;\r\n          cursor: not-allowed;\r\n          transform: none;\r\n          box-shadow: 0 4px 15px rgba(250, 207, 60, 0.2);\r\n        }\r\n\r\n        .buttonContent {\r\n          display: flex;\r\n          align-items: center;\r\n          justify-content: center;\r\n          gap: 0.5rem;\r\n        }\r\n\r\n        .loadingContainer {\r\n          display: flex;\r\n          align-items: center;\r\n          justify-content: center;\r\n          gap: 0.75rem;\r\n        }\r\n\r\n        .spinner {\r\n          width: 1.25rem;\r\n          height: 1.25rem;\r\n          border: 2px solid rgba(0, 0, 0, 0.3);\r\n          border-top: 2px solid var(--color-black);\r\n          border-radius: 50%;\r\n          animation: spin 1s linear infinite;\r\n        }\r\n\r\n        @keyframes spin {\r\n          0% { transform: rotate(0deg); }\r\n          100% { transform: rotate(360deg); }\r\n        }\r\n\r\n        .footer {\r\n          text-align: center;\r\n          margin-top: 2rem;\r\n          padding-top: 2rem;\r\n          border-top: 1px solid var(--color-border);\r\n        }\r\n\r\n        .backLink {\r\n          display: inline-flex;\r\n          align-items: center;\r\n          gap: 0.5rem;\r\n          color: var(--color-primary);\r\n          text-decoration: none;\r\n          font-weight: 500;\r\n          font-size: 0.875rem;\r\n          transition: all 0.2s ease;\r\n          padding: 0.5rem 1rem;\r\n          border-radius: 0.5rem;\r\n          background: none;\r\n          border: none;\r\n          cursor: pointer;\r\n        }\r\n\r\n        .backLink:hover {\r\n          color: var(--color-primary-dark);\r\n          background: rgba(10, 69, 28, 0.05);\r\n          transform: translateX(-3px);\r\n        }\r\n\r\n        .passwordStrength {\r\n          margin-top: 0.5rem;\r\n          font-size: 0.75rem;\r\n          color: var(--color-text-muted);\r\n        }\r\n\r\n        .strengthIndicator {\r\n          display: flex;\r\n          gap: 0.25rem;\r\n          margin-top: 0.25rem;\r\n        }\r\n\r\n        .strengthBar {\r\n          height: 0.25rem;\r\n          flex: 1;\r\n          border-radius: 0.125rem;\r\n          background: var(--color-border);\r\n          transition: all 0.3s ease;\r\n        }\r\n\r\n        .strengthBar.weak {\r\n          background: var(--color-error);\r\n        }\r\n\r\n        .strengthBar.medium {\r\n          background: #f59e0b;\r\n        }\r\n\r\n        .strengthBar.strong {\r\n          background: var(--color-success);\r\n        }\r\n\r\n        /* Background decorative elements */\r\n        .backgroundElements {\r\n          position: absolute;\r\n          top: 0;\r\n          left: 0;\r\n          right: 0;\r\n          bottom: 0;\r\n          overflow: hidden;\r\n          pointer-events: none;\r\n        }\r\n\r\n        .circle1,\r\n        .circle2,\r\n        .circle3 {\r\n          position: absolute;\r\n          border-radius: 50%;\r\n          background: linear-gradient(135deg, rgba(156, 207, 159, 0.1) 0%, rgba(156, 207, 159, 0.05) 100%);\r\n          animation: float 6s ease-in-out infinite;\r\n        }\r\n\r\n        .circle1 {\r\n          width: 180px;\r\n          height: 180px;\r\n          top: 15%;\r\n          right: -5%;\r\n          animation-delay: 0s;\r\n        }\r\n\r\n        .circle2 {\r\n          width: 120px;\r\n          height: 120px;\r\n          bottom: 20%;\r\n          left: -10%;\r\n          animation-delay: 2s;\r\n        }\r\n\r\n        .circle3 {\r\n          width: 90px;\r\n          height: 90px;\r\n          top: 50%;\r\n          left: 10%;\r\n          animation-delay: 4s;\r\n        }\r\n\r\n        @keyframes float {\r\n          0%, 100% {\r\n            transform: translateY(0) rotate(0deg);\r\n          }\r\n          33% {\r\n            transform: translateY(-15px) rotate(120deg);\r\n          }\r\n          66% {\r\n            transform: translateY(8px) rotate(240deg);\r\n          }\r\n        }\r\n\r\n        /* Responsive design */\r\n        @media (max-width: 480px) {\r\n          .container {\r\n            padding: 0.75rem;\r\n          }\r\n          \r\n          .forgotPasswordCard {\r\n            padding: 2rem 1.5rem;\r\n            border-radius: 1rem;\r\n          }\r\n          \r\n          .title {\r\n            font-size: 1.5rem;\r\n          }\r\n          \r\n          .subtitle {\r\n            font-size: 0.875rem;\r\n          }\r\n          \r\n          .input {\r\n            padding: 0.875rem 2.75rem 0.875rem 2.75rem;\r\n          }\r\n          \r\n          .inputIcon {\r\n            left: 0.875rem;\r\n          }\r\n          \r\n          .circle1,\r\n          .circle2,\r\n          .circle3 {\r\n            opacity: 0.3;\r\n          }\r\n        }\r\n      `}</style>\r\n    </div>\r\n  );\r\n\r\n  // Helper function to calculate password strength\r\n  function getPasswordStrength(password) {\r\n    if (!password) return 0;\r\n    let strength = 0;\r\n    if (password.length >= 6) strength++;\r\n    if (password.length >= 10) strength++;\r\n    if (/[A-Z]/.test(password)) strength++;\r\n    if (/[0-9]/.test(password)) strength++;\r\n    if (/[^A-Za-z0-9]/.test(password)) strength++;\r\n    return Math.min(strength, 3);\r\n  }\r\n};\r\n\r\nexport default ResetPassword;","import React, { useState, useEffect } from 'react';\r\nimport { useParams, useNavigate } from 'react-router-dom';\r\nimport {\r\n  Box, Paper, Typography, TextField, Button, Alert,\r\n  Container, InputAdornment, IconButton, Card, CardContent\r\n} from '@mui/material';\r\nimport {\r\n  Visibility, VisibilityOff, Lock as LockIcon,\r\n  CheckCircle as CheckCircleIcon\r\n} from '@mui/icons-material';\r\n\r\nconst API_BASE = 'http://localhost:5000';\r\n\r\nconst ActivateAccount = () => {\r\n  const { token } = useParams();\r\n  const navigate = useNavigate();\r\n  \r\n  const [password, setPassword] = useState('');\r\n  const [confirmPassword, setConfirmPassword] = useState('');\r\n  const [showPassword, setShowPassword] = useState(false);\r\n  const [showConfirmPassword, setShowConfirmPassword] = useState(false);\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState('');\r\n  const [success, setSuccess] = useState(false);\r\n  const [tokenValid, setTokenValid] = useState(null);\r\n  const [userInfo, setUserInfo] = useState(null);\r\n\r\n  // Validate token on component mount\r\n  useEffect(() => {\r\n    const validateToken = async () => {\r\n      try {\r\n        console.log(' Validating token:', token);\r\n        \r\n        // FIXED: Use correct route\r\n        const res = await fetch(`${API_BASE}/api/auth/validate-token/${token}`, {\r\n          method: 'GET'\r\n        });\r\n        \r\n        console.log(' Token validation response:', res.status);\r\n        const data = await res.json();\r\n        console.log(' Token validation data:', data);\r\n        \r\n        if (res.ok) {\r\n          setTokenValid(true);\r\n          setUserInfo(data.user);\r\n          console.log(' Token is valid, user info:', data.user);\r\n        } else {\r\n          setTokenValid(false);\r\n          setError(data.message || 'Invalid or expired activation link');\r\n          console.log(' Token validation failed:', data.message);\r\n        }\r\n      } catch (err) {\r\n        console.error(' Token validation error:', err);\r\n        setTokenValid(false);\r\n        setError('Unable to validate activation link');\r\n      }\r\n    };\r\n\r\n    if (token) {\r\n      validateToken();\r\n    } else {\r\n      console.log(' No token provided in URL');\r\n      setTokenValid(false);\r\n      setError('No activation token provided');\r\n    }\r\n  }, [token]);\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    \r\n    if (!password || !confirmPassword) {\r\n      setError('Please fill in all fields');\r\n      return;\r\n    }\r\n\r\n    if (password.length < 6) {\r\n      setError('Password must be at least 6 characters long');\r\n      return;\r\n    }\r\n\r\n    if (password !== confirmPassword) {\r\n      setError('Passwords do not match');\r\n      return;\r\n    }\r\n\r\n    setLoading(true);\r\n    setError('');\r\n\r\n    try {\r\n      console.log(' Activating account with token:', token);\r\n      \r\n      // FIXED: Use correct route\r\n      const res = await fetch(`${API_BASE}/api/auth/activate/${token}`, {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({ password }),\r\n      });\r\n\r\n      console.log(' Activation response:', res.status);\r\n      const data = await res.json();\r\n      console.log(' Activation data:', data);\r\n\r\n      if (res.ok) {\r\n        setSuccess(true);\r\n        console.log(' Account activated successfully');\r\n        setTimeout(() => {\r\n          navigate('/login', { \r\n            state: { message: 'Account activated successfully! Please log in.' }\r\n          });\r\n        }, 2000);\r\n      } else {\r\n        console.log(' Activation failed:', data.message);\r\n        setError(data.message || 'Account activation failed');\r\n      }\r\n    } catch (err) {\r\n      console.error(' Activation network error:', err);\r\n      setError('Network error. Please try again.');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const getPasswordStrength = () => {\r\n    if (password.length === 0) return { strength: 0, text: '', color: '' };\r\n    if (password.length < 6) return { strength: 25, text: 'Weak', color: 'error.main' };\r\n    if (password.length < 8) return { strength: 50, text: 'Fair', color: 'warning.main' };\r\n    if (password.length >= 8 && /[A-Z]/.test(password) && /[0-9]/.test(password)) {\r\n      return { strength: 100, text: 'Strong', color: 'success.main' };\r\n    }\r\n    return { strength: 75, text: 'Good', color: 'info.main' };\r\n  };\r\n\r\n  const passwordStrength = getPasswordStrength();\r\n\r\n  if (tokenValid === null) {\r\n    return (\r\n      <Container maxWidth=\"sm\" sx={{ mt: 8 }}>\r\n        <Paper elevation={3} sx={{ p: 4, textAlign: 'center' }}>\r\n          <Typography variant=\"h6\">Validating activation link...</Typography>\r\n        </Paper>\r\n      </Container>\r\n    );\r\n  }\r\n\r\n  if (tokenValid === false) {\r\n    return (\r\n      <Container maxWidth=\"sm\" sx={{ mt: 8 }}>\r\n        <Paper elevation={3} sx={{ p: 4, textAlign: 'center' }}>\r\n          <Alert severity=\"error\" sx={{ mb: 3 }}>\r\n            {error || 'Invalid or expired activation link'}\r\n          </Alert>\r\n          <Typography variant=\"h6\" gutterBottom>\r\n            Activation Link Invalid\r\n          </Typography>\r\n          <Typography variant=\"body1\" color=\"textSecondary\" sx={{ mb: 3 }}>\r\n            This activation link is either invalid or has expired. Please contact your administrator for a new invitation.\r\n          </Typography>\r\n          <Button \r\n            variant=\"contained\" \r\n            onClick={() => navigate('/login')}\r\n          >\r\n            Back to Login\r\n          </Button>\r\n        </Paper>\r\n      </Container>\r\n    );\r\n  }\r\n\r\n  if (success) {\r\n    return (\r\n      <Container maxWidth=\"sm\" sx={{ mt: 8 }}>\r\n        <Paper elevation={3} sx={{ p: 4, textAlign: 'center' }}>\r\n          <CheckCircleIcon color=\"success\" sx={{ fontSize: 60, mb: 2 }} />\r\n          <Typography variant=\"h5\" gutterBottom color=\"success.main\">\r\n            Account Activated Successfully!\r\n          </Typography>\r\n          <Typography variant=\"body1\" color=\"textSecondary\" sx={{ mb: 3 }}>\r\n            Your account has been activated. Redirecting to login...\r\n          </Typography>\r\n        </Paper>\r\n      </Container>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Container maxWidth=\"sm\" sx={{ mt: 8 }}>\r\n      <Card elevation={3}>\r\n        <CardContent sx={{ p: 4 }}>\r\n          <Box sx={{ textAlign: 'center', mb: 4 }}>\r\n            <LockIcon sx={{ fontSize: 60, color: 'primary.main', mb: 2 }} />\r\n            <Typography variant=\"h4\" gutterBottom>\r\n              Activate Your Account\r\n            </Typography>\r\n            {userInfo && (\r\n              <Alert severity=\"info\" sx={{ mt: 2, mb: 2 }}>\r\n                Welcome <strong>{userInfo.name}</strong>! You're joining as <strong>{userInfo.role}</strong>.\r\n              </Alert>\r\n            )}\r\n            <Typography variant=\"body1\" color=\"textSecondary\">\r\n              Welcome to ACEF! Please set your password to complete your account activation.\r\n            </Typography>\r\n          </Box>\r\n\r\n          {error && (\r\n            <Alert severity=\"error\" sx={{ mb: 3 }}>\r\n              {error}\r\n            </Alert>\r\n          )}\r\n\r\n          <form onSubmit={handleSubmit}>\r\n            <Box sx={{ mb: 3 }}>\r\n              <TextField\r\n                fullWidth\r\n                label=\"New Password\"\r\n                type={showPassword ? 'text' : 'password'}\r\n                value={password}\r\n                onChange={(e) => setPassword(e.target.value)}\r\n                required\r\n                InputProps={{\r\n                  endAdornment: (\r\n                    <InputAdornment position=\"end\">\r\n                      <IconButton\r\n                        onClick={() => setShowPassword(!showPassword)}\r\n                        edge=\"end\"\r\n                      >\r\n                        {showPassword ? <VisibilityOff /> : <Visibility />}\r\n                      </IconButton>\r\n                    </InputAdornment>\r\n                  ),\r\n                }}\r\n                sx={{ mb: 1 }}\r\n              />\r\n              \r\n              {password && (\r\n                <Box sx={{ mt: 1 }}>\r\n                  <Box sx={{ display: 'flex', alignItems: 'center', mb: 1 }}>\r\n                    <Box\r\n                      sx={{\r\n                        height: 4,\r\n                        flex: 1,\r\n                        bgcolor: 'grey.200',\r\n                        borderRadius: 2,\r\n                        mr: 1,\r\n                        overflow: 'hidden'\r\n                      }}\r\n                    >\r\n                      <Box\r\n                        sx={{\r\n                          height: '100%',\r\n                          width: `${passwordStrength.strength}%`,\r\n                          bgcolor: passwordStrength.color,\r\n                          transition: 'all 0.3s ease'\r\n                        }}\r\n                      />\r\n                    </Box>\r\n                    <Typography variant=\"caption\" sx={{ color: passwordStrength.color }}>\r\n                      {passwordStrength.text}\r\n                    </Typography>\r\n                  </Box>\r\n                </Box>\r\n              )}\r\n            </Box>\r\n\r\n            <TextField\r\n              fullWidth\r\n              label=\"Confirm Password\"\r\n              type={showConfirmPassword ? 'text' : 'password'}\r\n              value={confirmPassword}\r\n              onChange={(e) => setConfirmPassword(e.target.value)}\r\n              required\r\n              error={confirmPassword && password !== confirmPassword}\r\n              helperText={\r\n                confirmPassword && password !== confirmPassword \r\n                  ? 'Passwords do not match' \r\n                  : ''\r\n              }\r\n              InputProps={{\r\n                endAdornment: (\r\n                  <InputAdornment position=\"end\">\r\n                    <IconButton\r\n                      onClick={() => setShowConfirmPassword(!showConfirmPassword)}\r\n                      edge=\"end\"\r\n                    >\r\n                      {showConfirmPassword ? <VisibilityOff /> : <Visibility />}\r\n                    </IconButton>\r\n                  </InputAdornment>\r\n                ),\r\n              }}\r\n              sx={{ mb: 3 }}\r\n            />\r\n\r\n            <Button\r\n              type=\"submit\"\r\n              fullWidth\r\n              variant=\"contained\"\r\n              size=\"large\"\r\n              disabled={loading || !password || !confirmPassword || password !== confirmPassword}\r\n              sx={{ mb: 2, py: 1.5 }}\r\n            >\r\n              {loading ? 'Activating Account...' : 'Activate Account'}\r\n            </Button>\r\n          </form>\r\n\r\n          <Box sx={{ textAlign: 'center', mt: 3, pt: 2, borderTop: 1, borderColor: 'divider' }}>\r\n            <Typography variant=\"body2\" color=\"textSecondary\">\r\n              Already have an account?{' '}\r\n              <Button \r\n                variant=\"text\" \r\n                onClick={() => navigate('/login')}\r\n                sx={{ textTransform: 'none' }}\r\n              >\r\n                Sign In\r\n              </Button>\r\n            </Typography>\r\n          </Box>\r\n        </CardContent>\r\n      </Card>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default ActivateAccount;\r\n","import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport { Linkedin, Globe, MapPin, X, ExternalLink, Users } from 'lucide-react';\r\nimport { API_URL, STATIC_URL } from '../../config';\r\nimport { useTheme } from '../../theme';\r\nimport { motion, AnimatePresence } from 'framer-motion';\r\n\r\nconst TeamSection = () => {\r\n  const [members, setMembers] = useState([]);\r\n  const [departments, setDepartments] = useState([]);\r\n  const [filteredMembers, setFilteredMembers] = useState([]);\r\n  const [visibleCount, setVisibleCount] = useState(6);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState('');\r\n  const [selectedMember, setSelectedMember] = useState(null);\r\n  const [isModalOpen, setIsModalOpen] = useState(false);\r\n  const [selectedDepartment, setSelectedDepartment] = useState('All');\r\n  const { colors, isDarkMode } = useTheme();\r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      try {\r\n        setLoading(true);\r\n        \r\n        // Fetch team members\r\n        const teamRes = await axios.get(`${API_URL}/team`, { withCredentials: true });\r\n        const teamArray = Array.isArray(teamRes.data)\r\n          ? teamRes.data\r\n          : teamRes.data.members || teamRes.data.data || [];\r\n\r\n        // Fetch departments\r\n        const deptRes = await axios.get(`${API_URL}/team/departments`, { withCredentials: true });\r\n        const departmentsArray = deptRes.data.data || [];\r\n\r\n        // Create department order map\r\n        const departmentOrderMap = {};\r\n        departmentsArray.forEach((dept, index) => {\r\n          departmentOrderMap[dept.name] = dept.order_index !== undefined ? dept.order_index : index;\r\n        });\r\n\r\n        // Sort team members by department order\r\n        const sorted = [...teamArray].sort((a, b) => {\r\n          const orderA = departmentOrderMap[a.department] !== undefined \r\n            ? departmentOrderMap[a.department] \r\n            : 999;\r\n          const orderB = departmentOrderMap[b.department] !== undefined \r\n            ? departmentOrderMap[b.department] \r\n            : 999;\r\n          return orderA - orderB;\r\n        });\r\n\r\n        setMembers(sorted);\r\n        setFilteredMembers(sorted);\r\n        setDepartments(['All', ...departmentsArray.map(dept => dept.name)]);\r\n        setError('');\r\n      } catch (err) {\r\n        console.error('Failed to load team data:', err);\r\n        setError('Failed to load team members');\r\n        setMembers([]);\r\n        setFilteredMembers([]);\r\n        setDepartments(['All']);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchData();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (selectedDepartment === 'All') {\r\n      setFilteredMembers(members);\r\n    } else {\r\n      setFilteredMembers(members.filter(member => member.department === selectedDepartment));\r\n    }\r\n    setVisibleCount(6);\r\n  }, [selectedDepartment, members]);\r\n\r\n  const openModal = (member) => {\r\n    setSelectedMember(member);\r\n    setIsModalOpen(true);\r\n  };\r\n\r\n  const closeModal = () => {\r\n    setIsModalOpen(false);\r\n    setSelectedMember(null);\r\n  };\r\n\r\n  const handleDepartmentFilter = (department) => {\r\n    setSelectedDepartment(department);\r\n  };\r\n\r\n  const handleSocialClick = (url) => {\r\n    if (url) {\r\n      window.open(url.startsWith('http') ? url : `https://${url}`, '_blank');\r\n    }\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <section style={{ \r\n        minHeight: '100vh', \r\n        background: 'linear-gradient(135deg, #f8fffe 0%, #f0f9f5 100%)',\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n        fontFamily: '\"Nunito Sans\", sans-serif'\r\n      }}>\r\n        <motion.div\r\n          initial={{ opacity: 0, scale: 0.9 }}\r\n          animate={{ opacity: 1, scale: 1 }}\r\n          style={{\r\n            display: 'flex',\r\n            flexDirection: 'column',\r\n            alignItems: 'center',\r\n            gap: '20px'\r\n          }}\r\n        >\r\n          <div style={{\r\n            width: '60px',\r\n            height: '60px',\r\n            border: '3px solid #e5f4e8',\r\n            borderTop: '3px solid #2d5a3d',\r\n            borderRadius: '50%',\r\n            animation: 'spin 1s linear infinite'\r\n          }} />\r\n          <p style={{\r\n            fontSize: '1.1rem',\r\n            color: '#2d5a3d',\r\n            fontWeight: 500\r\n          }}>\r\n            Loading team members...\r\n          </p>\r\n        </motion.div>\r\n        <style jsx>{`\r\n          @keyframes spin {\r\n            0% { transform: rotate(0deg); }\r\n            100% { transform: rotate(360deg); }\r\n          }\r\n        `}</style>\r\n      </section>\r\n    );\r\n  }\r\n\r\n  if (error) {\r\n    return (\r\n      <section style={{\r\n        minHeight: '100vh',\r\n        background: 'linear-gradient(135deg, #f8fffe 0%, #f0f9f5 100%)',\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n        fontFamily: '\"Nunito Sans\", sans-serif'\r\n      }}>\r\n        <div style={{\r\n          textAlign: 'center',\r\n          color: '#2d5a3d',\r\n          fontSize: '1.1rem'\r\n        }}>\r\n          {error}\r\n        </div>\r\n      </section>\r\n    );\r\n  }\r\n\r\n  if (members.length === 0) {\r\n    return (\r\n      <section style={{\r\n        minHeight: '100vh',\r\n        background: 'linear-gradient(135deg, #f8fffe 0%, #f0f9f5 100%)',\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n        textAlign: 'center',\r\n        fontFamily: '\"Nunito Sans\", sans-serif'\r\n      }}>\r\n        <div style={{ color: '#2d5a3d' }}>\r\n          <h3 style={{\r\n            fontSize: '1.5rem',\r\n            fontWeight: 700,\r\n            margin: '0 0 12px 0'\r\n          }}>\r\n            No team members found\r\n          </h3>\r\n          <p style={{\r\n            fontSize: '1rem',\r\n            opacity: 0.7,\r\n            margin: 0\r\n          }}>\r\n            Team members will appear here once they are added.\r\n          </p>\r\n        </div>\r\n      </section>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <section style={{\r\n        background: 'linear-gradient(135deg, #f8fffe 0%, #f0f9f5 100%)',\r\n        minHeight: '100vh',\r\n        fontFamily: '\"Nunito Sans\", sans-serif',\r\n        position: 'relative'\r\n      }}>\r\n        <div style={{\r\n          position: 'relative',\r\n          padding: '80px 24px',\r\n          maxWidth: '1400px',\r\n          margin: '0 auto'\r\n        }}>\r\n          {/* Header */}\r\n          <motion.div\r\n            initial={{ opacity: 0, y: 20 }}\r\n            animate={{ opacity: 1, y: 0 }}\r\n            transition={{ duration: 0.6, ease: [0.4, 0, 0.2, 1] }}\r\n            style={{\r\n              textAlign: 'center',\r\n              marginBottom: '60px'\r\n            }}\r\n          >\r\n            <div style={{\r\n              display: 'flex',\r\n              alignItems: 'center',\r\n              justifyContent: 'center',\r\n              gap: '12px',\r\n              marginBottom: '20px'\r\n            }}>\r\n              <Users size={32} style={{ color: '#2d5a3d' }} />\r\n              <h1 style={{\r\n                fontSize: 'clamp(2.5rem, 5vw, 3.5rem)',\r\n                fontWeight: 700,\r\n                color: '#2d5a3d',\r\n                margin: 0,\r\n                letterSpacing: '-0.02em'\r\n              }}>\r\n                Our Team\r\n              </h1>\r\n            </div>\r\n            <p style={{\r\n              fontSize: '1.2rem',\r\n              color: '#5a7a65',\r\n              maxWidth: '540px',\r\n              margin: '0 auto',\r\n              lineHeight: '1.6',\r\n              fontWeight: 400\r\n            }}>\r\n              Meet the passionate individuals driving positive environmental change across Africa\r\n            </p>\r\n          </motion.div>\r\n\r\n          {/* Department filters */}\r\n          <motion.div\r\n            initial={{ opacity: 0, y: 20 }}\r\n            animate={{ opacity: 1, y: 0 }}\r\n            transition={{ duration: 0.6, delay: 0.1 }}\r\n            style={{\r\n              display: 'flex',\r\n              flexWrap: 'wrap',\r\n              gap: '8px',\r\n              justifyContent: 'center',\r\n              marginBottom: '50px',\r\n              padding: '0 20px'\r\n            }}\r\n          >\r\n            {departments.map((dept) => (\r\n              <motion.button\r\n                key={dept}\r\n                whileHover={{ scale: 1.02 }}\r\n                whileTap={{ scale: 0.98 }}\r\n                onClick={() => handleDepartmentFilter(dept)}\r\n                style={{\r\n                  padding: '10px 20px',\r\n                  borderRadius: '12px',\r\n                  border: 'none',\r\n                  background: selectedDepartment === dept \r\n                    ? '#2d5a3d'\r\n                    : 'rgba(255,255,255,0.7)',\r\n                  color: selectedDepartment === dept ? 'white' : '#2d5a3d',\r\n                  fontSize: '0.9rem',\r\n                  fontWeight: 600,\r\n                  cursor: 'pointer',\r\n                  transition: 'all 0.2s ease',\r\n                  fontFamily: '\"Nunito Sans\", sans-serif',\r\n                  backdropFilter: 'blur(10px)',\r\n                  boxShadow: selectedDepartment === dept \r\n                    ? '0 4px 20px rgba(45,90,61,0.25)'\r\n                    : '0 2px 10px rgba(45,90,61,0.1)',\r\n                  border: selectedDepartment === dept ? 'none' : '1px solid rgba(45,90,61,0.15)'\r\n                }}\r\n              >\r\n                {dept}\r\n                {dept !== 'All' && (\r\n                  <span style={{ \r\n                    marginLeft: '6px', \r\n                    opacity: 0.7,\r\n                    fontSize: '0.85rem'\r\n                  }}>\r\n                    ({members.filter(m => m.department === dept).length})\r\n                  </span>\r\n                )}\r\n              </motion.button>\r\n            ))}\r\n          </motion.div>\r\n\r\n          {/* Team grid */}\r\n          <motion.div\r\n            layout\r\n            style={{\r\n              display: 'grid',\r\n              gridTemplateColumns: 'repeat(auto-fit, minmax(320px, 1fr))',\r\n              gap: '24px',\r\n              marginBottom: '50px'\r\n            }}\r\n          >\r\n            <AnimatePresence mode=\"popLayout\">\r\n              {filteredMembers.slice(0, visibleCount).map((member, index) => (\r\n                <motion.div\r\n                  key={member.id}\r\n                  layout\r\n                  initial={{ opacity: 0, y: 30 }}\r\n                  animate={{ opacity: 1, y: 0 }}\r\n                  exit={{ opacity: 0, scale: 0.95 }}\r\n                  transition={{ \r\n                    duration: 0.4, \r\n                    delay: index * 0.05,\r\n                    ease: [0.4, 0, 0.2, 1]\r\n                  }}\r\n                  whileHover={{ \r\n                    y: -4,\r\n                    transition: { duration: 0.2 }\r\n                  }}\r\n                  style={{\r\n                    background: 'rgba(255,255,255,0.8)',\r\n                    backdropFilter: 'blur(20px)',\r\n                    borderRadius: '16px',\r\n                    padding: '24px',\r\n                    border: '1px solid rgba(255,255,255,0.3)',\r\n                    boxShadow: '0 8px 32px rgba(45,90,61,0.08)',\r\n                    cursor: 'pointer',\r\n                    transition: 'all 0.2s ease',\r\n                    position: 'relative',\r\n                    overflow: 'hidden'\r\n                  }}\r\n                  onClick={() => openModal(member)}\r\n                >\r\n                  <div style={{\r\n                    textAlign: 'center'\r\n                  }}>\r\n                    {/* Image */}\r\n                    <div style={{\r\n                      marginBottom: '20px',\r\n                      display: 'flex',\r\n                      justifyContent: 'center'\r\n                    }}>\r\n                      <div style={{\r\n                        position: 'relative',\r\n                        borderRadius: '16px',\r\n                        overflow: 'hidden',\r\n                        background: 'linear-gradient(145deg, rgba(45,90,61,0.05), transparent)',\r\n                        padding: '3px'\r\n                      }}>\r\n                        <img\r\n                          src={member.image_url ? `${STATIC_URL}${member.image_url}` : '/default-profile.png'}\r\n                          alt={member.name}\r\n                          style={{\r\n                            width: '160px',\r\n                            height: '180px',\r\n                            objectFit: 'cover',\r\n                            borderRadius: '13px',\r\n                            filter: 'brightness(1.02) contrast(1.05)',\r\n                            transition: 'all 0.3s ease'\r\n                          }}\r\n                          onError={(e) => { \r\n                            e.target.src = '/default-profile.png'; \r\n                          }}\r\n                        />\r\n                      </div>\r\n                    </div>\r\n\r\n                    {/* Name */}\r\n                    <h3 style={{\r\n                      fontSize: '1.25rem',\r\n                      fontWeight: 700,\r\n                      color: '#2d5a3d',\r\n                      margin: '0 0 8px 0',\r\n                      lineHeight: '1.3'\r\n                    }}>\r\n                      {member.name}\r\n                    </h3>\r\n\r\n                    {/* Position */}\r\n                    <p style={{\r\n                      fontSize: '1rem',\r\n                      color: '#5a7a65',\r\n                      margin: '0 0 12px 0',\r\n                      fontWeight: 500,\r\n                      lineHeight: '1.4'\r\n                    }}>\r\n                      {member.position}\r\n                    </p>\r\n\r\n\r\n                    {/* Country */}\r\n                    {member.country && (\r\n                      <div style={{\r\n                        display: 'flex',\r\n                        alignItems: 'center',\r\n                        justifyContent: 'center',\r\n                        gap: '6px',\r\n                        background: 'rgba(45,90,61,0.05)',\r\n                        color: '#5a7a65',\r\n                        padding: '6px 12px',\r\n                        borderRadius: '8px',\r\n                        fontSize: '0.85rem',\r\n                        fontWeight: 500,\r\n                        marginBottom: '16px'\r\n                      }}>\r\n                        <MapPin size={14} />\r\n                        {member.country}\r\n                      </div>\r\n                    )}\r\n\r\n                    {/* Action buttons */}\r\n                    <div style={{\r\n                      display: 'flex',\r\n                      gap: '8px',\r\n                      justifyContent: 'center',\r\n                      alignItems: 'center'\r\n                    }}>\r\n                      <button\r\n                        onClick={(e) => {\r\n                          e.stopPropagation();\r\n                          openModal(member);\r\n                        }}\r\n                        style={{\r\n                          background: '#2d5a3d',\r\n                          color: 'white',\r\n                          border: 'none',\r\n                          padding: '10px 18px',\r\n                          borderRadius: '10px',\r\n                          fontSize: '0.9rem',\r\n                          fontWeight: 600,\r\n                          cursor: 'pointer',\r\n                          transition: 'all 0.2s ease',\r\n                          fontFamily: '\"Nunito Sans\", sans-serif'\r\n                        }}\r\n                        onMouseEnter={(e) => {\r\n                          e.target.style.backgroundColor = '#1e3d29';\r\n                        }}\r\n                        onMouseLeave={(e) => {\r\n                          e.target.style.backgroundColor = '#2d5a3d';\r\n                        }}\r\n                      >\r\n                        Read Bio\r\n                      </button>\r\n\r\n                      {(member.linkedin_url || member.website_url) && (\r\n                        <button\r\n                          onClick={(e) => {\r\n                            e.stopPropagation();\r\n                            handleSocialClick(member.linkedin_url || member.website_url);\r\n                          }}\r\n                          style={{\r\n                            background: 'transparent',\r\n                            color: '#2d5a3d',\r\n                            border: '1px solid rgba(45,90,61,0.3)',\r\n                            padding: '10px',\r\n                            borderRadius: '10px',\r\n                            cursor: 'pointer',\r\n                            transition: 'all 0.2s ease',\r\n                            display: 'flex',\r\n                            alignItems: 'center',\r\n                            justifyContent: 'center',\r\n                            width: '38px',\r\n                            height: '38px'\r\n                          }}\r\n                          onMouseEnter={(e) => {\r\n                            e.target.style.backgroundColor = '#2d5a3d';\r\n                            e.target.style.color = 'white';\r\n                          }}\r\n                          onMouseLeave={(e) => {\r\n                            e.target.style.backgroundColor = 'transparent';\r\n                            e.target.style.color = '#2d5a3d';\r\n                          }}\r\n                          title={member.linkedin_url ? \"LinkedIn Profile\" : \"Website\"}\r\n                        >\r\n                          <ExternalLink size={16} />\r\n                        </button>\r\n                      )}\r\n                    </div>\r\n                  </div>\r\n                </motion.div>\r\n              ))}\r\n            </AnimatePresence>\r\n          </motion.div>\r\n\r\n          {/* Show more button */}\r\n          {visibleCount < filteredMembers.length && (\r\n            <motion.div\r\n              initial={{ opacity: 0 }}\r\n              animate={{ opacity: 1 }}\r\n              transition={{ duration: 0.4 }}\r\n              style={{\r\n                display: 'flex',\r\n                justifyContent: 'center'\r\n              }}\r\n            >\r\n              <button\r\n                onClick={() => setVisibleCount(prev => prev + 6)}\r\n                style={{\r\n                  background: 'rgba(255,255,255,0.9)',\r\n                  color: '#2d5a3d',\r\n                  border: '1px solid rgba(45,90,61,0.2)',\r\n                  padding: '12px 24px',\r\n                  borderRadius: '12px',\r\n                  fontSize: '0.95rem',\r\n                  fontWeight: 600,\r\n                  cursor: 'pointer',\r\n                  transition: 'all 0.2s ease',\r\n                  fontFamily: '\"Nunito Sans\", sans-serif',\r\n                  boxShadow: '0 4px 16px rgba(45,90,61,0.1)',\r\n                  backdropFilter: 'blur(10px)'\r\n                }}\r\n                onMouseEnter={(e) => {\r\n                  e.target.style.backgroundColor = '#2d5a3d';\r\n                  e.target.style.color = 'white';\r\n                  e.target.style.transform = 'translateY(-1px)';\r\n                }}\r\n                onMouseLeave={(e) => {\r\n                  e.target.style.backgroundColor = 'rgba(255,255,255,0.9)';\r\n                  e.target.style.color = '#2d5a3d';\r\n                  e.target.style.transform = 'translateY(0)';\r\n                }}\r\n              >\r\n                Show More Team Members ({filteredMembers.length - visibleCount} remaining)\r\n              </button>\r\n            </motion.div>\r\n          )}\r\n        </div>\r\n      </section>\r\n\r\n      {/* Modal */}\r\n      <AnimatePresence>\r\n        {isModalOpen && selectedMember && (\r\n          <motion.div\r\n            initial={{ opacity: 0 }}\r\n            animate={{ opacity: 1 }}\r\n            exit={{ opacity: 0 }}\r\n            transition={{ duration: 0.2 }}\r\n            style={{\r\n              position: 'fixed',\r\n              inset: 0,\r\n              background: 'rgba(45,90,61,0.4)',\r\n              backdropFilter: 'blur(8px)',\r\n              zIndex: 2000,\r\n              display: 'flex',\r\n              alignItems: 'center',\r\n              justifyContent: 'center',\r\n              padding: '20px'\r\n            }}\r\n            onClick={closeModal}\r\n          >\r\n            <motion.div\r\n              initial={{ opacity: 0, scale: 0.95, y: 20 }}\r\n              animate={{ opacity: 1, scale: 1, y: 0 }}\r\n              exit={{ opacity: 0, scale: 0.95, y: 10 }}\r\n              transition={{ duration: 0.3, ease: [0.4, 0, 0.2, 1] }}\r\n              style={{\r\n                background: 'rgba(255,255,255,0.98)',\r\n                backdropFilter: 'blur(20px)',\r\n                borderRadius: '20px',\r\n                maxWidth: '700px',\r\n                width: '100%',\r\n                maxHeight: '80vh',\r\n                overflow: 'auto',\r\n                position: 'relative',\r\n                border: '1px solid rgba(255,255,255,0.3)',\r\n                boxShadow: '0 20px 60px rgba(45,90,61,0.15)'\r\n              }}\r\n              onClick={(e) => e.stopPropagation()}\r\n            >\r\n              {/* Close button */}\r\n              <button\r\n                onClick={closeModal}\r\n                style={{\r\n                  position: 'absolute',\r\n                  top: '16px',\r\n                  right: '16px',\r\n                  background: 'rgba(45,90,61,0.1)',\r\n                  border: 'none',\r\n                  color: '#2d5a3d',\r\n                  cursor: 'pointer',\r\n                  padding: '8px',\r\n                  borderRadius: '8px',\r\n                  transition: 'all 0.2s ease',\r\n                  zIndex: 10\r\n                }}\r\n                onMouseEnter={(e) => {\r\n                  e.target.style.backgroundColor = '#2d5a3d';\r\n                  e.target.style.color = 'white';\r\n                }}\r\n                onMouseLeave={(e) => {\r\n                  e.target.style.backgroundColor = 'rgba(45,90,61,0.1)';\r\n                  e.target.style.color = '#2d5a3d';\r\n                }}\r\n              >\r\n                <X size={18} />\r\n              </button>\r\n\r\n              {/* Modal content */}\r\n              <div style={{\r\n                padding: '30px'\r\n              }}>\r\n                <div style={{\r\n                  display: 'flex',\r\n                  alignItems: 'flex-start',\r\n                  gap: '24px',\r\n                  marginBottom: '28px'\r\n                }}>\r\n                  <div style={{\r\n                    borderRadius: '16px',\r\n                    overflow: 'hidden',\r\n                    background: 'linear-gradient(145deg, rgba(45,90,61,0.05), transparent)',\r\n                    padding: '3px',\r\n                    flexShrink: 0\r\n                  }}>\r\n                    <img\r\n                      src={selectedMember.image_url ? `${STATIC_URL}${selectedMember.image_url}` : '/default-profile.png'}\r\n                      alt={selectedMember.name}\r\n                      style={{\r\n                        width: '130px',\r\n                        height: '150px',\r\n                        objectFit: 'cover',\r\n                        borderRadius: '13px'\r\n                      }}\r\n                      onError={(e) => { \r\n                        e.target.src = '/default-profile.png'; \r\n                      }}\r\n                    />\r\n                  </div>\r\n                  \r\n                  <div style={{ flex: 1 }}>\r\n                    <h2 style={{\r\n                      fontSize: '1.8rem',\r\n                      fontWeight: 700,\r\n                      color: '#2d5a3d',\r\n                      margin: '0 0 8px 0',\r\n                      lineHeight: '1.2'\r\n                    }}>\r\n                      {selectedMember.name}\r\n                    </h2>\r\n                    \r\n                    <p style={{\r\n                      fontSize: '1.1rem',\r\n                      color: '#5a7a65',\r\n                      margin: '0 0 12px 0',\r\n                      fontWeight: 500\r\n                    }}>\r\n                      {selectedMember.position}\r\n                    </p>\r\n                    \r\n                    <div style={{\r\n                      display: 'inline-flex',\r\n                      alignItems: 'center',\r\n                      gap: '6px',\r\n                      background: 'rgba(45,90,61,0.08)',\r\n                      color: '#2d5a3d',\r\n                      padding: '8px 14px',\r\n                      borderRadius: '10px',\r\n                      fontSize: '0.9rem',\r\n                      fontWeight: 600,\r\n                      marginBottom: '12px'\r\n                    }}>\r\n                      {selectedMember.department}\r\n                    </div>\r\n                    \r\n                    {selectedMember.country && (\r\n                      <div style={{\r\n                        display: 'flex',\r\n                        alignItems: 'center',\r\n                        gap: '6px',\r\n                        background: 'rgba(45,90,61,0.05)',\r\n                        color: '#5a7a65',\r\n                        padding: '6px 12px',\r\n                        borderRadius: '8px',\r\n                        fontSize: '0.85rem',\r\n                        fontWeight: 500,\r\n                        marginBottom: '12px',\r\n                        width: 'fit-content'\r\n                      }}>\r\n                        <MapPin size={14} />\r\n                        {selectedMember.country}\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n                \r\n                {/* Bio */}\r\n                {selectedMember.bio && (\r\n                  <div style={{\r\n                    fontSize: '1.1rem',\r\n                    color: '#2d5a3d',\r\n                    lineHeight: '1.6',\r\n                    marginBottom: '28px',\r\n                    opacity: 0.9,\r\n                    padding: '20px',\r\n                    background: 'rgba(45,90,61,0.03)',\r\n                    borderRadius: '16px',\r\n                    border: '1px solid rgba(45,90,61,0.08)'\r\n                  }}>\r\n                    {selectedMember.bio}\r\n                  </div>\r\n                )}\r\n                \r\n                {/* Social links */}\r\n                <div style={{\r\n                  display: 'flex',\r\n                  gap: '12px',\r\n                  flexWrap: 'wrap'\r\n                }}>\r\n                  {selectedMember.linkedin_url && (\r\n                    <button\r\n                      onClick={() => handleSocialClick(selectedMember.linkedin_url)}\r\n                      style={{\r\n                        background: '#2d5a3d',\r\n                        color: 'white',\r\n                        border: 'none',\r\n                        padding: '12px 20px',\r\n                        borderRadius: '12px',\r\n                        cursor: 'pointer',\r\n                        transition: 'all 0.2s ease',\r\n                        display: 'flex',\r\n                        alignItems: 'center',\r\n                        gap: '8px',\r\n                        fontSize: '0.95rem',\r\n                        fontWeight: 600,\r\n                        fontFamily: '\"Nunito Sans\", sans-serif'\r\n                      }}\r\n                      onMouseEnter={(e) => {\r\n                        e.target.style.backgroundColor = '#1e3d29';\r\n                      }}\r\n                      onMouseLeave={(e) => {\r\n                        e.target.style.backgroundColor = '#2d5a3d';\r\n                      }}\r\n                    >\r\n                      <Linkedin size={18} />\r\n                      Portfolio\r\n                    </button>\r\n                  )}\r\n                  \r\n                  {selectedMember.website_url && (\r\n                    <button\r\n                      onClick={() => handleSocialClick(selectedMember.website_url)}\r\n                      style={{\r\n                        background: 'transparent',\r\n                        color: '#2d5a3d',\r\n                        border: '1px solid rgba(45,90,61,0.3)',\r\n                        padding: '12px 20px',\r\n                        borderRadius: '12px',\r\n                        cursor: 'pointer',\r\n                        transition: 'all 0.2s ease',\r\n                        display: 'flex',\r\n                        alignItems: 'center',\r\n                        gap: '8px',\r\n                        fontSize: '0.95rem',\r\n                        fontWeight: 600,\r\n                        fontFamily: '\"Nunito Sans\", sans-serif'\r\n                      }}\r\n                      onMouseEnter={(e) => {\r\n                        e.target.style.backgroundColor = '#2d5a3d';\r\n                        e.target.style.color = 'white';\r\n                      }}\r\n                      onMouseLeave={(e) => {\r\n                        e.target.style.backgroundColor = 'transparent';\r\n                        e.target.style.color = '#2d5a3d';\r\n                      }}\r\n                    >\r\n                      <Globe size={18} />\r\n                      Website\r\n                    </button>\r\n                  )}\r\n                </div>\r\n              </div>\r\n            </motion.div>\r\n          </motion.div>\r\n        )}\r\n      </AnimatePresence>\r\n\r\n      <style jsx>{`\r\n        @import url('https://fonts.googleapis.com/css2?family=Nunito+Sans:wght@300;400;500;600;700;800;900&display=swap');\r\n        \r\n        @media (max-width: 1024px) {\r\n          .team-grid {\r\n            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)) !important;\r\n            gap: 20px !important;\r\n          }\r\n        }\r\n        \r\n        @media (max-width: 768px) {\r\n          .filter-buttons {\r\n            justify-content: flex-start !important;\r\n            overflow-x: auto !important;\r\n            padding-bottom: 8px !important;\r\n          }\r\n          \r\n          .filter-buttons::-webkit-scrollbar {\r\n            height: 4px;\r\n          }\r\n          \r\n          .filter-buttons::-webkit-scrollbar-track {\r\n            background: rgba(45,90,61,0.1);\r\n            border-radius: 2px;\r\n          }\r\n          \r\n          .filter-buttons::-webkit-scrollbar-thumb {\r\n            background: rgba(45,90,61,0.3);\r\n            border-radius: 2px;\r\n          }\r\n          \r\n          .modal-content {\r\n            margin: 10px !important;\r\n            max-height: 85vh !important;\r\n          }\r\n          \r\n\r\n\r\n\r\n          \r\n          .modal-header {\r\n            flex-direction: column !important;\r\n            text-align: center !important;\r\n            gap: 16px !important;\r\n          }\r\n          \r\n          .modal-header img {\r\n            width: 80px !important;\r\n            height: 100px !important;\r\n          }\r\n          \r\n          .modal-body {\r\n            padding: 20px !important;\r\n          }\r\n        }\r\n        \r\n        @media (max-width: 480px) {\r\n          .team-grid {\r\n            grid-template-columns: 1fr !important;\r\n            gap: 16px !important;\r\n          }\r\n          \r\n          .card {\r\n            padding: 16px !important;\r\n          }\r\n          \r\n          .card img {\r\n            width: 100px !important;\r\n            height: 120px !important;\r\n          }\r\n        }\r\n        \r\n        /* Smooth scrolling for filter buttons on mobile */\r\n        .filter-buttons {\r\n          scrollbar-width: thin;\r\n          scrollbar-color: rgba(45,90,61,0.3) rgba(45,90,61,0.1);\r\n        }\r\n        \r\n        /* Enhanced focus states for accessibility */\r\n        button:focus-visible {\r\n          outline: 2px solid #2d5a3d;\r\n          outline-offset: 2px;\r\n        }\r\n        \r\n        /* Smooth scrolling for modal */\r\n        .modal-content {\r\n          scroll-behavior: smooth;\r\n        }\r\n        \r\n        /* Custom scrollbar for modal */\r\n        .modal-content::-webkit-scrollbar {\r\n          width: 6px;\r\n        }\r\n        \r\n        .modal-content::-webkit-scrollbar-track {\r\n          background: rgba(45,90,61,0.05);\r\n          border-radius: 3px;\r\n        }\r\n        \r\n        .modal-content::-webkit-scrollbar-thumb {\r\n          background: rgba(45,90,61,0.2);\r\n          border-radius: 3px;\r\n        }\r\n        \r\n        .modal-content::-webkit-scrollbar-thumb:hover {\r\n          background: rgba(45,90,61,0.3);\r\n        }\r\n        \r\n        @keyframes spin {\r\n          0% { transform: rotate(0deg); }\r\n          100% { transform: rotate(360deg); }\r\n        }\r\n      `}</style>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default TeamSection;","import React, { useState, useEffect } from 'react';\r\nimport { motion } from 'framer-motion';\r\nimport { useTheme } from '../../theme';\r\n\r\nconst MissionVision = () => {\r\n  const [visibleCards, setVisibleCards] = useState([]);\r\n  const [hoveredCard, setHoveredCard] = useState(null);\r\n  const [mousePosition, setMousePosition] = useState({ x: 0, y: 0 });\r\n  const { colors, isDarkMode } = useTheme();\r\n\r\n  useEffect(() => {\r\n    const timer1 = setTimeout(() => {\r\n      setVisibleCards(prev => [...prev, 'vision']);\r\n    }, 400);\r\n\r\n    const timer2 = setTimeout(() => {\r\n      setVisibleCards(prev => [...prev, 'mission']);\r\n    }, 700);\r\n\r\n    return () => {\r\n      clearTimeout(timer1);\r\n      clearTimeout(timer2);\r\n    };\r\n  }, []);\r\n\r\n  const handleCardHover = (cardType, isHovering) => {\r\n    setHoveredCard(isHovering ? cardType : null);\r\n  };\r\n\r\n  const handleMouseMove = (e, cardType) => {\r\n    if (hoveredCard === cardType) {\r\n      const rect = e.currentTarget.getBoundingClientRect();\r\n      const x = ((e.clientX - rect.left) / rect.width) * 100;\r\n      const y = ((e.clientY - rect.top) / rect.height) * 100;\r\n      setMousePosition({ x, y });\r\n    }\r\n  };\r\n\r\n  const cardStyles = {\r\n    borderRadius: '16px',\r\n    position: 'relative',\r\n    transition: 'all 0.7s cubic-bezier(0.16, 1, 0.3, 1)',\r\n    overflow: 'hidden',\r\n    cursor: 'pointer',\r\n    height: '520px',\r\n    backgroundColor: colors.surface,\r\n    boxShadow: `0 8px 32px ${colors.cardShadow}`,\r\n  };\r\n\r\n  const mobileCardStyles = {\r\n    ...cardStyles,\r\n    height: '480px',\r\n  };\r\n\r\n  return (\r\n    <div\r\n      style={{\r\n        padding: '80px 20px',\r\n        minHeight: '100vh',\r\n        fontFamily: '\"SF Pro Display\", -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, sans-serif',\r\n        background: isDarkMode \r\n          ? `linear-gradient(180deg, ${colors.background} 0%, ${colors.backgroundSecondary} 100%)`\r\n          : `linear-gradient(180deg, ${colors.backgroundSecondary} 0%, ${colors.background} 100%)`,\r\n        position: 'relative'\r\n      }}\r\n    >\r\n\r\n\r\n      {/* Title section */}\r\n      <div\r\n        style={{\r\n          maxWidth: '1100px',\r\n          margin: '0 auto 80px auto',\r\n          textAlign: 'center'\r\n        }}\r\n      >\r\n        \r\n        <motion.h1\r\n          initial={{ opacity: 0, y: 30 }}\r\n          whileInView={{ opacity: 1, y: 0 }}\r\n          viewport={{ margin: '-50px' }}\r\n          transition={{ duration: 0.6 }}\r\n          style={{\r\n              fontSize: 'clamp(36px, 5vw, 56px)',\r\n      fontWeight: 600,\r\n      color: isDarkMode ? colors.text : colors.primary,\r\n      lineHeight: '1.1',\r\n      marginBottom: '24px',\r\n      letterSpacing: '-0.02em',\r\n      fontFamily: '\"Nunito Sans\", sans-serif',\r\n          }}\r\n        >\r\n          Mission & Vision\r\n        </motion.h1>\r\n        \r\n        <motion.div\r\n          initial={{ scaleX: 0 }}\r\n          whileInView={{ scaleX: 1 }}\r\n          viewport={{ margin: '-50px' }}\r\n          transition={{ duration: 0.8 }}\r\n          style={{\r\n            width: '60px',\r\n            height: '2px',\r\n            background: `linear-gradient(90deg, ${colors.secondary} 0%, ${colors.secondaryLight} 100%)`,\r\n            margin: '0 auto 24px auto',\r\n            borderRadius: '1px',\r\n            transformOrigin: 'center'\r\n          }}\r\n        />\r\n\r\n        <motion.p\r\n          initial={{ opacity: 0, y: 20 }}\r\n          whileInView={{ opacity: 1, y: 0 }}\r\n          viewport={{ margin: '-50px' }}\r\n          transition={{ duration: 0.6, delay: 0.2 }}\r\n          style={{\r\n            fontSize: '16px',\r\n            color: colors.textSecondary,\r\n            margin: '0',\r\n            letterSpacing: '0.5px',\r\n            fontWeight: 400,\r\n            opacity: 0.9\r\n          }}\r\n        >\r\n          Guided by Purpose  Driven by Impact\r\n        </motion.p>\r\n      </div>\r\n\r\n\r\n\r\n\r\n\r\n      {/* Cards grid */}\r\n      <div\r\n        style={{\r\n          display: 'grid',\r\n          gridTemplateColumns: 'repeat(auto-fit, minmax(min(400px, 100%), 1fr))',\r\n          gap: 'clamp(24px, 5vw, 48px)',\r\n          maxWidth: '1100px',\r\n          margin: '0 auto',\r\n          padding: '0 clamp(16px, 4vw, 0px)'\r\n        }}\r\n      >\r\n        {/* Vision Card */}\r\n        <motion.div\r\n          initial={{ opacity: 0, y: 30 }}\r\n          whileInView={{ opacity: 1, y: 0 }}\r\n          viewport={{ margin: '-50px' }}\r\n          transition={{ duration: 0.6, delay: 0.1 }}\r\n          style={{\r\n            ...window.innerWidth <= 768 ? mobileCardStyles : cardStyles,\r\n            boxShadow: visibleCards.includes('vision') \r\n              ? (hoveredCard === 'vision' \r\n                ? `0 20px 40px ${colors.cardShadow}, 0 8px 16px ${colors.cardShadow}` \r\n                : `0 12px 24px ${colors.cardShadow}`)\r\n              : `0 6px 16px ${colors.cardShadow}`,\r\n            transform: visibleCards.includes('vision') \r\n              ? (hoveredCard === 'vision' ? 'translateY(-8px)' : 'translateY(0)')\r\n              : 'translateY(32px)',\r\n          }}\r\n          onMouseEnter={() => handleCardHover('vision', true)}\r\n          onMouseLeave={() => handleCardHover('vision', false)}\r\n          onMouseMove={(e) => handleMouseMove(e, 'vision')}\r\n        >\r\n          {/* Image section */}\r\n          <div\r\n            style={{\r\n              position: 'relative',\r\n              height: window.innerWidth <= 768 ? '240px' : '280px',\r\n              overflow: 'hidden',\r\n              borderRadius: '16px 16px 0 0'\r\n            }}\r\n          >\r\n            <div\r\n              style={{\r\n                position: 'absolute',\r\n                top: 0,\r\n                left: 0,\r\n                right: 0,\r\n                bottom: 0,\r\n                backgroundImage: 'url(\"/yellowlady.avif\")',\r\n                backgroundSize: 'cover',\r\n                backgroundPosition: 'center',\r\n                transition: 'all 0.8s ease',\r\n                transform: hoveredCard === 'vision' ? 'scale(1.08)' : 'scale(1.04)',\r\n                filter: isDarkMode \r\n                  ? 'brightness(0.8) contrast(1.2) saturate(1.1)' \r\n                  : 'brightness(0.85) contrast(1.15) saturate(1.1)'\r\n              }}\r\n            />\r\n            \r\n            {/* Color overlay */}\r\n            <div\r\n              style={{\r\n                position: 'absolute',\r\n                top: 0,\r\n                left: 0,\r\n                right: 0,\r\n                bottom: 0,\r\n                background: `\r\n                  linear-gradient(180deg, \r\n                    rgba(255, 215, 0, 0.05) 0%,\r\n                    rgba(255, 193, 7, 0.1) 20%,\r\n                    rgba(218, 165, 32, 0.25) 50%,\r\n                    rgba(184, 134, 11, 0.5) 75%,\r\n                    rgba(148, 111, 9, 0.75) 90%,\r\n                    ${colors.secondary} 100%\r\n                  )\r\n                `,\r\n                transition: 'opacity 0.6s ease',\r\n                opacity: hoveredCard === 'vision' ? 0.9 : 1\r\n              }}\r\n            />\r\n\r\n            {/* Title overlay */}\r\n            <div\r\n              style={{\r\n                position: 'absolute',\r\n                top: '50%',\r\n                left: 'clamp(16px, 4vw, 32px)',\r\n                color: colors.white,\r\n                fontSize: 'clamp(28px, 5vw, 36px)',\r\n                fontWeight: 600,\r\n                letterSpacing: '-0.02em',\r\n                textShadow: '0 4px 20px rgba(0,0,0,0.7), 0 2px 8px rgba(0,0,0,0.5)',\r\n                transition: 'all 0.6s ease',\r\n                opacity: hoveredCard === 'vision' ? 1 : 0.95,\r\n                transform: hoveredCard === 'vision' \r\n                  ? 'translateY(-50%) translateX(8px)' \r\n                  : 'translateY(-50%)'\r\n              }}\r\n            >\r\n              Vision\r\n            </div>\r\n          </div>\r\n\r\n          {/* Content area */}\r\n          <div\r\n            style={{\r\n              padding: 'clamp(24px, 5vw, 40px) clamp(16px, 4vw, 28px)',\r\n              background: colors.secondary,\r\n              borderRadius: '0 0 16px 16px',\r\n              position: 'relative',\r\n              height: `calc(100% - ${window.innerWidth <= 768 ? '240px' : '280px'})`,\r\n              display: 'flex',\r\n              alignItems: 'center'\r\n            }}\r\n          >\r\n            <p\r\n              style={{\r\n                fontSize: 'clamp(14px, 2.5vw, 16px)',\r\n                lineHeight: '1.7',\r\n                color: 'rgba(44, 36, 22, 0.95)',\r\n                margin: '0',\r\n                fontWeight: 400,\r\n                transition: 'all 0.4s ease',\r\n                opacity: hoveredCard === 'vision' ? 1 : 0.92\r\n              }}\r\n            >\r\n              A resilient Africa where empowered youth lead innovative solutions for climate action,\r\n              environmental protection, and sustainable development  ensuring a future free from hunger and poverty.\r\n            </p>\r\n\r\n            {/* Smooth bottom fade */}\r\n            <div\r\n              style={{\r\n                position: 'absolute',\r\n                bottom: 0,\r\n                left: 0,\r\n                right: 0,\r\n                height: '24px',\r\n                background: `linear-gradient(to bottom, \r\n                  transparent 0%, \r\n                  rgba(212, 175, 55, 0.3) 40%, \r\n                  rgba(212, 175, 55, 0.6) 70%,\r\n                  rgba(212, 175, 55, 0.8) 85%,\r\n                  rgba(212, 175, 55, 0.95) 100%\r\n                )`,\r\n                borderRadius: '0 0 16px 16px',\r\n                pointerEvents: 'none'\r\n              }}\r\n            />\r\n          </div>\r\n\r\n          {/* Interactive highlight */}\r\n          <div\r\n            style={{\r\n              position: 'absolute',\r\n              top: 0,\r\n              left: 0,\r\n              right: 0,\r\n              bottom: 0,\r\n              background: hoveredCard === 'vision' \r\n                ? `radial-gradient(circle at ${mousePosition.x}% ${mousePosition.y}%, rgba(255,215,0,0.08) 0%, transparent 60%)`\r\n                : 'transparent',\r\n              transition: 'opacity 0.4s ease',\r\n              opacity: hoveredCard === 'vision' ? 1 : 0,\r\n              pointerEvents: 'none',\r\n              borderRadius: '16px'\r\n            }}\r\n          />\r\n        </motion.div>\r\n\r\n        {/* Mission Card */}\r\n        <motion.div\r\n          initial={{ opacity: 0, y: 30 }}\r\n          whileInView={{ opacity: 1, y: 0 }}\r\n          viewport={{ margin: '-50px' }}\r\n          transition={{ duration: 0.6, delay: 0.3 }}\r\n          style={{\r\n            ...window.innerWidth <= 768 ? mobileCardStyles : cardStyles,\r\n            boxShadow: visibleCards.includes('mission') \r\n              ? (hoveredCard === 'mission' \r\n                ? `0 20px 40px ${colors.cardShadow}, 0 8px 16px ${colors.cardShadow}` \r\n                : `0 12px 24px ${colors.cardShadow}`)\r\n              : `0 6px 16px ${colors.cardShadow}`,\r\n            transform: visibleCards.includes('mission') \r\n              ? (hoveredCard === 'mission' ? 'translateY(-8px)' : 'translateY(0)')\r\n              : 'translateY(32px)',\r\n          }}\r\n          onMouseEnter={() => handleCardHover('mission', true)}\r\n          onMouseLeave={() => handleCardHover('mission', false)}\r\n          onMouseMove={(e) => handleMouseMove(e, 'mission')}\r\n        >\r\n          {/* Image section */}\r\n          <div\r\n            style={{\r\n              position: 'relative',\r\n              height: window.innerWidth <= 768 ? '240px' : '280px',\r\n              overflow: 'hidden',\r\n              borderRadius: '16px 16px 0 0'\r\n            }}\r\n          >\r\n            <div\r\n              style={{\r\n                position: 'absolute',\r\n                top: 0,\r\n                left: 0,\r\n                right: 0,\r\n                bottom: 0,\r\n                backgroundImage: 'url(\"/africafruits.avif\")',\r\n                backgroundSize: 'cover',\r\n                backgroundPosition: 'center 30%',\r\n                transition: 'all 0.8s ease',\r\n                transform: hoveredCard === 'mission' ? 'scale(1.18)' : 'scale(1.15)',\r\n                filter: isDarkMode \r\n                  ? 'brightness(0.8) contrast(1.2) saturate(1.1)' \r\n                  : 'brightness(0.85) contrast(1.15) saturate(1.1)'\r\n              }}\r\n            />\r\n            \r\n            {/* Color overlay */}\r\n            <div\r\n              style={{\r\n                position: 'absolute',\r\n                top: 0,\r\n                left: 0,\r\n                right: 0,\r\n                bottom: 0,\r\n                background: `\r\n                  linear-gradient(180deg, \r\n                    rgba(34, 139, 34, 0.05) 0%,\r\n                    rgba(56, 142, 60, 0.1) 20%,\r\n                    rgba(46, 125, 50, 0.25) 50%,\r\n                    rgba(39, 108, 42, 0.5) 75%,\r\n                    rgba(33, 91, 36, 0.75) 90%,\r\n                    ${colors.primary} 100%\r\n                  )\r\n                `,\r\n                transition: 'opacity 0.6s ease',\r\n                opacity: hoveredCard === 'mission' ? 0.9 : 1\r\n              }}\r\n            />\r\n\r\n            {/* Title overlay */}\r\n            <div\r\n              style={{\r\n                position: 'absolute',\r\n                top: '50%',\r\n                left: 'clamp(16px, 4vw, 32px)',\r\n                color: colors.white,\r\n                fontSize: 'clamp(28px, 5vw, 36px)',\r\n                fontWeight: 600,\r\n                letterSpacing: '-0.02em',\r\n                textShadow: '0 4px 20px rgba(0,0,0,0.7), 0 2px 8px rgba(0,0,0,0.5)',\r\n                transition: 'all 0.6s ease',\r\n                opacity: hoveredCard === 'mission' ? 1 : 0.95,\r\n                transform: hoveredCard === 'mission' \r\n                  ? 'translateY(-50%) translateX(8px)' \r\n                  : 'translateY(-50%)'\r\n              }}\r\n            >\r\n              Mission\r\n            </div>\r\n          </div>\r\n\r\n          {/* Content area */}\r\n          <div\r\n            style={{\r\n              padding: 'clamp(24px, 5vw, 40px) clamp(16px, 4vw, 28px)',\r\n              background: colors.primary,\r\n              borderRadius: '0 0 16px 16px',\r\n              position: 'relative',\r\n              height: `calc(100% - ${window.innerWidth <= 768 ? '240px' : '280px'})`,\r\n              display: 'flex',\r\n              alignItems: 'center'\r\n            }}\r\n          >\r\n            <p\r\n              style={{\r\n                fontSize: 'clamp(14px, 2.5vw, 16px)',\r\n                lineHeight: '1.7',\r\n                color: 'rgba(232, 245, 232, 0.95)',\r\n                margin: '0',\r\n                fontWeight: 400,\r\n                transition: 'all 0.4s ease',\r\n                opacity: hoveredCard === 'mission' ? 1 : 0.92\r\n              }}\r\n            >\r\n              To mobilize and empower African youth to actively participate in the Climate, Environment,\r\n              and Sustainable Development agenda, bridging the hunger and poverty gap, mitigating climate\r\n              change, protecting the environment, and conserving natural resources in Africa.\r\n            </p>\r\n\r\n            {/* Smooth bottom fade */}\r\n            <div\r\n              style={{\r\n                position: 'absolute',\r\n                bottom: 0,\r\n                left: 0,\r\n                right: 0,\r\n                height: '24px',\r\n                background: `linear-gradient(to bottom, \r\n                  transparent 0%, \r\n                  rgba(10, 69, 28, 0.3) 40%, \r\n                  rgba(10, 69, 28, 0.6) 70%,\r\n                  rgba(10, 69, 28, 0.8) 85%,\r\n                  rgba(10, 69, 28, 0.95) 100%\r\n                )`,\r\n                borderRadius: '0 0 16px 16px',\r\n                pointerEvents: 'none'\r\n              }}\r\n            />\r\n          </div>\r\n\r\n          {/* Interactive highlight */}\r\n          <div\r\n            style={{\r\n              position: 'absolute',\r\n              top: 0,\r\n              left: 0,\r\n              right: 0,\r\n              bottom: 0,\r\n              background: hoveredCard === 'mission' \r\n                ? `radial-gradient(circle at ${mousePosition.x}% ${mousePosition.y}%, rgba(76,175,80,0.08) 0%, transparent 60%)`\r\n                : 'transparent',\r\n              transition: 'opacity 0.4s ease',\r\n              opacity: hoveredCard === 'mission' ? 1 : 0,\r\n              pointerEvents: 'none',\r\n              borderRadius: '16px'\r\n            }}\r\n          />\r\n        </motion.div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MissionVision;","import React, { useState } from 'react';\r\nimport { motion } from 'framer-motion';\r\nimport { useTheme } from '../../theme';\r\n\r\nconst CoreValues = () => {\r\n  const [hoveredIndex, setHoveredIndex] = useState(null);\r\n  const { colors, isDarkMode } = useTheme();\r\n\r\n  const values = [\r\n    {\r\n      title: \"We are youth-centered.\",\r\n      subtitle: \"Centering young people as agents of change.\",\r\n      backgroundColor: colors.accentLight,\r\n      textColor: colors.primaryDark\r\n    },\r\n    {\r\n      title: \"We are innovative.\",\r\n      subtitle: \" Fostering creative and context-specific solutions\",\r\n      backgroundColor: colors.secondaryLight,\r\n      textColor: colors.primaryDark\r\n    },\r\n    {\r\n      title: \"We are collaborative.\",\r\n      subtitle: \"Building strong partnerships with diverse stakeholders\",\r\n      backgroundColor: colors.accent,\r\n      textColor: colors.primaryDark\r\n    },\r\n    {\r\n      title: \"We are impact-driven.\",\r\n      subtitle: \"Driving measurable and sustainable positive change.\",\r\n      backgroundColor: colors.primaryLight,\r\n      textColor: colors.white\r\n    },\r\n    {\r\n      title: \"We are transparent.\",\r\n      subtitle: \"Operating with transparency, accountability, and ethical principles.\",\r\n      backgroundColor: colors.accentDark,\r\n      textColor: colors.white\r\n    },\r\n    {\r\n      title: \"We are inclusive.\",\r\n      subtitle: \"Ensuring equitable participation and benefits for all, especially marginalized groups.\",\r\n      backgroundColor: colors.secondaryDark,\r\n      textColor: colors.primaryDark\r\n    }\r\n  ];\r\n\r\n  const containerStyle = {\r\n    backgroundColor: colors.background,\r\n    padding: '32px 48px', // Increased left/right margins from 16px to 48px\r\n    fontFamily: '\"Nunito Sans\", \"Helvetica Neue\", Helvetica, Arial, sans-serif'\r\n  };\r\n\r\n  const wrapperStyle = {\r\n    maxWidth: '1200px', // Slightly reduced to work better with increased margins\r\n    margin: '0 auto',\r\n    padding: '0 24px' // Added internal padding for better spacing\r\n  };\r\n\r\n  const headerStyle = {\r\n    marginBottom: '32px' // Reduced from 64px\r\n  };\r\n\r\n  const titleStyle = {\r\n    fontSize: 'clamp(2rem, 4vw, 2.5rem)', // Reduced from clamp(3rem, 6vw, 4rem)\r\n    fontWeight: 300,\r\n    marginBottom: '8px', // Reduced from 16px\r\n    color: colors.text,\r\n    lineHeight: 1.2\r\n  };\r\n\r\n  const getCardStyle = (index, backgroundColor) => {\r\n    const baseStyle = {\r\n      position: 'relative',\r\n      overflow: 'hidden',\r\n      cursor: 'pointer',\r\n      transition: 'transform 0.3s ease',\r\n      backgroundColor,\r\n      borderRadius: '0px',\r\n      transform: hoveredIndex === index ? 'scale(1.02)' : 'scale(1)',\r\n      display: 'flex',\r\n      flexDirection: 'column'\r\n    };\r\n\r\n    // Mobile and tablet styles\r\n    if (window.innerWidth < 1024) {\r\n      return {\r\n        ...baseStyle,\r\n        minHeight: '180px', // Reduced from 200px\r\n        marginBottom: '12px' // Reduced from 16px\r\n      };\r\n    }\r\n\r\n    // Desktop grid positioning\r\n    const gridStyles = {\r\n      0: { gridArea: '1 / 1 / 3 / 2' }, // Tall left\r\n      1: { gridArea: '1 / 2 / 2 / 3' }, // Top middle-left\r\n      2: { gridArea: '1 / 3 / 3 / 4' }, // Tall center\r\n      3: { gridArea: '1 / 4 / 3 / 5' }, // Tall middle-right\r\n      4: { gridArea: '1 / 5 / 3 / 6' }, // Tall right\r\n      5: { gridArea: '2 / 2 / 3 / 3' }  // Bottom middle-left\r\n    };\r\n\r\n    return {\r\n      ...baseStyle,\r\n      ...gridStyles[index],\r\n      minHeight: index === 1 || index === 5 ? '160px' : '320px' // Reduced heights\r\n    };\r\n  };\r\n\r\n  const cardContentStyle = {\r\n    padding: '24px 20px', // Reduced from 32px 24px\r\n    height: '100%',\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    justifyContent: 'space-between',\r\n    position: 'relative',\r\n    zIndex: 10\r\n  };\r\n\r\n  const cardTitleStyle = (textColor) => ({\r\n    fontSize: 'clamp(1.125rem, 2.2vw, 1.375rem)', // Slightly reduced\r\n    fontWeight: 500,\r\n    marginBottom: '6px', // Reduced from 8px\r\n    color: textColor,\r\n    lineHeight: 1.3\r\n  });\r\n\r\n  const cardSubtitleStyle = (textColor) => ({\r\n    fontSize: '0.8rem', // Slightly reduced from 0.875rem\r\n    fontWeight: 500,\r\n    color: textColor,\r\n    opacity: 0.8,\r\n    lineHeight: 1.4\r\n  });\r\n\r\n  const svgStyle = {\r\n    position: 'absolute',\r\n    width: '100%',\r\n    pointerEvents: 'none'\r\n  };\r\n\r\n  const bottomSectionStyle = {\r\n    marginTop: '32px', // Reduced from 64px\r\n    maxWidth: '768px'\r\n  };\r\n\r\n  const descriptionStyle = {\r\n    fontSize: '1rem', // Reduced from 1.125rem\r\n    lineHeight: 1.6,\r\n    color: colors.text\r\n  };\r\n\r\n  const getGridStyle = () => {\r\n    if (window.innerWidth >= 1024) {\r\n      return {\r\n        display: 'grid',\r\n        gridTemplateColumns: 'repeat(5, 1fr)',\r\n        gridTemplateRows: 'repeat(2, 1fr)',\r\n        gap: '12px', // Reduced from 16px\r\n        marginBottom: '32px', // Reduced from 64px\r\n        height: '360px' // Reduced from 400px\r\n      };\r\n    } else if (window.innerWidth >= 768) {\r\n      return {\r\n        display: 'grid',\r\n        gridTemplateColumns: 'repeat(2, 1fr)',\r\n        gap: '12px', // Reduced from 16px\r\n        marginBottom: '32px', // Reduced from 64px\r\n        gridAutoRows: 'minmax(180px, auto)' // Reduced from 200px\r\n      };\r\n    } else {\r\n      return {\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        gap: '12px', // Reduced from 16px\r\n        marginBottom: '32px' // Reduced from 64px\r\n      };\r\n    }\r\n  };\r\n\r\n  // Animation variants\r\n  const containerVariants = {\r\n    hidden: { opacity: 0 },\r\n    visible: {\r\n      opacity: 1,\r\n      transition: {\r\n        staggerChildren: 0.1,\r\n        delayChildren: 0.3\r\n      }\r\n    }\r\n  };\r\n\r\n  const cardVariants = {\r\n    hidden: { \r\n      opacity: 0, \r\n      y: 50,\r\n      scale: 0.9\r\n    },\r\n    visible: { \r\n      opacity: 1, \r\n      y: 0,\r\n      scale: 1,\r\n      transition: {\r\n        duration: 0.6,\r\n        ease: [0.4, 0, 0.2, 1]\r\n      }\r\n    }\r\n  };\r\n\r\n  const titleVariants = {\r\n    hidden: { opacity: 0, y: 30 },\r\n    visible: {\r\n      opacity: 1,\r\n      y: 0,\r\n      transition: {\r\n        duration: 0.8,\r\n        ease: [0.4, 0, 0.2, 1]\r\n      }\r\n    }\r\n  };\r\n\r\n  const descriptionVariants = {\r\n    hidden: { opacity: 0, y: 30 },\r\n    visible: {\r\n      opacity: 1,\r\n      y: 0,\r\n      transition: {\r\n        duration: 0.6,\r\n        delay: 0.8,\r\n        ease: [0.4, 0, 0.2, 1]\r\n      }\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div style={containerStyle}>\r\n      <div style={wrapperStyle}>\r\n        \r\n        {/* Header Section */}\r\n        <div style={headerStyle}>\r\n          <motion.h1 \r\n            style={titleStyle}\r\n            variants={titleVariants}\r\n            initial=\"hidden\"\r\n            whileInView=\"visible\"\r\n            viewport={{ once: false, margin: '-100px' }}\r\n          >\r\n            We are transformative because...\r\n          </motion.h1>\r\n        </div>\r\n\r\n        {/* Values Grid */}\r\n        <motion.div \r\n          style={getGridStyle()}\r\n          variants={containerVariants}\r\n          initial=\"hidden\"\r\n          whileInView=\"visible\"\r\n          viewport={{ once: false, margin: '-100px' }}\r\n        >\r\n          \r\n          {values.map((value, index) => (\r\n            <motion.div \r\n              key={index}\r\n              style={getCardStyle(index, value.backgroundColor)}\r\n              variants={cardVariants}\r\n              whileHover={{ \r\n                scale: hoveredIndex === index ? 1.02 : 1.01,\r\n                transition: { duration: 0.2 }\r\n              }}\r\n              onMouseEnter={() => setHoveredIndex(index)}\r\n              onMouseLeave={() => setHoveredIndex(null)}\r\n            >\r\n              {/* Flowing curves for specific cards */}\r\n              {index === 0 && (\r\n                <motion.svg \r\n                  style={{...svgStyle, bottom: 0, left: 0, height: '96px'}} \r\n                  viewBox=\"0 0 200 100\" \r\n                  preserveAspectRatio=\"none\"\r\n                  initial={{ pathLength: 0, opacity: 0 }}\r\n                  whileInView={{ pathLength: 1, opacity: 0.3 }}\r\n                  transition={{ duration: 1.5, delay: 0.5 }}\r\n                  viewport={{ once: false }}\r\n                >\r\n                  <motion.path \r\n                    d=\"M0,100 C50,20 150,80 200,40 L200,100 Z\" \r\n                    fill={colors.primary} \r\n                    fillOpacity=\"0.3\"\r\n                  />\r\n                </motion.svg>\r\n              )}\r\n              \r\n              {index === 2 && (\r\n                <motion.svg \r\n                  style={{...svgStyle, top: 0, right: 0, height: '128px'}} \r\n                  viewBox=\"0 0 200 100\" \r\n                  preserveAspectRatio=\"none\"\r\n                  initial={{ pathLength: 0, opacity: 0 }}\r\n                  whileInView={{ pathLength: 1, opacity: 0.3 }}\r\n                  transition={{ duration: 1.5, delay: 0.7 }}\r\n                  viewport={{ once: false }}\r\n                >\r\n                  <motion.path \r\n                    d=\"M200,0 C150,40 50,10 0,30 L0,0 Z\" \r\n                    fill={colors.secondary} \r\n                    fillOpacity=\"0.3\"\r\n                  />\r\n                </motion.svg>\r\n              )}\r\n              \r\n              {index === 3 && (\r\n                <motion.svg \r\n                  style={{...svgStyle, bottom: 0, right: 0, height: '112px'}} \r\n                  viewBox=\"0 0 200 100\" \r\n                  preserveAspectRatio=\"none\"\r\n                  initial={{ pathLength: 0, opacity: 0 }}\r\n                  whileInView={{ pathLength: 1, opacity: 0.3 }}\r\n                  transition={{ duration: 1.5, delay: 0.9 }}\r\n                  viewport={{ once: false }}\r\n                >\r\n                  <motion.path \r\n                    d=\"M200,100 C100,30 80,70 0,20 L0,100 Z\" \r\n                    fill={colors.accent} \r\n                    fillOpacity=\"0.3\"\r\n                  />\r\n                </motion.svg>\r\n              )}\r\n              \r\n              {index === 4 && (\r\n                <motion.svg \r\n                  style={{...svgStyle, top: '33%', left: 0, height: '80px'}} \r\n                  viewBox=\"0 0 200 100\" \r\n                  preserveAspectRatio=\"none\"\r\n                  initial={{ pathLength: 0, opacity: 0 }}\r\n                  whileInView={{ pathLength: 1, opacity: 0.3 }}\r\n                  transition={{ duration: 1.5, delay: 1.1 }}\r\n                  viewport={{ once: false }}\r\n                >\r\n                  <motion.path \r\n                    d=\"M0,50 C80,10 120,90 200,30 L200,100 L0,100 Z\" \r\n                    fill={colors.primaryLight} \r\n                    fillOpacity=\"0.3\"\r\n                  />\r\n                </motion.svg>\r\n              )}\r\n              \r\n              {index === 5 && (\r\n                <motion.svg \r\n                  style={{...svgStyle, top: 0, left: 0, height: '96px'}} \r\n                  viewBox=\"0 0 200 100\" \r\n                  preserveAspectRatio=\"none\"\r\n                  initial={{ pathLength: 0, opacity: 0 }}\r\n                  whileInView={{ pathLength: 1, opacity: 0.3 }}\r\n                  transition={{ duration: 1.5, delay: 1.3 }}\r\n                  viewport={{ once: false }}\r\n                >\r\n                  <motion.path \r\n                    d=\"M0,0 C70,60 130,20 200,50 L200,0 Z\" \r\n                    fill={colors.accentDark} \r\n                    fillOpacity=\"0.3\"\r\n                  />\r\n                </motion.svg>\r\n              )}\r\n              \r\n              <div style={cardContentStyle}>\r\n                <motion.div\r\n                  initial={{ opacity: 0, y: 20 }}\r\n                  whileInView={{ opacity: 1, y: 0 }}\r\n                  transition={{ duration: 0.5, delay: index * 0.1 + 0.6 }}\r\n                  viewport={{ once: false }}\r\n                >\r\n                  <h2 style={cardTitleStyle(value.textColor)}>\r\n                    {value.title}\r\n                  </h2>\r\n                </motion.div>\r\n                <motion.div\r\n                  initial={{ opacity: 0, y: 20 }}\r\n                  whileInView={{ opacity: 1, y: 0 }}\r\n                  transition={{ duration: 0.5, delay: index * 0.1 + 0.8 }}\r\n                  viewport={{ once: false }}\r\n                >\r\n                  <p style={cardSubtitleStyle(value.textColor)}>\r\n                    {value.subtitle}\r\n                  </p>\r\n                </motion.div>\r\n              </div>\r\n            </motion.div>\r\n          ))}\r\n\r\n        </motion.div>\r\n\r\n        {/* Bottom Section */}\r\n        <div style={bottomSectionStyle}>\r\n          <motion.p \r\n            style={descriptionStyle}\r\n            variants={descriptionVariants}\r\n            initial=\"hidden\"\r\n            whileInView=\"visible\"\r\n            viewport={{ once: false, margin: '-100px' }}\r\n          >\r\n            Our core values guide every decision we make, every partnership we build, and every initiative we launch. \r\n            They represent our commitment to creating meaningful change through youth empowerment, innovation, and collaborative action.\r\n          </motion.p>\r\n        </div>\r\n\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CoreValues;","import React, { useState, useEffect, useRef } from \"react\";\r\nimport { Target, CheckCircle2, ArrowRight, ArrowLeft, Lightbulb, Handshake, BarChart3, Users, Globe } from 'lucide-react';\r\nimport { useTheme } from '../../theme';\r\n\r\nexport default function ObjectivesSection() {\r\n  const [scrollY, setScrollY] = useState(0);\r\n  const [isVisible, setIsVisible] = useState(false);\r\n  const [currentPage, setCurrentPage] = useState(0);\r\n  const [hoveredIndex, setHoveredIndex] = useState(null);\r\n  const sectionRef = useRef(null);\r\n  const { colors, isDarkMode } = useTheme();\r\n\r\n  const objectives = [\r\n    { id: 1, icon: Users, title: \"Economic Empowerment\", description: \"Promote economic empowerment and ensure meaningful participation of the community in poverty reduction\", category: \"Community\", color: colors.primary },\r\n    { id: 2, icon: Lightbulb, title: \"Education & Training\", description: \"Provide education and training in sustainable development and climate change through collaboration\", category: \"Capacity\", color: colors.info },\r\n    { id: 3, icon: BarChart3, title: \"Waste Management\", description: \"Promote effective solid waste management through proper dumping, sorting, and recycling initiatives\", category: \"Environment\", color: colors.accent },\r\n    { id: 4, icon: Globe, title: \"Water Conservation\", description: \"Empower community action on water conservation, quality management, and sanitation infrastructure\", category: \"Resources\", color: colors.secondary },\r\n    { id: 5, icon: Target, title: \"Innovation & Sustainability\", description: \"Develop innovations to eliminate harmful processes and utilize natural resources sustainably\", category: \"Innovation\", color: colors.primary },\r\n    { id: 6, icon: Handshake, title: \"Community Advocacy\", description: \"Campaign against traditions that hinder sustainable development and promote climate action\", category: \"Social\", color: colors.info },\r\n    { id: 7, icon: CheckCircle2, title: \"Environmental Protection\", description: \"Safeguard environmental protection rights through advocacy and community mobilization\", category: \"Advocacy\", color: colors.accent }\r\n  ];\r\n\r\n  const itemsPerPage = 3;\r\n  const totalPages = Math.ceil(objectives.length / itemsPerPage);\r\n\r\n  useEffect(() => {\r\n    const handleScroll = () => setScrollY(window.scrollY);\r\n    window.addEventListener('scroll', handleScroll, { passive: true });\r\n    return () => window.removeEventListener('scroll', handleScroll);\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    const observer = new IntersectionObserver(([entry]) => setIsVisible(entry.isIntersecting), { threshold: 0.3 });\r\n    if (sectionRef.current) observer.observe(sectionRef.current);\r\n    return () => observer.disconnect();\r\n  }, []);\r\n\r\n  //  Autoplay effect\r\n  useEffect(() => {\r\n    if (!isVisible) return; // only autoplay when section is visible\r\n    const interval = setInterval(() => {\r\n      setCurrentPage((prev) => (prev + 1) % totalPages);\r\n      setHoveredIndex(null);\r\n    }, 5000); // change every 5s\r\n    return () => clearInterval(interval);\r\n  }, [isVisible, totalPages]);\r\n\r\n  const getCurrentItems = () => {\r\n    const start = currentPage * itemsPerPage;\r\n    return objectives.slice(start, start + itemsPerPage);\r\n  };\r\n\r\n  const nextPage = () => {\r\n    setCurrentPage((prev) => (prev + 1) % totalPages);\r\n    setHoveredIndex(null);\r\n  };\r\n\r\n  const prevPage = () => {\r\n    setCurrentPage((prev) => (prev - 1 + totalPages) % totalPages);\r\n    setHoveredIndex(null);\r\n  };\r\n\r\n  return (\r\n    <section\r\n      ref={sectionRef}\r\n      style={{\r\n        fontFamily: '\"Inter\", sans-serif',\r\n        background: isDarkMode\r\n          ? `linear-gradient(180deg, ${colors.background} 0%, ${colors.backgroundSecondary} 100%)`\r\n          : `linear-gradient(180deg, ${colors.backgroundSecondary} 0%, ${colors.background} 100%)`,\r\n        padding: '50px 20px',\r\n        position: 'relative',\r\n        overflow: 'hidden'\r\n      }}\r\n    >\r\n      {/* Subtle background accent */}\r\n      <div style={{\r\n        position: 'absolute',\r\n        top: '50%',\r\n        right: '8%',\r\n        width: '1px',\r\n        height: '100px',\r\n        background: `linear-gradient(180deg, transparent, ${colors.accent}30, transparent)`,\r\n        transform: `translateY(-50%) translateY(${scrollY * -0.02}px)`\r\n      }}></div>\r\n\r\n      <div style={{ maxWidth: '1000px', margin: '0 auto', position: 'relative', zIndex: 2 }}>\r\n        \r\n        {/* Header */}\r\n        <div style={{\r\n          display: 'flex',\r\n          alignItems: 'center',\r\n          justifyContent: 'space-between',\r\n          marginBottom: '36px',\r\n          transform: isVisible ? 'translateY(0)' : 'translateY(20px)',\r\n          opacity: isVisible ? 1 : 0,\r\n          transition: 'all 0.6s ease'\r\n        }}>\r\n          <div>\r\n            <h2 style={{\r\n              fontSize: '1.6rem',\r\n              fontWeight: '700',\r\n              color: colors.text,\r\n              margin: '0 0 6px 0',\r\n              letterSpacing: '-0.01em'\r\n            }}>\r\n              Strategic Objectives\r\n            </h2>\r\n            <div style={{\r\n              width: '50px',\r\n              height: '3px',\r\n              background: `linear-gradient(90deg, ${colors.primary}, ${colors.accent})`,\r\n              borderRadius: '2px'\r\n            }}></div>\r\n          </div>\r\n          <div style={{\r\n            fontSize: '0.85rem',\r\n            color: colors.textSecondary,\r\n            fontWeight: '500',\r\n            fontFamily: 'monospace'\r\n          }}>\r\n            {String(currentPage + 1).padStart(2, '0')} / {String(totalPages).padStart(2, '0')}\r\n          </div>\r\n        </div>\r\n\r\n        {/* Objectives grid */}\r\n        <div style={{\r\n          display: 'grid',\r\n          gridTemplateColumns: 'repeat(auto-fit, minmax(240px, 1fr))',\r\n          gap: '20px',\r\n          marginBottom: '32px',\r\n          minHeight: '200px'\r\n        }}>\r\n          {getCurrentItems().map((objective, localIndex) => {\r\n            const globalIndex = currentPage * itemsPerPage + localIndex;\r\n            const isHovered = hoveredIndex === localIndex;\r\n\r\n            return (\r\n              <div\r\n                key={objective.id}\r\n                style={{\r\n                  backgroundColor: isDarkMode ? colors.surface : colors.white,\r\n                  border: `1px solid ${isHovered ? `${objective.color}60` : colors.border}`,\r\n                  borderRadius: '12px',\r\n                  padding: '22px 20px',\r\n                  position: 'relative',\r\n                  cursor: 'pointer',\r\n                  transform: isVisible ? (isHovered ? 'translateY(-4px)' : 'translateY(0)') : 'translateY(15px)',\r\n                  opacity: isVisible ? 1 : 0,\r\n                  transition: `all 0.4s cubic-bezier(0.4, 0, 0.2, 1) ${localIndex * 0.05}s`,\r\n                  boxShadow: isHovered\r\n                    ? `0 8px 25px ${objective.color}25`\r\n                    : isDarkMode\r\n                      ? '0 2px 6px rgba(0,0,0,0.6)'\r\n                      : '0 2px 8px rgba(0,0,0,0.08)',\r\n                  overflow: 'hidden'\r\n                }}\r\n                onMouseEnter={() => setHoveredIndex(localIndex)}\r\n                onMouseLeave={() => setHoveredIndex(null)}\r\n              >\r\n                {/* Accent line */}\r\n                <div style={{\r\n                  position: 'absolute',\r\n                  top: 0,\r\n                  left: 0,\r\n                  right: 0,\r\n                  height: '2px',\r\n                  background: objective.color,\r\n                  opacity: isHovered ? 1 : 0.4,\r\n                  transition: 'opacity 0.3s ease'\r\n                }}></div>\r\n\r\n                {/* Icon + number */}\r\n                <div style={{ display: 'flex', alignItems: 'center', justifyContent: 'space-between', marginBottom: '14px' }}>\r\n                  <div style={{\r\n                    width: '38px',\r\n                    height: '38px',\r\n                    backgroundColor: `${objective.color}15`,\r\n                    borderRadius: '8px',\r\n                    display: 'flex',\r\n                    alignItems: 'center',\r\n                    justifyContent: 'center',\r\n                    transition: 'all 0.3s ease',\r\n                    transform: isHovered ? 'scale(1.1)' : 'scale(1)'\r\n                  }}>\r\n                    <objective.icon size={20} style={{ color: objective.color }} />\r\n                  </div>\r\n                  <div style={{\r\n                    fontSize: '0.8rem',\r\n                    fontWeight: '600',\r\n                    color: colors.textSecondary,\r\n                    fontFamily: 'monospace'\r\n                  }}>\r\n                    {String(globalIndex + 1).padStart(2, '0')}\r\n                  </div>\r\n                </div>\r\n\r\n                {/* Category */}\r\n                <div style={{\r\n                  fontSize: '0.7rem',\r\n                  color: objective.color,\r\n                  backgroundColor: `${objective.color}15`,\r\n                  padding: '4px 10px',\r\n                  borderRadius: '12px',\r\n                  fontWeight: '600',\r\n                  display: 'inline-block',\r\n                  marginBottom: '10px'\r\n                }}>\r\n                  {objective.category}\r\n                </div>\r\n\r\n                {/* Title */}\r\n                <h3 style={{\r\n                  fontSize: '1rem',\r\n                  fontWeight: '600',\r\n                  color: colors.text,\r\n                  margin: '0 0 10px 0',\r\n                  lineHeight: '1.35'\r\n                }}>\r\n                  {objective.title}\r\n                </h3>\r\n\r\n                {/* Description */}\r\n                <p style={{\r\n                  fontSize: '0.9rem',\r\n                  lineHeight: '1.5',\r\n                  color: colors.textSecondary,\r\n                  margin: 0\r\n                }}>\r\n                  {objective.description}\r\n                </p>\r\n              </div>\r\n            );\r\n          })}\r\n        </div>\r\n\r\n        {/* Navigation */}\r\n        <div style={{ display: 'flex', alignItems: 'center', justifyContent: 'center', gap: '16px' }}>\r\n          <button\r\n            onClick={prevPage}\r\n            disabled={totalPages <= 1}\r\n            style={{\r\n              width: '38px',\r\n              height: '38px',\r\n              border: `1px solid ${colors.border}`,\r\n              background: isDarkMode ? colors.surface : colors.white,\r\n              borderRadius: '50%',\r\n              display: 'flex',\r\n              alignItems: 'center',\r\n              justifyContent: 'center',\r\n              cursor: totalPages <= 1 ? 'not-allowed' : 'pointer',\r\n              opacity: totalPages <= 1 ? 0.4 : 1\r\n            }}\r\n          >\r\n            <ArrowLeft size={18} style={{ color: colors.primary }} />\r\n          </button>\r\n\r\n          <div style={{ display: 'flex', gap: '6px' }}>\r\n            {Array.from({ length: totalPages }, (_, index) => (\r\n              <button\r\n                key={index}\r\n                onClick={() => { setCurrentPage(index); setHoveredIndex(null); }}\r\n                style={{\r\n                  width: index === currentPage ? '18px' : '7px',\r\n                  height: '7px',\r\n                  borderRadius: '4px',\r\n                  border: 'none',\r\n                  background: index === currentPage\r\n                    ? `linear-gradient(90deg, ${colors.primary}, ${colors.accent})`\r\n                    : colors.textSecondary,\r\n                  cursor: 'pointer',\r\n                  transition: 'all 0.3s ease'\r\n                }}\r\n              />\r\n            ))}\r\n          </div>\r\n\r\n          <button\r\n            onClick={nextPage}\r\n            disabled={totalPages <= 1}\r\n            style={{\r\n              width: '38px',\r\n              height: '38px',\r\n              border: `1px solid ${colors.border}`,\r\n              background: isDarkMode ? colors.surface : colors.white,\r\n              borderRadius: '50%',\r\n              display: 'flex',\r\n              alignItems: 'center',\r\n              justifyContent: 'center',\r\n              cursor: totalPages <= 1 ? 'not-allowed' : 'pointer',\r\n              opacity: totalPages <= 1 ? 0.4 : 1\r\n            }}\r\n          >\r\n            <ArrowRight size={18} style={{ color: colors.primary }} />\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\n","import React, { useState, useEffect } from 'react';\r\nimport { useTheme } from '../../theme';\r\n\r\nconst PublicHighlights = () => {\r\n  const [highlights, setHighlights] = useState({});\r\n  const [years, setYears] = useState([]);\r\n  const [currentYear, setCurrentYear] = useState(null);\r\n  const [currentSlideIndex, setCurrentSlideIndex] = useState(0);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState('');\r\n\r\n  const { colors, isDarkMode } = useTheme();\r\n\r\n  const API_URL = 'http://localhost:5000/api'; // Replace with your API URL\r\n  const STATIC_URL = 'http://localhost:5000'; // Replace with your static files URL\r\n\r\n  // Generate fallback image SVG\r\n  const generateFallbackImage = (title) => {\r\n    const initials = title ? title.split(' ').map(word => word[0]).join('').substring(0, 2).toUpperCase() : 'ACE';\r\n    const svgString = `\r\n      <svg width=\"400\" height=\"300\" xmlns=\"http://www.w3.org/2000/svg\">\r\n        <defs>\r\n          <linearGradient id=\"bg\" x1=\"0%\" y1=\"0%\" x2=\"100%\" y2=\"100%\">\r\n            <stop offset=\"0%\" style=\"stop-color:${colors.primary};stop-opacity:0.8\" />\r\n            <stop offset=\"100%\" style=\"stop-color:${colors.accent};stop-opacity:0.8\" />\r\n          </linearGradient>\r\n        </defs>\r\n        <rect width=\"100%\" height=\"100%\" fill=\"url(#bg)\"/>\r\n        <text x=\"50%\" y=\"50%\" font-family=\"Arial, sans-serif\" font-size=\"48\" font-weight=\"bold\" \r\n              text-anchor=\"middle\" dominant-baseline=\"middle\" fill=\"${colors.white}\">${initials}</text>\r\n        <text x=\"50%\" y=\"70%\" font-family=\"Arial, sans-serif\" font-size=\"14\" \r\n              text-anchor=\"middle\" dominant-baseline=\"middle\" fill=\"${colors.white}\" opacity=\"0.8\">\r\n          No Image Available\r\n        </text>\r\n      </svg>\r\n    `;\r\n    return `data:image/svg+xml;base64,${btoa(svgString)}`;\r\n  };\r\n\r\n  // Fetch highlights data\r\n  useEffect(() => {\r\n    const fetchHighlights = async () => {\r\n      try {\r\n        setLoading(true);\r\n        const response = await fetch(`${API_URL}/highlights`);\r\n        \r\n        if (!response.ok) {\r\n          throw new Error('Failed to fetch highlights');\r\n        }\r\n\r\n        const data = await response.json();\r\n        const highlightsData = data.data || {};\r\n        \r\n        setHighlights(highlightsData);\r\n        const sortedYears = Object.keys(highlightsData).map(Number).sort((a, b) => b - a);\r\n        setYears(sortedYears);\r\n        \r\n        if (sortedYears.length > 0) {\r\n          setCurrentYear(sortedYears[0]);\r\n          setCurrentSlideIndex(0);\r\n        }\r\n        \r\n        setError('');\r\n      } catch (err) {\r\n        console.error('Error fetching highlights:', err);\r\n        setError('Failed to load highlights');\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchHighlights();\r\n  }, []);\r\n\r\n  // Handle year click\r\n  const handleYearClick = (year) => {\r\n    setCurrentYear(year);\r\n    setCurrentSlideIndex(0);\r\n  };\r\n\r\n  // Handle manual navigation\r\n  const goToSlide = (direction) => {\r\n    const currentYearHighlights = highlights[currentYear] || [];\r\n    let newSlideIndex = currentSlideIndex + direction;\r\n\r\n    if (newSlideIndex < 0) {\r\n      const currentYearIndex = years.indexOf(currentYear);\r\n      const prevYearIndex = currentYearIndex - 1;\r\n      \r\n      if (prevYearIndex >= 0) {\r\n        const prevYear = years[prevYearIndex];\r\n        setCurrentYear(prevYear);\r\n        setCurrentSlideIndex((highlights[prevYear] || []).length - 1);\r\n      }\r\n    } else if (newSlideIndex >= currentYearHighlights.length) {\r\n      const currentYearIndex = years.indexOf(currentYear);\r\n      const nextYearIndex = currentYearIndex + 1;\r\n      \r\n      if (nextYearIndex < years.length) {\r\n        setCurrentYear(years[nextYearIndex]);\r\n        setCurrentSlideIndex(0);\r\n      }\r\n    } else {\r\n      setCurrentSlideIndex(newSlideIndex);\r\n    }\r\n  };\r\n\r\n  const currentHighlight = highlights[currentYear]?.[currentSlideIndex];\r\n  const totalHighlights = highlights[currentYear]?.length || 0;\r\n\r\n  if (loading) {\r\n    return (\r\n      <div style={{\r\n        minHeight: '80vh',\r\n        background: isDarkMode \r\n          ? `linear-gradient(135deg, ${colors.primaryLight} 0%, ${colors.accentDark} 100%)`\r\n          : `linear-gradient(135deg, ${colors.primary} 0%, ${colors.accent} 100%)`,\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n        color: colors.white\r\n      }}>\r\n        <div style={{ textAlign: 'center' }}>\r\n          <div style={{\r\n            width: '50px',\r\n            height: '50px',\r\n            border: `4px solid ${colors.white}30`,\r\n            borderTop: `4px solid ${colors.white}`,\r\n            animation: 'spin 1s linear infinite',\r\n            margin: '0 auto 1rem auto'\r\n          }} />\r\n          <p>Loading highlights...</p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (error) {\r\n    return (\r\n      <div style={{\r\n        minHeight: '80vh',\r\n        background: isDarkMode \r\n          ? `linear-gradient(135deg, ${colors.primaryDark} 0%, ${colors.accentDark} 100%)`\r\n          : `linear-gradient(135deg, ${colors.primary} 0%, ${colors.accent} 100%)`,\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n        color: colors.white,\r\n        textAlign: 'center'\r\n      }}>\r\n        <div>\r\n          <p style={{ fontSize: '1.2rem', marginBottom: '1rem' }}>{error}</p>\r\n          <p style={{ opacity: 0.8 }}>Please try refreshing the page</p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (years.length === 0) {\r\n    return (\r\n      <div style={{\r\n        minHeight: '80vh',\r\n        background: isDarkMode \r\n          ? `linear-gradient(135deg, ${colors.primaryDark} 0%, ${colors.accentDark} 100%)`\r\n          : `linear-gradient(135deg, ${colors.primary} 0%, ${colors.accent} 100%)`,\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n        color: colors.white,\r\n        textAlign: 'center'\r\n      }}>\r\n        <div>\r\n          <h3 style={{ fontSize: '2rem', marginBottom: '1rem' }}>No highlights available</h3>\r\n          <p style={{ opacity: 0.8 }}>Check back soon for our organizational achievements and milestones.</p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div style={{\r\n      minHeight: '80vh',\r\n      background: isDarkMode \r\n        ? `linear-gradient(135deg, ${colors.primaryDark} 0%, ${colors.accentDark} 100%)`\r\n        : `linear-gradient(135deg, ${colors.primary} 0%, ${colors.accent} 100%)`,\r\n      padding: '1.5rem 1rem',\r\n      position: 'relative',\r\n      overflow: 'hidden'\r\n    }}>\r\n      <style>{`\r\n        @keyframes spin {\r\n          0% { transform: rotate(0deg); }\r\n          100% { transform: rotate(360deg); }\r\n        }\r\n      `}</style>\r\n\r\n      {/* Header */}\r\n      <div style={{\r\n        textAlign: 'center',\r\n        marginBottom: '2rem',\r\n        color: colors.white\r\n      }}>\r\n        <h1 style={{\r\n          fontSize: 'clamp(1.8rem, 4vw, 2.8rem)',\r\n          fontWeight: 700,\r\n          margin: '0 0 0.8rem 0',\r\n          textShadow: '0 2px 4px rgba(0,0,0,0.3)'\r\n        }}>\r\n          Key Highlights and Achievements\r\n        </h1>\r\n        <p style={{\r\n          fontSize: '1.1rem',\r\n          opacity: 0.9,\r\n          maxWidth: '500px',\r\n          margin: '0 auto',\r\n          lineHeight: 1.5\r\n        }}>\r\n          Discover our achievements and milestones throughout the years\r\n        </p>\r\n      </div>\r\n\r\n      {/* Timeline */}\r\n      <div style={{\r\n        position: 'relative',\r\n        margin: '0 auto 2rem auto',\r\n        maxWidth: '700px',\r\n        padding: '1.5rem 1rem'\r\n      }}>\r\n        <div style={{\r\n          position: 'absolute',\r\n          top: '50%',\r\n          left: '50px',\r\n          right: '50px',\r\n          height: '4px',\r\n          background: `${colors.white}50`,\r\n          transform: 'translateY(-50%)'\r\n        }}>\r\n          <div style={{\r\n            position: 'absolute',\r\n            top: 0,\r\n            left: 0,\r\n            height: '100%',\r\n            background: `linear-gradient(90deg, ${colors.secondary} 0%, ${colors.accent} 100%)`,\r\n            width: `${((years.indexOf(currentYear) + 1) / years.length) * 100}%`,\r\n            transition: 'width 0.5s ease'\r\n          }} />\r\n        </div>\r\n\r\n        <div style={{\r\n          position: 'relative',\r\n          display: 'flex',\r\n          justifyContent: 'space-between',\r\n          alignItems: 'center',\r\n          padding: '0 50px'\r\n        }}>\r\n          {years.map((year) => (\r\n            <div\r\n              key={year}\r\n              onClick={() => handleYearClick(year)}\r\n              style={{\r\n                position: 'relative',\r\n                background: currentYear === year \r\n                  ? `linear-gradient(135deg, ${colors.secondary} 0%, ${colors.accent} 100%)`\r\n                  : `${colors.white}30`,\r\n                border: currentYear === year \r\n                  ? `3px solid ${colors.white}`\r\n                  : `3px solid ${colors.white}60`,\r\n                width: '50px',\r\n                height: '50px',\r\n                display: 'flex',\r\n                alignItems: 'center',\r\n                justifyContent: 'center',\r\n                cursor: 'pointer',\r\n                fontWeight: 700,\r\n                fontSize: '0.9rem',\r\n                color: colors.white,\r\n                backdropFilter: 'blur(10px)',\r\n                boxShadow: currentYear === year \r\n                  ? `0 0 20px ${colors.secondary}80`\r\n                  : 'none',\r\n                transition: 'all 0.3s ease'\r\n              }}\r\n              onMouseEnter={(e) => {\r\n                e.currentTarget.style.transform = 'scale(1.1)';\r\n              }}\r\n              onMouseLeave={(e) => {\r\n                e.currentTarget.style.transform = currentYear === year ? 'scale(1.15)' : 'scale(1)';\r\n              }}\r\n            >\r\n              {year}\r\n            </div>\r\n          ))}\r\n        </div>\r\n      </div>\r\n\r\n      {/* Main Slider Container */}\r\n      <div style={{\r\n        position: 'relative',\r\n        maxWidth: '1100px',\r\n        margin: '0 auto',\r\n        background: `${colors.white}F5`,\r\n        overflow: 'hidden',\r\n        boxShadow: '0 20px 60px rgba(0,0,0,0.3)',\r\n        backdropFilter: 'blur(20px)',\r\n        minHeight: '500px'\r\n      }}>\r\n        {/* Left Navigation Arrow */}\r\n        <button\r\n          onClick={() => goToSlide(-1)}\r\n          disabled={years.indexOf(currentYear) === 0 && currentSlideIndex === 0}\r\n          style={{\r\n            position: 'absolute',\r\n            left: '20px',\r\n            top: '50%',\r\n            transform: 'translateY(-50%)',\r\n            zIndex: 20,\r\n            background: `${colors.white}F0`,\r\n            border: `2px solid ${colors.primary}40`,\r\n            width: '60px',\r\n            height: '60px',\r\n            cursor: 'pointer',\r\n            display: 'flex',\r\n            alignItems: 'center',\r\n            justifyContent: 'center',\r\n            backdropFilter: 'blur(10px)',\r\n            fontSize: '1.5rem',\r\n            color: colors.primary,\r\n            transition: 'all 0.3s ease',\r\n            opacity: (years.indexOf(currentYear) === 0 && currentSlideIndex === 0) ? 0.4 : 1,\r\n            boxShadow: `0 4px 20px ${colors.primary}20`\r\n          }}\r\n          onMouseEnter={(e) => {\r\n            if (!e.target.disabled) {\r\n              e.target.style.transform = 'translateY(-50%) scale(1.1)';\r\n              e.target.style.backgroundColor = colors.primary;\r\n              e.target.style.color = colors.white;\r\n            }\r\n          }}\r\n          onMouseLeave={(e) => {\r\n            e.target.style.transform = 'translateY(-50%) scale(1)';\r\n            e.target.style.backgroundColor = `${colors.white}F0`;\r\n            e.target.style.color = colors.primary;\r\n          }}\r\n        >\r\n          &#8249;\r\n        </button>\r\n\r\n        {/* Right Navigation Arrow */}\r\n        <button\r\n          onClick={() => goToSlide(1)}\r\n          disabled={years.indexOf(currentYear) === years.length - 1 && \r\n                   currentSlideIndex === totalHighlights - 1}\r\n          style={{\r\n            position: 'absolute',\r\n            right: '20px',\r\n            top: '50%',\r\n            transform: 'translateY(-50%)',\r\n            zIndex: 20,\r\n            background: `${colors.white}F0`,\r\n            border: `2px solid ${colors.primary}40`,\r\n            width: '60px',\r\n            height: '60px',\r\n            cursor: 'pointer',\r\n            display: 'flex',\r\n            alignItems: 'center',\r\n            justifyContent: 'center',\r\n            backdropFilter: 'blur(10px)',\r\n            fontSize: '1.5rem',\r\n            color: colors.primary,\r\n            transition: 'all 0.3s ease',\r\n            opacity: (years.indexOf(currentYear) === years.length - 1 && \r\n                     currentSlideIndex === totalHighlights - 1) ? 0.4 : 1,\r\n            boxShadow: `0 4px 20px ${colors.primary}20`\r\n          }}\r\n          onMouseEnter={(e) => {\r\n            if (!e.target.disabled) {\r\n              e.target.style.transform = 'translateY(-50%) scale(1.1)';\r\n              e.target.style.backgroundColor = colors.primary;\r\n              e.target.style.color = colors.white;\r\n            }\r\n          }}\r\n          onMouseLeave={(e) => {\r\n            e.target.style.transform = 'translateY(-50%) scale(1)';\r\n            e.target.style.backgroundColor = `${colors.white}F0`;\r\n            e.target.style.color = colors.primary;\r\n          }}\r\n        >\r\n          &#8250;\r\n        </button>\r\n\r\n        {/* Slide Content */}\r\n        <div style={{\r\n          position: 'relative',\r\n          height: '100%',\r\n          minHeight: '500px',\r\n          overflow: 'hidden'\r\n        }}>\r\n          {currentHighlight && (\r\n            <div style={{\r\n              display: 'grid',\r\n              gridTemplateColumns: window.innerWidth <= 768 ? '1fr' : '1fr 1fr',\r\n              gridTemplateRows: window.innerWidth <= 768 ? '300px 1fr' : '1fr',\r\n              height: '100%',\r\n              minHeight: '500px'\r\n            }}>\r\n              {/* Image Section */}\r\n              <div style={{\r\n                position: 'relative',\r\n                overflow: 'hidden',\r\n                background: `linear-gradient(135deg, ${colors.primary}20 0%, ${colors.accent}20 100%)`\r\n              }}>\r\n                <img\r\n                  src={currentHighlight.image_url && currentHighlight.image_url.trim() \r\n                    ? `${STATIC_URL}${currentHighlight.image_url}` \r\n                    : generateFallbackImage(currentHighlight.title)}\r\n                  alt={currentHighlight.title}\r\n                  onError={(e) => {\r\n                    e.target.src = generateFallbackImage(currentHighlight.title);\r\n                  }}\r\n                  style={{\r\n                    width: '100%',\r\n                    height: '100%',\r\n                    objectFit: 'cover',\r\n                    transition: 'transform 0.5s ease'\r\n                  }}\r\n                />\r\n              </div>\r\n\r\n              {/* Content Section */}\r\n              <div style={{\r\n                padding: '3rem',\r\n                display: 'flex',\r\n                flexDirection: 'column',\r\n                justifyContent: 'center',\r\n                background: `linear-gradient(135deg, ${colors.surface} 0%, ${colors.backgroundSecondary} 100%)`,\r\n                position: 'relative'\r\n              }}>\r\n                {/* Slide indicators for current year */}\r\n                {totalHighlights > 1 && (\r\n                  <div style={{\r\n                    position: 'absolute',\r\n                    top: '2rem',\r\n                    right: '2rem',\r\n                    display: 'flex',\r\n                    gap: '0.5rem'\r\n                  }}>\r\n                    {Array.from({ length: totalHighlights }, (_, index) => (\r\n                      <div\r\n                        key={index}\r\n                        onClick={() => setCurrentSlideIndex(index)}\r\n                        style={{\r\n                          width: index === currentSlideIndex ? '24px' : '8px',\r\n                          height: '8px',\r\n                          backgroundColor: index === currentSlideIndex ? colors.accent : `${colors.gray400}60`,\r\n                          cursor: 'pointer',\r\n                          transition: 'all 0.3s ease'\r\n                        }}\r\n                      />\r\n                    ))}\r\n                  </div>\r\n                )}\r\n\r\n                <h3 style={{\r\n                  fontSize: '2rem',\r\n                  fontWeight: 700,\r\n                  color: colors.text,\r\n                  margin: '0 0 1.5rem 0',\r\n                  lineHeight: 1.3,\r\n                  paddingRight: '4rem' // Space for slide indicators\r\n                }}>\r\n                  {currentHighlight.title}\r\n                </h3>\r\n\r\n                {currentHighlight.description && (\r\n                  <p style={{\r\n                    fontSize: '1.1rem',\r\n                    color: colors.textSecondary,\r\n                    lineHeight: 1.7,\r\n                    margin: 0\r\n                  }}>\r\n                    {currentHighlight.description}\r\n                  </p>\r\n                )}\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PublicHighlights;","import React, { useEffect, useState, useRef } from 'react';\r\nimport { useTheme } from '../../theme'; // Adjust path to your theme file\r\nimport Header from '../../components/Header';\r\nimport Footer from '../../components/Footer';\r\nimport PartnerSlider from '../../components/PartnerSlider'; \r\nimport TeamSection from './TeamSection';\r\nimport '../../styles/AboutUs.css';\r\nimport JoinMovement from '../../components/JoinMovement'; \r\nimport MissionVision from './MissionVision';\r\nimport CoreValues from './coreValues';\r\nimport FounderSection from './FounderSection';\r\nimport VisionObjectives2050 from './objectives'\r\nimport Timeline from './Timeline';\r\n\r\nconst AboutUs = () => {\r\n  const { colors, isDarkMode } = useTheme();\r\n  const [scrollY, setScrollY] = useState(0);\r\n  const [mousePos, setMousePos] = useState({ x: 0, y: 0 });\r\n  const sectionsRef = useRef([]);\r\n  const aboutSectionRef = useRef(null);\r\n  const teamSectionRef = useRef(null);\r\n\r\n  useEffect(() => {\r\n    const handleScroll = () => {\r\n      setScrollY(window.scrollY);\r\n      \r\n      // Reveal sections on scroll\r\n      sectionsRef.current.forEach((section) => {\r\n        if (section) {\r\n          const rect = section.getBoundingClientRect();\r\n          const isVisible = rect.top < window.innerHeight * 0.8;\r\n          \r\n          if (isVisible) {\r\n            section.classList.add('visible');\r\n          }\r\n        }\r\n      });\r\n    };\r\n\r\n    const handleMouseMove = (e) => {\r\n      setMousePos({ x: e.clientX, y: e.clientY });\r\n    };\r\n\r\n    window.addEventListener('scroll', handleScroll);\r\n    window.addEventListener('mousemove', handleMouseMove);\r\n    handleScroll(); // Initial check\r\n\r\n    return () => {\r\n      window.removeEventListener('scroll', handleScroll);\r\n      window.removeEventListener('mousemove', handleMouseMove);\r\n    };\r\n  }, []);\r\n\r\n  const addToRefs = (el) => {\r\n    if (el && !sectionsRef.current.includes(el)) {\r\n      sectionsRef.current.push(el);\r\n    }\r\n  };\r\n\r\n  // Navigation functions\r\n  const scrollToAbout = () => {\r\n    if (aboutSectionRef.current) {\r\n      aboutSectionRef.current.scrollIntoView({\r\n        behavior: 'smooth',\r\n        block: 'start'\r\n      });\r\n    }\r\n  };\r\n\r\n  const scrollToTeam = () => {\r\n    if (teamSectionRef.current) {\r\n      teamSectionRef.current.scrollIntoView({\r\n        behavior: 'smooth',\r\n        block: 'start'\r\n      });\r\n    }\r\n  };\r\n\r\n  // Add just smooth scrolling CSS - nothing else\r\n  useEffect(() => {\r\n    const style = document.createElement('style');\r\n    style.textContent = `\r\n      html {\r\n        scroll-behavior: smooth;\r\n      }\r\n    `;\r\n    document.head.appendChild(style);\r\n    \r\n    return () => {\r\n      if (document.head.contains(style)) {\r\n        document.head.removeChild(style);\r\n      }\r\n    };\r\n  }, []);\r\n\r\n  // Harmonized dynamic styles with proper dark/light mode colors\r\n  const dynamicStyles = {\r\n    container: {\r\n      backgroundColor: colors.background,\r\n      color: colors.text,\r\n      fontFamily: \"'Nunito Sans', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif\",\r\n      transition: 'all 0.3s ease'\r\n    },\r\n    heroContent: {\r\n      color: isDarkMode ? colors.text : '#FFFFFF'\r\n    },\r\n    heroTitle: {\r\n      color: isDarkMode ? colors.text : '#FFFFFF',\r\n      fontWeight: '800',\r\n      textShadow: isDarkMode \r\n        ? '0 4px 20px rgba(0,0,0,0.6), 0 2px 10px rgba(0,0,0,0.4)' \r\n        : '0 4px 20px rgba(0,0,0,0.4), 0 2px 10px rgba(0,0,0,0.2)'\r\n    },\r\n    heroSubtitle: {\r\n      color: isDarkMode ? colors.textSecondary : 'rgba(255,255,255,0.9)',\r\n      fontWeight: '400'\r\n    },\r\n    heroBg: {\r\n      background: isDarkMode \r\n        ? `linear-gradient(135deg, \r\n            ${colors.background}00 0%, \r\n            ${colors.backgroundSecondary}40 25%, \r\n            ${colors.surface}60 50%, \r\n            ${colors.backgroundSecondary}40 75%, \r\n            ${colors.background}00 100%)`\r\n        : `linear-gradient(135deg, \r\n            ${colors.background}00 0%, \r\n            ${colors.backgroundSecondary}20 25%, \r\n            ${colors.surface}40 50%, \r\n            ${colors.backgroundSecondary}20 75%, \r\n            ${colors.background}00 100%)`,\r\n      opacity: isDarkMode ? 0.9 : 0.7\r\n    },\r\n    sectionTitle: {\r\n      color: colors.text,\r\n      fontFamily: \"'Nunito Sans', sans-serif\",\r\n      fontWeight: '700'\r\n    },\r\n    cardBg: {\r\n      backgroundColor: isDarkMode ? colors.surface : `${colors.surface}F5`,\r\n      borderColor: isDarkMode ? colors.border : `${colors.border}80`,\r\n      boxShadow: isDarkMode \r\n        ? `0 8px 32px ${colors.cardShadow}40, 0 4px 16px ${colors.cardShadow}20`\r\n        : `0 8px 32px ${colors.cardShadow}15, 0 4px 16px ${colors.cardShadow}08`\r\n    },\r\n    cardText: {\r\n      color: colors.textSecondary,\r\n      fontFamily: \"'Nunito Sans', sans-serif\"\r\n    },\r\n    buttonPrimary: {\r\n      backgroundColor: colors.primary,\r\n      color: isDarkMode ? colors.background : colors.white,\r\n      border: 'none',\r\n      fontFamily: \"'Nunito Sans', sans-serif\",\r\n      fontWeight: '600'\r\n    },\r\n    buttonSecondary: {\r\n      backgroundColor: 'transparent',\r\n      color: colors.primary,\r\n      border: `2px solid ${colors.primary}`,\r\n      fontFamily: \"'Nunito Sans', sans-serif\",\r\n      fontWeight: '600'\r\n    },\r\n    dividerText: {\r\n      color: isDarkMode ? colors.textSecondary : 'rgba(255,255,255,0.8)',\r\n      fontFamily: \"'Nunito Sans', sans-serif\",\r\n      fontWeight: '500'\r\n    },\r\n    dividerLine: {\r\n      backgroundColor: isDarkMode ? colors.border : `${colors.border}60`\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"about-container\" style={dynamicStyles.container}>\r\n      <Header />\r\n      \r\n      {/* Floating Background Elements */}\r\n      <div className=\"floating-bg\">\r\n        <div \r\n          className=\"floating-orb orb-1\"\r\n          style={{\r\n            transform: `translate(${mousePos.x * 0.02}px, ${mousePos.y * 0.02}px)`,\r\n            backgroundColor: isDarkMode ? `${colors.primary}25` : `${colors.primary}15`\r\n          }}\r\n        />\r\n        <div \r\n          className=\"floating-orb orb-2\"\r\n          style={{\r\n            transform: `translate(${mousePos.x * -0.015}px, ${mousePos.y * -0.015}px)`,\r\n            backgroundColor: isDarkMode ? `${colors.secondary}25` : `${colors.secondary}15`\r\n          }}\r\n        />\r\n        <div \r\n          className=\"floating-orb orb-3\"\r\n          style={{\r\n            transform: `translate(${mousePos.x * 0.01}px, ${mousePos.y * 0.01}px)`,\r\n            backgroundColor: isDarkMode ? `${colors.accent}25` : `${colors.accent}15`\r\n          }}\r\n        />\r\n      </div>\r\n\r\n      {/* About section with ref */}\r\n      <section ref={aboutSectionRef}>\r\n      </section>\r\n      \r\n      <FounderSection/>\r\n      <MissionVision/>\r\n      <VisionObjectives2050/>\r\n      <Timeline/>\r\n      <TeamSection />\r\n      <CoreValues/>\r\n      <PartnerSlider />\r\n      <JoinMovement/>\r\n\r\n      <Footer />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AboutUs;","import React from 'react';\nimport { useTheme, createGradient, withOpacity } from '../../theme'; // Import theme utilities\n\nexport default function Hero() {\n  const { colors } = useTheme(); // Use the theme hook\n\n  return (\n    <div style={{ position: 'relative', width: '100%', maxWidth: '100vw', overflow: 'hidden' }}>\n      {/* Hero Section */}\n      <div\n        style={{\n          position: 'relative',\n          width: '100%',\n          height: 'clamp(65vh, 75vh, 85vh)',\n          background: createGradient(colors.primary, colors.primaryLight, '135deg'),\n          display: 'flex',\n          alignItems: 'center',\n          justifyContent: 'flex-start',\n          padding: '0 clamp(1rem, 5vw, 4rem)',\n          overflow: 'hidden',\n        }}\n      >\n        {/* Decorative overlay */}\n        <div\n          style={{\n            position: 'absolute',\n            inset: 0,\n            background: `radial-gradient(circle at 30% 50%, ${withOpacity(colors.accent, 0.1)} 0%, transparent 70%)`,\n            zIndex: 1,\n          }}\n        ></div>\n\n        {/* Content */}\n        <div\n          style={{\n            position: 'relative',\n            zIndex: 2,\n            maxWidth: 'min(55%, 600px)',\n            width: '100%',\n          }}\n        >\n          <h1\n            style={{\n              fontSize: 'clamp(2.5rem, 5vw, 4.5rem)',\n              fontWeight: '600',\n              lineHeight: '1.1',\n              marginBottom: 'clamp(1rem, 3vw, 2rem)',\n              color: colors.white,\n              fontFamily:\n                'Inter, -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, sans-serif',\n              letterSpacing: '-0.02em',\n            }}\n          >\n            Get in touch\n          </h1>\n\n          <p\n            style={{\n              fontSize: 'clamp(1rem, 1.5vw, 1.25rem)',\n              lineHeight: '1.6',\n              color: withOpacity(colors.white, 0.9),\n              fontWeight: '400',\n              margin: 0,\n              maxWidth: '480px',\n            }}\n          >\n            Ready to drive climate action in Africa? We'd love to connect and explore how we can\n            work together.\n          </p>\n\n          {/* Social Media Icons */}\n          <div\n            style={{\n              display: 'flex',\n              gap: 'clamp(1rem, 2vw, 1.5rem)',\n              marginTop: 'clamp(2rem, 4vw, 3rem)',\n              flexWrap: 'wrap',\n            }}\n          >\n            {[\n              {\n                name: 'Facebook',\n                svg: (\n                  <svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"currentColor\">\n                    <path d=\"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z\" />\n                  </svg>\n                ),\n              },\n              {\n                name: 'Twitter',\n                svg: (\n                  <svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"currentColor\">\n                    <path d=\"M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z\" />\n                  </svg>\n                ),\n              },\n              {\n                name: 'Instagram',\n                svg: (\n                  <svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"currentColor\">\n                    <path d=\"M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069z\" />\n                  </svg>\n                ),\n              },\n              {\n                name: 'LinkedIn',\n                svg: (\n                  <svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"currentColor\">\n                    <path d=\"M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z\" />\n                  </svg>\n                ),\n              },\n            ].map((social, index) => (\n              <div\n                key={index}\n                title={social.name}\n                style={{\n                  width: 'clamp(44px, 6vw, 52px)',\n                  height: 'clamp(44px, 6vw, 52px)',\n                  backgroundColor: withOpacity(colors.white, 0.1),\n                  backdropFilter: 'blur(12px)',\n                  border: `1px solid ${withOpacity(colors.white, 0.25)}`,\n                  borderRadius: '50%',\n                  display: 'flex',\n                  alignItems: 'center',\n                  justifyContent: 'center',\n                  color: colors.white,\n                  cursor: 'pointer',\n                  transition: 'all 0.3s cubic-bezier(0.4, 0, 0.2, 1)',\n                }}\n                onMouseOver={(e) => {\n                  e.currentTarget.style.transform = 'translateY(-3px) scale(1.1)';\n                  e.currentTarget.style.backgroundColor = withOpacity(colors.white, 0.2);\n                  e.currentTarget.style.borderColor = withOpacity(colors.white, 0.4);\n                }}\n                onMouseOut={(e) => {\n                  e.currentTarget.style.transform = 'translateY(0) scale(1)';\n                  e.currentTarget.style.backgroundColor = withOpacity(colors.white, 0.1);\n                  e.currentTarget.style.borderColor = withOpacity(colors.white, 0.25);\n                }}\n              >\n                {social.svg}\n              </div>\n            ))}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n","// EmailJS Helper Service\r\n// This service helps manage EmailJS integration with country-specific configurations\r\n\r\nimport emailjs from '@emailjs/browser';\r\nimport { API_URL } from '../config';\r\n\r\nconst API_BASE = API_URL;\r\n\r\nclass EmailJSService {\r\n  constructor() {\r\n    this.configCache = new Map();\r\n    this.cacheTimeout = 5 * 60 * 1000; // 5 minutes cache\r\n  }\r\n\r\n  // Get country-specific EmailJS configuration\r\n  async getCountryConfig(country) {\r\n    try {\r\n      // Check cache first\r\n      const cacheKey = country.toLowerCase();\r\n      const cached = this.configCache.get(cacheKey);\r\n      \r\n      if (cached && Date.now() - cached.timestamp < this.cacheTimeout) {\r\n        return cached.config;\r\n      }\r\n\r\n      // Fetch from API\r\n      const response = await fetch(`${API_BASE}/country-contacts/${encodeURIComponent(country)}`);\r\n      \r\n      if (!response.ok) {\r\n        throw new Error(`Failed to fetch config for ${country}: ${response.status}`);\r\n      }\r\n\r\n      const result = await response.json();\r\n      \r\n      if (!result.success || !result.data) {\r\n        throw new Error(`No configuration found for ${country}`);\r\n      }\r\n\r\n      const contact = result.data;\r\n      \r\n      // Validate required EmailJS fields\r\n      if (!contact.service_id || !contact.template_id || !contact.public_key) {\r\n        throw new Error(`Incomplete EmailJS configuration for ${country}`);\r\n      }\r\n\r\n      const config = {\r\n        serviceId: contact.service_id,\r\n        templateId: contact.template_id,\r\n        publicKey: contact.public_key,\r\n        contactEmail: contact.email,\r\n        contactPhone: contact.phone,\r\n        physicalAddress: contact.physical_address,\r\n        mailingAddress: contact.mailing_address\r\n      };\r\n\r\n      // Cache the config\r\n      this.configCache.set(cacheKey, {\r\n        config,\r\n        timestamp: Date.now()\r\n      });\r\n\r\n      return config;\r\n    } catch (error) {\r\n      console.error('Error fetching country config:', error);\r\n      throw error;\r\n    }\r\n  }\r\n\r\n  // Initialize EmailJS for a specific country\r\n  async initializeForCountry(country) {\r\n    try {\r\n      const config = await this.getCountryConfig(country);\r\n      \r\n      // Initialize EmailJS with country-specific public key\r\n      emailjs.init(config.publicKey);\r\n      \r\n      return config;\r\n    } catch (error) {\r\n      console.error(`Failed to initialize EmailJS for ${country}:`, error);\r\n      throw error;\r\n    }\r\n  }\r\n\r\n  // Send email using country-specific configuration\r\n  async sendEmail(country, templateParams, formElement = null) {\r\n    try {\r\n      const config = await this.getCountryConfig(country);\r\n      \r\n      // Ensure EmailJS is initialized with correct public key\r\n      emailjs.init(config.publicKey);\r\n\r\n      // Merge template params with country-specific contact info\r\n      const emailParams = {\r\n        ...templateParams,\r\n        to_email: config.contactEmail,\r\n        contact_phone: config.contactPhone,\r\n        physical_address: config.physicalAddress,\r\n        mailing_address: config.mailingAddress,\r\n        country: country\r\n      };\r\n\r\n      let result;\r\n      \r\n      if (formElement) {\r\n        // Send using form element\r\n        result = await emailjs.sendForm(\r\n          config.serviceId,\r\n          config.templateId,\r\n          formElement,\r\n          config.publicKey\r\n        );\r\n      } else {\r\n        // Send using template params\r\n        result = await emailjs.send(\r\n          config.serviceId,\r\n          config.templateId,\r\n          emailParams,\r\n          config.publicKey\r\n        );\r\n      }\r\n\r\n      console.log(`Email sent successfully for ${country}:`, result);\r\n      return {\r\n        success: true,\r\n        result,\r\n        message: 'Email sent successfully'\r\n      };\r\n\r\n    } catch (error) {\r\n      console.error(`Failed to send email for ${country}:`, error);\r\n      return {\r\n        success: false,\r\n        error: error.message || 'Failed to send email',\r\n        message: 'Email sending failed'\r\n      };\r\n    }\r\n  }\r\n\r\n  // Validate country configuration\r\n  async validateCountryConfig(country) {\r\n    try {\r\n      const config = await this.getCountryConfig(country);\r\n      \r\n      // Check if all required fields are present\r\n      const requiredFields = ['serviceId', 'templateId', 'publicKey'];\r\n      const missingFields = requiredFields.filter(field => !config[field]);\r\n      \r\n      if (missingFields.length > 0) {\r\n        return {\r\n          valid: false,\r\n          message: `Missing required fields: ${missingFields.join(', ')}`,\r\n          config\r\n        };\r\n      }\r\n\r\n      return {\r\n        valid: true,\r\n        message: 'Configuration is valid',\r\n        config\r\n      };\r\n\r\n    } catch (error) {\r\n      return {\r\n        valid: false,\r\n        message: error.message,\r\n        config: null\r\n      };\r\n    }\r\n  }\r\n\r\n  // Get all configured countries\r\n  async getConfiguredCountries() {\r\n    try {\r\n      const response = await fetch(`${API_BASE}/country-contacts`);\r\n      \r\n      if (!response.ok) {\r\n        throw new Error(`Failed to fetch contacts: ${response.status}`);\r\n      }\r\n\r\n      const contacts = await response.json();\r\n      \r\n      // Filter countries with complete EmailJS configuration\r\n      const configuredCountries = contacts\r\n        .filter(contact => \r\n          contact.service_id && \r\n          contact.template_id && \r\n          contact.public_key\r\n        )\r\n        .map(contact => ({\r\n          country: contact.country,\r\n          email: contact.email,\r\n          phone: contact.phone,\r\n          hasCompleteConfig: true\r\n        }));\r\n\r\n      return configuredCountries;\r\n\r\n    } catch (error) {\r\n      console.error('Error fetching configured countries:', error);\r\n      throw error;\r\n    }\r\n  }\r\n\r\n  // Clear cache for a specific country or all countries\r\n  clearCache(country = null) {\r\n    if (country) {\r\n      this.configCache.delete(country.toLowerCase());\r\n    } else {\r\n      this.configCache.clear();\r\n    }\r\n  }\r\n\r\n  // Test EmailJS configuration for a country\r\n  async testConfiguration(country, testEmail = null) {\r\n    try {\r\n      const config = await this.getCountryConfig(country);\r\n      \r\n      // Test with a simple template\r\n      const testParams = {\r\n        to_email: testEmail || config.contactEmail,\r\n        subject: `EmailJS Configuration Test - ${country}`,\r\n        message: `This is a test email to verify EmailJS configuration for ${country}.`,\r\n        test_mode: true,\r\n        timestamp: new Date().toISOString()\r\n      };\r\n\r\n      const result = await this.sendEmail(country, testParams);\r\n      \r\n      return {\r\n        success: result.success,\r\n        message: result.success \r\n          ? `Test email sent successfully for ${country}` \r\n          : `Test failed for ${country}: ${result.error}`,\r\n        config\r\n      };\r\n\r\n    } catch (error) {\r\n      return {\r\n        success: false,\r\n        message: `Test failed for ${country}: ${error.message}`,\r\n        config: null\r\n      };\r\n    }\r\n  }\r\n}\r\n\r\n// Create and export singleton instance\r\nconst emailJSService = new EmailJSService();\r\n\r\nexport default emailJSService;\r\n\r\n// Also export the class for advanced usage\r\nexport { EmailJSService };\r\n\r\n// Helper functions for common use cases\r\nexport const sendContactForm = async (country, formData) => {\r\n  return await emailJSService.sendEmail(country, {\r\n    from_name: formData.name,\r\n    from_email: formData.email,\r\n    subject: formData.subject || 'Contact Form Submission',\r\n    message: formData.message,\r\n    phone: formData.phone || '',\r\n    company: formData.company || ''\r\n  });\r\n};\r\n\r\nexport const sendApplicationForm = async (country, applicationData) => {\r\n  return await emailJSService.sendEmail(country, {\r\n    applicant_name: applicationData.name,\r\n    applicant_email: applicationData.email,\r\n    application_type: applicationData.type,\r\n    message: applicationData.message || applicationData.coverLetter,\r\n    phone: applicationData.phone || '',\r\n    experience: applicationData.experience || '',\r\n    education: applicationData.education || ''\r\n  });\r\n};\r\n\r\nexport const validateEmailJSForCountry = async (country) => {\r\n  return await emailJSService.validateCountryConfig(country);\r\n};","import React, { useState, useEffect } from 'react';\nimport { useTheme } from '../../theme'; // Import your theme hook\nimport emailJSService from '../../services/EmailJSService'; // Import the EmailJS service we created\n\nconst Main = ({ isEmbedded = false, selectedCountry = 'Kenya' }) => {\n  const { theme, colors } = useTheme(); // Use the theme hook\n  \n  const [formData, setFormData] = useState({\n    firstName: '',\n    lastName: '',\n    user_email: '',\n    user_message: ''\n  });\n\n  const [contactInfo, setContactInfo] = useState(null);\n  const [countries, setCountries] = useState([]);\n  const [currentCountry, setCurrentCountry] = useState(selectedCountry);\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const [submitStatus, setSubmitStatus] = useState(null);\n  const [configStatus, setConfigStatus] = useState(null);\n\n  // Load countries and contact info on mount\n  useEffect(() => {\n    loadAvailableCountries();\n    loadContactInfo(currentCountry);\n  }, []);\n\n  // Update contact info when country changes\n  useEffect(() => {\n    if (currentCountry) {\n      loadContactInfo(currentCountry);\n    }\n  }, [currentCountry]);\n\n  const loadAvailableCountries = async () => {\n    try {\n      const configuredCountries = await emailJSService.getConfiguredCountries();\n      setCountries(configuredCountries);\n    } catch (error) {\n      console.error('Failed to load countries:', error);\n    }\n  };\n\n  const loadContactInfo = async (country) => {\n    try {\n      const validation = await emailJSService.validateCountryConfig(country);\n      setConfigStatus(validation);\n      \n      if (validation.valid && validation.config) {\n        setContactInfo(validation.config);\n      } else {\n        setContactInfo(null);\n        if (!validation.valid) {\n          setSubmitStatus({\n            type: 'warning',\n            message: `Contact form may not work for ${country}. EmailJS not fully configured.`\n          });\n        }\n      }\n    } catch (error) {\n      console.error('Failed to load contact info:', error);\n      setContactInfo(null);\n      setConfigStatus({ valid: false, message: 'Failed to load configuration' });\n    }\n  };\n\n  const handleInputChange = (e) => {\n    setFormData({ ...formData, [e.target.name]: e.target.value });\n    if (submitStatus && submitStatus.type !== 'warning') {\n      setSubmitStatus(null);\n    }\n  };\n\n  const handleCountryChange = (e) => {\n    const newCountry = e.target.value;\n    setCurrentCountry(newCountry);\n    setSubmitStatus(null);\n  };\n\n  const validateForm = () => {\n    const errors = [];\n    if (!formData.firstName.trim()) errors.push('First name is required');\n    if (!formData.lastName.trim()) errors.push('Last name is required');\n    if (!formData.user_email.trim()) errors.push('Email is required');\n    else if (!/^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(formData.user_email)) {\n      errors.push('Please enter a valid email address');\n    }\n    if (!formData.user_message.trim()) errors.push('Message is required');\n    else if (formData.user_message.length < 10) {\n      errors.push('Message must be at least 10 characters long');\n    }\n    return errors;\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    const validationErrors = validateForm();\n    if (validationErrors.length > 0) {\n      setSubmitStatus({\n        type: 'error',\n        message: validationErrors.join(', ')\n      });\n      return;\n    }\n    if (!configStatus?.valid) {\n      setSubmitStatus({\n        type: 'error',\n        message: `Cannot send email: EmailJS not configured for ${currentCountry}`\n      });\n      return;\n    }\n    setIsSubmitting(true);\n    setSubmitStatus(null);\n\n    try {\n      const emailData = {\n        user_name: `${formData.firstName} ${formData.lastName}`,\n        from_name: `${formData.firstName} ${formData.lastName}`,\n        user_email: formData.user_email,\n        from_email: formData.user_email,\n        user_company: formData.company_name || 'Not provided',\n        company: formData.company_name || 'Not provided',\n        user_message: formData.user_message,\n        message: formData.user_message,\n        country: currentCountry,\n        timestamp: new Date().toISOString(),\n        subject: `Contact Form Submission from ${formData.firstName} ${formData.lastName}`\n      };\n\n      const result = await emailJSService.sendEmail(currentCountry, emailData);\n\n      if (result.success) {\n        setSubmitStatus({\n          type: 'success',\n          message: 'Thank you! Your message has been sent successfully. We will get back to you soon.'\n        });\n        setFormData({\n          firstName: '',\n          lastName: '',\n          user_email: '',\n          company_name: '',\n          user_message: ''\n        });\n      } else {\n        throw new Error(result.error || 'Failed to send message');\n      }\n    } catch (error) {\n      console.error('Form submission error:', error);\n      setSubmitStatus({\n        type: 'error',\n        message: `Failed to send message: ${error.message}. Please try again or contact us directly.`\n      });\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n\n  const getStatusStyle = (type) => {\n    const baseStyle = {\n      padding: '0.75rem',\n      borderRadius: '8px',\n      marginBottom: '1rem',\n      fontSize: '14px'\n    };\n    switch (type) {\n      case 'success':\n        return { ...baseStyle, backgroundColor: colors.success + '20', color: colors.success, border: `1px solid ${colors.success}40` };\n      case 'error':\n        return { ...baseStyle, backgroundColor: colors.error + '20', color: colors.error, border: `1px solid ${colors.error}40` };\n      case 'warning':\n        return { ...baseStyle, backgroundColor: colors.warning + '20', color: colors.warning, border: `1px solid ${colors.warning}40` };\n      default:\n        return baseStyle;\n    }\n  };\n\n  const inputStyle = {\n    width: '100%',\n    padding: '10px 14px',\n    border: `2px solid ${colors.border}`,\n    borderRadius: '8px',\n    fontSize: '14px',\n    fontFamily: 'inherit',\n    outline: 'none',\n    backgroundColor: colors.surface,\n    color: colors.text,\n    transition: 'all 0.2s ease'\n  };\n\n  const inputFocusStyle = {\n    borderColor: colors.primary,\n    backgroundColor: colors.background\n  };\n\n  return (\n    <div\n      style={{\n        minHeight: isEmbedded ? 'unset' : '100vh',\n        background: isEmbedded ? 'transparent' : `linear-gradient(135deg, ${colors.primary} 0%, ${colors.primaryLight} 100%)`,\n        display: 'flex',\n        alignItems: isEmbedded ? 'flex-start' : 'center',\n        justifyContent: 'center',\n        padding: isEmbedded ? '0.5rem' : '2rem',\n        fontFamily: 'Inter, -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, sans-serif',\n        transform: isEmbedded ? 'scale(0.88)' : 'none',\n        transformOrigin: 'top left'\n      }}\n    >\n      <div\n        style={{\n          backgroundColor: isEmbedded ? colors.backgroundSecondary : colors.background,\n          borderRadius: '16px',\n          boxShadow: isEmbedded ? `0 2px 6px ${colors.cardShadow}` : `0 20px 40px ${colors.cardShadow}`,\n          padding: isEmbedded ? '1rem' : '3rem',\n          width: '100%',\n          maxWidth: isEmbedded ? '100%' : '1000px',\n          display: 'flex',\n          gap: '2rem',\n          flexDirection: window.innerWidth < 768 ? 'column' : 'row',\n          border: `1px solid ${colors.border}`\n        }}\n      >\n        {/* Contact Information Side */}\n        <div style={{ \n          flex: '1', \n          minWidth: '300px',\n          paddingRight: window.innerWidth >= 768 ? '1rem' : '0',\n          borderRight: window.innerWidth >= 768 ? `1px solid ${colors.border}` : 'none',\n          borderBottom: window.innerWidth < 768 ? `1px solid ${colors.border}` : 'none',\n          paddingBottom: window.innerWidth < 768 ? '1rem' : '0',\n          textAlign: 'center'\n        }}>\n          {/* Friendly Support SVG */}\n          <div style={{ marginBottom: '1.5rem' }}>\n            <svg xmlns=\"http://www.w3.org/2000/svg\" \n              viewBox=\"0 0 24 24\" \n              fill={colors.primary} \n              width=\"80\" height=\"80\"\n              style={{ margin: '0 auto' }}\n            >\n              <path d=\"M12 1a9 9 0 00-9 9v3a4 4 0 004 4h1v-2H7a2 2 0 01-2-2v-3a7 7 0 0114 0v3a2 2 0 01-2 2h-1v2h1a4 4 0 004-4v-3a9 9 0 00-9-9z\"/>\n              <path d=\"M9 21h6v-2H9v2z\"/>\n            </svg>\n            <h2 style={{ color: colors.text, marginTop: '0.5rem', fontWeight: '500' }}>\n              Get Localized Support\n            </h2>\n            <p style={{ color: colors.textSecondary, fontSize: '14px' }}>\n              Our country teams are here to help you\n            </p>\n          </div>\n\n          {/* Country Selection */}\n          <div style={{ marginBottom: '1.5rem' }}>\n            <label style={{ \n              display: 'block', \n              marginBottom: '0.5rem', \n              fontWeight: '600',\n              color: colors.textSecondary,\n              fontSize: '14px'\n            }}>\n              Choose Your Country:\n            </label>\n            <select\n              value={currentCountry}\n              onChange={handleCountryChange}\n              style={{\n                width: '100%',\n                padding: '10px 14px',\n                border: `2px solid ${colors.border}`,\n                borderRadius: '8px',\n                fontSize: '14px',\n                fontFamily: 'inherit',\n                backgroundColor: colors.background,\n                color: colors.text,\n                cursor: 'pointer'\n              }}\n            >\n              {countries.map(country => (\n                <option key={country.country} value={country.country}>\n                  {country.country}\n                  {country.hasCompleteConfig ? ' ' : ' '}\n                </option>\n              ))}\n            </select>\n          </div>\n\n          {/* Contact Info */}\n          {contactInfo && (\n            <div style={{\n              backgroundColor: colors.surfaceSecondary,\n              padding: '1.5rem',\n              borderRadius: '12px',\n              border: `1px solid ${colors.border}`,\n              textAlign: 'left'\n            }}>\n              <h3 style={{ marginTop: 0, marginBottom: '1rem', color: colors.text }}>\n                Contact Information\n              </h3>\n              {contactInfo.contactEmail && (\n                <p style={{ fontSize: '14px', margin: '0.5rem 0' }}>\n                   <a href={`mailto:${contactInfo.contactEmail}`} style={{ color: colors.primary }}>\n                    {contactInfo.contactEmail}\n                  </a>\n                </p>\n              )}\n              {contactInfo.contactPhone && (\n                <p style={{ fontSize: '14px', margin: '0.5rem 0' }}>\n                   <a href={`tel:${contactInfo.contactPhone}`} style={{ color: colors.primary }}>\n                    {contactInfo.contactPhone}\n                  </a>\n                </p>\n              )}\n            </div>\n          )}\n\n          {!contactInfo && (\n            <div style={{\n              backgroundColor: colors.warning + '20',\n              padding: '1rem',\n              borderRadius: '8px',\n              border: `1px solid ${colors.warning}40`,\n              fontSize: '14px',\n              color: colors.warning\n            }}>\n               Contact information not available for {currentCountry}. \n              Please try selecting a different region or contact us directly.\n            </div>\n          )}\n        </div>\n\n        {/* Contact Form Side */}\n        <div style={{ flex: '1', minWidth: '300px' }}>\n          {submitStatus && (\n            <div style={getStatusStyle(submitStatus.type)}>\n              {submitStatus.message}\n            </div>\n          )}\n          <form onSubmit={handleSubmit} style={{ display: 'flex', flexDirection: 'column', gap: '1rem' }}>\n            <div style={{ display: 'grid', gridTemplateColumns: '1fr 1fr', gap: '1rem' }}>\n              <input\n                name=\"firstName\"\n                type=\"text\"\n                required\n                value={formData.firstName}\n                onChange={handleInputChange}\n                placeholder=\"First Name\"\n                style={inputStyle}\n                disabled={isSubmitting}\n                onFocus={(e) => Object.assign(e.target.style, inputFocusStyle)}\n                onBlur={(e) => e.target.style.borderColor = colors.border}\n              />\n              <input\n                name=\"lastName\"\n                type=\"text\"\n                required\n                value={formData.lastName}\n                onChange={handleInputChange}\n                placeholder=\"Last Name\"\n                style={inputStyle}\n                disabled={isSubmitting}\n                onFocus={(e) => Object.assign(e.target.style, inputFocusStyle)}\n                onBlur={(e) => e.target.style.borderColor = colors.border}\n              />\n            </div>\n            <input\n              name=\"user_email\"\n              type=\"email\"\n              required\n              value={formData.user_email}\n              onChange={handleInputChange}\n              placeholder=\"Email Address\"\n              style={inputStyle}\n              disabled={isSubmitting}\n              onFocus={(e) => Object.assign(e.target.style, inputFocusStyle)}\n              onBlur={(e) => e.target.style.borderColor = colors.border}\n            />\n\n            <textarea\n              name=\"user_message\"\n              rows=\"4\"\n              required\n              value={formData.user_message}\n              onChange={handleInputChange}\n              placeholder=\"Your message\"\n              style={{ ...inputStyle, resize: 'vertical', minHeight: '100px', fontFamily: 'inherit' }}\n              disabled={isSubmitting}\n              onFocus={(e) => Object.assign(e.target.style, inputFocusStyle)}\n              onBlur={(e) => e.target.style.borderColor = colors.border}\n            />\n            <button\n              type=\"submit\"\n              disabled={isSubmitting || !configStatus?.valid}\n              style={{\n                backgroundColor: isSubmitting || !configStatus?.valid ? colors.gray400 : colors.text,\n                color: colors.white,\n                border: 'none',\n                borderRadius: '8px',\n                padding: '12px',\n                fontSize: '16px',\n                fontWeight: '600',\n                cursor: isSubmitting || !configStatus?.valid ? 'not-allowed' : 'pointer',\n                transition: 'all 0.2s ease',\n                display: 'flex',\n                alignItems: 'center',\n                justifyContent: 'center',\n                gap: '0.5rem'\n              }}\n            >\n              {isSubmitting ? (\n                <>\n                  <span style={{ \n                    width: '16px', \n                    height: '16px', \n                    border: `2px solid ${colors.white}`,\n                    borderTop: '2px solid transparent',\n                    borderRadius: '50%',\n                    animation: 'spin 1s linear infinite'\n                  }}></span>\n                  Sending...\n                </>\n              ) : (\n                <> Send Message</>\n              )}\n            </button>\n            {!configStatus?.valid && (\n              <div style={{\n                fontSize: '12px',\n                color: colors.warning,\n                textAlign: 'center',\n                backgroundColor: colors.warning + '20',\n                padding: '0.5rem',\n                borderRadius: '6px',\n                border: `1px solid ${colors.warning}40`\n              }}>\n                Form disabled: EmailJS not configured for {currentCountry}\n              </div>\n            )}\n          </form>\n        </div>\n      </div>\n      <style jsx>{`\n        @keyframes spin {\n          0% { transform: rotate(0deg); }\n          100% { transform: rotate(360deg); }\n        }\n      `}</style>\n    </div>\n  );\n};\n\nexport default Main;\n","import React from 'react';\nimport Hero from './Hero';\nimport Main from './Main';\nimport FollowACEF from '../../components/FollowAcef'; // Import your theme hook\n\nimport CompanyLocationsMap from '../../components/CompanyLocationsMap'\n\nimport Header from '../../components/Header'; //  Correct path to Header.jsx\nimport Footer from '../../components/Footer'; //  Correct path to Header.jsx\n\nconst ContactUs = () => {\n  return (\n    <>\n      <Header />         {/*  Header appears at the top */}\n    \n      <Hero />\n      \n      <Main />\n\n      <FollowACEF/>\n<CompanyLocationsMap/>\n\n\n      <Footer />         {/*  Header appears at the top */}\n\n    </>\n  );\n};\n\nexport default ContactUs;\n","import React, { useState, useEffect } from 'react';\r\nimport { useParams, useLocation, useNavigate } from 'react-router-dom';\r\nimport {\r\n  Box, Typography, Container, Grid, Chip, Avatar, Paper,\r\n  Button, CircularProgress, Alert, IconButton, Stack,\r\n  LinearProgress, Divider\r\n} from '@mui/material';\r\nimport {\r\n  LocationOn, Category, Public,\r\n  ArrowBack, Share, Favorite, Timeline, \r\n  TrendingUp, Analytics, Psychology, \r\n  NatureOutlined, GroupsOutlined, ViewModule\r\n} from '@mui/icons-material';\r\nimport { motion } from 'framer-motion';\r\nimport { useTheme } from '../../theme';\r\nimport Header from '../../components/Header';\r\nimport Footer from '../../components/Footer';\r\nimport { API_URL } from '../../config';\r\n\r\nconst API_BASE = API_URL;\r\n\r\nconst ProjectDetail = () => {\r\n  const { id } = useParams();\r\n  const location = useLocation();\r\n  const navigate = useNavigate();\r\n  const { colors } = useTheme();\r\n  \r\n  const [project, setProject] = useState(location.state?.project || null);\r\n  const [loading, setLoading] = useState(!project);\r\n  const [error, setError] = useState(null);\r\n  const [liked, setLiked] = useState(false);\r\n  const [progressVisible, setProgressVisible] = useState(false);\r\n\r\n  // Improved navigation tracking\r\n  const [backPath, setBackPath] = useState('/projects');\r\n  const [backLabel, setBackLabel] = useState('Projects');\r\n  \r\n \r\n\r\n  const sdgGoalsInfo = {\r\n    1: { title: 'No Poverty', color: '#E5243B', icon: '' },\r\n    2: { title: 'Zero Hunger', color: '#DDA63A', icon: '' },\r\n    3: { title: 'Good Health and Well-being', color: '#4C9F38', icon: '' },\r\n    4: { title: 'Quality Education', color: '#C5192D', icon: '' },\r\n    5: { title: 'Gender Equality', color: '#FF3A21', icon: '' },\r\n    6: { title: 'Clean Water and Sanitation', color: '#26BDE2', icon: '' },\r\n    7: { title: 'Affordable and Clean Energy', color: '#FCC30B', icon: '' },\r\n    13: { title: 'Climate Action', color: '#3F7E44', icon: '' },\r\n    14: { title: 'Life Below Water', color: '#0A97D9', icon: '' },\r\n    15: { title: 'Life on Land', color: '#56C02B', icon: '' },\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (!project && id) {\r\n      fetchProject();\r\n    }\r\n    setTimeout(() => setProgressVisible(true), 1000);\r\n  }, [id, project]);\r\n\r\n  const fetchProject = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const response = await fetch(`${API_BASE}/projects/${id}`, {\r\n        method: 'GET',\r\n        credentials: 'include',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        }\r\n      });\r\n\r\n      if (!response.ok) {\r\n        throw new Error(`HTTP error! status: ${response.status}`);\r\n      }\r\n\r\n      const data = await response.json();\r\n      \r\n      if (data.success) {\r\n        setProject(data.data);\r\n      } else {\r\n        throw new Error(data.message || 'Failed to fetch project');\r\n      }\r\n    } catch (error) {\r\n      console.error('Error fetching project:', error);\r\n      setError(error.message);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const formatDate = (dateString) => {\r\n    if (!dateString) return 'Not specified';\r\n    return new Date(dateString).toLocaleDateString('en-US', {\r\n      year: 'numeric',\r\n      month: 'long',\r\n      day: 'numeric'\r\n    });\r\n  };\r\n\r\n  // Go back to where the user came from\r\n  const handleGoBack = () => {\r\n    navigate(-1);\r\n  };\r\n\r\n  const handleSeeMoreProjects = () => {\r\n    navigate('/projectscatalogue');\r\n  };\r\n\r\n  const handleShare = () => {\r\n    if (navigator.share) {\r\n      navigator.share({\r\n        title: project.title,\r\n        text: project.description,\r\n        url: window.location.href,\r\n      });\r\n    } else {\r\n      navigator.clipboard.writeText(window.location.href);\r\n    }\r\n  };\r\n\r\n  const calculateImpactScore = (metrics) => {\r\n    if (!metrics || Object.keys(metrics).length === 0) return 75;\r\n    const values = Object.values(metrics);\r\n    const total = values.reduce((sum, val) => sum + (parseInt(val) || 1), 0);\r\n    return Math.min(Math.max((total / values.length) * 10, 20), 100);\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <Box sx={{ \r\n        minHeight: '100vh',\r\n        backgroundColor: colors.background,\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        justifyContent: 'center'\r\n      }}>\r\n        <Box sx={{ textAlign: 'center' }}>\r\n          <CircularProgress \r\n            size={60} \r\n            thickness={4}\r\n            sx={{ color: colors.primary, mb: 3 }} \r\n          />\r\n          <Typography variant=\"h6\" sx={{ \r\n            color: colors.textSecondary,\r\n            fontWeight: 500\r\n          }}>\r\n            Loading Project Details...\r\n          </Typography>\r\n        </Box>\r\n      </Box>\r\n    );\r\n  }\r\n\r\n  if (error || !project) {\r\n    return (\r\n      <Box sx={{ \r\n        minHeight: '100vh',\r\n        backgroundColor: colors.background,\r\n        p: 4\r\n      }}>\r\n\r\n        <Container maxWidth=\"lg\">\r\n          <Alert \r\n            severity=\"error\" \r\n            sx={{ \r\n              mb: 3,\r\n              backgroundColor: `${colors.error}15`,\r\n              color: colors.error,\r\n              border: `1px solid ${colors.error}30`,\r\n            }}\r\n          >\r\n            {error || 'Project not found'}\r\n          </Alert>\r\n          <Button\r\n            variant=\"contained\"\r\n            startIcon={<ArrowBack />}\r\n            onClick={handleGoBack}\r\n            sx={{ \r\n              backgroundColor: colors.primary,\r\n              color: colors.white,\r\n              fontWeight: 600,\r\n              px: 3,\r\n              py: 1.5,\r\n              textTransform: 'none',\r\n              '&:hover': { \r\n                backgroundColor: colors.primaryDark,\r\n              }\r\n            }}\r\n          >\r\n            Back to {backLabel}\r\n          </Button>\r\n        </Container>\r\n      </Box>\r\n    );\r\n  }\r\n\r\n  const impactScore = calculateImpactScore(project.impact_metrics);\r\n\r\n  return (\r\n    <Box sx={{ \r\n      minHeight: '100vh',\r\n      backgroundColor: colors.background,\r\n      py: 4\r\n    }}>\r\n      <Container maxWidth=\"lg\">\r\n        {/* Navigation Header */}\r\n        <motion.div\r\n          initial={{ opacity: 0, y: -20 }}\r\n          animate={{ opacity: 1, y: 0 }}\r\n          transition={{ duration: 0.6 }}\r\n        >\r\n          <Paper sx={{ \r\n            p: 2,\r\n            mb: 4,\r\n            backgroundColor: colors.surface,\r\n            border: `1px solid ${colors.borderLight}`,\r\n            boxShadow: 'none'\r\n          }}>\r\n            <Box sx={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\r\n              <Box sx={{ display: 'flex', gap: 2, alignItems: 'center' }}>\r\n                <Button\r\n                  startIcon={<ArrowBack />}\r\n                  onClick={handleGoBack}\r\n                  sx={{\r\n                    color: colors.text,\r\n                    fontWeight: 600,\r\n                    textTransform: 'none',\r\n                    '&:hover': {\r\n                      backgroundColor: `${colors.primary}10`,\r\n                    }\r\n                  }}\r\n                >\r\n                  {backLabel}\r\n                </Button>\r\n                \r\n                {/* Show divider and \"See More Projects\" only if not already going back to projects */}\r\n                {backPath !== '/projects' && (\r\n                  <>\r\n                    <Divider orientation=\"vertical\" flexItem sx={{ mx: 1 }} />\r\n                    <Button\r\n                      startIcon={<ViewModule />}\r\n                      onClick={handleSeeMoreProjects}\r\n                      sx={{\r\n                        color: colors.textSecondary,\r\n                        fontWeight: 600,\r\n                        textTransform: 'none',\r\n                        '&:hover': {\r\n                          backgroundColor: `${colors.secondary}10`,\r\n                          color: colors.secondary\r\n                        }\r\n                      }}\r\n                    >\r\n                      See More Projects\r\n                    </Button>\r\n                  </>\r\n                )}\r\n              </Box>\r\n\r\n              <Stack direction=\"row\" spacing={1}>\r\n                <IconButton \r\n                  onClick={handleShare}\r\n                  sx={{ \r\n                    color: colors.textSecondary,\r\n                    '&:hover': { \r\n                      backgroundColor: `${colors.primary}10`,\r\n                      color: colors.primary\r\n                    }\r\n                  }}\r\n                >\r\n                  <Share />\r\n                </IconButton>\r\n                <IconButton \r\n                  onClick={() => setLiked(!liked)}\r\n                  sx={{ \r\n                    color: liked ? colors.error : colors.textSecondary,\r\n                    '&:hover': { \r\n                      backgroundColor: `${colors.error}10`,\r\n                      color: colors.error\r\n                    }\r\n                  }}\r\n                >\r\n                  <Favorite />\r\n                </IconButton>\r\n              </Stack>\r\n            </Box>\r\n          </Paper>\r\n        </motion.div>\r\n\r\n        {/* Hero Section */}\r\n        <motion.div\r\n          initial={{ opacity: 0, y: 30 }}\r\n          animate={{ opacity: 1, y: 0 }}\r\n          transition={{ duration: 0.8, delay: 0.2 }}\r\n        >\r\n          <Paper sx={{ \r\n            p: 6,\r\n            mb: 6,\r\n            backgroundColor: colors.surface,\r\n            border: `1px solid ${colors.borderLight}`,\r\n            borderRadius: 4,\r\n            boxShadow: 'none',\r\n            position: 'relative',\r\n            overflow: 'hidden'\r\n          }}>\r\n            {/* Gradient accent */}\r\n            <Box sx={{\r\n              position: 'absolute',\r\n              top: 0,\r\n              left: 0,\r\n              right: 0,\r\n              height: '4px',\r\n              background: `linear-gradient(90deg, ${colors.primary}, ${colors.secondary})`,\r\n            }} />\r\n            \r\n            <Typography \r\n              variant=\"h1\" \r\n              sx={{ \r\n                fontWeight: 800,\r\n                color: colors.text,\r\n                mb: 3,\r\n                fontSize: { xs: '2rem', md: '3rem' },\r\n                lineHeight: 1.2\r\n              }}\r\n            >\r\n              {project.title}\r\n            </Typography>\r\n\r\n            <Stack direction=\"row\" spacing={2} flexWrap=\"wrap\" sx={{ mb: 4 }}>\r\n              {project.category_name && (\r\n                <Chip\r\n                  icon={<Category />}\r\n                  label={project.category_name}\r\n                  sx={{ \r\n                    backgroundColor: `${colors.primary}15`,\r\n                    color: colors.primary,\r\n                    border: `1px solid ${colors.primary}30`,\r\n                    fontWeight: 600\r\n                  }}\r\n                />\r\n              )}\r\n              {project.country_name && (\r\n                <Chip\r\n                  icon={<Public />}\r\n                  label={project.country_name}\r\n                  sx={{ \r\n                    backgroundColor: `${colors.secondary}15`,\r\n                    color: colors.secondary,\r\n                    border: `1px solid ${colors.secondary}30`,\r\n                    fontWeight: 600\r\n                  }}\r\n                />\r\n              )}\r\n              {project.is_featured && (\r\n                <Chip\r\n                  label=\"Featured Project\"\r\n                  sx={{ \r\n                    backgroundColor: colors.secondary,\r\n                    color: colors.black,\r\n                    fontWeight: 700\r\n                  }}\r\n                />\r\n              )}\r\n            </Stack>\r\n\r\n            {/* Impact Score */}\r\n            <Box sx={{ \r\n              p: 4,\r\n              backgroundColor: `${colors.primary}08`,\r\n              borderRadius: 3,\r\n              border: `1px solid ${colors.primary}20`\r\n            }}>\r\n              <Box sx={{ display: 'flex', alignItems: 'center', mb: 2 }}>\r\n                <TrendingUp sx={{ mr: 2, color: colors.primary }} />\r\n                <Typography variant=\"h6\" sx={{ \r\n                  color: colors.text,\r\n                  fontWeight: 700\r\n                }}>\r\n                  Project Impact Score\r\n                </Typography>\r\n              </Box>\r\n              <Box sx={{ display: 'flex', alignItems: 'center', gap: 3 }}>\r\n                <Box sx={{ flex: 1 }}>\r\n                  <LinearProgress \r\n                    variant=\"determinate\" \r\n                    value={progressVisible ? impactScore : 0}\r\n                    sx={{\r\n                      height: 12,\r\n                      borderRadius: 6,\r\n                      backgroundColor: `${colors.borderLight}`,\r\n                      '& .MuiLinearProgress-bar': {\r\n                        backgroundColor: colors.primary,\r\n                        borderRadius: 6,\r\n                        transition: 'width 2s ease-in-out',\r\n                      }\r\n                    }}\r\n                  />\r\n                  <Typography variant=\"body2\" sx={{ \r\n                    color: colors.textSecondary,\r\n                    mt: 1,\r\n                    fontWeight: 500\r\n                  }}>\r\n                    Environmental Impact Rating\r\n                  </Typography>\r\n                </Box>\r\n                <Typography variant=\"h3\" sx={{ \r\n                  fontWeight: 800,\r\n                  color: colors.primary\r\n                }}>\r\n                  {Math.round(impactScore)}%\r\n                </Typography>\r\n              </Box>\r\n            </Box>\r\n          </Paper>\r\n        </motion.div>\r\n\r\n        {/* Featured Image */}\r\n        {project.featured_image && (\r\n          <motion.div\r\n            initial={{ opacity: 0, scale: 0.95 }}\r\n            animate={{ opacity: 1, scale: 1 }}\r\n            transition={{ duration: 0.8, delay: 0.4 }}\r\n          >\r\n            <Paper sx={{ \r\n              mb: 6,\r\n              borderRadius: 4,\r\n              overflow: 'hidden',\r\n              backgroundColor: colors.surface,\r\n              boxShadow: 'none',\r\n              border: `1px solid ${colors.borderLight}`\r\n            }}>\r\n              <Box\r\n                component=\"img\"\r\n                src={project.featured_image.startsWith('http') \r\n                  ? project.featured_image \r\n                  : `${process.env.REACT_APP_STATIC_URL || ''}${project.featured_image}`}\r\n                alt={project.title}\r\n                sx={{\r\n                  width: '100%',\r\n                  height: '400px',\r\n                  objectFit: 'cover',\r\n                }}\r\n                onError={(e) => { e.target.style.display = 'none'; }}\r\n              />\r\n            </Paper>\r\n          </motion.div>\r\n        )}\r\n\r\n        <Grid container spacing={6}>\r\n                        <Header/>\r\n\r\n          {/* Main Content */}\r\n          <Grid item xs={12} md={8}>\r\n            {/* Description */}\r\n            <motion.div\r\n              initial={{ opacity: 0, y: 20 }}\r\n              animate={{ opacity: 1, y: 0 }}\r\n              transition={{ duration: 0.6, delay: 0.6 }}\r\n            >\r\n              <Paper sx={{\r\n                p: 4,\r\n                mb: 4,\r\n                backgroundColor: colors.surface,\r\n                border: `1px solid ${colors.borderLight}`,\r\n                borderRadius: 3,\r\n                boxShadow: 'none'\r\n              }}>\r\n                <Box sx={{ display: 'flex', alignItems: 'center', mb: 3 }}>\r\n                  <Psychology sx={{ mr: 2, color: colors.primary, fontSize: 28 }} />\r\n                  <Typography variant=\"h4\" sx={{ \r\n                    fontWeight: 700, \r\n                    color: colors.text\r\n                  }}>\r\n                    Project Overview\r\n                  </Typography>\r\n                </Box>\r\n                <Typography variant=\"body1\" sx={{ \r\n                  lineHeight: 1.8, \r\n                  fontSize: '1.1rem',\r\n                  color: colors.textSecondary\r\n                }}>\r\n                  {project.description}\r\n                </Typography>\r\n              </Paper>\r\n            </motion.div>\r\n\r\n            {/* Impact Metrics */}\r\n            {project.impact_metrics && Object.keys(project.impact_metrics).length > 0 && (\r\n              <motion.div\r\n                initial={{ opacity: 0, y: 20 }}\r\n                animate={{ opacity: 1, y: 0 }}\r\n                transition={{ duration: 0.6, delay: 0.8 }}\r\n              >\r\n                <Paper sx={{\r\n                  p: 4,\r\n                  mb: 4,\r\n                  backgroundColor: colors.surface,\r\n                  border: `1px solid ${colors.borderLight}`,\r\n                  borderRadius: 3,\r\n                  boxShadow: 'none'\r\n                }}>\r\n                  <Box sx={{ display: 'flex', alignItems: 'center', mb: 4 }}>\r\n                    <Analytics sx={{ mr: 2, color: colors.secondary, fontSize: 28 }} />\r\n                    <Typography variant=\"h4\" sx={{ \r\n                      fontWeight: 700, \r\n                      color: colors.text\r\n                    }}>\r\n                      Impact Metrics\r\n                    </Typography>\r\n                  </Box>\r\n                  \r\n                  <Grid container spacing={3}>\r\n                    {Object.entries(project.impact_metrics).map(([key, value], index) => (\r\n                      <Grid item xs={6} sm={4} key={key}>\r\n                        <Paper sx={{ \r\n                          p: 3, \r\n                          textAlign: 'center',\r\n                          backgroundColor: `${colors.primary}05`,\r\n                          border: `1px solid ${colors.primary}15`,\r\n                          borderRadius: 3,\r\n                          transition: 'all 0.3s ease',\r\n                          '&:hover': {\r\n                            transform: 'translateY(-4px)',\r\n                            borderColor: colors.primary,\r\n                          }\r\n                        }}>\r\n                          <Typography variant=\"h3\" sx={{ \r\n                            fontWeight: 800,\r\n                            color: colors.primary,\r\n                            mb: 1\r\n                          }}>\r\n                            {value}\r\n                          </Typography>\r\n                          <Typography variant=\"body2\" sx={{ \r\n                            color: colors.textSecondary,\r\n                            fontWeight: 600,\r\n                            textTransform: 'capitalize'\r\n                          }}>\r\n                            {key.replace(/_/g, ' ')}\r\n                          </Typography>\r\n                        </Paper>\r\n                      </Grid>\r\n                    ))}\r\n                  </Grid>\r\n                </Paper>\r\n              </motion.div>\r\n            )}\r\n\r\n            {/* Testimonial */}\r\n            {project.testimonial_text && (\r\n              <motion.div\r\n                initial={{ opacity: 0, y: 20 }}\r\n                animate={{ opacity: 1, y: 0 }}\r\n                transition={{ duration: 0.6, delay: 1 }}\r\n              >\r\n                <Paper sx={{\r\n                  p: 4,\r\n                  backgroundColor: colors.surface,\r\n                  border: `1px solid ${colors.borderLight}`,\r\n                  borderRadius: 3,\r\n                  boxShadow: 'none'\r\n                }}>\r\n                  <Box sx={{ display: 'flex', alignItems: 'center', mb: 3 }}>\r\n                    <GroupsOutlined sx={{ mr: 2, color: colors.secondary, fontSize: 28 }} />\r\n                    <Typography variant=\"h4\" sx={{ \r\n                      fontWeight: 700, \r\n                      color: colors.text\r\n                    }}>\r\n                      Community Voice\r\n                    </Typography>\r\n                  </Box>\r\n                  <Box sx={{ \r\n                    p: 4,\r\n                    backgroundColor: `${colors.secondary}10`,\r\n                    borderLeft: `4px solid ${colors.secondary}`,\r\n                    borderRadius: 2\r\n                  }}>\r\n                    <Typography variant=\"h6\" sx={{ \r\n                      fontStyle: 'italic', \r\n                      mb: 3, \r\n                      color: colors.text,\r\n                      lineHeight: 1.6\r\n                    }}>\r\n                      \"{project.testimonial_text}\"\r\n                    </Typography>\r\n                    {(project.testimonial_author || project.testimonial_position) && (\r\n                      <Box sx={{ pt: 2 }}>\r\n                        <Typography variant=\"body1\" sx={{ \r\n                          fontWeight: 700,\r\n                          color: colors.text\r\n                        }}>\r\n                          {project.testimonial_author}\r\n                        </Typography>\r\n                        {project.testimonial_position && (\r\n                          <Typography variant=\"body2\" sx={{ \r\n                            color: colors.textSecondary,\r\n                            fontWeight: 500\r\n                          }}>\r\n                            {project.testimonial_position}\r\n                          </Typography>\r\n                        )}\r\n                      </Box>\r\n                    )}\r\n                  </Box>\r\n                </Paper>\r\n              </motion.div>\r\n            )}\r\n          </Grid>\r\n\r\n          {/* Sidebar */}\r\n          <Grid item xs={12} md={4}>\r\n            {/* Project Details */}\r\n            <motion.div\r\n              initial={{ opacity: 0, x: 20 }}\r\n              animate={{ opacity: 1, x: 0 }}\r\n              transition={{ duration: 0.6, delay: 0.6 }}\r\n            >\r\n              <Paper sx={{\r\n                p: 3,\r\n                mb: 3,\r\n                backgroundColor: colors.surface,\r\n                border: `1px solid ${colors.borderLight}`,\r\n                borderRadius: 3,\r\n                boxShadow: 'none'\r\n              }}>\r\n                <Typography variant=\"h5\" sx={{ \r\n                  fontWeight: 700, \r\n                  color: colors.text,\r\n                  mb: 3,\r\n                  display: 'flex',\r\n                  alignItems: 'center'\r\n                }}>\r\n                  <NatureOutlined sx={{ mr: 2, color: colors.primary }} />\r\n                  Project Details\r\n                </Typography>\r\n                \r\n                {project.location && (\r\n                  <Box sx={{ mb: 3 }}>\r\n                    <Box sx={{ display: 'flex', alignItems: 'center', mb: 1 }}>\r\n                      <LocationOn sx={{ mr: 1, color: colors.textMuted, fontSize: 20 }} />\r\n                      <Typography variant=\"body2\" sx={{ \r\n                        color: colors.textMuted,\r\n                        fontWeight: 600,\r\n                        textTransform: 'uppercase',\r\n                        letterSpacing: 1\r\n                      }}>\r\n                        Location\r\n                      </Typography>\r\n                    </Box>\r\n                    <Typography variant=\"body1\" sx={{ \r\n                      color: colors.text, \r\n                      fontWeight: 600,\r\n                      ml: 3\r\n                    }}>\r\n                      {project.location}\r\n                    </Typography>\r\n                  </Box>\r\n                )}\r\n\r\n                {(project.start_date || project.end_date) && (\r\n                  <Box sx={{ mb: 3 }}>\r\n                    <Box sx={{ display: 'flex', alignItems: 'center', mb: 1 }}>\r\n                      <Timeline sx={{ mr: 1, color: colors.textMuted, fontSize: 20 }} />\r\n                      <Typography variant=\"body2\" sx={{ \r\n                        color: colors.textMuted,\r\n                        fontWeight: 600,\r\n                        textTransform: 'uppercase',\r\n                        letterSpacing: 1\r\n                      }}>\r\n                        Timeline\r\n                      </Typography>\r\n                    </Box>\r\n                    <Typography variant=\"body1\" sx={{ \r\n                      color: colors.text, \r\n                      fontWeight: 600,\r\n                      ml: 3\r\n                    }}>\r\n                      {formatDate(project.start_date)}\r\n                      {project.end_date && ` - ${formatDate(project.end_date)}`}\r\n                    </Typography>\r\n                  </Box>\r\n                )}\r\n\r\n                <Divider sx={{ my: 3, borderColor: colors.borderLight }} />\r\n                \r\n                {/* Action Buttons Stack */}\r\n                <Stack spacing={2}>\r\n                 \r\n\r\n                  {/* Show \"See More Projects\" button only if not coming from projects page */}\r\n                  {(!location.state?.from || location.state.from !== '/projects') && (\r\n                    <Button\r\n                      variant=\"outlined\"\r\n                      fullWidth\r\n                      startIcon={<ViewModule />}\r\n                      onClick={handleSeeMoreProjects}\r\n                      sx={{\r\n                        borderColor: colors.secondary,\r\n                        color: colors.secondary,\r\n                        fontWeight: 600,\r\n                        py: 1.5,\r\n                        textTransform: 'none',\r\n                        fontSize: '1rem',\r\n                        '&:hover': { \r\n                          backgroundColor: `${colors.secondary}10`,\r\n                          borderColor: colors.secondary\r\n                        }\r\n                      }}\r\n                    >\r\n                      See More Projects\r\n                    </Button>\r\n                  )}\r\n                </Stack>\r\n              </Paper>\r\n            </motion.div>\r\n\r\n            {/* SDG Goals */}\r\n            {project.sdg_goals && project.sdg_goals.length > 0 && (\r\n              <motion.div\r\n                initial={{ opacity: 0, x: 20 }}\r\n                animate={{ opacity: 1, x: 0 }}\r\n                transition={{ duration: 0.6, delay: 0.8 }}\r\n              >\r\n                <Paper sx={{\r\n                  p: 3,\r\n                  backgroundColor: colors.surface,\r\n                  border: `1px solid ${colors.borderLight}`,\r\n                  borderRadius: 3,\r\n                  boxShadow: 'none'\r\n                }}>\r\n                  <Typography variant=\"h5\" sx={{ \r\n                    fontWeight: 700, \r\n                    color: colors.text,\r\n                    mb: 3,\r\n                    display: 'flex',\r\n                    alignItems: 'center'\r\n                  }}>\r\n                    <Public sx={{ mr: 2, color: colors.primary }} />\r\n                    UN SDG Goals\r\n                  </Typography>\r\n                  \r\n                  <Box sx={{ mb: 3 }}>\r\n                    <Typography variant=\"body2\" sx={{ \r\n                      color: colors.textSecondary,\r\n                      fontWeight: 600,\r\n                      mb: 2\r\n                    }}>\r\n                      Supporting {project.sdg_goals.length} Global Goals\r\n                    </Typography>\r\n                    <LinearProgress \r\n                      variant=\"determinate\" \r\n                      value={progressVisible ? (project.sdg_goals.length / 17) * 100 : 0}\r\n                      sx={{\r\n                        height: 8,\r\n                        borderRadius: 4,\r\n                        backgroundColor: colors.borderLight,\r\n                        '& .MuiLinearProgress-bar': {\r\n                          backgroundColor: colors.secondary,\r\n                          borderRadius: 4,\r\n                          transition: 'width 2s ease-in-out',\r\n                        }\r\n                      }}\r\n                    />\r\n                  </Box>\r\n\r\n                  <Stack spacing={2}>\r\n                    {project.sdg_goals.map((goal, index) => (\r\n                      <Box key={goal} sx={{ \r\n                        display: 'flex', \r\n                        alignItems: 'center', \r\n                        p: 2,\r\n                        backgroundColor: `${sdgGoalsInfo[goal]?.color || colors.primary}10`,\r\n                        borderRadius: 2,\r\n                        border: `1px solid ${sdgGoalsInfo[goal]?.color || colors.primary}20`\r\n                      }}>\r\n                        <Avatar\r\n                          sx={{ \r\n                            width: 40, \r\n                            height: 40, \r\n                            mr: 2,\r\n                            backgroundColor: sdgGoalsInfo[goal]?.color || colors.primary,\r\n                            color: colors.white,\r\n                            fontSize: '0.9rem',\r\n                            fontWeight: 700\r\n                          }}\r\n                        >\r\n                          {goal}\r\n                        </Avatar>\r\n                        <Box sx={{ flex: 1 }}>\r\n                          <Typography variant=\"body1\" sx={{ \r\n                            fontWeight: 600,\r\n                            color: colors.text,\r\n                            mb: 0.5\r\n                          }}>\r\n                            SDG {goal}\r\n                          </Typography>\r\n                          <Typography variant=\"body2\" sx={{ \r\n                            color: colors.textSecondary,\r\n                            fontSize: '0.85rem'\r\n                          }}>\r\n                            {sdgGoalsInfo[goal]?.title || 'Sustainable Development Goal'}\r\n                          </Typography>\r\n                        </Box>\r\n                        <Typography sx={{ fontSize: '1.2rem' }}>\r\n                          {sdgGoalsInfo[goal]?.icon}\r\n                        </Typography>\r\n                      </Box>\r\n                    ))}\r\n                  </Stack>\r\n                </Paper>\r\n              </motion.div>\r\n            )}\r\n          </Grid>\r\n        </Grid>\r\n      </Container>\r\n    <Footer/>\r\n\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default ProjectDetail;","import React from 'react';\r\nimport { Typography, Box } from '@mui/material';\r\n\r\nconst Unauthorized = () => {\r\n  return (\r\n    <Box sx={{ padding: '3rem', textAlign: 'center' }}>\r\n      <Typography variant=\"h4\">Unauthorized</Typography>\r\n      <Typography variant=\"body1\">\r\n        You do not have permission to access this page.\r\n      </Typography>\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default Unauthorized;\r\n","      import { motion } from 'framer-motion';\r\n\r\nimport React, { useState, useEffect, useRef } from \"react\";\r\n\r\n// Import API_URL from your config (adjust path as needed)\r\n// const API_URL = 'your-api-url';\r\nimport { API_URL } from '../../config';\r\n\r\nconst API_BASE = API_URL;\r\n\r\n\r\n// Theme hook (matching dashboard theme system)\r\nconst useTheme = () => {\r\n  const [isDarkMode] = useState(true); // Assuming dark mode for this component\r\n  \r\n  const colors = {\r\n    primary: '#0a451c',\r\n    secondary: '#facf3c',\r\n    accent: '#9ccf3f',\r\n    primaryLight: '#1a5a2c',\r\n    primaryDark: '#052310',\r\n    secondaryLight: '#fdd835',\r\n    accentLight: '#b8dfbb',\r\n    accentDark: '#7a9b2d',\r\n    success: '#4caf50',\r\n    warning: '#ff9800',\r\n    error: '#f44336',\r\n    info: '#2196f3',\r\n    white: '#ffffff',\r\n    black: '#000000',\r\n    background: '#000000',\r\n    backgroundSecondary: '#0f0f0f',\r\n    surface: '#1a1a1a',\r\n    cardBg: '#1e1e1e',\r\n    text: '#ffffff',\r\n    textSecondary: 'rgba(255, 255, 255, 0.8)',\r\n    textMuted: 'rgba(255, 255, 255, 0.6)',\r\n    border: 'rgba(255, 255, 255, 0.15)',\r\n    cardShadow: 'rgba(0, 0, 0, 0.3)'\r\n  };\r\n\r\n  return { colors, isDarkMode };\r\n};\r\n\r\n// Constants and Configuration\r\nconst ANIMATION_CONFIG = {\r\n  autoRotateInterval: 15000,\r\n  transitionDuration: 300,\r\n  parallaxMultiplier: 0.08,\r\n  mouseParallax: { x: 25, y: 20 }\r\n};\r\n\r\n// Default images for different pillar types (fallback images)\r\nconst DEFAULT_IMAGES = {\r\n  energy: \"https://images.unsplash.com/photo-1473341304170-971dccb5ac1e?w=1600&h=1200&fit=crop&q=95&auto=format\",\r\n  peace: \"https://images.unsplash.com/photo-1578662996442-48f60103fc96?w=1600&h=1200&fit=crop&q=95&auto=format\",\r\n  waste: \"https://images.unsplash.com/photo-1532996122724-e3c354a0b15b?w=1600&h=1200&fit=crop&q=95&auto=format\",\r\n  nature: \"https://images.unsplash.com/photo-1586348943529-beaae6c28db9?w=1600&h=1200&fit=crop&q=95&auto=format\",\r\n  water: \"https://images.unsplash.com/photo-1559827260-dc66d52bef19?w=1600&h=1200&fit=crop&q=95&auto=format\",\r\n  agriculture: \"https://images.unsplash.com/photo-1625246333195-78d9c38ad449?w=1600&h=1200&fit=crop&q=95&auto=format\",\r\n  education: \"https://images.unsplash.com/photo-1497486751825-1233686d5d80?w=1600&h=1200&fit=crop&q=95&auto=format\",\r\n  health: \"https://images.unsplash.com/photo-1576091160399-112ba8d25d1f?w=1600&h=1200&fit=crop&q=95&auto=format\",\r\n  youth: \"https://images.unsplash.com/photo-1522202176988-66273c2fd55f?w=1600&h=1200&fit=crop&q=95&auto=format\"\r\n};\r\n\r\n// Color schemes for different pillars\r\nconst PILLAR_THEMES = [\r\n  { gradient: \"from-emerald-900/60 via-green-800/40 to-emerald-900/60\", accentColor: \"#00ff88\", icon: \"\" },\r\n  { gradient: \"from-blue-900/60 via-indigo-800/40 to-blue-900/60\", accentColor: \"#00ccff\", icon: \"\" },\r\n  { gradient: \"from-purple-900/60 via-violet-800/40 to-purple-900/60\", accentColor: \"#ff44ff\", icon: \"\" },\r\n  { gradient: \"from-teal-900/60 via-cyan-800/40 to-teal-900/60\", accentColor: \"#00ffd4\", icon: \"\" },\r\n  { gradient: \"from-sky-900/60 via-blue-800/40 to-sky-900/60\", accentColor: \"#0088ff\", icon: \"\" },\r\n  { gradient: \"from-amber-900/60 via-yellow-800/40 to-amber-900/60\", accentColor: \"#ffaa00\", icon: \"\" },\r\n  { gradient: \"from-rose-900/60 via-pink-800/40 to-rose-900/60\", accentColor: \"#ff4488\", icon: \"\" },\r\n  { gradient: \"from-red-900/60 via-rose-800/40 to-red-900/60\", accentColor: \"#ff3366\", icon: \"\" },\r\n  { gradient: \"from-orange-900/60 via-amber-800/40 to-orange-900/60\", accentColor: \"#ff6600\", icon: \"\" }\r\n];\r\n\r\n// Utility function to get image based on pillar name/keywords\r\nconst getImageForPillar = (name, description) => {\r\n  const lowerName = name.toLowerCase();\r\n  \r\n  if (lowerName.includes('energy') || lowerName.includes('net zero')) return DEFAULT_IMAGES.energy;\r\n  if (lowerName.includes('peace') || lowerName.includes('security') || lowerName.includes('migration')) return DEFAULT_IMAGES.peace;\r\n  if (lowerName.includes('waste') || lowerName.includes('chemical')) return DEFAULT_IMAGES.waste;\r\n  if (lowerName.includes('nature') || lowerName.includes('conservation') || lowerName.includes('resource')) return DEFAULT_IMAGES.nature;\r\n  if (lowerName.includes('water') || lowerName.includes('wash') || lowerName.includes('sanitation')) return DEFAULT_IMAGES.water;\r\n  if (lowerName.includes('agriculture') || lowerName.includes('food')) return DEFAULT_IMAGES.agriculture;\r\n  if (lowerName.includes('education') || lowerName.includes('learning')) return DEFAULT_IMAGES.education;\r\n  if (lowerName.includes('health')) return DEFAULT_IMAGES.health;\r\n  if (lowerName.includes('youth') || lowerName.includes('job') || lowerName.includes('employment')) return DEFAULT_IMAGES.youth;\r\n  \r\n  // Default to nature image\r\n  return DEFAULT_IMAGES.nature;\r\n};\r\n\r\n// Transform API data to component format\r\nconst transformPillarData = (apiPillars) => {\r\n  return apiPillars.map((pillar, index) => {\r\n    const theme = PILLAR_THEMES[index % PILLAR_THEMES.length];\r\n    const focusAreas = pillar.focus_areas ? pillar.focus_areas.map(fa => fa.name) : [];\r\n    \r\n    return {\r\n      id: pillar.id,\r\n      title: pillar.name,\r\n      text: pillar.description,\r\n      focusAreas: focusAreas,\r\n      number: String(index + 1).padStart(2, '0'),\r\n      image: getImageForPillar(pillar.name, pillar.description),\r\n      gradient: theme.gradient,\r\n      accentColor: theme.accentColor,\r\n      icon: theme.icon\r\n    };\r\n  });\r\n};\r\n\r\n// Custom Hooks\r\nconst useScrollParallax = () => {\r\n  const [scrollY, setScrollY] = useState(0);\r\n  \r\n  useEffect(() => {\r\n    const handleScroll = () => setScrollY(window.scrollY);\r\n    window.addEventListener('scroll', handleScroll, { passive: true });\r\n    return () => window.removeEventListener('scroll', handleScroll);\r\n  }, []);\r\n  \r\n  return scrollY * ANIMATION_CONFIG.parallaxMultiplier;\r\n};\r\n\r\nconst useMouseTracking = () => {\r\n  const [mousePosition, setMousePosition] = useState({ x: 0, y: 0 });\r\n  \r\n  useEffect(() => {\r\n    const handleMouseMove = (e) => {\r\n      setMousePosition({\r\n        x: (e.clientX / window.innerWidth - 0.5) * 2,\r\n        y: (e.clientY / window.innerHeight - 0.5) * 2\r\n      });\r\n    };\r\n    \r\n    window.addEventListener('mousemove', handleMouseMove, { passive: true });\r\n    return () => window.removeEventListener('mousemove', handleMouseMove);\r\n  }, []);\r\n  \r\n  return {\r\n    mousePosition,\r\n    mouseParallax: {\r\n      x: mousePosition.x * ANIMATION_CONFIG.mouseParallax.x,\r\n      y: mousePosition.y * ANIMATION_CONFIG.mouseParallax.y\r\n    }\r\n  };\r\n};\r\n\r\nconst useVisibilityObserver = () => {\r\n  const [isVisible, setIsVisible] = useState(false);\r\n  const sectionRef = useRef(null);\r\n  \r\n  useEffect(() => {\r\n    const observer = new IntersectionObserver(\r\n      (entries) => {\r\n        entries.forEach((entry) => {\r\n          if (entry.isIntersecting) {\r\n            setIsVisible(true);\r\n          }\r\n        });\r\n      },\r\n      { threshold: 0.05, rootMargin: '0px 0px -50px 0px' }\r\n    );\r\n\r\n    if (sectionRef.current) {\r\n      observer.observe(sectionRef.current);\r\n    }\r\n\r\n    return () => observer.disconnect();\r\n  }, []);\r\n  \r\n  return { isVisible, sectionRef };\r\n};\r\n\r\nconst useAutoRotation = (maxIndex, onRotate, isEnabled = true) => {\r\n  useEffect(() => {\r\n    if (!isEnabled || maxIndex === 0) return;\r\n    \r\n    const interval = setInterval(() => {\r\n      onRotate(prev => (prev + 1) % maxIndex);\r\n    }, ANIMATION_CONFIG.autoRotateInterval);\r\n    \r\n    return () => clearInterval(interval);\r\n  }, [maxIndex, onRotate, isEnabled]);\r\n};\r\n\r\n// API Hook\r\nconst usePillarsData = () => {\r\n  const [pillars, setPillars] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n\r\n  const fetchPillars = async () => {\r\n    try {\r\n      setLoading(true);\r\n      setError(null);\r\n      \r\n      console.log('Fetching pillars from API...');\r\n      \r\n      const response = await fetch(`${API_BASE}/pillars`, { \r\n        credentials: 'include',\r\n        headers: {\r\n          'Accept': 'application/json'\r\n        }\r\n      });\r\n      \r\n      if (!response.ok) {\r\n        throw new Error(`Failed to fetch pillars: ${response.status} ${response.statusText}`);\r\n      }\r\n      \r\n      const data = await response.json();\r\n      console.log('Pillars data received:', data);\r\n      \r\n      const transformedPillars = transformPillarData(data.data || []);\r\n      setPillars(transformedPillars);\r\n      \r\n    } catch (err) {\r\n      console.error('Error fetching pillars:', err);\r\n      setError(err.message);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchPillars();\r\n  }, []);\r\n\r\n  return { pillars, loading, error, refetch: fetchPillars };\r\n};\r\n\r\n// Style Generators\r\nconst createGlassBackground = (colors, opacity = 0.1) => `\r\n  linear-gradient(135deg, \r\n    ${colors.surface}aa 0%,\r\n    ${colors.cardBg}77 50%,\r\n    ${colors.surface}aa 100%)\r\n`;\r\n\r\nconst createHolographicGradient = (color1, color2, colors) => `\r\n  linear-gradient(135deg, \r\n    ${color1} 0%, \r\n    ${color2} 50%,\r\n    ${color1} 100%)\r\n`;\r\n\r\nconst createQuantumBackground = (accentColor, colors) => `\r\n  linear-gradient(135deg, \r\n    ${colors.background} 0%,\r\n    rgba(0, 0, 0, 0.6) 25%,\r\n    rgba(0, 0, 0, 0.4) 50%,\r\n    rgba(0, 0, 0, 0.7) 75%,\r\n    ${colors.background} 100%\r\n  ),\r\n  radial-gradient(circle at 30% 40%, ${accentColor}20 0%, transparent 60%),\r\n  radial-gradient(circle at 80% 20%, ${accentColor}15 0%, transparent 50%)\r\n`;\r\n\r\n// Sub-components\r\nconst QuantumBackground = ({ activePillar, scrollY, mouseParallax, colors }) => (\r\n  <div className=\"quantum-background\">\r\n    <img\r\n      key={activePillar.number}\r\n      src={activePillar.image}\r\n      alt={activePillar.title}\r\n      className=\"background-image\"\r\n      style={{\r\n        transform: `scale(${1.1 + mouseParallax.x * 0.0008}) translate3d(${mouseParallax.x * 0.5}px, ${mouseParallax.y * 0.3}px, 0)`\r\n      }}\r\n    />\r\n    \r\n    <div \r\n      className=\"dynamic-overlay\"\r\n      style={{ background: createQuantumBackground(activePillar.accentColor, colors) }}\r\n    />\r\n  </div>\r\n);\r\n\r\nconst QuantumEffects = ({ activePillar, parallaxOffset, mouseParallax, scrollY, colors }) => (\r\n  <>\r\n    <div \r\n      className=\"floating-element floating-element--right\"\r\n      style={{\r\n        background: `conic-gradient(from ${scrollY * 0.1}deg at 50% 50%, \r\n          ${activePillar.accentColor}40 0deg, \r\n          transparent 60deg, \r\n          ${activePillar.accentColor}20 120deg,\r\n          transparent 180deg,\r\n          ${activePillar.accentColor}30 240deg,\r\n          transparent 300deg,\r\n          ${activePillar.accentColor}40 360deg)`,\r\n        transform: `translate3d(${mouseParallax.x * 1.2}px, ${mouseParallax.y + parallaxOffset * 0.08}px, 0) rotate(${scrollY * 0.03}deg)`\r\n      }}\r\n    />\r\n    \r\n    <div \r\n      className=\"floating-element floating-element--left\"\r\n      style={{\r\n        background: `radial-gradient(circle, \r\n          ${activePillar.accentColor}25 0%, \r\n          ${activePillar.accentColor}15 30%,\r\n          transparent 70%)`,\r\n        transform: `translate3d(${-mouseParallax.x * 0.8}px, ${-mouseParallax.y * 0.6 - parallaxOffset * 0.05}px, 0) rotate(${-scrollY * 0.02}deg)`\r\n      }}\r\n    />\r\n    \r\n    <div \r\n      className=\"grid-line grid-line--left\"\r\n      style={{\r\n        background: `linear-gradient(to bottom, \r\n          transparent, \r\n          ${activePillar.accentColor}60, \r\n          ${activePillar.accentColor}80,\r\n          ${activePillar.accentColor}40,\r\n          transparent)`,\r\n        transform: `translate3d(${mouseParallax.x * 0.8}px, ${parallaxOffset * 0.15}px, 0) \r\n          rotateZ(${15 + mouseParallax.x * 0.2}deg) \r\n          perspective(1000px) \r\n          rotateX(${15 + mouseParallax.y * 0.4}deg)`,\r\n        boxShadow: `0 0 30px ${activePillar.accentColor}60`\r\n      }}\r\n    />\r\n    \r\n    <div \r\n      className=\"grid-line grid-line--right\"\r\n      style={{\r\n        background: `linear-gradient(to bottom, \r\n          transparent, \r\n          ${activePillar.accentColor}40, \r\n          ${activePillar.accentColor}60,\r\n          transparent)`,\r\n        transform: `translate3d(${-mouseParallax.x * 0.6}px, ${-parallaxOffset * 0.1}px, 0) \r\n          rotateZ(${-20 + mouseParallax.x * 0.12}deg)`,\r\n        boxShadow: `0 0 20px ${activePillar.accentColor}40`\r\n      }}\r\n    />\r\n  </>\r\n);\r\n\r\n\r\n\r\nconst PillarNavigationItem = ({ pillar, index, isActive, onSelect, colors }) => {\r\n  const handleMouseEnter = (e) => {\r\n    if (!isActive) {\r\n      const element = e.currentTarget;\r\n      element.style.opacity = '0.8';\r\n      element.style.transform = 'translate3d(15px, 0, 15px) scale(1.01)';\r\n      element.style.background = createGlassBackground(colors, 0.15);\r\n      element.style.borderColor = `${pillar.accentColor}20`;\r\n    }\r\n  };\r\n\r\n  const handleMouseLeave = (e) => {\r\n    if (!isActive) {\r\n      const element = e.currentTarget;\r\n      element.style.opacity = '0.5';\r\n      element.style.transform = 'translate3d(0, 0, 0) scale(1)';\r\n      element.style.background = 'transparent';\r\n      element.style.borderColor = 'transparent';\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div\r\n      className={`pillar-nav-item ${isActive ? 'pillar-nav-item--active' : ''}`}\r\n      style={{\r\n        background: isActive \r\n          ? createGlassBackground(colors, 0.2)\r\n          : 'transparent',\r\n        borderColor: isActive ? `${pillar.accentColor}40` : 'transparent',\r\n        boxShadow: isActive \r\n          ? `inset 0 1px 0 ${colors.border}, 0 15px 40px ${colors.cardShadow}, 0 0 50px ${pillar.accentColor}30`\r\n          : 'none'\r\n      }}\r\n      onClick={() => onSelect(index)}\r\n      onMouseEnter={handleMouseEnter}\r\n      onMouseLeave={handleMouseLeave}\r\n    >\r\n      {isActive && <div className=\"quantum-ripple\" style={{ background: `radial-gradient(circle, ${pillar.accentColor}15 0%, transparent 70%)` }} />}\r\n      \r\n      <div \r\n        className=\"pillar-number\"\r\n        style={{\r\n          background: isActive \r\n            ? createHolographicGradient(pillar.accentColor, colors.text, colors)\r\n            : colors.surface,\r\n          color: isActive ? colors.text : colors.textSecondary,\r\n          textShadow: isActive ? `0 0 30px ${pillar.accentColor}80` : 'none'\r\n        }}\r\n      >\r\n        {pillar.number}\r\n      </div>\r\n\r\n      <div className=\"pillar-icon\" style={{ filter: isActive ? `drop-shadow(0 0 10px ${pillar.accentColor}60)` : 'none' }}>\r\n        {pillar.icon}\r\n      </div>\r\n      \r\n      <h3 \r\n        className=\"pillar-title\"\r\n        style={{\r\n          color: isActive ? colors.text : colors.textMuted,\r\n          textShadow: isActive ? `0 0 20px ${pillar.accentColor}40` : 'none'\r\n        }}\r\n      >\r\n        {pillar.title}\r\n      </h3>\r\n      \r\n      <div \r\n        className=\"activation-indicator\"\r\n        style={{\r\n          background: isActive \r\n            ? `linear-gradient(to bottom, ${pillar.accentColor}, ${colors.text}, ${pillar.accentColor})` \r\n            : colors.border,\r\n          boxShadow: isActive ? `0 0 25px ${pillar.accentColor}80, inset 0 0 10px ${pillar.accentColor}40` : 'none'\r\n        }}\r\n      >\r\n        {isActive && (\r\n          <>\r\n            <div className=\"quantum-orb quantum-orb--top\" style={{ background: pillar.accentColor, boxShadow: `0 0 20px ${pillar.accentColor}80` }} />\r\n            <div className=\"quantum-orb quantum-orb--bottom\" style={{ background: colors.text }} />\r\n          </>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst PillarNavigation = ({ pillars, activeIndex, onPillarChange, activePillar, isVisible, colors }) => (\r\n  <div className={`pillar-navigation ${isVisible ? 'pillar-navigation--visible' : ''}`}>\r\n    <div \r\n      className=\"navigation-container\"\r\n      style={{\r\n        background: createGlassBackground(colors, 0.12),\r\n        border: `1px solid ${colors.border}`,\r\n        boxShadow: `0 30px 80px ${colors.cardShadow}, inset 0 1px 0 ${colors.border}, 0 0 40px ${activePillar.accentColor}20`\r\n      }}\r\n    >\r\n      <div \r\n        className=\"quantum-edge-glow\"\r\n        style={{\r\n          background: `conic-gradient(from 0deg, ${activePillar.accentColor}40, transparent, ${activePillar.accentColor}20, transparent, ${activePillar.accentColor}40)`\r\n        }}\r\n      />\r\n      \r\n      {pillars.map((pillar, index) => (\r\n        <PillarNavigationItem\r\n          key={pillar.id}\r\n          pillar={pillar}\r\n          index={index}\r\n          isActive={index === activeIndex}\r\n          onSelect={onPillarChange}\r\n          colors={colors}\r\n        />\r\n      ))}\r\n    </div>\r\n  </div>\r\n);\r\n\r\nconst FocusAreasGrid = ({ focusAreas, accentColor, isTransitioning, isVisible, colors }) => (\r\n  <div className=\"focus-areas\">\r\n    <h4 \r\n      className=\"focus-areas-title\" \r\n      style={{ \r\n        color: accentColor, \r\n        textShadow: `0 0 25px ${accentColor}80`\r\n      }}\r\n    >\r\n      <div style={{ background: `linear-gradient(90deg, ${accentColor}, transparent)` }} className=\"title-line\" />\r\n      Focus Areas Matrix\r\n      <div style={{ background: `linear-gradient(90deg, transparent, ${accentColor})` }} className=\"title-line\" />\r\n    </h4>\r\n    \r\n    <div className=\"focus-areas-grid\">\r\n      {focusAreas.map((area, index) => (\r\n        <div\r\n          key={index}\r\n          className={`focus-area-item ${isVisible ? 'focus-area-item--visible' : ''}`}\r\n          style={{\r\n            background: createGlassBackground(colors, 0.15),\r\n            border: `1px solid ${colors.border}`,\r\n            opacity: isTransitioning ? 0.3 : 1,\r\n            animationDelay: `${index * 0.15}s`,\r\n            color: colors.text\r\n          }}\r\n          onMouseEnter={(e) => {\r\n            e.target.style.background = createGlassBackground(colors, 0.25);\r\n            e.target.style.borderColor = `${accentColor}60`;\r\n            e.target.style.transform = 'translate3d(0, -12px, 30px) scale(1.03)';\r\n            e.target.style.boxShadow = `0 25px 60px ${colors.cardShadow}, inset 0 1px 0 ${colors.border}, 0 0 40px ${accentColor}60`;\r\n            e.target.style.color = colors.text;\r\n          }}\r\n          onMouseLeave={(e) => {\r\n            e.target.style.background = createGlassBackground(colors, 0.15);\r\n            e.target.style.borderColor = colors.border;\r\n            e.target.style.transform = 'translate3d(0, 0, 0)';\r\n            e.target.style.boxShadow = `inset 0 1px 0 ${colors.border}, 0 10px 30px ${colors.cardShadow}`;\r\n            e.target.style.color = colors.text;\r\n          }}\r\n        >\r\n          <div className=\"quantum-particle\" style={{ background: accentColor, boxShadow: `0 0 15px ${accentColor}80` }} />\r\n          {area}\r\n        </div>\r\n      ))}\r\n    </div>\r\n  </div>\r\n);\r\n\r\nconst ProgressMatrix = ({ pillars, activeIndex, activePillar, onPillarChange, colors }) => {\r\n  const createProgressButton = (direction, targetIndex, symbol) => {\r\n    const handleMouseEnter = (e) => {\r\n      e.target.style.background = createGlassBackground(colors, 0.3);\r\n      e.target.style.transform = 'scale(1.1) translate3d(0, -2px, 10px)';\r\n      e.target.style.boxShadow = `0 10px 25px ${colors.cardShadow}, 0 0 30px ${activePillar.accentColor}60`;\r\n      e.target.style.color = colors.text;\r\n    };\r\n\r\n    const handleMouseLeave = (e) => {\r\n      e.target.style.background = createGlassBackground(colors, 0.15);\r\n      e.target.style.transform = 'scale(1) translate3d(0, 0, 0)';\r\n      e.target.style.boxShadow = `inset 0 1px 0 ${colors.border}`;\r\n      e.target.style.color = activePillar.accentColor;\r\n    };\r\n\r\n    return (\r\n      <button\r\n        className=\"progress-button\"\r\n        style={{\r\n          background: createGlassBackground(colors, 0.15),\r\n          border: `1px solid ${colors.border}`,\r\n          color: activePillar.accentColor\r\n        }}\r\n        onClick={() => onPillarChange(targetIndex)}\r\n        onMouseEnter={handleMouseEnter}\r\n        onMouseLeave={handleMouseLeave}\r\n      >\r\n        {symbol}\r\n      </button>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div \r\n      className=\"progress-matrix\"\r\n      style={{\r\n        background: createGlassBackground(colors, 0.12),\r\n        border: `1px solid ${colors.border}`,\r\n        boxShadow: `inset 0 1px 0 ${colors.border}`\r\n      }}\r\n    >\r\n      <div className=\"progress-bars\">\r\n        {pillars.map((pillar, index) => (\r\n          <div\r\n            key={pillar.id}\r\n            className=\"progress-bar\"\r\n            style={{\r\n              background: index <= activeIndex \r\n                ? `linear-gradient(90deg, ${activePillar.accentColor}, ${colors.text}, ${activePillar.accentColor})` \r\n                : colors.surface,\r\n              boxShadow: index <= activeIndex \r\n                ? `0 0 20px ${activePillar.accentColor}80, inset 0 1px 2px ${activePillar.accentColor}40` \r\n                : 'none'\r\n            }}\r\n            onClick={() => onPillarChange(index)}\r\n            onMouseEnter={(e) => {\r\n              if (index > activeIndex) {\r\n                e.target.style.background = colors.cardBg;\r\n              }\r\n            }}\r\n            onMouseLeave={(e) => {\r\n              if (index > activeIndex) {\r\n                e.target.style.background = colors.surface;\r\n              }\r\n            }}\r\n          >\r\n            {index <= activeIndex && (\r\n              <div className=\"progress-particle\" style={{ background: colors.text }} />\r\n            )}\r\n          </div>\r\n        ))}\r\n      </div>\r\n      \r\n      <div \r\n        className=\"progress-counter\"\r\n        style={{\r\n          background: createGlassBackground(colors, 0.2),\r\n          border: `1px solid ${colors.border}`,\r\n          color: colors.text,\r\n          textShadow: `0 0 20px ${activePillar.accentColor}60`,\r\n          boxShadow: `inset 0 1px 0 ${colors.border}, 0 0 25px ${activePillar.accentColor}40`\r\n        }}\r\n      >\r\n        {String(activeIndex + 1).padStart(2, '0')} <span className=\"counter-separator\" style={{ color: colors.textMuted }}>/</span> {String(pillars.length).padStart(2, '0')}\r\n      </div>\r\n\r\n      <div className=\"navigation-controls\">\r\n        {createProgressButton('prev', activeIndex > 0 ? activeIndex - 1 : pillars.length - 1, '')}\r\n        {createProgressButton('next', activeIndex < pillars.length - 1 ? activeIndex + 1 : 0, '')}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst PillarContent = ({ activePillar, isVisible, isTransitioning, mousePosition, colors }) => (\r\n  <div className={`pillar-content ${isVisible ? 'pillar-content--visible' : ''}`}>\r\n    <div \r\n      className=\"content-container\"\r\n      style={{\r\n        background: createGlassBackground(colors, 0.15),\r\n        border: `1px solid ${colors.border}`,\r\n        boxShadow: `0 40px 120px ${colors.cardShadow}, inset 0 1px 0 ${colors.border}, 0 0 60px ${activePillar.accentColor}20`,\r\n        transform: `perspective(1000px) rotateX(${mousePosition.y * 1}deg) rotateY(${mousePosition.x * 1}deg) translate3d(0, 0, ${isTransitioning ? '-50px' : '0'})`\r\n      }}\r\n    >\r\n      <div \r\n        className=\"quantum-mesh\"\r\n        style={{\r\n          background: `\r\n            radial-gradient(circle at 20% 80%, ${activePillar.accentColor}15 0%, transparent 50%),\r\n            radial-gradient(circle at 80% 20%, ${activePillar.accentColor}10 0%, transparent 50%),\r\n            linear-gradient(45deg, transparent 49%, ${activePillar.accentColor}05 50%, transparent 51%)\r\n          `\r\n        }}\r\n      />\r\n\r\n      <div className=\"content-header\">\r\n        <div \r\n          className=\"content-number\"\r\n          style={{\r\n            background: createHolographicGradient(activePillar.accentColor, colors.text, colors),\r\n            color: colors.text,\r\n            textShadow: `0 0 50px ${activePillar.accentColor}80`\r\n          }}\r\n        >\r\n          {activePillar.number}\r\n        </div>\r\n\r\n        <div className=\"content-title-group\">\r\n          <h2 \r\n            className=\"content-title\"\r\n            style={{\r\n              background: createHolographicGradient(colors.text, activePillar.accentColor, colors),\r\n              color: colors.text,\r\n              textShadow: `0 0 40px ${activePillar.accentColor}60`,\r\n              opacity: isTransitioning ? 0.3 : 1,\r\n              transform: isTransitioning ? 'translate3d(0, 20px, -10px)' : 'translate3d(0, 0, 0)'\r\n            }}\r\n          >\r\n            {activePillar.title}\r\n          </h2>\r\n          \r\n          <div \r\n            className=\"content-icon\"\r\n            style={{ filter: `drop-shadow(0 0 20px ${activePillar.accentColor}80)` }}\r\n          >\r\n            {activePillar.icon}\r\n          </div>\r\n        </div>\r\n      </div>\r\n      \r\n      <p \r\n        className=\"content-text\"\r\n        style={{\r\n          color: colors.textSecondary,\r\n          opacity: isTransitioning ? 0.3 : 1,\r\n          transform: isTransitioning ? 'translate3d(0, 30px, -20px)' : 'translate3d(0, 0, 0)'\r\n        }}\r\n      >\r\n        {activePillar.text}\r\n      </p>\r\n\r\n      <FocusAreasGrid \r\n        focusAreas={activePillar.focusAreas}\r\n        accentColor={activePillar.accentColor}\r\n        isTransitioning={isTransitioning}\r\n        isVisible={isVisible}\r\n        colors={colors}\r\n      />\r\n      \r\n      <div className=\"status-matrix\" style={{ borderColor: colors.border }}>\r\n        <div className=\"status-item\" style={{ color: colors.textMuted }}>\r\n          Impact Level: <span className=\"status-value\" style={{ color: activePillar.accentColor, textShadow: `0 0 10px ${activePillar.accentColor}60` }}>Continental</span>\r\n        </div>\r\n        \r\n        <div className=\"status-item\" style={{ color: colors.textMuted }}>\r\n          Status: <span className=\"status-value status-value--active\" style={{ color: colors.accent }}>Active</span>\r\n        </div>\r\n        \r\n        <div className=\"quantum-sync\">\r\n          <div \r\n            className=\"sync-indicator\"\r\n            style={{\r\n              background: activePillar.accentColor,\r\n              boxShadow: `0 0 15px ${activePillar.accentColor}80`\r\n            }}\r\n          />\r\n          <span className=\"sync-label\" style={{ color: colors.textMuted }}>Quantum Sync</span>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n);\r\n\r\n// Loading Component\r\nconst LoadingScreen = ({ colors }) => (\r\n  <div className=\"loading-screen\" style={{ background: colors.background }}>\r\n    <div className=\"loading-container\" style={{ background: createGlassBackground(colors, 0.1), border: `1px solid ${colors.border}` }}>\r\n      <div className=\"quantum-loader\">\r\n        <div \r\n          className=\"loader-ring\"\r\n          style={{\r\n            borderColor: `${colors.accent}40`,\r\n            borderTopColor: colors.accent\r\n          }}\r\n        />\r\n        <div \r\n          className=\"loader-pulse\"\r\n          style={{\r\n            background: `radial-gradient(circle, ${colors.accent}40 0%, transparent 70%)`\r\n          }}\r\n        />\r\n      </div>\r\n      \r\n      <div className=\"loading-text\" style={{ color: colors.accent }}>\r\n        Initializing Quantum Matrix...\r\n      </div>\r\n      \r\n      <div className=\"loading-subtitle\" style={{ color: colors.textSecondary }}>\r\n        Synchronizing programme data streams\r\n      </div>\r\n    </div>\r\n  </div>\r\n);\r\n\r\n// Error Component\r\nconst ErrorScreen = ({ error, onRetry, colors }) => (\r\n  <div className=\"error-screen\" style={{ background: colors.background }}>\r\n    <div className=\"error-container\" style={{ background: createGlassBackground(colors, 0.1), border: `1px solid ${colors.border}` }}>\r\n      <div className=\"error-icon\" style={{ color: colors.error }}></div>\r\n      <h3 className=\"error-title\" style={{ color: colors.text }}>Connection Error</h3>\r\n      <p className=\"error-message\" style={{ color: colors.textSecondary }}>{error}</p>\r\n      \r\n      <button \r\n        className=\"retry-button\"\r\n        onClick={onRetry}\r\n        style={{\r\n          background: createGlassBackground(colors, 0.2),\r\n          border: `1px solid ${colors.border}`,\r\n          color: colors.text\r\n        }}\r\n        onMouseEnter={(e) => {\r\n          e.target.style.background = createGlassBackground(colors, 0.4);\r\n          e.target.style.transform = 'scale(1.05)';\r\n        }}\r\n        onMouseLeave={(e) => {\r\n          e.target.style.background = createGlassBackground(colors, 0.2);\r\n          e.target.style.transform = 'scale(1)';\r\n        }}\r\n      >\r\n        Retry Connection\r\n      </button>\r\n    </div>\r\n  </div>\r\n);\r\n\r\n// Main Component\r\nexport default function ProgrammePillarsSection() {\r\n  const [activeIndex, setActiveIndex] = useState(0);\r\n  const [isTransitioning, setIsTransitioning] = useState(false);\r\n  const { colors } = useTheme();\r\n  \r\n  // API Data Hook\r\n  const { pillars, loading, error, refetch } = usePillarsData();\r\n  \r\n  // Custom Hooks\r\n  const parallaxOffset = useScrollParallax();\r\n  const { mousePosition, mouseParallax } = useMouseTracking();\r\n  const { isVisible, sectionRef } = useVisibilityObserver();\r\n  \r\n  // Auto-rotation (disabled when loading or no data)\r\n  useAutoRotation(pillars.length, setActiveIndex, !loading && pillars.length > 0);\r\n\r\n  // Reset active index when pillars change\r\n  useEffect(() => {\r\n    if (pillars.length > 0 && activeIndex >= pillars.length) {\r\n      setActiveIndex(0);\r\n    }\r\n  }, [pillars.length, activeIndex]);\r\n\r\n  const handlePillarChange = (index) => {\r\n    if (index !== activeIndex && pillars.length > 0) {\r\n      setIsTransitioning(true);\r\n      setTimeout(() => {\r\n        setActiveIndex(index);\r\n        setIsTransitioning(false);\r\n      }, ANIMATION_CONFIG.transitionDuration);\r\n    }\r\n  };\r\n\r\n  // Handle loading state\r\n  if (loading) {\r\n    return (\r\n      <div ref={sectionRef} className=\"programme-pillars-section\">\r\n        <LoadingScreen colors={colors} />\r\n        <style>{getStyles(colors)}</style>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // Handle error state\r\n  if (error) {\r\n    return (\r\n      <div ref={sectionRef} className=\"programme-pillars-section\">\r\n        <ErrorScreen error={error} onRetry={refetch} colors={colors} />\r\n        <style>{getStyles(colors)}</style>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // Handle empty state\r\n  if (!pillars || pillars.length === 0) {\r\n    return (\r\n      <div ref={sectionRef} className=\"programme-pillars-section\">\r\n        <div className=\"empty-state\" style={{ background: colors.background }}>\r\n          <div className=\"empty-container\" style={{ background: createGlassBackground(colors, 0.1), border: `1px solid ${colors.border}` }}>\r\n            <div className=\"empty-icon\"></div>\r\n            <h3 className=\"empty-title\" style={{ color: colors.text }}>No Programme Pillars Available</h3>\r\n            <p className=\"empty-message\" style={{ color: colors.textSecondary }}>\r\n              Programme pillars are currently being configured. Please check back later.\r\n            </p>\r\n            <button \r\n              className=\"refresh-button\"\r\n              onClick={refetch}\r\n              style={{\r\n                background: createGlassBackground(colors, 0.2),\r\n                border: `1px solid ${colors.border}`,\r\n                color: colors.text\r\n              }}\r\n            >\r\n              Refresh Data\r\n            </button>\r\n          </div>\r\n        </div>\r\n        <style>{getStyles(colors)}</style>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  const activePillar = pillars[activeIndex];\r\n\r\n  return (\r\n    <div ref={sectionRef} className=\"programme-pillars-section\" style={{ backgroundColor: colors.background }}>\r\n      <QuantumBackground \r\n        activePillar={activePillar}\r\n        scrollY={window.scrollY || 0}\r\n        mouseParallax={mouseParallax}\r\n        colors={colors}\r\n      />\r\n      \r\n      <QuantumEffects \r\n        activePillar={activePillar}\r\n        parallaxOffset={parallaxOffset}\r\n        mouseParallax={mouseParallax}\r\n        scrollY={window.scrollY || 0}\r\n        colors={colors}\r\n      />\r\n\r\n      <div className=\"section-container\">\r\n\r\n      {/* Title section */}\r\n      <div\r\n        style={{\r\n          maxWidth: '1100px',\r\n          margin: '0 auto 80px auto',\r\n          textAlign: 'center'\r\n        }}\r\n      >\r\n        \r\n        <motion.h1\r\n          initial={{ opacity: 0, y: 30 }}\r\n          whileInView={{ opacity: 1, y: 0 }}\r\n          viewport={{ margin: '-50px' }}\r\n          transition={{ duration: 0.6 }}\r\n          style={{\r\n            fontSize: 'clamp(32px, 4vw, 48px)',\r\n            fontWeight: 600,\r\n            color: colors.text,\r\n            margin: '0 0 16px 0',\r\n            letterSpacing: '-0.02em',\r\n            lineHeight: '1.1'\r\n          }}\r\n        >\r\n          Programme Pillars\r\n        </motion.h1>\r\n        \r\n        <motion.div\r\n          initial={{ scaleX: 0 }}\r\n          whileInView={{ scaleX: 1 }}\r\n          viewport={{ margin: '-50px' }}\r\n          transition={{ duration: 0.8 }}\r\n          style={{\r\n            width: '60px',\r\n            height: '2px',\r\n            background: `linear-gradient(90deg, ${colors.secondary} 0%, ${colors.secondaryLight} 100%)`,\r\n            margin: '0 auto 24px auto',\r\n            borderRadius: '1px',\r\n            transformOrigin: 'center'\r\n          }}\r\n        />\r\n\r\n        <motion.p\r\n          initial={{ opacity: 0, y: 20 }}\r\n          whileInView={{ opacity: 1, y: 0 }}\r\n          viewport={{ margin: '-50px' }}\r\n          transition={{ duration: 0.6, delay: 0.2 }}\r\n          style={{\r\n            fontSize: '16px',\r\n            color: colors.textSecondary,\r\n            margin: '0',\r\n            letterSpacing: '0.5px',\r\n            fontWeight: 400,\r\n            opacity: 0.9\r\n          }}\r\n        >\r\n          ACEF's key programme pillars that define our impact and plan.\r\n        </motion.p>\r\n      </div>\r\n\r\n\r\n\r\n\r\n        <div className=\"content-grid\">\r\n          <PillarNavigation\r\n            pillars={pillars}\r\n            activeIndex={activeIndex}\r\n            onPillarChange={handlePillarChange}\r\n            activePillar={activePillar}\r\n            isVisible={isVisible}\r\n            colors={colors}\r\n          />\r\n\r\n          <PillarContent\r\n            activePillar={activePillar}\r\n            isVisible={isVisible}\r\n            isTransitioning={isTransitioning}\r\n            mousePosition={mousePosition}\r\n            colors={colors}\r\n          />\r\n        </div>\r\n\r\n        <ProgressMatrix \r\n          pillars={pillars}\r\n          activeIndex={activeIndex}\r\n          activePillar={activePillar}\r\n          onPillarChange={handlePillarChange}\r\n          colors={colors}\r\n        />\r\n      </div>\r\n\r\n      <style>{getStyles(colors)}</style>\r\n    </div>\r\n  );\r\n}\r\n\r\n// Styles function with theme integration\r\nfunction getStyles(colors) {\r\n  return `\r\n    .programme-pillars-section {\r\n      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;\r\n      min-height: 100vh;\r\n      position: relative;\r\n      overflow: hidden;\r\n      background-color: ${colors.background};\r\n    }\r\n\r\n    /* Loading States */\r\n    .loading-screen, .error-screen, .empty-state {\r\n      display: flex;\r\n      align-items: center;\r\n      justify-content: center;\r\n      min-height: 100vh;\r\n    }\r\n\r\n    .loading-container, .error-container, .empty-container {\r\n      text-align: center;\r\n      padding: 60px;\r\n      backdrop-filter: blur(20px);\r\n      border-radius: 24px;\r\n      box-shadow: 0 20px 60px ${colors.cardShadow};\r\n    }\r\n\r\n    .quantum-loader {\r\n      position: relative;\r\n      width: 80px;\r\n      height: 80px;\r\n      margin: 0 auto 30px;\r\n    }\r\n\r\n    .loader-ring {\r\n      width: 80px;\r\n      height: 80px;\r\n      border: 3px solid transparent;\r\n      border-radius: 50%;\r\n      animation: quantumSpin 2s linear infinite;\r\n    }\r\n\r\n    .loader-pulse {\r\n      position: absolute;\r\n      top: 50%;\r\n      left: 50%;\r\n      width: 40px;\r\n      height: 40px;\r\n      transform: translate(-50%, -50%);\r\n      border-radius: 50%;\r\n      animation: quantumPulse 1.5s ease-in-out infinite;\r\n    }\r\n\r\n    .loading-text, .error-title, .empty-title {\r\n      font-size: clamp(20px, 3vw, 24px);\r\n      font-weight: 700;\r\n      margin-bottom: 15px;\r\n      text-shadow: 0 0 20px currentColor;\r\n      letter-spacing: -0.02em;\r\n    }\r\n\r\n    .loading-subtitle, .error-message, .empty-message {\r\n      font-size: 16px;\r\n      margin-bottom: 30px;\r\n      line-height: 1.6;\r\n    }\r\n\r\n    .error-icon, .empty-icon {\r\n      font-size: 4rem;\r\n      margin-bottom: 20px;\r\n    }\r\n\r\n    .retry-button, .refresh-button {\r\n      padding: 15px 30px;\r\n      border-radius: 12px;\r\n      font-weight: 600;\r\n      cursor: pointer;\r\n      transition: all 0.3s ease;\r\n      backdrop-filter: blur(10px);\r\n      font-size: 14px;\r\n    }\r\n\r\n    @keyframes quantumSpin {\r\n      0% { transform: rotate(0deg); }\r\n      100% { transform: rotate(360deg); }\r\n    }\r\n\r\n    /* Background Components */\r\n    .quantum-background {\r\n      position: absolute;\r\n      top: 0;\r\n      left: 0;\r\n      width: 100%;\r\n      height: 100%;\r\n      z-index: 0;\r\n    }\r\n\r\n    .background-image {\r\n      width: 100%;\r\n      height: 100%;\r\n      object-fit: cover;\r\n      transition: transform 0.3s ease-out, opacity 1s ease-out;\r\n      opacity: 0.9;\r\n    }\r\n\r\n    .dynamic-overlay {\r\n      position: absolute;\r\n      inset: 0;\r\n      transition: all 1s ease-out;\r\n    }\r\n\r\n    /* Quantum Effects */\r\n    .floating-element {\r\n      position: absolute;\r\n      border-radius: 50%;\r\n      filter: blur(150px);\r\n      transition: background 1s ease-out, transform 0.3s ease-out;\r\n      z-index: 1;\r\n    }\r\n\r\n    .floating-element--right {\r\n      top: 15%;\r\n      right: 8%;\r\n      width: 600px;\r\n      height: 600px;\r\n    }\r\n\r\n    .floating-element--left {\r\n      bottom: 10%;\r\n      left: -5%;\r\n      width: 800px;\r\n      height: 800px;\r\n      filter: blur(120px);\r\n    }\r\n\r\n    .grid-line {\r\n      position: absolute;\r\n      width: 2px;\r\n      transition: all 0.3s ease-out, background 1s ease-out;\r\n      z-index: 1;\r\n    }\r\n\r\n    .grid-line--left {\r\n      top: 20%;\r\n      left: 10%;\r\n      height: 300px;\r\n    }\r\n\r\n    .grid-line--right {\r\n      bottom: 25%;\r\n      right: 15%;\r\n      height: 200px;\r\n      width: 1px;\r\n    }\r\n\r\n    /* Layout */\r\n    .section-container {\r\n      max-width: 1200px;\r\n      margin: 0 auto;\r\n      padding: 120px 32px 200px;\r\n      position: relative;\r\n      z-index: 10;\r\n    }\r\n\r\n    .content-grid {\r\n      display: grid;\r\n      grid-template-columns: 580px 1fr;\r\n      gap: 120px;\r\n      align-items: start;\r\n      perspective: 3000px;\r\n    }\r\n\r\n    /* Header */\r\n    .section-header {\r\n      text-align: center;\r\n      margin-bottom: 80px;\r\n      transform: translate3d(0, 100px, -50px);\r\n      opacity: 0;\r\n      transition: all 2.5s cubic-bezier(0.16, 1, 0.3, 1);\r\n    }\r\n\r\n    .section-header--visible {\r\n      transform: translate3d(0, 0, 0);\r\n      opacity: 1;\r\n    }\r\n\r\n    .header-subtitle {\r\n      font-size: 14px;\r\n      font-weight: 500;\r\n      text-transform: uppercase;\r\n      letter-spacing: 0.5px;\r\n      margin-bottom: 16px;\r\n      transform: translate3d(0, 30px, -20px);\r\n      opacity: 0;\r\n      transition: all 2s ease-out 0.5s, color 1s ease-out;\r\n      text-shadow: 0 0 20px currentColor;\r\n      position: relative;\r\n    }\r\n\r\n    .section-header--visible .header-subtitle {\r\n      transform: translate3d(0, 0, 0);\r\n      opacity: 1;\r\n    }\r\n\r\n    .header-title {\r\n      font-size: clamp(32px, 4vw, 48px);\r\n      font-weight: 600;\r\n      background-size: 300% 300%;\r\n      background-clip: text;\r\n      -webkit-background-clip: text;\r\n      -webkit-text-fill-color: transparent;\r\n      margin-bottom: 24px;\r\n      letter-spacing: -0.02em;\r\n      line-height: 1.1;\r\n      transform: translate3d(0, 60px, -30px) scale(0.9);\r\n      opacity: 0;\r\n      transition: all 2.5s ease-out 0.7s, background 1s ease-out;\r\n      animation: holographicShimmer 2s ease-in-out infinite alternate;\r\n    }\r\n\r\n    .section-header--visible .header-title {\r\n      transform: translate3d(0, 0, 0) scale(1);\r\n      opacity: 1;\r\n    }\r\n\r\n    .header-divider {\r\n      width: 60px;\r\n      height: 2px;\r\n      margin: 0 auto 24px;\r\n      transform: scaleX(0);\r\n      transition: transform 3s ease-out 1s, background 1s ease-out;\r\n      border-radius: 1px;\r\n    }\r\n\r\n    .section-header--visible .header-divider {\r\n      transform: scaleX(1);\r\n    }\r\n\r\n    .header-description {\r\n      font-size: 16px;\r\n      background-clip: text;\r\n      -webkit-background-clip: text;\r\n      -webkit-text-fill-color: transparent;\r\n      max-width: 512px;\r\n      margin: 0 auto;\r\n      line-height: 1.6;\r\n      font-weight: 400;\r\n      letter-spacing: 0;\r\n      transform: translate3d(0, 40px, -20px);\r\n      opacity: 0;\r\n      transition: all 2s ease-out 1.2s, background 1s ease-out;\r\n    }\r\n\r\n    .section-header--visible .header-description {\r\n      transform: translate3d(0, 0, 0);\r\n      opacity: 1;\r\n    }\r\n\r\n    /* Navigation */\r\n    .pillar-navigation {\r\n      position: sticky;\r\n      top: 100px;\r\n      transform: translate3d(-200px, 60px, -120px) rotateY(-20deg);\r\n      opacity: 0;\r\n      transition: all 2.5s cubic-bezier(0.16, 1, 0.3, 1) 0.6s;\r\n    }\r\n\r\n    .pillar-navigation--visible {\r\n      transform: translate3d(0, 0, 0) rotateY(0deg);\r\n      opacity: 1;\r\n    }\r\n\r\n    .navigation-container {\r\n      backdrop-filter: blur(25px) saturate(200%) brightness(120%);\r\n      -webkit-backdrop-filter: blur(25px) saturate(200%) brightness(120%);\r\n      border-radius: 16px;\r\n      padding: 32px 0;\r\n      transition: border-color 1s ease-out, box-shadow 1s ease-out;\r\n      position: relative;\r\n    }\r\n\r\n    .quantum-edge-glow {\r\n      position: absolute;\r\n      inset: -1px;\r\n      border-radius: 16px;\r\n      z-index: -1;\r\n      filter: blur(2px);\r\n      transition: background 1s ease-out;\r\n    }\r\n\r\n    .pillar-nav-item {\r\n      display: flex;\r\n      align-items: center;\r\n      gap: 16px;\r\n      padding: 16px 24px;\r\n      cursor: pointer;\r\n      transition: all 1s cubic-bezier(0.23, 1, 0.32, 1);\r\n      border-radius: 12px;\r\n      margin: 0 16px;\r\n      border: 1px solid transparent;\r\n      position: relative;\r\n      overflow: hidden;\r\n      opacity: 0.5;\r\n    }\r\n\r\n    .pillar-nav-item--active {\r\n      transform: translate3d(15px, 0, 15px) scale(1.02);\r\n      opacity: 1;\r\n    }\r\n\r\n    .quantum-ripple {\r\n      position: absolute;\r\n      top: 50%;\r\n      left: 50%;\r\n      width: 300%;\r\n      height: 300%;\r\n      transform: translate(-50%, -50%);\r\n      border-radius: 50%;\r\n      animation: quantumPulse 3s ease-in-out infinite;\r\n      z-index: -1;\r\n    }\r\n\r\n    .pillar-number {\r\n      font-size: 32px;\r\n      font-weight: 700;\r\n      background-size: 200% 200%;\r\n      background-clip: text;\r\n      -webkit-background-clip: text;\r\n      -webkit-text-fill-color: transparent;\r\n      min-width: 50px;\r\n      transition: all 0.2s ease;\r\n      font-feature-settings: \"tnum\" 1;\r\n      line-height: 1;\r\n    }\r\n\r\n    .pillar-nav-item--active .pillar-number {\r\n      animation: numberGlow 2s ease-in-out infinite alternate;\r\n    }\r\n\r\n    .pillar-icon {\r\n      font-size: 20px;\r\n      margin: 0;\r\n      transition: all 0.6s ease;\r\n    }\r\n\r\n    .pillar-title {\r\n      font-size: 16px;\r\n      font-weight: 700;\r\n      margin: 0;\r\n      transition: color 0.2s ease;\r\n      line-height: 1.3;\r\n      letter-spacing: -0.02em;\r\n      flex: 1;\r\n    }\r\n\r\n    .activation-indicator {\r\n      width: 4px;\r\n      height: 40px;\r\n      transition: all 0.2s ease;\r\n      border-radius: 3px;\r\n      position: relative;\r\n    }\r\n\r\n    .quantum-orb {\r\n      position: absolute;\r\n      left: 50%;\r\n      width: 12px;\r\n      height: 12px;\r\n      border-radius: 50%;\r\n      transform: translateX(-50%);\r\n      animation: quantumOrb 2s ease-in-out infinite;\r\n    }\r\n\r\n    .quantum-orb--top {\r\n      top: -6px;\r\n    }\r\n\r\n    .quantum-orb--bottom {\r\n      bottom: -6px;\r\n      animation-delay: 1s;\r\n    }\r\n\r\n    /* Content */\r\n    .pillar-content {\r\n      transform: translate3d(150px, 100px, -100px) rotateY(15deg);\r\n      opacity: 0;\r\n      transition: all 2.5s cubic-bezier(0.16, 1, 0.3, 1) 1s;\r\n    }\r\n\r\n    .pillar-content--visible {\r\n      transform: translate3d(0, 0, 0) rotateY(0deg);\r\n      opacity: 1;\r\n    }\r\n\r\n    .content-container {\r\n      backdrop-filter: blur(30px) saturate(200%) brightness(120%);\r\n      -webkit-backdrop-filter: blur(30px) saturate(200%) brightness(120%);\r\n      border-radius: 16px;\r\n      padding: 32px;\r\n      position: relative;\r\n      overflow: hidden;\r\n      transition: all 1s ease-out;\r\n    }\r\n\r\n    .quantum-mesh {\r\n      position: absolute;\r\n      top: 0;\r\n      left: 0;\r\n      right: 0;\r\n      bottom: 0;\r\n      transition: background 1s ease-out;\r\n      z-index: -1;\r\n    }\r\n\r\n    .content-header {\r\n      display: flex;\r\n      align-items: center;\r\n      gap: 16px;\r\n      margin-bottom: 24px;\r\n    }\r\n\r\n    .content-number {\r\n      font-size: 48px;\r\n      font-weight: 700;\r\n      background-size: 300% 300%;\r\n      background-clip: text;\r\n      -webkit-background-clip: text;\r\n      -webkit-text-fill-color: transparent;\r\n      line-height: 1;\r\n      font-feature-settings: \"tnum\" 1;\r\n      animation: holographicShimmer 3s ease-in-out infinite alternate;\r\n      transition: all 1s ease-out;\r\n    }\r\n\r\n    .content-title-group {\r\n      flex: 1;\r\n    }\r\n\r\n    .content-title {\r\n      font-size: clamp(24px, 3vw, 32px);\r\n      font-weight: 600;\r\n      background-size: 200% 200%;\r\n      background-clip: text;\r\n      -webkit-background-clip: text;\r\n      -webkit-text-fill-color: transparent;\r\n      margin: 0;\r\n      line-height: 1.1;\r\n      letter-spacing: -0.02em;\r\n      animation: holographicShimmer 2s ease-in-out infinite alternate 1s;\r\n      transition: all 1s ease-out;\r\n    }\r\n\r\n    .content-icon {\r\n      font-size: 24px;\r\n      margin: 8px 0 0 0;\r\n      animation: float 3s ease-in-out infinite;\r\n    }\r\n\r\n    .content-text {\r\n      font-size: 16px;\r\n      line-height: 1.6;\r\n      margin-bottom: 32px;\r\n      font-weight: 400;\r\n      letter-spacing: 0;\r\n      text-shadow: 0 2px 4px ${colors.cardShadow};\r\n      transition: all 0.2s ease-out;\r\n    }\r\n\r\n    /* Focus Areas */\r\n    .focus-areas {\r\n      margin-bottom: 32px;\r\n    }\r\n\r\n    .focus-areas-title {\r\n      font-size: 14px;\r\n      font-weight: 500;\r\n      margin-bottom: 16px;\r\n      text-transform: uppercase;\r\n      letter-spacing: 0.5px;\r\n      display: flex;\r\n      align-items: center;\r\n      gap: 16px;\r\n      transition: color 1s ease-out;\r\n    }\r\n\r\n    .title-line {\r\n      width: 32px;\r\n      height: 2px;\r\n      transition: background 1s ease-out;\r\n    }\r\n\r\n    .focus-areas-grid {\r\n      display: grid;\r\n      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));\r\n      gap: 12px;\r\n    }\r\n\r\n    .focus-area-item {\r\n      backdrop-filter: blur(20px) saturate(180%);\r\n      -webkit-backdrop-filter: blur(20px) saturate(180%);\r\n      border-radius: 12px;\r\n      padding: 16px;\r\n      font-size: 14px;\r\n      font-weight: 500;\r\n      letter-spacing: 0;\r\n      transition: all 0.6s cubic-bezier(0.23, 1, 0.32, 1);\r\n      cursor: pointer;\r\n      box-shadow: inset 0 1px 0 ${colors.border}, 0 4px 12px ${colors.cardShadow};\r\n      transform: translate3d(0, 0, 0);\r\n      position: relative;\r\n      overflow: hidden;\r\n      opacity: 0;\r\n      transform: translate3d(0, 50px, -30px) scale(0.9);\r\n    }\r\n\r\n    .focus-area-item--visible {\r\n      animation: quantumSlideIn 1s ease-out forwards;\r\n    }\r\n\r\n    .quantum-particle {\r\n      position: absolute;\r\n      top: 8px;\r\n      right: 8px;\r\n      width: 6px;\r\n      height: 6px;\r\n      border-radius: 50%;\r\n      animation: quantumParticle 2s ease-in-out infinite;\r\n    }\r\n\r\n    /* Progress Matrix */\r\n    .progress-matrix {\r\n      backdrop-filter: blur(20px) saturate(150%);\r\n      -webkit-backdrop-filter: blur(20px) saturate(150%);\r\n      border-radius: 16px;\r\n      padding: 16px;\r\n      transition: all 1s ease-out;\r\n      display: flex;\r\n      align-items: center;\r\n      gap: 16px;\r\n      margin-top: 32px;\r\n    }\r\n\r\n    .progress-bars {\r\n      display: flex;\r\n      gap: 8px;\r\n      flex: 1;\r\n    }\r\n\r\n    .progress-bar {\r\n      flex: 1;\r\n      height: 6px;\r\n      border-radius: 3px;\r\n      transition: all 1.5s ease;\r\n      position: relative;\r\n      cursor: pointer;\r\n    }\r\n\r\n    .progress-particle {\r\n      position: absolute;\r\n      top: 50%;\r\n      left: 0;\r\n      width: 12px;\r\n      height: 12px;\r\n      border-radius: 50%;\r\n      transform: translate(-50%, -50%);\r\n      box-shadow: 0 0 15px currentColor;\r\n      animation: quantumFlow 2s ease-in-out infinite;\r\n    }\r\n\r\n    .progress-counter {\r\n      backdrop-filter: blur(15px);\r\n      -webkit-backdrop-filter: blur(15px);\r\n      padding: 12px 16px;\r\n      border-radius: 12px;\r\n      font-size: 14px;\r\n      font-weight: 600;\r\n      font-feature-settings: \"tnum\" 1;\r\n      letter-spacing: 0.05em;\r\n      transition: all 1s ease-out;\r\n    }\r\n\r\n    .navigation-controls {\r\n      display: flex;\r\n      gap: 8px;\r\n    }\r\n\r\n    .progress-button {\r\n      width: 40px;\r\n      height: 40px;\r\n      backdrop-filter: blur(15px);\r\n      -webkit-backdrop-filter: blur(15px);\r\n      border-radius: 12px;\r\n      font-size: 16px;\r\n      font-weight: 600;\r\n      cursor: pointer;\r\n      transition: all 0.2s ease;\r\n      box-shadow: inset 0 1px 0 ${colors.border};\r\n      display: flex;\r\n      align-items: center;\r\n      justify-content: center;\r\n    }\r\n\r\n    /* Status Matrix */\r\n    .status-matrix {\r\n      display: flex;\r\n      justify-content: space-between;\r\n      align-items: center;\r\n      padding: 16px 0;\r\n      border-top: 1px solid ${colors.border};\r\n      transition: border-color 1s ease-out;\r\n    }\r\n\r\n    .status-item {\r\n      font-size: 14px;\r\n      font-weight: 500;\r\n      letter-spacing: 0.02em;\r\n    }\r\n\r\n    .status-value {\r\n      transition: color 1s ease-out;\r\n      font-weight: 600;\r\n    }\r\n\r\n    .status-value--active {\r\n      text-shadow: 0 0 10px currentColor;\r\n    }\r\n\r\n    .quantum-sync {\r\n      display: flex;\r\n      gap: 8px;\r\n      align-items: center;\r\n    }\r\n\r\n    .sync-indicator {\r\n      width: 8px;\r\n      height: 8px;\r\n      border-radius: 50%;\r\n      animation: quantumPulse 1.5s ease-in-out infinite;\r\n      transition: background 1s ease-out;\r\n    }\r\n\r\n    .sync-label {\r\n      font-size: 14px;\r\n      font-weight: 500;\r\n      letter-spacing: 0.02em;\r\n    }\r\n\r\n    /* Animations */\r\n    @keyframes holographicShimmer {\r\n      0% { background-position: 0% 0%; }\r\n      50% { background-position: 100% 100%; }\r\n      100% { background-position: 0% 0%; }\r\n    }\r\n\r\n    @keyframes quantumSlideIn {\r\n      from {\r\n        transform: translate3d(0, 50px, -30px) scale(0.9);\r\n        opacity: 0;\r\n      }\r\n      to {\r\n        transform: translate3d(0, 0, 0) scale(1);\r\n        opacity: 1;\r\n      }\r\n    }\r\n\r\n    @keyframes quantumPulse {\r\n      0%, 100% { \r\n        transform: scale(1) rotate(0deg);\r\n        opacity: 1; \r\n      }\r\n      50% { \r\n        transform: scale(1.3) rotate(180deg);\r\n        opacity: 0.7; \r\n      }\r\n    }\r\n\r\n    @keyframes quantumOrb {\r\n      0%, 100% { \r\n        transform: translateX(-50%) scale(1);\r\n        opacity: 1; \r\n      }\r\n      50% { \r\n        transform: translateX(-50%) scale(1.5);\r\n        opacity: 0.6; \r\n      }\r\n    }\r\n\r\n    @keyframes quantumParticle {\r\n      0%, 100% { \r\n        transform: scale(1);\r\n        opacity: 1; \r\n      }\r\n      33% { \r\n        transform: scale(1.5);\r\n        opacity: 0.8; \r\n      }\r\n      66% { \r\n        transform: scale(0.8);\r\n        opacity: 1; \r\n      }\r\n    }\r\n\r\n    @keyframes quantumFlow {\r\n      0% { left: 0%; }\r\n      100% { left: 100%; }\r\n    }\r\n\r\n    @keyframes float {\r\n      0%, 100% { transform: translateY(0px); }\r\n      50% { transform: translateY(-8px); }\r\n    }\r\n\r\n    @keyframes numberGlow {\r\n      0% { \r\n        filter: drop-shadow(0 0 20px currentColor); \r\n      }\r\n      100% { \r\n        filter: drop-shadow(0 0 40px currentColor) drop-shadow(0 0 60px currentColor);\r\n      }\r\n    }\r\n\r\n    /* Responsive Design */\r\n    @media (max-width: 1200px) {\r\n      .content-grid {\r\n        grid-template-columns: 1fr;\r\n        gap: 40px;\r\n      }\r\n      .pillar-navigation {\r\n        position: static;\r\n        margin-bottom: 32px;\r\n      }\r\n      .section-container {\r\n        padding: 80px 24px 120px;\r\n      }\r\n    }\r\n\r\n    @media (max-width: 768px) {\r\n      .section-container {\r\n        padding: 80px 16px 120px;\r\n      }\r\n      .content-grid {\r\n        gap: 32px;\r\n      }\r\n      .section-header {\r\n        margin-bottom: 48px;\r\n      }\r\n      .content-container {\r\n        padding: 24px;\r\n      }\r\n      .focus-areas-grid {\r\n        grid-template-columns: 1fr;\r\n      }\r\n      .pillar-nav-item {\r\n        padding: 12px 16px;\r\n        gap: 12px;\r\n      }\r\n      .pillar-number {\r\n        font-size: 24px;\r\n        min-width: 40px;\r\n      }\r\n      .content-number {\r\n        font-size: 36px;\r\n      }\r\n      .navigation-container {\r\n        padding: 16px 0;\r\n      }\r\n      .progress-matrix {\r\n        padding: 12px;\r\n        gap: 12px;\r\n        flex-direction: column;\r\n      }\r\n      .progress-bars {\r\n        order: 2;\r\n        width: 100%;\r\n      }\r\n      .progress-counter {\r\n        order: 1;\r\n        align-self: center;\r\n      }\r\n      .navigation-controls {\r\n        order: 3;\r\n        align-self: center;\r\n      }\r\n    }\r\n\r\n    /* Enhanced Effects */\r\n    html {\r\n      scroll-behavior: smooth;\r\n    }\r\n\r\n    ::-webkit-scrollbar {\r\n      width: 8px;\r\n    }\r\n\r\n    ::-webkit-scrollbar-track {\r\n      background: ${colors.backgroundSecondary};\r\n    }\r\n\r\n    ::-webkit-scrollbar-thumb {\r\n      background: linear-gradient(135deg, ${colors.accent}, ${colors.primary});\r\n      border-radius: 4px;\r\n    }\r\n\r\n    ::-webkit-scrollbar-thumb:hover {\r\n      background: linear-gradient(135deg, ${colors.accentLight}, ${colors.primaryLight});\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n        @supports (backdrop-filter: blur(20px)) or (-webkit-backdrop-filter: blur(20px)) {\r\n          .glass-enhanced {\r\n            backdrop-filter: blur(20px) saturate(180%) brightness(110%);\r\n            -webkit-backdrop-filter: blur(20px) saturate(180%) brightness(110%);\r\n          }\r\n        }\r\n      `}\r\n  \r\n  \r\n","import React from 'react';\r\nimport { useTheme } from '../../theme';\r\nimport { \r\n  Globe, \r\n  Handshake, \r\n  BarChart3, \r\n  DollarSign,\r\n  Users,\r\n  Target,\r\n  BookOpen,\r\n  Lightbulb\r\n} from 'lucide-react';\r\nimport '../../styles/CrossCuttingStrategies.css';\r\nimport {Typography} from '@mui/material';\r\nconst CrossCuttingStrategies = () => {\r\n  const { colors, isDarkMode } = useTheme();\r\n\r\n  const strategies = [\r\n    {\r\n      id: 1,\r\n      icon: Globe,\r\n      title: \"Policy Advocacy\",\r\n      description: \"UN engagement and youth representation in global discussions\",\r\n      features: [\r\n        \"Climate policy development\",\r\n        \"Youth voice amplification\",\r\n        \"International forums participation\",\r\n        \"Policy research and analysis\"\r\n      ],\r\n      color: colors.primary\r\n    },\r\n    {\r\n      id: 2,\r\n      icon: Handshake,\r\n      title: \"Strategic Partnerships\",\r\n      description: \"Collaboration with agencies, governments, and private sector\",\r\n      features: [\r\n        \"Multi-sector collaboration\",\r\n        \"Government partnerships\",\r\n        \"Private sector engagement\",\r\n        \"NGO network building\"\r\n      ],\r\n      color: colors.secondary\r\n    },\r\n    {\r\n      id: 3,\r\n      icon: BarChart3,\r\n      title: \"Knowledge Sharing\",\r\n      description: \"Research dissemination through our online hub\",\r\n      features: [\r\n        \"Research publication\",\r\n        \"Best practices documentation\",\r\n        \"Digital platform management\",\r\n        \"Knowledge transfer programs\"\r\n      ],\r\n      color: colors.accent\r\n    },\r\n    {\r\n      id: 4,\r\n      icon: DollarSign,\r\n      title: \"Resource Mobilization\",\r\n      description: \"Diversified funding for long-term sustainability\",\r\n      features: [\r\n        \"Grant writing and management\",\r\n        \"Donor relationship building\",\r\n        \"Sustainable financing models\",\r\n        \"Impact measurement\"\r\n      ],\r\n      color: colors.info\r\n    }\r\n  ];\r\n\r\n  return (\r\n    <section className=\"cross-cutting-strategies\">\r\n      <div className=\"strategies-container\">\r\n        {/* Header Section */}\r\n        <div className=\"strategies-header\">\r\n          <div className=\"header-content\">\r\n           \r\n             <Typography \r\n                variant=\"h3\"\r\n                sx={{ \r\n                  fontSize: '2.5rem',\r\n                  fontWeight: 700,\r\n                  color: colors.primary,\r\n                  mb: 2,\r\n                  letterSpacing: '-0.02em'\r\n                }}\r\n              >\r\n                Cross-Cutting Strategies\r\n              </Typography>\r\n            <p className=\"section-description\" style={{ color: colors.textSecondary }}>\r\n              Integrated approaches that span across all our programs and initiatives, \r\n              ensuring comprehensive impact and sustainable change in climate action.\r\n            </p>\r\n          </div>\r\n          \r\n          <div className=\"header-visual\">\r\n            <div \r\n              className=\"visual-circle\"\r\n              style={{ backgroundColor: `${colors.primary}10` }}\r\n            >\r\n              <Target \r\n                size={48} \r\n                style={{ color: colors.primary }}\r\n              />\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Strategies Grid */}\r\n        <div className=\"strategies-grid\">\r\n          {strategies.map((strategy, index) => (\r\n            <div \r\n              key={strategy.id}\r\n              className=\"strategy-card\"\r\n              style={{\r\n                backgroundColor: isDarkMode ? colors.surface : colors.white,\r\n                border: `1px solid ${isDarkMode ? colors.border : colors.gray200}`,\r\n                '--hover-shadow': `0 20px 60px ${strategy.color}20`\r\n              }}\r\n            >\r\n              {/* Card Header */}\r\n              <div className=\"card-header\">\r\n                <div \r\n                  className=\"icon-wrapper\"\r\n                  style={{ \r\n                    backgroundColor: `${strategy.color}15`,\r\n                    border: `2px solid ${strategy.color}30`\r\n                  }}\r\n                >\r\n                  <strategy.icon \r\n                    size={32} \r\n                    style={{ color: strategy.color }}\r\n                  />\r\n                </div>\r\n                \r\n                <div className=\"header-text\">\r\n                  <h3 \r\n                    className=\"strategy-title\"\r\n                    style={{ color: colors.text }}\r\n                  >\r\n                    {strategy.title}\r\n                  </h3>\r\n                  <p \r\n                    className=\"strategy-description\"\r\n                    style={{ color: colors.textSecondary }}\r\n                  >\r\n                    {strategy.description}\r\n                  </p>\r\n                </div>\r\n              </div>\r\n\r\n              {/* Features List */}\r\n              <div className=\"features-section\">\r\n                <h4 \r\n                  className=\"features-title\"\r\n                  style={{ color: colors.text }}\r\n                >\r\n                  Activities\r\n                </h4>\r\n                <ul className=\"features-list\">\r\n                  {strategy.features.map((feature, featureIndex) => (\r\n                    <li \r\n                      key={featureIndex}\r\n                      className=\"feature-item\"\r\n                      style={{ color: colors.textSecondary }}\r\n                    >\r\n                      <div \r\n                        className=\"feature-dot\"\r\n                        style={{ backgroundColor: strategy.color }}\r\n                      />\r\n                      {feature}\r\n                    </li>\r\n                  ))}\r\n                </ul>\r\n              </div>\r\n\r\n              {/* Card Footer\r\n              <div className=\"card-footer\">\r\n                <button \r\n                  className=\"learn-more-btn\"\r\n                  style={{\r\n                    color: strategy.color,\r\n                    borderColor: `${strategy.color}30`,\r\n                    '--hover-bg': `${strategy.color}10`,\r\n                    '--hover-border': strategy.color\r\n                  }}\r\n                >\r\n                  <BookOpen size={16} />\r\n                  Learn More\r\n                </button>\r\n              </div> */}\r\n\r\n              {/* Background Pattern */}\r\n              <div \r\n                className=\"card-pattern\"\r\n                style={{ \r\n                  backgroundImage: `radial-gradient(circle at 80% 20%, ${strategy.color}08 0%, transparent 50%)`\r\n                }}\r\n              />\r\n            </div>\r\n          ))}\r\n        </div>\r\n\r\n        {/* Call to Action Section */}\r\n       \r\n         \r\n      </div>\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default CrossCuttingStrategies;","import React, { useState, useEffect, useRef } from 'react';\r\nimport { Target, Users, Leaf, Zap, Shield, Recycle, TreePine, Droplets, Wheat, GraduationCap, Heart, Briefcase, Sparkles, Globe, TrendingUp, ArrowRight } from 'lucide-react';\r\nimport { useTheme } from '../../theme';\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { motion } from 'framer-motion';\r\n\r\n// Counter component for animated numbers\r\nconst AnimatedCounter = ({ value, duration = 2000 }) => {\r\n  const [count, setCount] = useState(0);\r\n  const [isVisible, setIsVisible] = useState(false);\r\n  const counterRef = useRef(null);\r\n\r\n  useEffect(() => {\r\n    const observer = new IntersectionObserver(\r\n      ([entry]) => {\r\n        if (entry.isIntersecting && !isVisible) {\r\n          setIsVisible(true);\r\n        }\r\n      },\r\n      { threshold: 0.1 }\r\n    );\r\n\r\n    if (counterRef.current) {\r\n      observer.observe(counterRef.current);\r\n    }\r\n\r\n    return () => observer.disconnect();\r\n  }, [isVisible]);\r\n\r\n  useEffect(() => {\r\n    if (!isVisible) return;\r\n\r\n    const numericValue = parseInt(value.replace(/\\D/g, '')) || 0;\r\n    let startTime;\r\n    let animationFrame;\r\n\r\n    const animate = (currentTime) => {\r\n      if (!startTime) startTime = currentTime;\r\n      const progress = Math.min((currentTime - startTime) / duration, 1);\r\n      \r\n      // Easing function for smooth animation\r\n      const easeOutQuart = 1 - Math.pow(1 - progress, 4);\r\n      const currentCount = Math.floor(numericValue * easeOutQuart);\r\n      \r\n      setCount(currentCount);\r\n\r\n      if (progress < 1) {\r\n        animationFrame = requestAnimationFrame(animate);\r\n      }\r\n    };\r\n\r\n    animationFrame = requestAnimationFrame(animate);\r\n\r\n    return () => {\r\n      if (animationFrame) {\r\n        cancelAnimationFrame(animationFrame);\r\n      }\r\n    };\r\n  }, [isVisible, value, duration]);\r\n\r\n  const displayValue = value.includes('+') ? `${count}+` : count.toString();\r\n\r\n  return (\r\n    <span ref={counterRef}>\r\n      {displayValue}\r\n    </span>\r\n  );\r\n};\r\n\r\nconst ACEFDashboard = () => {\r\n  const [activeView, setActiveView] = useState('1year');\r\n  const [hoveredCard, setHoveredCard] = useState(null);\r\n  const { colors, isDarkMode } = useTheme();\r\n  \r\n  const navigate = useNavigate();\r\n\r\n  const oneYearGoals = [\r\n    {\r\n      id: 'capacity',\r\n      title: 'Youth Capacity',\r\n      icon: <Users size={20} />,\r\n      color: colors.primary,\r\n      metric: '3+ Workshops',\r\n      desc: '25% growth in policy participation'\r\n    },\r\n    {\r\n      id: 'advocacy',\r\n      title: 'Policy Advocacy',\r\n      icon: <Target size={20} />,\r\n      color: colors.secondary,\r\n      metric: '2+ UN Papers',\r\n      desc: '5+ youth reps at conferences'\r\n    },\r\n    {\r\n      id: 'pilots',\r\n      title: 'Community Impact',\r\n      icon: <Leaf size={20} />,\r\n      color: colors.accent,\r\n      metric: '1+ Pilot Project',\r\n      desc: 'Framework for youth initiatives'\r\n    },\r\n    {\r\n      id: 'sustainability',\r\n      title: 'Org Growth',\r\n      icon: <Briefcase size={20} />,\r\n      color: colors.accentDark,\r\n      metric: '5+ Grants',\r\n      desc: '30% social media growth'\r\n    }\r\n  ];\r\n\r\n  const programmePillars = [\r\n    { id: 'resilience', title: 'Climate Resilience', icon: <Shield size={16} />, color: colors.primary, impact: '13 Communities' },\r\n    { id: 'energy', title: 'Clean Energy', icon: <Zap size={16} />, color: colors.secondary, impact: '20 Enterprises' },\r\n    { id: 'migration', title: 'Climate Security', icon: <Globe size={16} />, color: colors.accent, impact: '3 Regional Reports' },\r\n    { id: 'waste', title: 'Waste Innovation', icon: <Recycle size={16} />, color: colors.success, impact: '5 Urban Areas' },\r\n    { id: 'conservation', title: 'Nature Protection', icon: <TreePine size={16} />, color: colors.primaryLight, impact: '5 Hotspots' },\r\n    { id: 'wash', title: 'Water & Sanitation', icon: <Droplets size={16} />, color: colors.info, impact: '5 Communities' },\r\n    { id: 'agriculture', title: 'Food Security', icon: <Wheat size={16} />, color: colors.warning, impact: '15 Cooperatives' },\r\n    { id: 'education', title: 'Climate Education', icon: <GraduationCap size={16} />, color: '#8b5cf6', impact: '5,000+ Students' },\r\n    { id: 'health', title: 'Environmental Health', icon: <Heart size={16} />, color: '#ec4899', impact: '5 Health Projects' },\r\n    { id: 'employment', title: 'Green Jobs', icon: <TrendingUp size={16} />, color: colors.accentDark, impact: 'Incubator Program' }\r\n  ];\r\n\r\n  const CompactCard = ({ item, type }) => {\r\n    const isHovered = hoveredCard === item.id;\r\n    \r\n    return (\r\n      <div\r\n        style={{\r\n          ...styles.compactCard,\r\n          backgroundColor: colors.cardBg,\r\n          border: `1px solid ${colors.border}`,\r\n          boxShadow: `0 4px 20px ${colors.cardShadow}`\r\n        }}\r\n        onMouseEnter={() => setHoveredCard(item.id)}\r\n        onMouseLeave={() => setHoveredCard(null)}\r\n      >\r\n        <div style={styles.cardHeader}>\r\n          <div \r\n            style={{\r\n              ...styles.iconContainer,\r\n              backgroundColor: isDarkMode ? `${item.color}20` : `${item.color}15`\r\n            }}\r\n          >\r\n            <div style={{ color: item.color }}>\r\n              {item.icon}\r\n            </div>\r\n          </div>\r\n          {type === '5year' && (\r\n            <span style={{\r\n              ...styles.timelineTag,\r\n              backgroundColor: colors.backgroundSecondary,\r\n              color: colors.textSecondary\r\n            }}>\r\n              2025-30\r\n            </span>\r\n          )}\r\n        </div>\r\n\r\n        <h3 style={{\r\n          ...styles.cardTitle,\r\n          color: colors.text\r\n        }}>\r\n          {item.title}\r\n        </h3>\r\n        \r\n        <div style={{ ...styles.cardMetric, color: item.color }}>\r\n          {item.metric || item.impact}\r\n        </div>\r\n        \r\n        {item.desc && (\r\n          <p style={{\r\n            ...styles.cardDesc,\r\n            color: colors.textSecondary\r\n          }}>\r\n            {item.desc}\r\n          </p>\r\n        )}\r\n\r\n        {/* Hover overlay */}\r\n        <div \r\n          style={{\r\n            ...styles.hoverOverlay,\r\n            opacity: isHovered ? 1 : 0,\r\n            backgroundColor: isDarkMode ? `${item.color}10` : `${item.color}05`\r\n          }}\r\n        />\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const ViewToggle = () => (\r\n    <div style={styles.toggleContainer}>\r\n      <div style={{\r\n        ...styles.toggleWrapper,\r\n        backgroundColor: colors.surface,\r\n        border: `1px solid ${colors.border}`,\r\n        boxShadow: `0 1px 3px ${colors.cardShadow}`\r\n      }}>\r\n        {[\r\n          { \r\n            id: '1year', \r\n            label: '1-Year Strategic Plan', \r\n            sublabel: '2025-2026',\r\n            icon: <Target size={20} />,\r\n            color: colors.primary\r\n          },\r\n          { \r\n            id: '5year', \r\n            label: '5-Year Programme Vision', \r\n            sublabel: '2025-2030',\r\n            icon: <Sparkles size={20} />,\r\n            color: colors.secondary\r\n          }\r\n        ].map((view) => (\r\n          <button\r\n            key={view.id}\r\n            onClick={() => setActiveView(view.id)}\r\n            style={{\r\n              ...styles.toggleButton,\r\n              ...(activeView === view.id ? {\r\n                ...styles.toggleButtonActive,\r\n                background: `linear-gradient(135deg, ${view.color} 0%, ${view.color}dd 100%)`,\r\n                boxShadow: `0 4px 12px rgba(0,0,0,0.15)`\r\n              } : {\r\n                ...styles.toggleButtonInactive,\r\n                color: colors.textSecondary\r\n              })\r\n            }}\r\n          >\r\n            <div style={{\r\n              ...styles.toggleIcon,\r\n              ...(activeView === view.id ? \r\n                styles.toggleIconActive : \r\n                { backgroundColor: colors.backgroundSecondary }\r\n              )\r\n            }}>\r\n              <div style={{ color: activeView === view.id ? 'white' : view.color }}>\r\n                {view.icon}\r\n              </div>\r\n            </div>\r\n            <div style={styles.toggleContent}>\r\n              <div style={styles.toggleLabel}>{view.label}</div>\r\n              <div style={{\r\n                ...styles.toggleSublabel,\r\n                color: activeView === view.id ? 'rgba(255,255,255,0.8)' : colors.textMuted\r\n              }}>\r\n                {view.sublabel}\r\n              </div>\r\n            </div>\r\n          </button>\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n\r\n  return (\r\n    <div style={{\r\n      ...styles.container,\r\n      backgroundColor: colors.background\r\n    }}>\r\n      <div style={styles.content}>\r\n\r\n        \r\n        {/* Header */}\r\n        <div style={styles.header}>\r\n          <motion.div style={{\r\n            ...styles.badge,\r\n            backgroundColor: colors.surface,\r\n            border: `1px solid ${colors.border}`,\r\n            boxShadow: `0 1px 3px ${colors.cardShadow}`\r\n          }}>\r\n            <Sparkles size={16} style={{ color: colors.warning }} />\r\n            <span style={{\r\n              ...styles.badgeText,\r\n              color: colors.text\r\n            }}>ACEF Strategic Vision</span>\r\n          </motion.div>\r\n\r\n        {/* Title section */}\r\n              <div\r\n                style={{\r\n                  maxWidth: '1100px',\r\n                  margin: '0 auto 80px auto',\r\n                  textAlign: 'center'\r\n                }}\r\n              >\r\n                \r\n                <motion.h1\r\n                  initial={{ opacity: 0, y: 30 }}\r\n                  whileInView={{ opacity: 1, y: 0 }}\r\n                  viewport={{ margin: '-50px' }}\r\n                  transition={{ duration: 0.6 }}\r\n                  style={{\r\n                    fontSize: 'clamp(32px, 4vw, 48px)',\r\n                    fontWeight: 600,\r\n                    color: colors.text,\r\n                    margin: '0 0 16px 0',\r\n                    letterSpacing: '-0.02em',\r\n                    lineHeight: '1.1'\r\n                  }}\r\n                >\r\n                  Africa 2030\r\n                </motion.h1>\r\n                \r\n                <motion.div\r\n                  initial={{ scaleX: 0 }}\r\n                  whileInView={{ scaleX: 1 }}\r\n                  viewport={{ margin: '-50px' }}\r\n                  transition={{ duration: 0.8 }}\r\n                  style={{\r\n                    width: '60px',\r\n                    height: '2px',\r\n                    background: `linear-gradient(90deg, ${colors.secondary} 0%, ${colors.secondaryLight} 100%)`,\r\n                    margin: '0 auto 24px auto',\r\n                    borderRadius: '1px',\r\n                    transformOrigin: 'center'\r\n                  }}\r\n                />\r\n        \r\n                <motion.p\r\n                  initial={{ opacity: 0, y: 20 }}\r\n                  whileInView={{ opacity: 1, y: 0 }}\r\n                  viewport={{ margin: '-50px' }}\r\n                  transition={{ duration: 0.6, delay: 0.2 }}\r\n                  style={{\r\n                    fontSize: '16px',\r\n                    color: colors.textSecondary,\r\n                    margin: '0',\r\n                    letterSpacing: '0.5px',\r\n                    fontWeight: 400,\r\n                    opacity: 0.9\r\n                  }}\r\n                >\r\n                Empowering youth-led climate solutions across the continent   \r\n                </motion.p>\r\n              </div>\r\n        \r\n\r\n        \r\n          {/* Stats */}\r\n          <motion.div \r\n            transition={{ duration: 0.6, delay: 0.2 }}\r\n            style={styles.statsGrid}\r\n          >\r\n            {[\r\n              { value: '10', label: 'Pillars' },\r\n              { value: '5', label: 'Years' },\r\n              { value: '100+', label: 'Youth' },\r\n              { value: '54', label: 'Nations' },\r\n            ].map((stat, idx) => (\r\n              <div key={idx} style={styles.statItem}>\r\n                <div style={{\r\n                  ...styles.statValue,\r\n                  color: colors.text\r\n                }}>\r\n                  <AnimatedCounter value={stat.value} duration={2000 + idx * 200} />\r\n                </div>\r\n                <div style={{\r\n                  ...styles.statLabel,\r\n                  color: colors.textSecondary\r\n                }}>{stat.label}</div>\r\n              </div>\r\n            ))}\r\n          </motion.div>\r\n        </div>\r\n\r\n        <ViewToggle />\r\n\r\n        {/* Content with transitions */}\r\n        <div style={styles.contentWrapper}>\r\n          <div style={{\r\n            ...styles.viewSection,\r\n            ...(activeView === '1year' ? styles.viewSectionActive : styles.viewSectionHidden)\r\n          }}>\r\n            <div style={styles.sectionHeader}>\r\n              <h2 style={{\r\n                ...styles.sectionTitle,\r\n                color: colors.text\r\n              }}>Strategic Goals 2025-2026</h2>\r\n              <p style={{\r\n                ...styles.sectionDesc,\r\n                color: colors.textSecondary\r\n              }}>Foundation goals establishing ACEF as a leading climate action force</p>\r\n            </div>\r\n            <div style={styles.goalsGrid}>\r\n              {oneYearGoals.map((goal, index) => (\r\n                <div \r\n                  key={goal.id}\r\n                  style={{\r\n                    ...styles.gridItem,\r\n                    animationDelay: `${index * 100}ms`\r\n                  }}\r\n                >\r\n                  <CompactCard item={goal} type=\"1year\" />\r\n                </div>\r\n              ))}\r\n            </div>\r\n          </div>\r\n\r\n          <div style={{\r\n            ...styles.viewSection,\r\n            ...(activeView === '5year' ? styles.viewSectionActive : styles.viewSectionHidden)\r\n          }}>\r\n            <div style={styles.sectionHeader}>\r\n              <h2 style={{\r\n                ...styles.sectionTitle,\r\n                color: colors.text\r\n              }}>Programme Pillars 2025-2030</h2>\r\n              <p style={{\r\n                ...styles.sectionDesc,\r\n                color: colors.textSecondary\r\n              }}>Comprehensive action framework across key impact areas</p>\r\n            </div>\r\n            <div style={styles.pillarsGrid}>\r\n              {programmePillars.map((pillar, index) => (\r\n                <div \r\n                  key={pillar.id}\r\n                  style={{\r\n                    ...styles.gridItem,\r\n                    animationDelay: `${index * 80}ms`\r\n                  }}\r\n                >\r\n                  <CompactCard item={pillar} type=\"5year\" />\r\n                </div>\r\n              ))}\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* CTA */}\r\n        <motion.div\r\n      style={styles.ctaSection}\r\n      initial={{ opacity: 0, y: 30 }}\r\n      animate={{ opacity: 1, y: 0 }}\r\n      transition={{ duration: 0.6, ease: \"easeOut\" }}\r\n    >\r\n      <div style={styles.ctaButtons}>\r\n        <button\r\n          style={{\r\n            ...styles.primaryButton,\r\n            backgroundColor: colors.primary,\r\n            boxShadow: `0 4px 12px rgba(0,0,0,0.15)`\r\n          }}\r\n          onClick={() => navigate(\"/impact#projects\")}\r\n        >\r\n          <span>Explore Programmes</span>\r\n          <ArrowRight size={16} />\r\n        </button>\r\n      </div>\r\n    </motion.div>\r\n\r\n\r\n\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst styles = {\r\n  container: {\r\n    minHeight: '100vh'\r\n  },\r\n  content: {\r\n    maxWidth: '1200px',\r\n    margin: '0 auto',\r\n    padding: '32px 16px'\r\n  },\r\n  header: {\r\n    textAlign: 'center',\r\n    marginBottom: '32px'\r\n  },\r\n  badge: {\r\n    display: 'inline-flex',\r\n    alignItems: 'center',\r\n    gap: '8px',\r\n    padding: '8px 16px',\r\n    borderRadius: '24px',\r\n    marginBottom: '16px'\r\n  },\r\n  badgeText: {\r\n    fontSize: '14px',\r\n    fontWeight: '500'\r\n  },\r\n  title: {\r\n    fontSize: '64px',\r\n    fontWeight: '900',\r\n    marginBottom: '12px',\r\n    lineHeight: '1'\r\n  },\r\n  gradientText: {\r\n    background: 'linear-gradient(45deg, #0a451c 0%, #facf3c 50%, #9ccf9f 100%)',\r\n    WebkitBackgroundClip: 'text',\r\n    WebkitTextFillColor: 'transparent',\r\n    backgroundClip: 'text'\r\n  },\r\n  subtitle: {\r\n    fontSize: '18px',\r\n    maxWidth: '512px',\r\n    margin: '0 auto 24px',\r\n    lineHeight: '1.6'\r\n  },\r\n  statsGrid: {\r\n    display: 'grid',\r\n    gridTemplateColumns: 'repeat(4, 1fr)',\r\n    gap: '16px',\r\n    maxWidth: '384px',\r\n    margin: '0 auto 32px'\r\n  },\r\n  statItem: {\r\n    textAlign: 'center'\r\n  },\r\n  statValue: {\r\n    fontSize: '32px',\r\n    fontWeight: '700'\r\n  },\r\n  statLabel: {\r\n    fontSize: '12px'\r\n  },\r\n  toggleContainer: {\r\n    display: 'flex',\r\n    justifyContent: 'center',\r\n    marginBottom: '32px'\r\n  },\r\n  toggleWrapper: {\r\n    display: 'inline-flex',\r\n    borderRadius: '16px',\r\n    padding: '4px'\r\n  },\r\n  toggleButton: {\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    gap: '12px',\r\n    padding: '16px 32px',\r\n    borderRadius: '12px',\r\n    border: 'none',\r\n    cursor: 'pointer',\r\n    transition: 'all 0.3s ease',\r\n    position: 'relative',\r\n    fontWeight: '500'\r\n  },\r\n  toggleButtonActive: {\r\n    color: '#ffffff',\r\n    transform: 'scale(1.02)'\r\n  },\r\n  toggleButtonInactive: {\r\n    backgroundColor: 'transparent'\r\n  },\r\n  toggleIcon: {\r\n    padding: '8px',\r\n    borderRadius: '8px',\r\n    transition: 'all 0.2s ease'\r\n  },\r\n  toggleIconActive: {\r\n    backgroundColor: 'rgba(255,255,255,0.2)'\r\n  },\r\n  toggleContent: {\r\n    textAlign: 'left'\r\n  },\r\n  toggleLabel: {\r\n    fontSize: '14px',\r\n    fontWeight: '600'\r\n  },\r\n  toggleSublabel: {\r\n    fontSize: '12px'\r\n  },\r\n  contentWrapper: {\r\n    position: 'relative',\r\n    overflow: 'hidden'\r\n  },\r\n  viewSection: {\r\n    transition: 'all 0.5s ease'\r\n  },\r\n  viewSectionActive: {\r\n    transform: 'translateX(0)',\r\n    opacity: 1\r\n  },\r\n  viewSectionHidden: {\r\n    transform: 'translateX(100%)',\r\n    opacity: 0,\r\n    position: 'absolute',\r\n    top: 0,\r\n    left: 0,\r\n    right: 0\r\n  },\r\n  sectionHeader: {\r\n    textAlign: 'center',\r\n    marginBottom: '24px'\r\n  },\r\n  sectionTitle: {\r\n    fontSize: '32px',\r\n    fontWeight: '700',\r\n    marginBottom: '8px'\r\n  },\r\n  sectionDesc: {\r\n    fontSize: '16px' // Increased from default\r\n  },\r\n  goalsGrid: {\r\n    display: 'grid',\r\n    gridTemplateColumns: 'repeat(auto-fit, minmax(280px, 1fr))',\r\n    gap: '16px'\r\n  },\r\n  pillarsGrid: {\r\n    display: 'grid',\r\n    gridTemplateColumns: 'repeat(auto-fit, minmax(200px, 1fr))',\r\n    gap: '16px'\r\n  },\r\n  gridItem: {\r\n    animation: 'fadeInUp 0.3s ease forwards',\r\n    opacity: 0,\r\n    transform: 'translateY(16px)'\r\n  },\r\n  compactCard: {\r\n    position: 'relative',\r\n    borderRadius: '12px',\r\n    padding: '16px',\r\n    cursor: 'pointer',\r\n    transition: 'all 0.3s ease'\r\n  },\r\n  cardHeader: {\r\n    display: 'flex',\r\n    alignItems: 'flex-start',\r\n    justifyContent: 'space-between',\r\n    marginBottom: '12px'\r\n  },\r\n  iconContainer: {\r\n    padding: '8px',\r\n    borderRadius: '8px',\r\n    transition: 'transform 0.2s ease'\r\n  },\r\n  timelineTag: {\r\n    fontSize: '12px',\r\n    padding: '4px 8px',\r\n    borderRadius: '12px'\r\n  },\r\n  cardTitle: {\r\n    fontWeight: '700',\r\n    fontSize: '16px', // Increased from 14px\r\n    marginBottom: '4px',\r\n    transition: 'color 0.3s ease'\r\n  },\r\n  cardMetric: {\r\n    fontSize: '16px', // Increased from 14px\r\n    fontWeight: '500',\r\n    marginBottom: '8px'\r\n  },\r\n  cardDesc: {\r\n    fontSize: '15px', // Increased from 14px\r\n    lineHeight: '1.4',\r\n    margin: 0\r\n  },\r\n  hoverOverlay: {\r\n    position: 'absolute',\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    borderRadius: '12px',\r\n    transition: 'opacity 0.3s ease',\r\n    pointerEvents: 'none'\r\n  },\r\n  ctaSection: {\r\n    marginTop: '48px',\r\n    textAlign: 'center'\r\n  },\r\n  ctaButtons: {\r\n    display: 'inline-flex',\r\n    flexDirection: 'column',\r\n    gap: '12px'\r\n  },\r\n  primaryButton: {\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    gap: '8px',\r\n    padding: '12px 24px',\r\n    borderRadius: '16px',\r\n    fontWeight: '600',\r\n    color: '#ffffff',\r\n    border: 'none',\r\n    cursor: 'pointer',\r\n    transition: 'all 0.3s ease'\r\n  },\r\n  secondaryButton: {\r\n    padding: '12px 24px',\r\n    borderRadius: '16px',\r\n    fontWeight: '600',\r\n    border: '1px solid #d1d5db',\r\n    cursor: 'pointer',\r\n    transition: 'all 0.3s ease'\r\n  }\r\n};\r\n\r\n// Add CSS animations\r\nconst styleSheet = document.createElement('style');\r\nstyleSheet.textContent = `\r\n  @keyframes fadeInUp {\r\n    to {\r\n      opacity: 1;\r\n      transform: translateY(0);\r\n    }\r\n  }\r\n\r\n  @media (min-width: 768px) {\r\n    .goals-grid {\r\n      grid-template-columns: repeat(2, 1fr);\r\n    }\r\n  }\r\n\r\n  @media (min-width: 1024px) {\r\n    .goals-grid {\r\n      grid-template-columns: repeat(4, 1fr);\r\n    }\r\n    .pillars-grid {\r\n      grid-template-columns: repeat(3, 1fr);\r\n    }\r\n  }\r\n\r\n  @media (min-width: 1280px) {\r\n    .pillars-grid {\r\n      grid-template-columns: repeat(5, 1fr);\r\n    }\r\n  }\r\n\r\n  .compact-card:hover {\r\n    box-shadow: 0 4px 12px rgba(0,0,0,0.15);\r\n  }\r\n\r\n  .icon-container:hover {\r\n    transform: scale(1.1);\r\n  }\r\n\r\n  .primary-button:hover {\r\n    transform: scale(1.05);\r\n  }\r\n\r\n  .secondary-button:hover {\r\n    border-color: #9ca3af;\r\n  }\r\n\r\n  .toggle-buttons {\r\n    display: flex;\r\n    flex-direction: column;\r\n    gap: 12px;\r\n  }\r\n\r\n  @media (min-width: 640px) {\r\n    .toggle-buttons {\r\n      flex-direction: row;\r\n    }\r\n  }\r\n`;\r\ndocument.head.appendChild(styleSheet);\r\n\r\nexport default ACEFDashboard;","import React, { useState, useEffect, useRef } from 'react';\r\nimport '../../styles/programs.css';\r\nimport Header from '../../components/Header';\r\nimport Footer from '../../components/Footer';\r\nimport ProgrammePillarsSection from './programSlide';\r\nimport CrossCuttingStrategies from './CrossCuttingStrategies';\r\nimport ACEFDashboard from '../AboutUs/strategicplan';\r\nimport ProjectsDisplay from '../Projects/ProjectsDisplay';\r\n\r\nimport JoinMovement from '../../components/JoinMovement'; \r\n\r\nconst Programs = () => {\r\n  const [activeProgram, setActiveProgram] = useState(null);\r\n  const [scrollProgress, setScrollProgress] = useState(0);\r\n  const [timelineActiveIndex, setTimelineActiveIndex] = useState(0);\r\n\r\n  useEffect(() => {\r\n    const handleScroll = () => {\r\n      const scrolled = (window.scrollY / (document.body.scrollHeight - window.innerHeight)) * 100;\r\n      setScrollProgress(scrolled);\r\n    };\r\n\r\n    window.addEventListener('scroll', handleScroll, { passive: true });\r\n    return () => window.removeEventListener('scroll', handleScroll);\r\n  }, []);\r\n\r\n\r\n\r\n  const timeline = [\r\n    { year: \"2025\", title: \"Foundation\", description: \"Launch pilot projects across 14 African countries\" },\r\n    { year: \"2027\", title: \"Scale-Up\", description: \"Expand networks and establish Green Energy Hubs\" },\r\n    { year: \"2030\", title: \"Impact\", description: \"Continental reach with integrated solutions\" }\r\n  ];\r\n\r\n  return (\r\n    <div className=\"programs-page\">\r\n      {/* Progress Indicator */}\r\n      <div className=\"progress-bar\" style={{ width: `${scrollProgress}%` }} />\r\n<Header/>\r\n    <ProgrammePillarsSection/>\r\n\r\n \r\n\r\n<CrossCuttingStrategies/>\r\n<ProjectsDisplay/>\r\n<ACEFDashboard/>\r\n<JoinMovement/>\r\n      <Footer/>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Programs;","import React from 'react';\r\n\r\nexport default function PrivacyPolicy() {\r\n  return (\r\n    <main className=\"container mx-auto p-6 max-w-4xl\">\r\n      <header className=\"mb-6\">\r\n        <h1 className=\"text-3xl font-semibold\">Privacy Policy</h1>\r\n        <p className=\"text-sm text-gray-600 mt-2\">Last updated: August 2025</p>\r\n      </header>\r\n\r\n      <section className=\"space-y-4\">\r\n        <p>\r\n          Africa Climate and Environment Foundation (\"ACEF\", \"we\", \"our\", or \"us\")\r\n          respects your privacy and complies with the EU General Data Protection Regulation (GDPR) and other applicable data protection laws. This Privacy Policy explains how we collect, use, share, and protect personal information when you use our website and services.\r\n        </p>\r\n\r\n        <h2 className=\"text-xl font-medium\">1. Information We Collect</h2>\r\n        <ul className=\"list-disc pl-6\">\r\n          <li>Information you provide: name, email address, organization, location, donation details, CV or application details for volunteering or jobs, and other information you submit through forms on our website.</li>\r\n          <li>Automatically collected data: IP address, device and browser information, pages visited, referral source, and analytics data.</li>\r\n          <li>Payment information: We do not store full payment card details. Payments are processed by GDPR-compliant third-party processors (e.g., Stripe, PayPal).</li>\r\n        </ul>\r\n\r\n        <h2 className=\"text-xl font-medium\">2. Legal Bases for Processing</h2>\r\n        <p>\r\n          Under GDPR, we process your personal data on the following legal bases: consent, contract performance, legal obligations, and legitimate interests.\r\n        </p>\r\n\r\n        <h2 className=\"text-xl font-medium\">3. How We Use Information</h2>\r\n        <p>\r\n          We use collected information to provide and improve our services, process donations, communicate with supporters, manage volunteering and partnership applications, personalize content, monitor usage, and comply with legal obligations.\r\n        </p>\r\n\r\n        <h2 className=\"text-xl font-medium\">4. Sharing and Disclosure</h2>\r\n        <p>\r\n          We share data only with GDPR-compliant service providers, partner organizations, and legal authorities where required. We do not sell your personal data.\r\n        </p>\r\n\r\n        <h2 className=\"text-xl font-medium\">5. International Transfers</h2>\r\n        <p>\r\n          If we transfer personal data outside the European Economic Area, we ensure appropriate safeguards, such as Standard Contractual Clauses.\r\n        </p>\r\n\r\n        <h2 className=\"text-xl font-medium\">6. Cookies and Tracking</h2>\r\n        <p>\r\n          We use cookies for functionality and analytics. You can opt-out or adjust preferences via our Cookie Settings.\r\n        </p>\r\n\r\n        <h2 className=\"text-xl font-medium\">7. Data Retention</h2>\r\n        <p>\r\n          We retain personal data only as long as necessary or as required by law, after which it is securely deleted.\r\n        </p>\r\n\r\n        <h2 className=\"text-xl font-medium\">8. Your GDPR Rights</h2>\r\n        <ul className=\"list-disc pl-6\">\r\n          <li>Right of access</li>\r\n          <li>Right to rectification</li>\r\n          <li>Right to erasure</li>\r\n          <li>Right to restrict processing</li>\r\n          <li>Right to data portability</li>\r\n          <li>Right to object</li>\r\n          <li>Right to withdraw consent</li>\r\n          <li>Right to lodge a complaint with a supervisory authority</li>\r\n        </ul>\r\n\r\n        <h2 className=\"text-xl font-medium\">9. Security</h2>\r\n        <p>\r\n          We implement technical and organizational measures to secure personal data.\r\n        </p>\r\n\r\n        <h2 className=\"text-xl font-medium\">10. Changes to This Policy</h2>\r\n        <p>\r\n          We may update this policy and will notify you of significant changes.\r\n        </p>\r\n\r\n        <footer className=\"mt-8 text-sm text-gray-600\">\r\n          <p>Contact: privacy@acef.org</p>\r\n        </footer>\r\n      </section>\r\n    </main>\r\n  );\r\n}","import React from 'react';\r\n\r\nexport default function TermsOfService() {\r\n  return (\r\n    <main className=\"container mx-auto p-6 max-w-4xl\">\r\n      <header className=\"mb-6\">\r\n        <h1 className=\"text-3xl font-semibold\">Terms of Service</h1>\r\n        <p className=\"text-sm text-gray-600 mt-2\">Effective date: August 2025</p>\r\n      </header>\r\n\r\n      <section className=\"space-y-4\">\r\n        <p>\r\n          These Terms govern your access to and use of the ACEF website and services. By using our services, you agree to these Terms and acknowledge our GDPR-compliant Privacy Policy.\r\n        </p>\r\n\r\n        <h2 className=\"text-xl font-medium\">Data Protection Compliance</h2>\r\n        <p>\r\n          ACEF processes personal data in accordance with GDPR. Users in the EU have specific rights outlined in our Privacy Policy.\r\n        </p>\r\n\r\n        <footer className=\"mt-6 text-sm text-gray-600\">\r\n          <p>Contact: info@acef.org</p>\r\n        </footer>\r\n      </section>\r\n    </main>\r\n  );\r\n}","import React, { useState, useEffect } from 'react';\r\nimport { \r\n  Heart, Star, Trophy, Gift, Users, \r\n  ChevronLeft, ChevronRight, Sparkles,\r\n  Crown, Award, Medal\r\n} from 'lucide-react';\r\n\r\nconst DonorWall = ({ API_BASE = '/api' }) => {\r\n  const [donors, setDonors] = useState([]);\r\n  const [anonymousData, setAnonymousData] = useState({ count: 0, totalAmount: 0 });\r\n  const [loading, setLoading] = useState(true);\r\n  const [currentPage, setCurrentPage] = useState(0);\r\n  const [filter, setFilter] = useState('all'); // all, recent, featured\r\n  const donorsPerPage = 12;\r\n\r\n  // FIXED: Fetch donor wall data\r\n  const fetchDonorWall = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const response = await fetch(`${API_BASE}/donations/donor-wall?limit=100`, {\r\n        credentials: 'include'\r\n      });\r\n      const data = await response.json();\r\n\r\n      if (data.success) {\r\n        const completedDonors = data.data.donors || [];\r\n        \r\n        // Debug logging\r\n        console.log('Donor wall data received:', {\r\n          donorsCount: completedDonors.length,\r\n          anonymousData: data.data.anonymous,\r\n          sampleDonor: completedDonors[0]\r\n        });\r\n        \r\n        setDonors(completedDonors);\r\n        setAnonymousData(data.data.anonymous || { count: 0, totalAmount: 0 });\r\n        \r\n        console.log(`Loaded ${completedDonors.length} completed donors for wall display`);\r\n      } else {\r\n        console.error('API returned success: false', data);\r\n        setDonors([]);\r\n        setAnonymousData({ count: 0, totalAmount: 0 });\r\n      }\r\n    } catch (error) {\r\n      console.error('Error fetching donor wall data:', error);\r\n      setDonors([]);\r\n      setAnonymousData({ count: 0, totalAmount: 0 });\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  // FIXED: Filter donors based on selected filter\r\n  const getFilteredDonors = () => {\r\n    let filtered = [...donors];\r\n    \r\n    switch (filter) {\r\n      case 'featured':\r\n        filtered = filtered.filter(donor => donor.is_featured);\r\n        break;\r\n      case 'recent':\r\n        const thirtyDaysAgo = new Date();\r\n        thirtyDaysAgo.setDate(thirtyDaysAgo.getDate() - 30);\r\n        filtered = filtered.filter(donor => {\r\n          const donationDate = new Date(donor.donation_date || donor.created_at);\r\n          return donationDate > thirtyDaysAgo;\r\n        });\r\n        break;\r\n      default:\r\n        // 'all' - backend already filters for completed, no additional filtering needed\r\n        break;\r\n    }\r\n    \r\n    return filtered;\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchDonorWall();\r\n  }, []);\r\n\r\n  const filteredDonors = getFilteredDonors();\r\n  const totalPages = Math.ceil(filteredDonors.length / donorsPerPage);\r\n  const currentDonors = filteredDonors.slice(\r\n    currentPage * donorsPerPage,\r\n    (currentPage + 1) * donorsPerPage\r\n  );\r\n\r\n  // Get badge for donation amount\r\n  const getDonorBadge = (amount) => {\r\n    if (amount >= 1000) return { icon: Crown, color: '#8B5CF6', tier: 'Platinum', glow: true };\r\n    if (amount >= 500) return { icon: Trophy, color: '#F59E0B', tier: 'Gold', glow: true };\r\n    if (amount >= 100) return { icon: Award, color: '#6B7280', tier: 'Silver', glow: false };\r\n    return { icon: Medal, color: '#CD7F32', tier: 'Bronze', glow: false };\r\n  };\r\n\r\n  const formatAmount = (amount) => {\r\n    return new Intl.NumberFormat('en-US', {\r\n      style: 'currency',\r\n      currency: 'USD',\r\n      minimumFractionDigits: 0\r\n    }).format(amount);\r\n  };\r\n\r\n  const formatDate = (dateString) => {\r\n    return new Date(dateString).toLocaleDateString('en-US', {\r\n      year: 'numeric',\r\n      month: 'short',\r\n      day: 'numeric'\r\n    });\r\n  };\r\n\r\n  const nextPage = () => {\r\n    setCurrentPage(prev => (prev + 1) % totalPages);\r\n  };\r\n\r\n  const prevPage = () => {\r\n    setCurrentPage(prev => (prev - 1 + totalPages) % totalPages);\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"donor-wall loading\">\r\n        <style jsx>{`\r\n          .donor-wall.loading {\r\n            display: flex;\r\n            align-items: center;\r\n            justify-content: center;\r\n            min-height: 400px;\r\n          }\r\n          .loading-spinner {\r\n            text-align: center;\r\n            color: #6b7280;\r\n          }\r\n          .loading-spinner svg {\r\n            animation: spin 2s linear infinite;\r\n            color: #0a451c;\r\n            margin-bottom: 16px;\r\n          }\r\n          @keyframes spin {\r\n            from { transform: rotate(0deg); }\r\n            to { transform: rotate(360deg); }\r\n          }\r\n        `}</style>\r\n        <div className=\"loading-spinner\">\r\n          <Sparkles size={40} />\r\n          <p>Loading our amazing donors...</p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"donor-wall\">\r\n      <style jsx>{`\r\n        .donor-wall {\r\n          padding: 40px 20px;\r\n          background: linear-gradient(135deg, #f9fafb 0%, #f3f4f6 100%);\r\n          min-height: 500px;\r\n        }\r\n\r\n        .wall-header {\r\n          text-align: center;\r\n          margin-bottom: 48px;\r\n        }\r\n\r\n        .wall-title {\r\n          font-size: 2.5rem;\r\n          font-weight: 700;\r\n          color: #0a451c;\r\n          margin: 0 0 16px 0;\r\n          position: relative;\r\n        }\r\n\r\n        .wall-title::after {\r\n          content: '';\r\n          position: absolute;\r\n          bottom: -8px;\r\n          left: 50%;\r\n          transform: translateX(-50%);\r\n          width: 80px;\r\n          height: 4px;\r\n          background: linear-gradient(90deg, #facf3c, #9ccf9f);\r\n          border-radius: 2px;\r\n        }\r\n\r\n        .wall-subtitle {\r\n          font-size: 1.125rem;\r\n          color: #6b7280;\r\n          margin: 0 0 32px 0;\r\n          max-width: 600px;\r\n          margin-left: auto;\r\n          margin-right: auto;\r\n        }\r\n\r\n        .completed-badge {\r\n          display: inline-flex;\r\n          align-items: center;\r\n          gap: 4px;\r\n          background: #d1fae5;\r\n          color: #065f46;\r\n          padding: 4px 8px;\r\n          border-radius: 12px;\r\n          font-size: 12px;\r\n          font-weight: 500;\r\n          margin-left: 12px;\r\n        }\r\n\r\n        .wall-stats {\r\n          display: flex;\r\n          justify-content: center;\r\n          gap: 48px;\r\n          margin-bottom: 48px;\r\n          flex-wrap: wrap;\r\n        }\r\n\r\n        .stat-item {\r\n          text-align: center;\r\n        }\r\n\r\n        .stat-number {\r\n          font-size: 2rem;\r\n          font-weight: 700;\r\n          color: #0a451c;\r\n          display: block;\r\n        }\r\n\r\n        .stat-label {\r\n          font-size: 0.875rem;\r\n          color: #6b7280;\r\n          text-transform: uppercase;\r\n          letter-spacing: 0.5px;\r\n          font-weight: 500;\r\n        }\r\n\r\n        .filter-tabs {\r\n          display: flex;\r\n          justify-content: center;\r\n          gap: 8px;\r\n          margin-bottom: 32px;\r\n          flex-wrap: wrap;\r\n        }\r\n\r\n        .filter-tab {\r\n          padding: 8px 20px;\r\n          border: 2px solid transparent;\r\n          border-radius: 25px;\r\n          background: white;\r\n          color: #6b7280;\r\n          font-size: 14px;\r\n          font-weight: 500;\r\n          cursor: pointer;\r\n          transition: all 0.3s ease;\r\n          display: flex;\r\n          align-items: center;\r\n          gap: 6px;\r\n        }\r\n\r\n        .filter-tab.active {\r\n          background: #0a451c;\r\n          color: white;\r\n          border-color: #0a451c;\r\n        }\r\n\r\n        .filter-tab:hover:not(.active) {\r\n          background: #f3f4f6;\r\n          border-color: #e5e7eb;\r\n        }\r\n\r\n        .donors-grid {\r\n          display: grid;\r\n          grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));\r\n          gap: 24px;\r\n          margin-bottom: 40px;\r\n          min-height: 400px;\r\n        }\r\n\r\n        .donor-card {\r\n          background: white;\r\n          border-radius: 16px;\r\n          padding: 24px;\r\n          box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);\r\n          transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\r\n          position: relative;\r\n          overflow: hidden;\r\n          border: 2px solid transparent;\r\n        }\r\n\r\n        .donor-card:hover {\r\n          transform: translateY(-4px);\r\n          box-shadow: 0 12px 24px rgba(0, 0, 0, 0.15);\r\n          border-color: #9ccf9f;\r\n        }\r\n\r\n        .donor-card.featured {\r\n          background: linear-gradient(135deg, #fff7ed, #fef3c7);\r\n          border-color: #facf3c;\r\n        }\r\n\r\n        .donor-card.featured::before {\r\n          content: '';\r\n          position: absolute;\r\n          top: 0;\r\n          right: 0;\r\n          width: 0;\r\n          height: 0;\r\n          border-left: 20px solid transparent;\r\n          border-top: 20px solid #facf3c;\r\n        }\r\n\r\n        .donor-card.featured::after {\r\n          content: '';\r\n          position: absolute;\r\n          top: 4px;\r\n          right: 4px;\r\n          font-size: 12px;\r\n        }\r\n\r\n        .donor-card.completed::before {\r\n          content: '';\r\n          position: absolute;\r\n          top: 8px;\r\n          left: 8px;\r\n          font-size: 14px;\r\n          z-index: 1;\r\n        }\r\n\r\n        .donor-badge {\r\n          display: flex;\r\n          align-items: center;\r\n          justify-content: center;\r\n          width: 48px;\r\n          height: 48px;\r\n          border-radius: 50%;\r\n          margin: 0 auto 16px;\r\n          position: relative;\r\n        }\r\n\r\n        .donor-badge.glow {\r\n          animation: glow 2s ease-in-out infinite alternate;\r\n        }\r\n\r\n        .donor-name {\r\n          font-size: 1.125rem;\r\n          font-weight: 600;\r\n          color: #1f2937;\r\n          text-align: center;\r\n          margin: 0 0 8px 0;\r\n        }\r\n\r\n        .donor-amount {\r\n          font-size: 1rem;\r\n          font-weight: 500;\r\n          color: #059669;\r\n          text-align: center;\r\n          margin: 0 0 8px 0;\r\n        }\r\n\r\n        .donor-date {\r\n          font-size: 0.875rem;\r\n          color: #6b7280;\r\n          text-align: center;\r\n          margin: 0 0 12px 0;\r\n        }\r\n\r\n        .donor-tier {\r\n          display: inline-flex;\r\n          align-items: center;\r\n          gap: 4px;\r\n          padding: 4px 12px;\r\n          border-radius: 12px;\r\n          font-size: 0.75rem;\r\n          font-weight: 500;\r\n          text-transform: uppercase;\r\n          letter-spacing: 0.5px;\r\n          margin: 0 auto;\r\n          background: #f3f4f6;\r\n          color: #6b7280;\r\n        }\r\n\r\n        .anonymous-card {\r\n          background: linear-gradient(135deg, #6b7280, #4b5563);\r\n          color: white;\r\n          text-align: center;\r\n          display: flex;\r\n          flex-direction: column;\r\n          align-items: center;\r\n          justify-content: center;\r\n          min-height: 200px;\r\n          position: relative;\r\n          overflow: hidden;\r\n        }\r\n\r\n        .anonymous-card::before {\r\n          content: '';\r\n          position: absolute;\r\n          top: -50%;\r\n          left: -50%;\r\n          width: 200%;\r\n          height: 200%;\r\n          background: repeating-linear-gradient(\r\n            45deg,\r\n            transparent,\r\n            transparent 10px,\r\n            rgba(255, 255, 255, 0.05) 10px,\r\n            rgba(255, 255, 255, 0.05) 20px\r\n          );\r\n          animation: slide 20s linear infinite;\r\n        }\r\n\r\n        .anonymous-content {\r\n          position: relative;\r\n          z-index: 1;\r\n        }\r\n\r\n        .anonymous-icon {\r\n          margin-bottom: 16px;\r\n          opacity: 0.9;\r\n        }\r\n\r\n        .anonymous-count {\r\n          font-size: 2rem;\r\n          font-weight: 700;\r\n          margin: 0 0 8px 0;\r\n        }\r\n\r\n        .anonymous-label {\r\n          font-size: 1rem;\r\n          opacity: 0.9;\r\n          margin: 0 0 8px 0;\r\n        }\r\n\r\n        .anonymous-total {\r\n          font-size: 0.875rem;\r\n          opacity: 0.7;\r\n          margin: 0;\r\n        }\r\n\r\n        .pagination {\r\n          display: flex;\r\n          align-items: center;\r\n          justify-content: center;\r\n          gap: 16px;\r\n          margin-top: 32px;\r\n        }\r\n\r\n        .page-button {\r\n          display: flex;\r\n          align-items: center;\r\n          justify-content: center;\r\n          width: 40px;\r\n          height: 40px;\r\n          border: 2px solid #e5e7eb;\r\n          border-radius: 50%;\r\n          background: white;\r\n          color: #6b7280;\r\n          cursor: pointer;\r\n          transition: all 0.2s ease;\r\n        }\r\n\r\n        .page-button:hover {\r\n          background: #0a451c;\r\n          color: white;\r\n          border-color: #0a451c;\r\n        }\r\n\r\n        .page-button:disabled {\r\n          opacity: 0.5;\r\n          cursor: not-allowed;\r\n        }\r\n\r\n        .page-button:disabled:hover {\r\n          background: white;\r\n          color: #6b7280;\r\n          border-color: #e5e7eb;\r\n        }\r\n\r\n        .page-info {\r\n          color: #6b7280;\r\n          font-size: 14px;\r\n          font-weight: 500;\r\n        }\r\n\r\n        .empty-state {\r\n          text-align: center;\r\n          padding: 80px 20px;\r\n          color: #6b7280;\r\n        }\r\n\r\n        .empty-state h3 {\r\n          font-size: 1.5rem;\r\n          margin: 0 0 16px 0;\r\n          color: #374151;\r\n        }\r\n\r\n        .empty-state p {\r\n          font-size: 1rem;\r\n          margin: 0;\r\n        }\r\n\r\n        .debug-info {\r\n          background: #fee2e2;\r\n          border: 1px solid #fca5a5;\r\n          border-radius: 8px;\r\n          padding: 16px;\r\n          margin: 16px 0;\r\n          font-family: monospace;\r\n          font-size: 12px;\r\n        }\r\n\r\n        @keyframes glow {\r\n          from {\r\n            box-shadow: 0 0 10px rgba(139, 92, 246, 0.5);\r\n          }\r\n          to {\r\n            box-shadow: 0 0 20px rgba(139, 92, 246, 0.8), 0 0 30px rgba(139, 92, 246, 0.6);\r\n          }\r\n        }\r\n\r\n        @keyframes slide {\r\n          0% { transform: translateX(-50px) translateY(-50px); }\r\n          100% { transform: translateX(50px) translateY(50px); }\r\n        }\r\n\r\n        @media (max-width: 768px) {\r\n          .donor-wall {\r\n            padding: 24px 16px;\r\n          }\r\n\r\n          .wall-title {\r\n            font-size: 2rem;\r\n          }\r\n\r\n          .wall-stats {\r\n            gap: 24px;\r\n          }\r\n\r\n          .donors-grid {\r\n            grid-template-columns: repeat(auto-fill, minmax(240px, 1fr));\r\n            gap: 16px;\r\n          }\r\n\r\n          .donor-card {\r\n            padding: 20px;\r\n          }\r\n\r\n          .filter-tabs {\r\n            gap: 4px;\r\n          }\r\n\r\n          .filter-tab {\r\n            padding: 6px 16px;\r\n            font-size: 13px;\r\n          }\r\n        }\r\n\r\n        @media (max-width: 480px) {\r\n          .donors-grid {\r\n            grid-template-columns: 1fr;\r\n          }\r\n\r\n          .wall-stats {\r\n            flex-direction: column;\r\n            gap: 16px;\r\n          }\r\n        }\r\n      `}</style>\r\n\r\n      <div className=\"wall-header\">\r\n        <h2 className=\"wall-title\">\r\n          Our Amazing Donors\r\n          <span className=\"completed-badge\">\r\n            <Trophy size={12} />\r\n            Completed Donations\r\n          </span>\r\n        </h2>\r\n        <p className=\"wall-subtitle\">\r\n          These generous individuals have completed their donations and are making a real difference in African communities. \r\n          Thank you for your support and belief in our mission!\r\n        </p>\r\n\r\n        <div className=\"wall-stats\">\r\n          <div className=\"stat-item\">\r\n            <span className=\"stat-number\">{donors.length + anonymousData.count}</span>\r\n            <span className=\"stat-label\">Completed Donors</span>\r\n          </div>\r\n          <div className=\"stat-item\">\r\n            <span className=\"stat-number\">{donors.length}</span>\r\n            <span className=\"stat-label\">Public Donors</span>\r\n          </div>\r\n          <div className=\"stat-item\">\r\n            <span className=\"stat-number\">{anonymousData.count}</span>\r\n            <span className=\"stat-label\">Anonymous</span>\r\n          </div>\r\n        </div>\r\n\r\n        {/* DEBUG: Show what data we received */}\r\n        {process.env.NODE_ENV === 'development' && (\r\n          <div className=\"debug-info\">\r\n            <strong>Debug Info:</strong><br />\r\n            Donors array length: {donors.length}<br />\r\n            Anonymous count: {anonymousData.count}<br />\r\n            Sample donor: {JSON.stringify(donors[0] || 'none', null, 2)}\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      <div className=\"filter-tabs\">\r\n        <button\r\n          className={`filter-tab ${filter === 'all' ? 'active' : ''}`}\r\n          onClick={() => {\r\n            setFilter('all');\r\n            setCurrentPage(0);\r\n          }}\r\n        >\r\n          <Users size={16} />\r\n          All Completed\r\n        </button>\r\n        <button\r\n          className={`filter-tab ${filter === 'featured' ? 'active' : ''}`}\r\n          onClick={() => {\r\n            setFilter('featured');\r\n            setCurrentPage(0);\r\n          }}\r\n        >\r\n          <Star size={16} />\r\n          Featured\r\n        </button>\r\n        <button\r\n          className={`filter-tab ${filter === 'recent' ? 'active' : ''}`}\r\n          onClick={() => {\r\n            setFilter('recent');\r\n            setCurrentPage(0);\r\n          }}\r\n        >\r\n          <Sparkles size={16} />\r\n          Recent\r\n        </button>\r\n      </div>\r\n\r\n      {filteredDonors.length === 0 && anonymousData.count === 0 ? (\r\n        <div className=\"empty-state\">\r\n          <h3>No completed donations yet</h3>\r\n          <p>Completed donations will appear here once processing is finished!</p>\r\n          \r\n          {/* DEBUG: Show what we tried to fetch */}\r\n          {process.env.NODE_ENV === 'development' && (\r\n            <div className=\"debug-info\">\r\n              API endpoint: {`${API_BASE}/donations/donor-wall?limit=100`}<br />\r\n              Check browser console for API response details.\r\n            </div>\r\n          )}\r\n        </div>\r\n      ) : (\r\n        <>\r\n          <div className=\"donors-grid\">\r\n            {/* Anonymous donor card (only show on first page) */}\r\n            {currentPage === 0 && anonymousData.count > 0 && (\r\n              <div className=\"donor-card anonymous-card\">\r\n                <div className=\"anonymous-content\">\r\n                  <div className=\"anonymous-icon\">\r\n                    <Users size={32} />\r\n                  </div>\r\n                  <h3 className=\"anonymous-count\">{anonymousData.count}</h3>\r\n                  <p className=\"anonymous-label\">Anonymous Donors</p>\r\n                  <p className=\"anonymous-total\">\r\n                    Total: {formatAmount(anonymousData.totalAmount)}\r\n                  </p>\r\n                  <div style={{ fontSize: '12px', opacity: 0.8, marginTop: '8px' }}>\r\n                    Completed Donations\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            )}\r\n\r\n            {/* FIXED: Regular donor cards with correct field mapping */}\r\n            {currentDonors.map((donor, index) => {\r\n              const badge = getDonorBadge(donor.donation_amount);\r\n              const BadgeIcon = badge.icon;\r\n              const isCompleted = donor.status === 'completed' || donor.donation_status === 'completed';\r\n\r\n              return (\r\n                <div \r\n                  key={`${donor.donation_id}-${index}`}\r\n                  className={`donor-card ${donor.is_featured ? 'featured' : ''} ${isCompleted ? 'completed' : ''}`}\r\n                >\r\n                  <div \r\n                    className={`donor-badge ${badge.glow ? 'glow' : ''}`}\r\n                    style={{ backgroundColor: `${badge.color}20`, border: `2px solid ${badge.color}` }}\r\n                  >\r\n                    <BadgeIcon size={24} color={badge.color} />\r\n                  </div>\r\n\r\n                  <h3 className=\"donor-name\">\r\n                    {donor.is_anonymous ? 'Anonymous Friend' : donor.donor_name}\r\n                  </h3>\r\n                  <p className=\"donor-amount\">{formatAmount(donor.donation_amount)}</p>\r\n                  <p className=\"donor-date\">\r\n                    {formatDate(donor.donation_date || donor.completed_at || donor.created_at)}\r\n                  </p>\r\n                  \r\n                  <div className=\"donor-tier\" style={{ color: badge.color, backgroundColor: `${badge.color}15` }}>\r\n                    {badge.tier} Donor\r\n                  </div>\r\n\r\n                  {isCompleted && (\r\n                    <div style={{\r\n                      marginTop: '8px',\r\n                      fontSize: '11px',\r\n                      color: '#059669',\r\n                      textAlign: 'center',\r\n                      fontWeight: '500'\r\n                    }}>\r\n                       Donation Completed\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              );\r\n            })}\r\n\r\n            {/* Fill empty slots to maintain grid layout */}\r\n            {currentDonors.length < donorsPerPage && currentDonors.length > 0 && (\r\n              Array.from({ length: donorsPerPage - currentDonors.length }, (_, i) => (\r\n                <div key={`empty-${i}`} style={{ visibility: 'hidden' }}></div>\r\n              ))\r\n            )}\r\n          </div>\r\n\r\n          {totalPages > 1 && (\r\n            <div className=\"pagination\">\r\n              <button\r\n                className=\"page-button\"\r\n                onClick={prevPage}\r\n                disabled={currentPage === 0}\r\n              >\r\n                <ChevronLeft size={20} />\r\n              </button>\r\n\r\n              <span className=\"page-info\">\r\n                Page {currentPage + 1} of {totalPages}\r\n              </span>\r\n\r\n              <button\r\n                className=\"page-button\"\r\n                onClick={nextPage}\r\n                disabled={currentPage === totalPages - 1}\r\n              >\r\n                <ChevronRight size={20} />\r\n              </button>\r\n            </div>\r\n          )}\r\n        </>\r\n      )}\r\n\r\n      <div style={{ \r\n        textAlign: 'center', \r\n        marginTop: '48px', \r\n        padding: '24px',\r\n        background: 'white',\r\n        borderRadius: '12px',\r\n        border: '2px dashed #e5e7eb'\r\n      }}>\r\n        <Heart size={24} color=\"#0a451c\" style={{ marginBottom: '8px' }} />\r\n        <p style={{ \r\n          margin: 0, \r\n          color: '#6b7280', \r\n          fontSize: '14px',\r\n          fontStyle: 'italic'\r\n        }}>\r\n          \"Every completed contribution creates lasting impact and brings us closer to our climate goals.\"\r\n        </p>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DonorWall;","const styles = {\r\n  container: {\r\n    minHeight: '100vh',\r\n    backgroundColor: '#ffffff',\r\n    color: '#1e293b',\r\n    fontFamily:\r\n      '\"Nunito Sans\", -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, sans-serif',\r\n  },\r\n\r\n  // Header (non-sticky, shorter)\r\n  stickyHeader: {\r\n    position: 'relative', // no stickiness\r\n    top: '0',\r\n    zIndex: 10,\r\n    backgroundColor: '#ffffff',\r\n    borderBottom: '1px solid #e2e8f0',\r\n    boxShadow: '0 1px 2px rgba(0, 0, 0, 0.04)',\r\n  },\r\n\r\n  stickyHeaderContent: {\r\n    maxWidth: '900px', // narrower than before\r\n    margin: '0 auto',\r\n    padding: '0.5rem 1rem', // reduced padding for shorter height\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    gap: '0.75rem',\r\n    justifyContent: 'space-between',\r\n  },\r\n\r\n  backButton: {\r\n    backgroundColor: '#f8fafc',\r\n    border: '1px solid #e2e8f0',\r\n    borderRadius: '0.375rem',\r\n    padding: '0.5rem',\r\n    cursor: 'pointer',\r\n    transition: 'all 0.2s ease',\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    color: '#64748b',\r\n  },\r\n\r\n  countryInfo: {\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    gap: '0.5rem',\r\n    flex: 1,\r\n  },\r\n\r\n  countryIcon: {\r\n    color: '#0a451c',\r\n  },\r\n\r\n  countryTitle: {\r\n    fontSize: '1.25rem',\r\n    fontWeight: '600',\r\n    color: '#1e293b',\r\n    margin: 0,\r\n  },\r\n\r\n  dropdownContainer: {\r\n    position: 'relative',\r\n  },\r\n\r\n  dropdownButton: {\r\n    backgroundColor: '#f8fafc',\r\n    border: '1px solid #e2e8f0',\r\n    borderRadius: '0.375rem',\r\n    padding: '0.5rem 0.75rem',\r\n    cursor: 'pointer',\r\n    transition: 'all 0.2s ease',\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    gap: '0.5rem',\r\n    fontSize: '0.875rem',\r\n    fontWeight: '500',\r\n    color: '#374151',\r\n  },\r\n\r\n  dropdownChevron: {\r\n    transition: 'transform 0.2s ease',\r\n  },\r\n\r\n  dropdownMenu: {\r\n    position: 'absolute',\r\n    top: '100%',\r\n    right: 0,\r\n    backgroundColor: '#ffffff',\r\n    border: '1px solid #e2e8f0',\r\n    borderRadius: '0.5rem',\r\n    boxShadow:\r\n      '0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05)',\r\n    zIndex: 50,\r\n    minWidth: '200px',\r\n    maxHeight: '300px',\r\n    overflow: 'hidden',\r\n    marginTop: '0.25rem',\r\n  },\r\n\r\n  dropdownHeader: {\r\n    padding: '0.75rem 1rem',\r\n    borderBottom: '1px solid #f1f5f9',\r\n    fontSize: '0.75rem',\r\n    fontWeight: '600',\r\n    color: '#64748b',\r\n    textTransform: 'uppercase',\r\n    letterSpacing: '0.05em',\r\n  },\r\n\r\n  dropdownList: {\r\n    maxHeight: '250px',\r\n    overflowY: 'auto',\r\n  },\r\n\r\n  dropdownItem: {\r\n    width: '100%',\r\n    padding: '0.75rem 1rem',\r\n    fontSize: '0.875rem',\r\n    color: '#374151',\r\n    backgroundColor: 'transparent',\r\n    border: 'none',\r\n    cursor: 'pointer',\r\n    transition: 'all 0.2s ease',\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    justifyContent: 'space-between',\r\n    textAlign: 'left',\r\n  },\r\n\r\n  dropdownItemActive: {\r\n    backgroundColor: '#f0fdf4',\r\n    color: '#0a451c',\r\n    fontWeight: '500',\r\n  },\r\n\r\n  exploreButton: {\r\n    backgroundColor: '#0a451c',\r\n    color: 'white',\r\n    border: 'none',\r\n    borderRadius: '0.375rem',\r\n    padding: '0.5rem 0.75rem',\r\n    cursor: 'pointer',\r\n    transition: 'all 0.2s ease',\r\n    fontSize: '0.875rem',\r\n    fontWeight: '500',\r\n  },\r\n\r\n  // Loading states\r\n  loadingContainer: {\r\n    minHeight: '50vh',\r\n    backgroundColor: '#ffffff',\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n\r\n  loadingContent: {\r\n    textAlign: 'center',\r\n  },\r\n\r\n  loadingSpinner: {\r\n    width: '3rem',\r\n    height: '3rem',\r\n    border: '4px solid #e5e7eb',\r\n    borderTop: '4px solid #0a451c',\r\n    borderRadius: '50%',\r\n    animation: 'spin 1s linear infinite',\r\n    margin: '0 auto 1rem',\r\n  },\r\n\r\n  loadingText: {\r\n    fontSize: '1.25rem',\r\n    fontWeight: '600',\r\n    color: '#64748b',\r\n    fontFamily: '\"Nunito Sans\", sans-serif',\r\n  },\r\n\r\n  // Hero Section\r\n  heroSection: {\r\n    background: 'linear-gradient(135deg, #f0fdf4 0%, #dcfce7 100%)',\r\n    borderBottom: '1px solid #e5e7eb',\r\n  },\r\n\r\n  heroContent: {\r\n    maxWidth: '1200px',\r\n    margin: '0 auto',\r\n    padding: '3rem 1.5rem',\r\n    textAlign: 'center',\r\n  },\r\n\r\n  heroTitleContainer: {\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    gap: '1rem',\r\n    marginBottom: '1.5rem',\r\n    flexWrap: 'wrap',\r\n  },\r\n\r\n  heroFlag: {\r\n    fontSize: '3rem',\r\n    filter: 'drop-shadow(0 2px 4px rgba(0, 0, 0, 0.1))',\r\n  },\r\n\r\n  heroTitle: {\r\n    fontSize: '3rem',\r\n    fontWeight: '800',\r\n    lineHeight: '1.1',\r\n    color: '#0a451c',\r\n    margin: 0,\r\n    fontFamily: '\"Nunito Sans\", sans-serif',\r\n  },\r\n\r\n  heroSubtitle: {\r\n    color: '#64748b',\r\n    marginBottom: '2.5rem',\r\n    fontSize: '1.125rem',\r\n    lineHeight: 1.7,\r\n    maxWidth: '600px',\r\n    margin: '0 auto 2.5rem auto',\r\n    fontFamily: '\"Nunito Sans\", sans-serif',\r\n  },\r\n\r\n  // Stats\r\n  statsGrid: {\r\n    display: 'grid',\r\n    gridTemplateColumns: 'repeat(auto-fit, minmax(200px, 1fr))',\r\n    gap: '1.5rem',\r\n    maxWidth: '800px',\r\n    margin: '0 auto',\r\n  },\r\n\r\n  statCard: {\r\n    textAlign: 'center',\r\n    transition: 'all 0.3s ease',\r\n  },\r\n\r\n  statContent: {\r\n    backgroundColor: '#ffffff',\r\n    borderRadius: '1rem',\r\n    padding: '1.5rem',\r\n    transition: 'all 0.3s ease',\r\n    border: '1px solid #e2e8f0',\r\n    boxShadow: '0 2px 8px rgba(0, 0, 0, 0.08)',\r\n  },\r\n\r\n  statIcon: {\r\n    width: '2rem',\r\n    height: '2rem',\r\n    color: '#0a451c',\r\n    margin: '0 auto 0.75rem',\r\n  },\r\n\r\n  statNumber: {\r\n    fontSize: '2rem',\r\n    fontWeight: '800',\r\n    color: '#0a451c',\r\n    marginBottom: '0.5rem',\r\n    fontFamily: '\"Nunito Sans\", sans-serif',\r\n  },\r\n\r\n  statLabel: {\r\n    fontSize: '0.875rem',\r\n    color: '#64748b',\r\n    fontWeight: '500',\r\n    fontFamily: '\"Nunito Sans\", sans-serif',\r\n  },\r\n\r\n  // Main Container - Condensed Layout\r\n  mainContainer: {\r\n    maxWidth: '1200px',\r\n    margin: '0 auto',\r\n    padding: '0 1.5rem',\r\n  },\r\n\r\n  // Placeholder Section\r\n  placeholderSection: {\r\n    padding: '4rem 0',\r\n  },\r\n\r\n  placeholderCard: {\r\n    backgroundColor: '#f8fafc',\r\n    borderRadius: '1rem',\r\n    padding: '3rem 2rem',\r\n    textAlign: 'center',\r\n    border: '1px solid #e2e8f0',\r\n    maxWidth: '600px',\r\n    margin: '0 auto',\r\n  },\r\n\r\n  placeholderIcon: {\r\n    fontSize: '4rem',\r\n    marginBottom: '1.5rem',\r\n  },\r\n\r\n  placeholderTitle: {\r\n    fontSize: '1.5rem',\r\n    fontWeight: '700',\r\n    color: '#1e293b',\r\n    marginBottom: '1rem',\r\n    fontFamily: '\"Nunito Sans\", sans-serif',\r\n  },\r\n\r\n  placeholderText: {\r\n    color: '#64748b',\r\n    lineHeight: 1.6,\r\n    marginBottom: '1rem',\r\n    fontFamily: '\"Nunito Sans\", sans-serif',\r\n  },\r\n\r\n  placeholderSubtext: {\r\n    color: '#94a3b8',\r\n    fontSize: '0.875rem',\r\n    lineHeight: 1.6,\r\n    marginBottom: '2rem',\r\n    fontFamily: '\"Nunito Sans\", sans-serif',\r\n  },\r\n\r\n  placeholderActions: {\r\n    display: 'flex',\r\n    justifyContent: 'center',\r\n  },\r\n\r\n  placeholderButton: {\r\n    backgroundColor: '#0a451c',\r\n    color: 'white',\r\n    padding: '0.75rem 1.5rem',\r\n    borderRadius: '0.5rem',\r\n    border: 'none',\r\n    fontWeight: '600',\r\n    cursor: 'pointer',\r\n    transition: 'all 0.2s ease',\r\n    fontFamily: '\"Nunito Sans\", sans-serif',\r\n  },\r\n\r\n  // Section Styles\r\n  section: {\r\n    padding: '3rem 0',\r\n    position: 'relative',\r\n  },\r\n\r\n  sectionDivider: {\r\n    height: '1px',\r\n    backgroundColor: '#f1f5f9',\r\n    margin: '2rem 0',\r\n  },\r\n\r\n  sectionHeader: {\r\n    display: 'flex',\r\n    alignItems: 'flex-start',\r\n    gap: '1rem',\r\n    marginBottom: '2.5rem',\r\n    textAlign: 'left',\r\n  },\r\n\r\n  sectionIcon: {\r\n    width: '2rem',\r\n    height: '2rem',\r\n    color: '#0a451c',\r\n    flexShrink: 0,\r\n    marginTop: '0.25rem',\r\n  },\r\n\r\n  sectionTitle: {\r\n    fontSize: '1.875rem',\r\n    fontWeight: '700',\r\n    color: '#1e293b',\r\n    marginBottom: '0.75rem',\r\n    fontFamily: '\"Nunito Sans\", sans-serif',\r\n    lineHeight: '1.2',\r\n  },\r\n\r\n  sectionSubtitle: {\r\n    fontSize: '1rem',\r\n    color: '#64748b',\r\n    lineHeight: 1.6,\r\n    fontFamily: '\"Nunito Sans\", sans-serif',\r\n  },\r\n\r\n  // Team\r\n  teamGrid: {\r\n    display: 'grid',\r\n    gridTemplateColumns: 'repeat(auto-fit, minmax(300px, 1fr))',\r\n    gap: '1.5rem',\r\n  },\r\n\r\n  teamCard: {\r\n    backgroundColor: '#ffffff',\r\n    borderRadius: '0.75rem',\r\n    overflow: 'hidden',\r\n    boxShadow: '0 2px 8px rgba(0, 0, 0, 0.08)',\r\n    border: '1px solid #e2e8f0',\r\n    transition: 'all 0.3s ease',\r\n  },\r\n\r\n  teamCardContent: {\r\n    padding: '1.5rem',\r\n    textAlign: 'center',\r\n  },\r\n\r\n  teamAvatar: {\r\n    position: 'relative',\r\n    width: '4rem',\r\n    height: '4rem',\r\n    margin: '0 auto 1rem',\r\n  },\r\n\r\n  teamAvatarImage: {\r\n    width: '100%',\r\n    height: '100%',\r\n    objectFit: 'cover',\r\n    borderRadius: '50%',\r\n    border: '2px solid #0a451c',\r\n  },\r\n\r\n  teamAvatarFallback: {\r\n    width: '100%',\r\n    height: '100%',\r\n    backgroundColor: '#0a451c',\r\n    borderRadius: '50%',\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    color: 'white',\r\n    fontSize: '1.25rem',\r\n    fontWeight: '700',\r\n    fontFamily: '\"Nunito Sans\", sans-serif',\r\n  },\r\n\r\n  teamName: {\r\n    fontSize: '1.125rem',\r\n    fontWeight: '600',\r\n    color: '#1e293b',\r\n    marginBottom: '0.25rem',\r\n    fontFamily: '\"Nunito Sans\", sans-serif',\r\n  },\r\n\r\n  teamPosition: {\r\n    color: '#0a451c',\r\n    fontWeight: '500',\r\n    marginBottom: '0.5rem',\r\n    fontFamily: '\"Nunito Sans\", sans-serif',\r\n  },\r\n\r\n  teamDepartment: {\r\n    display: 'inline-block',\r\n    backgroundColor: '#f0fdf4',\r\n    color: '#166534',\r\n    padding: '0.25rem 0.75rem',\r\n    borderRadius: '1rem',\r\n    fontSize: '0.75rem',\r\n    fontWeight: '500',\r\n    marginBottom: '1rem',\r\n    fontFamily: '\"Nunito Sans\", sans-serif',\r\n  },\r\n\r\n  teamBio: {\r\n    color: '#64748b',\r\n    fontSize: '0.875rem',\r\n    lineHeight: 1.6,\r\n    marginBottom: '1rem',\r\n    fontFamily: '\"Nunito Sans\", sans-serif',\r\n  },\r\n\r\n  teamActions: {\r\n    display: 'flex',\r\n    justifyContent: 'center',\r\n    gap: '0.5rem',\r\n  },\r\n\r\n  teamAction: {\r\n    backgroundColor: '#f1f5f9',\r\n    color: '#64748b',\r\n    padding: '0.5rem 0.75rem',\r\n    borderRadius: '0.375rem',\r\n    textDecoration: 'none',\r\n    fontSize: '0.75rem',\r\n    fontWeight: '500',\r\n    transition: 'all 0.2s ease',\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    gap: '0.25rem',\r\n    fontFamily: '\"Nunito Sans\", sans-serif',\r\n  },\r\n\r\n  // Projects\r\n  projectsGrid: {\r\n    display: 'grid',\r\n    gridTemplateColumns: 'repeat(auto-fit, minmax(350px, 1fr))',\r\n    gap: '1.5rem',\r\n  },\r\n\r\n  projectCard: {\r\n    backgroundColor: '#ffffff',\r\n    borderRadius: '0.75rem',\r\n    overflow: 'hidden',\r\n    boxShadow: '0 2px 8px rgba(0, 0, 0, 0.08)',\r\n    border: '1px solid #e2e8f0',\r\n    transition: 'all 0.3s ease',\r\n    cursor: 'pointer',\r\n  },\r\n\r\n  projectImage: {\r\n    position: 'relative',\r\n    height: '10rem',\r\n    overflow: 'hidden',\r\n    background: 'linear-gradient(45deg, #f0fdf4, #dcfce7)',\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n\r\n  projectImageImg: {\r\n    width: '100%',\r\n    height: '100%',\r\n    objectFit: 'cover',\r\n  },\r\n\r\n  projectStatus: {\r\n    position: 'absolute',\r\n    top: '0.75rem',\r\n    right: '0.75rem',\r\n    padding: '0.375rem 0.75rem',\r\n    borderRadius: '1rem',\r\n    fontSize: '0.75rem',\r\n    fontWeight: '600',\r\n    textTransform: 'capitalize',\r\n    fontFamily: '\"Nunito Sans\", sans-serif',\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    gap: '0.25rem',\r\n  },\r\n\r\n  statusCompleted: {\r\n    backgroundColor: '#dcfce7',\r\n    color: '#166534',\r\n  },\r\n\r\n  statusOngoing: {\r\n    backgroundColor: '#dbeafe',\r\n    color: '#1e40af',\r\n  },\r\n\r\n  statusPlanning: {\r\n    backgroundColor: '#fef3c7',\r\n    color: '#a16207',\r\n  },\r\n\r\n  statusOnHold: {\r\n    backgroundColor: '#fee2e2',\r\n    color: '#991b1b',\r\n  },\r\n\r\n  projectContent: {\r\n    padding: '1.5rem',\r\n  },\r\n\r\n  projectTitle: {\r\n    fontSize: '1.125rem',\r\n    fontWeight: '600',\r\n    color: '#1e293b',\r\n    marginBottom: '0.75rem',\r\n    fontFamily: '\"Nunito Sans\", sans-serif',\r\n  },\r\n\r\n  projectDescription: {\r\n    color: '#64748b',\r\n    marginBottom: '1rem',\r\n    lineHeight: 1.6,\r\n    fontSize: '0.875rem',\r\n    fontFamily: '\"Nunito Sans\", sans-serif',\r\n  },\r\n\r\n  projectMeta: {\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    gap: '0.5rem',\r\n  },\r\n\r\n  projectMetaItem: {\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    gap: '0.5rem',\r\n    color: '#64748b',\r\n    fontSize: '0.75rem',\r\n    fontFamily: '\"Nunito Sans\", sans-serif',\r\n  },\r\n\r\n  // Events\r\n  eventsGrid: {\r\n    display: 'grid',\r\n    gridTemplateColumns: 'repeat(auto-fit, minmax(350px, 1fr))',\r\n    gap: '1.5rem',\r\n  },\r\n\r\n  eventCard: {\r\n    backgroundColor: '#ffffff',\r\n    borderRadius: '0.75rem',\r\n    overflow: 'hidden',\r\n    boxShadow: '0 2px 8px rgba(0, 0, 0, 0.08)',\r\n    border: '1px solid #e2e8f0',\r\n    transition: 'all 0.3s ease',\r\n    cursor: 'pointer',\r\n  },\r\n\r\n  eventContent: {\r\n    padding: '1.5rem',\r\n  },\r\n\r\n  eventHeader: {\r\n    display: 'flex',\r\n    alignItems: 'flex-start',\r\n    justifyContent: 'space-between',\r\n    marginBottom: '1rem',\r\n    gap: '1rem',\r\n  },\r\n\r\n  eventTitle: {\r\n    fontSize: '1.125rem',\r\n    fontWeight: '600',\r\n    color: '#1e293b',\r\n    flex: '1',\r\n    fontFamily: '\"Nunito Sans\", sans-serif',\r\n  },\r\n\r\n  eventPricePaid: {\r\n    backgroundColor: '#dcfce7',\r\n    color: '#166534',\r\n    padding: '0.375rem 0.75rem',\r\n    borderRadius: '1rem',\r\n    fontSize: '0.75rem',\r\n    fontWeight: '600',\r\n    whiteSpace: 'nowrap',\r\n    fontFamily: '\"Nunito Sans\", sans-serif',\r\n  },\r\n\r\n  eventPriceFree: {\r\n    backgroundColor: '#f0fdf4',\r\n    color: '#15803d',\r\n    padding: '0.375rem 0.75rem',\r\n    borderRadius: '1rem',\r\n    fontSize: '0.75rem',\r\n    fontWeight: '600',\r\n    whiteSpace: 'nowrap',\r\n    fontFamily: '\"Nunito Sans\", sans-serif',\r\n  },\r\n\r\n  eventDescription: {\r\n    color: '#64748b',\r\n    marginBottom: '1rem',\r\n    lineHeight: 1.6,\r\n    fontSize: '0.875rem',\r\n    fontFamily: '\"Nunito Sans\", sans-serif',\r\n  },\r\n\r\n  eventMeta: {\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    gap: '0.5rem',\r\n  },\r\n\r\n  eventMetaItem: {\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    gap: '0.5rem',\r\n    color: '#64748b',\r\n    fontSize: '0.75rem',\r\n    fontFamily: '\"Nunito Sans\", sans-serif',\r\n  },\r\n\r\n  // Contact\r\n  contactGrid: {\r\n    display: 'grid',\r\n    gridTemplateColumns: '1fr',\r\n    gap: '2rem',\r\n    maxWidth: '600px',\r\n  },\r\n\r\n  contactSection: {\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n  },\r\n\r\n  contactTitle: {\r\n    fontSize: '1.25rem',\r\n    fontWeight: '600',\r\n    color: '#1e293b',\r\n    marginBottom: '1.5rem',\r\n    fontFamily: '\"Nunito Sans\", sans-serif',\r\n  },\r\n\r\n  contactItems: {\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    gap: '1rem',\r\n  },\r\n\r\n  contactItem: {\r\n    display: 'flex',\r\n    alignItems: 'flex-start',\r\n    gap: '0.75rem',\r\n    padding: '1rem',\r\n    backgroundColor: '#ffffff',\r\n    borderRadius: '0.5rem',\r\n    border: '1px solid #e2e8f0',\r\n    boxShadow: '0 1px 3px rgba(0, 0, 0, 0.05)',\r\n  },\r\n\r\n  contactItemIcon: {\r\n    width: '1.25rem',\r\n    height: '1.25rem',\r\n    marginTop: '0.125rem',\r\n    flexShrink: 0,\r\n  },\r\n\r\n  contactItemContent: {\r\n    flex: 1,\r\n  },\r\n\r\n  contactItemLabel: {\r\n    fontWeight: '500',\r\n    color: '#1e293b',\r\n    marginBottom: '0.25rem',\r\n    fontSize: '0.875rem',\r\n    fontFamily: '\"Nunito Sans\", sans-serif',\r\n  },\r\n\r\n  contactItemValue: {\r\n    color: '#0a451c',\r\n    fontWeight: '500',\r\n    textDecoration: 'none',\r\n    transition: 'color 0.2s ease',\r\n    fontSize: '0.875rem',\r\n    fontFamily: '\"Nunito Sans\", sans-serif',\r\n  },\r\n\r\n  contactItemMeta: {\r\n    color: '#64748b',\r\n    fontSize: '0.75rem',\r\n    marginTop: '0.25rem',\r\n    fontFamily: '\"Nunito Sans\", sans-serif',\r\n  },\r\n\r\n  // News styles\r\n  newsGrid: {\r\n    display: 'grid',\r\n    gridTemplateColumns: 'repeat(auto-fit, minmax(350px, 1fr))',\r\n    gap: '1.5rem',\r\n  },\r\n\r\n  newsCard: {\r\n    backgroundColor: '#ffffff',\r\n    borderRadius: '0.75rem',\r\n    overflow: 'hidden',\r\n    boxShadow: '0 2px 8px rgba(0, 0, 0, 0.08)',\r\n    border: '1px solid #e2e8f0',\r\n    transition: 'all 0.3s ease',\r\n    cursor: 'pointer',\r\n  },\r\n\r\n  newsImage: {\r\n    position: 'relative',\r\n    height: '10rem',\r\n    overflow: 'hidden',\r\n    background: 'linear-gradient(45deg, #f0fdf4, #dcfce7)',\r\n  },\r\n\r\n  newsImageImg: {\r\n    width: '100%',\r\n    height: '100%',\r\n    objectFit: 'cover',\r\n  },\r\n\r\n  newsContent: {\r\n    padding: '1.5rem',\r\n  },\r\n\r\n  newsTitle: {\r\n    fontSize: '1.125rem',\r\n    fontWeight: '600',\r\n    color: '#1e293b',\r\n    marginBottom: '0.75rem',\r\n    fontFamily: '\"Nunito Sans\", sans-serif',\r\n  },\r\n\r\n  newsExcerpt: {\r\n    color: '#64748b',\r\n    marginBottom: '1rem',\r\n    lineHeight: 1.6,\r\n    fontSize: '0.875rem',\r\n    fontFamily: '\"Nunito Sans\", sans-serif',\r\n  },\r\n\r\n  newsMeta: {\r\n    display: 'flex',\r\n    justifyContent: 'space-between',\r\n    alignItems: 'center',\r\n    gap: '0.5rem',\r\n  },\r\n\r\n  newsMetaItem: {\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    gap: '0.5rem',\r\n    color: '#64748b',\r\n    fontSize: '0.75rem',\r\n    fontFamily: '\"Nunito Sans\", sans-serif',\r\n  },\r\n\r\n  // Volunteer styles\r\n  volunteerGrid: {\r\n    display: 'grid',\r\n    gridTemplateColumns: 'repeat(auto-fit, minmax(350px, 1fr))',\r\n    gap: '1.5rem',\r\n  },\r\n\r\n  volunteerCard: {\r\n    backgroundColor: '#ffffff',\r\n    borderRadius: '0.75rem',\r\n    overflow: 'hidden',\r\n    boxShadow: '0 2px 8px rgba(0, 0, 0, 0.08)',\r\n    border: '1px solid #e2e8f0',\r\n    transition: 'all 0.3s ease',\r\n  },\r\n\r\n  volunteerContent: {\r\n    padding: '1.5rem',\r\n  },\r\n\r\n  volunteerTitle: {\r\n    fontSize: '1.125rem',\r\n    fontWeight: '600',\r\n    color: '#1e293b',\r\n    marginBottom: '0.75rem',\r\n    fontFamily: '\"Nunito Sans\", sans-serif',\r\n  },\r\n\r\n  volunteerDescription: {\r\n    color: '#64748b',\r\n    marginBottom: '1rem',\r\n    lineHeight: 1.6,\r\n    fontSize: '0.875rem',\r\n    fontFamily: '\"Nunito Sans\", sans-serif',\r\n  },\r\n\r\n  volunteerMeta: {\r\n    marginBottom: '1rem',\r\n  },\r\n\r\n  volunteerStatus: {\r\n    display: 'inline-block',\r\n  },\r\n\r\n  volunteerActions: {\r\n    display: 'flex',\r\n    justifyContent: 'flex-end',\r\n  },\r\n\r\n  volunteerButton: {\r\n    display: 'inline-flex',\r\n    alignItems: 'center',\r\n    gap: '0.5rem',\r\n    backgroundColor: '#0a451c',\r\n    color: 'white',\r\n    padding: '0.75rem 1.5rem',\r\n    borderRadius: '0.5rem',\r\n    textDecoration: 'none',\r\n    fontWeight: '600',\r\n    transition: 'all 0.2s ease',\r\n    fontFamily: '\"Nunito Sans\", sans-serif',\r\n  },\r\n};\r\n\r\nexport default styles;\r\n","import React, { useState, useEffect, useCallback } from 'react';\r\nimport { Chip } from '@mui/material';\r\nimport { useParams, useNavigate } from 'react-router-dom';\r\nimport { ArrowLeft, Calendar, MapPin, Users, DollarSign, Mail, Phone, Globe, Award, Zap, ExternalLink, Heart, CheckCircle, ChevronDown, MapIcon, X } from 'lucide-react';\r\nimport Header from '../../components/Header';\r\nimport Footer from '../../components/Footer';\r\nimport styles from './CountrySpecificDisplay.styles.js';\r\n\r\nconst CountryInfoDisplay = () => {\r\n  const { countryName } = useParams();\r\n  const navigate = useNavigate();\r\n  const [countryData, setCountryData] = useState({\r\n    country: null,\r\n    team: [],\r\n    projects: [],\r\n    events: [],\r\n    contact: null,\r\n    transactionMethods: [],\r\n    countryNews: [],\r\n    volunteerForms: []\r\n  });\r\n  const [availableCountries, setAvailableCountries] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState('');\r\n  const [dropdownOpen, setDropdownOpen] = useState(false);\r\n  const [expandedMembers, setExpandedMembers] = useState({});\r\n  const [activeBio, setActiveBio] = useState(null);\r\n  const [volunteersModalOpen, setVolunteersModalOpen] = useState(false);\r\n  const [activeForm, setActiveForm] = useState(null);\r\n\r\n  const API_BASE = process.env.REACT_APP_API_URL || 'http://localhost:3001/api';\r\n  const STATIC_URL = process.env.REACT_APP_STATIC_URL || 'http://localhost:3001';\r\n\r\n  // Placeholder data for when API data is not available\r\n  const getPlaceholderData = () => ({\r\n    team: [],\r\n    projects: [],\r\n    events: [],\r\n    contact: {\r\n      country: countryName || 'Unknown',\r\n      email: `info.${(countryName || 'unknown').toLowerCase().replace(/\\s+/g, '')}@organization.org`,\r\n      phone: '+1 (555) 000-0000',\r\n      physical_address: 'Address information coming soon',\r\n      city: 'City information coming soon',\r\n      postal_code: '00000',\r\n      mailing_address: 'Mailing address information coming soon'\r\n    },\r\n    transactionMethods: [],\r\n    countryNews: [],\r\n    volunteerForms: []\r\n  });\r\n\r\n  \r\n  // Project navigation handlers\r\n  const handleProjectClick = (project, event) => {\r\n    if (event) {\r\n      event.preventDefault();\r\n      event.stopPropagation();\r\n    }\r\n    \r\n    sessionStorage.setItem('lastVisitedPath', '/');\r\n    \r\n    navigate(`/project/${project.id}`, { \r\n      state: { \r\n        project,\r\n        from: '/',\r\n        fromPath: '/'\r\n      }\r\n    });\r\n  };\r\n\r\n  // Event navigation handlers\r\n  const handleEventClick = (event) => {\r\n    navigate(`/events?eventId=${event.id}`);\r\n  };\r\n\r\n  const toggleExpand = (id, bio) => {\r\n    setExpandedMembers((prev) => ({\r\n      ...prev,\r\n      [id]: !prev[id],\r\n    }));\r\n    setActiveBio(bio); // open the modal with full bio\r\n  };\r\n\r\n  // Volunteers modal handlers\r\n  const openVolunteersModal = () => {\r\n    setVolunteersModalOpen(true);\r\n  };\r\n\r\n  const closeVolunteersModal = () => {\r\n    setVolunteersModalOpen(false);\r\n  };\r\n\r\n  const fetchCountryData = useCallback(async () => {\r\n    if (!countryName) {\r\n      setError('No country specified');\r\n      setLoading(false);\r\n      return;\r\n    }\r\n\r\n    setLoading(true);\r\n    setError('');\r\n    \r\n    try {\r\n      console.log(`Fetching data for country: ${countryName}`);\r\n      \r\n      const [countriesRes, teamRes, projectsRes, eventsRes, contactsRes, transactionRes, newsRes, volunteerFormsRes] = await Promise.all([\r\n        fetch(`${API_BASE}/countries`).catch(() => ({ ok: false })),\r\n        fetch(`${API_BASE}/team`).catch(() => ({ ok: false })),\r\n        fetch(`${API_BASE}/projects`).catch(() => ({ ok: false })),\r\n        fetch(`${API_BASE}/events`).catch(() => ({ ok: false })),\r\n        fetch(`${API_BASE}/country-contacts`).catch(() => ({ ok: false })),\r\n        fetch(`${API_BASE}/transaction-details`).catch(() => ({ ok: false })),\r\n        fetch(`${API_BASE}/blogs/news/country/${encodeURIComponent(countryName)}`).catch(() => ({ ok: false })),\r\n        fetch(`${API_BASE}/volunteer-forms/country/${encodeURIComponent(countryName)}`).catch(() => ({ ok: false }))\r\n      ]);\r\n\r\n      let country = null;\r\n      let team = [];\r\n      let projects = [];\r\n      let events = [];\r\n      let contact = null;\r\n      let transactionMethods = [];\r\n      let allCountries = [];\r\n      let countryNews = [];\r\n      let volunteerForms = [];\r\n\r\n      // Process countries\r\n      if (countriesRes.ok) {\r\n        try {\r\n          const countriesData = await countriesRes.json();\r\n          const countries = Array.isArray(countriesData) ? countriesData : countriesData.data || [];\r\n          allCountries = countries.map(c => c.name).sort();\r\n          setAvailableCountries(allCountries);\r\n          country = countries.find(c => c.name === countryName);\r\n          console.log('Countries loaded:', allCountries.length);\r\n        } catch (e) {\r\n          console.warn('Failed to parse countries data:', e);\r\n        }\r\n      }\r\n\r\n      // Process country-specific news\r\n      if (newsRes.ok) {\r\n        try {\r\n          const newsData = await newsRes.json();\r\n          countryNews = Array.isArray(newsData) ? newsData : newsData.data || [];\r\n          console.log(`News data for ${countryName}:`, countryNews);\r\n        } catch (e) {\r\n          console.warn('Failed to parse news data:', e);\r\n          countryNews = [];\r\n        }\r\n      } else {\r\n        console.warn(`News API failed for ${countryName}:`, newsRes.status);\r\n      }\r\n\r\n      // Process volunteer forms\r\n      if (volunteerFormsRes.ok) {\r\n        try {\r\n          const formsData = await volunteerFormsRes.json();\r\n          volunteerForms = Array.isArray(formsData) ? formsData : formsData.data || [];\r\n          console.log(`Volunteer forms for ${countryName}:`, volunteerForms);\r\n        } catch (e) {\r\n          console.warn('Failed to parse volunteer forms data:', e);\r\n          volunteerForms = [];\r\n        }\r\n      }\r\n\r\n      // Process team members\r\n      if (teamRes.ok) {\r\n        try {\r\n          const teamData = await teamRes.json();\r\n          const allTeam = Array.isArray(teamData) ? teamData : teamData.members || teamData.data || [];\r\n          team = allTeam.filter(member => member.country === countryName);\r\n          console.log(`Team members for ${countryName}:`, team.length);\r\n        } catch (e) {\r\n          console.warn('Failed to parse team data:', e);\r\n        }\r\n      }\r\n\r\n      // Process projects\r\n      if (projectsRes.ok) {\r\n        try {\r\n          const projectsData = await projectsRes.json();\r\n          const allProjects = Array.isArray(projectsData) ? projectsData : projectsData.data || [];\r\n          projects = allProjects.filter(project => \r\n            project.country_name === countryName || \r\n            project.countryName === countryName ||\r\n            project.country === countryName ||\r\n            (project.location && project.location.includes(countryName))\r\n          );\r\n          console.log(`Projects for ${countryName}:`, projects.length);\r\n        } catch (e) {\r\n          console.warn('Failed to parse projects data:', e);\r\n        }\r\n      }\r\n\r\n      // Process events\r\n      if (eventsRes.ok) {\r\n        try {\r\n          const eventsData = await eventsRes.json();\r\n          const allEvents = Array.isArray(eventsData) ? eventsData : eventsData.data || [];\r\n          events = allEvents.filter(event => \r\n            event.country === countryName ||\r\n            (event.location && event.location.includes(countryName))\r\n          );\r\n          console.log(`Events for ${countryName}:`, events.length);\r\n        } catch (e) {\r\n          console.warn('Failed to parse events data:', e);\r\n        }\r\n      }\r\n\r\n      // Process contact information\r\n      if (contactsRes.ok) {\r\n        try {\r\n          const contactsData = await contactsRes.json();\r\n          const contacts = Array.isArray(contactsData) ? contactsData : contactsData.data || [];\r\n          contact = contacts.find(c => c.country === countryName);\r\n        } catch (e) {\r\n          console.warn('Failed to parse contacts data:', e);\r\n        }\r\n      }\r\n\r\n      // Process transaction methods\r\n      if (transactionRes.ok) {\r\n        try {\r\n          const transactionData = await transactionRes.json();\r\n          const allMethods = Array.isArray(transactionData) ? transactionData : transactionData.data || [];\r\n          transactionMethods = allMethods.filter(method => \r\n            method.country === countryName || !method.country\r\n          );\r\n        } catch (e) {\r\n          console.warn('Failed to parse transaction data:', e);\r\n        }\r\n      }\r\n\r\n      // Use placeholder data if no real data is available\r\n      const placeholderData = getPlaceholderData();\r\n      \r\n      const finalData = {\r\n        country,\r\n        team: team || [],\r\n        projects: projects || [],\r\n        events: events || [],\r\n        contact: contact || placeholderData.contact,\r\n        countryNews: countryNews || [],\r\n        volunteerForms: volunteerForms || [],\r\n        transactionMethods: transactionMethods || []\r\n      };\r\n\r\n      setCountryData(finalData);\r\n\r\n      console.log('Final country data:', {\r\n        countryNews: finalData.countryNews,\r\n        volunteerForms: finalData.volunteerForms,\r\n        newsLength: finalData.countryNews.length,\r\n        formsLength: finalData.volunteerForms.length\r\n      });\r\n\r\n    } catch (err) {\r\n      console.error('Error fetching country data:', err);\r\n      setError('Failed to load country information');\r\n      // Use placeholder data on error\r\n      const placeholderData = getPlaceholderData();\r\n      setCountryData({\r\n        country: null,\r\n        team: [],\r\n        projects: [],\r\n        events: [],\r\n        contact: placeholderData.contact,\r\n        transactionMethods: [],\r\n        countryNews: [],\r\n        volunteerForms: []\r\n      });\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }, [countryName, API_BASE]);\r\n\r\n  useEffect(() => {\r\n    if (countryName) {\r\n      fetchCountryData();\r\n    } else {\r\n      setError('No country specified');\r\n      setLoading(false);\r\n    }\r\n  }, [countryName, fetchCountryData]);\r\n\r\n  // Handle country selection from dropdown\r\n  const handleCountrySelect = (selectedCountry) => {\r\n    setDropdownOpen(false);\r\n    if (selectedCountry !== countryName) {\r\n      navigate(`/country/${encodeURIComponent(selectedCountry)}`);\r\n    }\r\n  };\r\n\r\n  // Go back to where the user came from\r\n  const handleBack = () => {\r\n    navigate(-1);\r\n  };\r\n\r\n  // Go to \"Explore More Countries\"\r\n  const handleExplore = () => {\r\n    navigate('/findbycountry');\r\n  };\r\n\r\n  const formatDate = (dateString) => {\r\n    if (!dateString) return 'Unknown date';\r\n    try {\r\n      return new Date(dateString).toLocaleDateString('en-US', {\r\n        year: 'numeric',\r\n        month: 'long',\r\n        day: 'numeric',\r\n      });\r\n    } catch (e) {\r\n      return 'Invalid date';\r\n    }\r\n  };\r\n\r\n  const formatDateTime = (dateString) => {\r\n    if (!dateString) return 'Unknown date';\r\n    try {\r\n      return new Date(dateString).toLocaleDateString('en-US', {\r\n        year: 'numeric',\r\n        month: 'short',\r\n        day: 'numeric',\r\n        hour: '2-digit',\r\n        minute: '2-digit'\r\n      });\r\n    } catch (e) {\r\n      return 'Invalid date';\r\n    }\r\n  };\r\n\r\n  const getEventStatus = (startDate, endDate) => {\r\n    if (!startDate) return 'unknown';\r\n    \r\n    try {\r\n      const now = new Date();\r\n      const start = new Date(startDate);\r\n      const end = endDate ? new Date(endDate) : null;\r\n\r\n      if (now < start) return 'upcoming';\r\n      if (end && now > end) return 'completed';\r\n      return 'ongoing';\r\n    } catch (e) {\r\n      return 'unknown';\r\n    }\r\n  };\r\n\r\n  // Check if we have real data or just placeholders\r\n  const hasRealData = countryData?.team?.length > 0 || countryData?.projects?.length > 0 || countryData?.events?.length > 0;\r\n\r\n  if (!countryName) {\r\n    return (\r\n      <div>\r\n        <Header />\r\n        <div style={styles.loadingContainer}>\r\n          <div style={styles.loadingContent}>\r\n            <div style={styles.loadingText}>No country specified</div>\r\n          </div>\r\n        </div>\r\n        {activeForm && (\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n  <div className=\"modal-overlay\" onClick={() => setActiveForm(null)}>\r\n    <div className=\"modal-content\" onClick={(e) => e.stopPropagation()}>\r\n      {/* Modal Header */}\r\n      <div style={styles.modalHeader}>\r\n        <h3>{activeForm.form_title}</h3>\r\n        <button \r\n          onClick={() => setActiveForm(null)} \r\n          style={styles.modalCloseButton}\r\n        >\r\n          <X size={20} />\r\n        </button>\r\n      </div>\r\n\r\n      {/* Embedded Google Form */}\r\n      <iframe\r\n        src={`${activeForm.form_url}?embedded=true`}\r\n        title={activeForm.form_title}\r\n        style={{ width: \"100%\", height: \"600px\", border: \"none\", borderRadius: \"8px\" }}\r\n      />\r\n    </div>\r\n    {/* Active Google Form Modal */}\r\n{activeForm && (\r\n  <div className=\"modal-overlay\" onClick={() => setActiveForm(null)}>\r\n    <div className=\"modal-content\" onClick={(e) => e.stopPropagation()}>\r\n      {/* Modal Header */}\r\n      <div style={styles.modalHeader}>\r\n        <h3>{activeForm.form_title}</h3>\r\n        <button \r\n          onClick={() => setActiveForm(null)} \r\n          style={styles.modalCloseButton}\r\n        >\r\n          <X size={20} />\r\n        </button>\r\n      </div>\r\n\r\n      {/* Embedded Google Form */}\r\n      <iframe\r\n        src={`${activeForm.form_url}?embedded=true`}\r\n        title={activeForm.form_title}\r\n        style={{ width: \"100%\", height: \"600px\", border: \"none\", borderRadius: \"8px\" }}\r\n      />\r\n    </div>\r\n  </div>\r\n)}\r\n\r\n  </div>\r\n)}\r\n\r\n        <Footer />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (loading) {\r\n    return (\r\n      <div>\r\n        <Header />\r\n        <div style={styles.loadingContainer}>\r\n          <div style={styles.loadingContent}>\r\n            <div style={styles.loadingSpinner}></div>\r\n            <div style={styles.loadingText}>Discovering {countryName}...</div>\r\n          </div>\r\n        </div>\r\n        <Footer />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (error) {\r\n    return (\r\n      <div>\r\n        <Header />\r\n        <div style={styles.loadingContainer}>\r\n          <div style={styles.loadingContent}>\r\n            <div style={styles.loadingText}>Error: {error}</div>\r\n            <button onClick={() => window.location.reload()} style={{marginTop: '16px', padding: '8px 16px'}}>\r\n              Retry\r\n            </button>\r\n          </div>\r\n        </div>\r\n        <Footer />\r\n      </div>\r\n    );\r\n  }\r\n// Normalize volunteerForms so it's always an array\r\nconst volunteerForms = Array.isArray(countryData?.volunteerForms)\r\n  ? countryData.volunteerForms\r\n  : countryData?.volunteerForms\r\n    ? [countryData.volunteerForms]\r\n    : [];\r\n\r\n  const stats = [\r\n    { label: 'Team Members', value: countryData?.team?.length || 0, icon: Users },\r\n    { label: 'Active Projects', value: countryData?.projects?.filter(p => p.status === 'ongoing' || p.status === 'planning')?.length || 0, icon: Zap },\r\n    { label: 'Upcoming Events', value: countryData?.events?.filter(e => getEventStatus(e.start_date, e.end_date) === 'upcoming')?.length || 0, icon: Calendar },\r\n{ label: 'Volunteer Opportunities', value: volunteerForms.filter(f => f.is_active).length, icon: Heart, onClick: openVolunteersModal },\r\n    { label: 'Payment Methods', value: countryData?.transactionMethods?.length || 0, icon: DollarSign }\r\n  ];\r\n\r\n  // DEBUG: Log rendering conditions\r\n  console.log(' RENDERING DEBUG:');\r\n  console.log('- countryData:', countryData);\r\n  console.log('- countryData.volunteerForms:', countryData.volunteerForms);\r\n  console.log('- countryData.countryNews:', countryData.countryNews);\r\n  console.log('- volunteerForms exists?', !!countryData.volunteerForms);\r\n  console.log('- volunteerForms length:', countryData.volunteerForms?.length);\r\n  console.log('- countryNews exists?', !!countryData.countryNews);\r\n  console.log('- countryNews length:', countryData.countryNews?.length);\r\n  console.log('- countryNews > 0?', countryData.countryNews && countryData.countryNews.length > 0);\r\n\r\n  return (\r\n    <div>\r\n      <Header />\r\n      \r\n      {/* Sticky Country Header */}\r\n      <div style={styles.stickyHeader}>\r\n        <div style={styles.stickyHeaderContent}>\r\n          <button onClick={handleBack} style={styles.backButton} aria-label=\"Go back\">\r\n            <ArrowLeft size={18} />\r\n          </button>\r\n          \r\n          <div style={styles.countryInfo}>\r\n            <MapIcon size={20} style={styles.countryIcon} />\r\n            <h2 style={styles.countryTitle}>{countryName}</h2>\r\n          </div>\r\n          \r\n          <div style={styles.dropdownContainer}>\r\n            <button \r\n              style={styles.dropdownButton}\r\n              onClick={() => setDropdownOpen(!dropdownOpen)}\r\n              aria-label=\"Select country\"\r\n            >\r\n              Switch Country\r\n              <ChevronDown size={16} style={{\r\n                ...styles.dropdownChevron,\r\n                transform: dropdownOpen ? 'rotate(180deg)' : 'rotate(0deg)'\r\n              }} />\r\n            </button>\r\n            \r\n            {dropdownOpen && (\r\n              <div style={styles.dropdownMenu}>\r\n                <div style={styles.dropdownHeader}>Select a Country</div>\r\n                <div style={styles.dropdownList}>\r\n                  {availableCountries.map(country => (\r\n                    <button\r\n                      key={country}\r\n                      style={{\r\n                        ...styles.dropdownItem,\r\n                        ...(country === countryName ? styles.dropdownItemActive : {})\r\n                      }}\r\n                      onClick={() => handleCountrySelect(country)}\r\n                    >\r\n                      {country}\r\n                      {country === countryName && <CheckCircle size={14} />}\r\n                    </button>\r\n                  ))}\r\n                </div>\r\n              </div>\r\n            )}\r\n          </div>\r\n          \r\n          <button onClick={handleExplore} style={styles.exploreButton}>\r\n            Explore All\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      <div style={styles.container}>\r\n        <style>{`\r\n          @keyframes spin {\r\n            0% { transform: rotate(0deg); }\r\n            100% { transform: rotate(360deg); }\r\n          }\r\n\r\n          @keyframes fadeInUp {\r\n            from {\r\n              opacity: 0;\r\n              transform: translateY(20px);\r\n            }\r\n            to {\r\n              opacity: 1;\r\n              transform: translateY(0);\r\n            }\r\n          }\r\n\r\n          .team-action:hover {\r\n            background: #0a451c !important;\r\n            color: white !important;\r\n            transform: translateY(-1px) !important;\r\n          }\r\n\r\n          .register-button:hover {\r\n            background: #0f5132 !important;\r\n            transform: translateY(-1px) !important;\r\n          }\r\n\r\n          .contact-item-value:hover {\r\n            color: #0f5132 !important;\r\n          }\r\n\r\n          .cta-button:hover {\r\n            background: #0f5132 !important;\r\n            transform: translateY(-2px) !important;\r\n            box-shadow: 0 8px 25px rgba(10, 69, 28, 0.4) !important;\r\n          }\r\n\r\n          .project-card:hover {\r\n            transform: translateY(-2px) !important;\r\n            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.15) !important;\r\n          }\r\n\r\n          .event-card:hover {\r\n            transform: translateY(-2px) !important;\r\n            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.15) !important;\r\n          }\r\n\r\n          .team-card:hover {\r\n            transform: translateY(-2px) !important;\r\n            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.15) !important;\r\n          }\r\n\r\n          .stat-card:hover {\r\n            transform: translateY(-2px) !important;\r\n            box-shadow: 0 8px 25px rgba(10, 69, 28, 0.15) !important;\r\n          }\r\n            \r\n          .payment-method:hover {\r\n            transform: translateY(-1px) !important;\r\n            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.1) !important;\r\n          }\r\n\r\n          .news-card:hover {\r\n            transform: translateY(-2px) !important;\r\n            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.15) !important;\r\n          }\r\n\r\n          .volunteer-card:hover {\r\n            transform: translateY(-2px) !important;\r\n            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.15) !important;\r\n          }\r\n\r\n          .volunteer-button:hover {\r\n            background: #0f5132 !important;\r\n            transform: translateY(-1px) !important;\r\n          }\r\n\r\n          .modal-overlay {\r\n            position: fixed;\r\n            top: 0;\r\n            left: 0;\r\n            right: 0;\r\n            bottom: 0;\r\n            background: rgba(0, 0, 0, 0.5);\r\n            display: flex;\r\n            justify-content: center;\r\n            align-items: center;\r\n            z-index: 1000;\r\n            backdrop-filter: blur(4px);\r\n            animation: fadeIn 0.2s ease-out;\r\n          }\r\n\r\n          .modal-content {\r\n            background: white;\r\n            border-radius: 16px;\r\n            width: 90%;\r\n            max-width: 800px;\r\n            max-height: 90vh;\r\n            overflow-y: auto;\r\n            position: relative;\r\n            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);\r\n            animation: slideInUp 0.3s ease-out;\r\n          }\r\n\r\n          @keyframes fadeIn {\r\n            from { opacity: 0; }\r\n            to { opacity: 1; }\r\n          }\r\n\r\n          @keyframes slideInUp {\r\n            from { \r\n              opacity: 0;\r\n              transform: translateY(30px) scale(0.95);\r\n            }\r\n            to { \r\n              opacity: 1;\r\n              transform: translateY(0) scale(1);\r\n            }\r\n          }\r\n\r\n          @media (max-width: 1200px) {\r\n            .hero-content {\r\n              padding: 60px 24px !important;\r\n            }\r\n          }\r\n\r\n          @media (max-width: 1024px) {\r\n            .hero-title {\r\n              font-size: 3.5rem !important;\r\n            }\r\n            \r\n            .hero-subtitle {\r\n              font-size: 1.25rem !important;\r\n            }\r\n\r\n            .stats-grid {\r\n              grid-template-columns: repeat(2, 1fr) !important;\r\n            }\r\n\r\n            .content-container {\r\n              padding: 40px 24px !important;\r\n            }\r\n\r\n            .modal-content {\r\n              width: 95%;\r\n              max-height: 95vh;\r\n            }\r\n          }\r\n\r\n          @media (max-width: 768px) {\r\n            .hero-title {\r\n              font-size: 2.5rem !important;\r\n            }\r\n            \r\n            .hero-subtitle {\r\n              font-size: 1.125rem !important;\r\n            }\r\n\r\n            .hero-title-container {\r\n              flex-direction: column !important;\r\n            }\r\n\r\n            .team-grid {\r\n              grid-template-columns: 1fr !important;\r\n            }\r\n\r\n            .projects-grid {\r\n              grid-template-columns: 1fr !important;\r\n            }\r\n\r\n            .events-grid {\r\n              grid-template-columns: 1fr !important;\r\n            }\r\n\r\n            .contact-grid {\r\n              grid-template-columns: 1fr !important;\r\n            }\r\n\r\n            .news-grid {\r\n              grid-template-columns: 1fr !important;\r\n            }\r\n\r\n            .volunteer-grid {\r\n              grid-template-columns: 1fr !important;\r\n            }\r\n          }\r\n\r\n          @media (max-width: 480px) {\r\n            .hero-title {\r\n              font-size: 2rem !important;\r\n            }\r\n\r\n            .hero-content {\r\n              padding: 40px 16px !important;\r\n            }\r\n\r\n            .content-container {\r\n              padding: 24px 16px !important;\r\n            }\r\n\r\n            .cta-buttons {\r\n              flex-direction: column !important;\r\n              width: 100% !important;\r\n            }\r\n\r\n            .cta-button {\r\n              width: 100% !important;\r\n            }\r\n          }\r\n        `}</style>\r\n\r\n        {/* Hero Section */}\r\n        <section style={styles.heroSection}>\r\n          <div style={styles.heroContent} className=\"hero-content\">\r\n            <div style={styles.heroTitleContainer} className=\"hero-title-container\">\r\n              <div style={styles.heroFlag}></div>\r\n              <h1 style={styles.heroTitle} className=\"hero-title\">\r\n                {countryName}\r\n              </h1>\r\n            </div>\r\n            <p style={styles.heroSubtitle} className=\"hero-subtitle\">\r\n              Our commitment to sustainable development and community empowerment in {countryName}.\r\n            </p>\r\n            \r\n            {/* Stats Grid */}\r\n            <div style={styles.statsGrid} className=\"stats-grid\">\r\n              {stats.map((stat, index) => (\r\n                <div \r\n                  key={index} \r\n                  style={{\r\n                    ...styles.statCard,\r\n                    cursor: stat.onClick ? 'pointer' : 'default'\r\n                  }} \r\n                  className=\"stat-card\"\r\n                  onClick={stat.onClick}\r\n                >\r\n                  <div style={styles.statContent}>\r\n                    <stat.icon style={styles.statIcon} />\r\n                    <div style={styles.statNumber}>{stat.value}</div>\r\n                    <div style={styles.statLabel}>{stat.label}</div>\r\n                  </div>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          </div>\r\n        </section>\r\n\r\n        {/* Volunteers Modal */}\r\n        {volunteersModalOpen && (\r\n          <div className=\"modal-overlay\" onClick={closeVolunteersModal}>\r\n            <div className=\"modal-content\" onClick={(e) => e.stopPropagation()}>\r\n              {/* Modal Header */}\r\n              <div style={styles.modalHeader}>\r\n                <div style={styles.modalHeaderContent}>\r\n                  <Heart style={styles.modalIcon} />\r\n                  <div>\r\n                    <h2 style={styles.modalTitle}>\r\n                      Volunteer Opportunities in {countryName}\r\n                    </h2>\r\n                    <p style={styles.modalSubtitle}>\r\n                      Join us in making a difference. Explore volunteer opportunities available in your area.\r\n                    </p>\r\n                  </div>\r\n                </div>\r\n                <button \r\n                  onClick={closeVolunteersModal} \r\n                  style={styles.modalCloseButton}\r\n                  aria-label=\"Close modal\"\r\n                >\r\n                  <X size={20} />\r\n                </button>\r\n              </div>\r\n\r\n              {/* Modal Body */}\r\n              <div style={styles.modalBody}>\r\n{volunteerForms.length > 0 ? (\r\n                  <div style={styles.modalVolunteerGrid}>\r\n    {volunteerForms.map((form) => (\r\n                      <div\r\n                        key={form.id}\r\n                        style={styles.modalVolunteerCard}\r\n                      >\r\n                        <div style={styles.modalVolunteerContent}>\r\n                          <h3 style={styles.modalVolunteerTitle}>{form.form_title}</h3>\r\n\r\n                          {form.description && (\r\n                            <p style={styles.modalVolunteerDescription}>\r\n                              {form.description}\r\n                            </p>\r\n                          )}\r\n\r\n                          <div style={styles.modalVolunteerMeta}>\r\n                            <div style={styles.modalVolunteerStatus}>\r\n                              <Chip\r\n                                label={form.is_active ? \"Active\" : \"Inactive\"}\r\n                                color={form.is_active ? \"success\" : \"default\"}\r\n                                size=\"small\"\r\n                              />\r\n                            </div>\r\n                          </div>\r\n\r\n                          {form.is_active && (\r\n                            <div style={styles.modalVolunteerActions}>\r\n                             <button\r\n  onClick={() => setActiveForm(form)}\r\n  style={styles.modalVolunteerButton}\r\n  className=\"volunteer-button\"\r\n>\r\n  <ExternalLink size={16} />\r\n  Apply Now\r\n</button>\r\n\r\n                            </div>\r\n                          )}\r\n                        </div>\r\n                      </div>\r\n                    ))}\r\n                  </div>\r\n                ) : (\r\n                  <div style={styles.modalEmptyState}>\r\n                    <Heart size={48} style={styles.modalEmptyIcon} />\r\n                    <h3 style={styles.modalEmptyTitle}>No Volunteer Opportunities Yet</h3>\r\n                    <p style={styles.modalEmptyText}>\r\n                      We're currently setting up volunteer opportunities in {countryName}. \r\n                      Check back soon or contact us to learn about upcoming opportunities.\r\n                    </p>\r\n                    <button \r\n                      onClick={closeVolunteersModal}\r\n                      style={styles.modalEmptyButton}\r\n                    >\r\n                      Close\r\n                    </button>\r\n                  </div>\r\n                )}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {/* Main Content Container */}\r\n        <div style={styles.mainContainer}>\r\n          \r\n          {/* Content Coming Soon Placeholder */}\r\n          {!hasRealData && (\r\n            <section style={styles.placeholderSection}>\r\n              <div style={styles.placeholderCard}>\r\n                <div style={styles.placeholderIcon}></div>\r\n                <h2 style={styles.placeholderTitle}>Content Coming Soon</h2>\r\n                <p style={styles.placeholderText}>\r\n                  We're currently gathering detailed information about our operations in {countryName}. \r\n                  Check back soon for updates on our team, projects, and local initiatives.\r\n                </p>\r\n                <p style={styles.placeholderSubtext}>\r\n                  Meanwhile, feel free to explore other countries from the dropdown above or contact us for more information.\r\n                </p>\r\n                <div style={styles.placeholderActions}>\r\n                  <button onClick={handleExplore} style={styles.placeholderButton}>\r\n                    Explore Other Countries\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </section>\r\n          )}\r\n\r\n          {/* Country-Specific News Section - FIXED CONDITION */}\r\n          {countryData && countryData.countryNews && Array.isArray(countryData.countryNews) && countryData.countryNews.length > 0 && (\r\n            <section style={styles.section}>\r\n              <div style={styles.sectionHeader}>\r\n                <Globe style={styles.sectionIcon} />\r\n                <div>\r\n                  <h2 style={styles.sectionTitle}>Latest News from {countryName}</h2>\r\n                  <p style={styles.sectionSubtitle}>\r\n                    Stay updated with the latest developments and announcements.\r\n                  </p>\r\n                </div>\r\n              </div>\r\n\r\n              <div style={styles.newsGrid} className=\"news-grid\">\r\n                {countryData.countryNews.map(article => (\r\n                  <div\r\n                    key={article.id}\r\n                    style={styles.newsCard}\r\n                    className=\"news-card\"\r\n                    onClick={() => navigate(`/news/${article.id}`)}\r\n\r\n\r\n\r\n                  >\r\n                    {article.featured_image && (\r\n                      <div style={styles.newsImage}>\r\n                        <img \r\n                          src={article.featured_image.startsWith('http') \r\n                            ? article.featured_image \r\n                            : `${STATIC_URL}${article.featured_image}`}\r\n                          alt={article.title}\r\n                          style={styles.newsImageImg}\r\n                          onError={(e) => {\r\n                            e.target.style.display = 'none';\r\n                          }}\r\n                        />\r\n                      </div>\r\n                    )}\r\n                    \r\n                    <div style={styles.newsContent}>\r\n                      <h3 style={styles.newsTitle}>{article.title}</h3>\r\n                      {article.excerpt && (\r\n                        <p style={styles.newsExcerpt}>\r\n                          {article.excerpt.length > 120\r\n                            ? `${article.excerpt.substring(0, 120)}...`\r\n                            : article.excerpt}\r\n                        </p>\r\n                      )}\r\n                      \r\n                      <div style={styles.newsMeta}>\r\n                        <div style={styles.newsMetaItem}>\r\n                          <Calendar size={14} />\r\n                          <span>{formatDate(article.created_at)}</span>\r\n                        </div>\r\n                        {article.author_name && (\r\n                          <div style={styles.newsMetaItem}>\r\n                            <span>{article.author_name}</span>\r\n                          </div>\r\n                        )}\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            </section>\r\n          )}\r\n\r\n{/* Compact Premium Team Grid Carousel */}\r\n{countryData?.team && countryData.team.length > 0 && (\r\n  <section style={{ padding: \"3rem 1rem\", position: \"relative\" }}>\r\n    {/* Header */}\r\n    <div style={{ maxWidth: \"1000px\", margin: \"0 auto\", textAlign: \"center\" }}>\r\n      <span style={{\r\n        display: \"inline-block\", padding: \"0.3rem 1rem\",\r\n        background: \"rgba(99,102,241,0.08)\", borderRadius: \"20px\",\r\n        fontSize: \"0.75rem\", fontWeight: 600, color: \"#6366f1\"\r\n      }}>Team</span>\r\n\r\n      <h2 style={{ fontSize: \"1.75rem\", fontWeight: 700, margin: \"0.5rem 0\" }}>\r\n        Meet {countryName} Team\r\n      </h2>\r\n      <p style={{ color: \"#64748b\", fontSize: \"0.95rem\" }}>\r\n        The professionals driving change in {countryName}\r\n      </p>\r\n    </div>\r\n\r\n    {/* Carousel */}\r\n    <div style={{ position: \"relative\", marginTop: \"2rem\" }}>\r\n      <button\r\n        onClick={() => {\r\n          const c = document.getElementById('team-grid-carousel');\r\n          c.scrollBy({ left: -c.offsetWidth, behavior: 'smooth' });\r\n        }}\r\n        style={{ position: \"absolute\", left: 0, top: \"40%\", zIndex: 10 }}\r\n      ></button>\r\n\r\n      <button\r\n        onClick={() => {\r\n          const c = document.getElementById('team-grid-carousel');\r\n          c.scrollBy({ left: c.offsetWidth, behavior: 'smooth' });\r\n        }}\r\n        style={{ position: \"absolute\", right: 0, top: \"40%\", zIndex: 10 }}\r\n      ></button>\r\n\r\n      <div\r\n        id=\"team-grid-carousel\"\r\n        style={{ display: \"flex\", gap: \"1rem\", overflowX: \"auto\", scrollBehavior: \"smooth\" }}\r\n      >\r\n        {countryData.team.map((member, i) => {\r\n          const MAX = 100;\r\n          const isLong = member.bio?.length > MAX;\r\n          const displayedBio = isLong ? member.bio.slice(0, MAX) + \"...\" : member.bio;\r\n\r\n          return (\r\n            <div key={member.id} style={{\r\n              flex: \"0 0 300px\", padding: \"1rem\",\r\n              background: \"white\", borderRadius: \"12px\",\r\n              boxShadow: \"0 4px 12px rgba(0,0,0,0.1)\"\r\n            }}>\r\n              {/* Avatar */}\r\n              <div style={{ display: \"flex\", alignItems: \"center\", marginBottom: \"0.5rem\" }}>\r\n                {member.image_url ? (\r\n                  <img\r\n                    src={`${STATIC_URL}${member.image_url}`}\r\n                    alt={member.name}\r\n                    style={{ width: \"45px\", height: \"45px\", borderRadius: \"8px\", objectFit: \"cover\" }}\r\n                  />\r\n                ) : (\r\n                  <div style={{\r\n                    width: \"45px\", height: \"45px\", borderRadius: \"8px\",\r\n                    background: \"#6366f1\", color: \"white\",\r\n                    display: \"flex\", justifyContent: \"center\", alignItems: \"center\"\r\n                  }}>{member.name[0]}</div>\r\n                )}\r\n\r\n                <div style={{ marginLeft: \"0.5rem\" }}>\r\n                  <h3 style={{ margin: 0, fontSize: \"0.9rem\" }}>{member.name}</h3>\r\n                  <small style={{ color: \"#6366f1\" }}>{member.position}</small>\r\n                </div>\r\n              </div>\r\n\r\n              {/* Bio */}\r\n              <p style={{ fontSize: \"0.8rem\", color: \"#475569\" }}>{displayedBio}</p>\r\n\r\n              {/* Actions */}\r\n              <div style={{ display: \"flex\", gap: \"0.5rem\" }}>\r\n                {isLong && (\r\n                  <button\r\n                    onClick={() => toggleExpand(member.id, member.bio)}\r\n                    style={{ flex: 1, fontSize: \"0.7rem\", padding: \"0.3rem\", background: \"#6366f1\", color: \"#fff\", border: \"none\", borderRadius: \"6px\" }}\r\n                  >More</button>\r\n                )}\r\n                {member.email && (\r\n                  <a\r\n                    href={`mailto:${member.email}`}\r\n                    style={{ flex: 1, fontSize: \"0.7rem\", padding: \"0.3rem\", textAlign: \"center\", border: \"1px solid #ddd\", borderRadius: \"6px\", textDecoration: \"none\", color: \"#64748b\" }}\r\n                  > Email</a>\r\n                )}\r\n              </div>\r\n            </div>\r\n          );\r\n        })}\r\n      </div>\r\n    </div>\r\n\r\n    {/* Modal */}\r\n    {activeBio && (\r\n      <div\r\n        onClick={() => setActiveBio(null)}\r\n        style={{\r\n          position: \"fixed\", top: 0, left: 0, width: \"100vw\", height: \"100vh\",\r\n          background: \"rgba(0,0,0,0.6)\", display: \"flex\", justifyContent: \"center\", alignItems: \"center\"\r\n        }}\r\n      >\r\n        <div\r\n          onClick={(e) => e.stopPropagation()}\r\n          style={{ background: \"#fff\", padding: \"2rem\", borderRadius: \"12px\", maxWidth: \"500px\" }}\r\n        >\r\n          <p>{activeBio}</p>\r\n          <button onClick={() => setActiveBio(null)}>Close</button>\r\n        </div>\r\n      </div>\r\n    )}\r\n  </section>\r\n)}\r\n\r\n          {/* Projects Section */}\r\n          {countryData.projects && countryData.projects.length > 0 ? (\r\n            <section style={styles.section}>\r\n              <div style={styles.sectionHeader}>\r\n                <Award style={styles.sectionIcon} />\r\n                <div>\r\n                  <h2 style={styles.sectionTitle}>Projects in {countryName} </h2>\r\n                  <p style={styles.sectionSubtitle}>\r\n                    Transformative initiatives making a real difference.\r\n                  </p>\r\n                </div>\r\n              </div>\r\n\r\n              <div style={styles.projectsGrid} className=\"projects-grid\">\r\n                {countryData.projects.map(project => (\r\n                  <div\r\n                    key={project.id}\r\n                    style={styles.projectCard}\r\n                    className=\"project-card\"\r\n                    onClick={() => handleProjectClick(project)}\r\n                  >\r\n                    {project.featured_image && (\r\n                      <div style={styles.projectImage}>\r\n                        <img \r\n                          src={project.featured_image.startsWith('http') \r\n                            ? project.featured_image \r\n                            : `${STATIC_URL}${project.featured_image}`}\r\n                          alt={project.title}\r\n                          style={styles.projectImageImg}\r\n                          onError={(e) => {\r\n                            e.target.style.display = 'none';\r\n                          }}\r\n                        />\r\n                        {project.status && (\r\n                          <div style={{\r\n                            ...styles.projectStatus,\r\n                            ...(project.status === 'completed' ? styles.statusCompleted :\r\n                               project.status === 'ongoing' ? styles.statusOngoing :\r\n                               project.status === 'planning' ? styles.statusPlanning :\r\n                               styles.statusOnHold)\r\n                          }}>\r\n                            {project.status === 'completed' && (\r\n                              <CheckCircle style={{width: '14px', height: '14px'}} />\r\n                            )}\r\n                            {project.status.replace('_', ' ')}\r\n                          </div>\r\n                        )}\r\n                      </div>\r\n                    )}\r\n                    \r\n                    <div style={styles.projectContent}>\r\n                      <h3 style={styles.projectTitle}>{project.title}</h3>\r\n                      <p style={styles.projectDescription}>\r\n                        {project.short_description || \r\n                         (project.description && project.description.substring(0, 150) + '...') ||\r\n                         'This project is designed to create meaningful impact in the community.'}\r\n                      </p>\r\n                      \r\n                      <div style={styles.projectMeta}>\r\n                        {project.location && (\r\n                          <div style={styles.projectMetaItem}>\r\n                            <MapPin size={14} />\r\n                            <span>{project.location}</span>\r\n                          </div>\r\n                        )}\r\n                        {project.start_date && (\r\n                          <div style={styles.projectMetaItem}>\r\n                            <Calendar size={14} />\r\n                            <span>Started {formatDate(project.start_date)}</span>\r\n                          </div>\r\n                        )}\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            </section>\r\n          ) : (\r\n            // Placeholder if no projects\r\n            <section style={styles.section}>\r\n              <div style={styles.sectionHeader}>\r\n                <Award style={styles.sectionIcon} />\r\n                <div>\r\n                  <h2 style={styles.sectionTitle}>Our {countryName} Projects</h2>\r\n                  <p style={styles.sectionSubtitle}>\r\n                    We're currently gathering more insights for {countryName}. Check back soon!\r\n                  </p>\r\n                </div>\r\n              </div>\r\n            </section>\r\n          )}\r\n{/* Volunteer Opportunities Section */}\r\n{volunteerForms.length > 0 ? (\r\n  <section style={styles.section}>\r\n    <div style={styles.sectionHeader}>\r\n      <Heart style={styles.sectionIcon} />\r\n      <div>\r\n        <h2 style={styles.sectionTitle}>Volunteer Opportunities in {countryName}</h2>\r\n        <p style={styles.sectionSubtitle}>\r\n          Join us in making a difference. Explore volunteer opportunities available in your area.\r\n        </p>\r\n      </div>\r\n    </div>\r\n\r\n    <div style={styles.volunteerGrid} className=\"volunteer-grid\">\r\n      {volunteerForms.map((form) => (\r\n        <div key={form.id} style={styles.volunteerCard} className=\"volunteer-card\">\r\n          <div style={styles.volunteerContent}>\r\n            <h3 style={styles.volunteerTitle}>{form.form_title}</h3>\r\n\r\n            {form.description && (\r\n              <p style={styles.volunteerDescription}>{form.description}</p>\r\n            )}\r\n\r\n            <div style={styles.volunteerMeta}>\r\n              <Chip\r\n                label={form.is_active ? \"Active\" : \"Inactive\"}\r\n                color={form.is_active ? \"success\" : \"default\"}\r\n                size=\"small\"\r\n              />\r\n            </div>\r\n\r\n            {form.is_active && (\r\n              <div style={styles.volunteerActions}>\r\n                <a\r\n                  href={form.form_url}\r\n                  target=\"_blank\"\r\n                  rel=\"noopener noreferrer\"\r\n                  style={styles.volunteerButton}\r\n                  className=\"volunteer-button\"\r\n                >\r\n                  <ExternalLink size={16} />\r\n                  Apply Now\r\n                </a>\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n      ))}\r\n    </div>\r\n  </section>\r\n) : (\r\n  <section style={styles.section}>\r\n    <div style={styles.sectionHeader}>\r\n      <Heart style={styles.sectionIcon} />\r\n      <div>\r\n        <h2 style={styles.sectionTitle}>Volunteer Opportunities in {countryName}</h2>\r\n        <p style={styles.sectionSubtitle}>\r\n          We're currently setting up volunteer opportunities in {countryName}.\r\n          Check back soon or contact us to learn about upcoming opportunities.\r\n        </p>\r\n      </div>\r\n    </div>\r\n  </section>\r\n)}\r\n\r\n          {/* Events Section */}\r\n          {countryData.events.length > 0 && (\r\n            <section style={styles.section}>\r\n              <div style={styles.sectionHeader}>\r\n                <Calendar style={styles.sectionIcon} />\r\n                <div>\r\n                  <h2 style={styles.sectionTitle}>{countryName} Events</h2>\r\n                  <p style={styles.sectionSubtitle}>\r\n                    Join us at upcoming events and community gatherings.\r\n                  </p>\r\n                </div>\r\n              </div>\r\n\r\n              <div style={styles.eventsGrid} className=\"events-grid\">\r\n                {countryData.events.map(event => {\r\n                  const status = getEventStatus(event.start_date, event.end_date);\r\n                  return (\r\n                    <div\r\n                      key={event.id}\r\n                      style={styles.eventCard}\r\n                      className=\"event-card\"\r\n                      onClick={() => handleEventClick(event)}\r\n                    >\r\n                      <div style={styles.eventContent}>\r\n                        <div style={styles.eventHeader}>\r\n                          <h3 style={styles.eventTitle}>{event.title}</h3>\r\n\r\n                          {event.is_paid ? (\r\n                            <div style={styles.eventPricePaid}>\r\n                              {event.currency} {parseFloat(event.price).toFixed(2)}\r\n                            </div>\r\n                          ) : (\r\n                            <div style={styles.eventPriceFree}>Free</div>\r\n                          )}\r\n                        </div>\r\n\r\n                        {event.description && (\r\n                          <p style={styles.eventDescription}>\r\n                            {event.description.length > 150\r\n                              ? `${event.description.substring(0, 150)}...`\r\n                              : event.description}\r\n                          </p>\r\n                        )}\r\n\r\n                        <div style={styles.eventMeta}>\r\n                          <div style={styles.eventMetaItem}>\r\n                            <Calendar size={14} />\r\n                            <span>\r\n                              {formatDateTime(event.start_date)}\r\n                              {event.end_date && ` - ${formatDateTime(event.end_date)}`}\r\n                            </span>\r\n                          </div>\r\n                          {event.location && (\r\n                            <div style={styles.eventMetaItem}>\r\n                              <MapPin size={14} />\r\n                              <span>{event.location}</span>\r\n                            </div>\r\n                          )}\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  );\r\n                })}\r\n              </div>\r\n            </section>\r\n          )}\r\n\r\n          {/* Contact & Support Section */}\r\n          <section style={styles.section}>\r\n            <div style={styles.sectionDivider}></div>\r\n            <div style={styles.sectionHeader}>\r\n              <Mail style={styles.sectionIcon} />\r\n              <div>\r\n                <h2 style={styles.sectionTitle}>Get In Touch</h2>\r\n                <p style={styles.sectionSubtitle}>\r\n                  Ready to collaborate or learn more? We'd love to hear from you.\r\n                </p>\r\n              </div>\r\n            </div>\r\n\r\n            <div style={styles.contactGrid} className=\"contact-grid\">\r\n              {/* Contact Information */}\r\n              <div style={styles.contactSection}>\r\n                <h3 style={styles.contactTitle}>Contact Information</h3>\r\n                \r\n                <div style={styles.contactItems}>\r\n                  {countryData.contact.email && (\r\n                    <div style={styles.contactItem}>\r\n                      <Mail style={{...styles.contactItemIcon, color: '#16a34a'}} />\r\n                      <div style={styles.contactItemContent}>\r\n                        <div style={styles.contactItemLabel}>Email Address</div>\r\n                        <a \r\n                          href={`mailto:${countryData.contact.email}`}\r\n                          style={styles.contactItemValue}\r\n                          className=\"contact-item-value\"\r\n                        >\r\n                          {countryData.contact.email}\r\n                        </a>\r\n                      </div>\r\n                    </div>\r\n                  )}\r\n                  \r\n                  {countryData.contact.phone && (\r\n                    <div style={styles.contactItem}>\r\n                      <Phone style={{...styles.contactItemIcon, color: '#3b82f6'}} />\r\n                      <div style={styles.contactItemContent}>\r\n                        <div style={styles.contactItemLabel}>Phone Number</div>\r\n                        <a \r\n                          href={`tel:${countryData.contact.phone}`}\r\n                          style={styles.contactItemValue}\r\n                          className=\"contact-item-value\"\r\n                        >\r\n                          {countryData.contact.phone}\r\n                        </a>\r\n                      </div>\r\n                    </div>\r\n                  )}\r\n                  \r\n                  {countryData.contact.physical_address && (\r\n                    <div style={styles.contactItem}>\r\n                      <MapPin style={{...styles.contactItemIcon, color: '#8b5cf6'}} />\r\n                      <div style={styles.contactItemContent}>\r\n                        <div style={styles.contactItemLabel}>Address</div>\r\n                        <div style={styles.contactItemValue}>{countryData.contact.physical_address}</div>\r\n                        {countryData.contact.city && (\r\n                          <div style={styles.contactItemMeta}>\r\n                            {countryData.contact.city}\r\n                            {countryData.contact.postal_code && `, ${countryData.contact.postal_code}`}\r\n                          </div>\r\n                        )}\r\n                      </div>\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </section>\r\n        </div>\r\n      </div>\r\n      \r\n      <Footer />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CountryInfoDisplay;","import React, { useState, useEffect, useRef } from \"react\";\r\nimport axios from \"axios\";\r\nimport Lottie from \"lottie-react\";\r\n\r\nimport { useTheme } from \"../theme\";\r\nimport { API_URL } from \"../config\";\r\nimport Header from \"../components/Header\";\r\nimport Footer from \"../components/Footer\";\r\n\r\n// Lottie animation JSON data (you can replace these with actual animation files)\r\nconst loadingAnimation = {\r\n  \"v\": \"5.7.4\",\r\n  \"fr\": 30,\r\n  \"ip\": 0,\r\n  \"op\": 60,\r\n  \"w\": 200,\r\n  \"h\": 200,\r\n  \"nm\": \"Loading\",\r\n  \"ddd\": 0,\r\n  \"assets\": [],\r\n  \"layers\": [{\r\n    \"ddd\": 0,\r\n    \"ind\": 1,\r\n    \"ty\": 4,\r\n    \"nm\": \"Circle\",\r\n    \"sr\": 1,\r\n    \"ks\": {\r\n      \"o\": {\"a\": 0, \"k\": 100},\r\n      \"r\": {\"a\": 1, \"k\": [{\"i\": {\"x\": [0.833], \"y\": [0.833]}, \"o\": {\"x\": [0.167], \"y\": [0.167]}, \"t\": 0, \"s\": [0]}, {\"t\": 60, \"s\": [360]}]},\r\n      \"p\": {\"a\": 0, \"k\": [100, 100]},\r\n      \"a\": {\"a\": 0, \"k\": [0, 0]},\r\n      \"s\": {\"a\": 0, \"k\": [100, 100]}\r\n    },\r\n    \"ao\": 0,\r\n    \"shapes\": [{\r\n      \"ty\": \"gr\",\r\n      \"it\": [{\r\n        \"d\": 1,\r\n        \"ty\": \"el\",\r\n        \"s\": {\"a\": 0, \"k\": [60, 60]},\r\n        \"p\": {\"a\": 0, \"k\": [0, 0]}\r\n      }, {\r\n        \"ty\": \"st\",\r\n        \"c\": {\"a\": 0, \"k\": [0.2, 0.4, 0.8, 1]},\r\n        \"o\": {\"a\": 0, \"k\": 100},\r\n        \"w\": {\"a\": 0, \"k\": 8},\r\n        \"lc\": 2,\r\n        \"lj\": 2\r\n      }, {\r\n        \"ty\": \"tr\",\r\n        \"p\": {\"a\": 0, \"k\": [0, 0]},\r\n        \"a\": {\"a\": 0, \"k\": [0, 0]},\r\n        \"s\": {\"a\": 0, \"k\": [100, 100]},\r\n        \"r\": {\"a\": 0, \"k\": 0},\r\n        \"o\": {\"a\": 0, \"k\": 100}\r\n      }]\r\n    }],\r\n    \"ip\": 0,\r\n    \"op\": 60,\r\n    \"st\": 0,\r\n    \"bm\": 0\r\n  }]\r\n};\r\n\r\nconst successAnimation = {\r\n  \"v\": \"5.7.4\",\r\n  \"fr\": 24,\r\n  \"ip\": 0,\r\n  \"op\": 48,\r\n  \"w\": 200,\r\n  \"h\": 200,\r\n  \"nm\": \"Success\",\r\n  \"ddd\": 0,\r\n  \"assets\": [],\r\n  \"layers\": [{\r\n    \"ddd\": 0,\r\n    \"ind\": 1,\r\n    \"ty\": 4,\r\n    \"nm\": \"Check\",\r\n    \"sr\": 1,\r\n    \"ks\": {\r\n      \"o\": {\"a\": 0, \"k\": 100},\r\n      \"r\": {\"a\": 0, \"k\": 0},\r\n      \"p\": {\"a\": 0, \"k\": [100, 100]},\r\n      \"a\": {\"a\": 0, \"k\": [0, 0]},\r\n      \"s\": {\"a\": 1, \"k\": [{\"i\": {\"x\": [0.667], \"y\": [1]}, \"o\": {\"x\": [0.333], \"y\": [0]}, \"t\": 0, \"s\": [0, 0, 100]}, {\"t\": 24, \"s\": [100, 100, 100]}]}\r\n    },\r\n    \"ao\": 0,\r\n    \"shapes\": [{\r\n      \"ty\": \"gr\",\r\n      \"it\": [{\r\n        \"ind\": 0,\r\n        \"ty\": \"sh\",\r\n        \"ks\": {\"a\": 0, \"k\": {\"i\": [[0,0],[0,0],[0,0]], \"o\": [[0,0],[0,0],[0,0]], \"v\": [[-20,0],[0,20],[40,-20]], \"c\": false}}\r\n      }, {\r\n        \"ty\": \"st\",\r\n        \"c\": {\"a\": 0, \"k\": [0.1, 0.7, 0.3, 1]},\r\n        \"o\": {\"a\": 0, \"k\": 100},\r\n        \"w\": {\"a\": 0, \"k\": 8},\r\n        \"lc\": 2,\r\n        \"lj\": 2\r\n      }, {\r\n        \"ty\": \"tr\",\r\n        \"p\": {\"a\": 0, \"k\": [0, 0]},\r\n        \"a\": {\"a\": 0, \"k\": [0, 0]},\r\n        \"s\": {\"a\": 0, \"k\": [100, 100]},\r\n        \"r\": {\"a\": 0, \"k\": 0},\r\n        \"o\": {\"a\": 0, \"k\": 100}\r\n      }]\r\n    }],\r\n    \"ip\": 0,\r\n    \"op\": 48,\r\n    \"st\": 0,\r\n    \"bm\": 0\r\n  }]\r\n};\r\n\r\nconst PublicJobDisplay = () => {\r\n  const { colors } = useTheme();\r\n  const [jobs, setJobs] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  const [selectedJob, setSelectedJob] = useState(null);\r\n  const [showApplicationForm, setShowApplicationForm] = useState(false);\r\n  const heroRef = useRef(null);\r\n  const observerRef = useRef();\r\n  const [filter, setFilter] = useState({ level: \"\", location: \"\" });\r\n\r\n  const [form, setForm] = useState({\r\n    name: \"\",\r\n    email: \"\",\r\n    phone: \"\",\r\n    coverLetter: \"\",\r\n    resume: null,\r\n  });\r\n  const [submitting, setSubmitting] = useState(false);\r\n  const [submitStatus, setSubmitStatus] = useState({ message: \"\", type: \"\" });\r\n\r\n  // Intersection Observer for animations\r\n  useEffect(() => {\r\n    const observer = new IntersectionObserver(\r\n      (entries) => {\r\n        entries.forEach((entry) => {\r\n          if (entry.isIntersecting) {\r\n            entry.target.classList.add('animate-in');\r\n          }\r\n        });\r\n      },\r\n      {\r\n        threshold: 0.1,\r\n        rootMargin: '50px 0px -50px 0px'\r\n      }\r\n    );\r\n\r\n    observerRef.current = observer;\r\n\r\n    // Observe all elements with animate-on-scroll class\r\n    const animatedElements = document.querySelectorAll('.animate-on-scroll');\r\n    animatedElements.forEach((el) => observer.observe(el));\r\n\r\n    return () => {\r\n      if (observerRef.current) {\r\n        observerRef.current.disconnect();\r\n      }\r\n    };\r\n  }, [jobs]); // Re-run when jobs change\r\n\r\n  // Fetch jobs with proper error handling\r\n  const fetchJobs = async () => {\r\n    try {\r\n      setLoading(true);\r\n      setError(null);\r\n      \r\n      const response = await axios.get(`${API_URL}/jobs`, {\r\n        timeout: 10000, // 10 second timeout\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        }\r\n      });\r\n\r\n      if (response.data && Array.isArray(response.data)) {\r\n        setJobs(response.data);\r\n      } else if (response.data.jobs && Array.isArray(response.data.jobs)) {\r\n        setJobs(response.data.jobs);\r\n      } else {\r\n        throw new Error('Invalid response format');\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Error fetching jobs:\", error);\r\n      \r\n      let errorMessage = \"Failed to load job listings. \";\r\n      \r\n      if (error.response) {\r\n        // Server responded with error\r\n        if (error.response.status === 404) {\r\n          errorMessage += \"Job listings not found.\";\r\n        } else if (error.response.status >= 500) {\r\n          errorMessage += \"Server error. Please try again later.\";\r\n        } else {\r\n          errorMessage += error.response.data?.message || \"Please try again.\";\r\n        }\r\n      } else if (error.request) {\r\n        // Network error\r\n        errorMessage += \"Please check your internet connection.\";\r\n      } else {\r\n        // Other error\r\n        errorMessage += error.message || \"Please try again.\";\r\n      }\r\n      \r\n      setError(errorMessage);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchJobs();\r\n  }, []);\r\n\r\n  const formatDate = (dateString) => {\r\n    if (!dateString) return \"No deadline\";\r\n    try {\r\n      return new Date(dateString).toLocaleDateString(\"en-US\", {\r\n        year: \"numeric\",\r\n        month: \"short\",\r\n        day: \"numeric\",\r\n      });\r\n    } catch {\r\n      return \"Invalid date\";\r\n    }\r\n  };\r\n\r\n  const isDeadlinePassed = (deadline) => {\r\n    if (!deadline) return false;\r\n    try {\r\n      return new Date(deadline) < new Date();\r\n    } catch {\r\n      return false;\r\n    }\r\n  };\r\n\r\n  const handleChange = (e) => {\r\n    const { name, value, files } = e.target;\r\n    console.log(`Field changed: ${name}`, files ? files[0]?.name : value);\r\n    \r\n    if (files && files[0]) {\r\n      // Validate file type\r\n      const validTypes = ['.pdf', '.doc', '.docx'];\r\n      const fileName = files[0].name.toLowerCase();\r\n      const isValidType = validTypes.some(type => fileName.endsWith(type));\r\n      \r\n      if (!isValidType) {\r\n        setSubmitStatus({ \r\n          message: \"Please upload a PDF, DOC, or DOCX file.\", \r\n          type: \"error\" \r\n        });\r\n        return;\r\n      }\r\n      \r\n      // Validate file size (5MB limit)\r\n      if (files[0].size > 5 * 1024 * 1024) {\r\n        setSubmitStatus({ \r\n          message: \"Resume file must be smaller than 5MB.\", \r\n          type: \"error\" \r\n        });\r\n        return;\r\n      }\r\n      \r\n      setForm({ ...form, [name]: files[0] });\r\n    } else {\r\n      setForm({ ...form, [name]: value });\r\n    }\r\n    \r\n    // Clear status when user makes changes\r\n    if (submitStatus.message) {\r\n      setSubmitStatus({ message: \"\", type: \"\" });\r\n    }\r\n  };\r\n\r\n  const validateForm = () => {\r\n    const errors = [];\r\n    \r\n    if (!form.name.trim()) errors.push(\"Name is required\");\r\n    if (!form.email.trim()) errors.push(\"Email is required\");\r\n    if (!form.resume) errors.push(\"Resume file is required\");\r\n    \r\n    const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\r\n    if (form.email && !emailRegex.test(form.email.trim())) {\r\n      errors.push(\"Please enter a valid email address\");\r\n    }\r\n    \r\n    return errors;\r\n  };\r\n  \r\n  const filteredJobs = jobs.filter(job => {\r\n    if (!job) return false;\r\n    \r\n    const levelMatch = !filter.level || job.level === filter.level;\r\n    const locationMatch = !filter.location || \r\n      (job.location && job.location.toLowerCase().includes(filter.location.toLowerCase()));\r\n    \r\n    return levelMatch && locationMatch;\r\n  });\r\n\r\n  const handleSubmitApplication = async (e) => {\r\n    e.preventDefault();\r\n    console.log(\"Form submission started\");\r\n    \r\n    if (!selectedJob) {\r\n      setSubmitStatus({ message: \"No job selected\", type: \"error\" });\r\n      return;\r\n    }\r\n\r\n    // Validate form\r\n    const validationErrors = validateForm();\r\n    if (validationErrors.length > 0) {\r\n      setSubmitStatus({ message: validationErrors.join(\", \"), type: \"error\" });\r\n      return;\r\n    }\r\n\r\n    setSubmitting(true);\r\n    setSubmitStatus({ message: \"Submitting application...\", type: \"info\" });\r\n\r\n    try {\r\n      const formData = new FormData();\r\n      formData.append(\"name\", form.name.trim());\r\n      formData.append(\"email\", form.email.trim());\r\n      formData.append(\"phone\", form.phone.trim());\r\n      formData.append(\"coverLetter\", form.coverLetter.trim());\r\n      formData.append(\"resume\", form.resume);\r\n      formData.append(\"job_id\", selectedJob.id);\r\n\r\n      console.log(\"Submitting to API:\", `${API_URL}/job-applications`);\r\n\r\n      const response = await axios.post(`${API_URL}/job-applications`, formData, {\r\n        headers: { \r\n          \"Content-Type\": \"multipart/form-data\" \r\n        },\r\n        timeout: 30000,\r\n      });\r\n\r\n      console.log(\"API response:\", response.data);\r\n\r\n      if (response.data && response.data.success !== false) {\r\n        setSubmitStatus({ \r\n          message: \"Application submitted successfully! We'll be in touch soon.\", \r\n          type: \"success\" \r\n        });\r\n        \r\n        setTimeout(() => {\r\n          setShowApplicationForm(false);\r\n          setForm({\r\n            name: \"\",\r\n            email: \"\",\r\n            phone: \"\",\r\n            coverLetter: \"\",\r\n            resume: null,\r\n          });\r\n          setSubmitStatus({ message: \"\", type: \"\" });\r\n        }, 3000);\r\n      } else {\r\n        throw new Error(response.data?.error || \"Failed to submit application\");\r\n      }\r\n\r\n    } catch (error) {\r\n      console.error(\"Error submitting application:\", error);\r\n      \r\n      let errorMessage = \"Error submitting application. Please try again.\";\r\n      \r\n      if (error.response) {\r\n        const serverError = error.response.data;\r\n        if (serverError?.error) {\r\n          errorMessage = serverError.error;\r\n        } else if (serverError?.message) {\r\n          errorMessage = serverError.message;\r\n        } else if (error.response.status === 413) {\r\n          errorMessage = \"File too large. Please upload a smaller resume.\";\r\n        } else if (error.response.status >= 500) {\r\n          errorMessage = \"Server error. Please try again later.\";\r\n        }\r\n        console.error(\"Server error:\", serverError);\r\n      } else if (error.request) {\r\n        errorMessage = \"Network error. Please check your connection and try again.\";\r\n        console.error(\"Network error:\", error.request);\r\n      }\r\n      \r\n      setSubmitStatus({ message: errorMessage, type: \"error\" });\r\n    } finally {\r\n      setSubmitting(false);\r\n    }\r\n  };\r\n\r\n  const closeModal = () => {\r\n    setShowApplicationForm(false);\r\n    setSelectedJob(null);\r\n    setForm({\r\n      name: \"\",\r\n      email: \"\",\r\n      phone: \"\",\r\n      coverLetter: \"\",\r\n      resume: null,\r\n    });\r\n    setSubmitStatus({ message: \"\", type: \"\" });\r\n  };\r\n\r\n  const retryFetch = () => {\r\n    fetchJobs();\r\n  };\r\n\r\n  const uniqueLocations = [...new Set(jobs.map(job => \r\n    job?.location ? job.location.split(',')[0].trim() : null\r\n  ).filter(Boolean))];\r\n\r\n  return (\r\n    <div style={{ minHeight: \"100vh\", position: 'relative', overflow: 'hidden' }}>\r\n      <style jsx>{`\r\n        @keyframes fadeInUp {\r\n          from {\r\n            opacity: 0;\r\n            transform: translateY(30px);\r\n          }\r\n          to {\r\n            opacity: 1;\r\n            transform: translateY(0);\r\n          }\r\n        }\r\n        \r\n        @keyframes pulse {\r\n          0%, 100% { transform: scale(1); }\r\n          50% { transform: scale(1.02); }\r\n        }\r\n        \r\n        @keyframes spin {\r\n          0% { transform: rotate(0deg); }\r\n          100% { transform: rotate(360deg); }\r\n        }\r\n        \r\n        @keyframes bounce {\r\n          0%, 100% { transform: translateY(0); }\r\n          50% { transform: translateY(-10px); }\r\n        }\r\n        \r\n        .animate-on-scroll {\r\n          opacity: 0;\r\n          transform: translateY(30px);\r\n          transition: all 0.8s cubic-bezier(0.4, 0, 0.2, 1);\r\n        }\r\n        \r\n        .animate-in {\r\n          opacity: 1;\r\n          transform: translateY(0);\r\n        }\r\n        \r\n        .job-card {\r\n          transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);\r\n        }\r\n        \r\n        .job-card:hover {\r\n          transform: translateY(-8px) scale(1.02);\r\n        }\r\n        \r\n        .glass-morphism {\r\n          background: rgba(255, 255, 255, 0.1);\r\n          backdrop-filter: blur(15px);\r\n          border: 1px solid rgba(255, 255, 255, 0.2);\r\n          box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);\r\n        }\r\n        \r\n        .floating-elements::before {\r\n          content: '';\r\n          position: absolute;\r\n          top: 10%;\r\n          left: 5%;\r\n          width: 100px;\r\n          height: 100px;\r\n          background: radial-gradient(circle, rgba(250,207,60,0.3) 0%, transparent 70%);\r\n          border-radius: 50%;\r\n          animation: pulse 4s ease-in-out infinite;\r\n        }\r\n        \r\n        .floating-elements::after {\r\n          content: '';\r\n          position: absolute;\r\n          top: 60%;\r\n          right: 10%;\r\n          width: 150px;\r\n          height: 150px;\r\n          background: radial-gradient(circle, rgba(156,207,159,0.2) 0%, transparent 70%);\r\n          border-radius: 50%;\r\n          animation: pulse 6s ease-in-out infinite reverse;\r\n        }\r\n\r\n        .btn {\r\n          border: none;\r\n          border-radius: 50px;\r\n          padding: 1rem 2rem;\r\n          font-weight: 600;\r\n          cursor: pointer;\r\n          transition: all 0.3s ease;\r\n          font-family: inherit;\r\n          font-size: 1rem;\r\n        }\r\n\r\n        .btn:disabled {\r\n          cursor: not-allowed;\r\n          opacity: 0.6;\r\n        }\r\n\r\n        .btn-primary {\r\n          background: linear-gradient(135deg, ${colors.primary} 0%, ${colors.accent} 100%);\r\n          color: ${colors.white};\r\n        }\r\n\r\n        .btn-primary:hover:not(:disabled) {\r\n          transform: translateY(-2px);\r\n          box-shadow: 0 8px 25px rgba(10, 69, 28, 0.3);\r\n        }\r\n\r\n        .btn-secondary {\r\n          background: ${colors.gray100};\r\n          color: ${colors.gray700};\r\n          border: 2px solid ${colors.gray300};\r\n        }\r\n\r\n        .btn-secondary:hover:not(:disabled) {\r\n          background: ${colors.gray300};\r\n        }\r\n\r\n        .btn-retry {\r\n          background: linear-gradient(135deg, ${colors.info} 0%, ${colors.primary} 100%);\r\n          color: ${colors.white};\r\n          animation: bounce 2s infinite;\r\n        }\r\n\r\n        .chip {\r\n          display: inline-flex;\r\n          align-items: center;\r\n          padding: 0.375rem 0.75rem;\r\n          border-radius: 20px;\r\n          font-size: 0.75rem;\r\n          font-weight: 600;\r\n          text-transform: uppercase;\r\n          letter-spacing: 0.05em;\r\n        }\r\n\r\n        .alert {\r\n          padding: 1rem;\r\n          border-radius: 12px;\r\n          margin-bottom: 1.5rem;\r\n          border: 1px solid;\r\n          display: flex;\r\n          align-items: center;\r\n          gap: 0.5rem;\r\n        }\r\n\r\n        .alert-error {\r\n          background: rgba(239, 68, 68, 0.1);\r\n          color: ${colors.error};\r\n          border-color: ${colors.error};\r\n        }\r\n\r\n        .alert-success {\r\n          background: rgba(16, 185, 129, 0.1);\r\n          color: ${colors.success};\r\n          border-color: ${colors.success};\r\n        }\r\n\r\n        .alert-warning {\r\n          background: rgba(245, 158, 11, 0.1);\r\n          color: ${colors.warning};\r\n          border-color: ${colors.warning};\r\n        }\r\n\r\n        .alert-info {\r\n          background: rgba(59, 130, 246, 0.1);\r\n          color: ${colors.info};\r\n          border-color: ${colors.info};\r\n        }\r\n\r\n        .form-input {\r\n          width: 100%;\r\n          padding: 1rem;\r\n          border: 2px solid ${colors.gray300};\r\n          border-radius: 12px;\r\n          font-size: 1rem;\r\n          font-family: inherit;\r\n          outline: none;\r\n          transition: all 0.3s ease;\r\n        }\r\n\r\n        .form-input:focus {\r\n          border-color: ${colors.primary};\r\n          box-shadow: 0 0 0 3px rgba(10, 69, 28, 0.1);\r\n        }\r\n\r\n        .form-textarea {\r\n          min-height: 100px;\r\n          resize: vertical;\r\n        }\r\n\r\n        .modal-overlay {\r\n          position: fixed;\r\n          top: 0;\r\n          left: 0;\r\n          right: 0;\r\n          bottom: 0;\r\n          background: rgba(0, 0, 0, 0.8);\r\n          display: flex;\r\n          align-items: center;\r\n          justify-content: center;\r\n          z-index: 1000;\r\n          padding: 1rem;\r\n          backdrop-filter: blur(5px);\r\n        }\r\n\r\n        .modal-content {\r\n          background: ${colors.white};\r\n          border-radius: 20px;\r\n          width: 100%;\r\n          max-width: 600px;\r\n          max-height: 90vh;\r\n          overflow-y: auto;\r\n          position: relative;\r\n          animation: scaleIn 0.3s ease-out;\r\n          box-shadow: 0 20px 60px rgba(0,0,0,0.3);\r\n        }\r\n\r\n        @keyframes scaleIn {\r\n          from {\r\n            opacity: 0;\r\n            transform: scale(0.9);\r\n          }\r\n          to {\r\n            opacity: 1;\r\n            transform: scale(1);\r\n          }\r\n        }\r\n\r\n        .grid {\r\n          display: grid;\r\n          gap: 2rem;\r\n        }\r\n\r\n        .grid-cols-1 { grid-template-columns: repeat(1, 1fr); }\r\n        .grid-cols-2 { grid-template-columns: repeat(2, 1fr); }\r\n        .grid-cols-3 { grid-template-columns: repeat(3, 1fr); }\r\n\r\n        @media (max-width: 768px) {\r\n          .grid-cols-2, .grid-cols-3 {\r\n            grid-template-columns: 1fr;\r\n          }\r\n        }\r\n\r\n        @media (min-width: 769px) {\r\n          .md-grid-cols-2 { grid-template-columns: repeat(2, 1fr); }\r\n          .md-grid-cols-3 { grid-template-columns: repeat(3, 1fr); }\r\n        }\r\n\r\n        @media (min-width: 1024px) {\r\n          .lg-grid-cols-3 { grid-template-columns: repeat(3, 1fr); }\r\n        }\r\n\r\n        .lottie-container {\r\n          display: flex;\r\n          justify-content: center;\r\n          align-items: center;\r\n          width: 100px;\r\n          height: 100px;\r\n          margin: 0 auto;\r\n        }\r\n      `}</style>\r\n\r\n      <Header />\r\n\r\n      {/* Animated Background */}\r\n      <div\r\n        ref={heroRef}\r\n        className=\"floating-elements\"\r\n        style={{\r\n          position: 'absolute',\r\n          top: 0,\r\n          left: 0,\r\n          right: 0,\r\n          height: '100vh',\r\n          background: `linear-gradient(135deg, ${colors.primary} 0%, ${colors.primaryLight} 50%, ${colors.accent} 100%)`,\r\n          zIndex: -2\r\n        }}\r\n      />\r\n      \r\n      {/* Pattern Overlay */}\r\n      <div style={{\r\n        position: 'absolute',\r\n        top: 0,\r\n        left: 0,\r\n        right: 0,\r\n        height: '100vh',\r\n        backgroundImage: `radial-gradient(circle at 25% 25%, rgba(255,255,255,0.1) 0%, transparent 50%),\r\n                         radial-gradient(circle at 75% 75%, rgba(255,255,255,0.05) 0%, transparent 50%)`,\r\n        zIndex: -1\r\n      }} />\r\n\r\n      <div style={{ \r\n        position: 'relative', \r\n        zIndex: 1, \r\n        paddingTop: '2rem',\r\n        maxWidth: '1200px',\r\n        margin: '0 auto',\r\n        padding: '2rem'\r\n      }}>\r\n        {/* Hero Section */}\r\n        <div style={{ \r\n          textAlign: 'center', \r\n          padding: '4rem 0 6rem 0', \r\n          color: colors.white,\r\n          marginBottom: '3rem'\r\n        }}>\r\n          <h1 style={{\r\n            fontSize: 'clamp(2.5rem, 5vw, 4rem)',\r\n            fontWeight: 800,\r\n            margin: '0 0 1.5rem 0',\r\n            textShadow: '0 4px 20px rgba(0,0,0,0.3)',\r\n            animation: 'fadeInUp 1s ease-out'\r\n          }}>\r\n            Join Our Amazing Team\r\n          </h1>\r\n          <p style={{\r\n            fontSize: 'clamp(1.125rem, 2.5vw, 1.5rem)',\r\n            opacity: 0.95,\r\n            margin: '0 auto',\r\n            fontWeight: 300,\r\n            maxWidth: '600px',\r\n            marginBottom: '3rem',\r\n            animation: 'fadeInUp 1s ease-out 0.2s both'\r\n          }}>\r\n            Discover exciting opportunities and build your career with us\r\n          </p>\r\n\r\n          {/* Stats Cards */}\r\n          <div className=\"grid md-grid-cols-3\" style={{ \r\n            maxWidth: '800px', \r\n            margin: '0 auto',\r\n            gap: '1.5rem'\r\n          }}>\r\n            {[\r\n              { number: '50+', label: 'Team Members' },\r\n              { number: '100%', label: 'Remote Friendly' },\r\n              { number: '5', label: 'Company Rating' }\r\n            ].map((stat, index) => (\r\n              <div \r\n                key={index}\r\n                className=\"glass-morphism animate-on-scroll\"\r\n                style={{ \r\n                  padding: '2rem', \r\n                  borderRadius: '1rem',\r\n                  animationDelay: `${0.4 + index * 0.1}s`\r\n                }}\r\n              >\r\n                <div style={{ fontSize: '2.5rem', fontWeight: 700, marginBottom: '0.5rem' }}>\r\n                  {stat.number}\r\n                </div>\r\n                <div style={{ fontSize: '0.875rem', opacity: 0.9 }}>\r\n                  {stat.label}\r\n                </div>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </div>\r\n\r\n        {/* Error State */}\r\n        {error && (\r\n          <div \r\n            className=\"glass-morphism animate-on-scroll\"\r\n            style={{ \r\n              padding: '3rem 2rem', \r\n              borderRadius: '1rem', \r\n              marginBottom: '3rem',\r\n              textAlign: 'center',\r\n              color: colors.white\r\n            }}\r\n          >\r\n            <div style={{ marginBottom: '1rem', fontSize: '3rem' }}></div>\r\n            <h3 style={{ \r\n              fontSize: '1.5rem', \r\n              fontWeight: 600, \r\n              marginBottom: '1rem',\r\n              color: colors.white\r\n            }}>\r\n              Oops! Something went wrong\r\n            </h3>\r\n            <p style={{ \r\n              fontSize: '1rem', \r\n              marginBottom: '2rem', \r\n              opacity: 0.9,\r\n              maxWidth: '500px',\r\n              margin: '0 auto 2rem auto'\r\n            }}>\r\n              {error}\r\n            </p>\r\n            <button\r\n              className=\"btn btn-retry\"\r\n              onClick={retryFetch}\r\n              disabled={loading}\r\n            >\r\n              {loading ? \"Retrying...\" : \"Try Again\"}\r\n            </button>\r\n          </div>\r\n        )}\r\n\r\n        {/* Loading State */}\r\n        {loading && !error && (\r\n          <div style={{\r\n            textAlign: 'center',\r\n            padding: '4rem 2rem',\r\n            color: colors.white\r\n          }}>\r\n            <div className=\"lottie-container\">\r\n              <Lottie \r\n                animationData={loadingAnimation} \r\n                loop={true}\r\n                style={{ width: 100, height: 100 }}\r\n              />\r\n            </div>\r\n            <h3 style={{ fontSize: '1.5rem', fontWeight: 600, marginTop: '1rem' }}>\r\n              Loading amazing opportunities...\r\n            </h3>\r\n          </div>\r\n        )}\r\n\r\n        {/* Filters - Only show if we have jobs */}\r\n        {!loading && !error && jobs.length > 0 && (\r\n          <div \r\n            className=\"glass-morphism animate-on-scroll\"\r\n            style={{ \r\n              padding: '2rem', \r\n              borderRadius: '1rem', \r\n              marginBottom: '3rem',\r\n              animationDelay: '0.6s'\r\n            }}\r\n          >\r\n            <h3 style={{ \r\n              color: colors.white, \r\n              marginBottom: '1.5rem', \r\n              textAlign: 'center', \r\n              fontWeight: 600,\r\n              fontSize: '1.25rem'\r\n            }}>\r\n              Find Your Perfect Role\r\n            </h3>\r\n            <div className=\"grid md-grid-cols-2\" style={{ maxWidth: '600px', margin: '0 auto' }}>\r\n              <select\r\n                value={filter.location}\r\n                onChange={(e) => setFilter({...filter, location: e.target.value})}\r\n                style={{\r\n                  width: '100%',\r\n                  padding: '1rem',\r\n                  borderRadius: '50px',\r\n                  border: '2px solid rgba(255,255,255,0.2)',\r\n                  backgroundColor: 'rgba(255,255,255,0.1)',\r\n                  color: colors.white,\r\n                  fontSize: '1rem',\r\n                  outline: 'none'\r\n                }}\r\n              >\r\n                <option value=\"\" style={{color: colors.gray900}}>All Locations</option>\r\n                {uniqueLocations.map(location => (\r\n                  <option key={location} value={location} style={{color: colors.gray900}}>{location}</option>\r\n                ))}\r\n              </select>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {/* Job Count */}\r\n        {!loading && !error && jobs.length > 0 && (\r\n          <div className=\"animate-on-scroll\" style={{ textAlign: 'center', marginBottom: '2rem' }}>\r\n            <span \r\n              className=\"chip\"\r\n              style={{ \r\n                backgroundColor: 'rgba(255,255,255,0.2)',\r\n                color: colors.white,\r\n                fontSize: '1rem',\r\n                padding: '0.75rem 1.5rem',\r\n                backdropFilter: 'blur(10px)'\r\n              }}\r\n            >\r\n              {filteredJobs.length} position{filteredJobs.length !== 1 ? 's' : ''} available\r\n            </span>\r\n          </div>\r\n        )}\r\n\r\n        {/* Jobs Grid */}\r\n        {!loading && !error && (\r\n          <>\r\n            {filteredJobs.length === 0 && jobs.length > 0 ? (\r\n              <div style={{\r\n                textAlign: 'center',\r\n                padding: '4rem 2rem',\r\n                color: colors.white\r\n              }}>\r\n                <div style={{ fontSize: '4rem', marginBottom: '1rem' }}></div>\r\n                <h3 style={{ fontSize: '1.5rem', fontWeight: 600, marginBottom: '1rem', opacity: 0.9 }}>\r\n                  No jobs match your filters\r\n                </h3>\r\n                <p style={{ opacity: 0.8, marginBottom: '2rem' }}>\r\n                  Try adjusting your search criteria to see more opportunities\r\n                </p>\r\n                <button\r\n                  className=\"btn btn-secondary\"\r\n                  onClick={() => setFilter({ level: \"\", location: \"\" })}\r\n                >\r\n                  Clear Filters\r\n                </button>\r\n              </div>\r\n            ) : filteredJobs.length > 0 ? (\r\n              <div className=\"grid md-grid-cols-2 lg-grid-cols-3\" style={{ marginBottom: '4rem' }}>\r\n                {filteredJobs.map((job, index) => {\r\n                  const isPastDeadline = isDeadlinePassed(job.lastDate);\r\n                  \r\n                  return (\r\n                    <div \r\n                      key={job.id}\r\n                      className=\"animate-on-scroll job-card\"\r\n                      style={{\r\n                        background: 'rgba(255,255,255,0.95)',\r\n                        borderRadius: '1rem',\r\n                        border: '1px solid rgba(255,255,255,0.3)',\r\n                        backdropFilter: 'blur(20px)',\r\n                        animationDelay: `${0.8 + index * 0.1}s`,\r\n                        position: 'relative',\r\n                        overflow: 'hidden',\r\n                        display: 'flex',\r\n                        flexDirection: 'column'\r\n                      }}\r\n                    >\r\n                      {/* Status Line */}\r\n                      <div style={{\r\n                        position: 'absolute',\r\n                        top: 0,\r\n                        left: 0,\r\n                        right: 0,\r\n                        height: '4px',\r\n                        background: isPastDeadline ? colors.error : `linear-gradient(90deg, ${colors.primary} 0%, ${colors.accent} 100%)`\r\n                      }} />\r\n\r\n                      <div style={{ padding: '1.5rem', flex: 1, display: 'flex', flexDirection: 'column' }}>\r\n                        {/* Status Badge */}\r\n                        <div style={{ position: 'absolute', top: '1rem', right: '1rem' }}>\r\n                          <span\r\n                            className=\"chip\"\r\n                            style={{\r\n                              backgroundColor: isPastDeadline ? colors.error : colors.success,\r\n                              color: colors.white,\r\n                              fontSize: '0.7rem'\r\n                            }}\r\n                          >\r\n                            {isPastDeadline ? \"Closed\" : \"Open\"}\r\n                          </span>\r\n                        </div>\r\n\r\n                        <h3 style={{ \r\n                          fontSize: '1.25rem',\r\n                          fontWeight: 700, \r\n                          color: colors.gray900, \r\n                          marginBottom: '1rem',\r\n                          paddingRight: '4rem' // Make room for status badge\r\n                        }}>\r\n                          {job.title}\r\n                        </h3>\r\n\r\n                        {/* Job Meta */}\r\n                        <div style={{ \r\n                          display: 'flex', \r\n                          flexWrap: 'wrap', \r\n                          gap: '0.5rem', \r\n                          marginBottom: '1rem' \r\n                        }}>\r\n                          <span \r\n                            className=\"chip\"\r\n                            style={{ backgroundColor: colors.info, color: colors.white, fontSize: '0.7rem' }}\r\n                          >\r\n                            {job.level}\r\n                          </span>\r\n                          <span \r\n                            className=\"chip\"\r\n                            style={{ backgroundColor: colors.accent, color: colors.gray900, fontSize: '0.7rem' }}\r\n                          >\r\n                            {job.location}\r\n                          </span>\r\n                          {job.salary && (\r\n                            <span \r\n                              className=\"chip\"\r\n                              style={{ backgroundColor: colors.secondary, color: colors.gray900, fontSize: '0.7rem' }}\r\n                            >\r\n                              {job.salary}\r\n                            </span>\r\n                          )}\r\n                        </div>\r\n\r\n                        <p style={{ \r\n                          color: colors.gray600, \r\n                          marginBottom: '1.5rem', \r\n                          lineHeight: 1.6,\r\n                          flex: 1,\r\n                          fontSize: '0.875rem'\r\n                        }}>\r\n                          {job.description}\r\n                        </p>\r\n\r\n                        {/* Requirements Preview */}\r\n                        {job.requirements && Array.isArray(job.requirements) && job.requirements.length > 0 && (\r\n                          <div style={{ marginBottom: '1.5rem' }}>\r\n                            <div style={{ \r\n                              fontWeight: 600, \r\n                              color: colors.gray900, \r\n                              marginBottom: '0.5rem',\r\n                              fontSize: '0.75rem',\r\n                              textTransform: 'uppercase',\r\n                              letterSpacing: '0.05em'\r\n                            }}>\r\n                              Key Skills:\r\n                            </div>\r\n                            <div style={{ display: 'flex', flexWrap: 'wrap', gap: '0.25rem' }}>\r\n                              {job.requirements.slice(0, 3).map((req, i) => (\r\n                                <span \r\n                                  key={i}\r\n                                  style={{\r\n                                    padding: '0.25rem 0.5rem',\r\n                                    border: `1px solid ${colors.gray300}`,\r\n                                    borderRadius: '12px',\r\n                                    fontSize: '0.7rem',\r\n                                    color: colors.gray600\r\n                                  }}\r\n                                >\r\n                                  {req}\r\n                                </span>\r\n                              ))}\r\n                              {job.requirements.length > 3 && (\r\n                                <span \r\n                                  style={{\r\n                                    padding: '0.25rem 0.5rem',\r\n                                    border: `1px solid ${colors.gray300}`,\r\n                                    borderRadius: '12px',\r\n                                    fontSize: '0.7rem',\r\n                                    color: colors.gray600,\r\n                                    opacity: 0.7\r\n                                  }}\r\n                                >\r\n                                  +{job.requirements.length - 3} more\r\n                                </span>\r\n                              )}\r\n                            </div>\r\n                          </div>\r\n                        )}\r\n\r\n                        <div style={{\r\n                          fontWeight: 600,\r\n                          color: isPastDeadline ? colors.error : colors.success,\r\n                          marginBottom: '1rem',\r\n                          fontSize: '0.75rem'\r\n                        }}>\r\n                          Deadline: {formatDate(job.lastDate)}\r\n                        </div>\r\n\r\n                        <button\r\n                          className={`btn ${isPastDeadline ? 'btn-secondary' : 'btn-primary'}`}\r\n                          disabled={isPastDeadline}\r\n                          onClick={() => {\r\n                            setSelectedJob(job);\r\n                            setShowApplicationForm(true);\r\n                          }}\r\n                          style={{\r\n                            width: '100%',\r\n                            background: isPastDeadline \r\n                              ? colors.gray300 \r\n                              : `linear-gradient(135deg, ${colors.primary} 0%, ${colors.accent} 100%)`\r\n                          }}\r\n                        >\r\n                          {isPastDeadline ? \"Position Closed\" : \"Apply Now\"}\r\n                        </button>\r\n                      </div>\r\n                    </div>\r\n                  );\r\n                })}\r\n              </div>\r\n            ) : null}\r\n          </>\r\n        )}\r\n\r\n        {/* Application Modal */}\r\n        {showApplicationForm && (\r\n          <div className=\"modal-overlay\" onClick={closeModal}>\r\n            <div className=\"modal-content\" onClick={(e) => e.stopPropagation()}>\r\n              {/* Close Button */}\r\n              <button\r\n                onClick={closeModal}\r\n                style={{\r\n                  position: 'absolute',\r\n                  top: '1rem',\r\n                  right: '1rem',\r\n                  background: 'none',\r\n                  border: 'none',\r\n                  fontSize: '1.5rem',\r\n                  cursor: 'pointer',\r\n                  color: colors.gray600,\r\n                  width: '2rem',\r\n                  height: '2rem',\r\n                  display: 'flex',\r\n                  alignItems: 'center',\r\n                  justifyContent: 'center',\r\n                  borderRadius: '50%',\r\n                  transition: 'all 0.2s ease',\r\n                  zIndex: 1\r\n                }}\r\n              >\r\n                \r\n              </button>\r\n              \r\n              {selectedJob && (\r\n                <div style={{ padding: '2rem' }}>\r\n                  <h2 style={{\r\n                    fontSize: '1.5rem',\r\n                    fontWeight: 700,\r\n                    color: colors.primary,\r\n                    marginBottom: '0.5rem'\r\n                  }}>\r\n                    Apply for {selectedJob.title}\r\n                  </h2>\r\n                  <p style={{\r\n                    color: colors.gray600,\r\n                    marginBottom: '2rem'\r\n                  }}>\r\n                    {selectedJob.location}  {selectedJob.level}\r\n                  </p>\r\n\r\n                  {submitStatus.message && (\r\n                    <div className={`alert alert-${submitStatus.type}`}>\r\n                      {submitStatus.type === 'success' && (\r\n                        <div className=\"lottie-container\" style={{ width: 24, height: 24 }}>\r\n                          <Lottie \r\n                            animationData={successAnimation} \r\n                            loop={false}\r\n                            style={{ width: 24, height: 24 }}\r\n                          />\r\n                        </div>\r\n                      )}\r\n                      {submitStatus.type === 'info' && submitting && (\r\n                        <div className=\"lottie-container\" style={{ width: 24, height: 24 }}>\r\n                          <Lottie \r\n                            animationData={loadingAnimation} \r\n                            loop={true}\r\n                            style={{ width: 24, height: 24 }}\r\n                          />\r\n                        </div>\r\n                      )}\r\n                      <span>{submitStatus.message}</span>\r\n                    </div>\r\n                  )}\r\n\r\n                  <form onSubmit={handleSubmitApplication}>\r\n                    <div className=\"grid\" style={{ gap: '1rem' }}>\r\n                      <div>\r\n                        <label style={{\r\n                          display: 'block',\r\n                          fontWeight: 600,\r\n                          marginBottom: '0.5rem',\r\n                          fontSize: '0.875rem'\r\n                        }}>\r\n                          Full Name *\r\n                        </label>\r\n                        <input\r\n                          type=\"text\"\r\n                          name=\"name\"\r\n                          value={form.name}\r\n                          onChange={handleChange}\r\n                          required\r\n                          disabled={submitting}\r\n                          placeholder=\"Enter your full name\"\r\n                          className=\"form-input\"\r\n                        />\r\n                      </div>\r\n\r\n                      <div>\r\n                        <label style={{\r\n                          display: 'block',\r\n                          fontWeight: 600,\r\n                          marginBottom: '0.5rem',\r\n                          fontSize: '0.875rem'\r\n                        }}>\r\n                          Email Address *\r\n                        </label>\r\n                        <input\r\n                          type=\"email\"\r\n                          name=\"email\"\r\n                          value={form.email}\r\n                          onChange={handleChange}\r\n                          required\r\n                          disabled={submitting}\r\n                          placeholder=\"Enter your email address\"\r\n                          className=\"form-input\"\r\n                        />\r\n                      </div>\r\n\r\n                      <div>\r\n                        <label style={{\r\n                          display: 'block',\r\n                          fontWeight: 600,\r\n                          marginBottom: '0.5rem',\r\n                          fontSize: '0.875rem'\r\n                        }}>\r\n                          Phone Number\r\n                        </label>\r\n                        <input\r\n                          type=\"tel\"\r\n                          name=\"phone\"\r\n                          value={form.phone}\r\n                          onChange={handleChange}\r\n                          disabled={submitting}\r\n                          placeholder=\"Enter your phone number\"\r\n                          className=\"form-input\"\r\n                        />\r\n                      </div>\r\n\r\n                      <div>\r\n                        <label style={{\r\n                          display: 'block',\r\n                          fontWeight: 600,\r\n                          marginBottom: '0.5rem',\r\n                          fontSize: '0.875rem'\r\n                        }}>\r\n                          Cover Letter\r\n                        </label>\r\n                        <textarea\r\n                          name=\"coverLetter\"\r\n                          value={form.coverLetter}\r\n                          onChange={handleChange}\r\n                          disabled={submitting}\r\n                          placeholder=\"Tell us why you're perfect for this role...\"\r\n                          className=\"form-input form-textarea\"\r\n                          rows={4}\r\n                        />\r\n                      </div>\r\n\r\n                      <div>\r\n                        <label style={{\r\n                          display: 'block',\r\n                          fontWeight: 600,\r\n                          marginBottom: '0.5rem',\r\n                          fontSize: '0.875rem'\r\n                        }}>\r\n                          Resume *\r\n                        </label>\r\n                        <label \r\n                          className=\"btn btn-secondary\"\r\n                          style={{\r\n                            width: '100%',\r\n                            textAlign: 'center',\r\n                            borderStyle: 'dashed',\r\n                            cursor: submitting ? 'not-allowed' : 'pointer',\r\n                            opacity: submitting ? 0.6 : 1,\r\n                            display: 'flex',\r\n                            alignItems: 'center',\r\n                            justifyContent: 'center',\r\n                            gap: '0.5rem'\r\n                          }}\r\n                        >\r\n                          <span></span>\r\n                          {form.resume ? `Selected: ${form.resume.name}` : 'Upload Resume (PDF, DOC, DOCX)'}\r\n                          <input\r\n                            type=\"file\"\r\n                            name=\"resume\"\r\n                            style={{ display: 'none' }}\r\n                            accept=\".pdf,.doc,.docx\"\r\n                            onChange={handleChange}\r\n                            required\r\n                            disabled={submitting}\r\n                          />\r\n                        </label>\r\n                        <div style={{ \r\n                          fontSize: '0.75rem', \r\n                          color: colors.gray500, \r\n                          marginTop: '0.5rem' \r\n                        }}>\r\n                          Maximum file size: 5MB\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n\r\n                    <div style={{ \r\n                      display: \"flex\", \r\n                      justifyContent: \"flex-end\", \r\n                      marginTop: '2rem', \r\n                      gap: '1rem',\r\n                      flexWrap: 'wrap'\r\n                    }}>\r\n                      <button\r\n                        type=\"button\"\r\n                        onClick={closeModal}\r\n                        disabled={submitting}\r\n                        className=\"btn btn-secondary\"\r\n                      >\r\n                        Cancel\r\n                      </button>\r\n                      <button\r\n                        type=\"submit\"\r\n                        disabled={submitting}\r\n                        className=\"btn btn-primary\"\r\n                        style={{\r\n                          display: 'flex',\r\n                          alignItems: 'center',\r\n                          gap: '0.5rem'\r\n                        }}\r\n                      >\r\n                        {submitting && (\r\n                          <div className=\"lottie-container\" style={{ width: 20, height: 20 }}>\r\n                            <Lottie \r\n                              animationData={loadingAnimation} \r\n                              loop={true}\r\n                              style={{ width: 20, height: 20 }}\r\n                            />\r\n                          </div>\r\n                        )}\r\n                        {submitting ? \"Submitting...\" : \"Submit Application\"}\r\n                      </button>\r\n                    </div>\r\n                  </form>\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      <Footer />\r\n    </div>\r\n  );\r\n};\r\n\r\n\r\n\r\nexport default PublicJobDisplay;\r\n  ","import React, { useState, useRef } from 'react';\r\nimport { Download, Upload, Users, User, FileText, X, Palette, Award, CreditCard, FileCheck, Plus, Minus, Edit, Star, Globe, Leaf } from 'lucide-react';\r\n\r\n// Premium Business Card Template with glassmorphism\r\nconst PremiumBusinessCardTemplate = ({ \r\n  recipientName = \"John Doe\", \r\n  size = \"standard\",\r\n  id = \"item-1\",\r\n  customData = {}\r\n}) => {\r\n  const sizeConfig = {\r\n    compact: { width: 320, height: 180, fontSize: { name: '1rem', title: '0.7rem' } },\r\n    standard: { width: 400, height: 225, fontSize: { name: '1.3rem', title: '0.8rem' } },\r\n    premium: { width: 480, height: 270, fontSize: { name: '1.6rem', title: '0.9rem' } }\r\n  };\r\n\r\n  const config = sizeConfig[size];\r\n  const position = customData.position || 'Team Member';\r\n  const email = customData.email || 'contact@acef.org';\r\n  const phone = customData.phone || '+254 700 000 000';\r\n  const department = customData.department || 'Operations';\r\n\r\n  return (\r\n    <div id={id} style={{\r\n      width: config.width,\r\n      height: config.height,\r\n      background: 'linear-gradient(135deg, rgba(10, 69, 28, 0.95) 0%, rgba(22, 163, 74, 0.9) 50%, rgba(156, 207, 159, 0.85) 100%)',\r\n      backdropFilter: 'blur(20px)',\r\n      borderRadius: '20px',\r\n      padding: '24px',\r\n      color: 'white',\r\n      fontFamily: '\"Inter\", sans-serif',\r\n      boxShadow: '0 25px 50px rgba(10, 69, 28, 0.3), inset 0 1px 0 rgba(255,255,255,0.2)',\r\n      position: 'relative',\r\n      overflow: 'hidden',\r\n      border: '1px solid rgba(255,255,255,0.1)'\r\n    }}>\r\n      {/* Glassmorphism overlay */}\r\n      <div style={{\r\n        position: 'absolute',\r\n        top: 0,\r\n        left: 0,\r\n        right: 0,\r\n        bottom: 0,\r\n        background: 'linear-gradient(45deg, rgba(255,255,255,0.1) 0%, rgba(255,255,255,0.05) 50%, rgba(255,255,255,0.1) 100%)',\r\n        zIndex: 1\r\n      }}></div>\r\n\r\n      {/* Logo */}\r\n      <div style={{\r\n        position: 'absolute',\r\n        top: '20px',\r\n        left: '20px',\r\n        width: '50px',\r\n        height: '50px',\r\n        background: 'rgba(255,255,255,0.15)',\r\n        borderRadius: '50%',\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n        fontSize: '24px',\r\n        zIndex: 3,\r\n        backdropFilter: 'blur(10px)',\r\n        border: '1px solid rgba(255,255,255,0.2)'\r\n      }}>\r\n        <Globe />\r\n      </div>\r\n\r\n      {/* ACEF Text */}\r\n      <div style={{\r\n        position: 'absolute',\r\n        top: '24px',\r\n        right: '24px',\r\n        fontSize: '1.2rem',\r\n        fontWeight: '700',\r\n        zIndex: 3,\r\n        textShadow: '0 2px 4px rgba(0,0,0,0.3)',\r\n        letterSpacing: '1px'\r\n      }}>\r\n        ACEF\r\n      </div>\r\n\r\n      {/* Content */}\r\n      <div style={{ \r\n        position: 'relative', \r\n        zIndex: 2, \r\n        height: '100%',\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        justifyContent: 'center',\r\n        paddingTop: '40px'\r\n      }}>\r\n        <div style={{ \r\n          fontSize: config.fontSize.name, \r\n          fontWeight: '800', \r\n          marginBottom: '8px',\r\n          textShadow: '0 2px 4px rgba(0,0,0,0.3)'\r\n        }}>\r\n          {recipientName}\r\n        </div>\r\n        \r\n        <div style={{ \r\n          fontSize: config.fontSize.title, \r\n          opacity: 0.9,\r\n          marginBottom: '16px',\r\n          fontWeight: '500'\r\n        }}>\r\n          {position}\r\n        </div>\r\n\r\n        <div style={{ \r\n          fontSize: '0.7rem', \r\n          opacity: 0.8,\r\n          lineHeight: '1.4',\r\n          fontWeight: '400'\r\n        }}>\r\n          {department}  {email}<br />\r\n          {phone}\r\n        </div>\r\n\r\n        {/* Bottom accent */}\r\n        <div style={{\r\n          position: 'absolute',\r\n          bottom: '16px',\r\n          left: '24px',\r\n          right: '24px',\r\n          height: '2px',\r\n          background: 'linear-gradient(90deg, rgba(255,255,255,0.6), rgba(255,255,255,0.1))',\r\n          borderRadius: '1px'\r\n        }}></div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\n// Premium Certificate Template - Design 1: Elegant\r\nconst PremiumCertificateElegant = ({ \r\n  recipientName = \"Certificate Recipient\", \r\n  size = \"standard\",\r\n  id = \"item-1\",\r\n  customData = {}\r\n}) => {\r\n  const sizeConfig = {\r\n    compact: { width: 420, height: 300, fontSize: { name: '1.3rem', title: '0.85rem' } },\r\n    standard: { width: 560, height: 400, fontSize: { name: '1.7rem', title: '1rem' } },\r\n    premium: { width: 700, height: 500, fontSize: { name: '2rem', title: '1.2rem' } }\r\n  };\r\n\r\n  const config = sizeConfig[size];\r\n  const program = customData.program || 'Climate Leadership Program';\r\n  const date = customData.date || new Date().toLocaleDateString();\r\n  const instructor = customData.instructor || 'Director';\r\n  \r\n  return (\r\n    <div id={id} style={{\r\n      width: config.width,\r\n      height: config.height,\r\n      background: 'linear-gradient(135deg, rgba(255,255,255,0.95) 0%, rgba(248,250,252,0.9) 100%)',\r\n      backdropFilter: 'blur(20px)',\r\n      borderRadius: '24px',\r\n      padding: '40px',\r\n      fontFamily: '\"Inter\", sans-serif',\r\n      boxShadow: '0 30px 60px rgba(10, 69, 28, 0.15), inset 0 1px 0 rgba(255,255,255,0.5)',\r\n      color: '#0a451c',\r\n      position: 'relative',\r\n      overflow: 'hidden',\r\n      border: '2px solid rgba(10, 69, 28, 0.1)'\r\n    }}>\r\n      {/* Decorative elements */}\r\n      <div style={{\r\n        position: 'absolute',\r\n        top: '-50%',\r\n        left: '-50%',\r\n        width: '200%',\r\n        height: '200%',\r\n        background: 'radial-gradient(circle, rgba(10, 69, 28, 0.03) 0%, transparent 70%)',\r\n        zIndex: 0\r\n      }} />\r\n\r\n      {/* Header */}\r\n      <div style={{\r\n        display: 'flex',\r\n        justifyContent: 'space-between',\r\n        alignItems: 'center',\r\n        marginBottom: '30px',\r\n        zIndex: 2,\r\n        position: 'relative'\r\n      }}>\r\n        <div style={{\r\n          width: '60px',\r\n          height: '60px',\r\n          background: 'linear-gradient(135deg, #0a451c, #16a34a)',\r\n          borderRadius: '50%',\r\n          display: 'flex',\r\n          alignItems: 'center',\r\n          justifyContent: 'center',\r\n          color: 'white',\r\n          fontSize: '24px',\r\n          boxShadow: '0 8px 20px rgba(10, 69, 28, 0.3)'\r\n        }}>\r\n          <Globe />\r\n        </div>\r\n        \r\n        <div style={{\r\n          textAlign: 'right',\r\n          fontSize: '0.9rem',\r\n          fontWeight: '600',\r\n          color: '#16a34a'\r\n        }}>\r\n          ACEF\r\n        </div>\r\n      </div>\r\n\r\n      {/* Certificate title */}\r\n      <div style={{\r\n        textAlign: 'center',\r\n        marginBottom: '40px',\r\n        zIndex: 2,\r\n        position: 'relative'\r\n      }}>\r\n        <div style={{\r\n          background: 'linear-gradient(135deg, #0a451c, #16a34a)',\r\n          WebkitBackgroundClip: 'text',\r\n          WebkitTextFillColor: 'transparent',\r\n          fontSize: '1.5rem',\r\n          fontWeight: '800',\r\n          letterSpacing: '3px',\r\n          textTransform: 'uppercase',\r\n          marginBottom: '10px'\r\n        }}>\r\n          Certificate of Excellence\r\n        </div>\r\n        \r\n        <div style={{\r\n          width: '100px',\r\n          height: '2px',\r\n          background: 'linear-gradient(90deg, #0a451c, #facf3c)',\r\n          margin: '0 auto'\r\n        }}></div>\r\n      </div>\r\n\r\n      {/* Main content */}\r\n      <div style={{\r\n        textAlign: 'center',\r\n        zIndex: 2,\r\n        position: 'relative',\r\n        marginBottom: '40px'\r\n      }}>\r\n        <div style={{ \r\n          fontSize: config.fontSize.name, \r\n          fontWeight: '700', \r\n          marginBottom: '20px',\r\n          color: '#0a451c'\r\n        }}>\r\n          {recipientName}\r\n        </div>\r\n        \r\n        <div style={{ \r\n          fontSize: config.fontSize.title, \r\n          lineHeight: 1.6,\r\n          color: '#374151',\r\n          maxWidth: '80%',\r\n          margin: '0 auto'\r\n        }}>\r\n          has successfully completed the<br />\r\n          <strong style={{ color: '#0a451c' }}>{program}</strong>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Footer */}\r\n      <div style={{\r\n        position: 'absolute',\r\n        bottom: '30px',\r\n        left: '40px',\r\n        right: '40px',\r\n        display: 'flex',\r\n        justifyContent: 'space-between',\r\n        alignItems: 'center',\r\n        zIndex: 2\r\n      }}>\r\n        <div style={{ textAlign: 'left' }}>\r\n          <div style={{\r\n            width: '120px',\r\n            height: '1px',\r\n            background: '#0a451c',\r\n            marginBottom: '8px'\r\n          }} />\r\n          <div style={{ fontSize: '0.8rem', fontWeight: '600', color: '#0a451c' }}>{instructor}</div>\r\n        </div>\r\n        \r\n        <div style={{\r\n          fontSize: '0.8rem', \r\n          background: 'rgba(10, 69, 28, 0.1)', \r\n          padding: '8px 16px', \r\n          borderRadius: '20px',\r\n          fontWeight: '600',\r\n          color: '#0a451c',\r\n          border: '1px solid rgba(10, 69, 28, 0.2)'\r\n        }}>\r\n          {date}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\n// Premium Certificate Template - Design 2: Modern\r\nconst PremiumCertificateModern = ({ \r\n  recipientName = \"Certificate Recipient\", \r\n  size = \"standard\",\r\n  id = \"item-1\",\r\n  customData = {}\r\n}) => {\r\n  const sizeConfig = {\r\n    compact: { width: 420, height: 300, fontSize: { name: '1.3rem', title: '0.85rem' } },\r\n    standard: { width: 560, height: 400, fontSize: { name: '1.7rem', title: '1rem' } },\r\n    premium: { width: 700, height: 500, fontSize: { name: '2rem', title: '1.2rem' } }\r\n  };\r\n\r\n  const config = sizeConfig[size];\r\n  const program = customData.program || 'Climate Leadership Program';\r\n  const date = customData.date || new Date().toLocaleDateString();\r\n  const instructor = customData.instructor || 'Director';\r\n  \r\n  return (\r\n    <div id={id} style={{\r\n      width: config.width,\r\n      height: config.height,\r\n      background: 'linear-gradient(135deg, #0a451c 0%, #16a34a 50%, #22c55e 100%)',\r\n      borderRadius: '28px',\r\n      padding: '32px',\r\n      fontFamily: '\"Inter\", sans-serif',\r\n      boxShadow: '0 35px 70px rgba(0,0,0,0.25), inset 0 1px 0 rgba(255,255,255,0.3)',\r\n      color: '#fff',\r\n      position: 'relative',\r\n      overflow: 'hidden'\r\n    }}>\r\n      {/* Glass overlay */}\r\n      <div style={{\r\n        position: 'absolute',\r\n        top: 0,\r\n        left: 0,\r\n        right: 0,\r\n        bottom: 0,\r\n        background: 'rgba(255,255,255,0.1)',\r\n        backdropFilter: 'blur(10px)',\r\n        zIndex: 1,\r\n        borderRadius: '28px'\r\n      }}></div>\r\n\r\n      {/* Geometric patterns */}\r\n      <div style={{\r\n        position: 'absolute',\r\n        top: '20px',\r\n        right: '20px',\r\n        width: '100px',\r\n        height: '100px',\r\n        background: 'linear-gradient(45deg, rgba(255,255,255,0.1), rgba(255,255,255,0.05))',\r\n        borderRadius: '50%',\r\n        zIndex: 1\r\n      }}></div>\r\n\r\n      <div style={{\r\n        position: 'absolute',\r\n        bottom: '20px',\r\n        left: '20px',\r\n        width: '80px',\r\n        height: '80px',\r\n        background: 'linear-gradient(45deg, rgba(250, 207, 60, 0.3), rgba(250, 207, 60, 0.1))',\r\n        borderRadius: '20px',\r\n        transform: 'rotate(45deg)',\r\n        zIndex: 1\r\n      }}></div>\r\n\r\n      {/* Content */}\r\n      <div style={{ position: 'relative', zIndex: 2, height: '100%', display: 'flex', flexDirection: 'column' }}>\r\n        {/* Header */}\r\n        <div style={{\r\n          display: 'flex',\r\n          alignItems: 'center',\r\n          marginBottom: '30px'\r\n        }}>\r\n          <div style={{\r\n            width: '50px',\r\n            height: '50px',\r\n            background: 'rgba(255,255,255,0.2)',\r\n            borderRadius: '15px',\r\n            display: 'flex',\r\n            alignItems: 'center',\r\n            justifyContent: 'center',\r\n            marginRight: '15px',\r\n            backdropFilter: 'blur(10px)',\r\n            border: '1px solid rgba(255,255,255,0.3)'\r\n          }}>\r\n            <Award size={24} />\r\n          </div>\r\n          <div>\r\n            <div style={{ fontSize: '1.2rem', fontWeight: '700', letterSpacing: '2px' }}>ACEF</div>\r\n            <div style={{ fontSize: '0.7rem', opacity: 0.8 }}>Excellence in Climate Action</div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Main content */}\r\n        <div style={{ flex: 1, display: 'flex', flexDirection: 'column', justifyContent: 'center', textAlign: 'center' }}>\r\n          <div style={{\r\n            fontSize: '1.1rem',\r\n            fontWeight: '600',\r\n            letterSpacing: '4px',\r\n            marginBottom: '20px',\r\n            textTransform: 'uppercase',\r\n            opacity: 0.9\r\n          }}>\r\n            Certificate of Achievement\r\n          </div>\r\n\r\n          <div style={{ \r\n            fontSize: config.fontSize.name, \r\n            fontWeight: '800', \r\n            marginBottom: '15px',\r\n            textShadow: '0 2px 4px rgba(0,0,0,0.3)'\r\n          }}>\r\n            {recipientName}\r\n          </div>\r\n          \r\n          <div style={{ \r\n            fontSize: config.fontSize.title, \r\n            lineHeight: 1.5,\r\n            opacity: 0.95,\r\n            maxWidth: '85%',\r\n            margin: '0 auto'\r\n          }}>\r\n            has demonstrated exceptional commitment in<br />\r\n            <strong>{program}</strong>\r\n          </div>\r\n        </div>\r\n\r\n      \r\n\r\n\r\n\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\n// Premium Certificate Template - Design 3: Luxury\r\nconst PremiumCertificateLuxury = ({ \r\n  recipientName = \"Certificate Recipient\", \r\n  size = \"standard\",\r\n  id = \"item-1\",\r\n  customData = {}\r\n}) => {\r\n  const sizeConfig = {\r\n    compact: { width: 420, height: 300, fontSize: { name: '1.3rem', title: '0.85rem' } },\r\n    standard: { width: 560, height: 400, fontSize: { name: '1.7rem', title: '1rem' } },\r\n    premium: { width: 700, height: 500, fontSize: { name: '2rem', title: '1.2rem' } }\r\n  };\r\n\r\n  const config = sizeConfig[size];\r\n  const program = customData.program || 'Climate Leadership Program';\r\n  const date = customData.date || new Date().toLocaleDateString();\r\n  const instructor = customData.instructor || 'Director';\r\n  \r\n  return (\r\n    <div id={id} style={{\r\n      width: config.width,\r\n      height: config.height,\r\n      background: 'linear-gradient(135deg, #1a1a1a 0%, #2a2a2a 100%)',\r\n      borderRadius: '32px',\r\n      padding: '40px',\r\n      fontFamily: '\"Inter\", sans-serif',\r\n      boxShadow: '0 40px 80px rgba(0,0,0,0.4), 0 0 0 1px rgba(250, 207, 60, 0.3)',\r\n      color: '#ffffff',\r\n      position: 'relative',\r\n      overflow: 'hidden'\r\n    }}>\r\n      {/* Luxury gradient overlay */}\r\n      <div style={{\r\n        position: 'absolute',\r\n        top: 0,\r\n        left: 0,\r\n        right: 0,\r\n        bottom: 0,\r\n        background: 'linear-gradient(135deg, rgba(250, 207, 60, 0.1) 0%, rgba(10, 69, 28, 0.1) 50%, rgba(250, 207, 60, 0.1) 100%)',\r\n        zIndex: 1\r\n      }}></div>\r\n\r\n      {/* Gold accents */}\r\n      <div style={{\r\n        position: 'absolute',\r\n        top: '30px',\r\n        left: '30px',\r\n        right: '30px',\r\n        height: '2px',\r\n        background: 'linear-gradient(90deg, transparent, #facf3c, transparent)',\r\n        zIndex: 2\r\n      }}></div>\r\n\r\n      <div style={{\r\n        position: 'absolute',\r\n        bottom: '30px',\r\n        left: '30px',\r\n        right: '30px',\r\n        height: '2px',\r\n        background: 'linear-gradient(90deg, transparent, #facf3c, transparent)',\r\n        zIndex: 2\r\n      }}></div>\r\n\r\n      {/* Content */}\r\n      <div style={{ position: 'relative', zIndex: 3, height: '100%', display: 'flex', flexDirection: 'column' }}>\r\n        {/* Logo section */}\r\n        <div style={{\r\n          display: 'flex',\r\n          justifyContent: 'center',\r\n          alignItems: 'center',\r\n          marginBottom: '30px',\r\n          gap: '15px'\r\n        }}>\r\n          <div style={{\r\n            width: '60px',\r\n            height: '60px',\r\n            background: 'linear-gradient(135deg, #facf3c, #f59e0b)',\r\n            borderRadius: '50%',\r\n            display: 'flex',\r\n            alignItems: 'center',\r\n            justifyContent: 'center',\r\n            color: '#000',\r\n            fontSize: '28px',\r\n            boxShadow: '0 10px 25px rgba(250, 207, 60, 0.3)'\r\n          }}>\r\n            <Star />\r\n          </div>\r\n          <div style={{\r\n            fontSize: '1.8rem',\r\n            fontWeight: '800',\r\n            background: 'linear-gradient(135deg, #facf3c, #ffffff)',\r\n            WebkitBackgroundClip: 'text',\r\n            WebkitTextFillColor: 'transparent',\r\n            letterSpacing: '3px'\r\n          }}>\r\n            ACEF\r\n          </div>\r\n        </div>\r\n\r\n        {/* Certificate title */}\r\n        <div style={{\r\n          textAlign: 'center',\r\n          marginBottom: '30px'\r\n        }}>\r\n          <div style={{\r\n            fontSize: '1.2rem',\r\n            fontWeight: '300',\r\n            letterSpacing: '6px',\r\n            textTransform: 'uppercase',\r\n            color: '#facf3c',\r\n            marginBottom: '10px'\r\n          }}>\r\n            Certificate of\r\n          </div>\r\n          <div style={{\r\n            fontSize: '1.8rem',\r\n            fontWeight: '800',\r\n            letterSpacing: '4px',\r\n            textTransform: 'uppercase',\r\n            background: 'linear-gradient(135deg, #ffffff, #facf3c)',\r\n            WebkitBackgroundClip: 'text',\r\n            WebkitTextFillColor: 'transparent'\r\n          }}>\r\n            Excellence\r\n          </div>\r\n        </div>\r\n\r\n        {/* Main content */}\r\n        <div style={{\r\n          textAlign: 'center',\r\n          flex: 1,\r\n          display: 'flex',\r\n          flexDirection: 'column',\r\n          justifyContent: 'center'\r\n        }}>\r\n          <div style={{\r\n            fontSize: '0.9rem',\r\n            opacity: 0.8,\r\n            marginBottom: '15px',\r\n            fontWeight: '300'\r\n          }}>\r\n            This certifies that\r\n          </div>\r\n\r\n          <div style={{ \r\n            fontSize: config.fontSize.name, \r\n            fontWeight: '700', \r\n            marginBottom: '20px',\r\n            background: 'linear-gradient(135deg, #ffffff, #facf3c)',\r\n            WebkitBackgroundClip: 'text',\r\n            WebkitTextFillColor: 'transparent'\r\n          }}>\r\n            {recipientName}\r\n          </div>\r\n          \r\n          <div style={{ \r\n            fontSize: config.fontSize.title, \r\n            lineHeight: 1.6,\r\n            opacity: 0.9,\r\n            maxWidth: '80%',\r\n            margin: '0 auto',\r\n            fontWeight: '400'\r\n          }}>\r\n            has achieved outstanding performance in<br />\r\n            <strong style={{ color: '#facf3c' }}>{program}</strong>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Footer */}\r\n        <div style={{\r\n          display: 'flex',\r\n          justifyContent: 'space-between',\r\n          alignItems: 'center',\r\n          marginTop: '20px'\r\n        }}>\r\n          <div>\r\n            <div style={{\r\n              width: '120px',\r\n              height: '1px',\r\n              background: 'linear-gradient(90deg, #facf3c, transparent)',\r\n              marginBottom: '8px'\r\n            }}></div>\r\n            <div style={{ fontSize: '0.8rem', fontWeight: '600', color: '#facf3c' }}>{instructor}</div>\r\n            <div style={{ fontSize: '0.7rem', opacity: 0.7 }}>Program Director</div>\r\n          </div>\r\n          \r\n          <div style={{\r\n            textAlign: 'right'\r\n          }}>\r\n            <div style={{ fontSize: '0.8rem', color: '#facf3c', fontWeight: '600' }}>{date}</div>\r\n            <div style={{ fontSize: '0.7rem', opacity: 0.7 }}>Date of Completion</div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\n// Premium Philanthropy Badge Template\r\nconst PremiumPhilanthropyBadge = ({ \r\n  recipientName = \"Generous Philanthropist\", \r\n  size = \"standard\",\r\n  id = \"item-1\",\r\n  customData = {}\r\n}) => {\r\n  const sizeConfig = {\r\n    compact: { diameter: 280, fontSize: { name: '1rem', title: '0.7rem' } },\r\n    standard: { diameter: 350, fontSize: { name: '1.3rem', title: '0.8rem' } },\r\n    premium: { diameter: 420, fontSize: { name: '1.6rem', title: '0.9rem' } }\r\n  };\r\n\r\n  const config = sizeConfig[size];\r\n  const displayName = customData.isAnonymous === 'true' ? \"ACEF Friend\" : recipientName;\r\n  const impact = customData.impact || 'Climate Action';\r\n  const year = customData.year || new Date().getFullYear();\r\n  const level = customData.level || 'Gold';\r\n\r\n  const levelColors = {\r\n    'Bronze': { primary: '#cd7f32', secondary: '#e6a85c' },\r\n    'Silver': { primary: '#c0c0c0', secondary: '#e8e8e8' },\r\n    'Gold': { primary: '#ffd700', secondary: '#fff76b' },\r\n    'Platinum': { primary: '#e5e4e2', secondary: '#ffffff' }\r\n  };\r\n\r\n  const colors = levelColors[level] || levelColors['Gold'];\r\n\r\n  return (\r\n    <div id={id} style={{\r\n      width: config.diameter,\r\n      height: config.diameter,\r\n      borderRadius: '50%',\r\n      background: `linear-gradient(135deg, #0a451c 0%, #16a34a 50%, rgba(255,255,255,0.1) 100%)`,\r\n      backdropFilter: 'blur(20px)',\r\n      display: 'flex',\r\n      flexDirection: 'column',\r\n      alignItems: 'center',\r\n      justifyContent: 'center',\r\n      padding: '30px',\r\n      color: 'white',\r\n      fontFamily: '\"Inter\", sans-serif',\r\n      boxShadow: `0 25px 50px rgba(10, 69, 28, 0.3), 0 0 0 3px ${colors.primary}, inset 0 1px 0 rgba(255,255,255,0.2)`,\r\n      position: 'relative',\r\n      overflow: 'hidden'\r\n    }}>\r\n      {/* Glass overlay */}\r\n      <div style={{\r\n        position: 'absolute',\r\n        top: 0,\r\n        left: 0,\r\n        right: 0,\r\n        bottom: 0,\r\n        background: 'radial-gradient(circle, rgba(255,255,255,0.1) 0%, rgba(255,255,255,0.05) 70%)',\r\n        borderRadius: '50%',\r\n        zIndex: 1\r\n      }}></div>\r\n      \r\n      {/* Decorative rings */}\r\n      <div style={{\r\n        position: 'absolute',\r\n        top: '20px',\r\n        left: '20px',\r\n        right: '20px',\r\n        bottom: '20px',\r\n        border: `2px solid ${colors.primary}`,\r\n        borderRadius: '50%',\r\n        opacity: 0.6,\r\n        zIndex: 1\r\n      }}></div>\r\n      \r\n      <div style={{\r\n        position: 'absolute',\r\n        top: '35px',\r\n        left: '35px',\r\n        right: '35px',\r\n        bottom: '35px',\r\n        border: `1px solid rgba(255,255,255,0.3)`,\r\n        borderRadius: '50%',\r\n        zIndex: 1\r\n      }}></div>\r\n\r\n      {/* Content */}\r\n      <div style={{ \r\n        position: 'relative', \r\n        zIndex: 2, \r\n        textAlign: 'center',\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        alignItems: 'center',\r\n        gap: '12px'\r\n      }}>\r\n        {/* Icon */}\r\n        <div style={{\r\n          width: '60px',\r\n          height: '60px',\r\n          background: `linear-gradient(135deg, ${colors.primary}, ${colors.secondary})`,\r\n          borderRadius: '50%',\r\n          display: 'flex',\r\n          alignItems: 'center',\r\n          justifyContent: 'center',\r\n          fontSize: '28px',\r\n          color: '#000',\r\n          boxShadow: `0 8px 20px rgba(0,0,0,0.2)`\r\n        }}>\r\n          <Leaf />\r\n        </div>\r\n\r\n        {/* Level badge */}\r\n        <div style={{\r\n          background: `linear-gradient(135deg, ${colors.primary}, ${colors.secondary})`,\r\n          color: '#000',\r\n          padding: '6px 16px',\r\n          borderRadius: '20px',\r\n          fontSize: '0.7rem',\r\n          fontWeight: '700',\r\n          textTransform: 'uppercase',\r\n          letterSpacing: '1px',\r\n          boxShadow: '0 4px 12px rgba(0,0,0,0.2)'\r\n        }}>\r\n          {level} Philanthropist\r\n        </div>\r\n\r\n        {/* Name */}\r\n        <div style={{ \r\n          fontSize: config.fontSize.name, \r\n          fontWeight: '800', \r\n          textAlign: 'center',\r\n          textShadow: '0 2px 4px rgba(0,0,0,0.3)',\r\n          lineHeight: 1.2\r\n        }}>\r\n          {displayName}\r\n        </div>\r\n\r\n        {/* Impact */}\r\n        <div style={{ \r\n          fontSize: '0.85rem', \r\n          textAlign: 'center',\r\n          opacity: 0.9,\r\n          fontWeight: '500'\r\n        }}>\r\n          Supporting {impact}\r\n        </div>\r\n\r\n        {/* Appreciation text */}\r\n        <div style={{ \r\n          fontSize: config.fontSize.title, \r\n          textAlign: 'center',\r\n          opacity: 0.9,\r\n          fontWeight: '400',\r\n          lineHeight: 1.3\r\n        }}>\r\n          Thank you for making<br />a difference\r\n        </div>\r\n\r\n        {/* Year */}\r\n        <div style={{ \r\n          fontSize: '0.8rem',\r\n          background: 'rgba(255,255,255,0.15)',\r\n          padding: '6px 14px',\r\n          borderRadius: '15px',\r\n          fontWeight: '600',\r\n          backdropFilter: 'blur(10px)',\r\n          border: '1px solid rgba(255,255,255,0.2)'\r\n        }}>\r\n          {year}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\n// Field configuration for different template types\r\nconst FIELD_CONFIGURATIONS = {\r\n  businessCard: {\r\n    name: \"Business Cards\",\r\n    template: PremiumBusinessCardTemplate,\r\n    fields: [\r\n      { key: 'recipientName', label: 'Full Name', type: 'text', required: true, placeholder: 'Enter full name' },\r\n      { key: 'position', label: 'Position/Title', type: 'text', placeholder: 'e.g., Program Manager' },\r\n      { key: 'department', label: 'Department', type: 'text', placeholder: 'e.g., Operations, Finance' },\r\n      { key: 'email', label: 'Email Address', type: 'email', placeholder: 'email@acef.org' },\r\n      { key: 'phone', label: 'Phone Number', type: 'text', placeholder: '+254 700 000 000' }\r\n    ]\r\n  },\r\n  certificateElegant: {\r\n    name: \"Certificates - Elegant\",\r\n    template: PremiumCertificateElegant,\r\n    fields: [\r\n      { key: 'recipientName', label: 'Recipient Name', type: 'text', required: true, placeholder: 'Enter recipient name' },\r\n      { key: 'program', label: 'Program/Course Name', type: 'text', placeholder: 'e.g., Climate Leadership Program' },\r\n      { key: 'instructor', label: 'Instructor/Signatory', type: 'text', placeholder: 'e.g., Director, Prof. Smith' },\r\n      { key: 'date', label: 'Completion Date', type: 'date' }\r\n    ]\r\n  },\r\n  certificateModern: {\r\n    name: \"Certificates - Modern\",\r\n    template: PremiumCertificateModern,\r\n    fields: [\r\n      { key: 'recipientName', label: 'Recipient Name', type: 'text', required: true, placeholder: 'Enter recipient name' },\r\n      { key: 'program', label: 'Program/Course Name', type: 'text', placeholder: 'e.g., Climate Leadership Program' },\r\n      { key: 'instructor', label: 'Instructor/Signatory', type: 'text', placeholder: 'e.g., Director, Prof. Smith' },\r\n      { key: 'date', label: 'Completion Date', type: 'date' }\r\n    ]\r\n  },\r\n  certificateLuxury: {\r\n    name: \"Certificates - Luxury\",\r\n    template: PremiumCertificateLuxury,\r\n    fields: [\r\n      { key: 'recipientName', label: 'Recipient Name', type: 'text', required: true, placeholder: 'Enter recipient name' },\r\n      { key: 'program', label: 'Program/Course Name', type: 'text', placeholder: 'e.g., Climate Leadership Program' },\r\n      { key: 'instructor', label: 'Instructor/Signatory', type: 'text', placeholder: 'e.g., Director, Prof. Smith' },\r\n      { key: 'date', label: 'Completion Date', type: 'date' }\r\n    ]\r\n  },\r\n  philanthropyBadge: {\r\n    name: \"Philanthropy Badges\",\r\n    template: PremiumPhilanthropyBadge,\r\n    fields: [\r\n      { key: 'recipientName', label: 'Philanthropist Name', type: 'text', required: true, placeholder: 'Enter philanthropist name' },\r\n      { key: 'impact', label: 'Impact Area', type: 'select', options: ['Climate Action', 'Education', 'Healthcare', 'Community Development', 'Environmental Protection'] },\r\n      { key: 'level', label: 'Recognition Level', type: 'select', options: ['Bronze', 'Silver', 'Gold', 'Platinum'] },\r\n      { key: 'year', label: 'Year', type: 'number', placeholder: new Date().getFullYear().toString() },\r\n      { key: 'isAnonymous', label: 'Anonymous Recognition', type: 'checkbox' }\r\n    ]\r\n  }\r\n};\r\n\r\nconst BadgeGenerator = () => {\r\n  const [selectedType, setSelectedType] = useState('businessCard');\r\n  const [recipients, setRecipients] = useState([\r\n    { \r\n      recipientName: \"Dr. Amina Kone\", \r\n      size: \"premium\",\r\n      customData: { \r\n        position: \"Climate Program Manager\",\r\n        department: \"Operations\",\r\n        email: \"a.kone@acef.org\",\r\n        phone: \"+254 700 123 456\"\r\n      }\r\n    }\r\n  ]);\r\n  const [csvFile, setCsvFile] = useState(null);\r\n  const [isProcessing, setIsProcessing] = useState(false);\r\n  const fileInputRef = useRef(null);\r\n\r\n  // Current configuration\r\n  const currentConfig = FIELD_CONFIGURATIONS[selectedType];\r\n  const TemplateComponent = currentConfig?.template;\r\n\r\n  // Load html2canvas\r\n  React.useEffect(() => {\r\n    if (!window.html2canvas) {\r\n      const script = document.createElement('script');\r\n      script.src = 'https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js';\r\n      script.async = true;\r\n      document.head.appendChild(script);\r\n    }\r\n  }, []);\r\n\r\n  const downloadSingle = async (itemId, name) => {\r\n    try {\r\n      if (!window.html2canvas) {\r\n        alert('Please wait for the page to fully load before downloading.');\r\n        return;\r\n      }\r\n\r\n      const element = document.getElementById(itemId);\r\n      if (!element) return;\r\n\r\n      const canvas = await window.html2canvas(element, {\r\n        backgroundColor: null,\r\n        scale: 3,\r\n        useCORS: true,\r\n        allowTaint: true,\r\n        logging: false\r\n      });\r\n\r\n      canvas.toBlob((blob) => {\r\n        const link = document.createElement('a');\r\n        link.download = `${name.replace(/[^a-z0-9\\s]/gi, '_')}_${selectedType}.png`;\r\n        link.href = URL.createObjectURL(blob);\r\n        document.body.appendChild(link);\r\n        link.click();\r\n        document.body.removeChild(link);\r\n        URL.revokeObjectURL(link.href);\r\n      }, 'image/png', 1.0);\r\n      \r\n    } catch (error) {\r\n      console.error('Download failed:', error);\r\n      alert('Download failed. Please try again.');\r\n    }\r\n  };\r\n\r\n  const downloadAll = async () => {\r\n    setIsProcessing(true);\r\n    try {\r\n      for (let i = 0; i < recipients.length; i++) {\r\n        const recipient = recipients[i];\r\n        await new Promise(resolve => setTimeout(resolve, 500));\r\n        await downloadSingle(`item-${i}`, recipient.recipientName);\r\n      }\r\n    } catch (error) {\r\n      console.error('Bulk download failed:', error);\r\n    }\r\n    setIsProcessing(false);\r\n  };\r\n\r\n  const handleCSVUpload = (event) => {\r\n    const file = event.target.files[0];\r\n    if (file && file.type === 'text/csv') {\r\n      setCsvFile(file);\r\n      const reader = new FileReader();\r\n      reader.onload = (e) => {\r\n        try {\r\n          const csv = e.target.result;\r\n          const lines = csv.split('\\n').filter(line => line.trim());\r\n          const headers = lines[0].split(',').map(h => h.trim().toLowerCase());\r\n          \r\n          const recipientNameIndex = headers.findIndex(h => \r\n            h.includes('name') || h.includes('recipient')\r\n          );\r\n          \r\n          if (recipientNameIndex === -1) {\r\n            alert('CSV must contain a \"name\" or \"recipient\" column');\r\n            return;\r\n          }\r\n\r\n          const newRecipients = lines.slice(1).map(line => {\r\n            const values = line.split(',').map(v => v.trim().replace(/['\"]/g, ''));\r\n            \r\n            const customData = {};\r\n            headers.forEach((header, index) => {\r\n              if (header !== 'name' && header !== 'recipient' && header !== 'size' && values[index]) {\r\n                customData[header.replace(/\\s+/g, '')] = values[index];\r\n              }\r\n            });\r\n\r\n            const sizeIndex = headers.findIndex(h => h.includes('size'));\r\n            const size = sizeIndex !== -1 ? values[sizeIndex] : 'standard';\r\n\r\n            return {\r\n              recipientName: values[recipientNameIndex] || 'Recipient',\r\n              size: ['compact', 'standard', 'premium'].includes(size.toLowerCase()) ? size.toLowerCase() : 'standard',\r\n              customData\r\n            };\r\n          }).filter(recipient => recipient.recip && recipient.recipientName !== 'Recipient');\r\n\r\n          setRecipients(newRecipients);\r\n        } catch (error) {\r\n          alert('Error parsing CSV file. Please check the format.');\r\n        }\r\n      };\r\n      reader.readAsText(file);\r\n    }\r\n  };\r\n\r\n  const addSampleRecipient = () => {\r\n    const newRecipient = {\r\n      recipientName: 'New Recipient',\r\n      size: 'standard',\r\n      customData: {}\r\n    };\r\n\r\n    // Set default values for current template type\r\n    if (selectedType === 'businessCard') {\r\n      newRecipient.customData = {\r\n        position: 'Team Member',\r\n        department: 'Operations',\r\n        email: 'contact@acef.org',\r\n        phone: '+254 700 000 000'\r\n      };\r\n    } else if (selectedType.startsWith('certificate')) {\r\n      newRecipient.customData = {\r\n        program: 'Climate Leadership Program',\r\n        instructor: 'Director',\r\n        date: new Date().toISOString().split('T')[0]\r\n      };\r\n    } else if (selectedType === 'philanthropyBadge') {\r\n      newRecipient.customData = {\r\n        impact: 'Climate Action',\r\n        level: 'Gold',\r\n        year: new Date().getFullYear().toString(),\r\n        isAnonymous: 'false'\r\n      };\r\n    }\r\n\r\n    setRecipients([...recipients, newRecipient]);\r\n  };\r\n\r\n  const removeRecipient = (index) => {\r\n    setRecipients(recipients.filter((_, i) => i !== index));\r\n  };\r\n\r\n  const updateRecipientField = (recipientIndex, fieldKey, value) => {\r\n    const updated = [...recipients];\r\n    if (fieldKey === 'recipientName' || fieldKey === 'size') {\r\n      updated[recipientIndex][fieldKey] = value;\r\n    } else {\r\n      updated[recipientIndex].customData[fieldKey] = value;\r\n    }\r\n    setRecipients(updated);\r\n  };\r\n\r\n  const resetRecipients = () => {\r\n    const defaultRecipient = { \r\n      recipientName: \"Dr. Amina Kone\", \r\n      size: \"premium\",\r\n      customData: {}\r\n    };\r\n\r\n    if (selectedType === 'businessCard') {\r\n      defaultRecipient.customData = {\r\n        position: \"Climate Program Manager\",\r\n        department: \"Operations\", \r\n        email: \"a.kone@acef.org\",\r\n        phone: \"+254 700 123 456\"\r\n      };\r\n    } else if (selectedType.startsWith('certificate')) {\r\n      defaultRecipient.customData = {\r\n        program: 'Climate Leadership Program',\r\n        instructor: 'Director',\r\n        date: new Date().toISOString().split('T')[0]\r\n      };\r\n    } else if (selectedType === 'philanthropyBadge') {\r\n      defaultRecipient.customData = {\r\n        impact: 'Climate Action',\r\n        level: 'Gold',\r\n        year: new Date().getFullYear().toString(),\r\n        isAnonymous: 'false'\r\n      };\r\n    }\r\n\r\n    setRecipients([defaultRecipient]);\r\n    setCsvFile(null);\r\n    if (fileInputRef.current) {\r\n      fileInputRef.current.value = '';\r\n    }\r\n  };\r\n\r\n  const downloadCSVTemplate = () => {\r\n    if (!currentConfig) return;\r\n    \r\n    const headers = ['recipientName', 'size', ...currentConfig.fields.filter(f => f.key !== 'recipientName').map(f => f.key)];\r\n    \r\n    const sampleRow = {\r\n      recipientName: 'John Doe',\r\n      size: 'standard'\r\n    };\r\n    \r\n    currentConfig.fields.forEach(field => {\r\n      if (field.key !== 'recipientName') {\r\n        switch (field.type) {\r\n          case 'text':\r\n            sampleRow[field.key] = field.placeholder || `Sample ${field.label}`;\r\n            break;\r\n          case 'email':\r\n            sampleRow[field.key] = 'sample@acef.org';\r\n            break;\r\n          case 'number':\r\n            sampleRow[field.key] = '2024';\r\n            break;\r\n          case 'select':\r\n            sampleRow[field.key] = field.options?.[0] || 'Option1';\r\n            break;\r\n          case 'checkbox':\r\n            sampleRow[field.key] = 'false';\r\n            break;\r\n          case 'date':\r\n            sampleRow[field.key] = new Date().toISOString().split('T')[0];\r\n            break;\r\n          default:\r\n            sampleRow[field.key] = 'Sample Data';\r\n        }\r\n      }\r\n    });\r\n    \r\n    const csvContent = [\r\n      headers.join(','),\r\n      headers.map(header => sampleRow[header] || '').join(','),\r\n      headers.map(header => {\r\n        if (header === 'recipientName') return 'Jane Smith';\r\n        if (header === 'size') return 'premium';\r\n        return sampleRow[header] || '';\r\n      }).join(',')\r\n    ].join('\\n');\r\n    \r\n    const blob = new Blob([csvContent], { type: 'text/csv;charset=utf-8;' });\r\n    const link = document.createElement('a');\r\n    link.href = URL.createObjectURL(blob);\r\n    link.download = `${selectedType}_template.csv`;\r\n    document.body.appendChild(link);\r\n    link.click();\r\n    document.body.removeChild(link);\r\n    URL.revokeObjectURL(link.href);\r\n  };\r\n\r\n  // Update recipients when template type changes\r\n  React.useEffect(() => {\r\n    resetRecipients();\r\n  }, [selectedType]);\r\n\r\n  return (\r\n    <div style={{\r\n      minHeight: '100vh',\r\n      background: 'linear-gradient(135deg, #0a0a0a 0%, #1a1a1a 50%, #0a451c 100%)',\r\n      padding: '40px 20px',\r\n      color: '#ffffff'\r\n    }}>\r\n      {/* Header */}\r\n      <div style={{ textAlign: 'center', marginBottom: '40px' }}>\r\n        <h1 style={{\r\n          fontSize: '3.5rem',\r\n          fontWeight: '800',\r\n          background: 'linear-gradient(135deg, #facf3c, #ffffff, #9ccf9f)',\r\n          WebkitBackgroundClip: 'text',\r\n          WebkitTextFillColor: 'transparent',\r\n          fontFamily: '\"Inter\", sans-serif',\r\n          marginBottom: '15px',\r\n          textShadow: '0 4px 8px rgba(0,0,0,0.3)'\r\n        }}>\r\n          ACEF Resource Generator\r\n        </h1>\r\n        <p style={{\r\n          fontSize: '1.3rem',\r\n          color: '#e5e7eb',\r\n          fontFamily: '\"Inter\", sans-serif',\r\n          opacity: 0.9\r\n        }}>\r\nSpecialized Generator for ACEF's business cards, certificates and badges        </p>\r\n      </div>\r\n\r\n      {/* Controls */}\r\n      <div style={{\r\n        maxWidth: '1400px',\r\n        margin: '0 auto 40px',\r\n        background: 'rgba(255,255,255,0.05)',\r\n        backdropFilter: 'blur(20px)',\r\n        padding: '35px',\r\n        borderRadius: '24px',\r\n        boxShadow: '0 25px 50px rgba(0, 0, 0, 0.3)',\r\n        border: '1px solid rgba(255,255,255,0.1)'\r\n      }}>\r\n        {/* Template Type Selector */}\r\n        <div style={{ marginBottom: '35px' }}>\r\n          <label style={{ \r\n            display: 'block', \r\n            marginBottom: '20px', \r\n            fontWeight: '700', \r\n            color: '#facf3c', \r\n            fontSize: '1.2rem' \r\n          }}>\r\n            Select Template Type\r\n          </label>\r\n          <div style={{ display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(250px, 1fr))', gap: '15px' }}>\r\n            {Object.entries(FIELD_CONFIGURATIONS).map(([key, config]) => (\r\n              <button\r\n                key={key}\r\n                onClick={() => setSelectedType(key)}\r\n                style={{\r\n                  padding: '20px 25px',\r\n                  border: selectedType === key ? '2px solid #facf3c' : '2px solid rgba(255,255,255,0.1)',\r\n                  borderRadius: '16px',\r\n                  background: selectedType === key \r\n                    ? 'linear-gradient(135deg, rgba(250, 207, 60, 0.2), rgba(250, 207, 60, 0.1))' \r\n                    : 'rgba(255,255,255,0.05)',\r\n                  color: selectedType === key ? '#facf3c' : '#ffffff',\r\n                  cursor: 'pointer',\r\n                  fontWeight: '600',\r\n                  transition: 'all 0.3s ease',\r\n                  fontSize: '1rem',\r\n                  backdropFilter: 'blur(10px)'\r\n                }}\r\n              >\r\n                {config.name}\r\n              </button>\r\n            ))}\r\n          </div>\r\n        </div>\r\n\r\n        {/* Field Configuration Display */}\r\n        <div style={{ marginBottom: '35px' }}>\r\n          <div style={{ \r\n            background: 'rgba(255,255,255,0.05)', \r\n            padding: '25px', \r\n            borderRadius: '16px',\r\n            border: '1px solid rgba(255,255,255,0.1)'\r\n          }}>\r\n            <h3 style={{ \r\n              margin: '0 0 18px 0', \r\n              color: '#ffffff',\r\n              display: 'flex',\r\n              alignItems: 'center',\r\n              gap: '10px'\r\n            }}>\r\n              <FileCheck size={20} color=\"#facf3c\" />\r\n              Available Fields for {currentConfig?.name}\r\n            </h3>\r\n            <div style={{ \r\n              display: 'grid', \r\n              gridTemplateColumns: 'repeat(auto-fit, minmax(250px, 1fr))',\r\n              gap: '12px'\r\n            }}>\r\n              {currentConfig?.fields.map((field, index) => (\r\n                <div key={index} style={{\r\n                  padding: '12px 16px',\r\n                  background: 'rgba(255,255,255,0.08)',\r\n                  borderRadius: '12px',\r\n                  border: '1px solid rgba(255,255,255,0.1)',\r\n                  fontSize: '0.9rem'\r\n                }}>\r\n                  <strong style={{ color: '#facf3c' }}>{field.label}</strong>\r\n                  <div style={{ color: '#e5e7eb', marginTop: '4px' }}>\r\n                    {field.type} {field.required && '(required)'}\r\n                  </div>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Data Input Methods */}\r\n        <div style={{ display: 'grid', gridTemplateColumns: '1fr 1fr', gap: '25px', marginBottom: '30px' }}>\r\n          <div>\r\n            <label style={{ \r\n              display: 'block', \r\n              marginBottom: '12px', \r\n              fontWeight: '600', \r\n              color: '#facf3c',\r\n              display: 'flex',\r\n              alignItems: 'center',\r\n              gap: '10px'\r\n            }}>\r\n              <Upload size={18} />\r\n              Upload CSV File\r\n            </label>\r\n            <input\r\n              ref={fileInputRef}\r\n              type=\"file\"\r\n              accept=\".csv\"\r\n              onChange={handleCSVUpload}\r\n              style={{\r\n                width: '100%',\r\n                padding: '14px 16px',\r\n                border: '2px solid rgba(255,255,255,0.1)',\r\n                borderRadius: '12px',\r\n                fontSize: '14px',\r\n                background: 'rgba(255,255,255,0.05)',\r\n                color: '#ffffff',\r\n                backdropFilter: 'blur(10px)'\r\n              }}\r\n            />\r\n            <div style={{ fontSize: '0.8rem', color: '#9ca3af', marginTop: '8px' }}>\r\n              CSV should include: {currentConfig?.fields.filter(f => f.required).map(f => f.key).join(', ')} (required)\r\n              <button\r\n                onClick={() => downloadCSVTemplate()}\r\n                style={{\r\n                  display: 'block',\r\n                  marginTop: '10px',\r\n                  padding: '8px 14px',\r\n                  background: 'linear-gradient(135deg, #facf3c, #f59e0b)',\r\n                  color: '#000',\r\n                  border: 'none',\r\n                  borderRadius: '8px',\r\n                  fontSize: '12px',\r\n                  cursor: 'pointer',\r\n                  fontWeight: '600'\r\n                }}\r\n              >\r\n                Download CSV Template\r\n              </button>\r\n            </div>\r\n          </div>\r\n\r\n          <div>\r\n            <label style={{ \r\n              display: 'block', \r\n              marginBottom: '12px', \r\n              fontWeight: '600', \r\n              color: '#facf3c',\r\n              display: 'flex',\r\n              alignItems: 'center',\r\n              gap: '10px'\r\n            }}>\r\n              <Plus size={18} />\r\n              Quick Actions\r\n            </label>\r\n            <div style={{ display: 'flex', flexDirection: 'column', gap: '12px' }}>\r\n              <button\r\n                onClick={addSampleRecipient}\r\n                style={{\r\n                  padding: '14px 20px',\r\n                  background: 'linear-gradient(135deg, #16a34a, #22c55e)',\r\n                  color: 'white',\r\n                  border: 'none',\r\n                  borderRadius: '12px',\r\n                  cursor: 'pointer',\r\n                  fontWeight: '600',\r\n                  fontSize: '14px'\r\n                }}\r\n              >\r\n                Add Sample Recipient\r\n              </button>\r\n              <button\r\n                onClick={resetRecipients}\r\n                style={{\r\n                  padding: '14px 20px',\r\n                  background: 'linear-gradient(135deg, #ef4444, #dc2626)',\r\n                  color: 'white',\r\n                  border: 'none',\r\n                  borderRadius: '12px',\r\n                  cursor: 'pointer',\r\n                  fontWeight: '600',\r\n                  fontSize: '14px'\r\n                }}\r\n              >\r\n                Reset All\r\n              </button>\r\n              <button\r\n                onClick={downloadAll}\r\n                disabled={recipients.length === 0 || isProcessing}\r\n                style={{\r\n                  padding: '14px 20px',\r\n                  background: recipients.length > 0 && !isProcessing \r\n                    ? 'linear-gradient(135deg, #facf3c, #f59e0b)' \r\n                    : 'rgba(156, 163, 175, 0.3)',\r\n                  color: recipients.length > 0 && !isProcessing ? '#000' : '#9ca3af',\r\n                  border: 'none',\r\n                  borderRadius: '12px',\r\n                  cursor: recipients.length > 0 && !isProcessing ? 'pointer' : 'not-allowed',\r\n                  fontWeight: '600',\r\n                  fontSize: '14px'\r\n                }}\r\n              >\r\n                {isProcessing ? 'Processing...' : `Download All (${recipients.length})`}\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Status Display */}\r\n        {csvFile && (\r\n          <div style={{\r\n            padding: '18px',\r\n            background: 'linear-gradient(135deg, rgba(34, 197, 94, 0.1), rgba(22, 163, 74, 0.1))',\r\n            borderRadius: '16px',\r\n            border: '1px solid rgba(34, 197, 94, 0.3)',\r\n            marginBottom: '30px'\r\n          }}>\r\n            <div style={{ fontSize: '14px', color: '#22c55e', fontWeight: '600', marginBottom: '6px' }}>\r\n              CSV Loaded Successfully\r\n            </div>\r\n            <div style={{ fontSize: '13px', color: '#16a34a' }}>\r\n              File: {csvFile.name}  {recipients.length} recipients  Template: {currentConfig?.name}\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {/* Individual Recipient Editor */}\r\n      <div style={{\r\n        maxWidth: '1400px',\r\n        margin: '0 auto 40px',\r\n        background: 'rgba(255,255,255,0.05)',\r\n        backdropFilter: 'blur(20px)',\r\n        padding: '35px',\r\n        borderRadius: '24px',\r\n        boxShadow: '0 25px 50px rgba(0, 0, 0, 0.3)',\r\n        border: '1px solid rgba(255,255,255,0.1)'\r\n      }}>\r\n        <h3 style={{ \r\n          margin: '0 0 25px 0', \r\n          color: '#facf3c',\r\n          display: 'flex',\r\n          alignItems: 'center',\r\n          gap: '10px'\r\n        }}>\r\n          <Edit size={22} />\r\n          Individual Editor ({recipients.length} recipients)\r\n        </h3>\r\n        \r\n        {recipients.map((recipient, index) => (\r\n          <div key={index} style={{\r\n            border: '1px solid rgba(255,255,255,0.1)',\r\n            borderRadius: '16px',\r\n            padding: '25px',\r\n            marginBottom: '20px',\r\n            background: 'rgba(255,255,255,0.03)',\r\n            backdropFilter: 'blur(10px)'\r\n          }}>\r\n            <div style={{\r\n              display: 'flex',\r\n              justifyContent: 'space-between',\r\n              alignItems: 'center',\r\n              marginBottom: '20px'\r\n            }}>\r\n              <h4 style={{ margin: 0, color: '#ffffff', fontSize: '1.1rem' }}>\r\n                Recipient {index + 1}: {recipient.recipientName}\r\n              </h4>\r\n              <button\r\n                onClick={() => removeRecipient(index)}\r\n                style={{\r\n                  background: 'linear-gradient(135deg, #ef4444, #dc2626)',\r\n                  color: 'white',\r\n                  border: 'none',\r\n                  borderRadius: '8px',\r\n                  padding: '8px 14px',\r\n                  cursor: 'pointer',\r\n                  fontSize: '12px',\r\n                  fontWeight: '600'\r\n                }}\r\n              >\r\n                Remove\r\n              </button>\r\n            </div>\r\n            \r\n            <div style={{\r\n              display: 'grid',\r\n              gridTemplateColumns: 'repeat(auto-fit, minmax(200px, 1fr))',\r\n              gap: '18px'\r\n            }}>\r\n              {/* Core fields */}\r\n              <div>\r\n                <label style={{ fontSize: '13px', fontWeight: '600', color: '#facf3c' }}>\r\n                  Name (Required)\r\n                </label>\r\n                <input\r\n                  type=\"text\"\r\n                  value={recipient.recipientName}\r\n                  onChange={(e) => updateRecipientField(index, 'recipientName', e.target.value)}\r\n                  style={{\r\n                    width: '100%',\r\n                    padding: '10px 12px',\r\n                    border: '1px solid rgba(255,255,255,0.2)',\r\n                    borderRadius: '8px',\r\n                    fontSize: '14px',\r\n                    marginTop: '6px',\r\n                    background: 'rgba(255,255,255,0.05)',\r\n                    color: '#ffffff',\r\n                    backdropFilter: 'blur(10px)'\r\n                  }}\r\n                />\r\n              </div>\r\n              \r\n              <div>\r\n                <label style={{ fontSize: '13px', fontWeight: '600', color: '#facf3c' }}>\r\n                  Size\r\n                </label>\r\n                <select\r\n                  value={recipient.size}\r\n                  onChange={(e) => updateRecipientField(index, 'size', e.target.value)}\r\n                  style={{\r\n                    width: '100%',\r\n                    padding: '10px 12px',\r\n                    border: '1px solid rgba(255,255,255,0.2)',\r\n                    borderRadius: '8px',\r\n                    fontSize: '14px',\r\n                    marginTop: '6px',\r\n                    background: 'rgba(255,255,255,0.05)',\r\n                    color: '#ffffff',\r\n                    backdropFilter: 'blur(10px)'\r\n                  }}\r\n                >\r\n                  <option value=\"compact\" style={{ background: '#1a1a1a' }}>Compact</option>\r\n                  <option value=\"standard\" style={{ background: '#1a1a1a' }}>Standard</option>\r\n                  <option value=\"premium\" style={{ background: '#1a1a1a' }}>Premium</option>\r\n                </select>\r\n              </div>\r\n\r\n              {/* Template-specific fields */}\r\n              {currentConfig?.fields.filter(f => f.key !== 'recipientName').map((field) => (\r\n                <div key={field.key}>\r\n                  <label style={{ fontSize: '13px', fontWeight: '600', color: '#facf3c' }}>\r\n                    {field.label} {field.required && '*'}\r\n                  </label>\r\n                  {field.type === 'select' ? (\r\n                    <select\r\n                      value={recipient.customData[field.key] || ''}\r\n                      onChange={(e) => updateRecipientField(index, field.key, e.target.value)}\r\n                      style={{\r\n                        width: '100%',\r\n                        padding: '10px 12px',\r\n                        border: '1px solid rgba(255,255,255,0.2)',\r\n                        borderRadius: '8px',\r\n                        fontSize: '14px',\r\n                        marginTop: '6px',\r\n                        background: 'rgba(255,255,255,0.05)',\r\n                        color: '#ffffff',\r\n                        backdropFilter: 'blur(10px)'\r\n                      }}\r\n                    >\r\n                      <option value=\"\" style={{ background: '#1a1a1a' }}>Select...</option>\r\n                      {field.options?.map(option => (\r\n                        <option key={option} value={option} style={{ background: '#1a1a1a' }}>{option}</option>\r\n                      ))}\r\n                    </select>\r\n                  ) : field.type === 'checkbox' ? (\r\n                    <div style={{ marginTop: '10px' }}>\r\n                      <label style={{ display: 'flex', alignItems: 'center', gap: '10px', fontSize: '14px' }}>\r\n                        <input\r\n                          type=\"checkbox\"\r\n                          checked={recipient.customData[field.key] === 'true'}\r\n                          onChange={(e) => updateRecipientField(index, field.key, e.target.checked ? 'true' : 'false')}\r\n                          style={{ transform: 'scale(1.2)' }}\r\n                        />\r\n                        <span style={{ color: '#ffffff' }}>Yes</span>\r\n                      </label>\r\n                    </div>\r\n                  ) : (\r\n                    <input\r\n                      type={field.type}\r\n                      value={recipient.customData[field.key] || ''}\r\n                      onChange={(e) => updateRecipientField(index, field.key, e.target.value)}\r\n                      placeholder={field.placeholder}\r\n                      style={{\r\n                        width: '100%',\r\n                        padding: '10px 12px',\r\n                        border: '1px solid rgba(255,255,255,0.2)',\r\n                        borderRadius: '8px',\r\n                        fontSize: '14px',\r\n                        marginTop: '6px',\r\n                        background: 'rgba(255,255,255,0.05)',\r\n                        color: '#ffffff',\r\n                        backdropFilter: 'blur(10px)'\r\n                      }}\r\n                    />\r\n                  )}\r\n                </div>\r\n              ))}\r\n            </div>\r\n          </div>\r\n        ))}\r\n      </div>\r\n\r\n      {/* Template Preview & Downloads */}\r\n      <div style={{\r\n        display: 'flex',\r\n        flexWrap: 'wrap',\r\n        gap: '40px',\r\n        justifyContent: 'center',\r\n        alignItems: 'flex-start'\r\n      }}>\r\n        {recipients.map((recipient, index) => (\r\n          <div key={index} style={{ \r\n            position: 'relative',\r\n            background: 'rgba(255,255,255,0.05)',\r\n            backdropFilter: 'blur(20px)',\r\n            padding: '25px',\r\n            borderRadius: '24px',\r\n            boxShadow: '0 25px 50px rgba(0, 0, 0, 0.3)',\r\n            transition: 'all 0.3s ease',\r\n            border: '1px solid rgba(255,255,255,0.1)'\r\n          }}>\r\n            {/* Template Component */}\r\n            {TemplateComponent && (\r\n              <TemplateComponent\r\n                recipientName={recipient.recipientName}\r\n                size={recipient.size}\r\n                year={2024}\r\n                id={`item-${index}`}\r\n                customData={recipient.customData}\r\n              />\r\n            )}\r\n            \r\n            {/* Action Buttons */}\r\n            <div style={{\r\n              position: 'absolute',\r\n              top: '15px',\r\n              right: '15px',\r\n              display: 'flex',\r\n              gap: '10px'\r\n            }}>\r\n              <button\r\n                onClick={() => downloadSingle(`item-${index}`, recipient.recipientName)}\r\n                style={{\r\n                  background: 'linear-gradient(135deg, #facf3c, #f59e0b)',\r\n                  color: '#000',\r\n                  border: 'none',\r\n                  borderRadius: '50%',\r\n                  width: '40px',\r\n                  height: '40px',\r\n                  cursor: 'pointer',\r\n                  display: 'flex',\r\n                  alignItems: 'center',\r\n                  justifyContent: 'center',\r\n                  boxShadow: '0 8px 20px rgba(250, 207, 60, 0.4)',\r\n                  transition: 'all 0.2s ease',\r\n                  fontWeight: '600'\r\n                }}\r\n                title=\"Download this item\"\r\n              >\r\n                <Download size={18} />\r\n              </button>\r\n              <button\r\n                onClick={() => removeRecipient(index)}\r\n                style={{\r\n                  background: 'linear-gradient(135deg, #ef4444, #dc2626)',\r\n                  color: 'white',\r\n                  border: 'none',\r\n                  borderRadius: '50%',\r\n                  width: '40px',\r\n                  height: '40px',\r\n                  cursor: 'pointer',\r\n                  display: 'flex',\r\n                  alignItems: 'center',\r\n                  justifyContent: 'center',\r\n                  boxShadow: '0 8px 20px rgba(239, 68, 68, 0.4)',\r\n                  transition: 'all 0.2s ease'\r\n                }}\r\n                title=\"Remove this item\"\r\n              >\r\n                <X size={18} />\r\n              </button>\r\n            </div>\r\n\r\n            {/* Item Info */}\r\n            <div style={{\r\n              marginTop: '20px',\r\n              padding: '15px',\r\n              background: 'rgba(255,255,255,0.08)',\r\n              borderRadius: '12px',\r\n              textAlign: 'center',\r\n              backdropFilter: 'blur(10px)'\r\n            }}>\r\n              <div style={{ fontSize: '14px', fontWeight: '600', color: '#facf3c', marginBottom: '6px' }}>\r\n                {recipient.recipientName}\r\n              </div>\r\n              <div style={{ fontSize: '12px', color: '#e5e7eb' }}>\r\n                {recipient.size}  {currentConfig?.name}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        ))}\r\n      </div>\r\n\r\n      {/* Empty State */}\r\n      {recipients.length === 0 && (\r\n        <div style={{\r\n          textAlign: 'center',\r\n          padding: '80px 20px',\r\n          color: '#e5e7eb'\r\n        }}>\r\n          <div style={{ \r\n            fontSize: '4rem', \r\n            marginBottom: '25px',\r\n            background: 'linear-gradient(135deg, #facf3c, #ffffff)',\r\n            WebkitBackgroundClip: 'text',\r\n            WebkitTextFillColor: 'transparent'\r\n          }}>\r\n            \r\n          </div>\r\n          <h3 style={{ \r\n            fontSize: '1.8rem', \r\n            marginBottom: '15px', \r\n            color: '#facf3c',\r\n            fontWeight: '700'\r\n          }}>\r\n            No Recipients Added\r\n          </h3>\r\n          <p style={{ \r\n            fontSize: '1.1rem', \r\n            marginBottom: '25px',\r\n            opacity: 0.8,\r\n            lineHeight: '1.6'\r\n          }}>\r\n            Upload a CSV file or add recipients manually to start creating your premium {currentConfig?.name.toLowerCase()}.\r\n          </p>\r\n          <div style={{\r\n            display: 'flex',\r\n            gap: '15px',\r\n            justifyContent: 'center',\r\n            flexWrap: 'wrap'\r\n          }}>\r\n            <button\r\n              onClick={addSampleRecipient}\r\n              style={{\r\n                padding: '12px 25px',\r\n                background: 'linear-gradient(135deg, #facf3c, #f59e0b)',\r\n                color: '#000',\r\n                border: 'none',\r\n                borderRadius: '12px',\r\n                cursor: 'pointer',\r\n                fontWeight: '600',\r\n                fontSize: '14px'\r\n              }}\r\n            >\r\n              Add Sample Recipient\r\n            </button>\r\n            <button\r\n              onClick={() => downloadCSVTemplate()}\r\n              style={{\r\n                padding: '12px 25px',\r\n                background: 'linear-gradient(135deg, #16a34a, #22c55e)',\r\n                color: 'white',\r\n                border: 'none',\r\n                borderRadius: '12px',\r\n                cursor: 'pointer',\r\n                fontWeight: '600',\r\n                fontSize: '14px'\r\n              }}\r\n            >\r\n              Download CSV Template\r\n            </button>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default BadgeGenerator;","import React, { useEffect, useState } from 'react';\r\nimport {\r\n  Box,\r\n  Typography,\r\n  TextField,\r\n  Button,\r\n  List,\r\n  ListItem,\r\n  ListItemText,\r\n  IconButton,\r\n  Divider,\r\n  Autocomplete,\r\n  CircularProgress,\r\n  Dialog,\r\n  DialogTitle,\r\n  DialogActions,\r\n  Alert,\r\n} from '@mui/material';\r\nimport DeleteIcon from '@mui/icons-material/Delete';\r\nimport { useAuth } from '../../context/AuthContext';\r\nimport rawCountryOptions from '../../data/countries.json';\r\n\r\nimport { API_URL } from '../../config';\r\n\r\nconst API_BASE = API_URL;\r\n\r\n//  Ensure options have 'label' for Autocomplete\r\nconst countryOptions = rawCountryOptions.map((name) => ({ label: name }));\r\n\r\nconst AdminAddCountries = () => {\r\n  const { user } = useAuth();\r\n  const [countries, setCountries] = useState([]);\r\n  const [selectedCountry, setSelectedCountry] = useState(null);\r\n  const [status, setStatus] = useState('');\r\n  const [error, setError] = useState('');\r\n  const [loading, setLoading] = useState(false);\r\n  const [confirmDelete, setConfirmDelete] = useState(null);\r\n\r\n  //  Fetch countries from backend\r\n  const fetchCountries = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const res = await fetch(`${API_BASE}/countries`);\r\n      const data = await res.json();\r\n\r\n      if (!Array.isArray(data)) throw new Error('Invalid response format');\r\n\r\n      const sorted = [...data].sort((a, b) => a.name.localeCompare(b.name));\r\n      setCountries(sorted);\r\n      setStatus(' Countries fetched from database successfully.');\r\n    } catch (err) {\r\n      console.error(' Fetch error:', err);\r\n      setError(' Failed to load countries.');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  //  Add new country\r\n  const handleAdd = async () => {\r\n    setError('');\r\n    setStatus('');\r\n\r\n    const name = selectedCountry?.label?.trim();\r\n    if (!name) {\r\n      return setError(' Please select a country to add.');\r\n    }\r\n\r\n    const alreadyExists = countries.find(\r\n      (c) => c.name.toLowerCase() === name.toLowerCase()\r\n    );\r\n    if (alreadyExists) {\r\n      return setError(' This country is already in the database.');\r\n    }\r\n\r\n    try {\r\n      const res = await fetch(`${API_BASE}/countries`, {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        credentials: 'include',\r\n        body: JSON.stringify({ name }),\r\n      });\r\n\r\n      if (!res.ok) throw new Error(await res.text());\r\n\r\n      setSelectedCountry(null);\r\n      setStatus(` ${name} added to database successfully.`);\r\n      fetchCountries();\r\n    } catch (err) {\r\n      console.error(' Add country error:', err);\r\n      setError(` ${err.message}`);\r\n    }\r\n  };\r\n\r\n  //  Confirm delete\r\n  const handleConfirmDelete = async () => {\r\n    if (!confirmDelete) return;\r\n    try {\r\n      const res = await fetch(`${API_BASE}/countries/${confirmDelete}`, {\r\n        method: 'DELETE',\r\n        credentials: 'include',\r\n      });\r\n      if (!res.ok) throw new Error(await res.text());\r\n\r\n      setConfirmDelete(null);\r\n      fetchCountries();\r\n    } catch (err) {\r\n      setError(err.message);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchCountries();\r\n  }, []);\r\n\r\n  if (!user || user.role !== 'admin') {\r\n    return <Typography variant=\"h6\" color=\"error\">Access Denied</Typography>;\r\n  }\r\n\r\n  return (\r\n    <Box sx={{ maxWidth: 600, mx: 'auto', mt: 4, p: 2 }}>\r\n      <Typography variant=\"h4\" gutterBottom> Manage Countries</Typography>\r\n\r\n      {status && <Alert severity=\"success\" sx={{ mb: 2 }}>{status}</Alert>}\r\n      {error && <Alert severity=\"error\" sx={{ mb: 2 }}>{error}</Alert>}\r\n\r\n      <Box sx={{ display: 'flex', gap: 2, mb: 2 }}>\r\n        <Autocomplete\r\n          options={countryOptions}\r\n          value={selectedCountry}\r\n          onChange={(e, newValue) => setSelectedCountry(newValue)}\r\n          renderInput={(params) => (\r\n            <TextField {...params} label=\"Select Country\" fullWidth />\r\n          )}\r\n          sx={{ flex: 1 }}\r\n        />\r\n        <Button variant=\"contained\" onClick={handleAdd}>Add</Button>\r\n      </Box>\r\n\r\n      <Divider sx={{ mb: 2 }} />\r\n\r\n      {loading ? (\r\n        <Box sx={{ display: 'flex', justifyContent: 'center', mt: 4 }}>\r\n          <CircularProgress />\r\n        </Box>\r\n      ) : (\r\n        <List>\r\n          {countries.map((country) => (\r\n            <ListItem\r\n              key={country.id}\r\n              secondaryAction={\r\n                <IconButton edge=\"end\" onClick={() => setConfirmDelete(country.id)}>\r\n                  <DeleteIcon />\r\n                </IconButton>\r\n              }\r\n            >\r\n              <ListItemText primary={country.name} />\r\n            </ListItem>\r\n          ))}\r\n        </List>\r\n      )}\r\n\r\n      {/*  Delete confirmation dialog */}\r\n      <Dialog open={Boolean(confirmDelete)} onClose={() => setConfirmDelete(null)}>\r\n        <DialogTitle>Delete this country?</DialogTitle>\r\n        <DialogActions>\r\n          <Button onClick={() => setConfirmDelete(null)}>Cancel</Button>\r\n          <Button onClick={handleConfirmDelete} color=\"error\" variant=\"contained\">Delete</Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default AdminAddCountries;\r\n","import React, { useEffect, useState, useCallback } from 'react';\r\nimport { API_URL } from '../../config';\r\n\r\nconst API_BASE = API_URL;\r\n\r\nconst AdminManageContacts = () => {\r\n  const [countries, setCountries] = useState([]);\r\n  const [contacts, setContacts] = useState([]);\r\n  const [selected, setSelected] = useState(null);\r\n  const [form, setForm] = useState({});\r\n  const [mode, setMode] = useState('view');\r\n  const [status, setStatus] = useState('');\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState('');\r\n  const [emailJSStatus, setEmailJSStatus] = useState({});\r\n\r\n  // Initialize empty form\r\n  const initializeForm = () => ({\r\n    country: '',\r\n    email: '',\r\n    phone: '',\r\n    service_id: '',\r\n    template_id: '',\r\n    public_key: '',\r\n    physical_address: '',\r\n    mailing_address: '',\r\n    postal_code: '',\r\n    state_province: '',\r\n    city: '',\r\n    latitude: '',\r\n    longitude: '',\r\n  });\r\n\r\n  const fetchCountries = useCallback(async () => {\r\n    setLoading(true);\r\n    setError('');\r\n    try {\r\n      const res = await fetch(`${API_BASE}/countries`);\r\n      \r\n      if (!res.ok) {\r\n        throw new Error(`Failed to fetch countries: ${res.status}`);\r\n      }\r\n      \r\n      const data = await res.json();\r\n      \r\n      if (!Array.isArray(data)) {\r\n        throw new Error('Invalid response format from countries endpoint');\r\n      }\r\n      \r\n      const sorted = [...data].sort((a, b) => a.name.localeCompare(b.name));\r\n      setCountries(sorted);\r\n      setStatus(' Countries loaded successfully');\r\n    } catch (err) {\r\n      console.error(' Fetch countries error:', err);\r\n      setError(` Failed to load countries: ${err.message}`);\r\n      setCountries([]);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }, []);\r\n\r\n  const fetchContacts = useCallback(async () => {\r\n    try {\r\n      const res = await fetch(`${API_BASE}/country-contacts`);\r\n      \r\n      if (!res.ok) {\r\n        throw new Error(`Failed to fetch contacts: ${res.status}`);\r\n      }\r\n      \r\n      const data = await res.json();\r\n      \r\n      if (!Array.isArray(data)) {\r\n        throw new Error('Invalid response format from contacts endpoint');\r\n      }\r\n      \r\n      setContacts(data);\r\n      \r\n      // Validate EmailJS configurations\r\n      const emailJSValidations = {};\r\n      for (const contact of data) {\r\n        const hasEmailJS = contact.service_id && contact.template_id && contact.public_key;\r\n        const hasCoordinates = contact.latitude && contact.longitude;\r\n        emailJSValidations[contact.country] = {\r\n          configured: hasEmailJS,\r\n          status: hasEmailJS ? 'Complete' : 'Incomplete',\r\n          coordinates: hasCoordinates\r\n        };\r\n      }\r\n      setEmailJSStatus(emailJSValidations);\r\n      \r\n    } catch (err) {\r\n      console.error(' Fetch contacts error:', err);\r\n      setContacts([]);\r\n      setEmailJSStatus({});\r\n    }\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    fetchCountries();\r\n    fetchContacts();\r\n  }, [fetchCountries, fetchContacts]);\r\n\r\n  // Clean up orphaned contacts only when countries are loaded and there are potential orphans\r\n  useEffect(() => {\r\n    const cleanupOrphanedContacts = async () => {\r\n      // Only run cleanup if we have both countries and contacts loaded\r\n      if (countries.length === 0 || contacts.length === 0) return;\r\n      \r\n      const countryNames = new Set(countries.map(c => c.name));\r\n      const orphanedContacts = contacts.filter(contact => !countryNames.has(contact.country));\r\n      \r\n      if (orphanedContacts.length > 0) {\r\n        console.log(`Found ${orphanedContacts.length} orphaned contacts, cleaning up...`);\r\n        \r\n        try {\r\n          // Delete orphaned contacts\r\n          const deletePromises = orphanedContacts.map(contact =>\r\n            fetch(`${API_BASE}/country-contacts/${encodeURIComponent(contact.country)}`, {\r\n              method: 'DELETE'\r\n            })\r\n          );\r\n          \r\n          await Promise.all(deletePromises);\r\n          \r\n          // Refresh contacts after cleanup\r\n          await fetchContacts();\r\n          \r\n          setStatus(` Cleaned up ${orphanedContacts.length} orphaned contact(s)`);\r\n        } catch (err) {\r\n          console.error('Error cleaning up orphaned contacts:', err);\r\n        }\r\n      }\r\n    };\r\n\r\n    // Use a timeout to debounce the cleanup and avoid rapid successive calls\r\n    const timeoutId = setTimeout(cleanupOrphanedContacts, 500);\r\n    \r\n    return () => clearTimeout(timeoutId);\r\n  }, [countries, contacts, fetchContacts]);\r\n\r\n  const clearMessages = () => {\r\n    setStatus('');\r\n    setError('');\r\n  };\r\n\r\n  const handleEdit = (contact) => {\r\n    clearMessages();\r\n    setForm({ ...contact });\r\n    setSelected(contact.country);\r\n    setMode('edit');\r\n  };\r\n\r\n  const handleDelete = async (country) => {\r\n    if (!window.confirm(`Are you sure you want to delete the contact configuration for ${country}?`)) {\r\n      return;\r\n    }\r\n\r\n    clearMessages();\r\n    setLoading(true);\r\n\r\n    try {\r\n      const res = await fetch(`${API_BASE}/country-contacts/${encodeURIComponent(country)}`, { \r\n        method: 'DELETE' \r\n      });\r\n\r\n      const result = await res.json();\r\n\r\n      if (!res.ok) {\r\n        throw new Error(result.message || 'Failed to delete contact');\r\n      }\r\n\r\n      setStatus(` Successfully deleted configuration for ${country}`);\r\n      await fetchContacts();\r\n    } catch (err) {\r\n      console.error('Delete error:', err);\r\n      setError(` Failed to delete ${country}: ${err.message}`);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleFormChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setForm(prev => ({ ...prev, [name]: value }));\r\n  };\r\n\r\n  const validateForm = () => {\r\n    const errors = [];\r\n    \r\n    if (!form.country) {\r\n      errors.push('Country is required');\r\n    }\r\n    \r\n    if (form.email && !/^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(form.email)) {\r\n      errors.push('Invalid email format');\r\n    }\r\n    \r\n    if (form.phone && !/^[\\+]?[0-9\\s\\-\\(\\)]{7,}$/.test(form.phone)) {\r\n      errors.push('Invalid phone format');\r\n    }\r\n    \r\n    // Validate latitude\r\n    if (form.latitude && form.latitude.trim() !== '') {\r\n      const lat = parseFloat(form.latitude);\r\n      if (isNaN(lat) || lat < -90 || lat > 90) {\r\n        errors.push('Latitude must be a number between -90 and 90');\r\n      }\r\n    }\r\n    \r\n    // Validate longitude\r\n    if (form.longitude && form.longitude.trim() !== '') {\r\n      const lng = parseFloat(form.longitude);\r\n      if (isNaN(lng) || lng < -180 || lng > 180) {\r\n        errors.push('Longitude must be a number between -180 and 180');\r\n      }\r\n    }\r\n    \r\n    return errors;\r\n  };\r\n\r\n  const handleSave = async () => {\r\n    clearMessages();\r\n    \r\n    const validationErrors = validateForm();\r\n    if (validationErrors.length > 0) {\r\n      setError(` Validation failed: ${validationErrors.join(', ')}`);\r\n      return;\r\n    }\r\n\r\n    setLoading(true);\r\n\r\n    try {\r\n      const method = mode === 'edit' ? 'PUT' : 'POST';\r\n      const endpoint = `${API_BASE}/country-contacts/${encodeURIComponent(form.country)}`;\r\n      \r\n      const res = await fetch(endpoint, {\r\n        method,\r\n        headers: { \r\n          'Content-Type': 'application/json' \r\n        },\r\n        body: JSON.stringify(form)\r\n      });\r\n\r\n      const result = await res.json();\r\n\r\n      if (!res.ok) {\r\n        throw new Error(result.message || `Failed to ${mode} contact`);\r\n      }\r\n\r\n      setStatus(` Successfully ${mode === 'edit' ? 'updated' : 'added'} configuration for ${form.country}`);\r\n      setMode('view');\r\n      setForm(initializeForm());\r\n      setSelected(null);\r\n      await fetchContacts();\r\n    } catch (err) {\r\n      console.error('Save error:', err);\r\n      setError(` Failed to save changes: ${err.message}`);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const startAddNew = () => {\r\n    clearMessages();\r\n    setMode('add');\r\n    setForm(initializeForm());\r\n    setSelected(null);\r\n  };\r\n\r\n  const startAddForCountry = (countryName) => {\r\n    clearMessages();\r\n    setMode('add');\r\n    setForm({ ...initializeForm(), country: countryName });\r\n    setSelected(countryName);\r\n  };\r\n\r\n  const cancelEdit = () => {\r\n    setMode('view');\r\n    setForm(initializeForm());\r\n    setSelected(null);\r\n    clearMessages();\r\n  };\r\n\r\n  const getContactForCountry = (countryName) => {\r\n    return contacts.find(c => c.country === countryName);\r\n  };\r\n\r\n  const getEmailJSStatusIcon = (countryName) => {\r\n    const status = emailJSStatus[countryName];\r\n    if (!status) return '';\r\n    return status.configured ? '' : '';\r\n  };\r\n\r\n  const getEmailJSStatusText = (countryName) => {\r\n    const status = emailJSStatus[countryName];\r\n    if (!status) return 'Unknown';\r\n    return status.status;\r\n  };\r\n\r\n  const getCoordinatesStatusIcon = (countryName) => {\r\n    const status = emailJSStatus[countryName];\r\n    if (!status) return '';\r\n    return status.coordinates ? '' : '';\r\n  };\r\n\r\n  return (\r\n    <div style={{ padding: '2rem', maxWidth: '1400px', margin: '0 auto' }}>\r\n      <h2> Manage Country Contact Configurations</h2>\r\n      <p>To obtain latitudes and longitudes, do visit https://www.gps-coordinates.net/</p>\r\n      {loading && <p style={{ color: 'blue' }}> Loading...</p>}\r\n      {status && <p style={{ color: 'green', backgroundColor: '#e8f5e8', padding: '0.5rem', borderRadius: '4px' }}>{status}</p>}\r\n      {error && <p style={{ color: 'red', backgroundColor: '#ffe8e8', padding: '0.5rem', borderRadius: '4px' }}>{error}</p>}\r\n\r\n      {mode !== 'view' && (\r\n        <div style={{ \r\n          marginBottom: '2rem', \r\n          padding: '1.5rem', \r\n          border: '1px solid #ddd', \r\n          borderRadius: '8px',\r\n          backgroundColor: '#f9f9f9'\r\n        }}>\r\n          <h3>\r\n            {mode === 'edit' ? ` Edit: ${form.country}` : ' Add New Country Contact'}\r\n          </h3>\r\n          \r\n          <div style={{ display: 'grid', gap: '1rem', gridTemplateColumns: 'repeat(auto-fit, minmax(300px, 1fr))' }}>\r\n            {mode === 'add' && (\r\n              <div>\r\n                <label>Country: *</label>\r\n                <select \r\n                  name=\"country\" \r\n                  value={form.country} \r\n                  onChange={handleFormChange}\r\n                  style={{ width: '100%', padding: '0.5rem' }}\r\n                  required\r\n                >\r\n                  <option value=\"\">-- Select Country --</option>\r\n                  {countries\r\n                    .filter(c => !getContactForCountry(c.name)) // Only show countries without contacts\r\n                    .map(c => (\r\n                      <option key={c.id} value={c.name}>{c.name}</option>\r\n                    ))\r\n                  }\r\n                </select>\r\n              </div>\r\n            )}\r\n            \r\n            <div>\r\n              <label>Email:</label>\r\n              <input \r\n                name=\"email\" \r\n                type=\"email\"\r\n                placeholder=\"contact@example.com\" \r\n                value={form.email || ''} \r\n                onChange={handleFormChange}\r\n                style={{ width: '100%', padding: '0.5rem' }}\r\n              />\r\n            </div>\r\n            \r\n            <div>\r\n              <label>Phone:</label>\r\n              <input \r\n                name=\"phone\" \r\n                type=\"tel\"\r\n                placeholder=\"+1234567890\" \r\n                value={form.phone || ''} \r\n                onChange={handleFormChange}\r\n                style={{ width: '100%', padding: '0.5rem' }}\r\n              />\r\n            </div>\r\n            \r\n            <div>\r\n              <label>City:</label>\r\n              <input \r\n                name=\"city\" \r\n                placeholder=\"City name\" \r\n                value={form.city || ''} \r\n                onChange={handleFormChange}\r\n                style={{ width: '100%', padding: '0.5rem' }}\r\n              />\r\n            </div>\r\n\r\n            <div>\r\n              <label>State/Province:</label>\r\n              <input \r\n                name=\"state_province\" \r\n                placeholder=\"State or province\" \r\n                value={form.state_province || ''} \r\n                onChange={handleFormChange}\r\n                style={{ width: '100%', padding: '0.5rem' }}\r\n              />\r\n            </div>\r\n\r\n            <div>\r\n              <label>Postal Code:</label>\r\n              <input \r\n                name=\"postal_code\" \r\n                placeholder=\"Postal/ZIP code\" \r\n                value={form.postal_code || ''} \r\n                onChange={handleFormChange}\r\n                style={{ width: '100%', padding: '0.5rem' }}\r\n              />\r\n            </div>\r\n            \r\n            <div style={{ padding: '1rem', backgroundColor: '#fff3cd', borderRadius: '4px', gridColumn: '1 / -1' }}>\r\n              <h4> Location Coordinates</h4>\r\n              <div style={{ display: 'grid', gap: '1rem', gridTemplateColumns: '1fr 1fr' }}>\r\n                <div>\r\n                  <label>Latitude:</label>\r\n                  <input \r\n                    name=\"latitude\" \r\n                    type=\"number\"\r\n                    step=\"any\"\r\n                    placeholder=\"e.g., -1.2921\" \r\n                    value={form.latitude || ''} \r\n                    onChange={handleFormChange}\r\n                    style={{ width: '100%', padding: '0.5rem' }}\r\n                    title=\"Latitude must be between -90 and 90\"\r\n                  />\r\n                  <small style={{ color: '#666' }}>Range: -90 to 90</small>\r\n                </div>\r\n                <div>\r\n                  <label>Longitude:</label>\r\n                  <input \r\n                    name=\"longitude\" \r\n                    type=\"number\"\r\n                    step=\"any\"\r\n                    placeholder=\"e.g., 36.8219\" \r\n                    value={form.longitude || ''} \r\n                    onChange={handleFormChange}\r\n                    style={{ width: '100%', padding: '0.5rem' }}\r\n                    title=\"Longitude must be between -180 and 180\"\r\n                  />\r\n                  <small style={{ color: '#666' }}>Range: -180 to 180</small>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            \r\n            <div style={{ padding: '1rem', backgroundColor: '#e8f4fd', borderRadius: '4px', gridColumn: '1 / -1' }}>\r\n              <h4> EmailJS Configuration</h4>\r\n              <div style={{ display: 'grid', gap: '1rem', gridTemplateColumns: 'repeat(auto-fit, minmax(200px, 1fr))' }}>\r\n                <div>\r\n                  <label>Service ID:</label>\r\n                  <input \r\n                    name=\"service_id\" \r\n                    placeholder=\"your_service_id\" \r\n                    value={form.service_id || ''} \r\n                    onChange={handleFormChange}\r\n                    style={{ width: '100%', padding: '0.5rem' }}\r\n                  />\r\n                </div>\r\n                <div>\r\n                  <label>Template ID:</label>\r\n                  <input \r\n                    name=\"template_id\" \r\n                    placeholder=\"your_template_id\" \r\n                    value={form.template_id || ''} \r\n                    onChange={handleFormChange}\r\n                    style={{ width: '100%', padding: '0.5rem' }}\r\n                  />\r\n                </div>\r\n                <div>\r\n                  <label>Public Key:</label>\r\n                  <input \r\n                    name=\"public_key\" \r\n                    placeholder=\"your_public_key\" \r\n                    value={form.public_key || ''} \r\n                    onChange={handleFormChange}\r\n                    style={{ width: '100%', padding: '0.5rem' }}\r\n                  />\r\n                </div>\r\n              </div>\r\n            </div>\r\n            \r\n            <div style={{ gridColumn: '1 / -1' }}>\r\n              <label>Physical Address:</label>\r\n              <textarea \r\n                name=\"physical_address\" \r\n                placeholder=\"Physical address for this country\" \r\n                value={form.physical_address || ''} \r\n                onChange={handleFormChange}\r\n                rows={3}\r\n                style={{ width: '100%', padding: '0.5rem' }}\r\n              />\r\n            </div>\r\n            \r\n            <div style={{ gridColumn: '1 / -1' }}>\r\n              <label>Mailing Address:</label>\r\n              <textarea \r\n                name=\"mailing_address\" \r\n                placeholder=\"Mailing address for this country\" \r\n                value={form.mailing_address || ''} \r\n                onChange={handleFormChange}\r\n                rows={3}\r\n                style={{ width: '100%', padding: '0.5rem' }}\r\n              />\r\n            </div>\r\n            \r\n            <div style={{ display: 'flex', gap: '1rem', gridColumn: '1 / -1' }}>\r\n              <button \r\n                onClick={handleSave}\r\n                disabled={loading}\r\n                style={{ \r\n                  padding: '0.5rem 1rem', \r\n                  backgroundColor: '#007bff', \r\n                  color: 'white', \r\n                  border: 'none', \r\n                  borderRadius: '4px',\r\n                  cursor: loading ? 'not-allowed' : 'pointer'\r\n                }}\r\n              >\r\n                 {loading ? 'Saving...' : 'Save'}\r\n              </button>\r\n              <button \r\n                onClick={cancelEdit}\r\n                disabled={loading}\r\n                style={{ \r\n                  padding: '0.5rem 1rem', \r\n                  backgroundColor: '#6c757d', \r\n                  color: 'white', \r\n                  border: 'none', \r\n                  borderRadius: '4px',\r\n                  cursor: loading ? 'not-allowed' : 'pointer'\r\n                }}\r\n              >\r\n                 Cancel\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {mode === 'view' && (\r\n        <div>\r\n          <button \r\n            onClick={startAddNew}\r\n            style={{ \r\n              marginBottom: '1rem',\r\n              padding: '0.5rem 1rem', \r\n              backgroundColor: '#28a745', \r\n              color: 'white', \r\n              border: 'none', \r\n              borderRadius: '4px',\r\n              cursor: 'pointer'\r\n            }}\r\n          >\r\n             Add New Configuration\r\n          </button>\r\n          \r\n          <div style={{ overflowX: 'auto' }}>\r\n            <table \r\n              style={{ \r\n                width: '100%', \r\n                borderCollapse: 'collapse',\r\n                border: '1px solid #ddd'\r\n              }}\r\n            >\r\n              <thead>\r\n                <tr style={{ backgroundColor: '#f8f9fa' }}>\r\n                  <th style={{ padding: '0.75rem', border: '1px solid #ddd' }}>Country</th>\r\n                  <th style={{ padding: '0.75rem', border: '1px solid #ddd' }}>Email</th>\r\n                  <th style={{ padding: '0.75rem', border: '1px solid #ddd' }}>Phone</th>\r\n                  <th style={{ padding: '0.75rem', border: '1px solid #ddd' }}>Location</th>\r\n                  <th style={{ padding: '0.75rem', border: '1px solid #ddd' }}>EmailJS Status</th>\r\n                  <th style={{ padding: '0.75rem', border: '1px solid #ddd' }}>Actions</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                {countries.map(country => {\r\n                  const contact = getContactForCountry(country.name);\r\n                  return (\r\n                    <tr key={country.name} style={{ borderBottom: '1px solid #ddd' }}>\r\n                      <td style={{ padding: '0.75rem', border: '1px solid #ddd' }}>\r\n                        <strong>{country.name}</strong>\r\n                      </td>\r\n                      <td style={{ padding: '0.75rem', border: '1px solid #ddd' }}>\r\n                        {contact?.email || ''}\r\n                      </td>\r\n                      <td style={{ padding: '0.75rem', border: '1px solid #ddd' }}>\r\n                        {contact?.phone || ''}\r\n                      </td>\r\n                      <td style={{ padding: '0.75rem', border: '1px solid #ddd' }}>\r\n                        {contact ? (\r\n                          <span>\r\n                            {getCoordinatesStatusIcon(contact.country)}{' '}\r\n                            {contact.latitude && contact.longitude \r\n                              ? `${parseFloat(contact.latitude).toFixed(4)}, ${parseFloat(contact.longitude).toFixed(4)}`\r\n                              : 'No coordinates'\r\n                            }\r\n                          </span>\r\n                        ) : ''}\r\n                      </td>\r\n                      <td style={{ padding: '0.75rem', border: '1px solid #ddd' }}>\r\n                        {contact ? (\r\n                          <span>\r\n                            {getEmailJSStatusIcon(contact.country)} {getEmailJSStatusText(contact.country)}\r\n                          </span>\r\n                        ) : ''}\r\n                      </td>\r\n                      <td style={{ padding: '0.75rem', border: '1px solid #ddd' }}>\r\n                        {contact ? (\r\n                          <div style={{ display: 'flex', gap: '0.5rem', flexWrap: 'wrap' }}>\r\n                            <button \r\n                              onClick={() => handleEdit(contact)}\r\n                              style={{ \r\n                                padding: '0.25rem 0.5rem', \r\n                                backgroundColor: '#ffc107', \r\n                                color: 'black', \r\n                                border: 'none', \r\n                                borderRadius: '4px',\r\n                                cursor: 'pointer',\r\n                                fontSize: '0.875rem'\r\n                              }}\r\n                            >\r\n                               Edit\r\n                            </button>\r\n                            <button \r\n                              onClick={() => handleDelete(contact.country)}\r\n                              style={{ \r\n                                padding: '0.25rem 0.5rem', \r\n                                backgroundColor: '#dc3545', \r\n                                color: 'white', \r\n                                border: 'none', \r\n                                borderRadius: '4px',\r\n                                cursor: 'pointer',\r\n                                fontSize: '0.875rem'\r\n                              }}\r\n                            >\r\n                               Delete\r\n                            </button>\r\n                          </div>\r\n                        ) : (\r\n                          <button \r\n                            onClick={() => startAddForCountry(country.name)}\r\n                            style={{ \r\n                              padding: '0.25rem 0.5rem', \r\n                              backgroundColor: '#28a745', \r\n                              color: 'white', \r\n                              border: 'none', \r\n                              borderRadius: '4px',\r\n                              cursor: 'pointer',\r\n                              fontSize: '0.875rem'\r\n                            }}\r\n                          >\r\n                             Add\r\n                          </button>\r\n                        )}\r\n                      </td>\r\n                    </tr>\r\n                  );\r\n                })}\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n          \r\n          {countries.length === 0 && !loading && (\r\n            <p style={{ textAlign: 'center', color: '#6c757d', marginTop: '2rem' }}>\r\n              No countries available. Please check your countries endpoint.\r\n            </p>\r\n          )}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AdminManageContacts;","import React, { useEffect, useState } from 'react';\r\nimport {\r\n  Box, Typography, TextField, Button,\r\n  List, ListItem, ListItemText, IconButton, Divider\r\n} from '@mui/material';\r\nimport DeleteIcon from '@mui/icons-material/Delete';\r\nimport EditIcon from '@mui/icons-material/Edit';\r\nimport SaveIcon from '@mui/icons-material/Save';\r\nimport CancelIcon from '@mui/icons-material/Cancel';\r\nimport { useAuth } from '../../context/AuthContext';\r\n\r\nimport { API_URL } from '../../config';\r\n\r\nconst API_BASE = API_URL;\r\nconst AdminAddCategories = () => {\r\n  const { user } = useAuth();\r\n  const [categories, setCategories] = useState([]);\r\n  const [newCategory, setNewCategory] = useState('');\r\n  const [error, setError] = useState('');\r\n  const [success, setSuccess] = useState('');\r\n  const [editingId, setEditingId] = useState(null);\r\n  const [editValue, setEditValue] = useState('');\r\n\r\n  const fetchCategories = async () => {\r\n    try {\r\n      const res = await fetch(`${API_BASE}/categories`);\r\n      const data = await res.json();\r\n      console.log(' Categories fetched:', data);\r\n\r\n      if (!res.ok) throw new Error(data.message || 'Failed to load categories');\r\n      setCategories(Array.isArray(data) ? data : []);\r\n    } catch (err) {\r\n      console.error(' Fetch error:', err);\r\n      setError('Failed to fetch categories.');\r\n    }\r\n  };\r\n\r\n  const resetFeedback = () => {\r\n    setError('');\r\n    setSuccess('');\r\n  };\r\n\r\n  const handleAdd = async () => {\r\n    resetFeedback();\r\n    const trimmed = newCategory.trim();\r\n    if (!trimmed) return setError('Focus Area name required.');\r\n\r\n    const alreadyExists = categories.find(cat => cat.name.toLowerCase() === trimmed.toLowerCase());\r\n    if (alreadyExists) return setError('Focus Area already exists.');\r\n\r\n    try {\r\n      const res = await fetch(`${API_BASE}/categories`, {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        credentials: 'include',\r\n        body: JSON.stringify({ name: trimmed }),\r\n      });\r\n\r\n      const result = await res.json();\r\n      if (!res.ok) throw new Error(result.message || 'Error adding Focus Area');\r\n\r\n      setSuccess(' Focus Area added successfully.');\r\n      setNewCategory('');\r\n      fetchCategories(); // refetch actual DB data\r\n    } catch (err) {\r\n      console.error(' Add error:', err);\r\n      setError(err.message);\r\n    }\r\n  };\r\n\r\n  const handleDelete = async (id) => {\r\n    resetFeedback();\r\n    try {\r\n      const res = await fetch(`${API_BASE}/categories/${id}`, {\r\n        method: 'DELETE',\r\n        credentials: 'include',\r\n      });\r\n\r\n      const result = await res.json();\r\n      if (!res.ok) throw new Error(result.message || 'Error deleting');\r\n\r\n      setSuccess(' Focus Area deleted.');\r\n      fetchCategories();\r\n    } catch (err) {\r\n      console.error(' Delete error:', err);\r\n      setError(err.message);\r\n    }\r\n  };\r\n\r\n  const handleSaveEdit = async (id) => {\r\n    resetFeedback();\r\n    const trimmed = editValue.trim();\r\n    if (!trimmed) return setError('Updated name cannot be empty.');\r\n\r\n    const alreadyExists = categories.find(\r\n      cat => cat.name.toLowerCase() === trimmed.toLowerCase() && cat.id !== id\r\n    );\r\n    if (alreadyExists) return setError('Another Focus Area with this name already exists.');\r\n\r\n    try {\r\n      const res = await fetch(`${API_BASE}/categories/${id}`, {\r\n        method: 'PUT',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        credentials: 'include',\r\n        body: JSON.stringify({ name: trimmed }),\r\n      });\r\n\r\n      const result = await res.json();\r\n      if (!res.ok) throw new Error(result.message || 'Error updating');\r\n\r\n      setSuccess(' Focus Area updated.');\r\n      setEditingId(null);\r\n      fetchCategories();\r\n    } catch (err) {\r\n      console.error(' Update error:', err);\r\n      setError(err.message);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchCategories();\r\n  }, []);\r\n\r\n  if (!user || user.role !== 'admin') {\r\n    return <Typography variant=\"h6\" color=\"error\">Access Denied</Typography>;\r\n  }\r\n\r\n  return (\r\n    <Box sx={{ maxWidth: 600, mx: 'auto', mt: 4, p: 2 }}>\r\n      <Typography variant=\"h4\" gutterBottom> Manage Focus Areas</Typography>\r\n\r\n      {error && <Typography color=\"error\" sx={{ mb: 2 }}>{error}</Typography>}\r\n      {success && <Typography color=\"success.main\" sx={{ mb: 2 }}>{success}</Typography>}\r\n\r\n      <Box sx={{ display: 'flex', gap: 2, mb: 2 }}>\r\n        <TextField\r\n          label=\"New Focus Area\"\r\n          value={newCategory}\r\n          onChange={(e) => setNewCategory(e.target.value)}\r\n          fullWidth\r\n        />\r\n        <Button variant=\"contained\" onClick={handleAdd}>Add</Button>\r\n      </Box>\r\n\r\n      <Divider sx={{ mb: 2 }} />\r\n\r\n      <List>\r\n        {categories.map((cat) => (\r\n          <ListItem key={cat.id} sx={{ gap: 1 }}>\r\n            {editingId === cat.id ? (\r\n              <>\r\n                <TextField\r\n                  value={editValue}\r\n                  onChange={(e) => setEditValue(e.target.value)}\r\n                  fullWidth\r\n                />\r\n                <IconButton onClick={() => handleSaveEdit(cat.id)}><SaveIcon /></IconButton>\r\n                <IconButton onClick={() => setEditingId(null)}><CancelIcon /></IconButton>\r\n              </>\r\n            ) : (\r\n              <>\r\n                <ListItemText primary={cat.name} />\r\n                <IconButton onClick={() => { setEditingId(cat.id); setEditValue(cat.name); }}><EditIcon /></IconButton>\r\n                <IconButton onClick={() => handleDelete(cat.id)}><DeleteIcon /></IconButton>\r\n              </>\r\n            )}\r\n          </ListItem>\r\n        ))}\r\n      </List>\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default AdminAddCategories;\r\n","import React, { useState, useEffect, useCallback } from 'react';\r\nimport axios from 'axios';\r\nimport {\r\n  Box, Typography, Button, TextField, IconButton, MenuItem,\r\n  Select, FormControl, InputLabel, Dialog, DialogTitle,\r\n  DialogContent, DialogActions, Switch, FormControlLabel,\r\n  Chip, Alert, CircularProgress, Table, TableBody, TableCell,\r\n  TableContainer, TableHead, TableRow, Avatar, InputAdornment,\r\n  TablePagination, Paper, Stack, Grid\r\n} from '@mui/material';\r\nimport DeleteIcon from '@mui/icons-material/Delete';\r\nimport EditIcon from '@mui/icons-material/Edit';\r\nimport StarIcon from '@mui/icons-material/Star';\r\nimport StarBorderIcon from '@mui/icons-material/StarBorder';\r\nimport AddIcon from '@mui/icons-material/Add';\r\nimport SearchIcon from '@mui/icons-material/Search';\r\nimport FilterListIcon from '@mui/icons-material/FilterList';\r\nimport ClearIcon from '@mui/icons-material/Clear';\r\nimport CloseIcon from '@mui/icons-material/Close';\r\nimport BusinessIcon from '@mui/icons-material/Business';\r\nimport { API_URL, STATIC_URL } from '../../config';\r\n\r\nconst AdminManagePartners = () => {\r\n  const [partners, setPartners] = useState([]);\r\n  const [filteredPartners, setFilteredPartners] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [fetchingData, setFetchingData] = useState(true);\r\n  const [error, setError] = useState('');\r\n\r\n  // Search and filter states\r\n  const [searchTerm, setSearchTerm] = useState('');\r\n  const [typeFilter, setTypeFilter] = useState('');\r\n  const [featuredFilter, setFeaturedFilter] = useState('');\r\n\r\n  // Pagination states\r\n  const [page, setPage] = useState(0);\r\n  const [rowsPerPage, setRowsPerPage] = useState(10);\r\n\r\n  // Add partner modal states\r\n  const [modalOpen, setModalOpen] = useState(false);\r\n  const [name, setName] = useState('');\r\n  const [logo, setLogo] = useState(null);\r\n  const [type, setType] = useState('partner');\r\n  const [featured, setFeatured] = useState(false);\r\n  const [submitLoading, setSubmitLoading] = useState(false);\r\n  const [submitSuccess, setSubmitSuccess] = useState(false);\r\n  const [submitError, setSubmitError] = useState('');\r\n\r\n  // Edit modal states\r\n  const [editModalOpen, setEditModalOpen] = useState(false);\r\n  const [editingPartner, setEditingPartner] = useState(null);\r\n  const [editName, setEditName] = useState('');\r\n  const [editType, setEditType] = useState('partner');\r\n  const [editFeatured, setEditFeatured] = useState(false);\r\n  const [editLogo, setEditLogo] = useState(null);\r\n  const [currentLogoUrl, setCurrentLogoUrl] = useState('');\r\n\r\n  const fetchPartners = useCallback(async () => {\r\n    try {\r\n      setFetchingData(true);\r\n      const res = await axios.get(`${API_URL}/partners`, { withCredentials: true });\r\n      \r\n      // Sort partners by featured first, then by name\r\n      const sortedPartners = res.data.sort((a, b) => {\r\n        if (a.featured && !b.featured) return -1;\r\n        if (!a.featured && b.featured) return 1;\r\n        return a.name.localeCompare(b.name);\r\n      });\r\n      \r\n      setPartners(sortedPartners);\r\n      setError('');\r\n    } catch (err) {\r\n      console.error('Error fetching partners:', err);\r\n      setError('Failed to load partners');\r\n      setPartners([]);\r\n    } finally {\r\n      setFetchingData(false);\r\n    }\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    fetchPartners();\r\n  }, [fetchPartners]);\r\n\r\n  // Filter and search logic\r\n  useEffect(() => {\r\n    let filtered = partners;\r\n\r\n    // Apply search filter\r\n    if (searchTerm) {\r\n      filtered = filtered.filter(partner =>\r\n        partner.name.toLowerCase().includes(searchTerm.toLowerCase())\r\n      );\r\n    }\r\n\r\n    // Apply type filter\r\n    if (typeFilter) {\r\n      filtered = filtered.filter(partner => \r\n        (partner.type || 'partner').toLowerCase() === typeFilter\r\n      );\r\n    }\r\n\r\n    // Apply featured filter\r\n    if (featuredFilter) {\r\n      if (featuredFilter === 'featured') {\r\n        filtered = filtered.filter(partner => partner.featured);\r\n      } else if (featuredFilter === 'not-featured') {\r\n        filtered = filtered.filter(partner => !partner.featured);\r\n      }\r\n    }\r\n\r\n    // Sort filtered results (featured first)\r\n    filtered = filtered.sort((a, b) => {\r\n      if (a.featured && !b.featured) return -1;\r\n      if (!a.featured && b.featured) return 1;\r\n      return a.name.localeCompare(b.name);\r\n    });\r\n\r\n    setFilteredPartners(filtered);\r\n    setPage(0); // Reset to first page when filters change\r\n  }, [partners, searchTerm, typeFilter, featuredFilter]);\r\n\r\n  // Get unique types for filter dropdown\r\n  const types = [...new Set(partners.map(partner => partner.type || 'partner'))].filter(Boolean);\r\n\r\n  // Clear all filters\r\n  const clearFilters = () => {\r\n    setSearchTerm('');\r\n    setTypeFilter('');\r\n    setFeaturedFilter('');\r\n  };\r\n\r\n  // Modal form reset\r\n  const resetForm = () => {\r\n    setName('');\r\n    setLogo(null);\r\n    setType('partner');\r\n    setFeatured(false);\r\n    setSubmitError('');\r\n    setSubmitSuccess(false);\r\n    \r\n    // Reset file input\r\n    const fileInput = document.querySelector('input[type=\"file\"]');\r\n    if (fileInput) fileInput.value = '';\r\n  };\r\n\r\n  // Add partner functionality\r\n  const handleAddModalOpen = () => {\r\n    resetForm();\r\n    setModalOpen(true);\r\n  };\r\n\r\n  const handleModalClose = () => {\r\n    setModalOpen(false);\r\n    resetForm();\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    \r\n    if (!name || !logo || !type) {\r\n      setSubmitError('All fields are required');\r\n      return;\r\n    }\r\n    \r\n    const formData = new FormData();\r\n    formData.append('name', name.trim());\r\n    formData.append('logo', logo);\r\n    formData.append('type', type.toLowerCase());\r\n    formData.append('featured', featured);\r\n\r\n    setSubmitLoading(true);\r\n    setSubmitError('');\r\n    setSubmitSuccess(false);\r\n\r\n    try {\r\n      await axios.post(`${API_URL}/partners`, formData, {\r\n        withCredentials: true,\r\n        headers: { 'Content-Type': 'multipart/form-data' },\r\n      });\r\n      \r\n      setSubmitSuccess(true);\r\n      fetchPartners(); // Refresh the partners list\r\n      \r\n      // Close modal after 2 seconds\r\n      setTimeout(() => {\r\n        handleModalClose();\r\n      }, 2000);\r\n      \r\n    } catch (err) {\r\n      console.error('Error uploading partner:', err);\r\n      \r\n      if (err.response?.status === 413) {\r\n        setSubmitError('File too large. Please choose a smaller image.');\r\n      } else if (err.response?.data?.message) {\r\n        setSubmitError(`Failed to add partner: ${err.response.data.message}`);\r\n      } else {\r\n        setSubmitError('Failed to add partner. Please try again.');\r\n      }\r\n    } finally {\r\n      setSubmitLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleDelete = async (id) => {\r\n    if (!window.confirm('Delete this partner?')) return;\r\n    \r\n    try {\r\n      await axios.delete(`${API_URL}/partners/${id}`, { withCredentials: true });\r\n      fetchPartners();\r\n    } catch (err) {\r\n      console.error('Error deleting partner:', err);\r\n      setError('Failed to delete partner');\r\n    }\r\n  };\r\n\r\n  const handleTypeChange = async (id, newType) => {\r\n    try {\r\n      await axios.put(`${API_URL}/partners/${id}/type`, { \r\n        type: newType.toLowerCase() \r\n      }, {\r\n        withCredentials: true,\r\n        headers: { 'Content-Type': 'application/json' }\r\n      });\r\n      fetchPartners();\r\n    } catch (err) {\r\n      console.error('Failed to update type:', err);\r\n      setError('Could not update partner type.');\r\n    }\r\n  };\r\n\r\n  const handleFeaturedToggle = async (id, currentFeatured) => {\r\n    try {\r\n      await axios.put(`${API_URL}/partners/${id}/featured`, { \r\n        featured: !currentFeatured \r\n      }, {\r\n        withCredentials: true,\r\n        headers: { 'Content-Type': 'application/json' }\r\n      });\r\n      fetchPartners();\r\n    } catch (err) {\r\n      console.error('Failed to update featured status:', err);\r\n      setError('Could not update featured status.');\r\n    }\r\n  };\r\n\r\n  const handleEditClick = (partner) => {\r\n    setEditingPartner(partner);\r\n    setEditName(partner.name);\r\n    setEditType(partner.type || 'partner');\r\n    setEditFeatured(partner.featured || false);\r\n    setEditLogo(null);\r\n    setCurrentLogoUrl(partner.logo);\r\n    setSubmitError('');\r\n    setSubmitSuccess(false);\r\n    setEditModalOpen(true);\r\n  };\r\n\r\n  const handleEditSubmit = async () => {\r\n    if (!editName.trim()) {\r\n      setSubmitError('Name is required');\r\n      return;\r\n    }\r\n\r\n    setSubmitLoading(true);\r\n    setSubmitError('');\r\n    setSubmitSuccess(false);\r\n    \r\n    try {\r\n      const formData = new FormData();\r\n      formData.append('name', editName.trim());\r\n      formData.append('type', editType.toLowerCase());\r\n      formData.append('featured', editFeatured);\r\n      \r\n      if (editLogo) {\r\n        formData.append('logo', editLogo);\r\n      }\r\n\r\n      await axios.put(`${API_URL}/partners/${editingPartner.id}`, formData, {\r\n        withCredentials: true,\r\n        headers: { 'Content-Type': 'multipart/form-data' }\r\n      });\r\n      \r\n      setSubmitSuccess(true);\r\n      fetchPartners();\r\n      \r\n      // Close modal after 2 seconds\r\n      setTimeout(() => {\r\n        handleEditCancel();\r\n      }, 2000);\r\n      \r\n    } catch (err) {\r\n      console.error('Error updating partner:', err);\r\n      setSubmitError(`Failed to update partner: ${err.response?.data?.message || err.message}`);\r\n    } finally {\r\n      setSubmitLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleEditCancel = () => {\r\n    setEditModalOpen(false);\r\n    setEditingPartner(null);\r\n    setEditName('');\r\n    setEditType('partner');\r\n    setEditFeatured(false);\r\n    setEditLogo(null);\r\n    setCurrentLogoUrl('');\r\n    setSubmitError('');\r\n    setSubmitSuccess(false);\r\n  };\r\n\r\n  // Pagination handlers\r\n  const handleChangePage = (event, newPage) => {\r\n    setPage(newPage);\r\n  };\r\n\r\n  const handleChangeRowsPerPage = (event) => {\r\n    setRowsPerPage(parseInt(event.target.value, 10));\r\n    setPage(0);\r\n  };\r\n\r\n  // Get paginated data\r\n  const paginatedPartners = filteredPartners.slice(\r\n    page * rowsPerPage,\r\n    page * rowsPerPage + rowsPerPage\r\n  );\r\n\r\n  const getTypeColor = (type) => {\r\n    const colors = {\r\n      'partner': 'primary',\r\n      'accreditator': 'secondary',\r\n      'both': 'success'\r\n    };\r\n    return colors[type?.toLowerCase()] || 'default';\r\n  };\r\n\r\n  const getTypeDisplayName = (type) => {\r\n    const names = {\r\n      'partner': 'Partner',\r\n      'accreditator': 'Accreditator',\r\n      'both': 'Both'\r\n    };\r\n    return names[type?.toLowerCase()] || 'Partner';\r\n  };\r\n\r\n  if (fetchingData) {\r\n    return (\r\n      <Box sx={{ display: 'flex', justifyContent: 'center', alignItems: 'center', minHeight: 400 }}>\r\n        <CircularProgress size={60} />\r\n      </Box>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Box sx={{ p: 3, position: 'relative' }}>\r\n      {/* Header */}\r\n      <Box sx={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', mb: 3 }}>\r\n        <Typography variant=\"h4\" gutterBottom>\r\n          Partners Management ({partners.length} total, {filteredPartners.length} shown)\r\n        </Typography>\r\n        <Button\r\n          variant=\"contained\"\r\n          color=\"primary\"\r\n          startIcon={<AddIcon />}\r\n          onClick={handleAddModalOpen}\r\n          size=\"large\"\r\n        >\r\n          Add Partner\r\n        </Button>\r\n      </Box>\r\n\r\n      {/* Error Alert */}\r\n      {error && (\r\n        <Alert severity=\"error\" sx={{ mb: 3 }}>\r\n          {error}\r\n        </Alert>\r\n      )}\r\n\r\n      {/* Search and Filter Controls */}\r\n      <Paper elevation={1} sx={{ p: 3, mb: 3 }}>\r\n        <Typography variant=\"h6\" sx={{ mb: 2, display: 'flex', alignItems: 'center', gap: 1 }}>\r\n          <FilterListIcon /> Search & Filters\r\n        </Typography>\r\n        \r\n        <Grid container spacing={2} alignItems=\"center\">\r\n          {/* Search */}\r\n          <Grid item xs={12} md={4}>\r\n            <TextField\r\n              fullWidth\r\n              label=\"Search partners\"\r\n              value={searchTerm}\r\n              onChange={(e) => setSearchTerm(e.target.value)}\r\n              placeholder=\"Search by name...\"\r\n              InputProps={{\r\n                startAdornment: (\r\n                  <InputAdornment position=\"start\">\r\n                    <SearchIcon />\r\n                  </InputAdornment>\r\n                ),\r\n                endAdornment: searchTerm && (\r\n                  <InputAdornment position=\"end\">\r\n                    <IconButton onClick={() => setSearchTerm('')} size=\"small\">\r\n                      <ClearIcon />\r\n                    </IconButton>\r\n                  </InputAdornment>\r\n                )\r\n              }}\r\n            />\r\n          </Grid>\r\n\r\n          {/* Type Filter */}\r\n          <Grid item xs={12} md={3}>\r\n            <FormControl fullWidth>\r\n              <InputLabel>Filter by Type</InputLabel>\r\n              <Select\r\n                value={typeFilter}\r\n                onChange={(e) => setTypeFilter(e.target.value)}\r\n                label=\"Filter by Type\"\r\n              >\r\n                <MenuItem value=\"\">All Types</MenuItem>\r\n                <MenuItem value=\"partner\">Partner</MenuItem>\r\n                <MenuItem value=\"accreditator\">Accreditator</MenuItem>\r\n                <MenuItem value=\"both\">Both</MenuItem>\r\n              </Select>\r\n            </FormControl>\r\n          </Grid>\r\n\r\n          {/* Featured Filter */}\r\n          <Grid item xs={12} md={3}>\r\n            <FormControl fullWidth>\r\n              <InputLabel>Filter by Status</InputLabel>\r\n              <Select\r\n                value={featuredFilter}\r\n                onChange={(e) => setFeaturedFilter(e.target.value)}\r\n                label=\"Filter by Status\"\r\n              >\r\n                <MenuItem value=\"\">All Status</MenuItem>\r\n                <MenuItem value=\"featured\">Featured Only</MenuItem>\r\n                <MenuItem value=\"not-featured\">Not Featured</MenuItem>\r\n              </Select>\r\n            </FormControl>\r\n          </Grid>\r\n\r\n          {/* Clear Filters */}\r\n          <Grid item xs={12} md={2}>\r\n            <Button\r\n              fullWidth\r\n              variant=\"outlined\"\r\n              onClick={clearFilters}\r\n              startIcon={<ClearIcon />}\r\n              disabled={!searchTerm && !typeFilter && !featuredFilter}\r\n            >\r\n              Clear Filters\r\n            </Button>\r\n          </Grid>\r\n        </Grid>\r\n\r\n        {/* Active Filters Display */}\r\n        {(searchTerm || typeFilter || featuredFilter) && (\r\n          <Box sx={{ mt: 2 }}>\r\n            <Typography variant=\"body2\" color=\"text.secondary\" sx={{ mb: 1 }}>\r\n              Active filters:\r\n            </Typography>\r\n            <Stack direction=\"row\" spacing={1} flexWrap=\"wrap\">\r\n              {searchTerm && (\r\n                <Chip\r\n                  label={`Search: \"${searchTerm}\"`}\r\n                  onDelete={() => setSearchTerm('')}\r\n                  size=\"small\"\r\n                  color=\"primary\"\r\n                />\r\n              )}\r\n              {typeFilter && (\r\n                <Chip\r\n                  label={`Type: ${getTypeDisplayName(typeFilter)}`}\r\n                  onDelete={() => setTypeFilter('')}\r\n                  size=\"small\"\r\n                  color=\"secondary\"\r\n                />\r\n              )}\r\n              {featuredFilter && (\r\n                <Chip\r\n                  label={`Status: ${featuredFilter === 'featured' ? 'Featured' : 'Not Featured'}`}\r\n                  onDelete={() => setFeaturedFilter('')}\r\n                  size=\"small\"\r\n                  color=\"success\"\r\n                />\r\n              )}\r\n            </Stack>\r\n          </Box>\r\n        )}\r\n      </Paper>\r\n\r\n      {/* Partners Table */}\r\n      {filteredPartners.length === 0 ? (\r\n        <Box sx={{ textAlign: 'center', py: 8 }}>\r\n          <BusinessIcon sx={{ fontSize: 80, color: 'text.secondary', mb: 2 }} />\r\n          <Typography variant=\"h6\" color=\"text.secondary\" gutterBottom>\r\n            {partners.length === 0 ? 'No partners found' : 'No partners match your filters'}\r\n          </Typography>\r\n          <Typography variant=\"body2\" color=\"text.secondary\" sx={{ mb: 3 }}>\r\n            {partners.length === 0 \r\n              ? 'Click the \"Add Partner\" button to get started'\r\n              : 'Try adjusting your search or filter criteria'\r\n            }\r\n          </Typography>\r\n          {(searchTerm || typeFilter || featuredFilter) && (\r\n            <Button variant=\"outlined\" onClick={clearFilters}>\r\n              Clear All Filters\r\n            </Button>\r\n          )}\r\n        </Box>\r\n      ) : (\r\n        <Paper elevation={1}>\r\n          <TableContainer>\r\n            <Table>\r\n              <TableHead>\r\n                <TableRow sx={{ backgroundColor: '#f5f5f5' }}>\r\n                  <TableCell sx={{ fontWeight: 600, minWidth: 200 }}>Partner</TableCell>\r\n                  <TableCell sx={{ fontWeight: 600, minWidth: 120 }}>Type</TableCell>\r\n                  <TableCell sx={{ fontWeight: 600, minWidth: 100, textAlign: 'center' }}>Featured</TableCell>\r\n                  <TableCell sx={{ fontWeight: 600, minWidth: 150 }}>Logo</TableCell>\r\n                  <TableCell sx={{ fontWeight: 600, minWidth: 120, textAlign: 'center' }}>Actions</TableCell>\r\n                </TableRow>\r\n              </TableHead>\r\n              <TableBody>\r\n                {paginatedPartners.map((partner) => (\r\n                  <TableRow \r\n                    key={partner.id}\r\n                    sx={{ \r\n                      '&:hover': { \r\n                        backgroundColor: '#f9f9f9' \r\n                      },\r\n                      '&:last-child td, &:last-child th': { border: 0 }\r\n                    }}\r\n                  >\r\n                    {/* Partner Name */}\r\n                    <TableCell>\r\n                      <Typography variant=\"subtitle1\" sx={{ fontWeight: 600 }}>\r\n                        {partner.name}\r\n                      </Typography>\r\n                    </TableCell>\r\n\r\n                    {/* Type */}\r\n                    <TableCell>\r\n                      <Chip\r\n                        label={getTypeDisplayName(partner.type)}\r\n                        color={getTypeColor(partner.type)}\r\n                        size=\"small\"\r\n                        sx={{ fontWeight: 500 }}\r\n                      />\r\n                    </TableCell>\r\n\r\n                    {/* Featured Status */}\r\n                    <TableCell align=\"center\">\r\n                      <IconButton\r\n                        onClick={() => handleFeaturedToggle(partner.id, partner.featured)}\r\n                        color={partner.featured ? \"primary\" : \"default\"}\r\n                        size=\"small\"\r\n                        title={partner.featured ? \"Remove from featured\" : \"Mark as featured\"}\r\n                        disabled={loading}\r\n                      >\r\n                        {partner.featured ? <StarIcon /> : <StarBorderIcon />}\r\n                      </IconButton>\r\n                    </TableCell>\r\n\r\n                    {/* Logo */}\r\n                    <TableCell>\r\n                      <Avatar\r\n                        src={`${STATIC_URL}/uploads/partners/${partner.logo}`}\r\n                        alt={partner.name}\r\n                        variant=\"rounded\"\r\n                        sx={{ \r\n                          width: 60, \r\n                          height: 40,\r\n                          backgroundColor: '#f5f5f5',\r\n                          '& img': {\r\n                            objectFit: 'contain'\r\n                          }\r\n                        }}\r\n                      >\r\n                        <BusinessIcon />\r\n                      </Avatar>\r\n                    </TableCell>\r\n\r\n                    {/* Actions */}\r\n                    <TableCell>\r\n                      <Box sx={{ display: 'flex', justifyContent: 'center', gap: 1 }}>\r\n                        <IconButton \r\n                          onClick={() => handleEditClick(partner)} \r\n                          color=\"info\"\r\n                          size=\"small\"\r\n                          sx={{ \r\n                            '&:hover': { \r\n                              backgroundColor: 'info.light',\r\n                              color: 'white'\r\n                            }\r\n                          }}\r\n                        >\r\n                          <EditIcon />\r\n                        </IconButton>\r\n                        \r\n                        <IconButton \r\n                          onClick={() => handleDelete(partner.id)} \r\n                          color=\"error\"\r\n                          size=\"small\"\r\n                          sx={{ \r\n                            '&:hover': { \r\n                              backgroundColor: 'error.light',\r\n                              color: 'white'\r\n                            }\r\n                          }}\r\n                        >\r\n                          <DeleteIcon />\r\n                        </IconButton>\r\n                      </Box>\r\n                    </TableCell>\r\n                  </TableRow>\r\n                ))}\r\n              </TableBody>\r\n            </Table>\r\n          </TableContainer>\r\n\r\n          {/* Pagination */}\r\n          <TablePagination\r\n            rowsPerPageOptions={[5, 10, 25, 50]}\r\n            component=\"div\"\r\n            count={filteredPartners.length}\r\n            rowsPerPage={rowsPerPage}\r\n            page={page}\r\n            onPageChange={handleChangePage}\r\n            onRowsPerPageChange={handleChangeRowsPerPage}\r\n            sx={{ borderTop: '1px solid #e0e0e0' }}\r\n          />\r\n        </Paper>\r\n      )}\r\n\r\n      {/* Add Partner Modal */}\r\n      <Dialog\r\n        open={modalOpen}\r\n        onClose={handleModalClose}\r\n        maxWidth=\"md\"\r\n        fullWidth\r\n        PaperProps={{\r\n          sx: { \r\n            maxHeight: '95vh',\r\n            m: 2\r\n          }\r\n        }}\r\n      >\r\n        <DialogTitle sx={{ \r\n          display: 'flex', \r\n          justifyContent: 'space-between', \r\n          alignItems: 'center',\r\n          pb: 2,\r\n          borderBottom: '1px solid #e0e0e0'\r\n        }}>\r\n          <Typography variant=\"h6\">\r\n            Add New Partner\r\n          </Typography>\r\n          <IconButton onClick={handleModalClose} size=\"small\">\r\n            <CloseIcon />\r\n          </IconButton>\r\n        </DialogTitle>\r\n        \r\n        <DialogContent sx={{ p: 3 }}>\r\n          {submitSuccess && (\r\n            <Alert severity=\"success\" sx={{ mb: 3 }}>\r\n              Partner added successfully! Closing...\r\n            </Alert>\r\n          )}\r\n\r\n          {submitError && (\r\n            <Alert severity=\"error\" sx={{ mb: 3 }}>\r\n              {submitError}\r\n            </Alert>\r\n          )}\r\n\r\n          <Box component=\"form\" onSubmit={handleSubmit}>\r\n            <Grid container spacing={3}>\r\n              <Grid item xs={12}>\r\n                <TextField\r\n                  label=\"Partner Name\"\r\n                  value={name}\r\n                  onChange={e => setName(e.target.value)}\r\n                  fullWidth\r\n                  required\r\n                  disabled={submitLoading || submitSuccess}\r\n                  sx={{ mb: 2 }}\r\n                />\r\n              </Grid>\r\n\r\n              <Grid item xs={12} md={6}>\r\n                <FormControl fullWidth required sx={{ mb: 2 }}>\r\n                  <InputLabel>Type</InputLabel>\r\n                  <Select\r\n                    value={type}\r\n                    onChange={e => setType(e.target.value)}\r\n                    label=\"Type\"\r\n                    disabled={submitLoading || submitSuccess}\r\n                  >\r\n                    <MenuItem value=\"partner\">Partner</MenuItem>\r\n                    <MenuItem value=\"accreditator\">Accreditator</MenuItem>\r\n                    <MenuItem value=\"both\">Both</MenuItem>\r\n                  </Select>\r\n                </FormControl>\r\n              </Grid>\r\n\r\n              <Grid item xs={12} md={6}>\r\n                <FormControlLabel\r\n                  control={\r\n                    <Switch\r\n                      checked={featured}\r\n                      onChange={(e) => setFeatured(e.target.checked)}\r\n                      color=\"primary\"\r\n                      disabled={submitLoading || submitSuccess}\r\n                    />\r\n                  }\r\n                  label=\"Featured Partner\"\r\n                  sx={{ mb: 2 }}\r\n                />\r\n              </Grid>\r\n\r\n              <Grid item xs={12}>\r\n                <Paper variant=\"outlined\" sx={{ p: 3 }}>\r\n                  <Typography variant=\"subtitle1\" gutterBottom sx={{ fontWeight: 600 }}>\r\n                    Partner Logo <span style={{ color: 'red' }}>*</span>\r\n                  </Typography>\r\n                  \r\n                  <input\r\n                    type=\"file\"\r\n                    accept=\"image/*\"\r\n                    onChange={e => setLogo(e.target.files[0])}\r\n                    required\r\n                    disabled={submitLoading || submitSuccess}\r\n                    style={{\r\n                      padding: '12px',\r\n                      border: '2px dashed #e0e0e0',\r\n                      borderRadius: '8px',\r\n                      width: '100%',\r\n                      backgroundColor: '#fafafa'\r\n                    }}\r\n                  />\r\n                  <Typography variant=\"caption\" color=\"text.secondary\" sx={{ mt: 2, display: 'block' }}>\r\n                    Recommended: PNG or SVG format, transparent background, maximum 2MB\r\n                  </Typography>\r\n                </Paper>\r\n              </Grid>\r\n            </Grid>\r\n          </Box>\r\n        </DialogContent>\r\n\r\n        <DialogActions sx={{ \r\n          p: 3, \r\n          borderTop: '1px solid #e0e0e0',\r\n          gap: 2\r\n        }}>\r\n          <Button \r\n            onClick={handleModalClose} \r\n            disabled={submitLoading}\r\n            variant=\"outlined\"\r\n            size=\"large\"\r\n          >\r\n            Cancel\r\n          </Button>\r\n          <Button\r\n            onClick={handleSubmit}\r\n            variant=\"contained\"\r\n            disabled={submitLoading || submitSuccess}\r\n            size=\"large\"\r\n          >\r\n            {submitLoading ? 'Adding...' : 'Add Partner'}\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n\r\n      {/* Edit Partner Modal */}\r\n      <Dialog\r\n        open={editModalOpen}\r\n        onClose={handleEditCancel}\r\n        maxWidth=\"md\"\r\n        fullWidth\r\n        PaperProps={{\r\n          sx: { \r\n            maxHeight: '95vh',\r\n            m: 2\r\n          }\r\n        }}\r\n      >\r\n        <DialogTitle sx={{ \r\n          display: 'flex', \r\n          justifyContent: 'space-between', \r\n          alignItems: 'center',\r\n          pb: 2,\r\n          borderBottom: '1px solid #e0e0e0'\r\n        }}>\r\n          <Typography variant=\"h6\">\r\n            Edit Partner\r\n          </Typography>\r\n          <IconButton onClick={handleEditCancel} size=\"small\">\r\n            <CloseIcon />\r\n          </IconButton>\r\n        </DialogTitle>\r\n        \r\n        <DialogContent sx={{ p: 3 }}>\r\n          {submitSuccess && (\r\n            <Alert severity=\"success\" sx={{ mb: 3 }}>\r\n              Partner updated successfully! Closing...\r\n            </Alert>\r\n          )}\r\n\r\n          {submitError && (\r\n            <Alert severity=\"error\" sx={{ mb: 3 }}>\r\n              {submitError}\r\n            </Alert>\r\n          )}\r\n\r\n          <Grid container spacing={3}>\r\n            <Grid item xs={12}>\r\n              <TextField\r\n                label=\"Partner Name\"\r\n                value={editName}\r\n                onChange={(e) => setEditName(e.target.value)}\r\n                required\r\n                fullWidth\r\n                disabled={submitLoading || submitSuccess}\r\n                sx={{ mb: 2 }}\r\n              />\r\n            </Grid>\r\n\r\n            <Grid item xs={12} md={6}>\r\n              <FormControl fullWidth disabled={submitLoading || submitSuccess} sx={{ mb: 2 }}>\r\n                <InputLabel>Type</InputLabel>\r\n                <Select\r\n                  value={editType}\r\n                  label=\"Type\"\r\n                  onChange={(e) => setEditType(e.target.value)}\r\n                >\r\n                  <MenuItem value=\"partner\">Partner</MenuItem>\r\n                  <MenuItem value=\"accreditator\">Accreditator</MenuItem>\r\n                  <MenuItem value=\"both\">Both</MenuItem>\r\n                </Select>\r\n              </FormControl>\r\n            </Grid>\r\n\r\n            <Grid item xs={12} md={6}>\r\n              <FormControlLabel\r\n                control={\r\n                  <Switch\r\n                    checked={editFeatured}\r\n                    onChange={(e) => setEditFeatured(e.target.checked)}\r\n                    color=\"primary\"\r\n                    disabled={submitLoading || submitSuccess}\r\n                  />\r\n                }\r\n                label=\"Featured Partner\"\r\n                sx={{ mb: 2 }}\r\n              />\r\n            </Grid>\r\n\r\n            <Grid item xs={12}>\r\n              <Paper variant=\"outlined\" sx={{ p: 3 }}>\r\n                <Typography variant=\"subtitle1\" gutterBottom sx={{ fontWeight: 600 }}>\r\n                  Update Logo\r\n                </Typography>\r\n                \r\n                {editingPartner && currentLogoUrl && (\r\n                  <Box sx={{ mb: 3 }}>\r\n                    <Typography variant=\"body2\" color=\"text.secondary\" sx={{ mb: 1 }}>\r\n                      Current logo:\r\n                    </Typography>\r\n                    <img \r\n                      src={`${STATIC_URL}/uploads/partners/${currentLogoUrl}`}\r\n                      alt=\"Current logo\"\r\n                      style={{\r\n                        maxWidth: '200px',\r\n                        maxHeight: '100px',\r\n                        objectFit: 'contain',\r\n                        border: '1px solid #e0e0e0',\r\n                        borderRadius: '4px',\r\n                        padding: '8px',\r\n                        backgroundColor: '#fafafa'\r\n                      }}\r\n                    />\r\n                  </Box>\r\n                )}\r\n                \r\n                <input\r\n                  type=\"file\"\r\n                  accept=\"image/*\"\r\n                  onChange={(e) => setEditLogo(e.target.files[0])}\r\n                  disabled={submitLoading || submitSuccess}\r\n                  style={{\r\n                    padding: '12px',\r\n                    border: '2px dashed #e0e0e0',\r\n                    borderRadius: '8px',\r\n                    width: '100%',\r\n                    backgroundColor: '#fafafa'\r\n                  }}\r\n                />\r\n                <Typography variant=\"caption\" color=\"text.secondary\" sx={{ mt: 2, display: 'block' }}>\r\n                  Leave empty to keep current logo. Upload new image to replace.\r\n                </Typography>\r\n              </Paper>\r\n            </Grid>\r\n          </Grid>\r\n        </DialogContent>\r\n\r\n        <DialogActions sx={{ \r\n          p: 3, \r\n          borderTop: '1px solid #e0e0e0',\r\n          gap: 2\r\n        }}>\r\n          <Button \r\n            onClick={handleEditCancel} \r\n            disabled={submitLoading}\r\n            variant=\"outlined\"\r\n            size=\"large\"\r\n          >\r\n            Cancel\r\n          </Button>\r\n          <Button\r\n            onClick={handleEditSubmit}\r\n            variant=\"contained\"\r\n            disabled={submitLoading || submitSuccess}\r\n            size=\"large\"\r\n          >\r\n            {submitLoading ? 'Updating...' : 'Update Partner'}\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default AdminManagePartners;","import React, { useState, useEffect, useCallback } from 'react';\r\nimport axios from 'axios';\r\nimport {\r\n  Box, Typography, Grid, Card, CardContent, IconButton, Link, Chip, \r\n  Alert, CircularProgress, Dialog, DialogActions, DialogContent, \r\n  DialogContentText, DialogTitle, Button, TextField, MenuItem, \r\n  Select, FormControl, InputLabel, Paper, Autocomplete, Table, \r\n  TableBody, TableCell, TableContainer, TableHead, TableRow, Avatar, \r\n  InputAdornment, TablePagination, Stack, Tabs, Tab, Fab\r\n} from '@mui/material';\r\nimport DeleteIcon from '@mui/icons-material/Delete';\r\nimport EditIcon from '@mui/icons-material/Edit';\r\nimport LinkedInIcon from '@mui/icons-material/LinkedIn';\r\nimport PersonIcon from '@mui/icons-material/Person';\r\nimport AddIcon from '@mui/icons-material/Add';\r\nimport CloseIcon from '@mui/icons-material/Close';\r\nimport SearchIcon from '@mui/icons-material/Search';\r\nimport FilterListIcon from '@mui/icons-material/FilterList';\r\nimport ClearIcon from '@mui/icons-material/Clear';\r\nimport BusinessIcon from '@mui/icons-material/Business';\r\nimport DragIndicatorIcon from '@mui/icons-material/DragIndicator';\r\nimport { API_URL, STATIC_URL } from \"../../config\";\r\n\r\n// Mock constants - replace with your actual config\r\n\r\nconst AdminManageTeam = () => {\r\n  // Tab state\r\n  const [activeTab, setActiveTab] = useState(0);\r\n\r\n  // Team list states\r\n  const [members, setMembers] = useState([]);\r\n  const [filteredMembers, setFilteredMembers] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState('');\r\n  const [deleteDialog, setDeleteDialog] = useState({ open: false, member: null });\r\n  const [countries, setCountries] = useState([]);\r\n\r\n  // Department states\r\n  const [departments, setDepartments] = useState([]);\r\n  const [departmentsLoading, setDepartmentsLoading] = useState(false);\r\n  const [departmentDialog, setDepartmentDialog] = useState({ \r\n    open: false, \r\n    mode: 'add', \r\n    department: null \r\n  });\r\n  const [departmentDeleteDialog, setDepartmentDeleteDialog] = useState({ \r\n    open: false, \r\n    department: null \r\n  });\r\n\r\n  // Search and filter states\r\n  const [searchTerm, setSearchTerm] = useState('');\r\n  const [departmentFilter, setDepartmentFilter] = useState('');\r\n  const [countryFilter, setCountryFilter] = useState('');\r\n    const [message, setMessage] = useState({ type: '', text: '' });\r\n  \r\n  // Pagination states\r\n  const [page, setPage] = useState(0);\r\n  const [rowsPerPage, setRowsPerPage] = useState(10);\r\n\r\n  // Add/Edit member modal states\r\n  const [modalOpen, setModalOpen] = useState(false);\r\n  const [editMode, setEditMode] = useState(false);\r\n  const [editingMember, setEditingMember] = useState(null);\r\n  const [name, setName] = useState('');\r\n  const [department, setDepartment] = useState('');\r\n  const [position, setPosition] = useState('');\r\n  const [bio, setBio] = useState('');\r\n  const [email, setEmail] = useState('');\r\n  const [linkedin, setLinkedin] = useState('');\r\n  const [country, setCountry] = useState(null);\r\n  const [photo, setPhoto] = useState(null);\r\n  const [currentImageUrl, setCurrentImageUrl] = useState('');\r\n  const [submitLoading, setSubmitLoading] = useState(false);\r\n  const [submitSuccess, setSubmitSuccess] = useState(false);\r\n  const [submitError, setSubmitError] = useState('');\r\n  const [showMessageModal, setShowMessageModal] = useState(false);\r\n\r\n  // Department form states\r\n  const [deptName, setDeptName] = useState('');\r\n  const [deptDescription, setDeptDescription] = useState('');\r\n  const [deptOrderIndex, setDeptOrderIndex] = useState(0);\r\n  const [deptSubmitLoading, setDeptSubmitLoading] = useState(false);\r\n  const [deptSubmitError, setDeptSubmitError] = useState('');\r\n\r\n  // Fetch functions\r\n  const fetchTeam = useCallback(async () => {\r\n    try {\r\n      setLoading(true);\r\n      const res = await axios.get(`${API_URL}/team`, { withCredentials: true });\r\n      const data = res.data;\r\n      \r\n      if (Array.isArray(data)) {\r\n        setMembers(data);\r\n      } else if (Array.isArray(data.members)) {\r\n        setMembers(data.members);\r\n      } else if (Array.isArray(data.data)) {\r\n        setMembers(data.data);\r\n      } else {\r\n        console.warn('Unexpected team response:', data);\r\n        setMembers([]);\r\n      }\r\n      setError('');\r\n    } catch (err) {\r\n      console.error('Error fetching team:', err);\r\n      setError('Failed to load team members');\r\n      setMembers([]);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }, []);\r\n\r\n  const fetchDepartments = useCallback(async () => {\r\n    try {\r\n      setDepartmentsLoading(true);\r\n      const res = await axios.get(`${API_URL}/team/departments`, { withCredentials: true });\r\n      setDepartments(res.data.data || []);\r\n    } catch (err) {\r\n      console.error('Error fetching departments:', err);\r\n      setDepartments([]);\r\n    } finally {\r\n      setDepartmentsLoading(false);\r\n    }\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    fetchTeam();\r\n        fetchCountries();\r\n\r\n    fetchDepartments();\r\n  }, [fetchTeam, fetchDepartments]);\r\n\r\n  // Filter and search logic for team members\r\n  useEffect(() => {\r\n    let filtered = members;\r\n\r\n    if (searchTerm) {\r\n      filtered = filtered.filter(member =>\r\n        member.name.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n        member.position.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n        member.email?.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n        member.bio?.toLowerCase().includes(searchTerm.toLowerCase())\r\n      );\r\n    }\r\n\r\n    if (departmentFilter) {\r\n      filtered = filtered.filter(member => member.department === departmentFilter);\r\n    }\r\n\r\n    if (countryFilter) {\r\n      filtered = filtered.filter(member => member.country === countryFilter);\r\n    }\r\n\r\n    setFilteredMembers(filtered);\r\n    setPage(0);\r\n  }, [members, searchTerm, departmentFilter, countryFilter]);\r\n    // Show message function\r\n  const showMessage = (type, text, duration = 5000) => {\r\n    setMessage({ type, text });\r\n    setTimeout(() => setMessage({ type: '', text: '' }), duration);\r\n  };\r\n  // Fetch countries\r\n  const fetchCountries = async () => {\r\n    try {\r\n      const { data } = await axios.get(`${API_URL}/countries`);\r\n      setCountries(data);\r\n    } catch (error) {\r\n      console.error(\"Error fetching countries:\", error);\r\n      showMessage('error', 'Failed to fetch countries. Please try again.');\r\n    }\r\n  };\r\n\r\n  // Get unique departments and countries for filter dropdowns\r\n  const memberDepartments = [...new Set(members.map(member => member.department))].filter(Boolean);\r\n  // const countries = [...new Set(members.map(member => member.country))].filter(Boolean);\r\n\r\n  // Clear all filters\r\n  const clearFilters = () => {\r\n    setSearchTerm('');\r\n    setDepartmentFilter('');\r\n    setCountryFilter('');\r\n  };\r\n\r\n  // DEPARTMENT MANAGEMENT FUNCTIONS\r\n\r\n  const handleDepartmentAdd = () => {\r\n    setDeptName('');\r\n    setDeptDescription('');\r\n    setDeptOrderIndex(0);\r\n    setDeptSubmitError('');\r\n    setDepartmentDialog({ open: true, mode: 'add', department: null });\r\n  };\r\n\r\n  const handleDepartmentEdit = (dept) => {\r\n    setDeptName(dept.name);\r\n    setDeptDescription(dept.description || '');\r\n    setDeptOrderIndex(dept.order_index || 0);\r\n    setDeptSubmitError('');\r\n    setDepartmentDialog({ open: true, mode: 'edit', department: dept });\r\n  };\r\n\r\n  const handleDepartmentSubmit = async (e) => {\r\n    e.preventDefault();\r\n    \r\n    if (!deptName.trim()) {\r\n      setDeptSubmitError('Department name is required');\r\n      return;\r\n    }\r\n\r\n    setDeptSubmitLoading(true);\r\n    setDeptSubmitError('');\r\n\r\n    try {\r\n      const data = {\r\n        name: deptName.trim(),\r\n        description: deptDescription.trim(),\r\n        order_index: parseInt(deptOrderIndex) || 0\r\n      };\r\n\r\n      if (departmentDialog.mode === 'edit') {\r\n        await axios.put(`${API_URL}/team/departments/${departmentDialog.department.id}`, data, {\r\n          withCredentials: true\r\n        });\r\n      } else {\r\n        await axios.post(`${API_URL}/team/departments`, data, {\r\n          withCredentials: true\r\n        });\r\n      }\r\n\r\n      fetchDepartments();\r\n      setDepartmentDialog({ open: false, mode: 'add', department: null });\r\n    } catch (err) {\r\n      console.error('Error saving department:', err);\r\n      setDeptSubmitError(err.response?.data?.message || 'Failed to save department');\r\n    } finally {\r\n      setDeptSubmitLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleDepartmentDelete = (dept) => {\r\n    setDepartmentDeleteDialog({ open: true, department: dept });\r\n  };\r\n\r\n  const confirmDepartmentDelete = async () => {\r\n    const { department } = departmentDeleteDialog;\r\n    if (!department) return;\r\n\r\n    try {\r\n      await axios.delete(`${API_URL}/team/departments/${department.id}`, {\r\n        withCredentials: true\r\n      });\r\n      fetchDepartments();\r\n      setDepartmentDeleteDialog({ open: false, department: null });\r\n    } catch (err) {\r\n      console.error('Error deleting department:', err);\r\n      setError(err.response?.data?.message || 'Failed to delete department');\r\n    }\r\n  };\r\n\r\n  // TEAM MEMBER FUNCTIONS\r\n\r\n  const handleDeleteClick = (member) => {\r\n    setDeleteDialog({ open: true, member });\r\n  };\r\n\r\n  const handleDeleteConfirm = async () => {\r\n    const { member } = deleteDialog;\r\n    if (!member) return;\r\n\r\n    try {\r\n      await axios.delete(`${API_URL}/team/${member.id}`, { withCredentials: true });\r\n      fetchTeam();\r\n      setDeleteDialog({ open: false, member: null });\r\n    } catch (err) {\r\n      console.error('Error deleting member:', err);\r\n      setError('Failed to delete team member');\r\n    }\r\n  };\r\n\r\n  const handleDeleteCancel = () => {\r\n    setDeleteDialog({ open: false, member: null });\r\n  };\r\n\r\n  const resetForm = () => {\r\n    setName('');\r\n    setDepartment('');\r\n    setPosition('');\r\n    setBio('');\r\n    setEmail('');\r\n    setLinkedin('');\r\n    setCountry(null);\r\n    setPhoto(null);\r\n    setCurrentImageUrl('');\r\n    setSubmitError('');\r\n    setSubmitSuccess(false);\r\n    setEditMode(false);\r\n    setEditingMember(null);\r\n  };\r\n\r\n  const handleAddModalOpen = () => {\r\n    resetForm();\r\n    setModalOpen(true);\r\n  };\r\n\r\n  const handleEditClick = (member) => {\r\n    setEditMode(true);\r\n    setEditingMember(member);\r\n    setName(member.name);\r\n    setDepartment(member.department);\r\n    setPosition(member.position);\r\n    setBio(member.bio || '');\r\n    setEmail(member.email || '');\r\n    setLinkedin(member.linkedin_url || '');\r\n    \r\n    const memberCountry = countries.find(c => c.name === member.country);\r\n    setCountry(memberCountry || null);\r\n    \r\n    setCurrentImageUrl(member.image_url);\r\n    setPhoto(null);\r\n    setSubmitError('');\r\n    setSubmitSuccess(false);\r\n    setModalOpen(true);\r\n  };\r\n\r\n  const handleModalClose = () => {\r\n    setModalOpen(false);\r\n    resetForm();\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    \r\n    if (!name || !position || !department || !bio) {\r\n      setSubmitError('Name, department, position, and bio are required.');\r\n      return;\r\n    }\r\n\r\n    if (!editMode && !photo) {\r\n      setSubmitError('Photo is required when adding a new member.');\r\n      return;\r\n    }\r\n\r\n    const formData = new FormData();\r\n    formData.append('name', name);\r\n    formData.append('department', department);\r\n    formData.append('position', position);\r\n    formData.append('bio', bio);\r\n    formData.append('email', email);\r\n    formData.append('linkedin_url', linkedin);\r\n    \r\n    if (country) {\r\n      formData.append('country', country.name);\r\n    }\r\n    \r\n    if (photo) {\r\n      formData.append('image', photo);\r\n    }\r\n\r\n    setSubmitLoading(true);\r\n    setSubmitError('');\r\n    setSubmitSuccess(false);\r\n\r\n    try {\r\n      let response;\r\n      if (editMode && editingMember) {\r\n        response = await axios.put(`${API_URL}/team/${editingMember.id}`, formData, {\r\n          withCredentials: true,\r\n          headers: { 'Content-Type': 'multipart/form-data' },\r\n        });\r\n      } else {\r\n        response = await axios.post(`${API_URL}/team`, formData, {\r\n          withCredentials: true,\r\n          headers: { 'Content-Type': 'multipart/form-data' },\r\n        });\r\n      }\r\n\r\n      setSubmitSuccess(true);\r\n      fetchTeam();\r\n      \r\n      setTimeout(() => {\r\n        handleModalClose();\r\n      }, 2000);\r\n    } catch (err) {\r\n      console.error(`Error ${editMode ? 'updating' : 'adding'} team member:`, err);\r\n      setSubmitError(err.response?.data?.message || `Failed to ${editMode ? 'update' : 'add'} team member`);\r\n    } finally {\r\n      setSubmitLoading(false);\r\n    }\r\n  };\r\n\r\n  const getDepartmentColor = (department) => {\r\n    const colors = {\r\n      'Founder': 'error',\r\n      'Director': 'warning',\r\n      'Management': 'info',\r\n      'Country Director': 'success',\r\n      'Operations': 'primary',\r\n      'Technical': 'secondary',\r\n      'Creative': 'default',\r\n      'Other': 'default'\r\n    };\r\n    return colors[department] || 'default';\r\n  };\r\n\r\n  const handleChangePage = (event, newPage) => {\r\n    setPage(newPage);\r\n  };\r\n\r\n  const handleChangeRowsPerPage = (event) => {\r\n    setRowsPerPage(parseInt(event.target.value, 10));\r\n    setPage(0);\r\n  };\r\n\r\n  const paginatedMembers = filteredMembers.slice(\r\n    page * rowsPerPage,\r\n    page * rowsPerPage + rowsPerPage\r\n  );\r\n\r\n  if (loading) {\r\n    return (\r\n      <Box sx={{ display: 'flex', justifyContent: 'center', alignItems: 'center', minHeight: 400 }}>\r\n        <CircularProgress size={60} />\r\n      </Box>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Box sx={{ p: 3, position: 'relative' }}>\r\n      {/* Header */}\r\n      <Typography variant=\"h4\" gutterBottom sx={{ mb: 3 }}>\r\n        Team Management\r\n      </Typography>\r\n\r\n      {/* Error Alert */}\r\n      {error && (\r\n        <Alert severity=\"error\" sx={{ mb: 3 }}>\r\n          {error}\r\n        </Alert>\r\n      )}\r\n\r\n      {/* Tabs */}\r\n      <Paper elevation={1} sx={{ mb: 3 }}>\r\n        <Tabs value={activeTab} onChange={(e, newValue) => setActiveTab(newValue)}>\r\n          <Tab \r\n            label={`Team Members (${members.length})`}\r\n            icon={<PersonIcon />} \r\n            iconPosition=\"start\"\r\n          />\r\n          <Tab \r\n            label={`Departments (${departments.length})`}\r\n            icon={<BusinessIcon />} \r\n            iconPosition=\"start\"\r\n          />\r\n        </Tabs>\r\n      </Paper>\r\n\r\n      {/* Team Members Tab */}\r\n      {activeTab === 0 && (\r\n        <>\r\n          {/* Add Member Button */}\r\n          <Box sx={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', mb: 3 }}>\r\n            <Typography variant=\"h6\">\r\n              {filteredMembers.length} members shown\r\n            </Typography>\r\n            <Button\r\n              variant=\"contained\"\r\n              color=\"primary\"\r\n              startIcon={<AddIcon />}\r\n              onClick={handleAddModalOpen}\r\n              size=\"large\"\r\n            >\r\n              Add Team Member\r\n            </Button>\r\n          </Box>\r\n\r\n          {/* Search and Filter Controls */}\r\n          <Paper elevation={1} sx={{ p: 3, mb: 3 }}>\r\n            <Typography variant=\"h6\" sx={{ mb: 2, display: 'flex', alignItems: 'center', gap: 1 }}>\r\n              <FilterListIcon /> Search & Filters\r\n            </Typography>\r\n            \r\n            <Grid container spacing={2} alignItems=\"center\">\r\n              <Grid item xs={12} md={4}>\r\n                <TextField\r\n                  fullWidth\r\n                  label=\"Search members\"\r\n                  value={searchTerm}\r\n                  onChange={(e) => setSearchTerm(e.target.value)}\r\n                  placeholder=\"Name, position, email, or bio...\"\r\n                  InputProps={{\r\n                    startAdornment: (\r\n                      <InputAdornment position=\"start\">\r\n                        <SearchIcon />\r\n                      </InputAdornment>\r\n                    ),\r\n                    endAdornment: searchTerm && (\r\n                      <InputAdornment position=\"end\">\r\n                        <IconButton onClick={() => setSearchTerm('')} size=\"small\">\r\n                          <ClearIcon />\r\n                        </IconButton>\r\n                      </InputAdornment>\r\n                    )\r\n                  }}\r\n                />\r\n              </Grid>\r\n\r\n              <Grid item xs={12} md={3}>\r\n                <FormControl fullWidth>\r\n                  <InputLabel>Filter by Department</InputLabel>\r\n                  <Select\r\n                    value={departmentFilter}\r\n                    onChange={(e) => setDepartmentFilter(e.target.value)}\r\n                    label=\"Filter by Department\"\r\n                  >\r\n                    <MenuItem value=\"\">All Departments</MenuItem>\r\n                    {memberDepartments.map(dept => (\r\n                      <MenuItem key={dept} value={dept}>{dept}</MenuItem>\r\n                    ))}\r\n                  </Select>\r\n                </FormControl>\r\n              </Grid>\r\n\r\n              <Grid item xs={12} md={3}>\r\n                <FormControl fullWidth>\r\n                  <InputLabel>Filter by Country</InputLabel>\r\n                  <Select\r\n                    value={countryFilter}\r\n                    onChange={(e) => setCountryFilter(e.target.value)}\r\n                    label=\"Filter by Country\"\r\n                  >\r\n                    <MenuItem value=\"\">All Countries</MenuItem>\r\n                    {countries.map(country => (\r\n                      <MenuItem key={country} value={country}>\r\n                         {country}\r\n                      </MenuItem>\r\n                    ))}\r\n                  </Select>\r\n                </FormControl>\r\n              </Grid>\r\n\r\n              <Grid item xs={12} md={2}>\r\n                <Button\r\n                  fullWidth\r\n                  variant=\"outlined\"\r\n                  onClick={clearFilters}\r\n                  startIcon={<ClearIcon />}\r\n                  disabled={!searchTerm && !departmentFilter && !countryFilter}\r\n                >\r\n                  Clear Filters\r\n                </Button>\r\n              </Grid>\r\n            </Grid>\r\n\r\n            {/* Active Filters Display */}\r\n            {(searchTerm || departmentFilter || countryFilter) && (\r\n              <Box sx={{ mt: 2 }}>\r\n                <Typography variant=\"body2\" color=\"text.secondary\" sx={{ mb: 1 }}>\r\n                  Active filters:\r\n                </Typography>\r\n                <Stack direction=\"row\" spacing={1} flexWrap=\"wrap\">\r\n                  {searchTerm && (\r\n                    <Chip\r\n                      label={`Search: \"${searchTerm}\"`}\r\n                      onDelete={() => setSearchTerm('')}\r\n                      size=\"small\"\r\n                      color=\"primary\"\r\n                    />\r\n                  )}\r\n                  {departmentFilter && (\r\n                    <Chip\r\n                      label={`Department: ${departmentFilter}`}\r\n                      onDelete={() => setDepartmentFilter('')}\r\n                      size=\"small\"\r\n                      color=\"secondary\"\r\n                    />\r\n                  )}\r\n                  {countryFilter && (\r\n                    <Chip\r\n                      label={`Country: ${countryFilter}`}\r\n                      onDelete={() => setCountryFilter('')}\r\n                      size=\"small\"\r\n                      color=\"success\"\r\n                    />\r\n                  )}\r\n                </Stack>\r\n              </Box>\r\n            )}\r\n          </Paper>\r\n\r\n          {/* Team Members Table */}\r\n          {filteredMembers.length === 0 ? (\r\n            <Box sx={{ textAlign: 'center', py: 8 }}>\r\n              <PersonIcon sx={{ fontSize: 80, color: 'text.secondary', mb: 2 }} />\r\n              <Typography variant=\"h6\" color=\"text.secondary\" gutterBottom>\r\n                {members.length === 0 ? 'No team members found' : 'No members match your filters'}\r\n              </Typography>\r\n              <Typography variant=\"body2\" color=\"text.secondary\" sx={{ mb: 3 }}>\r\n                {members.length === 0 \r\n                  ? 'Click the \"Add Team Member\" button to get started'\r\n                  : 'Try adjusting your search or filter criteria'\r\n                }\r\n              </Typography>\r\n              {(searchTerm || departmentFilter || countryFilter) && (\r\n                <Button variant=\"outlined\" onClick={clearFilters}>\r\n                  Clear All Filters\r\n                </Button>\r\n              )}\r\n            </Box>\r\n          ) : (\r\n            <Paper elevation={1}>\r\n              <TableContainer>\r\n                <Table>\r\n                  <TableHead>\r\n                    <TableRow sx={{ backgroundColor: '#f5f5f5' }}>\r\n                      <TableCell sx={{ fontWeight: 600, minWidth: 120 }}>Member</TableCell>\r\n                      <TableCell sx={{ fontWeight: 600, minWidth: 150 }}>Position</TableCell>\r\n                      <TableCell sx={{ fontWeight: 600, minWidth: 120 }}>Department</TableCell>\r\n                      <TableCell sx={{ fontWeight: 600, minWidth: 100 }}>Country</TableCell>\r\n                      <TableCell sx={{ fontWeight: 600, minWidth: 180 }}>Contact</TableCell>\r\n                      <TableCell sx={{ fontWeight: 600, minWidth: 200 }}>Bio</TableCell>\r\n                      <TableCell sx={{ fontWeight: 600, minWidth: 120, textAlign: 'center' }}>Actions</TableCell>\r\n                    </TableRow>\r\n                  </TableHead>\r\n                  <TableBody>\r\n                    {paginatedMembers.map((member) => (\r\n                      <TableRow \r\n                        key={member.id}\r\n                        sx={{ \r\n                          '&:hover': { \r\n                            backgroundColor: '#f9f9f9' \r\n                          },\r\n                          '&:last-child td, &:last-child th': { border: 0 }\r\n                        }}\r\n                      >\r\n                        <TableCell>\r\n                          <Box sx={{ display: 'flex', alignItems: 'center', gap: 2 }}>\r\n                            <Avatar\r\n                              src={`${STATIC_URL}${member.image_url}`}\r\n                              alt={member.name}\r\n                              sx={{ width: 50, height: 50 }}\r\n                            >\r\n                              {member.name.charAt(0)}\r\n                            </Avatar>\r\n                            <Box>\r\n                              <Typography variant=\"subtitle2\" sx={{ fontWeight: 600 }}>\r\n                                {member.name}\r\n                              </Typography>\r\n                            </Box>\r\n                          </Box>\r\n                        </TableCell>\r\n\r\n                        <TableCell>\r\n                          <Typography variant=\"body2\" sx={{ fontWeight: 500 }}>\r\n                            {member.position}\r\n                          </Typography>\r\n                        </TableCell>\r\n\r\n                        <TableCell>\r\n                          <Chip\r\n                            label={member.department}\r\n                            color={getDepartmentColor(member.department)}\r\n                            size=\"small\"\r\n                            sx={{ fontWeight: 500 }}\r\n                          />\r\n                        </TableCell>\r\n\r\n                        <TableCell>\r\n                          {member.country ? (\r\n                            <Box sx={{ display: 'flex', alignItems: 'center', gap: 1 }}>\r\n                              <span></span>\r\n                              <Typography variant=\"body2\">\r\n                                {member.country}\r\n                              </Typography>\r\n                            </Box>\r\n                          ) : (\r\n                            <Typography variant=\"body2\" color=\"text.secondary\">\r\n                              Not specified\r\n                            </Typography>\r\n                          )}\r\n                        </TableCell>\r\n\r\n                        <TableCell>\r\n                          <Box>\r\n                            {member.email && (\r\n                              <Typography variant=\"body2\" sx={{ mb: 0.5 }}>\r\n                                {member.email}\r\n                              </Typography>\r\n                            )}\r\n                            {member.linkedin_url && (\r\n                              <Link \r\n                                href={member.linkedin_url} \r\n                                target=\"_blank\" \r\n                                rel=\"noopener noreferrer\"\r\n                                sx={{ display: 'flex', alignItems: 'center', gap: 0.5, color: '#0077b5' }}\r\n                              >\r\n                                <LinkedInIcon sx={{ fontSize: 16 }} />\r\n                                <Typography variant=\"caption\">LinkedIn</Typography>\r\n                              </Link>\r\n                            )}\r\n                            {!member.email && !member.linkedin_url && (\r\n                              <Typography variant=\"body2\" color=\"text.secondary\">\r\n                                No contact info\r\n                              </Typography>\r\n                            )}\r\n                          </Box>\r\n                        </TableCell>\r\n\r\n                        <TableCell>\r\n                          <Typography \r\n                            variant=\"body2\" \r\n                            color=\"text.secondary\"\r\n                            sx={{\r\n                              overflow: 'hidden',\r\n                              display: '-webkit-box',\r\n                              WebkitLineClamp: 2,\r\n                              WebkitBoxOrient: 'vertical',\r\n                              lineHeight: 1.4,\r\n                              maxWidth: 200\r\n                            }}\r\n                          >\r\n                            {member.bio}\r\n                          </Typography>\r\n                        </TableCell>\r\n\r\n                        <TableCell>\r\n                          <Box sx={{ display: 'flex', justifyContent: 'center', gap: 1 }}>\r\n                            <IconButton \r\n                              onClick={() => handleEditClick(member)} \r\n                              color=\"info\"\r\n                              size=\"small\"\r\n                            >\r\n                              <EditIcon />\r\n                            </IconButton>\r\n                            \r\n                            <IconButton \r\n                              onClick={() => handleDeleteClick(member)} \r\n                              color=\"error\"\r\n                              size=\"small\"\r\n                            >\r\n                              <DeleteIcon />\r\n                            </IconButton>\r\n                          </Box>\r\n                        </TableCell>\r\n                      </TableRow>\r\n                    ))}\r\n                  </TableBody>\r\n                </Table>\r\n              </TableContainer>\r\n\r\n              <TablePagination\r\n                rowsPerPageOptions={[5, 10, 25, 50]}\r\n                component=\"div\"\r\n                count={filteredMembers.length}\r\n                rowsPerPage={rowsPerPage}\r\n                page={page}\r\n                onPageChange={handleChangePage}\r\n                onRowsPerPageChange={handleChangeRowsPerPage}\r\n                sx={{ borderTop: '1px solid #e0e0e0' }}\r\n              />\r\n            </Paper>\r\n          )}\r\n        </>\r\n      )}\r\n\r\n      {/* Departments Tab */}\r\n      {activeTab === 1 && (\r\n        <>\r\n          <Box sx={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', mb: 3 }}>\r\n            <Typography variant=\"h6\">\r\n              Manage Departments\r\n            </Typography>\r\n            <Button\r\n              variant=\"contained\"\r\n              color=\"primary\"\r\n              startIcon={<AddIcon />}\r\n              onClick={handleDepartmentAdd}\r\n              size=\"large\"\r\n            >\r\n              Add Department\r\n            </Button>\r\n          </Box>\r\n\r\n          {departmentsLoading ? (\r\n            <Box sx={{ display: 'flex', justifyContent: 'center', py: 4 }}>\r\n              <CircularProgress />\r\n            </Box>\r\n          ) : departments.length === 0 ? (\r\n            <Box sx={{ textAlign: 'center', py: 8 }}>\r\n              <BusinessIcon sx={{ fontSize: 80, color: 'text.secondary', mb: 2 }} />\r\n              <Typography variant=\"h6\" color=\"text.secondary\" gutterBottom>\r\n                No departments found\r\n              </Typography>\r\n              <Typography variant=\"body2\" color=\"text.secondary\" sx={{ mb: 3 }}>\r\n                Click \"Add Department\" to create your first department\r\n              </Typography>\r\n            </Box>\r\n          ) : (\r\n            <Grid container spacing={3}>\r\n              {departments.map((dept, index) => (\r\n                <Grid item xs={12} sm={6} md={4} key={dept.id}>\r\n                  <Card elevation={1} sx={{ height: '100%', display: 'flex', flexDirection: 'column' }}>\r\n                    <CardContent sx={{ flexGrow: 1 }}>\r\n                      <Box sx={{ display: 'flex', alignItems: 'center', gap: 1, mb: 2 }}>\r\n                        <DragIndicatorIcon sx={{ color: 'text.secondary', fontSize: 20 }} />\r\n                        <Typography variant=\"h6\" sx={{ fontWeight: 600 }}>\r\n                          {dept.name}\r\n                        </Typography>\r\n                        <Chip \r\n                          label={`#${dept.order_index || 0}`} \r\n                          size=\"small\" \r\n                          color=\"default\" \r\n                        />\r\n                      </Box>\r\n                      \r\n                      {dept.description && (\r\n                        <Typography variant=\"body2\" color=\"text.secondary\" sx={{ mb: 2 }}>\r\n                          {dept.description}\r\n                        </Typography>\r\n                      )}\r\n                      \r\n                      <Typography variant=\"caption\" color=\"text.secondary\">\r\n                        Created: {new Date(dept.created_at).toLocaleDateString()}\r\n                      </Typography>\r\n                    </CardContent>\r\n                    \r\n                    <Box sx={{ p: 2, pt: 0, display: 'flex', gap: 1 }}>\r\n                      <Button\r\n                        size=\"small\"\r\n                        variant=\"outlined\"\r\n                        color=\"info\"\r\n                        startIcon={<EditIcon />}\r\n                        onClick={() => handleDepartmentEdit(dept)}\r\n                        sx={{ flex: 1 }}\r\n                      >\r\n                        Edit\r\n                      </Button>\r\n                      <Button\r\n                        size=\"small\"\r\n                        variant=\"outlined\"\r\n                        color=\"error\"\r\n                        startIcon={<DeleteIcon />}\r\n                        onClick={() => handleDepartmentDelete(dept)}\r\n                        sx={{ flex: 1 }}\r\n                      >\r\n                        Delete\r\n                      </Button>\r\n                    </Box>\r\n                  </Card>\r\n                </Grid>\r\n              ))}\r\n            </Grid>\r\n          )}\r\n        </>\r\n      )}\r\n\r\n      {/* Add/Edit Member Modal */}\r\n      <Dialog\r\n        open={modalOpen}\r\n        onClose={handleModalClose}\r\n        maxWidth=\"lg\"\r\n        fullWidth\r\n      >\r\n        <DialogTitle sx={{ \r\n          display: 'flex', \r\n          justifyContent: 'space-between', \r\n          alignItems: 'center',\r\n          pb: 2,\r\n          borderBottom: '1px solid #e0e0e0'\r\n        }}>\r\n          <Typography variant=\"h6\">\r\n            {editMode ? 'Edit Team Member' : 'Add New Team Member'}\r\n          </Typography>\r\n          <IconButton onClick={handleModalClose} size=\"small\">\r\n            <CloseIcon />\r\n          </IconButton>\r\n        </DialogTitle>\r\n        \r\n        <DialogContent sx={{ p: 3 }}>\r\n          {submitSuccess && (\r\n            <Alert severity=\"success\" sx={{ mb: 3 }}>\r\n              Team member {editMode ? 'updated' : 'added'} successfully! Closing...\r\n            </Alert>\r\n          )}\r\n\r\n          {submitError && (\r\n            <Alert severity=\"error\" sx={{ mb: 3 }}>\r\n              {submitError}\r\n            </Alert>\r\n          )}\r\n\r\n          <Box component=\"form\" onSubmit={handleSubmit}>\r\n            <Grid container spacing={3}>\r\n              <Grid item xs={12} md={6}>\r\n                <TextField\r\n                  label=\"Full Name\"\r\n                  value={name}\r\n                  onChange={e => setName(e.target.value)}\r\n                  fullWidth\r\n                  required\r\n                  disabled={submitLoading || submitSuccess}\r\n                />\r\n              </Grid>\r\n              \r\n              <Grid item xs={12} md={6}>\r\n                <TextField\r\n                  label=\"Position/Title\"\r\n                  value={position}\r\n                  onChange={e => setPosition(e.target.value)}\r\n                  fullWidth\r\n                  required\r\n                  disabled={submitLoading || submitSuccess}\r\n                />\r\n              </Grid>\r\n\r\n              <Grid item xs={12} md={6}>\r\n                <FormControl fullWidth required>\r\n                  <InputLabel>Department</InputLabel>\r\n                  <Select\r\n                    value={department}\r\n                    onChange={e => setDepartment(e.target.value)}\r\n                    label=\"Department\"\r\n                    disabled={submitLoading || submitSuccess}\r\n                  >\r\n                    {departments.map(dept => (\r\n                      <MenuItem key={dept.id} value={dept.name}>\r\n                        {dept.name}\r\n                      </MenuItem>\r\n                    ))}\r\n                  </Select>\r\n                </FormControl>\r\n              </Grid>\r\n\r\n              <Grid item xs={12} md={6}>\r\n                <Autocomplete\r\n                  options={countries}\r\n                  getOptionLabel={(option) => option.name}\r\n                  value={country}\r\n                  onChange={(event, newValue) => setCountry(newValue)}\r\n                  disabled={submitLoading || submitSuccess}\r\n                  renderInput={(params) => (\r\n                    <TextField\r\n                      {...params}\r\n                      label=\"Country\"\r\n                      placeholder=\"Select country...\"\r\n                    />\r\n                  )}\r\n                />\r\n              </Grid>\r\n\r\n              <Grid item xs={12}>\r\n                <TextField\r\n                  label=\"Email Address\"\r\n                  type=\"email\"\r\n                  value={email}\r\n                  onChange={e => setEmail(e.target.value)}\r\n                  fullWidth\r\n                  disabled={submitLoading || submitSuccess}\r\n                  placeholder=\"member@acef.org\"\r\n                />\r\n              </Grid>\r\n\r\n              <Grid item xs={12}>\r\n                <TextField\r\n                  label=\"Short Bio\"\r\n                  multiline\r\n                  rows={4}\r\n                  value={bio}\r\n                  onChange={e => setBio(e.target.value)}\r\n                  fullWidth\r\n                  required\r\n                  disabled={submitLoading || submitSuccess}\r\n                  placeholder=\"Write a brief description about this team member...\"\r\n                />\r\n              </Grid>\r\n\r\n              <Grid item xs={12}>\r\n                <TextField\r\n                  label=\"LinkedIn Profile URL\"\r\n                  value={linkedin}\r\n                  onChange={e => setLinkedin(e.target.value)}\r\n                  fullWidth\r\n                  disabled={submitLoading || submitSuccess}\r\n                  placeholder=\"https://linkedin.com/in/username\"\r\n                />\r\n              </Grid>\r\n\r\n              <Grid item xs={12}>\r\n                <Paper variant=\"outlined\" sx={{ p: 3 }}>\r\n                  <Typography variant=\"subtitle1\" gutterBottom sx={{ fontWeight: 600 }}>\r\n                    Profile Photo {!editMode && <span style={{ color: 'red' }}>*</span>}\r\n                  </Typography>\r\n                  \r\n                  {editMode && currentImageUrl && (\r\n                    <Box sx={{ mb: 3 }}>\r\n                      <Typography variant=\"body2\" color=\"text.secondary\" sx={{ mb: 1 }}>\r\n                        Current photo:\r\n                      </Typography>\r\n                      <img \r\n                        src={`${STATIC_URL}${currentImageUrl}`}\r\n                        alt=\"Current profile\"\r\n                        style={{\r\n                          width: '100px',\r\n                          height: '100px',\r\n                          objectFit: 'cover',\r\n                          borderRadius: '8px',\r\n                          border: '2px solid #e0e0e0'\r\n                        }}\r\n                      />\r\n                    </Box>\r\n                  )}\r\n                  \r\n                  <input\r\n                    type=\"file\"\r\n                    accept=\"image/*\"\r\n                    onChange={e => setPhoto(e.target.files[0])}\r\n                    required={!editMode}\r\n                    disabled={submitLoading || submitSuccess}\r\n                    style={{\r\n                      padding: '12px',\r\n                      border: '2px dashed #e0e0e0',\r\n                      borderRadius: '8px',\r\n                      width: '100%',\r\n                      backgroundColor: '#fafafa'\r\n                    }}\r\n                  />\r\n                </Paper>\r\n              </Grid>\r\n            </Grid>\r\n          </Box>\r\n        </DialogContent>\r\n\r\n        <DialogActions sx={{ p: 3, borderTop: '1px solid #e0e0e0', gap: 2 }}>\r\n          <Button \r\n            onClick={handleModalClose} \r\n            disabled={submitLoading}\r\n            variant=\"outlined\"\r\n            size=\"large\"\r\n          >\r\n            Cancel\r\n          </Button>\r\n          <Button\r\n            onClick={handleSubmit}\r\n            variant=\"contained\"\r\n            disabled={submitLoading || submitSuccess}\r\n            size=\"large\"\r\n          >\r\n            {submitLoading \r\n              ? (editMode ? 'Updating...' : 'Adding...') \r\n              : (editMode ? 'Update Member' : 'Add Member')\r\n            }\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n\r\n      {/* Department Add/Edit Dialog */}\r\n      <Dialog\r\n        open={departmentDialog.open}\r\n        onClose={() => setDepartmentDialog({ open: false, mode: 'add', department: null })}\r\n        maxWidth=\"sm\"\r\n        fullWidth\r\n      >\r\n        <DialogTitle>\r\n          {departmentDialog.mode === 'edit' ? 'Edit Department' : 'Add New Department'}\r\n        </DialogTitle>\r\n        \r\n        <DialogContent>\r\n          {deptSubmitError && (\r\n            <Alert severity=\"error\" sx={{ mb: 3 }}>\r\n              {deptSubmitError}\r\n            </Alert>\r\n          )}\r\n\r\n          <Box component=\"form\" onSubmit={handleDepartmentSubmit} sx={{ pt: 2 }}>\r\n            <TextField\r\n              label=\"Department Name\"\r\n              value={deptName}\r\n              onChange={e => setDeptName(e.target.value)}\r\n              fullWidth\r\n              required\r\n              disabled={deptSubmitLoading}\r\n              sx={{ mb: 3 }}\r\n            />\r\n            \r\n            <TextField\r\n              label=\"Description (Optional)\"\r\n              value={deptDescription}\r\n              onChange={e => setDeptDescription(e.target.value)}\r\n              fullWidth\r\n              multiline\r\n              rows={3}\r\n              disabled={deptSubmitLoading}\r\n              sx={{ mb: 3 }}\r\n              placeholder=\"Brief description of this department...\"\r\n            />\r\n            \r\n            <TextField\r\n              label=\"Order Index\"\r\n              type=\"number\"\r\n              value={deptOrderIndex}\r\n              onChange={e => setDeptOrderIndex(e.target.value)}\r\n              fullWidth\r\n              disabled={deptSubmitLoading}\r\n              placeholder=\"0\"\r\n              helperText=\"Lower numbers appear first in lists\"\r\n            />\r\n          </Box>\r\n        </DialogContent>\r\n\r\n        <DialogActions sx={{ p: 3 }}>\r\n          <Button \r\n            onClick={() => setDepartmentDialog({ open: false, mode: 'add', department: null })}\r\n            disabled={deptSubmitLoading}\r\n          >\r\n            Cancel\r\n          </Button>\r\n          <Button\r\n            onClick={handleDepartmentSubmit}\r\n            variant=\"contained\"\r\n            disabled={deptSubmitLoading}\r\n          >\r\n            {deptSubmitLoading \r\n              ? (departmentDialog.mode === 'edit' ? 'Updating...' : 'Adding...') \r\n              : (departmentDialog.mode === 'edit' ? 'Update Department' : 'Add Department')\r\n            }\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n\r\n      {/* Delete Member Confirmation Dialog */}\r\n      <Dialog open={deleteDialog.open} onClose={handleDeleteCancel}>\r\n        <DialogTitle>Delete Team Member</DialogTitle>\r\n        <DialogContent>\r\n          <DialogContentText>\r\n            Are you sure you want to delete{' '}\r\n            <strong>{deleteDialog.member?.name}</strong>? This action cannot be undone.\r\n          </DialogContentText>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={handleDeleteCancel}>Cancel</Button>\r\n          <Button onClick={handleDeleteConfirm} color=\"error\" variant=\"contained\">\r\n            Delete\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n\r\n      {/* Delete Department Confirmation Dialog */}\r\n      <Dialog open={departmentDeleteDialog.open} onClose={() => setDepartmentDeleteDialog({ open: false, department: null })}>\r\n        <DialogTitle>Delete Department</DialogTitle>\r\n        <DialogContent>\r\n          <DialogContentText>\r\n            Are you sure you want to delete the department{' '}\r\n            <strong>{departmentDeleteDialog.department?.name}</strong>? \r\n            This action cannot be undone and will fail if there are team members assigned to this department.\r\n          </DialogContentText>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={() => setDepartmentDeleteDialog({ open: false, department: null })}>\r\n            Cancel\r\n          </Button>\r\n          <Button onClick={confirmDepartmentDelete} color=\"error\" variant=\"contained\">\r\n            Delete Department\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default AdminManageTeam;","import React, { useEffect, useState } from 'react';\r\nimport {\r\n  Box, Typography, Table, TableHead, TableRow, TableCell,\r\n  TableBody, Select, MenuItem, IconButton, Button, Dialog,\r\n  DialogTitle, DialogContent, DialogActions, TextField,\r\n  Paper, Grid, Alert, Snackbar, TableContainer, Chip,\r\n  FormControl, InputLabel, FormControlLabel, Checkbox,\r\n  FormGroup, Divider, Card, CardContent\r\n} from '@mui/material';\r\nimport { \r\n  Delete as DeleteIcon, \r\n  Edit as EditIcon, \r\n  Save as SaveIcon, \r\n  Cancel as CancelIcon, \r\n  Add as AddIcon,\r\n  Email as EmailIcon,\r\n  Security as SecurityIcon,\r\n  PersonAdd as PersonAddIcon\r\n} from '@mui/icons-material';\r\n\r\n// Mock config for demo\r\nconst API_BASE = 'http://localhost:5000';\r\n\r\n// Mock useAuth hook for demo\r\nconst useAuth = () => ({\r\n  user: { role: 'admin', id: 1, name: 'Admin User', email: 'admin@example.com' }\r\n});\r\n\r\n// Define available permissions for Assistant Admin role\r\nconst AVAILABLE_PERMISSIONS = [\r\n  { key: 'manage_content', label: 'Manage Content & Blogs', description: 'Create, edit, and delete blog posts and content' },\r\n  { key: 'manage_projects', label: 'Manage Projects', description: 'Create and update project information' },\r\n  { key: 'manage_team', label: 'Manage Team Members', description: 'Add and edit team member profiles' },\r\n  { key: 'manage_partners', label: 'Manage Partners', description: 'Add and edit partner information' },\r\n  { key: 'manage_contacts', label: 'View Contacts', description: 'Access contact form submissions' },\r\n  { key: 'manage_volunteers', label: 'Manage Volunteers', description: 'View and manage volunteer applications' },\r\n  { key: 'manage_newsletter', label: 'Newsletter Management', description: 'Manage newsletter subscribers and campaigns' },\r\n  { key: 'view_donations', label: 'View Donations', description: 'View donation statistics and reports' },\r\n  { key: 'manage_videos', label: 'Manage Videos', description: 'Upload and manage video content' },\r\n  { key: 'manage_impact', label: 'Manage Impact Data', description: 'Update impact statistics and metrics' },\r\n  { key: 'manage_jobs', label: 'Manage Job Postings', description: 'Create and edit job opportunities' }\r\n];\r\n\r\nconst AdminManageUsers = () => {\r\n  const { user } = useAuth();\r\n  const [users, setUsers] = useState([]);\r\n  const [selectedUser, setSelectedUser] = useState(null);\r\n  const [confirmOpen, setConfirmOpen] = useState(false);\r\n  const [editingUser, setEditingUser] = useState(null);\r\n  const [editedData, setEditedData] = useState({});\r\n  const [addUserOpen, setAddUserOpen] = useState(false);\r\n  const [permissionsOpen, setPermissionsOpen] = useState(false);\r\n  const [selectedPermissions, setSelectedPermissions] = useState([]);\r\n  const [newUser, setNewUser] = useState({\r\n    name: '',\r\n    email: '',\r\n    password: '',\r\n    role: 'Content Manager',\r\n    permissions: []\r\n  });\r\n  const [snackbar, setSnackbar] = useState({ open: false, message: '', severity: 'success' });\r\n\r\n  const showSnackbar = (message, severity = 'success') => {\r\n    setSnackbar({ open: true, message, severity });\r\n  };\r\n\r\n  const fetchUsers = async () => {\r\n    try {\r\n      const res = await fetch(`${API_BASE}/api/auth/users`, {\r\n        credentials: 'include',\r\n      });\r\n\r\n      const data = await res.json();\r\n\r\n      if (Array.isArray(data.users)) {\r\n        setUsers(data.users);\r\n      } else if (Array.isArray(data)) {\r\n        setUsers(data);\r\n      } else {\r\n        console.warn('Unexpected response format:', data);\r\n      }\r\n    } catch (err) {\r\n      console.error('Error fetching users:', err.message);\r\n      showSnackbar('Failed to fetch users', 'error');\r\n    }\r\n  };\r\n\r\n  const handleRoleChange = async (id, newRole) => {\r\n    try {\r\n      const res = await fetch(`${API_BASE}/api/users/${id}/role`, {\r\n        method: 'PUT',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        credentials: 'include',\r\n        body: JSON.stringify({ role: newRole }),\r\n      });\r\n\r\n      if (res.ok) {\r\n        setUsers(prev => prev.map(u => u.id === id ? { ...u, role: newRole } : u));\r\n        showSnackbar('Role updated successfully');\r\n        \r\n        // If changing to Assistant Admin, open permissions dialog\r\n        if (newRole === 'Assistant Admin') {\r\n          const currentUser = users.find(u => u.id === id);\r\n          setSelectedUser(currentUser);\r\n          setSelectedPermissions(currentUser.permissions || []);\r\n          setPermissionsOpen(true);\r\n        }\r\n      } else {\r\n        showSnackbar('Failed to update role', 'error');\r\n      }\r\n    } catch (err) {\r\n      console.error('Error updating role:', err.message);\r\n      showSnackbar('Failed to update role', 'error');\r\n    }\r\n  };\r\n\r\n  const handlePermissionsUpdate = async () => {\r\n    try {\r\n      const res = await fetch(`${API_BASE}/api/users/${selectedUser.id}/permissions`, {\r\n        method: 'PUT',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        credentials: 'include',\r\n        body: JSON.stringify({ permissions: selectedPermissions }),\r\n      });\r\n\r\n      if (res.ok) {\r\n        setUsers(prev => prev.map(u => \r\n          u.id === selectedUser.id \r\n            ? { ...u, permissions: selectedPermissions } \r\n            : u\r\n        ));\r\n        setPermissionsOpen(false);\r\n        showSnackbar('Permissions updated successfully');\r\n      } else {\r\n        showSnackbar('Failed to update permissions', 'error');\r\n      }\r\n    } catch (err) {\r\n      console.error('Error updating permissions:', err.message);\r\n      showSnackbar('Failed to update permissions', 'error');\r\n    }\r\n  };\r\n\r\n  const handleDeleteUser = async () => {\r\n    try {\r\n      const res = await fetch(`${API_BASE}/api/users/${selectedUser.id}`, {\r\n        method: 'DELETE',\r\n        credentials: 'include',\r\n      });\r\n\r\n      if (res.ok) {\r\n        setUsers(prev => prev.filter(u => u.id !== selectedUser.id));\r\n        setConfirmOpen(false);\r\n        setSelectedUser(null);\r\n        showSnackbar('User deleted successfully');\r\n      } else {\r\n        showSnackbar('Failed to delete user', 'error');\r\n      }\r\n    } catch (err) {\r\n      console.error('Error deleting user:', err.message);\r\n      showSnackbar('Failed to delete user', 'error');\r\n    }\r\n  };\r\n\r\n  const handleEditStart = (user) => {\r\n    setEditingUser(user.id);\r\n    setEditedData({\r\n      name: user.name,\r\n      email: user.email\r\n    });\r\n  };\r\n\r\n  const handleEditSave = async (userId) => {\r\n    if (!editedData.name || !editedData.email) {\r\n      showSnackbar('Name and email cannot be empty.', 'warning');\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const res = await fetch(`${API_BASE}/api/users/${userId}`, {\r\n        method: 'PUT',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        credentials: 'include',\r\n        body: JSON.stringify(editedData),\r\n      });\r\n\r\n      if (res.ok) {\r\n        setUsers(prev => prev.map(u => \r\n          u.id === userId ? { ...u, ...editedData } : u\r\n        ));\r\n        setEditingUser(null);\r\n        setEditedData({});\r\n        showSnackbar('User updated successfully');\r\n      } else {\r\n        const errorData = await res.json();\r\n        showSnackbar(errorData.message || 'Failed to update user', 'error');\r\n      }\r\n    } catch (err) {\r\n      console.error('Network Error:', err);\r\n      showSnackbar('Network error: Failed to update user', 'error');\r\n    }\r\n  };\r\n\r\n  const handleEditCancel = () => {\r\n    setEditingUser(null);\r\n    setEditedData({});\r\n  };\r\n\r\n  const handleAddUser = async () => {\r\n  console.log(' Frontend: Starting invitation process...');\r\n  console.log(' New user data:', newUser);\r\n  console.log(' Current user:', user);\r\n\r\n  try {\r\n    // First test the simple endpoint\r\n    console.log(' Testing simple endpoint first...');\r\n    \r\n    const testResponse = await fetch(`${API_BASE}/api/auth/test-invite`, {\r\n      method: 'POST',\r\n      headers: { \r\n        'Content-Type': 'application/json',\r\n        'Accept': 'application/json'\r\n      },\r\n      credentials: 'include',\r\n      body: JSON.stringify({ test: 'data', name: newUser.name, email: newUser.email }),\r\n    });\r\n\r\n    console.log(' Test response status:', testResponse.status);\r\n    const testData = await testResponse.json();\r\n    console.log(' Test response data:', testData);\r\n\r\n    if (!testResponse.ok) {\r\n      console.error(' Test endpoint failed');\r\n      showSnackbar(`Test failed: ${testData.message}`, 'error');\r\n      return;\r\n    }\r\n\r\n    console.log(' Test endpoint successful, now trying real invitation...');\r\n\r\n    // Now try the real invitation\r\n    const inviteResponse = await fetch(`${API_BASE}/api/auth/invite-user`, {\r\n      method: 'POST',\r\n      headers: { \r\n        'Content-Type': 'application/json',\r\n        'Accept': 'application/json'\r\n      },\r\n      credentials: 'include',\r\n      body: JSON.stringify({\r\n        name: newUser.name,\r\n        email: newUser.email,\r\n        role: newUser.role,\r\n        invitedBy: user.name,\r\n        permissions: newUser.role === 'Assistant Admin' ? newUser.permissions : []\r\n      }),\r\n    });\r\n\r\n    console.log(' Invite response status:', inviteResponse.status);\r\n    console.log(' Invite response headers:', inviteResponse.headers);\r\n\r\n    const inviteData = await inviteResponse.json();\r\n    console.log(' Invite response data:', inviteData);\r\n\r\n    if (inviteResponse.ok) {\r\n      showSnackbar(inviteData.message || 'User invitation sent successfully!');\r\n      setAddUserOpen(false);\r\n      setNewUser({ name: '', email: '', password: '', role: 'Content Manager', permissions: [] });\r\n      fetchUsers();\r\n    } else {\r\n      console.error(' Invitation failed:', inviteData);\r\n      showSnackbar(inviteData.message || `Failed to send invitation (${inviteResponse.status})`, 'error');\r\n    }\r\n\r\n  } catch (err) {\r\n    console.error(' Network/Parse error:', err);\r\n    showSnackbar(`Network error: ${err.message}`, 'error');\r\n  }\r\n};\r\n\r\n  const handlePermissionToggle = (permissionKey) => {\r\n    if (addUserOpen) {\r\n      // For new user creation\r\n      setNewUser(prev => ({\r\n        ...prev,\r\n        permissions: prev.permissions.includes(permissionKey)\r\n          ? prev.permissions.filter(p => p !== permissionKey)\r\n          : [...prev.permissions, permissionKey]\r\n      }));\r\n    } else {\r\n      // For editing existing user permissions\r\n      setSelectedPermissions(prev => \r\n        prev.includes(permissionKey)\r\n          ? prev.filter(p => p !== permissionKey)\r\n          : [...prev, permissionKey]\r\n      );\r\n    }\r\n  };\r\n\r\n  const openPermissionsDialog = (user) => {\r\n    setSelectedUser(user);\r\n    setSelectedPermissions(user.permissions || []);\r\n    setPermissionsOpen(true);\r\n  };\r\n\r\n  const getRoleColor = (role) => {\r\n    switch (role) {\r\n      case 'admin': return 'error';\r\n      case 'Assistant Admin': return 'warning';\r\n      case 'Content Manager': return 'primary';\r\n      default: return 'default';\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (user?.role === 'admin') {\r\n      fetchUsers();\r\n    }\r\n  }, [user]);\r\n\r\n  if (!user || user.role !== 'admin') {\r\n    return (\r\n      <Box sx={{ mt: 4, px: 2 }}>\r\n        <Alert severity=\"error\">Access Denied - Admin privileges required</Alert>\r\n      </Box>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Box sx={{ mt: 4, px: 2 }}>\r\n      <Box sx={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', mb: 3 }}>\r\n        <Typography variant=\"h4\" gutterBottom>\r\n          <PersonAddIcon sx={{ mr: 1, verticalAlign: 'middle' }} />\r\n          Manage Users\r\n        </Typography>\r\n        <Button\r\n          variant=\"contained\"\r\n          startIcon={<AddIcon />}\r\n          onClick={() => setAddUserOpen(true)}\r\n          sx={{ mb: 2 }}\r\n        >\r\n          Invite New User\r\n        </Button>\r\n      </Box>\r\n\r\n      {/* Role Legend */}\r\n      <Card sx={{ mb: 3, background: '#f8f9fa' }}>\r\n        <CardContent sx={{ py: 2 }}>\r\n          <Typography variant=\"h6\" sx={{ mb: 2, display: 'flex', alignItems: 'center' }}>\r\n            <SecurityIcon sx={{ mr: 1 }} />\r\n            User Roles\r\n          </Typography>\r\n          <Grid container spacing={2}>\r\n            <Grid item xs={12} md={4}>\r\n              <Chip label=\"Admin\" color=\"error\" size=\"small\" sx={{ mr: 1 }} />\r\n              <Typography variant=\"body2\" color=\"textSecondary\">\r\n                Full system access and user management\r\n              </Typography>\r\n            </Grid>\r\n            <Grid item xs={12} md={4}>\r\n              <Chip label=\"Assistant Admin\" color=\"warning\" size=\"small\" sx={{ mr: 1 }} />\r\n              <Typography variant=\"body2\" color=\"textSecondary\">\r\n                Limited admin privileges with custom permissions\r\n              </Typography>\r\n            </Grid>\r\n            <Grid item xs={12} md={4}>\r\n              <Chip label=\"Content Manager\" color=\"primary\" size=\"small\" sx={{ mr: 1 }} />\r\n              <Typography variant=\"body2\" color=\"textSecondary\">\r\n                Manage content, blogs, and projects\r\n              </Typography>\r\n            </Grid>\r\n          </Grid>\r\n        </CardContent>\r\n      </Card>\r\n\r\n      <TableContainer component={Paper}>\r\n        <Table>\r\n          <TableHead>\r\n            <TableRow sx={{ backgroundColor: '#f5f5f5' }}>\r\n              <TableCell><strong>Name</strong></TableCell>\r\n              <TableCell><strong>Email</strong></TableCell>\r\n              <TableCell><strong>Role</strong></TableCell>\r\n              <TableCell><strong>Permissions</strong></TableCell>\r\n              <TableCell><strong>Status</strong></TableCell>\r\n              <TableCell><strong>Actions</strong></TableCell>\r\n            </TableRow>\r\n          </TableHead>\r\n          <TableBody>\r\n            {users.map((u) => (\r\n              <TableRow key={u.id} hover>\r\n                <TableCell>\r\n                  {editingUser === u.id ? (\r\n                    <TextField\r\n                      value={editedData.name || ''}\r\n                      onChange={(e) => setEditedData(prev => ({ ...prev, name: e.target.value }))}\r\n                      size=\"small\"\r\n                      fullWidth\r\n                    />\r\n                  ) : (\r\n                    u.name || ''\r\n                  )}\r\n                </TableCell>\r\n                <TableCell>\r\n                  {editingUser === u.id ? (\r\n                    <TextField\r\n                      value={editedData.email || ''}\r\n                      onChange={(e) => setEditedData(prev => ({ ...prev, email: e.target.value }))}\r\n                      size=\"small\"\r\n                      fullWidth\r\n                      type=\"email\"\r\n                    />\r\n                  ) : (\r\n                    u.email || ''\r\n                  )}\r\n                </TableCell>\r\n                <TableCell>\r\n                  <Select\r\n                    value={u.role}\r\n                    onChange={(e) => handleRoleChange(u.id, e.target.value)}\r\n                    size=\"small\"\r\n                    disabled={editingUser === u.id}\r\n                    sx={{ minWidth: 140 }}\r\n                  >\r\n                    <MenuItem value=\"admin\">Admin</MenuItem>\r\n                    <MenuItem value=\"Assistant Admin\">Assistant Admin</MenuItem>\r\n                    <MenuItem value=\"Content Manager\">Content Manager</MenuItem>\r\n                  </Select>\r\n                </TableCell>\r\n                <TableCell>\r\n                  {u.role === 'Assistant Admin' ? (\r\n                    <Box>\r\n                      {(u.permissions || []).slice(0, 2).map(permission => {\r\n                        const permObj = AVAILABLE_PERMISSIONS.find(p => p.key === permission);\r\n                        return (\r\n                          <Chip \r\n                            key={permission} \r\n                            label={permObj?.label || permission} \r\n                            size=\"small\" \r\n                            sx={{ mr: 0.5, mb: 0.5 }}\r\n                            color=\"secondary\"\r\n                          />\r\n                        );\r\n                      })}\r\n                      {(u.permissions || []).length > 2 && (\r\n                        <Chip \r\n                          label={`+${(u.permissions || []).length - 2} more`} \r\n                          size=\"small\" \r\n                          variant=\"outlined\"\r\n                        />\r\n                      )}\r\n                      {(u.permissions || []).length > 0 && (\r\n                        <Button\r\n                          size=\"small\"\r\n                          onClick={() => openPermissionsDialog(u)}\r\n                          sx={{ ml: 1 }}\r\n                        >\r\n                          View All\r\n                        </Button>\r\n                      )}\r\n                    </Box>\r\n                  ) : (\r\n                    <Chip \r\n                      label={u.role === 'admin' ? 'Full Access' : 'Standard Access'} \r\n                      color={getRoleColor(u.role)}\r\n                      size=\"small\"\r\n                    />\r\n                  )}\r\n                </TableCell>\r\n                <TableCell>\r\n                  <Chip \r\n                    label={u.isActive ? 'Active' : 'Pending'} \r\n                    color={u.isActive ? 'success' : 'warning'}\r\n                    size=\"small\"\r\n                  />\r\n                </TableCell>\r\n                <TableCell>\r\n                  <Box sx={{ display: 'flex', gap: 1 }}>\r\n                    {editingUser === u.id ? (\r\n                      <>\r\n                        <IconButton \r\n                          onClick={() => handleEditSave(u.id)}\r\n                          color=\"primary\"\r\n                          size=\"small\"\r\n                        >\r\n                          <SaveIcon />\r\n                        </IconButton>\r\n                        <IconButton \r\n                          onClick={handleEditCancel}\r\n                          color=\"secondary\"\r\n                          size=\"small\"\r\n                        >\r\n                          <CancelIcon />\r\n                        </IconButton>\r\n                      </>\r\n                    ) : (\r\n                      <>\r\n                        <IconButton \r\n                          onClick={() => handleEditStart(u)}\r\n                          color=\"primary\"\r\n                          size=\"small\"\r\n                        >\r\n                          <EditIcon />\r\n                        </IconButton>\r\n                        {u.role === 'Assistant Admin' && (\r\n                          <IconButton \r\n                            onClick={() => openPermissionsDialog(u)}\r\n                            color=\"info\"\r\n                            size=\"small\"\r\n                            title=\"Manage Permissions\"\r\n                          >\r\n                            <SecurityIcon />\r\n                          </IconButton>\r\n                        )}\r\n                        {!u.isActive && (\r\n                          <IconButton \r\n                            onClick={() => handleResendInvitation(u)}\r\n                            color=\"warning\"\r\n                            size=\"small\"\r\n                            title=\"Resend Invitation\"\r\n                          >\r\n                            <EmailIcon />\r\n                          </IconButton>\r\n                        )}\r\n                        <IconButton \r\n                          onClick={() => {\r\n                            setSelectedUser(u);\r\n                            setConfirmOpen(true);\r\n                          }}\r\n                          color=\"error\"\r\n                          size=\"small\"\r\n                        >\r\n                          <DeleteIcon />\r\n                        </IconButton>\r\n                      </>\r\n                    )}\r\n                  </Box>\r\n                </TableCell>\r\n              </TableRow>\r\n            ))}\r\n          </TableBody>\r\n        </Table>\r\n      </TableContainer>\r\n\r\n      {users.length === 0 && (\r\n        <Box sx={{ textAlign: 'center', py: 4 }}>\r\n          <Typography variant=\"h6\" color=\"textSecondary\">\r\n            No users found\r\n          </Typography>\r\n        </Box>\r\n      )}\r\n\r\n      {/* Delete Confirmation Dialog */}\r\n      <Dialog open={confirmOpen} onClose={() => setConfirmOpen(false)}>\r\n        <DialogTitle>Confirm Deletion</DialogTitle>\r\n        <DialogContent>\r\n          Are you sure you want to delete user \"{selectedUser?.name || selectedUser?.email}\"?\r\n          This action cannot be undone.\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={() => setConfirmOpen(false)}>Cancel</Button>\r\n          <Button color=\"error\" variant=\"contained\" onClick={handleDeleteUser}>\r\n            Delete\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n\r\n      {/* Add User Dialog */}\r\n      <Dialog open={addUserOpen} onClose={() => setAddUserOpen(false)} maxWidth=\"md\" fullWidth>\r\n        <DialogTitle>\r\n          <Box sx={{ display: 'flex', alignItems: 'center' }}>\r\n            <PersonAddIcon sx={{ mr: 1 }} />\r\n            Invite New User\r\n          </Box>\r\n        </DialogTitle>\r\n        <DialogContent>\r\n          <Grid container spacing={3} sx={{ mt: 1 }}>\r\n            <Grid item xs={12} md={6}>\r\n              <TextField\r\n                label=\"Full Name\"\r\n                value={newUser.name}\r\n                onChange={(e) => setNewUser(prev => ({ ...prev, name: e.target.value }))}\r\n                fullWidth\r\n                required\r\n              />\r\n            </Grid>\r\n            <Grid item xs={12} md={6}>\r\n              <TextField\r\n                label=\"Email\"\r\n                type=\"email\"\r\n                value={newUser.email}\r\n                onChange={(e) => setNewUser(prev => ({ ...prev, email: e.target.value }))}\r\n                fullWidth\r\n                required\r\n              />\r\n            </Grid>\r\n            <Grid item xs={12} md={6}>\r\n              <FormControl fullWidth>\r\n                <InputLabel>Role</InputLabel>\r\n                <Select\r\n                  value={newUser.role}\r\n                  label=\"Role\"\r\n                  onChange={(e) => setNewUser(prev => ({ \r\n                    ...prev, \r\n                    role: e.target.value,\r\n                    permissions: e.target.value === 'Assistant Admin' ? prev.permissions : []\r\n                  }))}\r\n                >\r\n                  <MenuItem value=\"admin\">Admin</MenuItem>\r\n                  <MenuItem value=\"Assistant Admin\">Assistant Admin</MenuItem>\r\n                  <MenuItem value=\"Content Manager\">Content Manager</MenuItem>\r\n                </Select>\r\n              </FormControl>\r\n            </Grid>\r\n            <Grid item xs={12} md={6}>\r\n              <TextField\r\n                label=\"Temporary Password\"\r\n                type=\"password\"\r\n                value={newUser.password}\r\n                onChange={(e) => setNewUser(prev => ({ ...prev, password: e.target.value }))}\r\n                fullWidth\r\n                required\r\n                helperText=\"User will set their own password via email activation\"\r\n              />\r\n            </Grid>\r\n\r\n            {/* Permissions for Assistant Admin */}\r\n            {newUser.role === 'Assistant Admin' && (\r\n              <Grid item xs={12}>\r\n                <Typography variant=\"h6\" sx={{ mb: 2, display: 'flex', alignItems: 'center' }}>\r\n                  <SecurityIcon sx={{ mr: 1 }} />\r\n                  Assistant Admin Permissions\r\n                </Typography>\r\n                <FormGroup>\r\n                  <Grid container spacing={1}>\r\n                    {AVAILABLE_PERMISSIONS.map((permission) => (\r\n                      <Grid item xs={12} md={6} key={permission.key}>\r\n                        <FormControlLabel\r\n                          control={\r\n                            <Checkbox\r\n                              checked={newUser.permissions.includes(permission.key)}\r\n                              onChange={() => handlePermissionToggle(permission.key)}\r\n                            />\r\n                          }\r\n                          label={\r\n                            <Box>\r\n                              <Typography variant=\"body2\" fontWeight=\"medium\">\r\n                                {permission.label}\r\n                              </Typography>\r\n                              <Typography variant=\"caption\" color=\"textSecondary\">\r\n                                {permission.description}\r\n                              </Typography>\r\n                            </Box>\r\n                          }\r\n                        />\r\n                      </Grid>\r\n                    ))}\r\n                  </Grid>\r\n                </FormGroup>\r\n              </Grid>\r\n            )}\r\n          </Grid>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={() => setAddUserOpen(false)}>Cancel</Button>\r\n          <Button \r\n            variant=\"contained\" \r\n            onClick={handleAddUser}\r\n            disabled={!newUser.name || !newUser.email || !newUser.password}\r\n            startIcon={<EmailIcon />}\r\n          >\r\n            Send Invitation\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n\r\n      {/* Permissions Management Dialog */}\r\n      <Dialog open={permissionsOpen} onClose={() => setPermissionsOpen(false)} maxWidth=\"md\" fullWidth>\r\n        <DialogTitle>\r\n          <Box sx={{ display: 'flex', alignItems: 'center' }}>\r\n            <SecurityIcon sx={{ mr: 1 }} />\r\n            Manage Permissions - {selectedUser?.name}\r\n          </Box>\r\n        </DialogTitle>\r\n        <DialogContent>\r\n          <Alert severity=\"info\" sx={{ mb: 2 }}>\r\n            Assistant Admins have limited administrative access. Select specific permissions below.\r\n          </Alert>\r\n          <FormGroup>\r\n            <Grid container spacing={2}>\r\n              {AVAILABLE_PERMISSIONS.map((permission) => (\r\n                <Grid item xs={12} md={6} key={permission.key}>\r\n                  <FormControlLabel\r\n                    control={\r\n                      <Checkbox\r\n                        checked={selectedPermissions.includes(permission.key)}\r\n                        onChange={() => handlePermissionToggle(permission.key)}\r\n                      />\r\n                    }\r\n                    label={\r\n                      <Box>\r\n                        <Typography variant=\"body2\" fontWeight=\"medium\">\r\n                          {permission.label}\r\n                        </Typography>\r\n                        <Typography variant=\"caption\" color=\"textSecondary\">\r\n                          {permission.description}\r\n                        </Typography>\r\n                      </Box>\r\n                    }\r\n                  />\r\n                </Grid>\r\n              ))}\r\n            </Grid>\r\n          </FormGroup>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={() => setPermissionsOpen(false)}>Cancel</Button>\r\n          <Button \r\n            variant=\"contained\" \r\n            onClick={handlePermissionsUpdate}\r\n            color=\"primary\"\r\n          >\r\n            Update Permissions\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n\r\n      {/* Snackbar for notifications */}\r\n      <Snackbar\r\n        open={snackbar.open}\r\n        autoHideDuration={4000}\r\n        onClose={() => setSnackbar(prev => ({ ...prev, open: false }))}\r\n      >\r\n        <Alert severity={snackbar.severity} onClose={() => setSnackbar(prev => ({ ...prev, open: false }))}>\r\n          {snackbar.message}\r\n        </Alert>\r\n      </Snackbar>\r\n    </Box>\r\n  );\r\n\r\n  // Helper function to resend invitation\r\n  async function handleResendInvitation(user) {\r\n    try {\r\n      const res = await fetch(`${API_BASE}/api/auth/resend-invitation`, {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        credentials: 'include',\r\n        body: JSON.stringify({ userId: user.id }),\r\n      });\r\n\r\n      if (res.ok) {\r\n        showSnackbar('Invitation resent successfully!');\r\n      } else {\r\n        showSnackbar('Failed to resend invitation', 'error');\r\n      }\r\n    } catch (err) {\r\n      console.error('Error resending invitation:', err);\r\n      showSnackbar('Failed to resend invitation', 'error');\r\n    }\r\n  }\r\n};\r\n\r\nexport default AdminManageUsers;","import React, { useState, useEffect } from 'react';\nimport {\n  Drawer, List, ListItem, ListItemIcon, ListItemText,\n  Typography, Box, Avatar, IconButton, Skeleton\n} from '@mui/material';\nimport {\n  Dashboard as DashboardIcon,\n  Article as ArticleIcon,\n  People as PeopleIcon,\n  Logout as LogoutIcon,\n  Work as WorkIcon,\n  ChevronLeft as ChevronLeftIcon,\n  Newspaper as NewspaperIcon,\n  Image as ImageIcon,\n  Group as TeamIcon,\n  Business as PartnersIcon,\n  ContactMail as ContactIcon,\n  WhatsApp as WhatsAppIcon,\n  VolunteerActivism as VolunteerIcon,\n  Assessment as ImpactIcon,\n  MonetizationOn as DonationIcon,\n  Email as NewsletterIcon,\n  VideoLibrary as VideoIcon,\n  AutoFixHigh as GeneratorIcon,\n  Receipt as TransactionIcon,\n  Public as CountryIcon,\n  Category as CategoryIcon\n} from '@mui/icons-material';\nimport { useNavigate, useLocation } from 'react-router-dom';\nimport { useTheme } from '@mui/material/styles';\nimport { useAuth } from '../../../context/AuthContext';\nimport { useLogo } from '../../../context/LogoContext';\n\n// Define all possible menu items with their permission requirements\nconst ALL_MENU_ITEMS = [\n  {\n    id: 'overview',\n    text: 'Overview',\n    icon: <DashboardIcon />,\n    path: '/admin/dashboard',\n    requiredRole: ['admin', 'Assistant Admin'],\n    requiredPermission: null, // Always available for admin and assistant admin\n    order: 1\n  },\n  {\n    id: 'manage_blogs',\n    text: 'Manage Blogs',\n    icon: <NewspaperIcon />,\n    path: '/admin/dashboard/manage-blogs',\n    requiredRole: ['admin', 'Assistant Admin', 'Content Manager'],\n    requiredPermission: 'manage_content',\n    order: 2\n  },\n  {\n    id: 'projects',\n    text: 'Projects',\n    icon: <ArticleIcon />,\n    path: '/admin/dashboard/projects',\n    requiredRole: ['admin', 'Assistant Admin'],\n    requiredPermission: 'manage_projects',\n    order: 3\n  },\n  {\n    id: 'jobs',\n    text: 'Jobs',\n    icon: <WorkIcon />,\n    path: '/admin/dashboard/jobmanager',\n    requiredRole: ['admin', 'Assistant Admin'],\n    requiredPermission: 'manage_jobs',\n    order: 4\n  },\n  {\n    id: 'users',\n    text: 'Users',\n    icon: <PeopleIcon />,\n    path: '/admin/dashboard/users',\n    requiredRole: ['admin'],\n    requiredPermission: null, // Admin only - no permission needed\n    order: 5\n  },\n  {\n    id: 'countries',\n    text: 'Countries',\n    icon: <CountryIcon />,\n    path: '/admin/dashboard/countries',\n    requiredRole: ['admin'],\n    requiredPermission: null,\n    order: 6\n  },\n  {\n    id: 'categories',\n    text: 'Focus Areas',\n    icon: <CategoryIcon />,\n    path: '/admin/dashboard/categories',\n    requiredRole: ['admin'],\n    requiredPermission: null,\n    order: 7\n  },\n  {\n    id: 'team',\n    text: 'Team',\n    icon: <TeamIcon />,\n    path: '/admin/dashboard/team',\n    requiredRole: ['admin', 'Assistant Admin'],\n    requiredPermission: 'manage_team',\n    order: 8\n  },\n  {\n    id: 'partners',\n    text: 'Partners',\n    icon: <PartnersIcon />,\n    path: '/admin/dashboard/partners',\n    requiredRole: ['admin', 'Assistant Admin'],\n    requiredPermission: 'manage_partners',\n    order: 9\n  },\n  {\n    id: 'generator',\n    text: 'Generator',\n    icon: <GeneratorIcon />,\n    path: '/admin/dashboard/generator',\n    requiredRole: ['admin'],\n    requiredPermission: null,\n    order: 10\n  },\n  {\n    id: 'newsletter',\n    text: 'Newsletter',\n    icon: <NewsletterIcon />,\n    path: '/admin/dashboard/newsletter',\n    requiredRole: ['admin', 'Assistant Admin'],\n    requiredPermission: 'manage_newsletter',\n    order: 11\n  },\n  {\n    id: 'videos',\n    text: 'Videos',\n    icon: <VideoIcon />,\n    path: '/admin/dashboard/manage-videos',\n    requiredRole: ['admin', 'Assistant Admin'],\n    requiredPermission: 'manage_videos',\n    order: 12\n  },\n\n  {\n    id: 'logo',\n    text: 'Logo Management',\n    icon: <ImageIcon />,\n    path: '/admin/dashboard/manage-logo',\n    requiredRole: ['admin'],\n    requiredPermission: null,\n    order: 13\n  },\n  {\n    id: 'transactions',\n    text: 'Transaction Details',\n    icon: <TransactionIcon />,\n    path: '/admin/dashboard/manage-transactions',\n    requiredRole: ['admin'],\n    requiredPermission: null,\n    order: 14\n  },\n  {\n    id: 'contacts',\n    text: 'Contact Details',\n    icon: <ContactIcon />,\n    path: '/admin/dashboard/contacts',\n    requiredRole: ['admin', 'Assistant Admin'],\n    requiredPermission: 'manage_contacts',\n    order: 15\n  },\n  {\n    id: 'whatsapp',\n    text: 'WhatsApp Chat Contact',\n    icon: <WhatsAppIcon />,\n    path: '/admin/dashboard/whatsapp',\n    requiredRole: ['admin'],\n    requiredPermission: null,\n    order: 16\n  },\n  {\n    id: 'volunteers',\n    text: 'Volunteer Forms',\n    icon: <VolunteerIcon />,\n    path: '/admin/dashboard/volunteers',\n    requiredRole: ['admin', 'Assistant Admin'],\n    requiredPermission: 'manage_volunteers',\n    order: 17\n  },\n  {\n    id: 'impact',\n    text: 'Impact Statistics',\n    icon: <ImpactIcon />,\n    path: '/admin/dashboard/impact',\n    requiredRole: ['admin', 'Assistant Admin'],\n    requiredPermission: 'manage_impact',\n    order: 18\n  },\n  {\n    id: 'donations',\n    text: 'Manage Donation',\n    icon: <DonationIcon />,\n    path: '/admin/dashboard/managedonate',\n    requiredRole: ['admin', 'Assistant Admin'],\n    requiredPermission: 'view_donations',\n    order: 19\n  },\n    {\n    id: 'pillars',\n    text: 'Pillars',\n    icon: <VideoIcon />,\n    path: '/admin/dashboard/pillars',\n    requiredRole: ['admin', 'Assistant Admin'],\n    requiredPermission: 'pillars',\n    order: 20\n  },\n     {\n    id: 'events',\n    text: 'Events',\n    icon: <VideoIcon />,\n    path: '/admin/dashboard/events',\n    requiredRole: ['admin', 'Assistant Admin'],\n    requiredPermission: 'events',\n    order: 21\n  },\n    {\n    id: 'collaboration',\n    text: 'Collaboration Reports',\n    icon: <VideoIcon />,\n    path: '/admin/dashboard/collaboration',\n    requiredRole: ['admin', 'Assistant Admin'],\n    requiredPermission: 'collaboration',\n    order: 22\n  },\n   {\n    id: 'highlights',\n    text: 'Highlights',\n    icon: <VideoIcon />,\n    path: '/admin/dashboard/highlights',\n    requiredRole: ['admin', 'Assistant Admin'],\n    requiredPermission: 'highlights',\n    order: 23\n  },\n  {\n    id: 'gallerymanager',\n    text: 'Gallery Manager',\n    icon: <VideoIcon />,\n    path: '/admin/dashboard/gallerymanager',\n    requiredRole: ['admin', 'Assistant Admin'],\n    requiredPermission: 'gallerymanager',\n    order: 24\n  },\n    {\n    id: 'adminmanagegeneraltestimonials',\n    text: 'General Testimonials',\n    icon: <VideoIcon />,\n    path: '/admin/dashboard/adminmanagegeneraltestimonials',\n    requiredRole: ['admin', 'Assistant Admin'],\n    requiredPermission: 'adminmanagegeneraltestimonials',\n    order: 25\n  },\n\n\n\n];\nconst Sidebar = ({ open, toggleSidebar }) => {\n  const navigate = useNavigate();\n  const location = useLocation();\n  const theme = useTheme();\n  const [selectedPath, setSelectedPath] = useState(location.pathname);\n  const { user } = useAuth();\n  \n  // Use Logo Context\n  const { currentLogo, loading: logoLoading, refreshLogo } = useLogo();\n\n  // Function to check if user has access to a menu item\n  const hasAccess = (menuItem) => {\n    if (!user) return false;\n\n    // Check role requirement\n    if (!menuItem.requiredRole.includes(user.role)) {\n      return false;\n    }\n\n    // If it's admin role, they have access to everything\n    if (user.role === 'admin') {\n      return true;\n    }\n\n    // If no specific permission is required, user has access\n    if (!menuItem.requiredPermission) {\n      return true;\n    }\n\n    // For Assistant Admin, check if they have the required permission\n    if (user.role === 'Assistant Admin') {\n      return user.permissions && user.permissions.includes(menuItem.requiredPermission);\n    }\n\n    // For Content Manager, check specific permissions\n    if (user.role === 'Content Manager') {\n      // Content managers can always access blogs\n      if (menuItem.id === 'manage_blogs') {\n        return true;\n      }\n      // Add any other Content Manager specific access here\n      return false;\n    }\n\n    return false;\n  };\n\n  // Get filtered menu items based on user permissions\n  const getMenuItems = () => {\n    if (!user) return [];\n\n    const accessibleItems = ALL_MENU_ITEMS\n      .filter(hasAccess)\n      .sort((a, b) => a.order - b.order);\n\n    // Always add logout at the end\n    accessibleItems.push({\n      id: 'logout',\n      text: 'Logout',\n      icon: <LogoutIcon />,\n      path: '/login',\n      requiredRole: ['admin', 'Assistant Admin', 'Content Manager'],\n      requiredPermission: null,\n      order: 999\n    });\n\n    return accessibleItems;\n  };\n\n  // Refresh logo when navigating to/from logo management page\n  useEffect(() => {\n    if (location.pathname === '/admin/dashboard/manage-logo') {\n      const timer = setTimeout(refreshLogo, 500);\n      return () => clearTimeout(timer);\n    }\n  }, [location.pathname, refreshLogo]);\n\n  const handleNavigation = (path) => {\n    // Handle logout separately\n    if (path === '/login') {\n      // You might want to call a logout function here\n      // logout(); // Uncomment if you have a logout function in AuthContext\n    }\n    \n    navigate(path);\n    setSelectedPath(path);\n    \n    // If navigating away from logo management, refresh logo to catch any changes\n    if (selectedPath === '/admin/dashboard/manage-logo' && path !== '/admin/dashboard/manage-logo') {\n      setTimeout(refreshLogo, 100);\n    }\n  };\n\n  const handleLogoClick = () => {\n    if (user?.role === 'admin') {\n      navigate('/admin/dashboard/manage-logo');\n      setSelectedPath('/admin/dashboard/manage-logo');\n    }\n  };\n\n  // Determine logo source\n  const getLogoSrc = () => {\n    if (currentLogo?.full_url) {\n      return currentLogo.full_url;\n    }\n    return \"/assets/ELP.png\";\n  };\n\n  const getLogoAlt = () => {\n    if (currentLogo?.alt_text) {\n      return currentLogo.alt_text;\n    }\n    return \"ACEF Logo\";\n  };\n\n  // Get user role display with permissions info\n  const getUserRoleDisplay = () => {\n    if (!user) return '';\n    \n    let roleText = user.role;\n    if (user.role === 'Assistant Admin' && user.permissions?.length > 0) {\n      roleText += ` (${user.permissions.length} perms)`;\n    }\n    return roleText;\n  };\n\n  const menuItems = getMenuItems();\n\n  return (\n    <Drawer\n      variant=\"persistent\"\n      open={open}\n      sx={{\n        width: open ? 240 : 0,\n        flexShrink: 0,\n        [`& .MuiDrawer-paper`]: {\n          width: 240,\n          boxSizing: 'border-box',\n          backgroundColor: theme.palette.primary.main,\n          color: theme.palette.secondary.third,\n          transition: 'width 0.3s ease'\n        },\n      }}\n    >\n      {/* Sidebar Header */}\n      <Box sx={{ display: 'flex', alignItems: 'center', justifyContent: 'space-between', p: 2 }}>\n        <Box sx={{ display: 'flex', alignItems: 'center' }}>\n          {logoLoading ? (\n            <Skeleton variant=\"circular\" width={60} height={60} sx={{ mr: 1 }} />\n          ) : (\n            <Avatar \n              src={getLogoSrc()}\n              alt={getLogoAlt()}\n              sx={{ \n                width: 60, \n                height: 60, \n                mr: 1,\n                cursor: user?.role === 'admin' ? 'pointer' : 'default',\n                transition: 'transform 0.2s ease, box-shadow 0.2s ease',\n                border: '2px solid rgba(255,255,255,0.2)',\n                '&:hover': user?.role === 'admin' ? {\n                  transform: 'scale(1.05)',\n                  boxShadow: '0 4px 12px rgba(0,0,0,0.3)',\n                  border: '2px solid rgba(255,255,255,0.4)',\n                } : {}\n              }}\n              onClick={handleLogoClick}\n              title={user?.role === 'admin' ? 'Click to manage logo' : getLogoAlt()}\n            />\n          )}\n          <Box>\n            <Typography variant=\"h6\" sx={{ lineHeight: 1.2 }}>ACEF</Typography>\n            {user && (\n              <Typography \n                variant=\"caption\" \n                sx={{ \n                  opacity: 0.7, \n                  fontSize: '0.7rem',\n                  display: 'block',\n                  lineHeight: 1\n                }}\n              >\n                {user.role === 'admin' && 'Click logo to edit'}\n                {user.role !== 'admin' && getUserRoleDisplay()}\n              </Typography>\n            )}\n          </Box>\n        </Box>\n        <IconButton onClick={toggleSidebar}>\n          <ChevronLeftIcon />\n        </IconButton>\n      </Box>\n\n      {/* User Info Section */}\n      {user && (\n        <Box sx={{ px: 2, mb: 2, borderBottom: '1px solid rgba(255,255,255,0.1)', pb: 2 }}>\n          <Typography variant=\"body2\" sx={{ opacity: 0.8, fontSize: '0.8rem' }}>\n            Logged in as:\n          </Typography>\n          <Typography variant=\"body2\" sx={{ fontWeight: 'medium', fontSize: '0.9rem' }}>\n            {user.name}\n          </Typography>\n          <Typography variant=\"caption\" sx={{ opacity: 0.6, fontSize: '0.7rem' }}>\n            {getUserRoleDisplay()}\n          </Typography>\n        </Box>\n      )}\n\n      {/* Sidebar Menu */}\n      <List sx={{ flexGrow: 1 }}>\n        {menuItems.map((item) => (\n          <ListItem\n            key={item.id}\n            onClick={() => handleNavigation(item.path)}\n            sx={{\n              backgroundColor: selectedPath === item.path ? theme.palette.secondary.third : 'inherit',\n              color: selectedPath === item.path ? '#fff' : theme.palette.secondary.third,\n              cursor: 'pointer',\n              mx: 1,\n              borderRadius: 1,\n              mb: 0.5,\n              '&:hover': {\n                backgroundColor: selectedPath === item.path \n                  ? theme.palette.secondary.third \n                  : 'rgba(255,255,255,0.1)',\n                color: '#fff'\n              }\n            }}\n            component=\"div\"\n          >\n            <ListItemIcon sx={{ \n              color: selectedPath === item.path ? '#fff' : theme.palette.secondary.third,\n              minWidth: 40\n            }}>\n              {item.icon}\n            </ListItemIcon>\n            <ListItemText \n              primary={item.text}\n              primaryTypographyProps={{\n                fontSize: '0.9rem',\n                fontWeight: selectedPath === item.path ? 'medium' : 'normal'\n              }}\n            />\n          </ListItem>\n        ))}\n      </List>\n\n      {/* Debug info for development (remove in production) */}\n      {process.env.NODE_ENV === 'development' && user && (\n        <Box sx={{ px: 2, py: 1, borderTop: '1px solid rgba(255,255,255,0.1)' }}>\n          <Typography variant=\"caption\" sx={{ opacity: 0.5, fontSize: '0.6rem' }}>\n            Debug: {user.role}\n            {user.permissions && user.permissions.length > 0 && (\n              <span> | Perms: {user.permissions.length}</span>\n            )}\n          </Typography>\n        </Box>\n      )}\n    </Drawer>\n  );\n};\n\n// Export the menu items configuration for use in other components\nexport { ALL_MENU_ITEMS };\nexport default Sidebar;","import React from 'react';\nimport { AppBar, Toolbar, Typography, IconButton, Box, Button } from '@mui/material';\nimport AccountCircleIcon from '@mui/icons-material/AccountCircle';\nimport LogoutIcon from '@mui/icons-material/Logout';\nimport MenuIcon from '@mui/icons-material/Menu';\nimport { useTheme } from '@mui/material/styles';\nimport { useNavigate } from 'react-router-dom';\nimport { useAuth } from '../../../context/AuthContext'; // Adjust path as needed\n\nconst DashboardHeader = ({ toggleSidebar }) => {\n  const theme = useTheme();\n  const { user, logout } = useAuth();\n  const navigate = useNavigate();\n\n  const handleLogout = async () => {\n    await logout();\n    navigate('/login');\n  };\n\n  return (\n    <AppBar\n      position=\"static\"\n      sx={{\n        backgroundColor: theme.palette.secondary.main,\n        color: theme.palette.secondary?.third || theme.palette.primary.contrastText, // fallback\n        padding: '0 16px',\n      }}\n    >\n      <Toolbar sx={{ display: 'flex', justifyContent: 'space-between' }}>\n        <IconButton edge=\"start\" onClick={toggleSidebar} sx={{ mr: 2 }}>\n          <MenuIcon fontSize=\"large\" />\n        </IconButton>\n\n        <Typography variant=\"h6\">\n          Hello, {user?.name || 'Guest'}\n        </Typography>\n\n        <Box sx={{ display: 'flex', alignItems: 'center' }}>\n          <IconButton>\n            <AccountCircleIcon fontSize=\"large\" />\n          </IconButton>\n          <Button\n            startIcon={<LogoutIcon />}\n            onClick={handleLogout}\n            sx={{\n              ml: 2,\n              color: theme.palette.secondary?.third || theme.palette.primary.contrastText,\n            }}\n          >\n            Logout\n          </Button>\n        </Box>\n      </Toolbar>\n    </AppBar>\n  );\n};\n\nexport default DashboardHeader;\n","import React from 'react'\nimport { Box,Typography } from '@mui/material'\nimport { green } from '@mui/material/colors';\n\nconst DasboardFooter = () => {\n  const currentYear = new Date().getFullYear();\n  return (\n    <Box\n      sx={{\n        backgroundColor: 'white',\n        color: green,\n        padding: '1rem',\n        textAlign: 'center',\n      }}\n    >\n      <Typography variant=\"body2\" sx={{ marginTop: '1rem' }}> {currentYear} ACEF. All rights reserved.</Typography>\n    </Box>\n  )\n}\n\nexport default DasboardFooter","import React, { useState } from 'react';\r\nimport Sidebar from './SideBar';\r\nimport DashboardHeader from './DashboardHeader';\r\nimport DashboardFooter from './DashboardFooter';\r\nimport { Box } from '@mui/material';\r\nimport { Outlet, useNavigate } from 'react-router-dom';\r\n\r\nconst AdminDashboard = () => {\r\n  const [sidebarOpen, setSidebarOpen] = useState(true);\r\n  const navigate = useNavigate();\r\n\r\n  const toggleSidebar = () => {\r\n    setSidebarOpen(!sidebarOpen);\r\n  };\r\n\r\n  const handleLogout = () => {\r\n    localStorage.removeItem('user');\r\n    navigate('/login');\r\n  };\r\n\r\n  return (\r\n    <Box sx={{ display: 'flex', flexDirection: 'column', minHeight: '100vh' }}>\r\n      {/* Top Header */}\r\n      <DashboardHeader toggleSidebar={toggleSidebar} handleLogout={handleLogout} />\r\n\r\n      <Box sx={{ display: 'flex', flex: 1 }}>\r\n        {/* Sidebar */}\r\n        <Sidebar open={sidebarOpen} toggleSidebar={toggleSidebar} />\r\n\r\n        {/* Main Content Area */}\r\n        <Box sx={{ flexGrow: 1, p: 3 }}>\r\n          <Outlet /> {/* This renders nested page routes */}\r\n        </Box>\r\n      </Box>\r\n\r\n      {/* Footer */}\r\n      <DashboardFooter />\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default AdminDashboard;\r\n","import React, { useEffect, useState } from 'react';\r\nimport axios from 'axios';\r\n\r\nimport { API_URL, STATIC_URL } from '../../config';\r\n\r\nconst AdminManageWhatsapp = () => {\r\n  const [contacts, setContacts] = useState([]);\r\n  const [form, setForm] = useState({ number: '', description: '', id: null });\r\n  const [errors, setErrors] = useState({});\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  useEffect(() => {\r\n    fetchContacts();\r\n  }, []);\r\n\r\n  // WhatsApp number validation functions\r\n  const validateCountryCode = (number) => {\r\n    // Remove all non-digit characters\r\n    const cleaned = number.replace(/\\D/g, '');\r\n    \r\n    // Common country codes (you can expand this list)\r\n    const countryCodes = [\r\n      '1',    // US, Canada\r\n      '44',   // UK\r\n      '49',   // Germany\r\n      '33',   // France\r\n      '39',   // Italy\r\n      '34',   // Spain\r\n      '7',    // Russia, Kazakhstan\r\n      '86',   // China\r\n      '81',   // Japan\r\n      '82',   // South Korea\r\n      '91',   // India\r\n      '55',   // Brazil\r\n      '52',   // Mexico\r\n      '54',   // Argentina\r\n      '61',   // Australia\r\n      '27',   // South Africa\r\n      '234',  // Nigeria\r\n      '254',  // Kenya\r\n      '256',  // Uganda\r\n      '255',  // Tanzania\r\n      // Add more country codes as needed\r\n    ];\r\n\r\n    // Check if number starts with + or has valid country code\r\n    if (number.startsWith('+')) {\r\n      const withoutPlus = cleaned;\r\n      return countryCodes.some(code => withoutPlus.startsWith(code));\r\n    }\r\n    \r\n    return countryCodes.some(code => cleaned.startsWith(code));\r\n  };\r\n\r\n  const formatWhatsAppNumber = (number) => {\r\n    // Remove all non-digit characters\r\n    let cleaned = number.replace(/\\D/g, '');\r\n    \r\n    // If doesn't start with country code, it's invalid\r\n    if (!validateCountryCode(number)) {\r\n      return null;\r\n    }\r\n    \r\n    // Return in international format\r\n    return `+${cleaned}`;\r\n  };\r\n\r\n  const validateWhatsAppNumber = (number) => {\r\n    const errors = {};\r\n    \r\n    if (!number || number.trim() === '') {\r\n      errors.number = 'WhatsApp number is required';\r\n      return errors;\r\n    }\r\n\r\n    // Remove all non-digit characters for validation\r\n    const cleaned = number.replace(/\\D/g, '');\r\n    \r\n    // Check minimum length (country code + number should be at least 7 digits)\r\n    if (cleaned.length < 7) {\r\n      errors.number = 'Number is too short';\r\n      return errors;\r\n    }\r\n    \r\n    // Check maximum length (most international numbers are max 15 digits)\r\n    if (cleaned.length > 15) {\r\n      errors.number = 'Number is too long';\r\n      return errors;\r\n    }\r\n    \r\n    // Validate country code\r\n    if (!validateCountryCode(number)) {\r\n      errors.number = 'Number must start with a valid country code (e.g., +1, +44, +254, etc.)';\r\n      return errors;\r\n    }\r\n    \r\n    return errors;\r\n  };\r\n\r\n  // Enhanced axios error handler\r\n  const handleAxiosError = (error, operation = 'operation') => {\r\n    let errorMessage = `Failed to ${operation}`;\r\n    \r\n    if (error.response) {\r\n      // Server responded with error status\r\n      const { status, data } = error.response;\r\n      console.error(`${operation} failed:`, {\r\n        status,\r\n        data,\r\n        url: error.config?.url,\r\n        method: error.config?.method\r\n      });\r\n      \r\n      if (data?.message) {\r\n        errorMessage = data.message;\r\n      } else if (data?.error) {\r\n        errorMessage = typeof data.error === 'string' ? data.error : JSON.stringify(data.error);\r\n      } else {\r\n        errorMessage = `Server error (${status}): ${errorMessage}`;\r\n      }\r\n    } else if (error.request) {\r\n      // Network error\r\n      console.error(`Network error during ${operation}:`, error.request);\r\n      errorMessage = 'Network error. Please check your connection.';\r\n    } else {\r\n      // Something else\r\n      console.error(`Error during ${operation}:`, error.message);\r\n      errorMessage = error.message || errorMessage;\r\n    }\r\n    \r\n    return errorMessage;\r\n  };\r\n\r\n  const fetchContacts = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const res = await axios.get(`${API_URL}/whatsapp`);\r\n      setContacts(res.data);\r\n    } catch (err) {\r\n      const errorMessage = handleAxiosError(err, 'fetch contacts');\r\n      alert(errorMessage);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\nconst handleSubmit = async (e) => {\r\n  e.preventDefault();\r\n  setErrors({});\r\n\r\n  // Prevent multiple numbers\r\n  if (!form.id && contacts.length > 0) {\r\n    alert('Only one WhatsApp number is allowed. Please edit or delete the existing one.');\r\n    return;\r\n  }\r\n\r\n  const validationErrors = validateWhatsAppNumber(form.number);\r\n  if (Object.keys(validationErrors).length > 0) {\r\n    setErrors(validationErrors);\r\n    return;\r\n  }\r\n\r\n  const formattedNumber = formatWhatsAppNumber(form.number);\r\n  if (!formattedNumber) {\r\n    setErrors({ number: 'Invalid WhatsApp number format' });\r\n    return;\r\n  }\r\n\r\n  try {\r\n    setLoading(true);\r\n\r\n    const payload = {\r\n      number: formattedNumber,\r\n      description: form.description.trim(),\r\n    };\r\n\r\n    if (form.id) {\r\n      await axios.put(`${API_URL}/whatsapp/${form.id}`, payload);\r\n      alert('Contact updated successfully!');\r\n    } else {\r\n      await axios.post(`${API_URL}/whatsapp`, payload);\r\n      alert('Contact added successfully!');\r\n    }\r\n\r\n    setForm({ number: '', description: '', id: null });\r\n    fetchContacts();\r\n  } catch (err) {\r\n    const errorMessage = handleAxiosError(err, 'save contact');\r\n    alert(errorMessage);\r\n  } finally {\r\n    setLoading(false);\r\n  }\r\n};\r\n\r\n  const handleEdit = (contact) => {\r\n    setForm(contact);\r\n    setErrors({});\r\n  };\r\n\r\n  const handleDelete = async (id) => {\r\n    if (window.confirm('Are you sure you want to delete this contact?')) {\r\n      try {\r\n        setLoading(true);\r\n        await axios.delete(`${API_URL}/whatsapp/${id}`);\r\n        alert('Contact deleted successfully!');\r\n        fetchContacts();\r\n      } catch (err) {\r\n        const errorMessage = handleAxiosError(err, 'delete contact');\r\n        alert(errorMessage);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleCancel = () => {\r\n    setForm({ number: '', description: '', id: null });\r\n    setErrors({});\r\n  };\r\n\r\n  return (\r\n    <div style={{ padding: '20px', maxWidth: '800px', margin: '0 auto' }}>\r\n      <h2>Manage WhatsApp Contacts</h2>\r\n      {(contacts.length === 0 || form.id) && (\r\n\r\n      <form onSubmit={handleSubmit} style={{ marginBottom: '30px', padding: '20px', border: '1px solid #ddd', borderRadius: '5px' }}>\r\n        <div style={{ marginBottom: '15px' }}>\r\n          <input\r\n            type=\"text\"\r\n            placeholder=\"WhatsApp Number (e.g., +254712345678)\"\r\n            value={form.number}\r\n            onChange={(e) => setForm({ ...form, number: e.target.value })}\r\n            required\r\n            style={{\r\n              width: '100%',\r\n              padding: '10px',\r\n              border: errors.number ? '2px solid red' : '1px solid #ddd',\r\n              borderRadius: '4px',\r\n              fontSize: '16px'\r\n            }}\r\n          />\r\n          {errors.number && (\r\n            <div style={{ color: 'red', fontSize: '14px', marginTop: '5px' }}>\r\n              {errors.number}\r\n            </div>\r\n          )}\r\n          <div style={{ fontSize: '12px', color: '#666', marginTop: '5px' }}>\r\n            Include country code (e.g., +1 for US, +44 for UK, +254 for Kenya)\r\n          </div>\r\n        </div>\r\n        \r\n        <div style={{ marginBottom: '15px' }}>\r\n          <input\r\n            type=\"text\"\r\n            placeholder=\"Description (optional)\"\r\n            value={form.description}\r\n            onChange={(e) => setForm({ ...form, description: e.target.value })}\r\n            style={{\r\n              width: '100%',\r\n              padding: '10px',\r\n              border: '1px solid #ddd',\r\n              borderRadius: '4px',\r\n              fontSize: '16px'\r\n            }}\r\n          />\r\n        </div>\r\n        \r\n        <div>\r\n          <button \r\n            type=\"submit\" \r\n            disabled={loading}\r\n            style={{\r\n              padding: '10px 20px',\r\n              backgroundColor: '#007bff',\r\n              color: 'white',\r\n              border: 'none',\r\n              borderRadius: '4px',\r\n              cursor: loading ? 'not-allowed' : 'pointer',\r\n              marginRight: '10px'\r\n            }}\r\n          >\r\n            {loading ? 'Processing...' : (form.id ? 'Update Contact' : 'Add Contact')}\r\n          </button>\r\n          \r\n          {form.id && (\r\n            <button \r\n              type=\"button\" \r\n              onClick={handleCancel}\r\n              style={{\r\n                padding: '10px 20px',\r\n                backgroundColor: '#6c757d',\r\n                color: 'white',\r\n                border: 'none',\r\n                borderRadius: '4px',\r\n                cursor: 'pointer'\r\n              }}\r\n            >\r\n              Cancel\r\n            </button>\r\n          )}\r\n        </div>\r\n      </form>\r\n)\r\n}\r\n      <div>\r\n        <h3>Contacts ({contacts.length})</h3>\r\n        {loading && contacts.length === 0 ? (\r\n          <div>Loading contacts...</div>\r\n        ) : contacts.length === 0 ? (\r\n          <div style={{ color: '#666', fontStyle: 'italic' }}>No contacts found</div>\r\n        ) : (\r\n          <ul style={{ listStyle: 'none', padding: 0 }}>\r\n            {contacts.map((c) => (\r\n              <li \r\n                key={c.id} \r\n                style={{\r\n                  padding: '15px',\r\n                  border: '1px solid #ddd',\r\n                  borderRadius: '5px',\r\n                  marginBottom: '10px',\r\n                  backgroundColor: '#f9f9f9',\r\n                  display: 'flex',\r\n                  justifyContent: 'space-between',\r\n                  alignItems: 'center'\r\n                }}\r\n              >\r\n                <div>\r\n                  <strong style={{ fontSize: '16px' }}>{c.number}</strong>\r\n                  {c.description && (\r\n                    <div style={{ color: '#666', fontSize: '14px', marginTop: '5px' }}>\r\n                      {c.description}\r\n                    </div>\r\n                  )}\r\n                </div>\r\n                <div>\r\n                  <button \r\n                    onClick={() => handleEdit(c)}\r\n                    disabled={loading}\r\n                    style={{\r\n                      padding: '5px 15px',\r\n                      backgroundColor: '#28a745',\r\n                      color: 'white',\r\n                      border: 'none',\r\n                      borderRadius: '3px',\r\n                      cursor: loading ? 'not-allowed' : 'pointer',\r\n                      marginRight: '5px'\r\n                    }}\r\n                  >\r\n                    Edit\r\n                  </button>\r\n                  <button \r\n                    onClick={() => handleDelete(c.id)}\r\n                    disabled={loading}\r\n                    style={{\r\n                      padding: '5px 15px',\r\n                      backgroundColor: '#dc3545',\r\n                      color: 'white',\r\n                      border: 'none',\r\n                      borderRadius: '3px',\r\n                      cursor: loading ? 'not-allowed' : 'pointer'\r\n                    }}\r\n                  >\r\n                    Delete\r\n                  </button>\r\n                </div>\r\n              </li>\r\n            ))}\r\n          </ul>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AdminManageWhatsapp;","import React, { useEffect, useState } from 'react';\r\nimport {\r\n  Box,\r\n  Typography,\r\n  TextField,\r\n  Button,\r\n  Table,\r\n  TableBody,\r\n  TableCell,\r\n  TableContainer,\r\n  TableHead,\r\n  TableRow,\r\n  IconButton,\r\n  Paper,\r\n  Dialog,\r\n  DialogTitle,\r\n  DialogContent,\r\n  DialogActions,\r\n  FormControl,\r\n  InputLabel,\r\n  Select,\r\n  MenuItem,\r\n  Switch,\r\n  FormControlLabel,\r\n  Alert,\r\n  Chip,\r\n  Tooltip,\r\n  // Card,\r\n  // CardContent,\r\n  // Grid,\r\n} from '@mui/material';\r\nimport {\r\n  Add as AddIcon,\r\n  Edit as EditIcon,\r\n  Delete as DeleteIcon,\r\n  Visibility as ViewIcon,\r\n  // BarChart as StatsIcon,\r\n  PowerSettingsNew as ToggleIcon,\r\n} from '@mui/icons-material';\r\nimport { API_URL } from '../../config';\r\n\r\nconst API_BASE = API_URL;\r\n\r\nconst AdminManageVolunteerForms = () => {\r\n  const [forms, setForms] = useState([]);\r\n  const [countries, setCountries] = useState([]);\r\n  const [availableCountries, setAvailableCountries] = useState([]);\r\n  const [, setStats] = useState({});\r\n  const [, setLoading] = useState(false);\r\n  const [error, setError] = useState('');\r\n  const [success, setSuccess] = useState('');\r\n\r\n  // Dialog states\r\n  const [openDialog, setOpenDialog] = useState(false);\r\n  const [dialogMode, setDialogMode] = useState('create'); // 'create', 'edit', 'view'\r\n  const [selectedForm, setSelectedForm] = useState(null);\r\n  const [confirmDelete, setConfirmDelete] = useState(null);\r\n\r\n  // Form data\r\n  const [formData, setFormData] = useState({\r\n    country_id: '',\r\n    form_url: '',\r\n    form_title: '',\r\n    description: '',\r\n    is_active: true,\r\n  });\r\n\r\n  //  Fetch all data\r\n  const fetchData = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const [formsRes, countriesRes, availableRes, statsRes] = await Promise.all([\r\n        fetch(`${API_BASE}/volunteer-forms`, { credentials: 'omit' }),\r\n        fetch(`${API_BASE}/countries`, { credentials: 'omit' }),\r\n        fetch(`${API_BASE}/volunteer-forms/countries/available`, { credentials: 'omit' }),\r\n        fetch(`${API_BASE}/volunteer-forms/stats/overview`, { credentials: 'omit' }),\r\n      ]);\r\n\r\n      const formsData = await formsRes.json();\r\n      const countriesData = await countriesRes.json();\r\n      const availableData = await availableRes.json();\r\n      const statsData = await statsRes.json();\r\n\r\n      setForms(formsData.data || []);\r\n      setCountries(countriesData || []);\r\n      setAvailableCountries(availableData.data || []);\r\n      setStats(statsData.data || {});\r\n    } catch (err) {\r\n      setError('Failed to fetch data');\r\n      console.error('Fetch error:', err);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  //  Handle form submission\r\n  const handleSubmit = async () => {\r\n    setError('');\r\n    setSuccess('');\r\n\r\n    if (!formData.country_id || !formData.form_url || !formData.form_title) {\r\n      setError('Please fill in all required fields');\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const method = dialogMode === 'create' ? 'POST' : 'PUT';\r\n      const url = dialogMode === 'create' \r\n        ? `${API_BASE}/volunteer-forms`\r\n        : `${API_BASE}/volunteer-forms/${selectedForm.id}`;\r\n\r\n      const response = await fetch(url, {\r\n        method,\r\n        headers: { 'Content-Type': 'application/json' },\r\n        credentials: 'include',\r\n        body: JSON.stringify(formData),\r\n      });\r\n\r\n      const result = await response.json();\r\n\r\n      if (!response.ok) throw new Error(result.message);\r\n\r\n      setSuccess(`Form ${dialogMode === 'create' ? 'created' : 'updated'} successfully`);\r\n      setOpenDialog(false);\r\n      resetForm();\r\n      fetchData();\r\n    } catch (err) {\r\n      setError(err.message);\r\n    }\r\n  };\r\n\r\n  //  Delete form\r\n  const handleDelete = async () => {\r\n    if (!confirmDelete) return;\r\n\r\n    try {\r\n      const response = await fetch(`${API_BASE}/volunteer-forms/${confirmDelete}`, {\r\n        method: 'DELETE',\r\n        credentials: 'include',\r\n      });\r\n\r\n      if (!response.ok) throw new Error('Failed to delete form');\r\n\r\n      setSuccess('Form deleted successfully');\r\n      setConfirmDelete(null);\r\n      fetchData();\r\n    } catch (err) {\r\n      setError(err.message);\r\n    }\r\n  };\r\n\r\n  //  Toggle form status - FIXED VERSION\r\n  const handleToggleStatus = async (form) => {\r\n    try {\r\n      // Use the same PUT endpoint that works in edit mode\r\n      const toggledFormData = {\r\n        country_id: form.country_id,\r\n        form_url: form.form_url,\r\n        form_title: form.form_title,\r\n        description: form.description || '',\r\n        is_active: !form.is_active, // Toggle the status\r\n      };\r\n\r\n      const response = await fetch(`${API_BASE}/volunteer-forms/${form.id}`, {\r\n        method: 'PUT',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        credentials: 'include',\r\n        body: JSON.stringify(toggledFormData),\r\n      });\r\n\r\n      const result = await response.json();\r\n\r\n      if (!response.ok) throw new Error(result.message || 'Failed to toggle status');\r\n\r\n      setSuccess(`Form status ${!form.is_active ? 'activated' : 'deactivated'} successfully`);\r\n      fetchData();\r\n    } catch (err) {\r\n      setError(err.message);\r\n      console.error('Toggle status error:', err);\r\n    }\r\n  };\r\n\r\n  //  Reset form\r\n  const resetForm = () => {\r\n    setFormData({\r\n      country_id: '',\r\n      form_url: '',\r\n      form_title: '',\r\n      description: '',\r\n      is_active: true,\r\n    });\r\n    setSelectedForm(null);\r\n  };\r\n\r\n  //  Open dialog\r\n  const openFormDialog = (mode, form = null) => {\r\n    setDialogMode(mode);\r\n    setSelectedForm(form);\r\n    \r\n    if (form) {\r\n      setFormData({\r\n        country_id: form.country_id,\r\n        form_url: form.form_url,\r\n        form_title: form.form_title,\r\n        description: form.description || '',\r\n        is_active: form.is_active,\r\n      });\r\n    } else {\r\n      resetForm();\r\n    }\r\n    \r\n    setOpenDialog(true);\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchData();\r\n  }, []);\r\n\r\n  return (\r\n    <Box sx={{ p: 3 }}>\r\n      <Typography variant=\"h4\" gutterBottom>\r\n         Manage Volunteer Forms\r\n      </Typography>\r\n\r\n      {error && <Alert severity=\"error\" sx={{ mb: 2 }}>{error}</Alert>}\r\n      {success && <Alert severity=\"success\" sx={{ mb: 2 }}>{success}</Alert>}\r\n\r\n      {/* Add Form Button */}\r\n      <Box sx={{ mb: 3 }}>\r\n        <Button\r\n          variant=\"contained\"\r\n          startIcon={<AddIcon />}\r\n          onClick={() => openFormDialog('create')}\r\n          disabled={availableCountries.length === 0}\r\n        >\r\n          Add Volunteer Form\r\n        </Button>\r\n        {availableCountries.length === 0 && (\r\n          <Typography variant=\"body2\" color=\"textSecondary\" sx={{ mt: 1 }}>\r\n            All countries have volunteer forms assigned\r\n          </Typography>\r\n        )}\r\n      </Box>\r\n\r\n      {/* Forms Table */}\r\n      <TableContainer component={Paper}>\r\n        <Table>\r\n          <TableHead>\r\n            <TableRow>\r\n              <TableCell>Country</TableCell>\r\n              <TableCell>Form Title</TableCell>\r\n              <TableCell>Status</TableCell>\r\n              <TableCell>Created</TableCell>\r\n              <TableCell>Actions</TableCell>\r\n            </TableRow>\r\n          </TableHead>\r\n          <TableBody>\r\n            {forms.map((form) => (\r\n              <TableRow key={form.id}>\r\n                <TableCell>{form.country_name}</TableCell>\r\n                <TableCell>{form.form_title}</TableCell>\r\n                <TableCell>\r\n                  <Chip\r\n                    label={form.is_active ? 'Active' : 'Inactive'}\r\n                    color={form.is_active ? 'success' : 'error'}\r\n                    size=\"small\"\r\n                  />\r\n                </TableCell>\r\n                <TableCell>\r\n                  {new Date(form.created_at).toLocaleDateString()}\r\n                </TableCell>\r\n                <TableCell>\r\n                  <Tooltip title=\"View\">\r\n                    <IconButton onClick={() => openFormDialog('view', form)}>\r\n                      <ViewIcon />\r\n                    </IconButton>\r\n                  </Tooltip>\r\n                  <Tooltip title=\"Edit\">\r\n                    <IconButton onClick={() => openFormDialog('edit', form)}>\r\n                      <EditIcon />\r\n                    </IconButton>\r\n                  </Tooltip>\r\n                  <Tooltip title=\"Toggle Status\">\r\n                    <IconButton onClick={() => handleToggleStatus(form)}>\r\n                      <ToggleIcon color={form.is_active ? 'success' : 'error'} />\r\n                    </IconButton>\r\n                  </Tooltip>\r\n                  <Tooltip title=\"Delete\">\r\n                    <IconButton onClick={() => setConfirmDelete(form.id)}>\r\n                      <DeleteIcon color=\"error\" />\r\n                    </IconButton>\r\n                  </Tooltip>\r\n                </TableCell>\r\n              </TableRow>\r\n            ))}\r\n          </TableBody>\r\n        </Table>\r\n      </TableContainer>\r\n\r\n      {/* Form Dialog */}\r\n      <Dialog open={openDialog} onClose={() => setOpenDialog(false)} maxWidth=\"md\" fullWidth>\r\n        <DialogTitle>\r\n          {dialogMode === 'create' && ' Add Volunteer Form'}\r\n          {dialogMode === 'edit' && ' Edit Volunteer Form'}\r\n          {dialogMode === 'view' && ' View Volunteer Form'}\r\n        </DialogTitle>\r\n        <DialogContent>\r\n          <Box sx={{ pt: 2 }}>\r\n            <FormControl fullWidth sx={{ mb: 2 }}>\r\n              <InputLabel>Country *</InputLabel>\r\n              <Select\r\n                value={formData.country_id}\r\n                onChange={(e) => setFormData({ ...formData, country_id: e.target.value })}\r\n                disabled={dialogMode === 'view' || dialogMode === 'edit'}\r\n              >\r\n                {dialogMode === 'create' \r\n                  ? availableCountries.map((country) => (\r\n                      <MenuItem key={country.id} value={country.id}>\r\n                        {country.name}\r\n                      </MenuItem>\r\n                    ))\r\n                  : countries.map((country) => (\r\n                      <MenuItem key={country.id} value={country.id}>\r\n                        {country.name}\r\n                      </MenuItem>\r\n                    ))\r\n                }\r\n              </Select>\r\n            </FormControl>\r\n\r\n            <TextField\r\n              fullWidth\r\n              label=\"Form Title *\"\r\n              value={formData.form_title}\r\n              onChange={(e) => setFormData({ ...formData, form_title: e.target.value })}\r\n              sx={{ mb: 2 }}\r\n              disabled={dialogMode === 'view'}\r\n            />\r\n\r\n            <TextField\r\n              fullWidth\r\n              label=\"Form URL *\"\r\n              value={formData.form_url}\r\n              onChange={(e) => setFormData({ ...formData, form_url: e.target.value })}\r\n              sx={{ mb: 2 }}\r\n              disabled={dialogMode === 'view'}\r\n              placeholder=\"https://docs.google.com/forms/d/e/...\"\r\n              helperText=\"Enter the complete Google Form URL or any HTTPS form URL\"\r\n            />\r\n\r\n            <TextField\r\n              fullWidth\r\n              label=\"Description\"\r\n              value={formData.description}\r\n              onChange={(e) => setFormData({ ...formData, description: e.target.value })}\r\n              sx={{ mb: 2 }}\r\n              disabled={dialogMode === 'view'}\r\n              multiline\r\n              rows={3}\r\n              placeholder=\"Brief description of the volunteer opportunity...\"\r\n            />\r\n\r\n            <FormControlLabel\r\n              control={\r\n                <Switch\r\n                  checked={formData.is_active}\r\n                  onChange={(e) => setFormData({ ...formData, is_active: e.target.checked })}\r\n                  disabled={dialogMode === 'view'}\r\n                />\r\n              }\r\n              label=\"Active\"\r\n            />\r\n\r\n            {dialogMode === 'view' && selectedForm && (\r\n              <Box sx={{ mt: 2, p: 2, bgcolor: 'grey.100', borderRadius: 1 }}>\r\n                <Typography variant=\"subtitle2\" gutterBottom>\r\n                  Additional Information:\r\n                </Typography>\r\n                <Typography variant=\"body2\">\r\n                  <strong>Created:</strong> {new Date(selectedForm.created_at).toLocaleString()}\r\n                </Typography>\r\n                <Typography variant=\"body2\">\r\n                  <strong>Last Updated:</strong> {new Date(selectedForm.updated_at).toLocaleString()}\r\n                </Typography>\r\n                <Typography variant=\"body2\">\r\n                  <strong>Form ID:</strong> {selectedForm.id}\r\n                </Typography>\r\n              </Box>\r\n            )}\r\n          </Box>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={() => setOpenDialog(false)}>\r\n            {dialogMode === 'view' ? 'Close' : 'Cancel'}\r\n          </Button>\r\n          {dialogMode !== 'view' && (\r\n            <Button onClick={handleSubmit} variant=\"contained\">\r\n              {dialogMode === 'create' ? 'Create' : 'Update'}\r\n            </Button>\r\n          )}\r\n        </DialogActions>\r\n      </Dialog>\r\n\r\n      {/* Delete Confirmation Dialog */}\r\n      <Dialog open={Boolean(confirmDelete)} onClose={() => setConfirmDelete(null)}>\r\n        <DialogTitle> Delete Volunteer Form</DialogTitle>\r\n        <DialogContent>\r\n          <Typography>\r\n            Are you sure you want to delete this volunteer form? This action cannot be undone.\r\n          </Typography>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={() => setConfirmDelete(null)}>Cancel</Button>\r\n          <Button onClick={handleDelete} color=\"error\" variant=\"contained\">\r\n            Delete\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default AdminManageVolunteerForms;","import React, { useState, useEffect } from 'react';\r\nimport {\r\n  Box, Typography, Button, Dialog, DialogTitle, DialogContent, DialogActions,\r\n  TextField, FormControl, InputLabel, Select, MenuItem, Switch, FormControlLabel,\r\n  Card, CardContent, CardActions, CardMedia, Grid, Chip, IconButton,\r\n  Alert, Snackbar, CircularProgress, Tabs, Tab, Divider, Avatar,\r\n  List, ListItem, ListItemText, ListItemSecondaryAction, ListItemAvatar,\r\n  Table, TableBody, TableCell, TableContainer, TableHead, TableRow, Paper,\r\n  Tooltip, Badge, OutlinedInput, Checkbox, ListItemIcon\r\n} from '@mui/material';\r\nimport {\r\n  Add, Edit, Delete, Star, StarBorder, Image, Collections,\r\n  LocationOn, DateRange, Category, Public, Assessment, Visibility, VisibilityOff,\r\n  TrendingUp, Remove, ViewList, ViewModule, AccountTree\r\n} from '@mui/icons-material';\r\nimport { useAuth } from '../../context/AuthContext';\r\nimport { API_URL, STATIC_URL } from '../../config';\r\nconst API_BASE = API_URL;\r\n\r\nconst AdminManageProjects = () => {\r\n  const [projects, setProjects] = useState([]);\r\n  const [categories, setCategories] = useState([]);\r\n  const [pillars, setPillars] = useState([]);\r\n  const [countries, setCountries] = useState([]);\r\n  const [impacts, setImpacts] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [dialogOpen, setDialogOpen] = useState(false);\r\n  const [editingProject, setEditingProject] = useState(null);\r\n  const [snackbar, setSnackbar] = useState({ open: false, message: '', severity: 'info' });\r\n  const [tabValue, setTabValue] = useState(0);\r\n  const [viewMode, setViewMode] = useState('list'); // 'list' or 'grid'\r\n  const [filters, setFilters] = useState({\r\n    status: '',\r\n    categoryId: '',\r\n    pillarId: '',\r\n    featured: '',\r\n    hidden: ''\r\n  });\r\n\r\n  const [galleryManagement, setGalleryManagement] = useState({\r\n    adding: false,\r\n    removing: null,\r\n    clearing: false\r\n  });\r\n\r\n  // Form state - Updated to include pillarId and selectedFocusAreas\r\n  const [formData, setFormData] = useState({\r\n    title: '',\r\n    pillarId: '',\r\n    selectedFocusAreas: [], // Multiple focus areas from selected pillar\r\n    categoryId: '', // Keep for backward compatibility if needed\r\n    countryId: '',\r\n    description: '',\r\n    short_description: '',\r\n    location: '',\r\n    start_date: '',\r\n    end_date: '',\r\n    status: 'planning',\r\n    sdg_goals: [],\r\n    testimonials: [],\r\n    project_impacts: [],\r\n    order_index: 0,\r\n    is_featured: false,\r\n    is_hidden: false\r\n  });\r\n  const [files, setFiles] = useState({\r\n    featured_image: null,\r\n    gallery: []\r\n  });\r\n\r\n  // Available focus areas based on selected pillar\r\n  const [availableFocusAreas, setAvailableFocusAreas] = useState([]);\r\n\r\n  const statusOptions = [\r\n    { value: 'planning', label: 'Planning', color: 'default' },\r\n    { value: 'ongoing', label: 'Ongoing', color: 'primary' },\r\n    { value: 'completed', label: 'Completed', color: 'success' },\r\n    { value: 'on_hold', label: 'On Hold', color: 'warning' }\r\n  ];\r\n\r\n  const sdgOptions = [\r\n    { value: 1, label: 'No Poverty' },\r\n    { value: 2, label: 'Zero Hunger' },\r\n    { value: 3, label: 'Good Health and Well-being' },\r\n    { value: 4, label: 'Quality Education' },\r\n    { value: 5, label: 'Gender Equality' },\r\n    { value: 6, label: 'Clean Water and Sanitation' },\r\n    { value: 7, label: 'Affordable and Clean Energy' },\r\n    { value: 8, label: 'Decent Work and Economic Growth' },\r\n    { value: 9, label: 'Industry, Innovation and Infrastructure' },\r\n    { value: 10, label: 'Reduced Inequalities' },\r\n    { value: 11, label: 'Sustainable Cities and Communities' },\r\n    { value: 12, label: 'Responsible Consumption and Production' },\r\n    { value: 13, label: 'Climate Action' },\r\n    { value: 14, label: 'Life Below Water' },\r\n    { value: 15, label: 'Life on Land' },\r\n    { value: 16, label: 'Peace, Justice and Strong Institutions' },\r\n    { value: 17, label: 'Partnerships for the Goals' }\r\n  ];\r\n\r\n  // Fetch data on mount and when filters change\r\n  useEffect(() => {\r\n    const initializeData = async () => {\r\n      setLoading(true);\r\n      await Promise.all([\r\n        fetchCategories(),\r\n        fetchPillars(),\r\n        fetchCountries(),\r\n        fetchImpacts()\r\n      ]);\r\n      await fetchProjects();\r\n      setLoading(false);\r\n    };\r\n    \r\n    initializeData();\r\n  }, []);\r\n\r\n  // Separate effect for filter changes\r\n  useEffect(() => {\r\n    if (!loading) {\r\n      fetchProjects();\r\n    }\r\n  }, [filters]);\r\n\r\n  // Effect to update available focus areas when pillar changes\r\n  useEffect(() => {\r\n  if (formData.pillarId) {\r\n    const selectedPillar = pillars.find(p => p.id === parseInt(formData.pillarId));\r\n    if (selectedPillar && selectedPillar.focus_areas) {\r\n      setAvailableFocusAreas(selectedPillar.focus_areas);\r\n      \r\n      // Only clear selected focus areas if we're creating a new project (not editing)\r\n      if (!editingProject) {\r\n        setFormData(prev => ({ ...prev, selectedFocusAreas: [] }));\r\n      }\r\n    } else {\r\n      setAvailableFocusAreas([]);\r\n      if (!editingProject) {\r\n        setFormData(prev => ({ ...prev, selectedFocusAreas: [] }));\r\n      }\r\n    }\r\n  } else {\r\n    setAvailableFocusAreas([]);\r\n    if (!editingProject) {\r\n      setFormData(prev => ({ ...prev, selectedFocusAreas: [] }));\r\n    }\r\n  }\r\n}, [formData.pillarId, pillars, editingProject]); // Include editingProject in dependencies\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n  const fetchProjects = async () => {\r\n    try {\r\n      const queryParams = new URLSearchParams();\r\n      Object.entries(filters).forEach(([key, value]) => {\r\n        if (value && value !== '') queryParams.append(key, value);\r\n      });\r\n\r\n      const url = `${API_BASE}/projects${queryParams.toString() ? `?${queryParams}` : ''}`;\r\n      console.log('Fetching projects from:', url);\r\n\r\n      const response = await fetch(url, {\r\n        method: 'GET',\r\n        credentials: 'include',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        }\r\n      });\r\n\r\n      if (!response.ok) {\r\n        throw new Error(`HTTP error! status: ${response.status}`);\r\n      }\r\n\r\n      const data = await response.json();\r\n      console.log('Projects response:', data);\r\n      \r\n      if (data.success) {\r\n        setProjects(Array.isArray(data.data) ? data.data : []);\r\n      } else if (Array.isArray(data)) {\r\n        setProjects(data);\r\n      } else {\r\n        console.error('Unexpected response format:', data);\r\n        setProjects([]);\r\n        showSnackbar('Unexpected response format from server', 'warning');\r\n      }\r\n    } catch (error) {\r\n      console.error('Error fetching projects:', error);\r\n      setProjects([]);\r\n      showSnackbar(`Error fetching projects: ${error.message}`, 'error');\r\n    }\r\n  };\r\n\r\n  const fetchCategories = async () => {\r\n    try {\r\n      const response = await fetch(`${API_BASE}/categories`, {\r\n        credentials: 'include'\r\n      });\r\n      \r\n      if (!response.ok) {\r\n        throw new Error(`HTTP error! status: ${response.status}`);\r\n      }\r\n      \r\n      const data = await response.json();\r\n      console.log('Categories response:', data);\r\n      \r\n      if (data.success) {\r\n        setCategories(Array.isArray(data.data) ? data.data : []);\r\n      } else if (Array.isArray(data)) {\r\n        setCategories(data);\r\n      } else {\r\n        setCategories([]);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error fetching categories:', error);\r\n      setCategories([]);\r\n    }\r\n  };\r\n\r\n  const fetchPillars = async () => {\r\n    try {\r\n      const response = await fetch(`${API_BASE}/pillars`, {\r\n        credentials: 'include'\r\n      });\r\n      \r\n      if (!response.ok) {\r\n        throw new Error(`HTTP error! status: ${response.status}`);\r\n      }\r\n      \r\n      const data = await response.json();\r\n      console.log('Pillars response:', data);\r\n      \r\n      if (data.success) {\r\n        setPillars(Array.isArray(data.data) ? data.data : []);\r\n      } else if (Array.isArray(data)) {\r\n        setPillars(data);\r\n      } else {\r\n        setPillars([]);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error fetching pillars:', error);\r\n      setPillars([]);\r\n    }\r\n  };\r\n\r\nconst fetchCountries = async () => {\r\n    try {\r\n      const response = await fetch(`${API_BASE}/countries`, {\r\n        credentials: 'include'\r\n      });\r\n      \r\n      if (!response.ok) {\r\n        throw new Error(`HTTP error! status: ${response.status}`);\r\n      }\r\n      \r\n      const data = await response.json();\r\n      console.log('Countries response:', data);\r\n      \r\n      // Handle response format similar to AdminAddCountries component\r\n      if (!Array.isArray(data)) {\r\n        throw new Error('Invalid response format from countries API');\r\n      }\r\n\r\n      // Sort countries alphabetically by name\r\n      const sortedCountries = [...data].sort((a, b) => a.name.localeCompare(b.name));\r\n      setCountries(sortedCountries);\r\n    } catch (error) {\r\n      console.error('Error fetching countries:', error);\r\n      setCountries([]);\r\n      showSnackbar(`Error fetching countries: ${error.message}`, 'warning');\r\n    }\r\n  };\r\n\r\n  const fetchImpacts = async () => {\r\n    try {\r\n      const response = await fetch(`${API_BASE}/impacts?is_active=true`, {\r\n        credentials: 'include'\r\n      });\r\n      \r\n      if (!response.ok) {\r\n        throw new Error(`HTTP error! status: ${response.status}`);\r\n      }\r\n      \r\n      const data = await response.json();\r\n      console.log('Impacts response:', data);\r\n      \r\n      if (data.success) {\r\n        setImpacts(Array.isArray(data.data) ? data.data : []);\r\n      } else if (Array.isArray(data)) {\r\n        setImpacts(data);\r\n      } else {\r\n        setImpacts([]);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error fetching impacts:', error);\r\n      setImpacts([]);\r\n    }\r\n  };\r\n\r\n  const fetchProjectImpacts = async (projectId) => {\r\n    try {\r\n      const response = await fetch(`${API_BASE}/projects/${projectId}/impacts`, {\r\n        credentials: 'include'\r\n      });\r\n      \r\n      if (!response.ok) {\r\n        throw new Error(`HTTP error! status: ${response.status}`);\r\n      }\r\n      \r\n      const data = await response.json();\r\n      console.log('Project impacts response:', data);\r\n      \r\n      if (data.success) {\r\n        return Array.isArray(data.data) ? data.data : [];\r\n      } else if (Array.isArray(data)) {\r\n        return data;\r\n      } else {\r\n        return [];\r\n      }\r\n    } catch (error) {\r\n      console.error('Error fetching project impacts:', error);\r\n      return [];\r\n    }\r\n  };\r\n\r\n  const showSnackbar = (message, severity = 'info') => {\r\n    setSnackbar({ open: true, message, severity });\r\n  };\r\n\r\n  const resetForm = () => {\r\n    setFormData({\r\n      title: '',\r\n      pillarId: '',\r\n      selectedFocusAreas: [],\r\n      categoryId: '',\r\n      countryId: '',\r\n      description: '',\r\n      short_description: '',\r\n      location: '',\r\n      start_date: '',\r\n      end_date: '',\r\n      status: 'planning',\r\n      sdg_goals: [],\r\n      testimonials: [],\r\n      project_impacts: [],\r\n      order_index: 0,\r\n      is_featured: false,\r\n      is_hidden: false\r\n    });\r\n    setFiles({ featured_image: null, gallery: [] });\r\n    setAvailableFocusAreas([]);\r\n  };\r\n\r\n// Replace the existing handleOpenDialog function with this corrected version:\r\n\r\nconst handleOpenDialog = async (project = null) => {\r\n  if (project) {\r\n    setEditingProject(project);\r\n    \r\n    // Handle testimonials\r\n    let testimonials = [];\r\n    if (project.testimonials && Array.isArray(project.testimonials)) {\r\n      testimonials = project.testimonials;\r\n    } else if (project.testimonial_text || project.testimonial_author || project.testimonial_position) {\r\n      testimonials = [{\r\n        text: project.testimonial_text || '',\r\n        author: project.testimonial_author || '',\r\n        position: project.testimonial_position || ''\r\n      }];\r\n    }\r\n\r\n    // Fetch project impacts for editing\r\n    const projectImpacts = await fetchProjectImpacts(project.id);\r\n\r\n    // Handle pillar and focus areas - FIXED LOGIC\r\n    const pillarId = project.pillarId || '';\r\n    const categoryId = project.categoryId || project.category_id || '';\r\n    \r\n    // Set available focus areas if pillar exists\r\n    if (pillarId) {\r\n      const selectedPillar = pillars.find(p => p.id === parseInt(pillarId));\r\n      if (selectedPillar && selectedPillar.focus_areas) {\r\n        setAvailableFocusAreas(selectedPillar.focus_areas);\r\n      }\r\n    }\r\n    \r\n    // Set selected focus areas based on the categoryId (since focus areas ARE categories)\r\n    let selectedFocusAreas = [];\r\n    if (categoryId) {\r\n      selectedFocusAreas = [parseInt(categoryId)];\r\n    }\r\n\r\n    setFormData({\r\n      title: project.title || '',\r\n      pillarId: pillarId,\r\n      selectedFocusAreas: selectedFocusAreas, // This should now work correctly\r\n      categoryId: categoryId, // Keep for backward compatibility\r\n      countryId: project.countryId || project.country_id || '',\r\n      description: project.description || '',\r\n      short_description: project.short_description || '',\r\n      location: project.location || '',\r\n      start_date: project.start_date ? project.start_date.split('T')[0] : '',\r\n      end_date: project.end_date ? project.end_date.split('T')[0] : '',\r\n      status: project.status || 'planning',\r\n      sdg_goals: Array.isArray(project.sdg_goals) ? project.sdg_goals : \r\n                 (typeof project.sdg_goals === 'string' ? JSON.parse(project.sdg_goals || '[]') : []),\r\n      testimonials: testimonials,\r\n      project_impacts: projectImpacts,\r\n      order_index: project.order_index || 0,\r\n      is_featured: Boolean(project.is_featured),\r\n      is_hidden: Boolean(project.is_hidden)\r\n    });\r\n  } else {\r\n    setEditingProject(null);\r\n    resetForm();\r\n  }\r\n  setDialogOpen(true);\r\n};\r\n\r\n\r\n\r\n\r\n  const handleCloseDialog = () => {\r\n    setDialogOpen(false);\r\n    setEditingProject(null);\r\n    resetForm();\r\n    setTabValue(0);\r\n  };\r\n\r\n  const handleInputChange = (field, value) => {\r\n    setFormData(prev => ({ ...prev, [field]: value }));\r\n  };\r\n\r\n  const handleFileChange = (field, files) => {\r\n    setFiles(prev => ({ ...prev, [field]: files }));\r\n  };\r\n\r\n  const handleSDGChange = (sdgGoal) => {\r\n    setFormData(prev => ({\r\n      ...prev,\r\n      sdg_goals: prev.sdg_goals.includes(sdgGoal)\r\n        ? prev.sdg_goals.filter(goal => goal !== sdgGoal)\r\n        : [...prev.sdg_goals, sdgGoal]\r\n    }));\r\n  };\r\n\r\n  // Handle focus area selection change\r\n  const handleFocusAreaChange = (event) => {\r\n    const value = event.target.value;\r\n    const cleanedValue = Array.isArray(value) \r\n      ? value.filter(id => id !== null && id !== undefined && id !== '')\r\n      : [];\r\n    \r\n    setFormData(prev => ({\r\n      ...prev,\r\n      selectedFocusAreas: cleanedValue,\r\n      // For backward compatibility, set the first selected focus area as categoryId\r\n      categoryId: cleanedValue.length > 0 ? cleanedValue[0] : ''\r\n    }));\r\n  };\r\n\r\n  // Project impacts management functions\r\n  const addProjectImpact = () => {\r\n    setFormData(prev => ({\r\n      ...prev,\r\n      project_impacts: [...prev.project_impacts, { \r\n        impact_id: '', \r\n        contribution_value: 0,\r\n        impact_name: '',\r\n        unit: ''\r\n      }]\r\n    }));\r\n  };\r\n\r\n  const updateProjectImpact = (index, field, value) => {\r\n    setFormData(prev => ({\r\n      ...prev,\r\n      project_impacts: prev.project_impacts.map((impact, i) => {\r\n        if (i === index) {\r\n          if (field === 'impact_id') {\r\n            const selectedImpact = impacts.find(imp => imp.id === parseInt(value));\r\n            return { \r\n              ...impact, \r\n              impact_id: value,\r\n              impact_name: selectedImpact?.name || '',\r\n              unit: selectedImpact?.unit || ''\r\n            };\r\n          }\r\n          return { ...impact, [field]: value };\r\n        }\r\n        return impact;\r\n      })\r\n    }));\r\n  };\r\n\r\n  const removeProjectImpact = (index) => {\r\n    setFormData(prev => ({\r\n      ...prev,\r\n      project_impacts: prev.project_impacts.filter((_, i) => i !== index)\r\n    }));\r\n  };\r\n\r\n  // Testimonial management functions\r\n  const addTestimonial = () => {\r\n    setFormData(prev => ({\r\n      ...prev,\r\n      testimonials: [...prev.testimonials, { text: '', author: '', position: '' }]\r\n    }));\r\n  };\r\n\r\n  const updateTestimonial = (index, field, value) => {\r\n    setFormData(prev => ({\r\n      ...prev,\r\n      testimonials: prev.testimonials.map((testimonial, i) => \r\n        i === index ? { ...testimonial, [field]: value } : testimonial\r\n      )\r\n    }));\r\n  };\r\n\r\n  const removeTestimonial = (index) => {\r\n    setFormData(prev => ({\r\n      ...prev,\r\n      testimonials: prev.testimonials.filter((_, i) => i !== index)\r\n    }));\r\n  };\r\n\r\n  const handleSubmit = async () => {\r\n    try {\r\n      // Validate required fields\r\n      if (!formData.title.trim()) {\r\n        showSnackbar('Project title is required', 'error');\r\n        return;\r\n      }\r\n      if (!formData.description.trim()) {\r\n        showSnackbar('Project description is required', 'error');\r\n        return;\r\n      }\r\n      if (!formData.pillarId) {\r\n        showSnackbar('Please select a pillar for this project', 'error');\r\n        setTabValue(0); // Switch to Basic Info tab\r\n        return;\r\n      }\r\n      if (formData.selectedFocusAreas.length === 0) {\r\n        showSnackbar('Please select at least one focus area', 'error');\r\n        setTabValue(0); // Switch to Basic Info tab\r\n        return;\r\n      }\r\n\r\n      // Validate project impacts for duplicates\r\n      if (formData.project_impacts && formData.project_impacts.length > 0) {\r\n        const impactIds = formData.project_impacts\r\n          .filter(impact => impact.impact_id)\r\n          .map(impact => parseInt(impact.impact_id));\r\n        \r\n        const duplicates = impactIds.filter((id, index) => impactIds.indexOf(id) !== index);\r\n        if (duplicates.length > 0) {\r\n          showSnackbar('Duplicate impacts detected. Each impact can only be added once per project.', 'error');\r\n          setTabValue(4); // Switch to Project Impacts tab\r\n          return;\r\n        }\r\n\r\n        const invalidImpacts = formData.project_impacts.filter(impact => \r\n          !impact.impact_id || !impact.contribution_value || impact.contribution_value <= 0\r\n        );\r\n        \r\n        if (invalidImpacts.length > 0) {\r\n          showSnackbar('All project impacts must have both an impact type selected and a positive contribution value.', 'error');\r\n          setTabValue(4); // Switch to Project Impacts tab\r\n          return;\r\n        }\r\n      }\r\n\r\n      // Clean project impacts data before submission\r\n      const cleanedProjectImpacts = formData.project_impacts\r\n        .filter(impact => impact.impact_id && impact.contribution_value > 0)\r\n        .map(impact => ({\r\n          impact_id: parseInt(impact.impact_id),\r\n          contribution_value: parseInt(impact.contribution_value)\r\n        }));\r\n\r\n      const submitData = new FormData();\r\n      \r\n      // Add form data\r\n      Object.entries(formData).forEach(([key, value]) => {\r\n        if (key === 'project_impacts') {\r\n          submitData.append(key, JSON.stringify(cleanedProjectImpacts));\r\n        } else if (key === 'selectedFocusAreas') {\r\n          // Convert selected focus areas to categoryIds for backend compatibility\r\n          if (value.length > 0) {\r\n            // For now, send the first selected focus area as categoryId\r\n            // You might want to update your backend to handle multiple focus areas\r\n            submitData.append('categoryId', value[0]);\r\n            submitData.append('focus_area_ids', JSON.stringify(value));\r\n          }\r\n        } else if (key === 'sdg_goals' || key === 'testimonials') {\r\n          submitData.append(key, JSON.stringify(value));\r\n        } else if (value !== null && value !== undefined && key !== 'categoryId') {\r\n          // Skip categoryId since we handle it above\r\n          submitData.append(key, value);\r\n        }\r\n      });\r\n\r\n      // Add files\r\n      if (files.featured_image) {\r\n        submitData.append('featured_image', files.featured_image);\r\n      }\r\n      if (files.gallery && files.gallery.length > 0) {\r\n        Array.from(files.gallery).forEach(file => {\r\n          submitData.append('gallery', file);\r\n        });\r\n      }\r\n\r\n      const url = editingProject \r\n        ? `${API_BASE}/projects/${editingProject.id}`\r\n        : `${API_BASE}/projects`;\r\n      \r\n      const method = editingProject ? 'PUT' : 'POST';\r\n\r\n      console.log(`${method} request to:`, url);\r\n\r\n      const response = await fetch(url, {\r\n        method,\r\n        credentials: 'include',\r\n        body: submitData\r\n      });\r\n\r\n      if (!response.ok) {\r\n        throw new Error(`HTTP error! status: ${response.status}`);\r\n      }\r\n\r\n      const data = await response.json();\r\n      console.log('Submit response:', data);\r\n\r\n      if (data.success) {\r\n        showSnackbar(\r\n          `Project ${editingProject ? 'updated' : 'created'} successfully`, \r\n          'success'\r\n        );\r\n        handleCloseDialog();\r\n        await fetchProjects();\r\n      } else {\r\n        showSnackbar(data.message || 'Operation failed', 'error');\r\n      }\r\n    } catch (error) {\r\n      console.error('Error submitting project:', error);\r\n      showSnackbar(`Error submitting project: ${error.message}`, 'error');\r\n    }\r\n  };\r\n\r\n  const handleDelete = async (id) => {\r\n    if (!window.confirm('Are you sure you want to delete this project? This action cannot be undone.')) {\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const response = await fetch(`${API_BASE}/projects/${id}`, {\r\n        method: 'DELETE',\r\n        credentials: 'include',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        }\r\n      });\r\n\r\n      if (!response.ok) {\r\n        throw new Error(`HTTP error! status: ${response.status}`);\r\n      }\r\n\r\n      const data = await response.json();\r\n\r\n      if (data.success) {\r\n        showSnackbar('Project deleted successfully', 'success');\r\n        await fetchProjects();\r\n      } else {\r\n        showSnackbar(data.message || 'Delete failed', 'error');\r\n      }\r\n    } catch (error) {\r\n      console.error('Error deleting project:', error);\r\n      showSnackbar(`Error deleting project: ${error.message}`, 'error');\r\n    }\r\n  };\r\n\r\n  // Gallery management functions\r\n  const handleAddGalleryImage = async (projectId, file) => {\r\n    try {\r\n      setGalleryManagement(prev => ({ ...prev, adding: true }));\r\n      \r\n      const formData = new FormData();\r\n      formData.append('gallery', file);\r\n\r\n      const response = await fetch(`${API_BASE}/projects/${projectId}/gallery/add`, {\r\n        method: 'POST',\r\n        credentials: 'include',\r\n        body: formData\r\n      });\r\n\r\n      if (!response.ok) {\r\n        throw new Error(`HTTP error! status: ${response.status}`);\r\n      }\r\n\r\n      const data = await response.json();\r\n\r\n      if (data.success) {\r\n        showSnackbar('Gallery image added successfully', 'success');\r\n        await fetchProjects();\r\n        \r\n        // Update the editing project if in edit mode\r\n        if (editingProject && editingProject.id === projectId) {\r\n          setEditingProject(data.data);\r\n        }\r\n      } else {\r\n        showSnackbar(data.message || 'Failed to add image', 'error');\r\n      }\r\n    } catch (error) {\r\n      console.error('Error adding gallery image:', error);\r\n      showSnackbar(`Error adding image: ${error.message}`, 'error');\r\n    } finally {\r\n      setGalleryManagement(prev => ({ ...prev, adding: false }));\r\n    }\r\n  };\r\n\r\n  const handleRemoveGalleryImage = async (projectId, imageIndex) => {\r\n    try {\r\n      setGalleryManagement(prev => ({ ...prev, removing: imageIndex }));\r\n      \r\n      const response = await fetch(`${API_BASE}/projects/${projectId}/gallery/${imageIndex}`, {\r\n        method: 'DELETE',\r\n        credentials: 'include',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        }\r\n      });\r\n\r\n      if (!response.ok) {\r\n        throw new Error(`HTTP error! status: ${response.status}`);\r\n      }\r\n\r\n      const data = await response.json();\r\n\r\n      if (data.success) {\r\n        showSnackbar('Gallery image removed successfully', 'success');\r\n        await fetchProjects();\r\n        \r\n        // Update the editing project if in edit mode\r\n        if (editingProject && editingProject.id === projectId) {\r\n          setEditingProject(data.data);\r\n        }\r\n      } else {\r\n        showSnackbar(data.message || 'Failed to remove image', 'error');\r\n      }\r\n    } catch (error) {\r\n      console.error('Error removing gallery image:', error);\r\n      showSnackbar(`Error removing image: ${error.message}`, 'error');\r\n    } finally {\r\n      setGalleryManagement(prev => ({ ...prev, removing: null }));\r\n    }\r\n  };\r\n\r\n  const handleClearGallery = async (projectId) => {\r\n    if (!window.confirm('Are you sure you want to remove all gallery images? This action cannot be undone.')) {\r\n      return;\r\n    }\r\n\r\n    try {\r\n      setGalleryManagement(prev => ({ ...prev, clearing: true }));\r\n      \r\n      const response = await fetch(`${API_BASE}/projects/${projectId}/gallery`, {\r\n        method: 'DELETE',\r\n        credentials: 'include',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        }\r\n      });\r\n\r\n      if (!response.ok) {\r\n        throw new Error(`HTTP error! status: ${response.status}`);\r\n      }\r\n\r\n      const data = await response.json();\r\n\r\n      if (data.success) {\r\n        showSnackbar('Gallery cleared successfully', 'success');\r\n        await fetchProjects();\r\n        \r\n        // Update the editing project if in edit mode\r\n        if (editingProject && editingProject.id === projectId) {\r\n          setEditingProject(data.data);\r\n        }\r\n      } else {\r\n        showSnackbar(data.message || 'Failed to clear gallery', 'error');\r\n      }\r\n    } catch (error) {\r\n      console.error('Error clearing gallery:', error);\r\n      showSnackbar(`Error clearing gallery: ${error.message}`, 'error');\r\n    } finally {\r\n      setGalleryManagement(prev => ({ ...prev, clearing: false }));\r\n    }\r\n  };\r\n\r\n  // Updated toggle functions using the main project endpoint\r\n  const handleToggleFeatured = async (projectId) => {\r\n    try {\r\n      console.log('Toggling featured status for project:', projectId);\r\n      \r\n      // Find the project to get current data\r\n      const project = projects.find(p => p.id === projectId);\r\n      if (!project) {\r\n        showSnackbar('Project not found', 'error');\r\n        return;\r\n      }\r\n\r\n      // Create form data with updated featured status\r\n      const submitData = new FormData();\r\n      \r\n      // Add all current project data\r\n      submitData.append('title', project.title || '');\r\n      submitData.append('description', project.description || '');\r\n      submitData.append('short_description', project.short_description || '');\r\n      submitData.append('location', project.location || '');\r\n      submitData.append('status', project.status || 'planning');\r\n      submitData.append('pillarId', project.pillarId || '');\r\n      submitData.append('categoryId', project.categoryId || project.category_id || '');\r\n      submitData.append('countryId', project.countryId || project.country_id || '');\r\n      submitData.append('start_date', project.start_date || '');\r\n      submitData.append('end_date', project.end_date || '');\r\n      submitData.append('order_index', project.order_index || 0);\r\n      submitData.append('is_hidden', project.is_hidden || false);\r\n      \r\n      // Toggle the featured status\r\n      submitData.append('is_featured', !project.is_featured);\r\n      \r\n      // Add existing arrays as JSON\r\n      submitData.append('sdg_goals', JSON.stringify(project.sdg_goals || []));\r\n      submitData.append('testimonials', JSON.stringify(project.testimonials || []));\r\n      \r\n      // Get project impacts\r\n      const projectImpacts = await fetchProjectImpacts(projectId);\r\n      const cleanedProjectImpacts = projectImpacts\r\n        .filter(impact => impact.impact_id && impact.contribution_value > 0)\r\n        .map(impact => ({\r\n          impact_id: parseInt(impact.impact_id),\r\n          contribution_value: parseInt(impact.contribution_value)\r\n        }));\r\n      submitData.append('project_impacts', JSON.stringify(cleanedProjectImpacts));\r\n\r\n      const response = await fetch(`${API_BASE}/projects/${projectId}`, {\r\n        method: 'PUT',\r\n        credentials: 'include',\r\n        body: submitData\r\n      });\r\n\r\n      if (!response.ok) {\r\n        throw new Error(`HTTP error! status: ${response.status}`);\r\n      }\r\n\r\n      const data = await response.json();\r\n\r\n      if (data.success) {\r\n        showSnackbar(\r\n          `Project ${!project.is_featured ? 'featured' : 'unfeatured'} successfully`, \r\n          'success'\r\n        );\r\n        await fetchProjects();\r\n      } else {\r\n        showSnackbar(data.message || 'Featured toggle failed', 'error');\r\n      }\r\n    } catch (error) {\r\n      console.error('Error toggling featured status:', error);\r\n      showSnackbar(`Error toggling featured status: ${error.message}`, 'error');\r\n    }\r\n  };\r\n\r\n  const handleToggleHidden = async (projectId) => {\r\n    try {\r\n      console.log('Toggling hidden status for project:', projectId);\r\n      \r\n      // Find the project to get current data\r\n      const project = projects.find(p => p.id === projectId);\r\n      if (!project) {\r\n        showSnackbar('Project not found', 'error');\r\n        return;\r\n      }\r\n\r\n      // Create form data with updated hidden status\r\n      const submitData = new FormData();\r\n      \r\n      // Add all current project data\r\n      submitData.append('title', project.title || '');\r\n      submitData.append('description', project.description || '');\r\n      submitData.append('short_description', project.short_description || '');\r\n      submitData.append('location', project.location || '');\r\n      submitData.append('status', project.status || 'planning');\r\n      submitData.append('pillarId', project.pillarId || '');\r\n      submitData.append('categoryId', project.categoryId || project.category_id || '');\r\n      submitData.append('countryId', project.countryId || project.country_id || '');\r\n      submitData.append('start_date', project.start_date || '');\r\n      submitData.append('end_date', project.end_date || '');\r\n      submitData.append('order_index', project.order_index || 0);\r\n      submitData.append('is_featured', project.is_featured || false);\r\n      \r\n      // Toggle the hidden status\r\n      submitData.append('is_hidden', !project.is_hidden);\r\n      \r\n      // Add existing arrays as JSON\r\n      submitData.append('sdg_goals', JSON.stringify(project.sdg_goals || []));\r\n      submitData.append('testimonials', JSON.stringify(project.testimonials || []));\r\n      \r\n      // Get project impacts\r\n      const projectImpacts = await fetchProjectImpacts(projectId);\r\n      const cleanedProjectImpacts = projectImpacts\r\n        .filter(impact => impact.impact_id && impact.contribution_value > 0)\r\n        .map(impact => ({\r\n          impact_id: parseInt(impact.impact_id),\r\n          contribution_value: parseInt(impact.contribution_value)\r\n        }));\r\n      submitData.append('project_impacts', JSON.stringify(cleanedProjectImpacts));\r\n\r\n      const response = await fetch(`${API_BASE}/projects/${projectId}`, {\r\n        method: 'PUT',\r\n        credentials: 'include',\r\n        body: submitData\r\n      });\r\n\r\n      if (!response.ok) {\r\n        throw new Error(`HTTP error! status: ${response.status}`);\r\n      }\r\n\r\n      const data = await response.json();\r\n\r\n      if (data.success) {\r\n        showSnackbar(\r\n          `Project ${!project.is_hidden ? 'hidden' : 'shown'} successfully`, \r\n          'success'\r\n        );\r\n        await fetchProjects();\r\n      } else {\r\n        showSnackbar(data.message || 'Visibility toggle failed', 'error');\r\n      }\r\n    } catch (error) {\r\n      console.error('Error toggling hidden status:', error);\r\n      showSnackbar(`Error toggling visibility: ${error.message}`, 'error');\r\n    }\r\n  };\r\n\r\n  const getStatusColor = (status) => {\r\n    const option = statusOptions.find(opt => opt.value === status);\r\n    return option ? option.color : 'default';\r\n  };\r\n\r\n  const handleFilterChange = (filterKey, value) => {\r\n    setFilters(prev => ({ ...prev, [filterKey]: value }));\r\n  };\r\n\r\n  const getPillarName = (pillarId) => {\r\n    const pillar = pillars.find(p => p.id === parseInt(pillarId));\r\n    return pillar ? pillar.name : 'Unknown Pillar';\r\n  };\r\n\r\n  const getFocusAreaNames = (selectedFocusAreas) => {\r\n    if (!Array.isArray(selectedFocusAreas) || selectedFocusAreas.length === 0) {\r\n      return 'No focus areas';\r\n    }\r\n    \r\n    const names = selectedFocusAreas\r\n      .map(id => {\r\n        // Look through all pillars to find the focus area\r\n        for (const pillar of pillars) {\r\n          if (pillar.focus_areas) {\r\n            const focusArea = pillar.focus_areas.find(fa => fa.id === parseInt(id));\r\n            if (focusArea) return focusArea.name;\r\n          }\r\n        }\r\n        return `ID: ${id}`;\r\n      })\r\n      .filter(name => name);\r\n    \r\n    return names.join(', ');\r\n  };\r\n\r\n  return (\r\n    <Box sx={{ p: 3 }}>\r\n      {/* Header */}\r\n      <Box sx={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', mb: 3 }}>\r\n        <Typography variant=\"h4\">\r\n          Manage Projects\r\n        </Typography>\r\n        <Box sx={{ display: 'flex', alignItems: 'center', gap: 2 }}>\r\n          <Button\r\n            variant={viewMode === 'list' ? 'contained' : 'outlined'}\r\n            size=\"small\"\r\n            startIcon={<ViewList />}\r\n            onClick={() => setViewMode('list')}\r\n          >\r\n            List\r\n          </Button>\r\n          <Button\r\n            variant={viewMode === 'grid' ? 'contained' : 'outlined'}\r\n            size=\"small\"\r\n            startIcon={<ViewModule />}\r\n            onClick={() => setViewMode('grid')}\r\n          >\r\n            Grid\r\n          </Button>\r\n          <Button\r\n            variant=\"contained\"\r\n            startIcon={<Add />}\r\n            onClick={() => handleOpenDialog()}\r\n          >\r\n            Add Project\r\n          </Button>\r\n        </Box>\r\n      </Box>\r\n\r\n      {/* Debug Info */}\r\n      {process.env.NODE_ENV !== 'production' && (\r\n        <Box sx={{ mb: 2, p: 2, bgcolor: 'grey.100', borderRadius: 1 }}>\r\n          <Typography variant=\"caption\" color=\"text.secondary\">\r\n            Debug: API_BASE = {API_BASE}, Projects Count = {projects.length}, Pillars Count = {pillars.length}, Impacts Count = {impacts.length}, Loading = {loading.toString()}\r\n          </Typography>\r\n        </Box>\r\n      )}\r\n\r\n      {/* Filters */}\r\n      <Box sx={{ mb: 3 }}>\r\n        <Grid container spacing={2} alignItems=\"center\">\r\n          <Grid item xs={12} sm={2}>\r\n            <FormControl fullWidth size=\"small\">\r\n              <InputLabel>Status</InputLabel>\r\n              <Select\r\n                value={filters.status}\r\n                onChange={(e) => handleFilterChange('status', e.target.value)}\r\n              >\r\n                <MenuItem value=\"\">All Statuses</MenuItem>\r\n                {statusOptions.map(option => (\r\n                  <MenuItem key={option.value} value={option.value}>\r\n                    {option.label}\r\n                  </MenuItem>\r\n                ))}\r\n              </Select>\r\n            </FormControl>\r\n          </Grid>\r\n          <Grid item xs={12} sm={2}>\r\n            <FormControl fullWidth size=\"small\">\r\n              <InputLabel>Pillar</InputLabel>\r\n              <Select\r\n                value={filters.pillarId}\r\n                onChange={(e) => handleFilterChange('pillarId', e.target.value)}\r\n              >\r\n                <MenuItem value=\"\">All Pillars</MenuItem>\r\n                {pillars.map(pillar => (\r\n                  <MenuItem key={pillar.id} value={pillar.id}>\r\n                    {pillar.name}\r\n                  </MenuItem>\r\n                ))}\r\n              </Select>\r\n            </FormControl>\r\n          </Grid>\r\n          <Grid item xs={12} sm={2}>\r\n            <FormControl fullWidth size=\"small\">\r\n              <InputLabel>Category</InputLabel>\r\n              <Select\r\n                value={filters.categoryId}\r\n                onChange={(e) => handleFilterChange('categoryId', e.target.value)}\r\n              >\r\n                <MenuItem value=\"\">All Categories</MenuItem>\r\n                {categories.map(category => (\r\n                  <MenuItem key={category.id} value={category.id}>\r\n                    {category.name}\r\n                  </MenuItem>\r\n                ))}\r\n              </Select>\r\n            </FormControl>\r\n          </Grid>\r\n          <Grid item xs={12} sm={2}>\r\n            <FormControl fullWidth size=\"small\">\r\n              <InputLabel>Featured</InputLabel>\r\n              <Select\r\n                value={filters.featured}\r\n                onChange={(e) => handleFilterChange('featured', e.target.value)}\r\n              >\r\n                <MenuItem value=\"\">All Projects</MenuItem>\r\n                <MenuItem value=\"true\">Featured Only</MenuItem>\r\n                <MenuItem value=\"false\">Non-Featured</MenuItem>\r\n              </Select>\r\n            </FormControl>\r\n          </Grid>\r\n          <Grid item xs={12} sm={2}>\r\n            <FormControl fullWidth size=\"small\">\r\n              <InputLabel>Visibility</InputLabel>\r\n              <Select\r\n                value={filters.hidden}\r\n                onChange={(e) => handleFilterChange('hidden', e.target.value)}\r\n              >\r\n                <MenuItem value=\"\">All Projects</MenuItem>\r\n                <MenuItem value=\"false\">Visible Only</MenuItem>\r\n                <MenuItem value=\"true\">Hidden Only</MenuItem>\r\n              </Select>\r\n            </FormControl>\r\n          </Grid>\r\n          <Grid item xs={12} sm={2}>\r\n            <Button\r\n              variant=\"outlined\"\r\n              onClick={() => {\r\n                setFilters({ status: '', categoryId: '', pillarId: '', featured: '', hidden: '' });\r\n              }}\r\n            >\r\n              Clear Filters\r\n            </Button>\r\n          </Grid>\r\n        </Grid>\r\n      </Box>\r\n\r\n      {/* Projects Display */}\r\n      {loading ? (\r\n        <Box sx={{ display: 'flex', justifyContent: 'center', p: 4 }}>\r\n          <CircularProgress />\r\n        </Box>\r\n      ) : projects.length > 0 ? (\r\n        <>\r\n          {/* List View */}\r\n          {viewMode === 'list' && (\r\n            <TableContainer component={Paper}>\r\n              <Table>\r\n                <TableHead>\r\n                  <TableRow>\r\n                    <TableCell>Project</TableCell>\r\n                    <TableCell>Status</TableCell>\r\n                    <TableCell>Pillar</TableCell>\r\n                    <TableCell>Focus Areas</TableCell>\r\n                    <TableCell>Location</TableCell>\r\n                    <TableCell>Content</TableCell>\r\n                    <TableCell align=\"center\">Actions</TableCell>\r\n                  </TableRow>\r\n                </TableHead>\r\n                <TableBody>\r\n                  {projects.map((project) => (\r\n                    <TableRow \r\n                      key={project.id} \r\n                      sx={{ \r\n                        opacity: project.is_hidden ? 0.6 : 1,\r\n                        bgcolor: project.is_hidden ? 'grey.50' : 'inherit'\r\n                      }}\r\n                    >\r\n                      <TableCell>\r\n                        <Box sx={{ display: 'flex', alignItems: 'center', gap: 2 }}>\r\n                          {project.featured_image && (\r\n                            <Avatar\r\n                              variant=\"rounded\"\r\n                              sx={{ width: 60, height: 60 }}\r\n                              src={project.featured_image.startsWith('http') \r\n                                ? project.featured_image \r\n                                : `${process.env.REACT_APP_STATIC_URL || ''}${project.featured_image}`}\r\n                            />\r\n                          )}\r\n                          <Box>\r\n                            <Typography variant=\"subtitle1\" sx={{ fontWeight: 600, mb: 0.5 }}>\r\n                              {project.title}\r\n                              {project.is_featured && (\r\n                                <Star fontSize=\"small\" color=\"warning\" sx={{ ml: 0.5 }} />\r\n                              )}\r\n                              {project.is_hidden && (\r\n                                <VisibilityOff fontSize=\"small\" color=\"error\" sx={{ ml: 0.5 }} />\r\n                              )}\r\n                            </Typography>\r\n                            <Typography variant=\"body2\" color=\"text.secondary\" sx={{ mb: 0.5 }}>\r\n                              {project.short_description || (project.description && project.description.substring(0, 80) + '...') || 'No description'}\r\n                            </Typography>\r\n                            {project.country_name && (\r\n                              <Box sx={{ display: 'flex', alignItems: 'center' }}>\r\n                                <Public fontSize=\"small\" color=\"action\" sx={{ mr: 0.5 }} />\r\n                                <Typography variant=\"caption\" color=\"text.secondary\">\r\n                                  {project.country_name}\r\n                                </Typography>\r\n                              </Box>\r\n                            )}\r\n                          </Box>\r\n                        </Box>\r\n                      </TableCell>\r\n                      <TableCell>\r\n                        <Chip\r\n                          label={statusOptions.find(opt => opt.value === project.status)?.label || project.status}\r\n                          color={getStatusColor(project.status)}\r\n                          size=\"small\"\r\n                        />\r\n                      </TableCell>\r\n                      <TableCell>\r\n                        {project.pillarId ? (\r\n                          <Chip\r\n                            icon={<AccountTree />}\r\n                            label={getPillarName(project.pillarId)}\r\n                            size=\"small\"\r\n                            variant=\"outlined\"\r\n                            color=\"primary\"\r\n                          />\r\n                        ) : (\r\n                          <Typography variant=\"body2\" color=\"text.secondary\">-</Typography>\r\n                        )}\r\n                      </TableCell>\r\n                      <TableCell>\r\n                        {(project.category_name || project.categoryName) ? (\r\n                          <Chip\r\n                            icon={<Category />}\r\n                            label={project.category_name || project.categoryName}\r\n                            size=\"small\"\r\n                            variant=\"outlined\"\r\n                          />\r\n                        ) : (\r\n                          <Typography variant=\"body2\" color=\"text.secondary\">-</Typography>\r\n                        )}\r\n                      </TableCell>\r\n                      <TableCell>\r\n                        <Typography variant=\"body2\">\r\n                          {project.location || '-'}\r\n                        </Typography>\r\n                      </TableCell>\r\n                      <TableCell>\r\n                        <Box sx={{ display: 'flex', gap: 1, flexWrap: 'wrap' }}>\r\n                          {project.gallery && Array.isArray(project.gallery) && project.gallery.length > 0 && (\r\n                            <Tooltip title={`${project.gallery.length} gallery images`}>\r\n                              <Badge badgeContent={project.gallery.length} color=\"primary\" max={99}>\r\n                                <Collections fontSize=\"small\" color=\"action\" />\r\n                              </Badge>\r\n                            </Tooltip>\r\n                          )}\r\n                          {project.testimonials && Array.isArray(project.testimonials) && project.testimonials.length > 0 && (\r\n                            <Tooltip title={`${project.testimonials.length} testimonials`}>\r\n                              <Badge badgeContent={project.testimonials.length} color=\"secondary\" max={99}>\r\n                                <Avatar sx={{ width: 20, height: 20, fontSize: 12 }}>T</Avatar>\r\n                              </Badge>\r\n                            </Tooltip>\r\n                          )}\r\n                          {project.project_impacts && Array.isArray(project.project_impacts) && project.project_impacts.length > 0 && (\r\n                            <Tooltip title={`${project.project_impacts.length} impact metrics`}>\r\n                              <Badge badgeContent={project.project_impacts.length} color=\"success\" max={99}>\r\n                                <TrendingUp fontSize=\"small\" color=\"action\" />\r\n                              </Badge>\r\n                            </Tooltip>\r\n                          )}\r\n                          {project.sdg_goals && Array.isArray(project.sdg_goals) && project.sdg_goals.length > 0 && (\r\n                            <Tooltip title={`SDG Goals: ${project.sdg_goals.join(', ')}`}>\r\n                              <Badge badgeContent={project.sdg_goals.length} color=\"info\" max={99}>\r\n                                <Assessment fontSize=\"small\" color=\"action\" />\r\n                              </Badge>\r\n                            </Tooltip>\r\n                          )}\r\n                        </Box>\r\n                      </TableCell>\r\n                      <TableCell align=\"center\">\r\n                        <Box sx={{ display: 'flex', justifyContent: 'center', gap: 0.5 }}>\r\n                          <Tooltip title={project.is_featured ? \"Remove from featured\" : \"Make featured\"}>\r\n                            <IconButton\r\n                              size=\"small\"\r\n                              onClick={() => handleToggleFeatured(project.id)}\r\n                              color={project.is_featured ? 'warning' : 'default'}\r\n                            >\r\n                              {project.is_featured ? <Star /> : <StarBorder />}\r\n                            </IconButton>\r\n                          </Tooltip>\r\n                          <Tooltip title={project.is_hidden ? \"Show project\" : \"Hide project\"}>\r\n                            <IconButton\r\n                              size=\"small\"\r\n                              onClick={() => handleToggleHidden(project.id)}\r\n                              color={project.is_hidden ? 'error' : 'default'}\r\n                            >\r\n                              {project.is_hidden ? <VisibilityOff /> : <Visibility />}\r\n                            </IconButton>\r\n                          </Tooltip>\r\n                          <Tooltip title=\"Edit project\">\r\n                            <IconButton\r\n                              size=\"small\"\r\n                              onClick={() => handleOpenDialog(project)}\r\n                              color=\"primary\"\r\n                            >\r\n                              <Edit />\r\n                            </IconButton>\r\n                          </Tooltip>\r\n                          <Tooltip title=\"Delete project\">\r\n                            <IconButton\r\n                              size=\"small\"\r\n                              onClick={() => handleDelete(project.id)}\r\n                              color=\"error\"\r\n                            >\r\n                              <Delete />\r\n                            </IconButton>\r\n                          </Tooltip>\r\n                        </Box>\r\n                      </TableCell>\r\n                    </TableRow>\r\n                  ))}\r\n                </TableBody>\r\n              </Table>\r\n            </TableContainer>\r\n          )}\r\n\r\n          {/* Grid View */}\r\n          {viewMode === 'grid' && (\r\n            <Grid container spacing={3}>\r\n              {projects.map((project) => (\r\n                <Grid item xs={12} md={6} lg={4} key={project.id}>\r\n                  <Card sx={{ \r\n                    height: '100%', \r\n                    display: 'flex', \r\n                    flexDirection: 'column',\r\n                    opacity: project.is_hidden ? 0.6 : 1,\r\n                    border: project.is_hidden ? '2px dashed #ccc' : 'none'\r\n                  }}>\r\n                    {project.featured_image && (\r\n                      <CardMedia\r\n                        component=\"img\"\r\n                        height=\"200\"\r\n                        image={project.featured_image.startsWith('http') \r\n                          ? project.featured_image \r\n                          : `${process.env.REACT_APP_STATIC_URL || ''}${project.featured_image}`}\r\n                        alt={project.title}\r\n                        onError={(e) => {\r\n                          e.target.style.display = 'none';\r\n                        }}\r\n                      />\r\n                    )}\r\n                    \r\n                    <CardContent sx={{ flexGrow: 1 }}>\r\n                      <Box sx={{ display: 'flex', alignItems: 'center', mb: 1 }}>\r\n                        <Typography variant=\"h6\" sx={{ flexGrow: 1, mr: 1 }}>\r\n                          {project.title}\r\n                        </Typography>\r\n                        <IconButton\r\n                          size=\"small\"\r\n                          onClick={() => handleToggleFeatured(project.id)}\r\n                          color={project.is_featured ? 'warning' : 'default'}\r\n                        >\r\n                          {project.is_featured ? <Star /> : <StarBorder />}\r\n                        </IconButton>\r\n                        <IconButton\r\n                          size=\"small\"\r\n                          onClick={() => handleToggleHidden(project.id)}\r\n                          color={project.is_hidden ? 'error' : 'default'}\r\n                        >\r\n                          {project.is_hidden ? <VisibilityOff /> : <Visibility />}\r\n                        </IconButton>\r\n                      </Box>\r\n\r\n                      <Box sx={{ mb: 2 }}>\r\n                        <Chip\r\n                          label={statusOptions.find(opt => opt.value === project.status)?.label || project.status}\r\n                          color={getStatusColor(project.status)}\r\n                          size=\"small\"\r\n                          sx={{ mr: 1, mb: 1 }}\r\n                        />\r\n                        {project.is_hidden && (\r\n                          <Chip\r\n                            label=\"Hidden\"\r\n                            color=\"error\"\r\n                            size=\"small\"\r\n                            variant=\"outlined\"\r\n                            sx={{ mr: 1, mb: 1 }}\r\n                          />\r\n                        )}\r\n                        {project.pillarId && (\r\n                          <Chip\r\n                            icon={<AccountTree />}\r\n                            label={getPillarName(project.pillarId)}\r\n                            size=\"small\"\r\n                            variant=\"outlined\"\r\n                            color=\"primary\"\r\n                            sx={{ mr: 1, mb: 1 }}\r\n                          />\r\n                        )}\r\n                        {(project.category_name || project.categoryName) && (\r\n                          <Chip\r\n                            icon={<Category />}\r\n                            label={project.category_name || project.categoryName}\r\n                            size=\"small\"\r\n                            variant=\"outlined\"\r\n                            sx={{ mr: 1, mb: 1 }}\r\n                          />\r\n                        )}\r\n                        {(project.country_name || project.countryName) && (\r\n                          <Chip\r\n                            icon={<Public />}\r\n                            label={project.country_name || project.countryName}\r\n                            size=\"small\"\r\n                            variant=\"outlined\"\r\n                            sx={{ mr: 1, mb: 1 }}\r\n                          />\r\n                        )}\r\n                      </Box>\r\n\r\n                      <Typography variant=\"body2\" color=\"text.secondary\" sx={{ mb: 2 }}>\r\n                        {project.short_description || (project.description && project.description.substring(0, 100) + '...') || 'No description available'}\r\n                      </Typography>\r\n\r\n                      {project.location && (\r\n                        <Box sx={{ display: 'flex', alignItems: 'center', mb: 1 }}>\r\n                          <LocationOn fontSize=\"small\" color=\"action\" sx={{ mr: 1 }} />\r\n                          <Typography variant=\"body2\" color=\"text.secondary\">\r\n                            {project.location}\r\n                          </Typography>\r\n                        </Box>\r\n                      )}\r\n\r\n                      {project.sdg_goals && Array.isArray(project.sdg_goals) && project.sdg_goals.length > 0 && (\r\n                        <Box sx={{ mb: 1 }}>\r\n                          <Typography variant=\"caption\" color=\"text.secondary\">\r\n                            SDG Goals: {project.sdg_goals.join(', ')}\r\n                          </Typography>\r\n                        </Box>\r\n                      )}\r\n\r\n                      {project.project_impacts && Array.isArray(project.project_impacts) && project.project_impacts.length > 0 && (\r\n                        <Box sx={{ mb: 1 }}>\r\n                          <Typography variant=\"caption\" color=\"text.secondary\">\r\n                            <TrendingUp fontSize=\"small\" sx={{ mr: 0.5 }} />\r\n                            Impacts: {project.project_impacts.length}\r\n                          </Typography>\r\n                        </Box>\r\n                      )}\r\n\r\n                      {project.testimonials && Array.isArray(project.testimonials) && project.testimonials.length > 0 && (\r\n                        <Box sx={{ mb: 1 }}>\r\n                          <Typography variant=\"caption\" color=\"text.secondary\">\r\n                            Testimonials: {project.testimonials.length}\r\n                          </Typography>\r\n                        </Box>\r\n                      )}\r\n\r\n                      {project.gallery && Array.isArray(project.gallery) && project.gallery.length > 0 && (\r\n                        <Box sx={{ display: 'flex', alignItems: 'center' }}>\r\n                          <Collections fontSize=\"small\" color=\"action\" sx={{ mr: 1 }} />\r\n                          <Typography variant=\"caption\" color=\"text.secondary\">\r\n                            {project.gallery.length} images\r\n                          </Typography>\r\n                        </Box>\r\n                      )}\r\n                    </CardContent>\r\n\r\n                    <CardActions>\r\n                      <Button\r\n                        size=\"small\"\r\n                        startIcon={<Edit />}\r\n                        onClick={() => handleOpenDialog(project)}\r\n                      >\r\n                        Edit\r\n                      </Button>\r\n                      <Button\r\n                        size=\"small\"\r\n                        color=\"error\"\r\n                        startIcon={<Delete />}\r\n                        onClick={() => handleDelete(project.id)}\r\n                      >\r\n                        Delete\r\n                      </Button>\r\n                    </CardActions>\r\n                  </Card>\r\n                </Grid>\r\n              ))}\r\n            </Grid>\r\n          )}\r\n        </>\r\n      ) : (\r\n        <Box sx={{ textAlign: 'center', py: 8 }}>\r\n          <Typography variant=\"h6\" color=\"text.secondary\">\r\n            No projects found\r\n          </Typography>\r\n          <Typography variant=\"body2\" color=\"text.secondary\" sx={{ mb: 2 }}>\r\n            {Object.values(filters).some(f => f) \r\n              ? 'Try adjusting your filters or create a new project'\r\n              : 'Start by creating your first project'\r\n            }\r\n          </Typography>\r\n          <Button\r\n            variant=\"contained\"\r\n            startIcon={<Add />}\r\n            onClick={() => handleOpenDialog()}\r\n          >\r\n            Add Project\r\n          </Button>\r\n        </Box>\r\n      )}\r\n\r\n      {/* Create/Edit Dialog */}\r\n      <Dialog \r\n        open={dialogOpen} \r\n        onClose={handleCloseDialog}\r\n        maxWidth=\"md\"\r\n        fullWidth\r\n        PaperProps={{ sx: { maxHeight: '90vh' } }}\r\n      >\r\n        <DialogTitle>\r\n          {editingProject ? 'Edit Project' : 'Create New Project'}\r\n        </DialogTitle>\r\n        \r\n        <DialogContent dividers>\r\n          <Tabs value={tabValue} onChange={(e, newValue) => setTabValue(newValue)} sx={{ mb: 3 }}>\r\n            <Tab label=\"Basic Info\" />\r\n            <Tab label=\"Details\" />\r\n            <Tab label=\"Media\" />\r\n            <Tab label=\"Testimonials\" />\r\n            <Tab label=\"Project Impacts\" />\r\n          </Tabs>\r\n\r\n          {/* Basic Info Tab */}\r\n          {tabValue === 0 && (\r\n            <Box>\r\n              <TextField\r\n                label=\"Project Title\"\r\n                fullWidth\r\n                required\r\n                value={formData.title}\r\n                onChange={(e) => handleInputChange('title', e.target.value)}\r\n                sx={{ mb: 2 }}\r\n                error={!formData.title.trim()}\r\n                helperText={!formData.title.trim() ? 'Title is required' : ''}\r\n              />\r\n\r\n              <Grid container spacing={2} sx={{ mb: 2 }}>\r\n                <Grid item xs={12} sm={6}>\r\n                  <FormControl fullWidth required>\r\n                    <InputLabel>Programme Pillar</InputLabel>\r\n                    <Select\r\n                      value={formData.pillarId}\r\n                      onChange={(e) => handleInputChange('pillarId', e.target.value)}\r\n                      error={!formData.pillarId}\r\n                    >\r\n                      <MenuItem value=\"\">Select Pillar</MenuItem>\r\n                      {pillars.map(pillar => (\r\n                        <MenuItem key={pillar.id} value={pillar.id}>\r\n                          <Box sx={{ display: 'flex', alignItems: 'center' }}>\r\n                            <AccountTree sx={{ mr: 1, fontSize: 18 }} />\r\n                            {pillar.name}\r\n                            {pillar.focus_areas && (\r\n                              <Typography variant=\"caption\" color=\"text.secondary\" sx={{ ml: 1 }}>\r\n                                ({pillar.focus_areas.length} focus areas)\r\n                              </Typography>\r\n                            )}\r\n                          </Box>\r\n                        </MenuItem>\r\n                      ))}\r\n                    </Select>\r\n                    {!formData.pillarId && (\r\n                      <Typography variant=\"caption\" color=\"error\" sx={{ mt: 0.5, ml: 1 }}>\r\n                        Please select a pillar first\r\n                      </Typography>\r\n                    )}\r\n                  </FormControl>\r\n                </Grid>\r\n                <Grid item xs={12} sm={6}>\r\n                  <FormControl fullWidth>\r\n                    <InputLabel>Country</InputLabel>\r\n                    <Select\r\n                      value={formData.countryId}\r\n                      onChange={(e) => handleInputChange('countryId', e.target.value)}\r\n                    >\r\n                      <MenuItem value=\"\">Select Country</MenuItem>\r\n                      {countries.map(country => (\r\n                        <MenuItem key={country.id} value={country.id}>\r\n                          {country.name}\r\n                        </MenuItem>\r\n                      ))}\r\n                    </Select>\r\n                  </FormControl>\r\n                </Grid>\r\n              </Grid>\r\n\r\n              {/* Focus Areas Selection */}\r\n              <Box sx={{ mb: 2 }}>\r\n                <FormControl fullWidth required>\r\n                  <InputLabel>Focus Areas</InputLabel>\r\n                  <Select\r\n                    multiple\r\n                    value={formData.selectedFocusAreas}\r\n                    onChange={handleFocusAreaChange}\r\n                    input={<OutlinedInput label=\"Focus Areas\" />}\r\n                    disabled={!formData.pillarId || availableFocusAreas.length === 0}\r\n                    error={formData.pillarId && formData.selectedFocusAreas.length === 0}\r\n                    renderValue={(selected) => (\r\n                      <Box sx={{ display: 'flex', flexWrap: 'wrap', gap: 0.5 }}>\r\n                        {selected.map((value) => {\r\n                          const focusArea = availableFocusAreas.find(fa => fa.id === value);\r\n                          return (\r\n                            <Chip \r\n                              key={value} \r\n                              label={focusArea?.name || `ID: ${value}`} \r\n                              size=\"small\"\r\n                              color=\"primary\"\r\n                              variant=\"outlined\"\r\n                            />\r\n                          );\r\n                        })}\r\n                      </Box>\r\n                    )}\r\n                  >\r\n                    {availableFocusAreas.map((focusArea) => (\r\n                      <MenuItem key={focusArea.id} value={focusArea.id}>\r\n                        <Checkbox checked={formData.selectedFocusAreas.indexOf(focusArea.id) > -1} />\r\n                        <ListItemText primary={focusArea.name} />\r\n                      </MenuItem>\r\n                    ))}\r\n                  </Select>\r\n                  {!formData.pillarId ? (\r\n                    <Typography variant=\"caption\" color=\"text.secondary\" sx={{ mt: 0.5, ml: 1 }}>\r\n                      Select a pillar first to see available focus areas\r\n                    </Typography>\r\n                  ) : availableFocusAreas.length === 0 ? (\r\n                    <Typography variant=\"caption\" color=\"warning.main\" sx={{ mt: 0.5, ml: 1 }}>\r\n                      No focus areas available for selected pillar\r\n                    </Typography>\r\n                  ) : formData.selectedFocusAreas.length === 0 ? (\r\n                    <Typography variant=\"caption\" color=\"error\" sx={{ mt: 0.5, ml: 1 }}>\r\n                      Please select at least one focus area\r\n                    </Typography>\r\n                  ) : null}\r\n                </FormControl>\r\n              </Box>\r\n\r\n              {/* Show selected pillar info */}\r\n              {formData.pillarId && (\r\n                <Box sx={{ mb: 2, p: 2, bgcolor: 'primary.50', borderRadius: 1 }}>\r\n                  <Typography variant=\"body2\" color=\"primary.dark\" sx={{ mb: 1 }}>\r\n                    <AccountTree fontSize=\"small\" sx={{ mr: 1 }} />\r\n                    Selected Pillar: <strong>{getPillarName(formData.pillarId)}</strong>\r\n                  </Typography>\r\n                  <Typography variant=\"caption\" color=\"text.secondary\">\r\n                    Available Focus Areas: {availableFocusAreas.length} ({availableFocusAreas.map(fa => fa.name).join(', ')})\r\n                  </Typography>\r\n                </Box>\r\n              )}\r\n\r\n              <TextField\r\n                label=\"Short Description\"\r\n                fullWidth\r\n                multiline\r\n                rows={2}\r\n                value={formData.short_description}\r\n                onChange={(e) => handleInputChange('short_description', e.target.value)}\r\n                sx={{ mb: 2 }}\r\n                helperText=\"Brief summary for project cards\"\r\n              />\r\n\r\n              <TextField\r\n                label=\"Full Description\"\r\n                fullWidth\r\n                multiline\r\n                rows={4}\r\n                required\r\n                value={formData.description}\r\n                onChange={(e) => handleInputChange('description', e.target.value)}\r\n                sx={{ mb: 2 }}\r\n                error={!formData.description.trim()}\r\n                helperText={!formData.description.trim() ? 'Description is required' : ''}\r\n              />\r\n            </Box>\r\n          )}\r\n\r\n          {/* Details Tab */}\r\n          {tabValue === 1 && (\r\n            <Box>\r\n              <Grid container spacing={2} sx={{ mb: 2 }}>\r\n                <Grid item xs={12} sm={3}>\r\n                  <FormControl fullWidth>\r\n                    <InputLabel>Status</InputLabel>\r\n                    <Select\r\n                      value={formData.status}\r\n                      onChange={(e) => handleInputChange('status', e.target.value)}\r\n                    >\r\n                      {statusOptions.map(option => (\r\n                        <MenuItem key={option.value} value={option.value}>\r\n                          {option.label}\r\n                        </MenuItem>\r\n                      ))}\r\n                    </Select>\r\n                  </FormControl>\r\n                </Grid>\r\n                <Grid item xs={12} sm={3}>\r\n                  <TextField\r\n                    label=\"Order Index\"\r\n                    type=\"number\"\r\n                    fullWidth\r\n                    value={formData.order_index}\r\n                    onChange={(e) => handleInputChange('order_index', parseInt(e.target.value) || 0)}\r\n                    helperText=\"Lower numbers appear first\"\r\n                  />\r\n                </Grid>\r\n                <Grid item xs={12} sm={3}>\r\n                  <FormControlLabel\r\n                    control={\r\n                      <Switch\r\n                        checked={formData.is_featured}\r\n                        onChange={(e) => handleInputChange('is_featured', e.target.checked)}\r\n                      />\r\n                    }\r\n                    label=\"Featured Project\"\r\n                  />\r\n                </Grid>\r\n                <Grid item xs={12} sm={3}>\r\n                  <FormControlLabel\r\n                    control={\r\n                      <Switch\r\n                        checked={formData.is_hidden}\r\n                        onChange={(e) => handleInputChange('is_hidden', e.target.checked)}\r\n                      />\r\n                    }\r\n                    label=\"Hide Project\"\r\n                  />\r\n                </Grid>\r\n              </Grid>\r\n\r\n              <TextField\r\n                label=\"Location\"\r\n                fullWidth\r\n                value={formData.location}\r\n                onChange={(e) => handleInputChange('location', e.target.value)}\r\n                sx={{ mb: 2 }}\r\n              />\r\n\r\n              <Grid container spacing={2} sx={{ mb: 2 }}>\r\n                <Grid item xs={12} sm={6}>\r\n                  <TextField\r\n                    label=\"Start Date\"\r\n                    type=\"date\"\r\n                    fullWidth\r\n                    InputLabelProps={{ shrink: true }}\r\n                    value={formData.start_date}\r\n                    onChange={(e) => handleInputChange('start_date', e.target.value)}\r\n                  />\r\n                </Grid>\r\n                <Grid item xs={12} sm={6}>\r\n                  <TextField\r\n                    label=\"End Date\"\r\n                    type=\"date\"\r\n                    fullWidth\r\n                    InputLabelProps={{ shrink: true }}\r\n                    value={formData.end_date}\r\n                    onChange={(e) => handleInputChange('end_date', e.target.value)}\r\n                  />\r\n                </Grid>\r\n              </Grid>\r\n\r\n              <Typography variant=\"subtitle2\" sx={{ mb: 1 }}>\r\n                SDG Goals\r\n              </Typography>\r\n              <Grid container spacing={1} sx={{ mb: 2 }}>\r\n                {sdgOptions.map(sdg => (\r\n                  <Grid item key={sdg.value}>\r\n                    <Chip\r\n                      label={`${sdg.value}. ${sdg.label}`}\r\n                      clickable\r\n                      color={formData.sdg_goals.includes(sdg.value) ? 'primary' : 'default'}\r\n                      onClick={() => handleSDGChange(sdg.value)}\r\n                      size=\"small\"\r\n                    />\r\n                  </Grid>\r\n                ))}\r\n              </Grid>\r\n            </Box>\r\n          )}\r\n\r\n          {/* Media Tab */}\r\n          {tabValue === 2 && (\r\n            <Box>\r\n              {/* Featured Image Section */}\r\n              <Box sx={{ mb: 4 }}>\r\n                <Typography variant=\"subtitle2\" sx={{ mb: 2 }}>\r\n                  Featured Image\r\n                </Typography>\r\n                \r\n                <input\r\n                  type=\"file\"\r\n                  accept=\"image/*\"\r\n                  onChange={(e) => handleFileChange('featured_image', e.target.files[0])}\r\n                  style={{ marginBottom: '16px', width: '100%' }}\r\n                />\r\n\r\n                {editingProject && editingProject.featured_image && (\r\n                  <Box sx={{ mb: 2 }}>\r\n                    <Typography variant=\"caption\" color=\"text.secondary\" sx={{ display: 'block', mb: 1 }}>\r\n                      Current Featured Image:\r\n                    </Typography>\r\n                    <Box sx={{ position: 'relative', display: 'inline-block' }}>\r\n                      <img\r\n                        src={editingProject.featured_image.startsWith('http') \r\n                          ? editingProject.featured_image \r\n                          : `${process.env.REACT_APP_STATIC_URL || ''}${editingProject.featured_image}`}\r\n                        alt=\"Current featured\"\r\n                        style={{ \r\n                          maxWidth: '300px', \r\n                          maxHeight: '200px', \r\n                          objectFit: 'cover',\r\n                          borderRadius: '4px',\r\n                          border: '1px solid #ddd'\r\n                        }}\r\n                        onError={(e) => {\r\n                          e.target.style.display = 'none';\r\n                        }}\r\n                      />\r\n                    </Box>\r\n                  </Box>\r\n                )}\r\n              </Box>\r\n\r\n              <Divider sx={{ mb: 3 }} />\r\n\r\n              {/* Gallery Section */}\r\n              <Box>\r\n                <Box sx={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', mb: 2 }}>\r\n                  <Typography variant=\"subtitle2\">\r\n                    Gallery Images ({editingProject ? (editingProject.gallery?.length || 0) : 0}/10)\r\n                  </Typography>\r\n                  {editingProject && (\r\n                    <Box>\r\n                      <Button\r\n                        variant=\"outlined\"\r\n                        size=\"small\"\r\n                        startIcon={<Add />}\r\n                        component=\"label\"\r\n                        disabled={galleryManagement.adding || (editingProject.gallery?.length || 0) >= 10}\r\n                        sx={{ mr: 1 }}\r\n                      >\r\n                        Add Image\r\n                        <input\r\n                          type=\"file\"\r\n                          hidden\r\n                          accept=\"image/*\"\r\n                          onChange={(e) => {\r\n                            if (e.target.files[0]) {\r\n                              handleAddGalleryImage(editingProject.id, e.target.files[0]);\r\n                              e.target.value = ''; // Reset input\r\n                            }\r\n                          }}\r\n                        />\r\n                      </Button>\r\n                      <Button\r\n                        variant=\"outlined\"\r\n                        size=\"small\"\r\n                        color=\"error\"\r\n                        startIcon={galleryManagement.clearing ? <CircularProgress size={16} /> : <Delete />}\r\n                        onClick={() => handleClearGallery(editingProject.id)}\r\n                        disabled={galleryManagement.clearing || !editingProject.gallery?.length}\r\n                      >\r\n                        Clear All\r\n                      </Button>\r\n                    </Box>\r\n                  )}\r\n                </Box>\r\n\r\n                {/* Gallery Upload for New Projects */}\r\n                {!editingProject && (\r\n                  <Box sx={{ mb: 3 }}>\r\n                    <Typography variant=\"caption\" color=\"text.secondary\" sx={{ display: 'block', mb: 1 }}>\r\n                      Upload multiple images for new project (Max 10):\r\n                    </Typography>\r\n                    <input\r\n                      type=\"file\"\r\n                      accept=\"image/*\"\r\n                      multiple\r\n                      onChange={(e) => handleFileChange('gallery', e.target.files)}\r\n                      style={{ marginBottom: '16px', width: '100%' }}\r\n                    />\r\n                  </Box>\r\n                )}\r\n\r\n                {/* Gallery Display and Management */}\r\n                {editingProject && editingProject.gallery && Array.isArray(editingProject.gallery) && editingProject.gallery.length > 0 ? (\r\n                  <Grid container spacing={2}>\r\n                    {editingProject.gallery.map((image, index) => (\r\n                      <Grid item xs={6} sm={4} md={3} key={index}>\r\n                        <Card sx={{ position: 'relative' }}>\r\n                          <CardMedia\r\n                            component=\"img\"\r\n                            height=\"120\"\r\n                            image={image.startsWith('http') \r\n                              ? image \r\n                              : `${process.env.REACT_APP_STATIC_URL || ''}${image}`}\r\n                            alt={`Gallery ${index + 1}`}\r\n                            sx={{ objectFit: 'cover' }}\r\n                            onError={(e) => {\r\n                              e.target.src = '/placeholder-image.jpg'; // Fallback image\r\n                              e.target.style.opacity = '0.5';\r\n                            }}\r\n                          />\r\n                          <Box sx={{ \r\n                            position: 'absolute', \r\n                            top: 4, \r\n                            right: 4,\r\n                            display: 'flex',\r\n                            gap: 0.5\r\n                          }}>\r\n                            <IconButton\r\n                              size=\"small\"\r\n                              sx={{ \r\n                                bgcolor: 'rgba(255,255,255,0.9)', \r\n                                '&:hover': { bgcolor: 'rgba(255,255,255,1)' },\r\n                                boxShadow: 1\r\n                              }}\r\n                              onClick={() => handleRemoveGalleryImage(editingProject.id, index)}\r\n                              disabled={galleryManagement.removing === index}\r\n                            >\r\n                              {galleryManagement.removing === index ? \r\n                                <CircularProgress size={16} /> : \r\n                                <Delete fontSize=\"small\" color=\"error\" />\r\n                              }\r\n                            </IconButton>\r\n                          </Box>\r\n                          <Box sx={{ \r\n                            position: 'absolute', \r\n                            bottom: 4, \r\n                            left: 4,\r\n                            bgcolor: 'rgba(0,0,0,0.7)',\r\n                            color: 'white',\r\n                            px: 1,\r\n                            py: 0.5,\r\n                            borderRadius: 1,\r\n                            fontSize: '0.75rem'\r\n                          }}>\r\n                            {index + 1}\r\n                          </Box>\r\n                        </Card>\r\n                      </Grid>\r\n                    ))}\r\n                  </Grid>\r\n                ) : editingProject ? (\r\n                  <Box sx={{ \r\n                    textAlign: 'center', \r\n                    py: 4, \r\n                    bgcolor: 'grey.50', \r\n                    borderRadius: 1,\r\n                    border: '2px dashed #ddd'\r\n                  }}>\r\n                    <Collections fontSize=\"large\" color=\"disabled\" sx={{ mb: 1 }} />\r\n                    <Typography variant=\"body2\" color=\"text.secondary\" sx={{ mb: 2 }}>\r\n                      No gallery images yet\r\n                    </Typography>\r\n                    <Button\r\n                      variant=\"outlined\"\r\n                      size=\"small\"\r\n                      startIcon={<Add />}\r\n                      component=\"label\"\r\n                      disabled={galleryManagement.adding}\r\n                    >\r\n                      Add First Image\r\n                      <input\r\n                        type=\"file\"\r\n                        hidden\r\n                        accept=\"image/*\"\r\n                        onChange={(e) => {\r\n                          if (e.target.files[0]) {\r\n                            handleAddGalleryImage(editingProject.id, e.target.files[0]);\r\n                            e.target.value = '';\r\n                          }\r\n                        }}\r\n                      />\r\n                    </Button>\r\n                  </Box>\r\n                ) : null}\r\n\r\n                {/* Gallery Constraints Info */}\r\n                <Alert severity=\"info\" sx={{ mt: 2 }}>\r\n                  <Typography variant=\"body2\">\r\n                    Gallery Management:\r\n                  </Typography>\r\n                  <ul style={{ margin: '8px 0', paddingLeft: '20px' }}>\r\n                    <li>Maximum 10 images per project</li>\r\n                    <li>Supported formats: JPG, PNG, GIF, WebP</li>\r\n                    <li>Individual images can be added/removed in edit mode</li>\r\n                    <li>Images are automatically optimized for web display</li>\r\n                  </ul>\r\n                </Alert>\r\n\r\n                {galleryManagement.adding && (\r\n                  <Box sx={{ mt: 2, display: 'flex', alignItems: 'center', gap: 1 }}>\r\n                    <CircularProgress size={16} />\r\n                    <Typography variant=\"body2\" color=\"text.secondary\">\r\n                      Adding image to gallery...\r\n                    </Typography>\r\n                  </Box>\r\n                )}\r\n              </Box>\r\n            </Box>\r\n          )}\r\n\r\n          {/* Testimonials Tab */}\r\n          {tabValue === 3 && (\r\n            <Box>\r\n              <Box sx={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', mb: 2 }}>\r\n                <Typography variant=\"subtitle2\">\r\n                  Testimonials ({formData.testimonials.length})\r\n                </Typography>\r\n                <Button\r\n                  variant=\"outlined\"\r\n                  size=\"small\"\r\n                  startIcon={<Add />}\r\n                  onClick={addTestimonial}\r\n                >\r\n                  Add Testimonial\r\n                </Button>\r\n              </Box>\r\n\r\n              {formData.testimonials.length === 0 ? (\r\n                <Box sx={{ textAlign: 'center', py: 4, bgcolor: 'grey.50', borderRadius: 1 }}>\r\n                  <Typography variant=\"body2\" color=\"text.secondary\">\r\n                    No testimonials added yet. Click \"Add Testimonial\" to start collecting client feedback.\r\n                  </Typography>\r\n                </Box>\r\n              ) : (\r\n                <Box>\r\n                  {formData.testimonials.map((testimonial, index) => (\r\n                    <Card key={index} sx={{ mb: 2, p: 2 }}>\r\n                      <Box sx={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', mb: 2 }}>\r\n                        <Typography variant=\"subtitle2\">\r\n                          Testimonial {index + 1}\r\n                        </Typography>\r\n                        <IconButton\r\n                          size=\"small\"\r\n                          color=\"error\"\r\n                          onClick={() => removeTestimonial(index)}\r\n                        >\r\n                          <Delete />\r\n                        </IconButton>\r\n                      </Box>\r\n\r\n                      <TextField\r\n                        label=\"Testimonial Text\"\r\n                        fullWidth\r\n                        multiline\r\n                        rows={3}\r\n                        value={testimonial.text}\r\n                        onChange={(e) => updateTestimonial(index, 'text', e.target.value)}\r\n                        sx={{ mb: 2 }}\r\n                        placeholder=\"Enter the testimonial text...\"\r\n                      />\r\n\r\n                      <Grid container spacing={2}>\r\n                        <Grid item xs={12} sm={6}>\r\n                          <TextField\r\n                            label=\"Author Name\"\r\n                            fullWidth\r\n                            value={testimonial.author}\r\n                            onChange={(e) => updateTestimonial(index, 'author', e.target.value)}\r\n                            placeholder=\"Name of person giving testimonial\"\r\n                          />\r\n                        </Grid>\r\n                        <Grid item xs={12} sm={6}>\r\n                          <TextField\r\n                            label=\"Author Position\"\r\n                            fullWidth\r\n                            value={testimonial.position}\r\n                            onChange={(e) => updateTestimonial(index, 'position', e.target.value)}\r\n                            placeholder=\"Job title or role\"\r\n                          />\r\n                        </Grid>\r\n                      </Grid>\r\n                    </Card>\r\n                  ))}\r\n                </Box>\r\n              )}\r\n            </Box>\r\n          )}\r\n\r\n          {/* Project Impacts Tab */}\r\n          {tabValue === 4 && (\r\n            <Box>\r\n              <Box sx={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', mb: 2 }}>\r\n                <Typography variant=\"subtitle2\">\r\n                  Project Impacts ({formData.project_impacts.length})\r\n                </Typography>\r\n                <Button\r\n                  variant=\"outlined\"\r\n                  size=\"small\"\r\n                  startIcon={<Add />}\r\n                  onClick={addProjectImpact}\r\n                  disabled={impacts.length === 0 || formData.project_impacts.length >= impacts.length}\r\n                >\r\n                  Add Impact\r\n                </Button>\r\n              </Box>\r\n\r\n              {impacts.length === 0 && (\r\n                <Alert severity=\"warning\" sx={{ mb: 2 }}>\r\n                  No impacts available. Please create impacts in the system first before linking them to projects.\r\n                </Alert>\r\n              )}\r\n\r\n              {formData.project_impacts.length >= impacts.length && impacts.length > 0 && (\r\n                <Alert severity=\"info\" sx={{ mb: 2 }}>\r\n                  All available impacts have been added to this project.\r\n                </Alert>\r\n              )}\r\n\r\n              {formData.project_impacts.length === 0 ? (\r\n                <Box sx={{ textAlign: 'center', py: 4, bgcolor: 'grey.50', borderRadius: 1 }}>\r\n                  <Typography variant=\"body2\" color=\"text.secondary\">\r\n                    No project impacts added yet. Click \"Add Impact\" to link this project to global impact metrics.\r\n                  </Typography>\r\n                </Box>\r\n              ) : (\r\n                <Box>\r\n                  {formData.project_impacts.map((projectImpact, index) => {\r\n                    const selectedImpactIds = formData.project_impacts\r\n                      .map((impact, i) => i !== index ? parseInt(impact.impact_id) : null)\r\n                      .filter(id => id !== null);\r\n\r\n                    const availableImpacts = impacts.filter(impact => \r\n                      !selectedImpactIds.includes(impact.id) || \r\n                      parseInt(projectImpact.impact_id) === impact.id\r\n                    );\r\n\r\n                    return (\r\n                      <Card key={index} sx={{ mb: 2, p: 2 }}>\r\n                        <Box sx={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', mb: 2 }}>\r\n                          <Typography variant=\"subtitle2\">\r\n                            Impact {index + 1}\r\n                          </Typography>\r\n                          <IconButton\r\n                            size=\"small\"\r\n                            color=\"error\"\r\n                            onClick={() => removeProjectImpact(index)}\r\n                          >\r\n                            <Delete />\r\n                          </IconButton>\r\n                        </Box>\r\n\r\n                        <Grid container spacing={2}>\r\n                          <Grid item xs={12} sm={6}>\r\n                            <FormControl fullWidth error={!projectImpact.impact_id}>\r\n                              <InputLabel>Impact Type</InputLabel>\r\n                              <Select\r\n                                value={projectImpact.impact_id || ''}\r\n                                onChange={(e) => updateProjectImpact(index, 'impact_id', e.target.value)}\r\n                              >\r\n                                <MenuItem value=\"\">Select Impact</MenuItem>\r\n                                {availableImpacts.map(impact => (\r\n                                  <MenuItem key={impact.id} value={impact.id}>\r\n                                    {impact.name} {impact.unit ? `(${impact.unit})` : ''}\r\n                                  </MenuItem>\r\n                                ))}\r\n                              </Select>\r\n                              {!projectImpact.impact_id && (\r\n                                <Typography variant=\"caption\" color=\"error\" sx={{ mt: 0.5 }}>\r\n                                  Please select an impact type\r\n                                </Typography>\r\n                              )}\r\n                            </FormControl>\r\n                          </Grid>\r\n                          <Grid item xs={12} sm={6}>\r\n                            <TextField\r\n                              label=\"Contribution Value\"\r\n                              type=\"number\"\r\n                              fullWidth\r\n                              value={projectImpact.contribution_value || 0}\r\n                              onChange={(e) => updateProjectImpact(index, 'contribution_value', parseInt(e.target.value) || 0)}\r\n                              placeholder=\"How much this project contributes\"\r\n                              helperText={projectImpact.unit ? `Unit: ${projectImpact.unit}` : ''}\r\n                              inputProps={{ min: 0 }}\r\n                            />\r\n                          </Grid>\r\n                        </Grid>\r\n\r\n                        {projectImpact.impact_name && (\r\n                          <Box sx={{ mt: 2, p: 2, bgcolor: 'grey.50', borderRadius: 1 }}>\r\n                            <Typography variant=\"body2\" color=\"text.secondary\">\r\n                              <TrendingUp fontSize=\"small\" sx={{ mr: 1 }} />\r\n                              Contributing to: <strong>{projectImpact.impact_name}</strong>\r\n                              {projectImpact.unit && ` (${projectImpact.unit})`}\r\n                            </Typography>\r\n                          </Box>\r\n                        )}\r\n\r\n                        {/* Show validation error if duplicate */}\r\n                        {formData.project_impacts.filter(impact => \r\n                          impact.impact_id && parseInt(impact.impact_id) === parseInt(projectImpact.impact_id)\r\n                        ).length > 1 && (\r\n                          <Alert severity=\"error\" sx={{ mt: 2 }}>\r\n                            This impact has already been added to the project. Please select a different impact or remove the duplicate.\r\n                          </Alert>\r\n                        )}\r\n                      </Card>\r\n                    );\r\n                  })}\r\n                </Box>\r\n              )}\r\n\r\n              {formData.project_impacts.length > 0 && (\r\n                <Box sx={{ mt: 2, p: 2, bgcolor: 'primary.50', borderRadius: 1 }}>\r\n                  <Typography variant=\"body2\" color=\"primary.dark\">\r\n                    <Assessment fontSize=\"small\" sx={{ mr: 1 }} />\r\n                    This project will contribute to {formData.project_impacts.length} global impact metric(s).\r\n                    Values will be added to the global totals when the project is saved.\r\n                  </Typography>\r\n                </Box>\r\n              )}\r\n\r\n              {/* Show summary of selected impacts */}\r\n              {formData.project_impacts.length > 0 && (\r\n                <Box sx={{ mt: 2 }}>\r\n                  <Typography variant=\"subtitle2\" sx={{ mb: 1 }}>\r\n                    Impact Summary:\r\n                  </Typography>\r\n                  {formData.project_impacts\r\n                    .filter(impact => impact.impact_name && impact.contribution_value > 0)\r\n                    .map((impact, index) => (\r\n                      <Chip\r\n                        key={index}\r\n                        label={`${impact.impact_name}: ${impact.contribution_value.toLocaleString()} ${impact.unit || ''}`}\r\n                        size=\"small\"\r\n                        sx={{ mr: 1, mb: 1 }}\r\n                        color=\"primary\"\r\n                        variant=\"outlined\"\r\n                      />\r\n                    ))\r\n                  }\r\n                </Box>\r\n              )}\r\n            </Box>\r\n          )}\r\n        </DialogContent>\r\n\r\n        <DialogActions sx={{ p: 2 }}>\r\n          <Button onClick={handleCloseDialog}>Cancel</Button>\r\n          <Button \r\n            variant=\"contained\" \r\n            onClick={handleSubmit}\r\n            disabled={!formData.title.trim() || !formData.description.trim() || !formData.pillarId || formData.selectedFocusAreas.length === 0}\r\n          >\r\n            {editingProject ? 'Update' : 'Create'} Project\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n\r\n      {/* Snackbar */}\r\n      <Snackbar\r\n        open={snackbar.open}\r\n        autoHideDuration={6000}\r\n        onClose={() => setSnackbar({ ...snackbar, open: false })}\r\n        anchorOrigin={{ vertical: 'bottom', horizontal: 'right' }}\r\n      >\r\n        <Alert \r\n          onClose={() => setSnackbar({ ...snackbar, open: false })} \r\n          severity={snackbar.severity}\r\n          variant=\"filled\"\r\n        >\r\n          {snackbar.message}\r\n        </Alert>\r\n      </Snackbar>\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default AdminManageProjects;","import React, { useState, useEffect } from 'react';\r\nimport {\r\n  Box, Typography, Button, Dialog, DialogTitle, DialogContent, DialogActions,\r\n  TextField, FormControl, InputLabel, Select, MenuItem, Switch, FormControlLabel,\r\n  Card, CardContent, CardActions, Grid, Chip, IconButton,\r\n  Alert, Snackbar, CircularProgress, Table, TableBody, TableCell,\r\n  TableContainer, TableHead, TableRow, Paper, Avatar, Tooltip\r\n} from '@mui/material';\r\nimport {\r\n  Add, Edit, Delete, TrendingUp, People, LocationCity, CheckCircle,\r\n  Handshake, AttachMoney, VolunteerActivism, Assessment, Refresh,\r\n  Visibility, VisibilityOff, Star, StarBorder\r\n} from '@mui/icons-material';\r\nimport { useAuth } from '../../context/AuthContext';\r\nimport { API_URL } from '../../config';\r\n\r\nconst API_BASE = API_URL;\r\n\r\n// Icon mapping for impact types\r\nconst iconMap = {\r\n  people: People,\r\n  location_city: LocationCity,\r\n  check_circle: CheckCircle,\r\n  handshake: Handshake,\r\n  attach_money: AttachMoney,\r\n  volunteer_activism: VolunteerActivism,\r\n  assessment: Assessment,\r\n  trending_up: TrendingUp\r\n};\r\n\r\nconst AdminManageImpact = () => {\r\n  const [impacts, setImpacts] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [dialogOpen, setDialogOpen] = useState(false);\r\n  const [editingImpact, setEditingImpact] = useState(null);\r\n  const [snackbar, setSnackbar] = useState({ open: false, message: '', severity: 'info' });\r\n  const [stats, setStats] = useState({});\r\n  const [filters, setFilters] = useState({\r\n    is_active: '',\r\n    is_featured: ''\r\n  });\r\n  const [submitting, setSubmitting] = useState(false);\r\n\r\n  // Enhanced form state with better validation\r\n  const [formData, setFormData] = useState({\r\n    name: '',\r\n    description: '',\r\n    starting_value: 0,\r\n    current_value: 0,\r\n    unit: '',\r\n    icon: 'assessment',\r\n    color: '#1976d2',\r\n    order_index: 0,\r\n    is_active: true,\r\n    is_featured: false\r\n  });\r\n\r\n  const [formErrors, setFormErrors] = useState({});\r\n\r\n  const colorOptions = [\r\n    { value: '#1976d2', label: 'Blue', color: '#1976d2' },\r\n    { value: '#2196F3', label: 'Light Blue', color: '#2196F3' },\r\n    { value: '#4CAF50', label: 'Green', color: '#4CAF50' },\r\n    { value: '#FF9800', label: 'Orange', color: '#FF9800' },\r\n    { value: '#9C27B0', label: 'Purple', color: '#9C27B0' },\r\n    { value: '#F44336', label: 'Red', color: '#F44336' },\r\n    { value: '#00BCD4', label: 'Cyan', color: '#00BCD4' },\r\n    { value: '#795548', label: 'Brown', color: '#795548' },\r\n    { value: '#607D8B', label: 'Blue Grey', color: '#607D8B' }\r\n  ];\r\n\r\n  const iconOptions = [\r\n    { value: 'people', label: 'People', icon: People },\r\n    { value: 'location_city', label: 'Communities', icon: LocationCity },\r\n    { value: 'check_circle', label: 'Projects', icon: CheckCircle },\r\n    { value: 'handshake', label: 'Partnerships', icon: Handshake },\r\n    { value: 'attach_money', label: 'Funding', icon: AttachMoney },\r\n    { value: 'volunteer_activism', label: 'Volunteers', icon: VolunteerActivism },\r\n    { value: 'assessment', label: 'Assessment', icon: Assessment },\r\n    { value: 'trending_up', label: 'Growth', icon: TrendingUp }\r\n  ];\r\n\r\n  useEffect(() => {\r\n    const initializeData = async () => {\r\n      setLoading(true);\r\n      try {\r\n        await Promise.all([\r\n          fetchImpacts(),\r\n          fetchStats()\r\n        ]);\r\n      } catch (error) {\r\n        console.error('Error initializing data:', error);\r\n        showSnackbar('Error loading data', 'error');\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n    \r\n    initializeData();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (!loading) {\r\n      fetchImpacts();\r\n    }\r\n  }, [filters]);\r\n\r\n  const fetchImpacts = async () => {\r\n    try {\r\n      const queryParams = new URLSearchParams();\r\n      Object.entries(filters).forEach(([key, value]) => {\r\n        if (value && value !== '') queryParams.append(key, value);\r\n      });\r\n\r\n      const url = `${API_BASE}/impacts${queryParams.toString() ? `?${queryParams}` : ''}`;\r\n      console.log('Fetching impacts from:', url);\r\n      \r\n      const response = await fetch(url, {\r\n        method: 'GET',\r\n        credentials: 'include',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        }\r\n      });\r\n\r\n      console.log('Response status:', response.status);\r\n\r\n      if (!response.ok) {\r\n        const errorText = await response.text();\r\n        console.error('Fetch error:', errorText);\r\n        throw new Error(`HTTP error! status: ${response.status} - ${errorText}`);\r\n      }\r\n\r\n      const data = await response.json();\r\n      console.log('Fetched impacts data:', data);\r\n      \r\n      if (data.success) {\r\n        setImpacts(Array.isArray(data.data) ? data.data : []);\r\n      } else {\r\n        console.error('Unexpected response format:', data);\r\n        setImpacts([]);\r\n        showSnackbar(data.message || 'Unexpected response format from server', 'warning');\r\n      }\r\n    } catch (error) {\r\n      console.error('Error fetching impacts:', error);\r\n      setImpacts([]);\r\n      showSnackbar(`Error fetching impacts: ${error.message}`, 'error');\r\n    }\r\n  };\r\n\r\n  const fetchStats = async () => {\r\n    try {\r\n      console.log('Fetching stats from:', `${API_BASE}/impacts/stats`);\r\n      const response = await fetch(`${API_BASE}/impacts/stats`, {\r\n        credentials: 'include',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        }\r\n      });\r\n      \r\n      console.log('Stats response status:', response.status);\r\n      \r\n      if (response.ok) {\r\n        const data = await response.json();\r\n        console.log('Stats data:', data);\r\n        if (data.success) {\r\n          setStats(data.data || {});\r\n        } else {\r\n          console.warn('Stats fetch unsuccessful:', data.message);\r\n        }\r\n      } else {\r\n        const errorText = await response.text();\r\n        console.warn('Stats fetch failed:', response.status, errorText);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error fetching stats:', error);\r\n    }\r\n  };\r\n\r\n  const showSnackbar = (message, severity = 'info') => {\r\n    setSnackbar({ open: true, message, severity });\r\n  };\r\n\r\n  const resetForm = () => {\r\n    setFormData({\r\n      name: '',\r\n      description: '',\r\n      starting_value: 0,\r\n      current_value: 0,\r\n      unit: '',\r\n      icon: 'assessment',\r\n      color: '#1976d2',\r\n      order_index: 0,\r\n      is_active: true,\r\n      is_featured: false\r\n    });\r\n    setFormErrors({});\r\n  };\r\n\r\n  const validateForm = () => {\r\n    const errors = {};\r\n    \r\n    if (!formData.name.trim()) {\r\n      errors.name = 'Impact name is required';\r\n    }\r\n    \r\n    if (formData.starting_value < 0) {\r\n      errors.starting_value = 'Starting value cannot be negative';\r\n    }\r\n    \r\n    if (editingImpact && formData.current_value < 0) {\r\n      errors.current_value = 'Current value cannot be negative';\r\n    }\r\n    \r\n    if (formData.order_index < 0) {\r\n      errors.order_index = 'Order index cannot be negative';\r\n    }\r\n    \r\n    setFormErrors(errors);\r\n    return Object.keys(errors).length === 0;\r\n  };\r\n\r\n  const handleOpenDialog = (impact = null) => {\r\n    if (impact) {\r\n      setEditingImpact(impact);\r\n      setFormData({\r\n        name: impact.name || '',\r\n        description: impact.description || '',\r\n        starting_value: impact.starting_value || 0,\r\n        current_value: impact.current_value || 0,\r\n        unit: impact.unit || '',\r\n        icon: impact.icon || 'assessment',\r\n        color: impact.color || '#1976d2',\r\n        order_index: impact.order_index || 0,\r\n        is_active: Boolean(impact.is_active),\r\n        is_featured: Boolean(impact.is_featured)\r\n      });\r\n    } else {\r\n      setEditingImpact(null);\r\n      resetForm();\r\n    }\r\n    setDialogOpen(true);\r\n  };\r\n\r\n  const handleCloseDialog = () => {\r\n    setDialogOpen(false);\r\n    setEditingImpact(null);\r\n    resetForm();\r\n    setSubmitting(false);\r\n  };\r\n\r\n  const handleInputChange = (field, value) => {\r\n    setFormData(prev => ({ ...prev, [field]: value }));\r\n    \r\n    // Clear specific field error when user starts typing\r\n    if (formErrors[field]) {\r\n      setFormErrors(prev => ({ ...prev, [field]: '' }));\r\n    }\r\n  };\r\n\r\n  const handleSubmit = async () => {\r\n    if (!validateForm()) {\r\n      showSnackbar('Please fix the form errors', 'error');\r\n      return;\r\n    }\r\n\r\n    setSubmitting(true);\r\n\r\n    try {\r\n      const url = editingImpact \r\n        ? `${API_BASE}/impacts/${editingImpact.id}`\r\n        : `${API_BASE}/impacts`;\r\n      \r\n      const method = editingImpact ? 'PUT' : 'POST';\r\n\r\n      // Prepare the data payload with explicit type conversion\r\n      const payload = {\r\n        name: String(formData.name).trim(),\r\n        description: String(formData.description || '').trim(),\r\n        starting_value: Number(formData.starting_value) || 0,\r\n        unit: String(formData.unit || '').trim(),\r\n        icon: String(formData.icon || 'assessment'),\r\n        color: String(formData.color || '#1976d2'),\r\n        order_index: Number(formData.order_index) || 0,\r\n        is_active: Boolean(formData.is_active),\r\n        is_featured: Boolean(formData.is_featured)\r\n      };\r\n\r\n      // Only include current_value for updates\r\n      if (editingImpact) {\r\n        payload.current_value = Number(formData.current_value) || 0;\r\n      }\r\n\r\n      console.log('Submitting to URL:', url);\r\n      console.log('Method:', method);\r\n      console.log('Payload:', JSON.stringify(payload, null, 2));\r\n\r\n      const response = await fetch(url, {\r\n        method,\r\n        credentials: 'include',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify(payload)\r\n      });\r\n\r\n      console.log('Response status:', response.status);\r\n      console.log('Response headers:', [...response.headers.entries()]);\r\n\r\n      const responseText = await response.text();\r\n      console.log('Response body:', responseText);\r\n\r\n      if (!response.ok) {\r\n        let errorMessage = `HTTP ${response.status}`;\r\n        \r\n        try {\r\n          const errorData = JSON.parse(responseText);\r\n          errorMessage = errorData.message || errorData.error || errorMessage;\r\n        } catch (e) {\r\n          errorMessage = responseText || errorMessage;\r\n        }\r\n        \r\n        throw new Error(errorMessage);\r\n      }\r\n\r\n      let data;\r\n      try {\r\n        data = JSON.parse(responseText);\r\n      } catch (e) {\r\n        console.error('Failed to parse response as JSON:', responseText);\r\n        throw new Error('Invalid response format from server');\r\n      }\r\n\r\n      if (data.success) {\r\n        showSnackbar(\r\n          `Impact ${editingImpact ? 'updated' : 'created'} successfully`, \r\n          'success'\r\n        );\r\n        handleCloseDialog();\r\n        await fetchImpacts();\r\n        await fetchStats();\r\n      } else {\r\n        showSnackbar(data.message || 'Operation failed', 'error');\r\n      }\r\n    } catch (error) {\r\n      console.error('Error submitting impact:', error);\r\n      showSnackbar(`Error submitting impact: ${error.message}`, 'error');\r\n    } finally {\r\n      setSubmitting(false);\r\n    }\r\n  };\r\n\r\n  const handleDelete = async (id) => {\r\n    if (!window.confirm('Are you sure you want to delete this impact? This action cannot be undone.')) {\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const response = await fetch(`${API_BASE}/impacts/${id}`, {\r\n        method: 'DELETE',\r\n        credentials: 'include',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        }\r\n      });\r\n\r\n      if (!response.ok) {\r\n        const errorText = await response.text();\r\n        throw new Error(`HTTP error! status: ${response.status} - ${errorText}`);\r\n      }\r\n\r\n      const data = await response.json();\r\n\r\n      if (data.success) {\r\n        showSnackbar('Impact deleted successfully', 'success');\r\n        await fetchImpacts();\r\n        await fetchStats();\r\n      } else {\r\n        showSnackbar(data.message || 'Delete failed', 'error');\r\n      }\r\n    } catch (error) {\r\n      console.error('Error deleting impact:', error);\r\n      showSnackbar(`Error deleting impact: ${error.message}`, 'error');\r\n    }\r\n  };\r\n\r\n  const handleRecalculateTotals = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const response = await fetch(`${API_BASE}/impacts/recalculate`, {\r\n        method: 'POST',\r\n        credentials: 'include',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        }\r\n      });\r\n\r\n      if (!response.ok) {\r\n        const errorText = await response.text();\r\n        throw new Error(`HTTP error! status: ${response.status} - ${errorText}`);\r\n      }\r\n\r\n      const data = await response.json();\r\n\r\n      if (data.success) {\r\n        showSnackbar('Impact totals recalculated successfully', 'success');\r\n        await fetchImpacts();\r\n        await fetchStats();\r\n      } else {\r\n        showSnackbar(data.message || 'Recalculation failed', 'error');\r\n      }\r\n    } catch (error) {\r\n      console.error('Error recalculating totals:', error);\r\n      showSnackbar(`Error recalculating totals: ${error.message}`, 'error');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const formatNumber = (num) => {\r\n    if (num >= 1000000) {\r\n      return (num / 1000000).toFixed(1) + 'M';\r\n    } else if (num >= 1000) {\r\n      return (num / 1000).toFixed(1) + 'K';\r\n    }\r\n    return num.toLocaleString();\r\n  };\r\n\r\n  const renderIcon = (iconName, color = '#1976d2') => {\r\n    const IconComponent = iconMap[iconName] || Assessment;\r\n    return <IconComponent style={{ color }} />;\r\n  };\r\n\r\n  return (\r\n    <Box sx={{ p: 3 }}>\r\n      <Box sx={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', mb: 3 }}>\r\n        <Typography variant=\"h4\">\r\n           Manage Impact Statistics\r\n        </Typography>\r\n        <Box sx={{ display: 'flex', gap: 2 }}>\r\n          <Button\r\n            variant=\"outlined\"\r\n            startIcon={<Refresh />}\r\n            onClick={handleRecalculateTotals}\r\n            disabled={loading}\r\n          >\r\n            Recalculate\r\n          </Button>\r\n          <Button\r\n            variant=\"contained\"\r\n            startIcon={<Add />}\r\n            onClick={() => handleOpenDialog()}\r\n            disabled={loading}\r\n          >\r\n            Add Impact\r\n          </Button>\r\n        </Box>\r\n      </Box>\r\n\r\n      {/* Enhanced Statistics Summary with featured impacts */}\r\n      {stats && Object.keys(stats).length > 0 && (\r\n        <Grid container spacing={2} sx={{ mb: 3 }}>\r\n          <Grid item xs={12} sm={6} md={2.4}>\r\n            <Card>\r\n              <CardContent>\r\n                <Typography color=\"text.secondary\" gutterBottom>\r\n                  Total Impacts\r\n                </Typography>\r\n                <Typography variant=\"h5\">\r\n                  {stats.total_impacts || 0}\r\n                </Typography>\r\n              </CardContent>\r\n            </Card>\r\n          </Grid>\r\n          <Grid item xs={12} sm={6} md={2.4}>\r\n            <Card>\r\n              <CardContent>\r\n                <Typography color=\"text.secondary\" gutterBottom>\r\n                  Active Impacts\r\n                </Typography>\r\n                <Typography variant=\"h5\">\r\n                  {stats.active_impacts || 0}\r\n                </Typography>\r\n              </CardContent>\r\n            </Card>\r\n          </Grid>\r\n          <Grid item xs={12} sm={6} md={2.4}>\r\n            <Card>\r\n              <CardContent>\r\n                <Typography color=\"text.secondary\" gutterBottom>\r\n                  Featured Impacts\r\n                </Typography>\r\n                <Typography variant=\"h5\">\r\n                  {stats.featured_impacts || 0}\r\n                </Typography>\r\n              </CardContent>\r\n            </Card>\r\n          </Grid>\r\n          <Grid item xs={12} sm={6} md={2.4}>\r\n            <Card>\r\n              <CardContent>\r\n                <Typography color=\"text.secondary\" gutterBottom>\r\n                  Total Impact Value\r\n                </Typography>\r\n                <Typography variant=\"h5\">\r\n                  {formatNumber(stats.total_impact_value || 0)}\r\n                </Typography>\r\n              </CardContent>\r\n            </Card>\r\n          </Grid>\r\n          <Grid item xs={12} sm={6} md={2.4}>\r\n            <Card>\r\n              <CardContent>\r\n                <Typography color=\"text.secondary\" gutterBottom>\r\n                  Projects with Impact\r\n                </Typography>\r\n                <Typography variant=\"h5\">\r\n                  {stats.projects_with_impacts || 0}\r\n                </Typography>\r\n              </CardContent>\r\n            </Card>\r\n          </Grid>\r\n        </Grid>\r\n      )}\r\n\r\n      {/* Filters */}\r\n      <Box sx={{ mb: 3 }}>\r\n        <Grid container spacing={2} alignItems=\"center\">\r\n          <Grid item xs={12} sm={3}>\r\n            <FormControl fullWidth size=\"small\">\r\n              <InputLabel>Status</InputLabel>\r\n              <Select\r\n                value={filters.is_active}\r\n                onChange={(e) => setFilters(prev => ({ ...prev, is_active: e.target.value }))}\r\n              >\r\n                <MenuItem value=\"\">All Impacts</MenuItem>\r\n                <MenuItem value=\"true\">Active Only</MenuItem>\r\n                <MenuItem value=\"false\">Inactive Only</MenuItem>\r\n              </Select>\r\n            </FormControl>\r\n          </Grid>\r\n          <Grid item xs={12} sm={3}>\r\n            <FormControl fullWidth size=\"small\">\r\n              <InputLabel>Featured</InputLabel>\r\n              <Select\r\n                value={filters.is_featured}\r\n                onChange={(e) => setFilters(prev => ({ ...prev, is_featured: e.target.value }))}\r\n              >\r\n                <MenuItem value=\"\">All Impacts</MenuItem>\r\n                <MenuItem value=\"true\">Featured Only</MenuItem>\r\n                <MenuItem value=\"false\">Not Featured</MenuItem>\r\n              </Select>\r\n            </FormControl>\r\n          </Grid>\r\n          <Grid item xs={12} sm={3}>\r\n            <Button\r\n              variant=\"outlined\"\r\n              onClick={() => setFilters({ is_active: '', is_featured: '' })}\r\n            >\r\n              Clear Filters\r\n            </Button>\r\n          </Grid>\r\n        </Grid>\r\n      </Box>\r\n\r\n      {/* Impacts Table */}\r\n      {loading ? (\r\n        <Box sx={{ display: 'flex', justifyContent: 'center', p: 4 }}>\r\n          <CircularProgress />\r\n        </Box>\r\n      ) : impacts.length > 0 ? (\r\n        <TableContainer component={Paper}>\r\n          <Table>\r\n            <TableHead>\r\n              <TableRow>\r\n                <TableCell>Impact</TableCell>\r\n                <TableCell>Starting Value</TableCell>\r\n                <TableCell>Current Value</TableCell>\r\n                <TableCell>Unit</TableCell>\r\n                <TableCell align=\"center\">Projects</TableCell>\r\n                <TableCell align=\"center\">Status</TableCell>\r\n                <TableCell align=\"center\">Featured</TableCell>\r\n                <TableCell align=\"center\">Order</TableCell>\r\n                <TableCell align=\"center\">Actions</TableCell>\r\n              </TableRow>\r\n            </TableHead>\r\n            <TableBody>\r\n              {impacts.map((impact) => (\r\n                <TableRow key={impact.id}>\r\n                  <TableCell>\r\n                    <Box sx={{ display: 'flex', alignItems: 'center', gap: 2 }}>\r\n                      <Avatar sx={{ bgcolor: impact.color, width: 40, height: 40 }}>\r\n                        {renderIcon(impact.icon, '#ffffff')}\r\n                      </Avatar>\r\n                      <Box>\r\n                        <Typography variant=\"subtitle2\" fontWeight=\"bold\">\r\n                          {impact.name}\r\n                          {impact.is_featured && (\r\n                            <Star sx={{ ml: 1, fontSize: 16, color: '#FFD700' }} />\r\n                          )}\r\n                        </Typography>\r\n                        {impact.description && (\r\n                          <Typography variant=\"caption\" color=\"text.secondary\">\r\n                            {impact.description.length > 50 \r\n                              ? `${impact.description.substring(0, 50)}...`\r\n                              : impact.description\r\n                            }\r\n                          </Typography>\r\n                        )}\r\n                      </Box>\r\n                    </Box>\r\n                  </TableCell>\r\n                  <TableCell>\r\n                    <Typography variant=\"body2\" color=\"text.secondary\">\r\n                      {formatNumber(impact.starting_value || 0)}\r\n                    </Typography>\r\n                  </TableCell>\r\n                  <TableCell>\r\n                    <Typography variant=\"h6\" color={impact.color}>\r\n                      {formatNumber(impact.current_value || 0)}\r\n                    </Typography>\r\n                  </TableCell>\r\n                  <TableCell>\r\n                    <Chip \r\n                      label={impact.unit || 'units'} \r\n                      size=\"small\" \r\n                      variant=\"outlined\"\r\n                    />\r\n                  </TableCell>\r\n                  <TableCell align=\"center\">\r\n                    <Chip \r\n                      label={impact.project_count || 0} \r\n                      size=\"small\" \r\n                      color=\"primary\"\r\n                    />\r\n                  </TableCell>\r\n                  <TableCell align=\"center\">\r\n                    <Chip \r\n                      label={impact.is_active ? 'Active' : 'Inactive'}\r\n                      color={impact.is_active ? 'success' : 'default'}\r\n                      size=\"small\"\r\n                      icon={impact.is_active ? <Visibility /> : <VisibilityOff />}\r\n                    />\r\n                  </TableCell>\r\n                  <TableCell align=\"center\">\r\n                    <Chip \r\n                      label={impact.is_featured ? 'Featured' : 'Not Featured'}\r\n                      color={impact.is_featured ? 'warning' : 'default'}\r\n                      size=\"small\"\r\n                      icon={impact.is_featured ? <Star /> : <StarBorder />}\r\n                    />\r\n                  </TableCell>\r\n                  <TableCell align=\"center\">\r\n                    <Typography variant=\"body2\">\r\n                      {impact.order_index}\r\n                    </Typography>\r\n                  </TableCell>\r\n                  <TableCell align=\"center\">\r\n                    <Box sx={{ display: 'flex', justifyContent: 'center', gap: 1 }}>\r\n                      <Tooltip title=\"Edit Impact\">\r\n                        <IconButton\r\n                          size=\"small\"\r\n                          onClick={() => handleOpenDialog(impact)}\r\n                        >\r\n                          <Edit />\r\n                        </IconButton>\r\n                      </Tooltip>\r\n                      <Tooltip title={impact.project_count > 0 ? \"Cannot delete: Impact has associated projects\" : \"Delete Impact\"}>\r\n                        <span>\r\n                          <IconButton\r\n                            size=\"small\"\r\n                            color=\"error\"\r\n                            onClick={() => handleDelete(impact.id)}\r\n                            disabled={impact.project_count > 0}\r\n                          >\r\n                            <Delete />\r\n                          </IconButton>\r\n                        </span>\r\n                      </Tooltip>\r\n                    </Box>\r\n                  </TableCell>\r\n                </TableRow>\r\n              ))}\r\n            </TableBody>\r\n          </Table>\r\n        </TableContainer>\r\n      ) : (\r\n        <Box sx={{ textAlign: 'center', py: 8 }}>\r\n          <Typography variant=\"h6\" color=\"text.secondary\">\r\n            No impact metrics found\r\n          </Typography>\r\n          <Typography variant=\"body2\" color=\"text.secondary\" sx={{ mb: 2 }}>\r\n            Start by creating your first impact metric to track project outcomes\r\n          </Typography>\r\n          <Button\r\n            variant=\"contained\"\r\n            startIcon={<Add />}\r\n            onClick={() => handleOpenDialog()}\r\n          >\r\n            Add Impact Metric\r\n          </Button>\r\n        </Box>\r\n      )}\r\n\r\n      {/* Enhanced Create/Edit Dialog with featuring option */}\r\n      <Dialog \r\n        open={dialogOpen} \r\n        onClose={handleCloseDialog}\r\n        maxWidth=\"md\"\r\n        fullWidth\r\n      >\r\n        <DialogTitle>\r\n          {editingImpact ? 'Edit Impact Metric' : 'Create New Impact Metric'}\r\n        </DialogTitle>\r\n        \r\n        <DialogContent dividers>\r\n          <Grid container spacing={2}>\r\n            <Grid item xs={12}>\r\n              <TextField\r\n                label=\"Impact Name\"\r\n                fullWidth\r\n                required\r\n                value={formData.name}\r\n                onChange={(e) => handleInputChange('name', e.target.value)}\r\n                error={!!formErrors.name}\r\n                helperText={formErrors.name || 'e.g., \"People Served\", \"Communities Reached\"'}\r\n              />\r\n            </Grid>\r\n            \r\n            <Grid item xs={12}>\r\n              <TextField\r\n                label=\"Description\"\r\n                fullWidth\r\n                multiline\r\n                rows={3}\r\n                value={formData.description}\r\n                onChange={(e) => handleInputChange('description', e.target.value)}\r\n                helperText=\"Brief description of what this impact measures\"\r\n              />\r\n            </Grid>\r\n\r\n            <Grid item xs={12} sm={6}>\r\n              <TextField\r\n                label=\"Starting Value\"\r\n                type=\"number\"\r\n                fullWidth\r\n                value={formData.starting_value}\r\n                onChange={(e) => handleInputChange('starting_value', parseInt(e.target.value) || 0)}\r\n                error={!!formErrors.starting_value}\r\n                helperText={formErrors.starting_value || \"Initial/baseline value before any project contributions\"}\r\n                inputProps={{ min: 0 }}\r\n              />\r\n            </Grid>\r\n\r\n            <Grid item xs={12} sm={6}>\r\n              <TextField\r\n                label=\"Current Value\"\r\n                type=\"number\"\r\n                fullWidth\r\n                value={formData.current_value}\r\n                onChange={(e) => handleInputChange('current_value', parseInt(e.target.value) || 0)}\r\n                error={!!formErrors.current_value}\r\n                helperText={editingImpact \r\n                  ? (formErrors.current_value || \"Current total (starting value + project contributions)\")\r\n                  : \"Will be automatically set to starting value for new impacts\"\r\n                }\r\n                disabled={!editingImpact}\r\n                InputProps={{\r\n                  readOnly: !editingImpact\r\n                }}\r\n                inputProps={{ min: 0 }}\r\n              />\r\n            </Grid>\r\n\r\n            <Grid item xs={12} sm={6}>\r\n              <TextField\r\n                label=\"Unit\"\r\n                fullWidth\r\n                value={formData.unit}\r\n                onChange={(e) => handleInputChange('unit', e.target.value)}\r\n                helperText=\"e.g., people, communities, projects, USD\"\r\n              />\r\n            </Grid>\r\n\r\n            <Grid item xs={12} sm={6}>\r\n              <FormControl fullWidth>\r\n                <InputLabel>Icon</InputLabel>\r\n                <Select\r\n                  value={formData.icon}\r\n                  onChange={(e) => handleInputChange('icon', e.target.value)}\r\n                >\r\n                  {iconOptions.map(option => (\r\n                    <MenuItem key={option.value} value={option.value}>\r\n                      <Box sx={{ display: 'flex', alignItems: 'center', gap: 1 }}>\r\n                        <option.icon />\r\n                        {option.label}\r\n                      </Box>\r\n                    </MenuItem>\r\n                  ))}\r\n                </Select>\r\n              </FormControl>\r\n            </Grid>\r\n\r\n            <Grid item xs={12} sm={6}>\r\n              <FormControl fullWidth>\r\n                <InputLabel>Color</InputLabel>\r\n                <Select\r\n                  value={formData.color}\r\n                  onChange={(e) => handleInputChange('color', e.target.value)}\r\n                >\r\n                  {colorOptions.map(option => (\r\n                    <MenuItem key={option.value} value={option.value}>\r\n                      <Box sx={{ display: 'flex', alignItems: 'center', gap: 1 }}>\r\n                        <Box \r\n                          sx={{ \r\n                            width: 20, \r\n                            height: 20, \r\n                            backgroundColor: option.color,\r\n                            borderRadius: '50%'\r\n                          }} \r\n                        />\r\n                        {option.label}\r\n                      </Box>\r\n                    </MenuItem>\r\n                  ))}\r\n                </Select>\r\n              </FormControl>\r\n            </Grid>\r\n\r\n            <Grid item xs={12} sm={6}>\r\n              <TextField\r\n                label=\"Order Index\"\r\n                type=\"number\"\r\n                fullWidth\r\n                value={formData.order_index}\r\n                onChange={(e) => handleInputChange('order_index', parseInt(e.target.value) || 0)}\r\n                error={!!formErrors.order_index}\r\n                helperText={formErrors.order_index || \"Lower numbers appear first\"}\r\n                inputProps={{ min: 0 }}\r\n              />\r\n            </Grid>\r\n\r\n            <Grid item xs={12} sm={6}>\r\n              <FormControlLabel\r\n                control={\r\n                  <Switch\r\n                    checked={formData.is_active}\r\n                    onChange={(e) => handleInputChange('is_active', e.target.checked)}\r\n                  />\r\n                }\r\n                label=\"Active\"\r\n              />\r\n            </Grid>\r\n\r\n            <Grid item xs={12} sm={6}>\r\n              <FormControlLabel\r\n                control={\r\n                  <Switch\r\n                    checked={formData.is_featured}\r\n                    onChange={(e) => handleInputChange('is_featured', e.target.checked)}\r\n                  />\r\n                }\r\n                label=\"Featured\"\r\n              />\r\n            </Grid>\r\n          </Grid>\r\n        </DialogContent>\r\n\r\n        <DialogActions sx={{ p: 2 }}>\r\n          <Button \r\n            onClick={handleCloseDialog}\r\n            disabled={submitting}\r\n          >\r\n            Cancel\r\n          </Button>\r\n          <Button \r\n            variant=\"contained\" \r\n            onClick={handleSubmit}\r\n            disabled={submitting || Object.keys(formErrors).length > 0}\r\n            startIcon={submitting ? <CircularProgress size={20} /> : null}\r\n          >\r\n            {submitting \r\n              ? (editingImpact ? 'Updating...' : 'Creating...') \r\n              : (editingImpact ? 'Update' : 'Create') + ' Impact'\r\n            }\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n\r\n      {/* Snackbar */}\r\n      <Snackbar\r\n        open={snackbar.open}\r\n        autoHideDuration={6000}\r\n        onClose={() => setSnackbar({ ...snackbar, open: false })}\r\n        anchorOrigin={{ vertical: 'bottom', horizontal: 'right' }}\r\n      >\r\n        <Alert \r\n          onClose={() => setSnackbar({ ...snackbar, open: false })} \r\n          severity={snackbar.severity}\r\n          variant=\"filled\"\r\n        >\r\n          {snackbar.message}\r\n        </Alert>\r\n      </Snackbar>\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default AdminManageImpact;","import React, { useState, useCallback, useEffect, useRef } from 'react';\r\nimport { ChevronDown, ChevronUp, Eye, Users, Calendar, TrendingUp, Clock, Globe, RefreshCw, Activity, MapPin } from 'lucide-react';\r\nimport { useAuth } from '../../context/AuthContext';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { API_URL } from '../../config';\r\n\r\n// Import the menu items configuration from the Sidebar\r\nimport { ALL_MENU_ITEMS } from './SideBar'; // Adjust path as needed\r\n\r\nconst API_BASE = API_URL;\r\n\r\nconst DashboardOverview = () => {\r\n  const [isQuickLinksExpanded, setIsQuickLinksExpanded] = useState(false);\r\n  const [analyticsData, setAnalyticsData] = useState(null);\r\n  const [visitAnalytics, setVisitAnalytics] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState('');\r\n  const [lastRefresh, setLastRefresh] = useState(new Date());\r\n  const { user } = useAuth();\r\n  const navigate = useNavigate();\r\n  \r\n  // Use ref to prevent loading check race conditions\r\n  const isLoadingRef = useRef(false);\r\n\r\n  // Fixed fetchAnalytics function - remove loading from dependencies\r\n  const fetchAnalytics = useCallback(async () => {\r\n    // Prevent multiple simultaneous calls using ref\r\n    if (isLoadingRef.current) {\r\n      console.log('Analytics fetch already in progress, skipping...');\r\n      return;\r\n    }\r\n\r\n    isLoadingRef.current = true;\r\n    setLoading(true);\r\n    setError('');\r\n    console.log('Starting analytics fetch...');\r\n    \r\n    try {\r\n      const analyticsResponse = await fetch(`${API_BASE}/visits/analytics`, { \r\n        credentials: 'include',\r\n        method: 'GET',\r\n        headers: {\r\n          'Content-Type': 'application/json'\r\n        }\r\n      });\r\n      \r\n      console.log('Analytics response status:', analyticsResponse.status);\r\n      \r\n      if (!analyticsResponse.ok) {\r\n        throw new Error(`Analytics endpoint failed: ${analyticsResponse.status}`);\r\n      }\r\n      \r\n      const analyticsResult = await analyticsResponse.json();\r\n      console.log('Analytics data received:', analyticsResult);\r\n      \r\n      if (analyticsResult.success && analyticsResult.data) {\r\n        const consolidatedData = {\r\n          // Map the analytics data to your component's expected format\r\n          todayViews: analyticsResult.data.today_views || 0,\r\n          lifetimeViews: parseInt(analyticsResult.data.total_views) || 0,\r\n          uniqueVisitors: analyticsResult.data.unique_visitors || 0,\r\n          newVisitors: analyticsResult.data.new_visitors || 0,\r\n          returningVisitors: analyticsResult.data.returning_visitors || 0,\r\n          avgSessionTime: '0m 0s',\r\n          topCountry: analyticsResult.data.top_countries?.[0]?.country || 'Unknown',\r\n          topCountries: analyticsResult.data.top_countries || [],\r\n          popularPages: analyticsResult.data.popular_pages || [],\r\n          trafficSources: analyticsResult.data.traffic_sources || [],\r\n          dailyTrend: analyticsResult.data.daily_trend || [],\r\n          browserStats: analyticsResult.data.browser_stats || [],\r\n          \r\n          // Default values for other fields\r\n          activeUsers: 0,\r\n          newUsersToday: 0,\r\n          totalSubscribers: 0,\r\n          totalContent: 0,\r\n          publishedToday: 0,\r\n          totalProjects: 0,\r\n          activeProjects: 0\r\n        };\r\n\r\n        console.log('Consolidated analytics data:', consolidatedData);\r\n        setAnalyticsData(consolidatedData);\r\n        setVisitAnalytics(analyticsResult.data);\r\n        setLastRefresh(new Date());\r\n      } else {\r\n        throw new Error('Invalid analytics response format');\r\n      }\r\n      \r\n    } catch (err) {\r\n      console.error('Analytics fetch error:', err);\r\n      setError(`Failed to load analytics: ${err.message}`);\r\n      \r\n      // Set fallback data to prevent UI breaking\r\n      setAnalyticsData({\r\n        todayViews: 0,\r\n        lifetimeViews: 0,\r\n        uniqueVisitors: 0,\r\n        newVisitors: 0,\r\n        returningVisitors: 0,\r\n        activeUsers: 0,\r\n        newUsersToday: 0,\r\n        avgSessionTime: '0m 0s',\r\n        topCountry: 'Unknown',\r\n        totalSubscribers: 0,\r\n        totalContent: 0,\r\n        publishedToday: 0,\r\n        totalProjects: 0,\r\n        activeProjects: 0,\r\n        topCountries: [],\r\n        popularPages: [],\r\n        trafficSources: [],\r\n        dailyTrend: [],\r\n        browserStats: []\r\n      });\r\n    } finally {\r\n      setLoading(false);\r\n      isLoadingRef.current = false;\r\n    }\r\n  }, [API_BASE]); // Only depend on API_BASE\r\n\r\n  // Refresh analytics data\r\n  const handleRefresh = useCallback(() => {\r\n    fetchAnalytics();\r\n  }, [fetchAnalytics]);\r\n\r\n  // Function to check if user has access to a menu item\r\n  const hasAccess = (menuItem) => {\r\n    if (!user) return false;\r\n\r\n    if (!menuItem.requiredRole.includes(user.role)) {\r\n      return false;\r\n    }\r\n\r\n    if (user.role === 'admin') {\r\n      return true;\r\n    }\r\n\r\n    if (!menuItem.requiredPermission) {\r\n      return true;\r\n    }\r\n\r\n    if (user.role === 'Assistant Admin') {\r\n      return user.permissions && user.permissions.includes(menuItem.requiredPermission);\r\n    }\r\n\r\n    if (user.role === 'Content Manager') {\r\n      if (menuItem.id === 'manage_blogs') {\r\n        return true;\r\n      }\r\n      return false;\r\n    }\r\n\r\n    return false;\r\n  };\r\n\r\n  // Generate dynamic quick links based on user permissions\r\n  const getQuickLinks = () => {\r\n    if (!user) return [];\r\n\r\n    return ALL_MENU_ITEMS\r\n      .filter(hasAccess)\r\n      .filter(item => item.id !== 'overview' && item.id !== 'logout')\r\n      .sort((a, b) => a.order - b.order)\r\n      .map(item => ({\r\n        to: item.path,\r\n        label: item.text,\r\n        icon: item.icon\r\n      }));\r\n  };\r\n\r\n  const quickLinks = getQuickLinks();\r\n\r\n  // Get user greeting based on role\r\n  const getUserGreeting = () => {\r\n    if (!user) return 'Welcome';\r\n    \r\n    switch (user.role) {\r\n      case 'admin':\r\n        return `Welcome Admin ${user.name}`;\r\n      case 'Assistant Admin':\r\n        return `Welcome ${user.name}`;\r\n      case 'Content Manager':\r\n        return `Welcome ${user.name}`;\r\n      default:\r\n        return `Welcome ${user.name}`;\r\n    }\r\n  };\r\n\r\n  // Get description based on user role and permissions\r\n  const getUserDescription = () => {\r\n    if (!user) return 'Manage your platform from the dashboard.';\r\n    \r\n    switch (user.role) {\r\n      case 'admin':\r\n        return 'Full administrative access to manage your platform with enhanced analytics tracking.';\r\n      case 'Assistant Admin':\r\n        const permCount = user.permissions?.length || 0;\r\n        return `You have access to ${permCount} management ${permCount === 1 ? 'area' : 'areas'}.`;\r\n      case 'Content Manager':\r\n        return 'Manage content, blogs, and projects from your dashboard.';\r\n      default:\r\n        return 'Manage your platform from the dashboard.';\r\n    }\r\n  };\r\n\r\n  // Format session time properly\r\n  const formatSessionTime = (timeStr) => {\r\n    if (!timeStr || timeStr === '0m 0s') return '0m 0s';\r\n    return timeStr;\r\n  };\r\n\r\n  // Get role-specific analytics cards with enhanced visit tracking\r\n  const getAnalyticsCards = () => {\r\n    if (!analyticsData) return [];\r\n\r\n    const baseCards = [\r\n      {\r\n        title: \"Today's Views\",\r\n        value: analyticsData.todayViews.toLocaleString(),\r\n        subtitle: `of ${analyticsData.lifetimeViews.toLocaleString()} total views`,\r\n        icon: Eye,\r\n        gradient: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',\r\n        showProgress: true,\r\n        progressPercent: analyticsData.lifetimeViews > 0 \r\n          ? (analyticsData.todayViews / analyticsData.lifetimeViews * 100).toFixed(1)\r\n          : 0\r\n      },\r\n      {\r\n        title: \"Unique Visitors\",\r\n        value: analyticsData.uniqueVisitors.toString(),\r\n        subtitle: `${analyticsData.newVisitors} new, ${analyticsData.returningVisitors} returning`,\r\n        icon: Users,\r\n        gradient: 'linear-gradient(135deg, #f093fb 0%, #f5576c 100%)'\r\n      },\r\n      {\r\n        title: \"Avg Session\",\r\n        value: formatSessionTime(analyticsData.avgSessionTime),\r\n        subtitle: \"per user session\",\r\n        icon: Clock,\r\n        gradient: 'linear-gradient(135deg, #4facfe 0%, #00f2fe 100%)'\r\n      },\r\n      {\r\n        title: \"Top Location\",\r\n        value: analyticsData.topCountry,\r\n        subtitle: `${analyticsData.topCountries.length} countries total`,\r\n        icon: Globe,\r\n        gradient: 'linear-gradient(135deg, #fa709a 0%, #fee140 100%)'\r\n      }\r\n    ];\r\n\r\n    // Add role-specific cards\r\n    if (user?.role === 'admin') {\r\n      baseCards.push({\r\n        title: \"Newsletter\",\r\n        value: analyticsData.totalSubscribers.toString(),\r\n        subtitle: \"total subscribers\",\r\n        icon: TrendingUp,\r\n        gradient: 'linear-gradient(135deg, #a8edea 0%, #fed6e3 100%)'\r\n      });\r\n    }\r\n\r\n    if (user?.role === 'admin' || user?.role === 'Content Manager' || \r\n        (user?.role === 'Assistant Admin' && user?.permissions?.includes('manage_content'))) {\r\n      baseCards.push({\r\n        title: \"Content\",\r\n        value: analyticsData.totalContent.toString(),\r\n        subtitle: `+${analyticsData.publishedToday} published today`,\r\n        icon: Calendar,\r\n        gradient: 'linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%)'\r\n      });\r\n    }\r\n\r\n    return baseCards;\r\n  };\r\n\r\n  // Fixed useEffect - only run once when user changes\r\n  useEffect(() => {\r\n    let mounted = true;\r\n\r\n    const initializeAnalytics = async () => {\r\n      if (!user || !mounted) return;\r\n      \r\n      // Only fetch if we don't have data yet\r\n      if (!analyticsData && !isLoadingRef.current) {\r\n        fetchAnalytics();\r\n      }\r\n    };\r\n\r\n    initializeAnalytics();\r\n\r\n    // Listen for visit updates from header component\r\n    const handleVisitUpdate = (event) => {\r\n      if (event.detail && analyticsData && mounted) {\r\n        setAnalyticsData(prev => ({\r\n          ...prev,\r\n          todayViews: event.detail.dailyVisits || prev.todayViews,\r\n          lifetimeViews: event.detail.lifetimeVisits || prev.lifetimeViews\r\n        }));\r\n      }\r\n    };\r\n\r\n    window.addEventListener('visitRecorded', handleVisitUpdate);\r\n    \r\n    return () => {\r\n      mounted = false;\r\n      window.removeEventListener('visitRecorded', handleVisitUpdate);\r\n    };\r\n  }, [user]); // Only depend on user, not fetchAnalytics or analyticsData\r\n\r\n  const analyticsCards = getAnalyticsCards();\r\n\r\n  return (\r\n    <div style={{ padding: '24px', maxWidth: '1200px', margin: '0 auto' }}>\r\n      {/* Header */}\r\n      <div style={{ marginBottom: '32px' }}>\r\n        <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'flex-start', marginBottom: '8px' }}>\r\n          <h1 style={{ fontSize: '28px', fontWeight: 'bold', color: '#1f2937', margin: 0 }}>\r\n            {getUserGreeting()}\r\n          </h1>\r\n          <button\r\n            onClick={handleRefresh}\r\n            disabled={loading}\r\n            style={{\r\n              display: 'flex',\r\n              alignItems: 'center',\r\n              gap: '8px',\r\n              padding: '8px 16px',\r\n              backgroundColor: loading ? '#e5e7eb' : '#f3f4f6',\r\n              border: '1px solid #d1d5db',\r\n              borderRadius: '8px',\r\n              cursor: loading ? 'not-allowed' : 'pointer',\r\n              fontSize: '14px',\r\n              color: '#374151'\r\n            }}\r\n          >\r\n            <RefreshCw size={16} style={{ \r\n              animation: loading ? 'spin 1s linear infinite' : 'none'\r\n            }} />\r\n            Refresh\r\n          </button>\r\n        </div>\r\n        <p style={{ color: '#6b7280', fontSize: '16px', margin: 0 }}>\r\n          {getUserDescription()}\r\n        </p>\r\n        {lastRefresh && !loading && (\r\n          <p style={{ color: '#9ca3af', fontSize: '12px', margin: '4px 0 0 0' }}>\r\n            Last updated: {lastRefresh.toLocaleTimeString()}\r\n          </p>\r\n        )}\r\n      </div>\r\n\r\n      {/* Error Display */}\r\n      {error && (\r\n        <div style={{\r\n          backgroundColor: '#fef2f2',\r\n          border: '1px solid #fecaca',\r\n          borderRadius: '8px',\r\n          padding: '12px',\r\n          marginBottom: '24px',\r\n          color: '#dc2626'\r\n        }}>\r\n          {error}\r\n        </div>\r\n      )}\r\n\r\n      {/* Pinned Quick Links Section */}\r\n      {quickLinks.length > 0 && (\r\n        <div style={{ \r\n          position: 'sticky', \r\n          top: '0', \r\n          zIndex: 10, \r\n          backgroundColor: '#ffffff', \r\n          border: '1px solid #e5e7eb', \r\n          borderRadius: '12px', \r\n          marginBottom: '24px',\r\n          boxShadow: '0 1px 3px rgba(0, 0, 0, 0.1)'\r\n        }}>\r\n          <div \r\n            style={{ \r\n              padding: '16px 20px', \r\n              cursor: 'pointer', \r\n              display: 'flex', \r\n              justifyContent: 'space-between', \r\n              alignItems: 'center',\r\n              borderBottom: isQuickLinksExpanded ? '1px solid #e5e7eb' : 'none'\r\n            }}\r\n            onClick={() => setIsQuickLinksExpanded(!isQuickLinksExpanded)}\r\n          >\r\n            <h3 style={{ fontSize: '18px', fontWeight: '600', color: '#374151', margin: 0 }}>\r\n              Quick Links ({quickLinks.length} available)\r\n            </h3>\r\n            {isQuickLinksExpanded ? <ChevronUp size={20} /> : <ChevronDown size={20} />}\r\n          </div>\r\n          \r\n          {isQuickLinksExpanded && (\r\n            <div style={{ \r\n              padding: '16px 20px',\r\n              display: 'grid', \r\n              gridTemplateColumns: 'repeat(auto-fit, minmax(200px, 1fr))', \r\n              gap: '12px' \r\n            }}>\r\n              {quickLinks.map((link, index) => (\r\n                <button\r\n                  key={index}\r\n                  onClick={() => navigate(link.to)}\r\n                  style={linkStyle}\r\n                  onMouseEnter={(e) => {\r\n                    e.target.style.backgroundColor = '#e5e7eb';\r\n                    e.target.style.transform = 'translateY(-2px)';\r\n                  }}\r\n                  onMouseLeave={(e) => {\r\n                    e.target.style.backgroundColor = '#f9fafb';\r\n                    e.target.style.transform = 'translateY(0)';\r\n                  }}\r\n                >\r\n                  <div style={{ display: 'flex', alignItems: 'center', justifyContent: 'center', gap: '8px' }}>\r\n                    {link.icon && React.cloneElement(link.icon, { size: 16 })}\r\n                    <span>{link.label}</span>\r\n                  </div>\r\n                </button>\r\n              ))}\r\n            </div>\r\n          )}\r\n        </div>\r\n      )}\r\n\r\n      {/* No Access Message for users with limited permissions */}\r\n      {quickLinks.length === 0 && user && (\r\n        <div style={{\r\n          backgroundColor: '#fef3c7',\r\n          border: '1px solid #f59e0b',\r\n          borderRadius: '12px',\r\n          padding: '20px',\r\n          marginBottom: '24px',\r\n          textAlign: 'center'\r\n        }}>\r\n          <h3 style={{ fontSize: '16px', fontWeight: '600', color: '#92400e', margin: '0 0 8px 0' }}>\r\n            Limited Access\r\n          </h3>\r\n          <p style={{ color: '#92400e', fontSize: '14px', margin: 0 }}>\r\n            {user.role === 'Assistant Admin' \r\n              ? 'No additional permissions granted. Contact an administrator to request access to management areas.'\r\n              : 'Contact an administrator if you need access to additional features.'\r\n            }\r\n          </p>\r\n        </div>\r\n      )}\r\n\r\n      {/* Enhanced Analytics Dashboard */}\r\n      <div style={{ marginBottom: '32px' }}>\r\n        <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: '20px' }}>\r\n          <h2 style={{ fontSize: '24px', fontWeight: 'bold', color: '#1f2937', margin: 0 }}>\r\n            {user?.role === 'admin' ? 'Enhanced Platform Analytics' : 'Dashboard Overview'}\r\n          </h2>\r\n          {loading && (\r\n            <div style={{ color: '#6b7280', fontSize: '14px', display: 'flex', alignItems: 'center', gap: '8px' }}>\r\n              <Activity size={16} />\r\n              Loading analytics...\r\n            </div>\r\n          )}\r\n        </div>\r\n        \r\n        {/* Analytics Cards */}\r\n        {analyticsData && (\r\n          <div style={{ \r\n            display: 'grid', \r\n            gridTemplateColumns: 'repeat(auto-fit, minmax(280px, 1fr))', \r\n            gap: '20px',\r\n            marginBottom: '24px'\r\n          }}>\r\n            {analyticsCards.map((card, index) => (\r\n              <div \r\n                key={index}\r\n                style={{\r\n                  background: card.gradient,\r\n                  padding: '24px',\r\n                  borderRadius: '16px',\r\n                  color: 'white',\r\n                  position: 'relative',\r\n                  overflow: 'hidden'\r\n                }}\r\n              >\r\n                <div style={{ position: 'relative', zIndex: 1 }}>\r\n                  <div style={{ display: 'flex', alignItems: 'center', marginBottom: '12px' }}>\r\n                    <card.icon size={24} style={{ marginRight: '8px' }} />\r\n                    <span style={{ fontSize: '14px', opacity: 0.9 }}>{card.title}</span>\r\n                  </div>\r\n                  <div style={{ fontSize: '32px', fontWeight: 'bold', marginBottom: '4px' }}>\r\n                    {card.value}\r\n                  </div>\r\n                  <div style={{ fontSize: '12px', opacity: 0.8 }}>\r\n                    {card.subtitle}\r\n                  </div>\r\n                  {card.showProgress && (\r\n                    <div style={{\r\n                      width: '100%',\r\n                      height: '4px',\r\n                      backgroundColor: 'rgba(255,255,255,0.2)',\r\n                      borderRadius: '2px',\r\n                      marginTop: '8px'\r\n                    }}>\r\n                      <div style={{\r\n                        width: `${Math.min(card.progressPercent, 100)}%`,\r\n                        height: '100%',\r\n                        backgroundColor: 'white',\r\n                        borderRadius: '2px',\r\n                        transition: 'width 0.3s ease'\r\n                      }} />\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        )}\r\n\r\n        {/* Enhanced Quick Stats Bar with Visit Analytics */}\r\n        {analyticsData && (\r\n          <div style={{\r\n            backgroundColor: '#f8fafc',\r\n            border: '1px solid #e2e8f0',\r\n            borderRadius: '12px',\r\n            padding: '20px',\r\n            display: 'flex',\r\n            justifyContent: 'space-around',\r\n            alignItems: 'center',\r\n            flexWrap: 'wrap',\r\n            gap: '16px',\r\n            marginBottom: '24px'\r\n          }}>\r\n            <div style={{ textAlign: 'center' }}>\r\n              <div style={{ fontSize: '20px', fontWeight: 'bold', color: '#1e293b' }}>\r\n                {analyticsData.lifetimeViews > 0 \r\n                  ? ((analyticsData.todayViews / analyticsData.lifetimeViews) * 100).toFixed(1)\r\n                  : '0.0'\r\n                }%\r\n              </div>\r\n              <div style={{ fontSize: '12px', color: '#64748b' }}>Today's Share</div>\r\n            </div>\r\n            <div style={{ width: '1px', height: '40px', backgroundColor: '#cbd5e1' }} />\r\n            <div style={{ textAlign: 'center' }}>\r\n              <div style={{ fontSize: '20px', fontWeight: 'bold', color: '#1e293b' }}>\r\n                {analyticsData.lifetimeViews > 0 \r\n                  ? Math.round(analyticsData.lifetimeViews / 365).toLocaleString()\r\n                  : '0'\r\n                }\r\n              </div>\r\n              <div style={{ fontSize: '12px', color: '#64748b' }}>Daily Average</div>\r\n            </div>\r\n            <div style={{ width: '1px', height: '40px', backgroundColor: '#cbd5e1' }} />\r\n            <div style={{ textAlign: 'center' }}>\r\n              <div style={{ fontSize: '20px', fontWeight: 'bold', color: '#1e293b' }}>\r\n                {analyticsData.topCountries.length}\r\n              </div>\r\n              <div style={{ fontSize: '12px', color: '#64748b' }}>Countries</div>\r\n            </div>\r\n            <div style={{ width: '1px', height: '40px', backgroundColor: '#cbd5e1' }} />\r\n            <div style={{ textAlign: 'center' }}>\r\n              <div style={{ fontSize: '20px', fontWeight: 'bold', color: '#1e293b' }}>\r\n                {analyticsData.uniqueVisitors.toLocaleString()}\r\n              </div>\r\n              <div style={{ fontSize: '12px', color: '#64748b' }}>Unique Visitors</div>\r\n            </div>\r\n            {user?.role === 'admin' && (\r\n              <>\r\n                <div style={{ width: '1px', height: '40px', backgroundColor: '#cbd5e1' }} />\r\n                <div style={{ textAlign: 'center' }}>\r\n                  <div style={{ fontSize: '20px', fontWeight: 'bold', color: '#1e293b' }}>\r\n                    {analyticsData.totalSubscribers.toLocaleString()}\r\n                  </div>\r\n                  <div style={{ fontSize: '12px', color: '#64748b' }}>Newsletter Subs</div>\r\n                </div>\r\n              </>\r\n            )}\r\n          </div>\r\n        )}\r\n\r\n        {/* Enhanced Visit Analytics for Admins */}\r\n        {user?.role === 'admin' && analyticsData && (\r\n          <div style={{ \r\n            display: 'grid', \r\n            gridTemplateColumns: 'repeat(auto-fit, minmax(300px, 1fr))', \r\n            gap: '20px',\r\n            marginBottom: '24px'\r\n          }}>\r\n            {/* Top Countries */}\r\n            {analyticsData.topCountries.length > 0 && (\r\n              <div style={{\r\n                backgroundColor: '#ffffff',\r\n                border: '1px solid #e5e7eb',\r\n                borderRadius: '12px',\r\n                padding: '20px'\r\n              }}>\r\n                <h3 style={{ fontSize: '16px', fontWeight: '600', color: '#374151', marginBottom: '16px', display: 'flex', alignItems: 'center', gap: '8px' }}>\r\n                  <MapPin size={16} />\r\n                  Top Countries\r\n                </h3>\r\n                <div style={{ display: 'flex', flexDirection: 'column', gap: '8px' }}>\r\n                  {analyticsData.topCountries.slice(0, 5).map((country, index) => (\r\n                    <div key={index} style={{ \r\n                      display: 'flex', \r\n                      justifyContent: 'space-between', \r\n                      alignItems: 'center',\r\n                      padding: '8px 0'\r\n                    }}>\r\n                      <span style={{ fontSize: '14px', color: '#374151' }}>{country.country}</span>\r\n                      <span style={{ fontSize: '14px', fontWeight: '600', color: '#1e293b' }}>\r\n                        {country.count}\r\n                      </span>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              </div>\r\n            )}\r\n\r\n            {/* Popular Pages */}\r\n            {analyticsData.popularPages.length > 0 && (\r\n              <div style={{\r\n                backgroundColor: '#ffffff',\r\n                border: '1px solid #e5e7eb',\r\n                borderRadius: '12px',\r\n                padding: '20px'\r\n              }}>\r\n                <h3 style={{ fontSize: '16px', fontWeight: '600', color: '#374151', marginBottom: '16px' }}>\r\n                  Popular Pages\r\n                </h3>\r\n                <div style={{ display: 'flex', flexDirection: 'column', gap: '8px' }}>\r\n                  {analyticsData.popularPages.slice(0, 5).map((page, index) => (\r\n                    <div key={index} style={{ \r\n                      display: 'flex', \r\n                      justifyContent: 'space-between', \r\n                      alignItems: 'center',\r\n                      padding: '8px 0'\r\n                    }}>\r\n                      <span style={{ fontSize: '14px', color: '#374151', overflow: 'hidden', textOverflow: 'ellipsis', whiteSpace: 'nowrap', maxWidth: '200px' }}>\r\n                        {page.page_url}\r\n                      </span>\r\n                      <span style={{ fontSize: '14px', fontWeight: '600', color: '#1e293b' }}>\r\n                        {page.visits}\r\n                      </span>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              </div>\r\n            )}\r\n          </div>\r\n        )}\r\n\r\n        {/* Loading State */}\r\n        {loading && !analyticsData && (\r\n          <div style={{\r\n            display: 'flex',\r\n            justifyContent: 'center',\r\n            alignItems: 'center',\r\n            height: '200px',\r\n            backgroundColor: '#f9fafb',\r\n            borderRadius: '12px',\r\n            border: '1px solid #e5e7eb'\r\n          }}>\r\n            <div style={{ textAlign: 'center' }}>\r\n              <div style={{\r\n                width: '40px',\r\n                height: '40px',\r\n                border: '4px solid #e5e7eb',\r\n                borderTop: '4px solid #3b82f6',\r\n                borderRadius: '50%',\r\n                animation: 'spin 1s linear infinite',\r\n                margin: '0 auto 16px'\r\n              }} />\r\n              <p style={{ color: '#6b7280', margin: 0 }}>Loading enhanced analytics data...</p>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {/* Role-specific insights */}\r\n      {user?.role === 'Assistant Admin' && user.permissions && (\r\n        <div style={{\r\n          backgroundColor: '#ffffff',\r\n          border: '1px solid #e5e7eb',\r\n          borderRadius: '12px',\r\n          padding: '20px',\r\n          marginBottom: '24px'\r\n        }}>\r\n          <h3 style={{ fontSize: '18px', fontWeight: '600', color: '#374151', marginBottom: '16px' }}>\r\n            Your Permissions\r\n          </h3>\r\n          <div style={{ \r\n            display: 'grid', \r\n            gridTemplateColumns: 'repeat(auto-fit, minmax(250px, 1fr))', \r\n            gap: '12px' \r\n          }}>\r\n            {user.permissions.map((permission, index) => {\r\n              const menuItem = ALL_MENU_ITEMS.find(item => item.requiredPermission === permission);\r\n              return (\r\n                <div\r\n                  key={index}\r\n                  style={{\r\n                    padding: '12px 16px',\r\n                    backgroundColor: '#f0f9ff',\r\n                    border: '1px solid #0ea5e9',\r\n                    borderRadius: '8px',\r\n                    display: 'flex',\r\n                    alignItems: 'center',\r\n                    gap: '8px'\r\n                  }}\r\n                >\r\n                  {menuItem?.icon && React.cloneElement(menuItem.icon, { size: 16, color: '#0ea5e9' })}\r\n                  <span style={{ fontSize: '14px', color: '#0c4a6e', fontWeight: '500' }}>\r\n                    {menuItem?.text || permission.replace('_', ' ').replace(/\\b\\w/g, l => l.toUpperCase())}\r\n                  </span>\r\n                </div>\r\n              );\r\n            })}\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Enhanced Platform Summary for Admins */}\r\n      {user?.role === 'admin' && analyticsData && (\r\n        <div style={{\r\n          backgroundColor: '#ffffff',\r\n          border: '1px solid #e5e7eb',\r\n          borderRadius: '12px',\r\n          padding: '20px',\r\n          marginBottom: '24px'\r\n        }}>\r\n          <h3 style={{ fontSize: '18px', fontWeight: '600', color: '#374151', marginBottom: '16px' }}>\r\n            Enhanced Platform Summary\r\n          </h3>\r\n          <div style={{ \r\n            display: 'grid', \r\n            gridTemplateColumns: 'repeat(auto-fit, minmax(200px, 1fr))', \r\n            gap: '16px' \r\n          }}>\r\n            <div style={{ textAlign: 'center', padding: '16px', backgroundColor: '#f8fafc', borderRadius: '8px' }}>\r\n              <div style={{ fontSize: '24px', fontWeight: 'bold', color: '#1e293b' }}>\r\n                {analyticsData.totalProjects}\r\n              </div>\r\n              <div style={{ fontSize: '14px', color: '#64748b' }}>Total Projects</div>\r\n              <div style={{ fontSize: '12px', color: '#10b981', marginTop: '4px' }}>\r\n                {analyticsData.activeProjects} active\r\n              </div>\r\n            </div>\r\n            <div style={{ textAlign: 'center', padding: '16px', backgroundColor: '#f8fafc', borderRadius: '8px' }}>\r\n              <div style={{ fontSize: '24px', fontWeight: 'bold', color: '#1e293b' }}>\r\n                {analyticsData.totalContent}\r\n              </div>\r\n              <div style={{ fontSize: '14px', color: '#64748b' }}>Total Content</div>\r\n              <div style={{ fontSize: '12px', color: '#10b981', marginTop: '4px' }}>\r\n                +{analyticsData.publishedToday} today\r\n              </div>\r\n            </div>\r\n            <div style={{ textAlign: 'center', padding: '16px', backgroundColor: '#f8fafc', borderRadius: '8px' }}>\r\n              <div style={{ fontSize: '24px', fontWeight: 'bold', color: '#1e293b' }}>\r\n                {analyticsData.newVisitors}\r\n              </div>\r\n              <div style={{ fontSize: '14px', color: '#64748b' }}>New Visitors</div>\r\n              <div style={{ fontSize: '12px', color: '#3b82f6', marginTop: '4px' }}>\r\n                vs {analyticsData.returningVisitors} returning\r\n              </div>\r\n            </div>\r\n            <div style={{ textAlign: 'center', padding: '16px', backgroundColor: '#f8fafc', borderRadius: '8px' }}>\r\n              <div style={{ fontSize: '24px', fontWeight: 'bold', color: '#1e293b' }}>\r\n                {analyticsData.trafficSources.length}\r\n              </div>\r\n              <div style={{ fontSize: '14px', color: '#64748b' }}>Traffic Sources</div>\r\n              <div style={{ fontSize: '12px', color: '#8b5cf6', marginTop: '4px' }}>\r\n                tracked channels\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Visit Counter Integration */}\r\n      <div style={{\r\n        backgroundColor: '#ffffff',\r\n        border: '1px solid #e5e7eb',\r\n        borderRadius: '12px',\r\n        padding: '20px',\r\n        textAlign: 'center'\r\n      }}>\r\n        <h3 style={{ fontSize: '18px', fontWeight: '600', color: '#374151', marginBottom: '16px' }}>\r\n          Real-time Visit Tracking\r\n        </h3>\r\n        {analyticsData ? (\r\n          <div style={{ \r\n            display: 'grid',\r\n            gridTemplateColumns: 'repeat(auto-fit, minmax(150px, 1fr))',\r\n            gap: '16px',\r\n            marginTop: '16px'\r\n          }}>\r\n            <div style={{ \r\n              padding: '12px', \r\n              backgroundColor: '#ecfdf5', \r\n              borderRadius: '8px',\r\n              border: '1px solid #10b981'\r\n            }}>\r\n              <div style={{ fontSize: '20px', fontWeight: 'bold', color: '#065f46' }}>\r\n                {analyticsData.todayViews}\r\n              </div>\r\n              <div style={{ fontSize: '12px', color: '#047857' }}>Views Today</div>\r\n            </div>\r\n            <div style={{ \r\n              padding: '12px', \r\n              backgroundColor: '#eff6ff', \r\n              borderRadius: '8px',\r\n              border: '1px solid #3b82f6'\r\n            }}>\r\n              <div style={{ fontSize: '20px', fontWeight: 'bold', color: '#1e40af' }}>\r\n                {analyticsData.lifetimeViews}\r\n              </div>\r\n              <div style={{ fontSize: '12px', color: '#1d4ed8' }}>Total Views</div>\r\n            </div>\r\n            <div style={{ \r\n              padding: '12px', \r\n              backgroundColor: '#fef3c7', \r\n              borderRadius: '8px',\r\n              border: '1px solid #f59e0b'\r\n            }}>\r\n              <div style={{ fontSize: '20px', fontWeight: 'bold', color: '#92400e' }}>\r\n                {analyticsData.uniqueVisitors}\r\n              </div>\r\n              <div style={{ fontSize: '12px', color: '#b45309' }}>Unique Visitors</div>\r\n            </div>\r\n            <div style={{ \r\n              padding: '12px', \r\n              backgroundColor: '#f3e8ff', \r\n              borderRadius: '8px',\r\n              border: '1px solid #8b5cf6'\r\n            }}>\r\n              <div style={{ fontSize: '20px', fontWeight: 'bold', color: '#6b21a8' }}>\r\n                {formatSessionTime(analyticsData.avgSessionTime)}\r\n              </div>\r\n              <div style={{ fontSize: '12px', color: '#7c3aed' }}>Avg Session</div>\r\n            </div>\r\n          </div>\r\n        ) : (\r\n          <div style={{ color: '#6b7280', fontSize: '14px' }}>\r\n            Enhanced visit tracking is loading...\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {/* Debug info for development */}\r\n      {process.env.NODE_ENV === 'development' && user && (\r\n        <div style={{\r\n          marginTop: '24px',\r\n          padding: '16px',\r\n          backgroundColor: '#f1f5f9',\r\n          border: '1px solid #cbd5e1',\r\n          borderRadius: '8px',\r\n          fontSize: '12px',\r\n          color: '#475569'\r\n        }}>\r\n          <strong>Debug Info:</strong><br />\r\n          Role: {user.role}<br />\r\n          Permissions: {user.permissions?.length || 0}<br />\r\n          Available Quick Links: {quickLinks.length}<br />\r\n          {user.permissions && (\r\n            <>Granted Permissions: {user.permissions.join(', ')}<br /></>\r\n          )}\r\n          Analytics Data Status: {analyticsData ? 'Loaded' : 'Not loaded'}<br />\r\n          Visit Analytics: {visitAnalytics ? 'Available' : 'Not available'}<br />\r\n          Last Refresh: {lastRefresh.toLocaleString()}<br />\r\n          Enhanced Tracking: {analyticsData?.uniqueVisitors ? 'Active' : 'Inactive'}<br />\r\n          Loading Ref: {isLoadingRef.current ? 'True' : 'False'}\r\n        </div>\r\n      )}\r\n\r\n      {/* CSS for animations */}\r\n      <style>{`\r\n        @keyframes spin {\r\n          0% { transform: rotate(0deg); }\r\n          100% { transform: rotate(360deg); }\r\n        }\r\n      `}</style>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst linkStyle = {\r\n  display: 'block',\r\n  padding: '12px 16px',\r\n  textAlign: 'center',\r\n  backgroundColor: '#f9fafb',\r\n  borderRadius: '8px',\r\n  border: '1px solid #e5e7eb',\r\n  transition: 'all 0.2s ease',\r\n  fontSize: '14px',\r\n  cursor: 'pointer',\r\n  width: '100%'\r\n};\r\n\r\nexport default DashboardOverview;","import React, { useEffect, useState, useRef } from 'react';\r\nimport {\r\n  Box, Typography, Table, TableHead, TableRow, TableCell,\r\n  TableBody, IconButton, Switch, Snackbar, Alert,\r\n  CircularProgress, Paper, TableContainer, Button, Dialog,\r\n  DialogTitle, DialogContent, DialogActions, TextField, FormControl,\r\n  InputLabel, Select, MenuItem, Checkbox, FormControlLabel,\r\n  Chip, Grid, Autocomplete\r\n} from '@mui/material';\r\nimport DeleteIcon from '@mui/icons-material/Delete';\r\nimport EditIcon from '@mui/icons-material/Edit';\r\nimport AddIcon from '@mui/icons-material/Add';\r\nimport PhotoIcon from '@mui/icons-material/Photo';\r\nimport PersonIcon from '@mui/icons-material/Person';\r\nimport AdminPanelSettingsIcon from '@mui/icons-material/AdminPanelSettings';\r\nimport EditNoteIcon from '@mui/icons-material/EditNote';\r\nimport VisibilityIcon from '@mui/icons-material/Visibility';\r\nimport ManageAccountsIcon from '@mui/icons-material/ManageAccounts';\r\nimport PublicIcon from '@mui/icons-material/Public';\r\nimport LocationOnIcon from '@mui/icons-material/LocationOn';\r\n\r\n// Configuration\r\nconst API_URL = process.env.REACT_APP_API_URL || 'http://localhost:5000/api';\r\nconst STATIC_URL = process.env.REACT_APP_STATIC_URL || 'http://localhost:5000';\r\nconst API_BASE = API_URL;\r\n\r\nconst ManageBlogs = () => {\r\n  const [blogs, setBlogs] = useState([]);\r\n  const [countries, setCountries] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [snackbar, setSnackbar] = useState({ open: false, message: '', severity: 'success' });\r\n  const [openDialog, setOpenDialog] = useState(false);\r\n  const [openNewsDialog, setOpenNewsDialog] = useState(false);\r\n  const [newsDialogBlog, setNewsDialogBlog] = useState(null);\r\n  const [editMode, setEditMode] = useState(false);\r\n  const [currentBlogId, setCurrentBlogId] = useState(null);\r\n  const [submitting, setSubmitting] = useState(false);\r\n  const [imagePreview, setImagePreview] = useState(null);\r\n  const [existingImageUrl, setExistingImageUrl] = useState(null);\r\n  const [refreshInterval, setRefreshInterval] = useState(null);\r\n  const [updating, setUpdating] = useState({}); \r\n  const [originalData, setOriginalData] = useState({});\r\n  const [ChangedFields, setChangedFields] = useState([]);\r\n  const [newsConfig, setNewsConfig] = useState({\r\n    news_type: 'general',\r\n    target_countries: []\r\n  });\r\n  const [form, setForm] = useState({\r\n    title: '',\r\n    excerpt: '',\r\n    content: '',\r\n    featured_image: null,\r\n    is_featured: false,\r\n    is_news: false,\r\n    news_type: 'general',\r\n    target_countries: [],\r\n    status: 'draft',\r\n    approved: false,\r\n    meta_title: '',\r\n    meta_description: '',\r\n    tags: []\r\n  });\r\n  const [errors, setErrors] = useState({});\r\n\r\n  // Add refs to track real-time form values\r\n  const titleRef = useRef('');\r\n  const contentRef = useRef('');\r\n  const excerptRef = useRef('');\r\n  const metaTitleRef = useRef('');\r\n  const metaDescriptionRef = useRef('');\r\n\r\n  const getImageUrl = (filename) => {\r\n    if (!filename) return '/placeholder.jpg';\r\n    \r\n    let cleanFilename = filename;\r\n    cleanFilename = cleanFilename.replace(/^\\/+/, '');\r\n    cleanFilename = cleanFilename.replace(/^uploads\\//, '');\r\n    cleanFilename = cleanFilename.replace(/^blogs\\//, '');\r\n    \r\n    const fullUrl = `${STATIC_URL}/uploads/blogs/${cleanFilename}`;\r\n    console.log('Image URL constructed:', { filename, cleanFilename, fullUrl });\r\n    return fullUrl;\r\n  };\r\n\r\n  const getAuthorDisplay = (blog) => {\r\n    let authorName = 'Unknown Author';\r\n    let authorId = null;\r\n    let isCurrentUser = false;\r\n    let authorRole = 'user';\r\n    \r\n    if (blog.author_name && blog.author_name.trim() !== '') {\r\n      authorName = blog.author_name;\r\n    } else if (blog.authorName && blog.authorName.trim() !== '') {\r\n      authorName = blog.authorName;\r\n    } else if (blog.author?.name && blog.author.name.trim() !== '') {\r\n      authorName = blog.author.name;\r\n      authorRole = blog.author.role || 'user';\r\n    } else if (blog.user?.name && blog.user.name.trim() !== '') {\r\n      authorName = blog.user.name;\r\n      authorRole = blog.user.role || 'user';\r\n    } else if (blog.creator?.name && blog.creator.name.trim() !== '') {\r\n      authorName = blog.creator.name;\r\n      authorRole = blog.creator.role || 'user';\r\n    } else if (blog.author_id) {\r\n      authorId = blog.author_id;\r\n      const userIdMap = {\r\n        1: { name: 'ACEF Admin', role: 'admin' },\r\n        2: { name: 'Content Manager', role: 'Content Manager' },\r\n        3: { name: 'Assistant Admin', role: 'Assistant Admin' }\r\n      };\r\n      const userData = userIdMap[blog.author_id];\r\n      if (userData) {\r\n        authorName = userData.name;\r\n        authorRole = userData.role;\r\n      } else {\r\n        authorName = `User #${blog.author_id}`;\r\n      }\r\n    }\r\n    \r\n    return {\r\n      name: authorName,\r\n      id: authorId || blog.author_id,\r\n      isCurrentUser,\r\n      role: authorRole\r\n    };\r\n  };\r\n\r\n  const getRoleIcon = (role) => {\r\n    switch (role) {\r\n      case 'admin':\r\n        return <AdminPanelSettingsIcon sx={{ fontSize: 16, color: '#ff5722' }} />;\r\n      case 'Content Manager':\r\n        return <EditNoteIcon sx={{ fontSize: 16, color: '#2196f3' }} />;\r\n      case 'Assistant Admin':\r\n        return <ManageAccountsIcon sx={{ fontSize: 16, color: '#9c27b0' }} />;\r\n      default:\r\n        return <PersonIcon sx={{ fontSize: 16, color: '#757575' }} />;\r\n    }\r\n  };\r\n\r\n  const getNewsTypeDisplay = (blog) => {\r\n    if (!blog.is_news) return null;\r\n    \r\n    if (blog.news_type === 'general') {\r\n      return (\r\n        <Chip\r\n          icon={<PublicIcon sx={{ fontSize: 14 }} />}\r\n          label=\"General News\"\r\n          size=\"small\"\r\n          color=\"primary\"\r\n          variant=\"outlined\"\r\n        />\r\n      );\r\n    } else if (blog.news_type === 'country_specific') {\r\n      const targetCountries = blog.target_countries ? \r\n        (typeof blog.target_countries === 'string' ? \r\n          JSON.parse(blog.target_countries) : blog.target_countries) : [];\r\n      \r\n      const countryNames = targetCountries.map(code => {\r\n        const country = countries.find(c => c.code === code || c.name === code);\r\n        return country ? country.name : code;\r\n      }).join(', ');\r\n\r\n      return (\r\n        <Chip\r\n          icon={<LocationOnIcon sx={{ fontSize: 14 }} />}\r\n          label={`Country: ${countryNames || 'None'}`}\r\n          size=\"small\"\r\n          color=\"secondary\"\r\n          variant=\"outlined\"\r\n        />\r\n      );\r\n    }\r\n    \r\n    return null;\r\n  };\r\n\r\n  const showSnackbar = (message, severity = 'success') => {\r\n    setSnackbar({ open: true, message, severity });\r\n  };\r\n\r\n  const apiCall = async (method, endpoint, data = null, options = {}) => {\r\n    try {\r\n      console.log('API Call:', method, endpoint);\r\n      console.log('Data being sent:', data, 'Type:', typeof data, 'Is FormData:', data instanceof FormData);\r\n      \r\n      const config = {\r\n        method,\r\n        credentials: 'include',\r\n        ...options\r\n      };\r\n\r\n      if (data) {\r\n        if (data instanceof FormData) {\r\n          // For FormData, don't set Content-Type header - let browser set it with boundary\r\n          config.body = data;\r\n          console.log('Sending FormData');\r\n        } else {\r\n          // For JSON data\r\n          config.headers = {\r\n            'Content-Type': 'application/json',\r\n            ...config.headers\r\n          };\r\n          config.body = JSON.stringify(data);\r\n          console.log('Sending JSON:', JSON.stringify(data));\r\n        }\r\n      }\r\n\r\n      const response = await fetch(`${API_BASE}${endpoint}`, config);\r\n      \r\n      if (!response.ok) {\r\n        const errorText = await response.text();\r\n        console.error('Response error text:', errorText);\r\n        let errorMessage;\r\n        try {\r\n          const errorJson = JSON.parse(errorText);\r\n          errorMessage = errorJson.message || errorJson.error || `HTTP ${response.status}: ${response.statusText}`;\r\n        } catch {\r\n          errorMessage = errorText || `HTTP ${response.status}: ${response.statusText}`;\r\n        }\r\n        throw new Error(errorMessage);\r\n      }\r\n      \r\n      const result = await response.json();\r\n      console.log('API Response success:', response.status, result);\r\n      \r\n      return result;\r\n    } catch (error) {\r\n      console.error('API Error:', {\r\n        method,\r\n        endpoint,\r\n        message: error.message,\r\n        stack: error.stack\r\n      });\r\n\r\n      throw new Error(error.message || 'An error occurred');\r\n    }\r\n  };\r\n\r\n  const fetchCountries = async () => {\r\n    try {\r\n      const response = await fetch(`${API_BASE}/countries`, {\r\n        credentials: 'include'\r\n      });\r\n      \r\n      if (!response.ok) {\r\n        throw new Error('Failed to fetch countries');\r\n      }\r\n      \r\n      const data = await response.json();\r\n      \r\n      if (Array.isArray(data)) {\r\n        const sortedCountries = data.sort((a, b) => a.name.localeCompare(b.name));\r\n        setCountries(sortedCountries);\r\n        console.log('Countries loaded:', sortedCountries.length);\r\n      } else {\r\n        console.warn('Countries response is not an array:', data);\r\n        setCountries([]);\r\n      }\r\n    } catch (error) {\r\n      console.error('Failed to fetch countries:', error);\r\n      setCountries([]);\r\n    }\r\n  };\r\n\r\n  const resetForm = () => {\r\n    setForm({\r\n      title: '',\r\n      excerpt: '',\r\n      content: '',\r\n      featured_image: null,\r\n      is_featured: false,\r\n      is_news: false,\r\n      news_type: 'general',\r\n      target_countries: [],\r\n      status: 'draft',\r\n      approved: false,\r\n      meta_title: '',\r\n      meta_description: '',\r\n      tags: []\r\n    });\r\n    \r\n    // Reset refs too\r\n    titleRef.current = '';\r\n    contentRef.current = '';\r\n    excerptRef.current = '';\r\n    metaTitleRef.current = '';\r\n    metaDescriptionRef.current = '';\r\n    \r\n    setErrors({});\r\n    setImagePreview(null);\r\n    setExistingImageUrl(null);\r\n    setEditMode(false);\r\n    setCurrentBlogId(null);\r\n    setOriginalData({});\r\n    setChangedFields([]);\r\n  };\r\n\r\n  const fetchBlogs = async (silent = false) => {\r\n    try {\r\n      if (!silent) setLoading(true);\r\n      \r\n      const response = await apiCall('GET', '/blogs/admin');\r\n      \r\n      const blogsWithAuthors = (response.data || []).map(blog => {\r\n        const authorInfo = getAuthorDisplay(blog);\r\n        \r\n        const normalizedBlog = {\r\n          ...blog,\r\n          author_name: authorInfo.name,\r\n          author_info: authorInfo,\r\n          views: blog.views || 0\r\n        };\r\n\r\n        if (normalizedBlog.status === 'published' && !normalizedBlog.approved) {\r\n          console.warn(`Blog ${blog.id}: Published but not approved - fixing to approved=true`);\r\n          normalizedBlog.approved = true;\r\n        } else if (normalizedBlog.status === 'draft' && normalizedBlog.approved) {\r\n          console.warn(`Blog ${blog.id}: Draft but approved - fixing to approved=false`);\r\n          normalizedBlog.approved = false;\r\n        }\r\n        \r\n        return normalizedBlog;\r\n      });\r\n      \r\n      setBlogs(blogsWithAuthors);\r\n      if (!silent) {\r\n        console.log('Fetched blogs:', blogsWithAuthors.length);\r\n      }\r\n      \r\n    } catch (err) {\r\n      console.error('Failed to fetch blogs:', err);\r\n      if (!silent) {\r\n        showSnackbar(err.message || 'Error loading blogs', 'error');\r\n      }\r\n    } finally {\r\n      if (!silent) setLoading(false);\r\n    }\r\n  };\r\n\r\n  // Simple initialization - run once only\r\n  useEffect(() => {\r\n    console.log('Component initializing...');\r\n    \r\n    const init = async () => {\r\n      await Promise.all([\r\n        fetchBlogs(),\r\n        fetchCountries()\r\n      ]);\r\n    };\r\n    \r\n    init();\r\n    \r\n    return () => {\r\n      if (refreshInterval) {\r\n        clearInterval(refreshInterval);\r\n      }\r\n    };\r\n  }, []); // EMPTY array - run once only\r\n\r\n  // Handle auto-refresh interval\r\n  useEffect(() => {\r\n    if (!openDialog) {\r\n      const interval = setInterval(() => {\r\n        fetchBlogs(true);\r\n      }, 30000);\r\n      \r\n      setRefreshInterval(interval);\r\n      \r\n      return () => clearInterval(interval);\r\n    } else if (refreshInterval) {\r\n      clearInterval(refreshInterval);\r\n      setRefreshInterval(null);\r\n    }\r\n  }, [openDialog]);\r\n\r\n  const handleNewsToggle = async (blogId, currentValue) => {\r\n    if (currentValue) {\r\n      // Turning OFF news - directly update to regular post\r\n      await updateBlogField(blogId, {\r\n        is_news: false,\r\n        news_type: 'general',\r\n        target_countries: []\r\n      });\r\n    } else {\r\n      // Turning ON news - open modal for configuration\r\n      const blog = blogs.find(b => b.id === blogId);\r\n      setNewsDialogBlog(blog);\r\n      setNewsConfig({\r\n        news_type: 'general',\r\n        target_countries: []\r\n      });\r\n      setOpenNewsDialog(true);\r\n    }\r\n  };\r\n\r\n  const handleNewsConfigSave = async () => {\r\n    if (!newsDialogBlog) return;\r\n\r\n    const updateData = {\r\n      is_news: true,\r\n      news_type: newsConfig.news_type,\r\n      target_countries: newsConfig.news_type === 'country_specific' ? newsConfig.target_countries : []\r\n    };\r\n\r\n    await updateBlogField(newsDialogBlog.id, updateData);\r\n    setOpenNewsDialog(false);\r\n    setNewsDialogBlog(null);\r\n  };\r\n\r\n  const updateBlogField = async (id, updateData) => {\r\n    const fields = Object.keys(updateData);\r\n    const updateKey = `${id}-${fields.join('-')}`;\r\n    \r\n    if (updating[updateKey]) {\r\n      console.log(`Update already in progress for blog ${id}`);\r\n      return;\r\n    }\r\n\r\n    setUpdating(prev => ({ ...prev, [updateKey]: true }));\r\n\r\n    try {\r\n      console.log(`Updating blog ${id} with data:`, updateData);\r\n\r\n      // Optimistic update\r\n      setBlogs(prev => prev.map(b => (\r\n        b.id === id ? { ...b, ...updateData } : b\r\n      )));\r\n      \r\n      const response = await apiCall('PUT', `/blogs/${id}`, updateData);\r\n      \r\n      // Determine success message\r\n      let message = 'Blog updated successfully';\r\n      if ('is_news' in updateData) {\r\n        message = updateData.is_news ? 'Blog converted to news post' : 'Blog converted to regular post';\r\n      } else if ('approved' in updateData) {\r\n        message = updateData.approved ? 'Blog approved and published' : 'Blog disapproved and moved to draft';\r\n      } else if ('is_featured' in updateData) {\r\n        message = updateData.is_featured ? 'Blog featured' : 'Blog unfeatured';\r\n      }\r\n      \r\n      showSnackbar(message);\r\n      \r\n      // Refresh after delay to get updated data\r\n      setTimeout(() => {\r\n        fetchBlogs(true);\r\n      }, 1500);\r\n      \r\n    } catch (err) {\r\n      console.error(`Failed to update blog ${id}:`, err);\r\n      showSnackbar(err.message || 'Failed to update blog', 'error');\r\n      // Revert optimistic update on error\r\n      fetchBlogs(true);\r\n    } finally {\r\n      setUpdating(prev => {\r\n        const newState = { ...prev };\r\n        delete newState[updateKey];\r\n        return newState;\r\n      });\r\n    }\r\n  };\r\n\r\n  const updateField = async (id, field, value) => {\r\n    // Handle news toggle specially\r\n    if (field === 'is_news') {\r\n      return handleNewsToggle(id, value);\r\n    }\r\n    \r\n    // For other fields, use the regular update\r\n    await updateBlogField(id, { [field]: value });\r\n  };\r\n\r\n  const handleDelete = async (id) => {\r\n    const blogToDelete = blogs.find(b => b.id === id);\r\n    \r\n    if (!window.confirm(`Are you sure you want to delete \"${blogToDelete?.title}\"? This action cannot be undone.`)) return;\r\n\r\n    try {\r\n      await apiCall('DELETE', `/blogs/${id}`);\r\n      setBlogs(prev => prev.filter(b => b.id !== id));\r\n      showSnackbar('Blog deleted successfully');\r\n    } catch (err) {\r\n      console.error('Failed to delete blog:', err);\r\n      showSnackbar(err.message || 'Failed to delete blog', 'error');\r\n    }\r\n  };\r\n\r\n  const handleEdit = async (id) => {\r\n    try {\r\n      const response = await apiCall('GET', `/blogs/${id}`);\r\n      const blog = response.data;\r\n      \r\n      let status = blog.status || 'draft';\r\n      let approved = blog.approved || false;\r\n      \r\n      if (status === 'published' && !approved) {\r\n        console.warn('Fixing inconsistent state: published but not approved');\r\n        approved = true;\r\n      } else if (status === 'draft' && approved) {\r\n        console.warn('Fixing inconsistent state: draft but approved');\r\n        approved = false;\r\n      }\r\n\r\n      // Parse target_countries\r\n      let targetCountries = [];\r\n      if (blog.target_countries) {\r\n        try {\r\n          targetCountries = typeof blog.target_countries === 'string' \r\n            ? JSON.parse(blog.target_countries) \r\n            : blog.target_countries;\r\n          if (!Array.isArray(targetCountries)) {\r\n            targetCountries = [];\r\n          }\r\n        } catch (error) {\r\n          console.error('Error parsing target_countries:', error);\r\n          targetCountries = [];\r\n        }\r\n      }\r\n      \r\n      const formData = {\r\n        title: blog.title || '',\r\n        excerpt: blog.excerpt || '',\r\n        content: blog.content || '',\r\n        featured_image: null,\r\n        is_featured: blog.is_featured || false,\r\n        is_news: blog.is_news || false,\r\n        news_type: blog.news_type || 'general',\r\n        target_countries: targetCountries,\r\n        status: status,\r\n        approved: approved,\r\n        meta_title: blog.meta_title || '',\r\n        meta_description: blog.meta_description || '',\r\n        tags: blog.tags ? (typeof blog.tags === 'string' ? JSON.parse(blog.tags) : blog.tags) : []\r\n      };\r\n\r\n      setForm(formData);\r\n      \r\n      // Update refs with loaded data\r\n      titleRef.current = formData.title;\r\n      contentRef.current = formData.content;\r\n      excerptRef.current = formData.excerpt;\r\n      metaTitleRef.current = formData.meta_title;\r\n      metaDescriptionRef.current = formData.meta_description;\r\n      \r\n      setOriginalData({...formData});\r\n      setChangedFields([]);\r\n      \r\n      if (blog.featured_image) {\r\n        const fullImageUrl = getImageUrl(blog.featured_image);\r\n        setImagePreview(fullImageUrl);\r\n        setExistingImageUrl(fullImageUrl);\r\n      } else {\r\n        setImagePreview(null);\r\n        setExistingImageUrl(null);\r\n      }\r\n      \r\n      setEditMode(true);\r\n      setCurrentBlogId(id);\r\n      setOpenDialog(true);\r\n    } catch (err) {\r\n      console.error('Failed to fetch blog for editing:', err);\r\n      showSnackbar(err.message || 'Failed to load blog for editing', 'error');\r\n    }\r\n  };\r\n\r\n  const handleFormChange = (field, value) => {\r\n    console.log(`Updating ${field} to:`, value);\r\n    \r\n    // Update refs immediately for validation\r\n    switch(field) {\r\n      case 'title':\r\n        titleRef.current = value;\r\n        break;\r\n      case 'content':\r\n        contentRef.current = value;\r\n        break;\r\n      case 'excerpt':\r\n        excerptRef.current = value;\r\n        break;\r\n      case 'meta_title':\r\n        metaTitleRef.current = value;\r\n        break;\r\n      case 'meta_description':\r\n        metaDescriptionRef.current = value;\r\n        break;\r\n    }\r\n    \r\n    setForm(prev => {\r\n      const newForm = { ...prev, [field]: value };\r\n      console.log('New form state:', newForm);\r\n      \r\n      // Track changes for highlighting\r\n      if (editMode && originalData[field] !== undefined) {\r\n        const hasChanged = JSON.stringify(originalData[field]) !== JSON.stringify(value);\r\n        setChangedFields(prevFields => {\r\n          const updatedFields = prevFields.filter(f => f !== field);\r\n          if (hasChanged) {\r\n            updatedFields.push(field);\r\n          }\r\n          return updatedFields;\r\n        });\r\n      }\r\n      \r\n      // Auto-sync approved and status fields\r\n      if (field === 'approved') {\r\n        if (value) {\r\n          newForm.status = 'published';\r\n        } else {\r\n          newForm.status = 'draft';\r\n        }\r\n      }\r\n\r\n      // Reset target_countries when switching to general news\r\n      if (field === 'news_type' && value === 'general') {\r\n        newForm.target_countries = [];\r\n      }\r\n\r\n      // Reset news fields when switching off news\r\n      if (field === 'is_news' && !value) {\r\n        newForm.news_type = 'general';\r\n        newForm.target_countries = [];\r\n      }\r\n      \r\n      return newForm;\r\n    });\r\n    \r\n    // Clear error when user starts typing\r\n    if (errors[field]) {\r\n      setErrors(prev => ({ ...prev, [field]: '' }));\r\n    }\r\n  };\r\n\r\n  const handleImageChange = (file) => {\r\n    if (file) {\r\n      // Validate file type\r\n      if (!file.type.startsWith('image/')) {\r\n        showSnackbar('Please select a valid image file', 'error');\r\n        return;\r\n      }\r\n      \r\n      // Validate file size (5MB limit)\r\n      if (file.size > 5 * 1024 * 1024) {\r\n        showSnackbar('Image file must be less than 5MB', 'error');\r\n        return;\r\n      }\r\n      \r\n      handleFormChange('featured_image', file);\r\n      \r\n      // Create preview\r\n      const reader = new FileReader();\r\n      reader.onload = (e) => {\r\n        setImagePreview(e.target.result);\r\n        setExistingImageUrl(null);\r\n      };\r\n      reader.readAsDataURL(file);\r\n    }\r\n  };\r\n\r\n  const handleSubmit = async () => {\r\n    console.log(\"Starting form submission...\");\r\n\r\n    const title = (form.title || \"\").trim();\r\n    const content = (form.content || \"\").trim();\r\n    const excerpt = (form.excerpt || \"\").trim();\r\n    const metaTitle = (form.meta_title || \"\").trim();\r\n    const metaDescription = (form.meta_description || \"\").trim();\r\n\r\n    const newErrors = {};\r\n\r\n    if (!title || title.length < 3) {\r\n      newErrors.title = \"Title must be at least 3 characters\";\r\n    }\r\n\r\n    if (!content || content.length < 10) {\r\n      newErrors.content = \"Content must be at least 10 characters\";\r\n    }\r\n\r\n    if (excerpt && excerpt.length > 500) {\r\n      newErrors.excerpt = \"Excerpt must be less than 500 characters\";\r\n    }\r\n\r\n    if (metaTitle && metaTitle.length > 200) {\r\n      newErrors.meta_title = \"Meta title must be less than 200 characters\";\r\n    }\r\n\r\n    if (metaDescription && metaDescription.length > 300) {\r\n      newErrors.meta_description = \"Meta description must be less than 300 characters\";\r\n    }\r\n\r\n    // Validate news-specific fields\r\n    if (form.is_news && form.news_type === 'country_specific') {\r\n      if (!form.target_countries || form.target_countries.length === 0) {\r\n        newErrors.target_countries = \"Please select at least one country for country-specific news\";\r\n      }\r\n    }\r\n\r\n    if (Object.keys(newErrors).length > 0) {\r\n      setErrors(newErrors);\r\n      showSnackbar(\"Please fix the validation errors\", \"error\");\r\n      return;\r\n    }\r\n\r\n    setErrors({});\r\n    setSubmitting(true);\r\n\r\n    try {\r\n      const formData = new FormData();\r\n      formData.append(\"title\", title);\r\n      formData.append(\"content\", content);\r\n      formData.append(\"excerpt\", excerpt);\r\n      formData.append(\"meta_title\", metaTitle);\r\n      formData.append(\"meta_description\", metaDescription);\r\n      formData.append(\"is_featured\", form.is_featured || false);\r\n      formData.append(\"is_news\", form.is_news || false);\r\n      formData.append(\"news_type\", form.news_type || 'general');\r\n      formData.append(\"target_countries\", JSON.stringify(form.target_countries || []));\r\n      formData.append(\"status\", form.status || \"draft\");\r\n      formData.append(\"approved\", form.approved || false);\r\n      formData.append(\"tags\", JSON.stringify(form.tags || []));\r\n\r\n      if (form.featured_image) {\r\n        formData.append(\"featured_image\", form.featured_image);\r\n      }\r\n\r\n      let response;\r\n      if (editMode) {\r\n        response = await apiCall(\"PUT\", `/blogs/${currentBlogId}`, formData);\r\n        showSnackbar(response.message || \"Blog updated successfully\");\r\n      } else {\r\n        response = await apiCall(\"POST\", \"/blogs\", formData);\r\n        showSnackbar(response.message || \"Blog created successfully\");\r\n      }\r\n\r\n      setOpenDialog(false);\r\n      await fetchBlogs();\r\n      resetForm();\r\n    } catch (err) {\r\n      console.error(\"Failed to save blog:\", err);\r\n      showSnackbar(err.message || `Failed to ${editMode ? \"update\" : \"create\"} blog`, \"error\");\r\n    } finally {\r\n      setSubmitting(false);\r\n    }\r\n  };\r\n\r\n  const handleDialogClose = () => {\r\n    if (submitting) return;\r\n    setOpenDialog(false);\r\n    resetForm();\r\n  };\r\n\r\n  const formatDate = (dateString) => {\r\n    return new Date(dateString).toLocaleDateString('en-US', {\r\n      year: 'numeric',\r\n      month: 'short',\r\n      day: 'numeric'\r\n    });\r\n  };\r\n\r\n  const getStatusDisplay = (blog) => {\r\n    if (blog.status === 'published' && blog.approved) {\r\n      return { color: 'success', label: 'Published' };\r\n    } else if (blog.status === 'published' && !blog.approved) {\r\n      return { color: 'warning', label: 'Published (Not Approved)' };\r\n    } else if (blog.status === 'draft' && blog.approved) {\r\n      return { color: 'warning', label: 'Draft (Approved)' };\r\n    } else {\r\n      return { color: 'default', label: 'Draft' };\r\n    }\r\n  };\r\n\r\n  const formatViews = (views) => {\r\n    if (views >= 1000000) {\r\n      return `${(views / 1000000).toFixed(1)}M`;\r\n    } else if (views >= 1000) {\r\n      return `${(views / 1000).toFixed(1)}K`;\r\n    }\r\n    return views.toString();\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <Box sx={{ display: 'flex', justifyContent: 'center', alignItems: 'center', minHeight: 400 }}>\r\n        <CircularProgress />\r\n        <Typography sx={{ ml: 2 }}>Loading blogs...</Typography>\r\n      </Box>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Box sx={{ mt: 4, px: 2 }}>\r\n      <Box sx={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', mb: 3 }}>\r\n        <Box>\r\n          <Typography variant=\"h4\">\r\n            Manage Blog Posts\r\n          </Typography>\r\n          <Typography variant=\"body2\" color=\"text.secondary\">\r\n            Total: {blogs.length} blogs | Countries: {countries.length}\r\n          </Typography>\r\n        </Box>\r\n        <Box sx={{ display: 'flex', gap: 2, alignItems: 'center' }}>\r\n          <Button \r\n            variant=\"outlined\" \r\n            onClick={() => {\r\n              fetchBlogs();\r\n              fetchCountries();\r\n            }}\r\n            disabled={loading}\r\n            startIcon={loading ? <CircularProgress size={16} /> : undefined}\r\n          >\r\n            {loading ? 'Refreshing...' : 'Refresh'}\r\n          </Button>\r\n          <Button \r\n            startIcon={<AddIcon />} \r\n            variant=\"contained\" \r\n            onClick={() => setOpenDialog(true)}\r\n            size=\"large\"\r\n          >\r\n            Create New Blog\r\n          </Button>\r\n        </Box>\r\n      </Box>\r\n\r\n      <TableContainer component={Paper} elevation={2}>\r\n        <Table>\r\n          <TableHead>\r\n            <TableRow sx={{ backgroundColor: '#f8f9fa' }}>\r\n              <TableCell><strong>Title</strong></TableCell>\r\n              <TableCell><strong>Author</strong></TableCell>\r\n              <TableCell><strong>Status</strong></TableCell>\r\n              <TableCell><strong>Type</strong></TableCell>\r\n              <TableCell><strong>Views</strong></TableCell>\r\n              <TableCell><strong>Created</strong></TableCell>\r\n              <TableCell><strong>Featured</strong></TableCell>\r\n              <TableCell><strong>News</strong></TableCell>\r\n              <TableCell><strong>Approved</strong></TableCell>\r\n              <TableCell><strong>Actions</strong></TableCell>\r\n            </TableRow>\r\n          </TableHead>\r\n          <TableBody>\r\n            {blogs.length === 0 ? (\r\n              <TableRow>\r\n                <TableCell colSpan={10} sx={{ textAlign: 'center', py: 4 }}>\r\n                  <Typography variant=\"body1\" color=\"text.secondary\">\r\n                    No blogs found. Click \"Create New Blog\" to get started.\r\n                  </Typography>\r\n                </TableCell>\r\n              </TableRow>\r\n            ) : (\r\n              blogs.map((blog) => {\r\n                const statusDisplay = getStatusDisplay(blog);\r\n                const isUpdatingApproved = updating[`${blog.id}-approved`];\r\n                const isUpdatingFeatured = updating[`${blog.id}-is_featured`];\r\n                const isUpdatingNews = updating[`${blog.id}-is_news`] || updating[`${blog.id}-is_news-news_type-target_countries`];\r\n                const authorInfo = blog.author_info || getAuthorDisplay(blog);\r\n                const newsTypeDisplay = getNewsTypeDisplay(blog);\r\n                \r\n                return (\r\n                  <TableRow key={blog.id} hover>\r\n                    <TableCell>\r\n                      <Box>\r\n                        <Typography variant=\"body1\" sx={{ fontWeight: 500, maxWidth: 200 }}>\r\n                          {blog.title}\r\n                        </Typography>\r\n                        {blog.excerpt && (\r\n                          <Typography variant=\"body2\" color=\"text.secondary\" sx={{ maxWidth: 200 }}>\r\n                            {blog.excerpt.substring(0, 50)}...\r\n                          </Typography>\r\n                        )}\r\n                      </Box>\r\n                    </TableCell>\r\n                    <TableCell>\r\n                      <Box sx={{ display: 'flex', alignItems: 'center', gap: 1 }}>\r\n                        {getRoleIcon(authorInfo.role)}\r\n                        <Typography variant=\"body2\">\r\n                          {authorInfo.name}\r\n                        </Typography>\r\n                      </Box>\r\n                    </TableCell>\r\n                    <TableCell>\r\n                      <Chip\r\n                        label={statusDisplay.label}\r\n                        color={statusDisplay.color}\r\n                        size=\"small\"\r\n                      />\r\n                    </TableCell>\r\n                    <TableCell>\r\n                      <Box sx={{ display: 'flex', flexDirection: 'column', gap: 0.5 }}>\r\n                        {newsTypeDisplay}\r\n                        {!blog.is_news && (\r\n                          <Chip\r\n                            label=\"Regular Post\"\r\n                            size=\"small\"\r\n                            variant=\"outlined\"\r\n                            color=\"default\"\r\n                          />\r\n                        )}\r\n                      </Box>\r\n                    </TableCell>\r\n                    <TableCell>\r\n                      <Box sx={{ display: 'flex', alignItems: 'center', gap: 1 }}>\r\n                        <VisibilityIcon sx={{ fontSize: 16, color: 'text.secondary' }} />\r\n                        <Typography variant=\"body2\">\r\n                          {formatViews(blog.views || 0)}\r\n                        </Typography>\r\n                      </Box>\r\n                    </TableCell>\r\n                    <TableCell>{formatDate(blog.created_at)}</TableCell>\r\n                    <TableCell>\r\n                      <Switch\r\n                        checked={!!blog.is_featured}\r\n                        onChange={(e) => updateField(blog.id, 'is_featured', e.target.checked)}\r\n                        disabled={isUpdatingFeatured}\r\n                      />\r\n                    </TableCell>\r\n                    <TableCell>\r\n                      <Switch\r\n                        checked={!!blog.is_news}\r\n                        onChange={(e) => updateField(blog.id, 'is_news', !!blog.is_news)}\r\n                        disabled={isUpdatingNews}\r\n                      />\r\n                    </TableCell>\r\n                    <TableCell>\r\n                      <Switch\r\n                        checked={!!blog.approved}\r\n                        onChange={(e) => updateField(blog.id, 'approved', e.target.checked)}\r\n                        color=\"success\"\r\n                        disabled={isUpdatingApproved}\r\n                      />\r\n                    </TableCell>\r\n                    <TableCell>\r\n                      <Box sx={{ display: 'flex', gap: 1 }}>\r\n                        <IconButton onClick={() => handleEdit(blog.id)} size=\"small\">\r\n                          <EditIcon />\r\n                        </IconButton>\r\n                        <IconButton onClick={() => handleDelete(blog.id)} size=\"small\" color=\"error\">\r\n                          <DeleteIcon />\r\n                        </IconButton>\r\n                      </Box>\r\n                    </TableCell>\r\n                  </TableRow>\r\n                );\r\n              })\r\n            )}\r\n          </TableBody>\r\n        </Table>\r\n      </TableContainer>\r\n\r\n      {/* News Configuration Modal */}\r\n      <Dialog open={openNewsDialog} onClose={() => setOpenNewsDialog(false)} maxWidth=\"sm\" fullWidth>\r\n        <DialogTitle>Configure News Post</DialogTitle>\r\n        <DialogContent dividers>\r\n          <Box sx={{ mt: 2 }}>\r\n            <Typography variant=\"h6\" gutterBottom>\r\n              \"{newsDialogBlog?.title}\"\r\n            </Typography>\r\n            \r\n            <FormControl fullWidth sx={{ mt: 2, mb: 3 }}>\r\n              <InputLabel>News Type</InputLabel>\r\n              <Select\r\n                value={newsConfig.news_type}\r\n                label=\"News Type\"\r\n                onChange={(e) => setNewsConfig(prev => ({ \r\n                  ...prev, \r\n                  news_type: e.target.value,\r\n                  target_countries: e.target.value === 'general' ? [] : prev.target_countries\r\n                }))}\r\n              >\r\n                <MenuItem value=\"general\">General News</MenuItem>\r\n                <MenuItem value=\"country_specific\">Country Specific</MenuItem>\r\n              </Select>\r\n            </FormControl>\r\n\r\n            {newsConfig.news_type === 'country_specific' && (\r\n              <Autocomplete\r\n                multiple\r\n                options={countries}\r\n                getOptionLabel={(option) => option.name}\r\n                value={countries.filter(country => newsConfig.target_countries.includes(country.id))}\r\n                onChange={(event, newValue) => {\r\n                  setNewsConfig(prev => ({\r\n                    ...prev,\r\n                    target_countries: newValue.map(country => country.id)\r\n                  }));\r\n                }}\r\n                renderInput={(params) => (\r\n                  <TextField\r\n                    {...params}\r\n                    label=\"Target Countries\"\r\n                    placeholder=\"Select countries...\"\r\n                    helperText=\"Select which countries this news applies to\"\r\n                  />\r\n                )}\r\n                renderTags={(value, getTagProps) =>\r\n                  value.map((option, index) => (\r\n                    <Chip\r\n                      variant=\"outlined\"\r\n                      label={option.name}\r\n                      {...getTagProps({ index })}\r\n                      key={option.id}\r\n                    />\r\n                  ))\r\n                }\r\n              />\r\n            )}\r\n          </Box>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={() => setOpenNewsDialog(false)}>\r\n            Cancel\r\n          </Button>\r\n          <Button \r\n            variant=\"contained\" \r\n            onClick={handleNewsConfigSave}\r\n            disabled={newsConfig.news_type === 'country_specific' && newsConfig.target_countries.length === 0}\r\n          >\r\n            Convert to News\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n\r\n      {/* Create/Edit Dialog */}\r\n      <Dialog open={openDialog} onClose={handleDialogClose} maxWidth=\"md\" fullWidth>\r\n        <DialogTitle>\r\n          {editMode ? 'Edit Blog Post' : 'Create New Blog Post'}\r\n        </DialogTitle>\r\n        <DialogContent dividers>\r\n          <Grid container spacing={3} sx={{ mt: 1 }}>\r\n            <Grid item xs={12}>\r\n              <TextField \r\n                fullWidth \r\n                label=\"Title *\" \r\n                value={form.title}\r\n                onChange={(e) => handleFormChange('title', e.target.value)}\r\n                error={!!errors.title}\r\n                helperText={errors.title}\r\n              />\r\n            </Grid>\r\n            <Grid item xs={12}>\r\n              <TextField \r\n                fullWidth \r\n                label=\"Excerpt\" \r\n                multiline \r\n                rows={2}\r\n                value={form.excerpt}\r\n                onChange={(e) => handleFormChange('excerpt', e.target.value)}\r\n                error={!!errors.excerpt}\r\n                helperText={errors.excerpt}\r\n              />\r\n            </Grid>\r\n            <Grid item xs={12}>\r\n              <TextField \r\n                fullWidth \r\n                label=\"Content *\" \r\n                multiline \r\n                rows={6}\r\n                value={form.content}\r\n                onChange={(e) => handleFormChange('content', e.target.value)}\r\n                error={!!errors.content}\r\n                helperText={errors.content}\r\n              />\r\n            </Grid>\r\n            <Grid item xs={12} md={6}>\r\n              <Button \r\n                component=\"label\" \r\n                variant=\"outlined\"\r\n                startIcon={<PhotoIcon />}\r\n                fullWidth\r\n              >\r\n                Upload Featured Image\r\n                <input \r\n                  type=\"file\" \r\n                  hidden \r\n                  accept=\"image/*\" \r\n                  onChange={(e) => handleImageChange(e.target.files[0])} \r\n                />\r\n              </Button>\r\n              {(imagePreview || existingImageUrl) && (\r\n                <Box sx={{ mt: 2 }}>\r\n                  <img \r\n                    src={imagePreview || existingImageUrl} \r\n                    alt=\"Preview\" \r\n                    style={{ maxWidth: '100%', height: '150px', objectFit: 'cover', borderRadius: '4px' }}\r\n                  />\r\n                </Box>\r\n              )}\r\n            </Grid>\r\n            <Grid item xs={12} md={6}>\r\n              <Box sx={{ display: 'flex', flexDirection: 'column', gap: 2 }}>\r\n                <FormControlLabel \r\n                  control={\r\n                    <Checkbox \r\n                      checked={form.is_news}\r\n                      onChange={(e) => handleFormChange('is_news', e.target.checked)}\r\n                    />\r\n                  }\r\n                  label=\"News Post\"\r\n                />\r\n                \r\n                {form.is_news && (\r\n                  <FormControl fullWidth size=\"small\">\r\n                    <InputLabel>News Type</InputLabel>\r\n                    <Select\r\n                      value={form.news_type}\r\n                      label=\"News Type\"\r\n                      onChange={(e) => handleFormChange('news_type', e.target.value)}\r\n                    >\r\n                      <MenuItem value=\"general\">General News</MenuItem>\r\n                      <MenuItem value=\"country_specific\">Country Specific</MenuItem>\r\n                    </Select>\r\n                  </FormControl>\r\n                )}\r\n\r\n                {form.is_news && form.news_type === 'country_specific' && (\r\n                  <Autocomplete\r\n                    multiple\r\n                    options={countries}\r\n                    getOptionLabel={(option) => option.name}\r\n                    value={countries.filter(country => form.target_countries.includes(country.id))}\r\n                    onChange={(event, newValue) => {\r\n                      handleFormChange('target_countries', newValue.map(country => country.id));\r\n                    }}\r\n                    renderInput={(params) => (\r\n                      <TextField\r\n                        {...params}\r\n                        label=\"Target Countries\"\r\n                        placeholder=\"Select countries...\"\r\n                        error={!!errors.target_countries}\r\n                        helperText={errors.target_countries}\r\n                      />\r\n                    )}\r\n                    renderTags={(value, getTagProps) =>\r\n                      value.map((option, index) => (\r\n                        <Chip\r\n                          variant=\"outlined\"\r\n                          label={option.name}\r\n                          {...getTagProps({ index })}\r\n                          key={option.id}\r\n                        />\r\n                      ))\r\n                    }\r\n                  />\r\n                )}\r\n                \r\n                <FormControlLabel \r\n                  control={\r\n                    <Checkbox \r\n                      checked={form.approved}\r\n                      onChange={(e) => handleFormChange('approved', e.target.checked)}\r\n                    />\r\n                  }\r\n                  label=\"Approved\"\r\n                />\r\n                \r\n                <FormControl fullWidth size=\"small\">\r\n                  <InputLabel>Status</InputLabel>\r\n                  <Select\r\n                    value={form.status}\r\n                    label=\"Status\"\r\n                    onChange={(e) => handleFormChange('status', e.target.value)}\r\n                  >\r\n                    <MenuItem value=\"draft\">Draft</MenuItem>\r\n                    <MenuItem value=\"published\">Published</MenuItem>\r\n                  </Select>\r\n                </FormControl>\r\n              </Box>\r\n            </Grid>\r\n            <Grid item xs={12} md={6}>\r\n              <TextField \r\n                fullWidth \r\n                label=\"Meta Title\" \r\n                value={form.meta_title}\r\n                onChange={(e) => handleFormChange('meta_title', e.target.value)}\r\n                error={!!errors.meta_title}\r\n                helperText={errors.meta_title}\r\n              />\r\n            </Grid>\r\n            <Grid item xs={12} md={6}>\r\n              <TextField \r\n                fullWidth \r\n                label=\"Meta Description\" \r\n                multiline\r\n                rows={2}\r\n                value={form.meta_description}\r\n                onChange={(e) => handleFormChange('meta_description', e.target.value)}\r\n                error={!!errors.meta_description}\r\n                helperText={errors.meta_description}\r\n              />\r\n            </Grid>\r\n          </Grid>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={handleDialogClose} disabled={submitting}>\r\n            Cancel\r\n          </Button>\r\n          <Button \r\n            variant=\"contained\" \r\n            onClick={handleSubmit}\r\n            disabled={submitting}\r\n          >\r\n            {submitting ? (\r\n              <>\r\n                <CircularProgress size={16} sx={{ mr: 1 }} />\r\n                Saving...\r\n              </>\r\n            ) : (\r\n              editMode ? 'Update' : 'Create'\r\n            )}\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n\r\n      {/* Snackbar */}\r\n      <Snackbar \r\n        open={snackbar.open} \r\n        autoHideDuration={4000}\r\n        onClose={() => setSnackbar(prev => ({ ...prev, open: false }))}\r\n      >\r\n        <Alert \r\n          severity={snackbar.severity} \r\n          onClose={() => setSnackbar(prev => ({ ...prev, open: false }))}\r\n        >\r\n          {snackbar.message}\r\n        </Alert>\r\n      </Snackbar>\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default ManageBlogs;","import React, { useState, useEffect, useRef } from 'react';\r\nimport { \r\n  Search, Eye, CheckCircle, Clock, AlertCircle, \r\n  Mail, RefreshCw,\r\n  TrendingUp, Users, DollarSign, Gift, Send, X, \r\n} from 'lucide-react';\r\n\r\nimport { API_URL } from '../../config';\r\n\r\n// Badge Template Component\r\nconst DonorBadgeTemplate = ({ \r\n  recipientName = \"Donor\", \r\n  donationAmount = 0,\r\n  year = new Date().getFullYear(),\r\n  size = \"standard\",\r\n  id = \"donor-badge\",\r\n  isAnonymous = false\r\n}) => {\r\n  const displayName = isAnonymous ? \"ACEF Friend\" : recipientName;\r\n  \r\n  const sizeConfig = {\r\n    compact: { diameter: 280, fontSize: { name: '1rem', title: '0.7rem' } },\r\n    standard: { diameter: 350, fontSize: { name: '1.3rem', title: '0.8rem' } },\r\n    premium: { diameter: 420, fontSize: { name: '1.6rem', title: '0.9rem' } }\r\n  };\r\n\r\n  const config = sizeConfig[size];\r\n\r\n  return (\r\n    <div id={id} style={{\r\n      width: config.diameter,\r\n      height: config.diameter,\r\n      borderRadius: '50%',\r\n      background: 'linear-gradient(135deg, #0a451c, #16a34a)',\r\n      display: 'flex',\r\n      flexDirection: 'column',\r\n      alignItems: 'center',\r\n      justifyContent: 'center',\r\n      padding: '25px',\r\n      color: 'white',\r\n      fontFamily: '\"Playfair Display\", serif',\r\n      boxShadow: '0 20px 40px rgba(10, 69, 28, 0.3)',\r\n      position: 'relative'\r\n    }}>\r\n      {/* Decorative border */}\r\n      <div style={{\r\n        position: 'absolute',\r\n        top: '15px',\r\n        left: '15px',\r\n        right: '15px',\r\n        bottom: '15px',\r\n        border: '2px solid rgba(255,255,255,0.3)',\r\n        borderRadius: '50%'\r\n      }}></div>\r\n      \r\n      <div style={{ fontSize: '2.5rem', marginBottom: '10px', zIndex: 2 }}></div>\r\n      <div style={{ \r\n        fontSize: '0.9rem', \r\n        textAlign: 'center', \r\n        marginBottom: '8px',\r\n        textTransform: 'uppercase',\r\n        letterSpacing: '1px',\r\n        opacity: 0.9,\r\n        zIndex: 2\r\n      }}>\r\n        Thank You\r\n      </div>\r\n      <div style={{ \r\n        fontSize: config.fontSize.name, \r\n        fontWeight: '700', \r\n        textAlign: 'center', \r\n        marginBottom: '8px',\r\n        zIndex: 2\r\n      }}>\r\n        {displayName}\r\n      </div>\r\n      <div style={{ \r\n        fontSize: config.fontSize.title, \r\n        textAlign: 'center', \r\n        marginBottom: '12px',\r\n        opacity: 0.9,\r\n        zIndex: 2\r\n      }}>\r\n        Generous Donor\r\n      </div>\r\n      <div style={{ \r\n        fontSize: '0.7rem',\r\n        background: 'rgba(255,255,255,0.2)',\r\n        padding: '4px 12px',\r\n        borderRadius: '15px',\r\n        zIndex: 2\r\n      }}>\r\n        {year}\r\n      </div>\r\n      <div style={{ \r\n        fontSize: '0.6rem',\r\n        marginTop: '8px',\r\n        opacity: 0.8,\r\n        textAlign: 'center',\r\n        zIndex: 2\r\n      }}>\r\n        Your generosity makes a difference\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst AdminDonationManagement = ({ API_BASE = API_URL }) => {\r\n  const [donations, setDonations] = useState([]);\r\n  const [filteredDonations, setFilteredDonations] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [activeTab, setActiveTab] = useState('pending');\r\n  const [searchTerm, setSearchTerm] = useState('');\r\n  const [selectedDonation, setSelectedDonation] = useState(null);\r\n  const [showReminderModal, setShowReminderModal] = useState(false);\r\n  const [statistics, setStatistics] = useState({});\r\n  const [processingBadge, setProcessingBadge] = useState(false);\r\n  \r\n  // Reference data states\r\n  const [countries, setCountries] = useState([]);\r\n  const [projects, setProjects] = useState([]);\r\n  const [referenceDataLoading, setReferenceDataLoading] = useState(false);\r\n  \r\n  const [reminderForm, setReminderForm] = useState({\r\n    type: 'payment_pending',\r\n    message: ''\r\n  });\r\n\r\n  // Badge generation reference\r\n  const badgeRef = useRef(null);\r\n\r\n  // Load html2canvas for badge generation\r\n  useEffect(() => {\r\n    if (!window.html2canvas) {\r\n      const script = document.createElement('script');\r\n      script.src = 'https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js';\r\n      script.async = true;\r\n      document.head.appendChild(script);\r\n    }\r\n  }, []);\r\n\r\n\r\n\r\n// FIXED: Enhanced badge generation with proper buffer handling and validation\r\nconst generateBadgeBlob = async (donation) => {\r\n  return new Promise((resolve, reject) => {\r\n    // Enhanced html2canvas availability check\r\n    if (!window.html2canvas) {\r\n      const error = new Error('html2canvas library not loaded - ensure script is loaded before calling this function');\r\n      console.error('', error.message);\r\n      reject(error);\r\n      return;\r\n    }\r\n\r\n    // Create isolated container for badge rendering\r\n    const tempContainer = document.createElement('div');\r\n    tempContainer.style.cssText = `\r\n      position: absolute;\r\n      top: -10000px;\r\n      left: -10000px;\r\n      width: 450px;\r\n      height: 450px;\r\n      pointer-events: none;\r\n      z-index: -9999;\r\n      visibility: visible;\r\n      opacity: 1;\r\n      background: white;\r\n    `;\r\n    \r\n    // Ensure container is appended to body\r\n    document.body.appendChild(tempContainer);\r\n\r\n    const diameter = 400;\r\n    const displayName = donation.is_anonymous ? \"ACEF Friend\" : (donation.donor_name || \"Valued Donor\");\r\n    const currentYear = new Date().getFullYear();\r\n    \r\n    // Create badge with explicit styling to ensure proper rendering\r\n    const badgeHTML = `\r\n      <div class=\"donation-badge\" style=\"\r\n        width: ${diameter}px;\r\n        height: ${diameter}px;\r\n        border-radius: 50%;\r\n        background: linear-gradient(135deg, #0a451c 0%, #16a34a 50%, #22c55e 100%);\r\n        display: flex;\r\n        flex-direction: column;\r\n        align-items: center;\r\n        justify-content: center;\r\n        padding: 30px;\r\n        color: white;\r\n        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Arial, sans-serif;\r\n        box-shadow: inset 0 0 0 3px rgba(255,255,255,0.3);\r\n        position: relative;\r\n        box-sizing: border-box;\r\n        text-align: center;\r\n      \">\r\n        <div style=\"font-size: 48px; margin-bottom: 15px; line-height: 1;\"></div>\r\n        \r\n        <div style=\"\r\n          font-size: 16px;\r\n          margin-bottom: 12px;\r\n          text-transform: uppercase;\r\n          letter-spacing: 2px;\r\n          font-weight: 600;\r\n          opacity: 0.95;\r\n        \">Thank You</div>\r\n        \r\n        <div style=\"\r\n          font-size: 24px;\r\n          font-weight: 700;\r\n          margin-bottom: 12px;\r\n          line-height: 1.2;\r\n          max-width: 85%;\r\n          word-wrap: break-word;\r\n          hyphens: auto;\r\n          text-align: center;\r\n        \">${displayName}</div>\r\n        \r\n        <div style=\"\r\n          font-size: 14px;\r\n          margin-bottom: 18px;\r\n          font-weight: 500;\r\n          opacity: 0.9;\r\n        \">Generous Donor</div>\r\n        \r\n        <div style=\"\r\n          font-size: 12px;\r\n          background: rgba(255,255,255,0.25);\r\n          padding: 6px 16px;\r\n          border-radius: 20px;\r\n          font-weight: 600;\r\n        \">${currentYear}</div>\r\n        \r\n        <div style=\"\r\n          font-size: 10px;\r\n          margin-top: 12px;\r\n          max-width: 80%;\r\n          font-style: italic;\r\n          opacity: 0.8;\r\n          line-height: 1.3;\r\n        \">Your generosity makes a difference</div>\r\n      </div>\r\n    `;\r\n    \r\n    tempContainer.innerHTML = badgeHTML;\r\n    const badgeElement = tempContainer.querySelector('.donation-badge');\r\n\r\n    // CRITICAL: Wait for fonts and styles to load, then render\r\n    const renderTimeout = setTimeout(() => {\r\n      reject(new Error('Badge generation timeout - html2canvas took too long'));\r\n    }, 30000); // 30 second timeout\r\n\r\n    // Use requestAnimationFrame to ensure DOM is ready\r\n    requestAnimationFrame(async () => {\r\n      try {\r\n        console.log(' Starting canvas generation with html2canvas...');\r\n        \r\n        // Enhanced html2canvas options for better reliability\r\n        const canvas = await window.html2canvas(badgeElement, {\r\n          backgroundColor: null,\r\n          scale: 2, // High resolution\r\n          useCORS: true,\r\n          allowTaint: false,\r\n          logging: false, // Disable logging for cleaner output\r\n          width: diameter,\r\n          height: diameter,\r\n          windowWidth: diameter + 100,\r\n          windowHeight: diameter + 100,\r\n          imageTimeout: 10000,\r\n          removeContainer: true, // Let html2canvas manage cleanup\r\n          onclone: function(clonedDoc, element) {\r\n            // Ensure styles are preserved in cloned document\r\n            const clonedBadge = clonedDoc.querySelector('.donation-badge');\r\n            if (clonedBadge) {\r\n              clonedBadge.style.fontFamily = '-apple-system, BlinkMacSystemFont, \"Segoe UI\", Arial, sans-serif';\r\n              clonedBadge.style.display = 'flex';\r\n              clonedBadge.style.visibility = 'visible';\r\n            }\r\n          }\r\n        });\r\n\r\n        clearTimeout(renderTimeout);\r\n\r\n        // Cleanup DOM immediately after canvas generation\r\n        if (tempContainer && tempContainer.parentNode) {\r\n          tempContainer.parentNode.removeChild(tempContainer);\r\n        }\r\n\r\n        // CRITICAL: Validate canvas before proceeding\r\n        if (!canvas || canvas.width === 0 || canvas.height === 0) {\r\n          throw new Error('Generated canvas is invalid or has zero dimensions');\r\n        }\r\n\r\n        console.log(` Canvas generated successfully: ${canvas.width}x${canvas.height}`);\r\n\r\n        // FIXED: Use canvas.toBlob with proper error handling\r\n        canvas.toBlob((blob) => {\r\n          if (!blob) {\r\n            reject(new Error('Failed to generate blob from canvas - toBlob returned null'));\r\n            return;\r\n          }\r\n          \r\n          if (blob.size === 0) {\r\n            reject(new Error('Generated blob is empty (0 bytes)'));\r\n            return;\r\n          }\r\n          \r\n          // Validate reasonable file size bounds\r\n          if (blob.size > 10 * 1024 * 1024) { // 10MB limit\r\n            reject(new Error(`Generated badge file too large: ${blob.size} bytes`));\r\n            return;\r\n          }\r\n          \r\n          if (blob.size < 1000) { // Minimum reasonable size for a PNG badge\r\n            reject(new Error(`Generated badge file too small: ${blob.size} bytes (likely corrupted)`));\r\n            return;\r\n          }\r\n          \r\n          console.log(` Badge blob generated successfully: ${blob.size} bytes, type: ${blob.type}`);\r\n          resolve(blob);\r\n          \r\n        }, 'image/png', 1.0); // Maximum quality PNG\r\n        \r\n      } catch (canvasError) {\r\n        clearTimeout(renderTimeout);\r\n        \r\n        // Cleanup on error\r\n        if (tempContainer && tempContainer.parentNode) {\r\n          tempContainer.parentNode.removeChild(tempContainer);\r\n        }\r\n        \r\n        console.error(' Canvas generation failed:', {\r\n          error: canvasError.message,\r\n          stack: canvasError.stack,\r\n          donation: donation.id\r\n        });\r\n        \r\n        reject(new Error(`Canvas generation failed: ${canvasError.message}`));\r\n      }\r\n    });\r\n  });\r\n};\r\n\r\n\r\n\r\n// ENHANCED: Ensure html2canvas loads properly\r\nconst ensureHtml2CanvasLoaded = () => {\r\n  return new Promise((resolve, reject) => {\r\n    if (window.html2canvas) {\r\n      resolve();\r\n      return;\r\n    }\r\n    \r\n    // Check if script is already loading\r\n    const existingScript = document.querySelector('script[src*=\"html2canvas\"]');\r\n    if (existingScript) {\r\n      existingScript.addEventListener('load', resolve);\r\n      existingScript.addEventListener('error', () => reject(new Error('Failed to load html2canvas script')));\r\n      return;\r\n    }\r\n    \r\n    // Load html2canvas with proper error handling\r\n    const script = document.createElement('script');\r\n    script.src = 'https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js';\r\n    script.async = true;\r\n    script.onload = () => {\r\n      console.log(' html2canvas loaded successfully');\r\n      resolve();\r\n    };\r\n    script.onerror = () => {\r\n      console.error(' Failed to load html2canvas');\r\n      reject(new Error('Failed to load html2canvas from CDN'));\r\n    };\r\n    document.head.appendChild(script);\r\n  });\r\n};\r\n\r\n// ENHANCED: Better sendDonationBadgeEmail function with improved validation\r\n// FIXED: Browser-compatible sendDonationBadgeEmail function\r\nconst sendDonationBadgeEmail = async ({\r\n  donationId,\r\n  recipientEmail,\r\n  recipientName,\r\n  donationAmount,\r\n  badgeBlob, // Changed from badgeBuffer to badgeBlob\r\n  badgeFilename = null,\r\n  isAnonymous = false\r\n}) => {\r\n  try {\r\n    console.log(` Preparing badge email for: ${recipientEmail}`);\r\n\r\n    // CRITICAL FIX: Validate blob instead of buffer (browser compatible)\r\n    if (!badgeBlob) {\r\n      throw new Error('Badge blob is null or undefined');\r\n    }\r\n\r\n    if (!(badgeBlob instanceof Blob)) {\r\n      throw new Error('Provided badge data is not a Blob');\r\n    }\r\n\r\n    if (badgeBlob.size === 0) {\r\n      throw new Error('Badge blob is empty (0 bytes)');\r\n    }\r\n\r\n    // Validate minimum reasonable file size\r\n    if (badgeBlob.size < 1000) {\r\n      throw new Error(`Badge blob too small: ${badgeBlob.size} bytes (likely corrupted)`);\r\n    }\r\n\r\n    console.log(` Badge blob validated: ${badgeBlob.size} bytes, type: ${badgeBlob.type}`);\r\n\r\n    // Prepare FormData for API call\r\n    const formData = new FormData();\r\n    \r\n    // Add all required fields\r\n    formData.append('donationId', donationId.toString());\r\n    formData.append('recipientEmail', recipientEmail);\r\n    formData.append('recipientName', isAnonymous ? 'ACEF Friend' : recipientName);\r\n    formData.append('donationAmount', donationAmount.toString());\r\n    formData.append('isAnonymous', isAnonymous ? 'true' : 'false');\r\n    \r\n    // FIXED: Create File object directly from blob (no Buffer needed)\r\n    const filename = badgeFilename || `ACEF_Badge_${donationId}_${Date.now()}.png`;\r\n    const badgeFile = new File([badgeBlob], filename, { \r\n      type: 'image/png',\r\n      lastModified: Date.now()\r\n    });\r\n    \r\n    formData.append('badge', badgeFile);\r\n\r\n    // Log FormData contents for debugging\r\n    console.log(' FormData prepared:');\r\n    for (let [key, value] of formData.entries()) {\r\n      if (value instanceof File) {\r\n        console.log(`  ${key}: File(${value.name}, ${value.size} bytes, ${value.type})`);\r\n      } else {\r\n        console.log(`  ${key}: ${value}`);\r\n      }\r\n    }\r\n\r\n    // Send to API endpoint\r\n    const response = await fetch(`${API_BASE}/donations/admin/${donationId}/send-badge`, {\r\n      method: 'POST',\r\n      credentials: 'include',\r\n      body: formData // Don't set Content-Type, let browser handle multipart\r\n    });\r\n\r\n    console.log(` Badge email API response: ${response.status}`);\r\n\r\n    if (!response.ok) {\r\n      const errorText = await response.text();\r\n      throw new Error(`API returned ${response.status}: ${errorText}`);\r\n    }\r\n\r\n    const result = await response.json();\r\n    \r\n    if (!result.success) {\r\n      throw new Error(result.message || 'API returned success=false');\r\n    }\r\n\r\n    console.log(' Badge email sent successfully via API');\r\n    return result;\r\n\r\n  } catch (error) {\r\n    console.error(' Failed to send badge email:', {\r\n      error: error.message,\r\n      recipient: recipientEmail,\r\n      donationId,\r\n      blobSize: badgeBlob?.size || 0\r\n    });\r\n    \r\n    throw error;\r\n  }\r\n};\r\n\r\n// FIXED: Updated markCompleted function with browser-compatible approach\r\nconst markCompleted = async (donationId, notes = '') => {\r\n  if (processingBadge) {\r\n    showNotification('Badge generation already in progress', 'warning');\r\n    return;\r\n  }\r\n  \r\n  setProcessingBadge(true);\r\n  \r\n  try {\r\n    console.log(` Processing completion for donation: ${donationId}`);\r\n    \r\n    // 1. Find and validate donation\r\n    const donation = donations.find(d => d.id === donationId);\r\n    if (!donation) {\r\n      throw new Error('Donation not found in current data');\r\n    }\r\n\r\n    // Validate donor email\r\n    if (!donation.donor_email) {\r\n      throw new Error('Donation missing donor email address');\r\n    }\r\n\r\n    console.log(' Processing donation:', {\r\n      id: donation.id,\r\n      donor_name: donation.donor_name,\r\n      donor_email: donation.donor_email,\r\n      amount: donation.amount,\r\n      is_anonymous: donation.is_anonymous\r\n    });\r\n    \r\n    // 2. Mark donation as completed in database first\r\n    const response = await fetch(`${API_BASE}/donations/admin/${donationId}/complete`, {\r\n      method: 'PUT',\r\n      headers: { 'Content-Type': 'application/json' },\r\n      credentials: 'include',\r\n      body: JSON.stringify({ adminNotes: notes })\r\n    });\r\n\r\n    if (!response.ok) {\r\n      const errorData = await response.json().catch(() => ({ message: 'Unknown server error' }));\r\n      throw new Error(errorData.message || `Server returned ${response.status}`);\r\n    }\r\n\r\n    console.log(' Donation marked as completed in database');\r\n    \r\n    // 3. Generate badge with enhanced validation\r\n    console.log(' Starting badge generation...');\r\n    \r\n    // Ensure html2canvas is loaded\r\n    if (!window.html2canvas) {\r\n      console.log(' Loading html2canvas...');\r\n      await ensureHtml2CanvasLoaded();\r\n    }\r\n    \r\n    let badgeBlob = null;\r\n    let attempts = 0;\r\n    const maxAttempts = 2;\r\n\r\n    while (!badgeBlob && attempts < maxAttempts) {\r\n      attempts++;\r\n      try {\r\n        console.log(` Badge generation attempt ${attempts}/${maxAttempts}`);\r\n        \r\n        badgeBlob = await generateBadgeBlob(donation);\r\n        \r\n        if (!badgeBlob || badgeBlob.size === 0) {\r\n          throw new Error('Badge generation returned empty blob');\r\n        }\r\n        \r\n        console.log(` Badge generated successfully: ${badgeBlob.size} bytes, type: ${badgeBlob.type}`);\r\n        break;\r\n        \r\n      } catch (blobError) {\r\n        console.error(` Badge generation attempt ${attempts} failed:`, blobError.message);\r\n        \r\n        if (attempts >= maxAttempts) {\r\n          // If badge generation fails completely, still show success for completion\r\n          showNotification(`Donation completed successfully, but badge generation failed: ${blobError.message}`, 'warning');\r\n          await fetchDonations(); // Refresh data\r\n          return;\r\n        }\r\n        \r\n        // Wait before retry\r\n        console.log(` Waiting before retry attempt ${attempts + 1}...`);\r\n        await new Promise(resolve => setTimeout(resolve, 3000));\r\n      }\r\n    }\r\n    \r\n    // 4. Send badge email directly with blob (no Buffer conversion needed)\r\n    console.log(' Sending badge email with blob...');\r\n    \r\n    const badgeEmailResult = await sendDonationBadgeEmail({\r\n      donationId: donation.id,\r\n      recipientEmail: donation.donor_email,\r\n      recipientName: donation.donor_name,\r\n      donationAmount: donation.amount,\r\n      badgeBlob: badgeBlob, // FIXED: Pass blob directly, not buffer\r\n      badgeFilename: `ACEF_Badge_${donation.id}_${Date.now()}.png`,\r\n      isAnonymous: donation.is_anonymous\r\n    });\r\n\r\n    console.log(' Badge email result:', {\r\n      messageId: badgeEmailResult.messageId,\r\n      recipient: donation.donor_email\r\n    });\r\n    \r\n    showNotification(` Donation completed and badge sent to ${donation.donor_email}!`, 'success');\r\n    \r\n    // 5. Refresh data to show updated status\r\n    await fetchDonations();\r\n    \r\n  } catch (error) {\r\n    console.error(' Failed to complete donation:', {\r\n      donationId,\r\n      error: error.message,\r\n      stack: error.stack\r\n    });\r\n    showNotification(` Failed to complete donation: ${error.message}`, 'error');\r\n  } finally {\r\n    setProcessingBadge(false);\r\n  }\r\n};\r\n\r\n\r\n// // FIXED: Enhanced markCompleted with better error handling and debugging\r\n// const markCompleted = async (donationId, notes = '') => {\r\n//   if (processingBadge) {\r\n//     showNotification('Badge generation already in progress', 'warning');\r\n//     return;\r\n//   }\r\n  \r\n//   setProcessingBadge(true);\r\n  \r\n//   try {\r\n//     console.log(` Processing completion for donation: ${donationId}`);\r\n    \r\n//     // 1. Find the donation in current data\r\n//     const donation = donations.find(d => d.id === donationId);\r\n//     if (!donation) {\r\n//       throw new Error('Donation not found in current data');\r\n//     }\r\n\r\n//     console.log(' Processing donation:', {\r\n//       id: donation.id,\r\n//       donor_name: donation.donor_name,\r\n//       donor_email: donation.donor_email,\r\n//       amount: donation.amount,\r\n//       is_anonymous: donation.is_anonymous\r\n//     });\r\n    \r\n//     // 2. Mark donation as completed first\r\n//     const response = await fetch(`${API_BASE}/donations/admin/${donationId}/complete`, {\r\n//       method: 'PUT',\r\n//       headers: { 'Content-Type': 'application/json' },\r\n//       credentials: 'include',\r\n//       body: JSON.stringify({ adminNotes: notes })\r\n//     });\r\n\r\n//     if (!response.ok) {\r\n//       const errorData = await response.json();\r\n//       throw new Error(errorData.message || `Server returned ${response.status}`);\r\n//     }\r\n\r\n//     console.log(' Donation marked as completed in database');\r\n    \r\n//     // 3. Generate badge with enhanced error handling\r\n//     let badgeBlob = null;\r\n//     let attempts = 0;\r\n//     const maxAttempts = 3;\r\n\r\n//     while (!badgeBlob && attempts < maxAttempts) {\r\n//       attempts++;\r\n//       try {\r\n//         console.log(` Badge generation attempt ${attempts}/${maxAttempts}`);\r\n        \r\n//         // FIXED: Ensure html2canvas is loaded before attempting generation\r\n//         if (!window.html2canvas) {\r\n//           throw new Error('html2canvas not available');\r\n//         }\r\n        \r\n//         badgeBlob = await generateBadgeBlob(donation);\r\n        \r\n//         if (!badgeBlob || badgeBlob.size === 0) {\r\n//           throw new Error('Empty blob generated');\r\n//         }\r\n        \r\n//         console.log(` Badge generated successfully: ${badgeBlob.size} bytes`);\r\n//         break;\r\n        \r\n//       } catch (blobError) {\r\n//         console.error(` Badge generation attempt ${attempts} failed:`, blobError.message);\r\n        \r\n//         if (attempts >= maxAttempts) {\r\n//           // If badge generation fails, still show success for completion\r\n//           showNotification(` Donation completed successfully, but badge generation failed: ${blobError.message}`, 'warning');\r\n//           await fetchDonations(); // Refresh data\r\n//           return;\r\n//         }\r\n        \r\n//         // Wait before retry\r\n//         await new Promise(resolve => setTimeout(resolve, 2000));\r\n//       }\r\n//     }\r\n    \r\n//     // 4. Send badge email with proper FormData construction\r\n//     console.log(' Preparing badge email...');\r\n    \r\n//     const formData = new FormData();\r\n    \r\n//     // FIXED: Add all required fields\r\n//     formData.append('donationId', donation.id.toString());\r\n//     formData.append('recipientEmail', donation.donor_email);\r\n//     formData.append('recipientName', donation.is_anonymous ? 'ACEF Friend' : donation.donor_name);\r\n//     formData.append('donationAmount', donation.amount.toString());\r\n//     formData.append('isAnonymous', donation.is_anonymous ? 'true' : 'false');\r\n    \r\n//     // FIXED: Create proper filename and ensure blob is properly attached\r\n//     const timestamp = Date.now();\r\n//     const filename = `ACEF_Badge_${donation.id}_${timestamp}.png`;\r\n    \r\n//     // Create File object from blob for better compatibility\r\n//     const badgeFile = new File([badgeBlob], filename, { \r\n//       type: 'image/png',\r\n//       lastModified: timestamp\r\n//     });\r\n    \r\n//     formData.append('badge', badgeFile);\r\n\r\n//     // Log FormData contents for debugging\r\n//     console.log(' FormData contents:');\r\n//     for (let [key, value] of formData.entries()) {\r\n//       if (value instanceof File) {\r\n//         console.log(`  ${key}: File(${value.name}, ${value.size} bytes, ${value.type})`);\r\n//       } else {\r\n//         console.log(`  ${key}: ${value}`);\r\n//       }\r\n//     }\r\n\r\n//     const badgeResponse = await fetch(`${API_BASE}/donations/admin/${donationId}/send-badge`, {\r\n//       method: 'POST',\r\n//       credentials: 'include',\r\n//       body: formData // Don't set Content-Type header, let browser handle it\r\n//     });\r\n\r\n//     console.log(` Badge upload response: ${badgeResponse.status}`);\r\n\r\n//     const badgeResult = await badgeResponse.json();\r\n//     console.log(' Badge email result:', badgeResult);\r\n    \r\n//     if (badgeResponse.ok && badgeResult.success) {\r\n//       showNotification(` Donation completed and badge sent to ${donation.donor_email}!`, 'success');\r\n//     } else {\r\n//       console.error('Badge email failed:', {\r\n//         status: badgeResponse.status,\r\n//         result: badgeResult\r\n//       });\r\n//       showNotification(` Donation completed, but badge email failed: ${badgeResult.message || 'Unknown error'}`, 'warning');\r\n//     }\r\n    \r\n//     // 5. Refresh data to show updated status\r\n//     await fetchDonations();\r\n    \r\n//   } catch (error) {\r\n//     console.error(' Failed to complete donation:', {\r\n//       donationId,\r\n//       error: error.message,\r\n//       stack: error.stack\r\n//     });\r\n//     showNotification(` Failed to complete donation: ${error.message}`, 'error');\r\n//   } finally {\r\n//     setProcessingBadge(false);\r\n//   }\r\n// };\r\n\r\n\r\n\r\n// FIXED: Enhanced notification system with better error details\r\nconst showNotification = (message, type = 'info') => {\r\n  console.log(`${type.toUpperCase()}: ${message}`);\r\n  \r\n  // Create visual notification\r\n  const notification = document.createElement('div');\r\n  const colors = {\r\n    success: { bg: '#10b981', border: '#059669', text: '#ffffff' },\r\n    warning: { bg: '#f59e0b', border: '#d97706', text: '#ffffff' },\r\n    error: { bg: '#ef4444', border: '#dc2626', text: '#ffffff' },\r\n    info: { bg: '#3b82f6', border: '#2563eb', text: '#ffffff' }\r\n  };\r\n  \r\n  const color = colors[type] || colors.info;\r\n  \r\n  notification.style.cssText = `\r\n    position: fixed;\r\n    top: 20px;\r\n    right: 20px;\r\n    background: ${color.bg};\r\n    color: ${color.text};\r\n    padding: 16px 24px;\r\n    border-radius: 12px;\r\n    border-left: 6px solid ${color.border};\r\n    box-shadow: 0 10px 25px rgba(0,0,0,0.15);\r\n    z-index: 10000;\r\n    font-family: 'Inter', 'Arial', sans-serif;\r\n    font-size: 14px;\r\n    font-weight: 500;\r\n    max-width: 450px;\r\n    word-wrap: break-word;\r\n    transform: translateX(100%);\r\n    transition: transform 0.3s ease;\r\n  `;\r\n  \r\n  notification.innerHTML = `\r\n    <div style=\"font-weight: 700; margin-bottom: 6px; font-size: 13px; text-transform: uppercase; letter-spacing: 0.5px;\">\r\n      ${type.toUpperCase()}\r\n    </div>\r\n    <div style=\"line-height: 1.4;\">\r\n      ${message}\r\n    </div>\r\n  `;\r\n  \r\n  document.body.appendChild(notification);\r\n  \r\n  // Animate in\r\n  setTimeout(() => {\r\n    notification.style.transform = 'translateX(0)';\r\n  }, 10);\r\n  \r\n  // Auto-remove with animation\r\n  const delay = type === 'error' ? 10000 : type === 'warning' ? 7000 : 5000;\r\n  setTimeout(() => {\r\n    if (notification.parentNode) {\r\n      notification.style.transform = 'translateX(100%)';\r\n      setTimeout(() => {\r\n        if (notification.parentNode) {\r\n          notification.parentNode.removeChild(notification);\r\n        }\r\n      }, 300);\r\n    }\r\n  }, delay);\r\n};\r\n\r\n// FIXED: Add debug function to test badge generation without API calls\r\nconst testBadgeGeneration = async (donation) => {\r\n  try {\r\n    console.log(' Testing badge generation...');\r\n    \r\n    if (!window.html2canvas) {\r\n      console.error(' html2canvas not available');\r\n      return null;\r\n    }\r\n    \r\n    const blob = await generateBadgeBlob(donation);\r\n    \r\n    if (blob && blob.size > 0) {\r\n      console.log(` Test badge generated: ${blob.size} bytes`);\r\n      \r\n      // Create download link for testing\r\n      const url = URL.createObjectURL(blob);\r\n      const a = document.createElement('a');\r\n      a.href = url;\r\n      a.download = `test_badge_${donation.id}.png`;\r\n      document.body.appendChild(a);\r\n      a.click();\r\n      document.body.removeChild(a);\r\n      URL.revokeObjectURL(url);\r\n      \r\n      return blob;\r\n    } else {\r\n      console.error(' Test badge generation failed');\r\n      return null;\r\n    }\r\n    \r\n  } catch (error) {\r\n    console.error(' Badge test failed:', error);\r\n    return null;\r\n  }\r\n};\r\n\r\n// // ENHANCEMENT: Add window load check for html2canvas\r\n// const ensureHtml2CanvasLoaded = () => {\r\n//   return new Promise((resolve, reject) => {\r\n//     if (window.html2canvas) {\r\n//       resolve();\r\n//       return;\r\n//     }\r\n    \r\n//     // Check if script already exists\r\n//     const existingScript = document.querySelector('script[src*=\"html2canvas\"]');\r\n//     if (existingScript) {\r\n//       existingScript.addEventListener('load', resolve);\r\n//       existingScript.addEventListener('error', reject);\r\n//       return;\r\n//     }\r\n    \r\n//     // Load html2canvas\r\n//     const script = document.createElement('script');\r\n//     script.src = 'https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js';\r\n//     script.async = true;\r\n//     script.onload = resolve;\r\n//     script.onerror = () => reject(new Error('Failed to load html2canvas'));\r\n//     document.head.appendChild(script);\r\n//   });\r\n// };\r\n\r\n// // USAGE: Enhanced useEffect to ensure html2canvas is loaded\r\n// useEffect(() => {\r\n//   ensureHtml2CanvasLoaded()\r\n//     .then(() => {\r\n//       console.log(' html2canvas loaded successfully');\r\n//     })\r\n//     .catch((error) => {\r\n//       console.error(' Failed to load html2canvas:', error);\r\n//       showNotification('Badge generation library failed to load', 'error');\r\n//     });\r\n// }, []);\r\n\r\n// DEBUGGING: Add this to your component for testing\r\nconst debugBadgeGeneration = () => {\r\n  if (donations.length > 0) {\r\n    const testDonation = donations[0];\r\n    console.log(' Testing badge generation with:', testDonation);\r\n    testBadgeGeneration(testDonation);\r\n  } else {\r\n    console.log(' No donations available for testing');\r\n  }\r\n};\r\n\r\n  // Send badge email\r\n  const sendBadgeEmail = async (donation, badgeBlob) => {\r\n    try {\r\n      const formData = new FormData();\r\n      // formData.append('donationId', donation.id);\r\n      // formData.append('recipientEmail', donation.donor_email);\r\n      formData.append('recipientName', donation.is_anonymous ? 'ACEF Friend' : donation.donor_name);\r\n      // formData.append('donationAmount', donation.amount);\r\n      formData.append('isAnonymous', donation.is_anonymous);\r\n      formData.append('badge', badgeBlob, `donor_badge_${donation.id}.png`);\r\n\r\n      const response = await fetch(`${API_BASE}/donations/admin/${donation.id}/send-badge`, {\r\n        method: 'POST',\r\n        credentials: 'include',\r\n        body: formData\r\n      });\r\n\r\n      const data = await response.json();\r\n      return data.success;\r\n    } catch (error) {\r\n      console.error('Error sending badge email:', error);\r\n      return false;\r\n    }\r\n  };\r\n\r\n  // Fetch countries for reference\r\n  const fetchCountries = async () => {\r\n    try {\r\n      const response = await fetch(`${API_BASE}/countries`, {\r\n        credentials: 'include'\r\n      });\r\n      const data = await response.json();\r\n\r\n      if (data.success && Array.isArray(data.data)) {\r\n        setCountries(data.data);\r\n        console.log(`Loaded ${data.data.length} countries for reference`);\r\n      } else if (Array.isArray(data)) {\r\n        setCountries(data);\r\n        console.log(`Loaded ${data.length} countries for reference`);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error fetching countries:', error);\r\n      const fallbackCountries = [\r\n        { id: 1, name: 'Kenya' },\r\n        { id: 2, name: 'Ghana' },\r\n        { id: 3, name: 'Nigeria' },\r\n        { id: 4, name: 'Uganda' },\r\n        { id: 5, name: 'Rwanda' }\r\n      ];\r\n      setCountries(fallbackCountries);\r\n    }\r\n  };\r\n\r\n  // Fetch projects for reference\r\n  const fetchProjects = async () => {\r\n    try {\r\n      const response = await fetch(`${API_BASE}/projects`, {\r\n        credentials: 'include'\r\n      });\r\n      const data = await response.json();\r\n\r\n      let projectsData = [];\r\n      if (data.success && Array.isArray(data.data)) {\r\n        projectsData = data.data;\r\n      } else if (Array.isArray(data)) {\r\n        projectsData = data;\r\n      }\r\n\r\n      setProjects(projectsData);\r\n      console.log(`Loaded ${projectsData.length} projects for reference`);\r\n    } catch (error) {\r\n      console.error('Error fetching projects:', error);\r\n      const fallbackProjects = [\r\n        { id: 1, title: 'Clean Water Initiative', country_name: 'Kenya' },\r\n        { id: 2, title: 'Educational Support Program', country_name: 'Ghana' },\r\n        { id: 3, title: 'Healthcare Access Project', country_name: 'Uganda' }\r\n      ];\r\n      setProjects(fallbackProjects);\r\n    }\r\n  };\r\n\r\n  // Load reference data on component mount\r\n  const fetchReferenceData = async () => {\r\n    setReferenceDataLoading(true);\r\n    try {\r\n      await Promise.allSettled([fetchCountries(), fetchProjects()]);\r\n    } finally {\r\n      setReferenceDataLoading(false);\r\n    }\r\n  };\r\n\r\n  // Helper function to get target display name\r\n  const getTargetDisplayName = (donation) => {\r\n    switch (donation.donation_type) {\r\n      case 'country':\r\n        if (donation.target_country_id) {\r\n          const country = countries.find(c => c.id === parseInt(donation.target_country_id));\r\n          return country ? country.name : `Country ID: ${donation.target_country_id}`;\r\n        }\r\n        return 'Country (not specified)';\r\n      case 'project':\r\n        if (donation.target_project_id) {\r\n          const project = projects.find(p => p.id === parseInt(donation.target_project_id));\r\n          return project ? project.title : `Project ID: ${donation.target_project_id}`;\r\n        }\r\n        return 'Project (not specified)';\r\n      default:\r\n        return 'General Impact';\r\n    }\r\n  };\r\n\r\n  // Helper function to get detailed target info for modal\r\n  const getDetailedTargetInfo = (donation) => {\r\n    switch (donation.donation_type) {\r\n      case 'country':\r\n        if (donation.target_country_id) {\r\n          const country = countries.find(c => c.id === parseInt(donation.target_country_id));\r\n          return {\r\n            type: 'Country-Specific',\r\n            name: country ? country.name : `Unknown Country (ID: ${donation.target_country_id})`,\r\n            id: donation.target_country_id\r\n          };\r\n        }\r\n        return { type: 'Country-Specific', name: 'Not specified', id: null };\r\n      case 'project':\r\n        if (donation.target_project_id) {\r\n          const project = projects.find(p => p.id === parseInt(donation.target_project_id));\r\n          return {\r\n            type: 'Project-Specific',\r\n            name: project ? project.title : `Unknown Project (ID: ${donation.target_project_id})`,\r\n            id: donation.target_project_id,\r\n            country: project?.country_name || project?.countryName || 'Unknown'\r\n          };\r\n        }\r\n        return { type: 'Project-Specific', name: 'Not specified', id: null };\r\n      default:\r\n        return { type: 'General Impact', name: 'ACEF General Fund', id: null };\r\n    }\r\n  };\r\n\r\n  // Fetch donations based on active tab\r\n  const fetchDonations = async () => {\r\n    setLoading(true);\r\n    try {\r\n      let endpoint;\r\n      switch (activeTab) {\r\n        case 'pending':\r\n          endpoint = `${API_BASE}/donations/admin/pending`;\r\n          break;\r\n        case 'completed':\r\n          endpoint = `${API_BASE}/donations/admin/completed`;\r\n          break;\r\n        case 'all':\r\n          endpoint = `${API_BASE}/donations/admin/all`;\r\n          break;\r\n        default:\r\n          endpoint = `${API_BASE}/donations/admin/pending`;\r\n      }\r\n\r\n      const response = await fetch(endpoint, {\r\n        credentials: 'include'\r\n      });\r\n      const data = await response.json();\r\n\r\n      if (data.success) {\r\n        setDonations(data.data);\r\n        setFilteredDonations(data.data);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error fetching donations:', error);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  // Fetch statistics\r\n  const fetchStatistics = async () => {\r\n    try {\r\n      const response = await fetch(`${API_BASE}/donations/admin/statistics`, {\r\n        credentials: 'include'\r\n      });\r\n      const data = await response.json();\r\n\r\n      if (data.success) {\r\n        setStatistics(data.data);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error fetching statistics:', error);\r\n    }\r\n  };\r\n\r\n  // Load reference data on mount\r\n  useEffect(() => {\r\n    fetchReferenceData();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    fetchDonations();\r\n  }, [activeTab]);\r\n\r\n  useEffect(() => {\r\n    fetchStatistics();\r\n  }, []);\r\n\r\n  // Filter donations based on search term\r\n  useEffect(() => {\r\n    if (!searchTerm) {\r\n      setFilteredDonations(donations);\r\n    } else {\r\n      const filtered = donations.filter(donation => {\r\n        const searchLower = searchTerm.toLowerCase();\r\n        const targetName = getTargetDisplayName(donation).toLowerCase();\r\n        \r\n        return (\r\n          donation.donor_name?.toLowerCase().includes(searchLower) ||\r\n          donation.donor_email?.toLowerCase().includes(searchLower) ||\r\n          donation.id?.toLowerCase().includes(searchLower) ||\r\n          donation.donation_type?.toLowerCase().includes(searchLower) ||\r\n          targetName.includes(searchLower)\r\n        );\r\n      });\r\n      setFilteredDonations(filtered);\r\n    }\r\n  }, [searchTerm, donations, countries, projects]);\r\n\r\n  // Send reminder\r\nconst sendReminder = async () => {\r\n  if (!selectedDonation) {\r\n    showNotification('No donation selected', 'error');\r\n    return;\r\n  }\r\n\r\n  try {\r\n    console.log('Sending reminder for donation:', selectedDonation.id);\r\n    console.log('Reminder form data:', reminderForm);\r\n\r\n    const response = await fetch(`${API_BASE}/donations/admin/${selectedDonation.id}/reminder`, {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n      },\r\n      credentials: 'include',\r\n      body: JSON.stringify({\r\n        reminderType: reminderForm.type,\r\n        message: reminderForm.message,\r\n        sendEmail: true // Explicitly request email sending\r\n      })\r\n    });\r\n\r\n    console.log('Reminder response status:', response.status);\r\n\r\n    if (!response.ok) {\r\n      const errorText = await response.text();\r\n      console.error('Reminder failed with status:', response.status, errorText);\r\n      throw new Error(`Server returned ${response.status}: ${errorText}`);\r\n    }\r\n\r\n    const data = await response.json();\r\n    console.log('Reminder response data:', data);\r\n\r\n    if (data.success) {\r\n      showNotification(\r\n        data.data?.emailSent \r\n          ? `Reminder email sent to ${selectedDonation.donor_email}` \r\n          : 'Reminder logged successfully', \r\n        'success'\r\n      );\r\n      \r\n      // Close modal and reset form\r\n      setShowReminderModal(false);\r\n      setReminderForm({ type: 'payment_pending', message: '' });\r\n      \r\n      // Optionally refresh donations to show updated reminder timestamp\r\n      fetchDonations();\r\n    } else {\r\n      throw new Error(data.message || 'Unknown error occurred');\r\n    }\r\n\r\n  } catch (error) {\r\n    console.error('Error sending reminder:', error);\r\n    showNotification(`Failed to send reminder: ${error.message}`, 'error');\r\n  }\r\n};\r\n\r\n\r\n  const getStatusBadge = (status, paymentStatus) => {\r\n    if (status === 'completed' && paymentStatus === 'completed') {\r\n      return <span className=\"status-badge completed\"><CheckCircle size={14} /> Completed</span>;\r\n    }\r\n    if (status === 'pending' || paymentStatus === 'pending') {\r\n      return <span className=\"status-badge pending\"><Clock size={14} /> Pending</span>;\r\n    }\r\n    return <span className=\"status-badge processing\"><AlertCircle size={14} /> Processing</span>;\r\n  };\r\n\r\n  const formatAmount = (amount) => {\r\n    return new Intl.NumberFormat('en-US', {\r\n      style: 'currency',\r\n      currency: 'USD'\r\n    }).format(amount);\r\n  };\r\n\r\n  const formatDate = (dateString) => {\r\n    return new Date(dateString).toLocaleDateString('en-US', {\r\n      year: 'numeric',\r\n      month: 'short',\r\n      day: 'numeric',\r\n      hour: '2-digit',\r\n      minute: '2-digit'\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div className=\"admin-donation-management\">\r\n      <style jsx>{`\r\n        .admin-donation-management {\r\n          padding: 24px;\r\n          background-color: #f9fafb;\r\n          min-height: 100vh;\r\n        }\r\n\r\n        .page-header {\r\n          background: white;\r\n          border-radius: 12px;\r\n          padding: 24px;\r\n          margin-bottom: 24px;\r\n          box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);\r\n        }\r\n\r\n        .page-header h1 {\r\n          margin: 0 0 8px 0;\r\n          color: #0a451c;\r\n          font-size: 28px;\r\n          font-weight: 700;\r\n        }\r\n\r\n        .page-header p {\r\n          margin: 0;\r\n          color: #6b7280;\r\n          font-size: 16px;\r\n        }\r\n\r\n        .reference-status {\r\n          margin-top: 12px;\r\n          padding: 8px 12px;\r\n          border-radius: 6px;\r\n          font-size: 13px;\r\n          display: flex;\r\n          align-items: center;\r\n          gap: 6px;\r\n        }\r\n\r\n        .reference-status.loading {\r\n          background: #fef3c7;\r\n          color: #92400e;\r\n        }\r\n\r\n        .reference-status.loaded {\r\n          background: #d1fae5;\r\n          color: #065f46;\r\n        }\r\n\r\n        .reference-status.error {\r\n          background: #fee2e2;\r\n          color: #dc2626;\r\n        }\r\n\r\n        .stats-grid {\r\n          display: grid;\r\n          grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));\r\n          gap: 16px;\r\n          margin-bottom: 24px;\r\n        }\r\n\r\n        .stat-card {\r\n          background: white;\r\n          border-radius: 12px;\r\n          padding: 20px;\r\n          box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);\r\n          border-left: 4px solid #0a451c;\r\n        }\r\n\r\n        .stat-card.secondary {\r\n          border-left-color: #facf3c;\r\n        }\r\n\r\n        .stat-card.accent {\r\n          border-left-color: #9ccf9f;\r\n        }\r\n\r\n        .stat-card.info {\r\n          border-left-color: #3b82f6;\r\n        }\r\n\r\n        .stat-header {\r\n          display: flex;\r\n          align-items: center;\r\n          gap: 8px;\r\n          margin-bottom: 8px;\r\n        }\r\n\r\n        .stat-header h3 {\r\n          margin: 0;\r\n          font-size: 14px;\r\n          font-weight: 500;\r\n          color: #6b7280;\r\n          text-transform: uppercase;\r\n          letter-spacing: 0.5px;\r\n        }\r\n\r\n        .stat-value {\r\n          font-size: 24px;\r\n          font-weight: 700;\r\n          color: #1f2937;\r\n          margin: 0;\r\n        }\r\n\r\n        .controls-section {\r\n          background: white;\r\n          border-radius: 12px;\r\n          padding: 20px;\r\n          margin-bottom: 24px;\r\n          box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);\r\n        }\r\n\r\n        .controls-row {\r\n          display: flex;\r\n          align-items: center;\r\n          gap: 16px;\r\n          flex-wrap: wrap;\r\n        }\r\n\r\n        .search-box {\r\n          flex: 1;\r\n          min-width: 300px;\r\n          position: relative;\r\n        }\r\n\r\n        .search-box input {\r\n          width: 100%;\r\n          padding: 10px 12px 10px 40px;\r\n          border: 1px solid #d1d5db;\r\n          border-radius: 8px;\r\n          font-size: 14px;\r\n          transition: all 0.2s ease;\r\n        }\r\n\r\n        .search-box input:focus {\r\n          outline: none;\r\n          border-color: #0a451c;\r\n          box-shadow: 0 0 0 3px rgba(10, 69, 28, 0.1);\r\n        }\r\n\r\n        .search-icon {\r\n          position: absolute;\r\n          left: 12px;\r\n          top: 50%;\r\n          transform: translateY(-50%);\r\n          color: #6b7280;\r\n        }\r\n\r\n        .tab-buttons {\r\n          display: flex;\r\n          gap: 8px;\r\n        }\r\n\r\n        .tab-button {\r\n          padding: 8px 16px;\r\n          border: 1px solid #d1d5db;\r\n          border-radius: 6px;\r\n          background: white;\r\n          color: #6b7280;\r\n          font-size: 14px;\r\n          font-weight: 500;\r\n          cursor: pointer;\r\n          transition: all 0.2s ease;\r\n        }\r\n\r\n        .tab-button.active {\r\n          background: #0a451c;\r\n          color: white;\r\n          border-color: #0a451c;\r\n        }\r\n\r\n        .tab-button:hover:not(.active) {\r\n          background: #f3f4f6;\r\n        }\r\n\r\n        .refresh-button {\r\n          padding: 8px 12px;\r\n          border: 1px solid #d1d5db;\r\n          border-radius: 6px;\r\n          background: white;\r\n          color: #6b7280;\r\n          cursor: pointer;\r\n          transition: all 0.2s ease;\r\n          display: flex;\r\n          align-items: center;\r\n          gap: 6px;\r\n        }\r\n\r\n        .refresh-button:hover {\r\n          background: #f3f4f6;\r\n        }\r\n\r\n        .donations-table {\r\n          background: white;\r\n          border-radius: 12px;\r\n          overflow: hidden;\r\n          box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);\r\n        }\r\n\r\n        .table-container {\r\n          overflow-x: auto;\r\n        }\r\n\r\n        table {\r\n          width: 100%;\r\n          border-collapse: collapse;\r\n        }\r\n\r\n        thead {\r\n          background: #f9fafb;\r\n        }\r\n\r\n        th {\r\n          padding: 12px 16px;\r\n          text-align: left;\r\n          font-size: 12px;\r\n          font-weight: 600;\r\n          color: #6b7280;\r\n          text-transform: uppercase;\r\n          letter-spacing: 0.5px;\r\n          border-bottom: 1px solid #e5e7eb;\r\n        }\r\n\r\n        td {\r\n          padding: 16px;\r\n          border-bottom: 1px solid #f3f4f6;\r\n          vertical-align: middle;\r\n        }\r\n\r\n        tr:hover {\r\n          background: #f9fafb;\r\n        }\r\n\r\n        .donor-info {\r\n          display: flex;\r\n          flex-direction: column;\r\n          gap: 4px;\r\n        }\r\n\r\n        .donor-name {\r\n          font-weight: 500;\r\n          color: #1f2937;\r\n        }\r\n\r\n        .donor-email {\r\n          font-size: 13px;\r\n          color: #6b7280;\r\n        }\r\n\r\n        .amount-cell {\r\n          font-weight: 600;\r\n          color: #059669;\r\n        }\r\n\r\n        .target-cell {\r\n          max-width: 200px;\r\n        }\r\n\r\n        .target-name {\r\n          font-weight: 500;\r\n          color: #1f2937;\r\n          font-size: 14px;\r\n        }\r\n\r\n        .target-type {\r\n          font-size: 12px;\r\n          color: #6b7280;\r\n          margin-top: 2px;\r\n        }\r\n\r\n        .status-badge {\r\n          display: inline-flex;\r\n          align-items: center;\r\n          gap: 4px;\r\n          padding: 4px 8px;\r\n          border-radius: 6px;\r\n          font-size: 12px;\r\n          font-weight: 500;\r\n          text-transform: uppercase;\r\n        }\r\n\r\n        .status-badge.completed {\r\n          background: #d1fae5;\r\n          color: #065f46;\r\n        }\r\n\r\n        .status-badge.pending {\r\n          background: #fef3c7;\r\n          color: #92400e;\r\n        }\r\n\r\n        .status-badge.processing {\r\n          background: #dbeafe;\r\n          color: #1e40af;\r\n        }\r\n\r\n        .actions-cell {\r\n          display: flex;\r\n          align-items: center;\r\n          gap: 8px;\r\n        }\r\n\r\n        .action-button {\r\n          padding: 6px 8px;\r\n          border: none;\r\n          border-radius: 4px;\r\n          cursor: pointer;\r\n          transition: all 0.2s ease;\r\n          display: flex;\r\n          align-items: center;\r\n          justify-content: center;\r\n          position: relative;\r\n        }\r\n\r\n        .action-button.view {\r\n          background: #f3f4f6;\r\n          color: #6b7280;\r\n        }\r\n\r\n        .action-button.complete {\r\n          background: #d1fae5;\r\n          color: #065f46;\r\n        }\r\n\r\n        .action-button.complete.processing {\r\n          background: #fbbf24;\r\n          color: white;\r\n          cursor: not-allowed;\r\n        }\r\n\r\n        .action-button.remind {\r\n          background: #fef3c7;\r\n          color: #92400e;\r\n        }\r\n\r\n        .action-button:hover:not(.processing) {\r\n          transform: translateY(-1px);\r\n          box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\r\n        }\r\n\r\n        .loading-state {\r\n          display: flex;\r\n          align-items: center;\r\n          justify-content: center;\r\n          padding: 60px;\r\n          color: #6b7280;\r\n        }\r\n\r\n        .empty-state {\r\n          text-align: center;\r\n          padding: 60px 20px;\r\n          color: #6b7280;\r\n        }\r\n\r\n        .empty-state h3 {\r\n          margin: 0 0 8px 0;\r\n          color: #374151;\r\n        }\r\n\r\n        /* Modal Styles */\r\n        .modal-overlay {\r\n          position: fixed;\r\n          inset: 0;\r\n          background: rgba(0, 0, 0, 0.5);\r\n          display: flex;\r\n          align-items: center;\r\n          justify-content: center;\r\n          z-index: 1000;\r\n        }\r\n\r\n        .modal {\r\n          background: white;\r\n          border-radius: 12px;\r\n          padding: 24px;\r\n          max-width: 500px;\r\n          width: 90%;\r\n          max-height: 80vh;\r\n          overflow-y: auto;\r\n        }\r\n\r\n        .modal-header {\r\n          display: flex;\r\n          align-items: center;\r\n          justify-content: space-between;\r\n          margin-bottom: 20px;\r\n        }\r\n\r\n        .modal-header h2 {\r\n          margin: 0;\r\n          color: #1f2937;\r\n        }\r\n\r\n        .close-button {\r\n          background: none;\r\n          border: none;\r\n          cursor: pointer;\r\n          color: #6b7280;\r\n          padding: 4px;\r\n        }\r\n\r\n        .modal-content {\r\n          display: flex;\r\n          flex-direction: column;\r\n          gap: 16px;\r\n        }\r\n\r\n        .form-group {\r\n          display: flex;\r\n          flex-direction: column;\r\n          gap: 6px;\r\n        }\r\n\r\n        .form-group label {\r\n          font-weight: 500;\r\n          color: #374151;\r\n          font-size: 14px;\r\n        }\r\n\r\n        .form-group input,\r\n        .form-group select,\r\n        .form-group textarea {\r\n          padding: 8px 12px;\r\n          border: 1px solid #d1d5db;\r\n          border-radius: 6px;\r\n          font-size: 14px;\r\n          transition: all 0.2s ease;\r\n        }\r\n\r\n        .form-group input:focus,\r\n        .form-group select:focus,\r\n        .form-group textarea:focus {\r\n          outline: none;\r\n          border-color: #0a451c;\r\n          box-shadow: 0 0 0 3px rgba(10, 69, 28, 0.1);\r\n        }\r\n\r\n        .form-group textarea {\r\n          resize: vertical;\r\n          min-height: 80px;\r\n        }\r\n\r\n        .target-info-section {\r\n          padding: 16px;\r\n          background: #f9fafb;\r\n          border-radius: 8px;\r\n          border: 1px solid #e5e7eb;\r\n        }\r\n\r\n        .target-info-section h4 {\r\n          margin: 0 0 12px 0;\r\n          color: #0a451c;\r\n          font-size: 15px;\r\n          font-weight: 600;\r\n        }\r\n\r\n        .target-detail {\r\n          display: flex;\r\n          justify-content: space-between;\r\n          align-items: center;\r\n          margin-bottom: 6px;\r\n        }\r\n\r\n        .target-detail:last-child {\r\n          margin-bottom: 0;\r\n        }\r\n\r\n        .target-label {\r\n          font-size: 13px;\r\n          color: #6b7280;\r\n          font-weight: 500;\r\n        }\r\n\r\n        .target-value {\r\n          font-size: 13px;\r\n          color: #1f2937;\r\n          font-weight: 500;\r\n        }\r\n\r\n        .modal-actions {\r\n          display: flex;\r\n          gap: 12px;\r\n          margin-top: 20px;\r\n        }\r\n\r\n        .modal-button {\r\n          padding: 8px 16px;\r\n          border: 1px solid transparent;\r\n          border-radius: 6px;\r\n          font-size: 14px;\r\n          font-weight: 500;\r\n          cursor: pointer;\r\n          transition: all 0.2s ease;\r\n          display: flex;\r\n          align-items: center;\r\n          gap: 6px;\r\n        }\r\n\r\n        .modal-button.primary {\r\n          background: #0a451c;\r\n          color: white;\r\n        }\r\n\r\n        .modal-button.primary.processing {\r\n          background: #fbbf24;\r\n          cursor: not-allowed;\r\n        }\r\n\r\n        .modal-button.secondary {\r\n          background: white;\r\n          color: #6b7280;\r\n          border-color: #d1d5db;\r\n        }\r\n\r\n        .modal-button:hover:not(.processing) {\r\n          transform: translateY(-1px);\r\n          box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\r\n        }\r\n\r\n        .spin {\r\n          animation: spin 1s linear infinite;\r\n        }\r\n\r\n        @keyframes spin {\r\n          from {\r\n            transform: rotate(0deg);\r\n          }\r\n          to {\r\n            transform: rotate(360deg);\r\n          }\r\n        }\r\n\r\n        .badge-status {\r\n          margin-top: 16px;\r\n          padding: 12px;\r\n          border-radius: 8px;\r\n          font-size: 13px;\r\n          display: flex;\r\n          align-items: center;\r\n          gap: 8px;\r\n        }\r\n\r\n        .badge-status.processing {\r\n          background: #fef3c7;\r\n          color: #92400e;\r\n          border: 1px solid #fbbf24;\r\n        }\r\n\r\n        .badge-status.success {\r\n          background: #d1fae5;\r\n          color: #065f46;\r\n          border: 1px solid #10b981;\r\n        }\r\n\r\n        .badge-status.error {\r\n          background: #fee2e2;\r\n          color: #dc2626;\r\n          border: 1px solid #ef4444;\r\n        }\r\n\r\n        @media (max-width: 768px) {\r\n          .admin-donation-management {\r\n            padding: 16px;\r\n          }\r\n\r\n          .stats-grid {\r\n            grid-template-columns: 1fr;\r\n          }\r\n\r\n          .controls-row {\r\n            flex-direction: column;\r\n            align-items: stretch;\r\n          }\r\n\r\n          .search-box {\r\n            min-width: unset;\r\n          }\r\n\r\n          .tab-buttons {\r\n            width: 100%;\r\n            justify-content: space-between;\r\n          }\r\n\r\n          .table-container {\r\n            font-size: 14px;\r\n          }\r\n\r\n          .target-cell {\r\n            max-width: 150px;\r\n          }\r\n\r\n          th, td {\r\n            padding: 8px 12px;\r\n          }\r\n        }\r\n\r\n\r\n        /* NEW: Target cell styling */\r\n        .target-cell {\r\n          max-width: 200px;\r\n        }\r\n\r\n        .target-name {\r\n          font-weight: 500;\r\n          color: #1f2937;\r\n          font-size: 14px;\r\n        }\r\n\r\n        .target-type {\r\n          font-size: 12px;\r\n          color: #6b7280;\r\n          margin-top: 2px;\r\n        }\r\n\r\n        .status-badge {\r\n          display: inline-flex;\r\n          align-items: center;\r\n          gap: 4px;\r\n          padding: 4px 8px;\r\n          border-radius: 6px;\r\n          font-size: 12px;\r\n          font-weight: 500;\r\n          text-transform: uppercase;\r\n        }\r\n\r\n        .status-badge.completed {\r\n          background: #d1fae5;\r\n          color: #065f46;\r\n        }\r\n\r\n        .status-badge.pending {\r\n          background: #fef3c7;\r\n          color: #92400e;\r\n        }\r\n\r\n        .status-badge.processing {\r\n          background: #dbeafe;\r\n          color: #1e40af;\r\n        }\r\n\r\n        .actions-cell {\r\n          display: flex;\r\n          align-items: center;\r\n          gap: 8px;\r\n        }\r\n\r\n        .action-button {\r\n          padding: 6px 8px;\r\n          border: none;\r\n          border-radius: 4px;\r\n          cursor: pointer;\r\n          transition: all 0.2s ease;\r\n          display: flex;\r\n          align-items: center;\r\n          justify-content: center;\r\n        }\r\n\r\n        .action-button.view {\r\n          background: #f3f4f6;\r\n          color: #6b7280;\r\n        }\r\n\r\n        .action-button.complete {\r\n          background: #d1fae5;\r\n          color: #065f46;\r\n        }\r\n\r\n        .action-button.remind {\r\n          background: #fef3c7;\r\n          color: #92400e;\r\n        }\r\n\r\n        .action-button:hover {\r\n          transform: translateY(-1px);\r\n          box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\r\n        }\r\n\r\n        .loading-state {\r\n          display: flex;\r\n          align-items: center;\r\n          justify-content: center;\r\n          padding: 60px;\r\n          color: #6b7280;\r\n        }\r\n\r\n        .empty-state {\r\n          text-align: center;\r\n          padding: 60px 20px;\r\n          color: #6b7280;\r\n        }\r\n\r\n        .empty-state h3 {\r\n          margin: 0 0 8px 0;\r\n          color: #374151;\r\n        }\r\n\r\n        /* Modal Styles */\r\n        .modal-overlay {\r\n          position: fixed;\r\n          inset: 0;\r\n          background: rgba(0, 0, 0, 0.5);\r\n          display: flex;\r\n          align-items: center;\r\n          justify-content: center;\r\n          z-index: 1000;\r\n        }\r\n\r\n        .modal {\r\n          background: white;\r\n          border-radius: 12px;\r\n          padding: 24px;\r\n          max-width: 500px;\r\n          width: 90%;\r\n          max-height: 80vh;\r\n          overflow-y: auto;\r\n        }\r\n\r\n        .modal-header {\r\n          display: flex;\r\n          align-items: center;\r\n          justify-content: space-between;\r\n          margin-bottom: 20px;\r\n        }\r\n\r\n        .modal-header h2 {\r\n          margin: 0;\r\n          color: #1f2937;\r\n        }\r\n\r\n        .close-button {\r\n          background: none;\r\n          border: none;\r\n          cursor: pointer;\r\n          color: #6b7280;\r\n          padding: 4px;\r\n        }\r\n\r\n        .modal-content {\r\n          display: flex;\r\n          flex-direction: column;\r\n          gap: 16px;\r\n        }\r\n\r\n        .form-group {\r\n          display: flex;\r\n          flex-direction: column;\r\n          gap: 6px;\r\n        }\r\n\r\n        .form-group label {\r\n          font-weight: 500;\r\n          color: #374151;\r\n          font-size: 14px;\r\n        }\r\n\r\n        .form-group input,\r\n        .form-group select,\r\n        .form-group textarea {\r\n          padding: 8px 12px;\r\n          border: 1px solid #d1d5db;\r\n          border-radius: 6px;\r\n          font-size: 14px;\r\n          transition: all 0.2s ease;\r\n        }\r\n\r\n        .form-group input:focus,\r\n        .form-group select:focus,\r\n        .form-group textarea:focus {\r\n          outline: none;\r\n          border-color: #0a451c;\r\n          box-shadow: 0 0 0 3px rgba(10, 69, 28, 0.1);\r\n        }\r\n\r\n        .form-group textarea {\r\n          resize: vertical;\r\n          min-height: 80px;\r\n        }\r\n\r\n        /* NEW: Target info styling in modal */\r\n        .target-info-section {\r\n          padding: 16px;\r\n          background: #f9fafb;\r\n          border-radius: 8px;\r\n          border: 1px solid #e5e7eb;\r\n        }\r\n\r\n        .target-info-section h4 {\r\n          margin: 0 0 12px 0;\r\n          color: #0a451c;\r\n          font-size: 15px;\r\n          font-weight: 600;\r\n        }\r\n\r\n        .target-detail {\r\n          display: flex;\r\n          justify-content: space-between;\r\n          align-items: center;\r\n          margin-bottom: 6px;\r\n        }\r\n\r\n        .target-detail:last-child {\r\n          margin-bottom: 0;\r\n        }\r\n\r\n        .target-label {\r\n          font-size: 13px;\r\n          color: #6b7280;\r\n          font-weight: 500;\r\n        }\r\n\r\n        .target-value {\r\n          font-size: 13px;\r\n          color: #1f2937;\r\n          font-weight: 500;\r\n        }\r\n\r\n        .modal-actions {\r\n          display: flex;\r\n          gap: 12px;\r\n          margin-top: 20px;\r\n        }\r\n\r\n        .modal-button {\r\n          padding: 8px 16px;\r\n          border: 1px solid transparent;\r\n          border-radius: 6px;\r\n          font-size: 14px;\r\n          font-weight: 500;\r\n          cursor: pointer;\r\n          transition: all 0.2s ease;\r\n          display: flex;\r\n          align-items: center;\r\n          gap: 6px;\r\n        }\r\n\r\n        .modal-button.primary {\r\n          background: #0a451c;\r\n          color: white;\r\n        }\r\n\r\n        .modal-button.secondary {\r\n          background: white;\r\n          color: #6b7280;\r\n          border-color: #d1d5db;\r\n        }\r\n\r\n        .modal-button:hover {\r\n          transform: translateY(-1px);\r\n          box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\r\n        }\r\n\r\n        .spin {\r\n          animation: spin 1s linear infinite;\r\n        }\r\n\r\n        @keyframes spin {\r\n          from {\r\n            transform: rotate(0deg);\r\n          }\r\n          to {\r\n            transform: rotate(360deg);\r\n          }\r\n        }\r\n\r\n        @media (max-width: 768px) {\r\n          .admin-donation-management {\r\n            padding: 16px;\r\n          }\r\n\r\n          .stats-grid {\r\n            grid-template-columns: 1fr;\r\n          }\r\n\r\n          .controls-row {\r\n            flex-direction: column;\r\n            align-items: stretch;\r\n          }\r\n\r\n          .search-box {\r\n            min-width: unset;\r\n          }\r\n\r\n          .tab-buttons {\r\n            width: 100%;\r\n            justify-content: space-between;\r\n          }\r\n\r\n          .table-container {\r\n            font-size: 14px;\r\n          }\r\n\r\n          .target-cell {\r\n            max-width: 150px;\r\n          }\r\n\r\n          th, td {\r\n            padding: 8px 12px;\r\n          }\r\n        }\r\n      `}</style>\r\n\r\n      <div className=\"page-header\">\r\n        <h1>Donation Management</h1>\r\n        <p>Manage donations, send reminders, and track completion status</p>\r\n        \r\n        {/* NEW: Reference data loading status */}\r\n        {referenceDataLoading ? (\r\n          <div className=\"reference-status loading\">\r\n            <RefreshCw size={14} className=\"spin\" />\r\n            Loading reference data...\r\n          </div>\r\n        ) : (\r\n          <div className=\"reference-status loaded\">\r\n            <CheckCircle size={14} />\r\n            Loaded {countries.length} countries, {projects.length} projects\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {/* Statistics Cards */}\r\n      <div className=\"stats-grid\">\r\n        <div className=\"stat-card\">\r\n          <div className=\"stat-header\">\r\n            <DollarSign size={20} color=\"#0a451c\" />\r\n            <h3>Total Donations</h3>\r\n          </div>\r\n          <p className=\"stat-value\">\r\n            {formatAmount(statistics.total_amount || 0)}\r\n          </p>\r\n        </div>\r\n\r\n        <div className=\"stat-card secondary\">\r\n          <div className=\"stat-header\">\r\n            <TrendingUp size={20} color=\"#facf3c\" />\r\n            <h3>Total Count</h3>\r\n          </div>\r\n          <p className=\"stat-value\">\r\n            {statistics.total_donations || 0}\r\n          </p>\r\n        </div>\r\n\r\n        <div className=\"stat-card accent\">\r\n          <div className=\"stat-header\">\r\n            <Users size={20} color=\"#9ccf9f\" />\r\n            <h3>Average Donation</h3>\r\n          </div>\r\n          <p className=\"stat-value\">\r\n            {formatAmount(statistics.average_amount || 0)}\r\n          </p>\r\n        </div>\r\n\r\n        <div className=\"stat-card info\">\r\n          <div className=\"stat-header\">\r\n            <Gift size={20} color=\"#3b82f6\" />\r\n            <h3>Anonymous</h3>\r\n          </div>\r\n          <p className=\"stat-value\">\r\n            {statistics.anonymous_donations?.total_count || 0}\r\n          </p>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Controls */}\r\n      <div className=\"controls-section\">\r\n        <div className=\"controls-row\">\r\n          <div className=\"search-box\">\r\n            <Search className=\"search-icon\" size={20} />\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"Search by name, email, donation ID, or target...\"\r\n              value={searchTerm}\r\n              onChange={(e) => setSearchTerm(e.target.value)}\r\n            />\r\n          </div>\r\n\r\n          <div className=\"tab-buttons\">\r\n            <button\r\n              className={`tab-button ${activeTab === 'pending' ? 'active' : ''}`}\r\n              onClick={() => setActiveTab('pending')}\r\n            >\r\n              Pending\r\n            </button>\r\n            <button\r\n              className={`tab-button ${activeTab === 'completed' ? 'active' : ''}`}\r\n              onClick={() => setActiveTab('completed')}\r\n            >\r\n              Completed\r\n            </button>\r\n            <button\r\n              className={`tab-button ${activeTab === 'all' ? 'active' : ''}`}\r\n              onClick={() => setActiveTab('all')}\r\n            >\r\n              All\r\n            </button>\r\n          </div>\r\n\r\n          <button className=\"refresh-button\" onClick={fetchDonations}>\r\n            <RefreshCw size={16} />\r\n            Refresh\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      {/* UPDATED: Donations Table with Target column */}\r\n      <div className=\"donations-table\">\r\n        <div className=\"table-container\">\r\n          <table>\r\n            <thead>\r\n              <tr>\r\n                <th>Donor</th>\r\n                <th>Amount</th>\r\n                <th>Type</th>\r\n                <th>Target</th>\r\n                <th>Status</th>\r\n                <th>Date</th>\r\n                <th>Actions</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {loading ? (\r\n                <tr>\r\n                  <td colSpan=\"7\">\r\n                    <div className=\"loading-state\">\r\n                      <RefreshCw size={24} className=\"spin\" />\r\n                      <span>Loading donations...</span>\r\n                    </div>\r\n                  </td>\r\n                </tr>\r\n              ) : filteredDonations.length === 0 ? (\r\n                <tr>\r\n                  <td colSpan=\"7\">\r\n                    <div className=\"empty-state\">\r\n                      <h3>No donations found</h3>\r\n                      <p>No donations match your current filters</p>\r\n                    </div>\r\n                  </td>\r\n                </tr>\r\n              ) : (\r\n                filteredDonations.map((donation) => (\r\n                  <tr key={donation.id}>\r\n                    <td>\r\n                      <div className=\"donor-info\">\r\n                        <span className=\"donor-name\">\r\n                          {donation.is_anonymous ? 'Anonymous' : donation.donor_name}\r\n                        </span>\r\n                        <span className=\"donor-email\">{donation.donor_email}</span>\r\n                      </div>\r\n                    </td>\r\n                    <td className=\"amount-cell\">\r\n                      {formatAmount(donation.amount)}\r\n                    </td>\r\n                    <td>\r\n                      <span style={{ textTransform: 'capitalize' }}>\r\n                        {donation.donation_type}\r\n                      </span>\r\n                    </td>\r\n                    <td className=\"target-cell\">\r\n                      <div className=\"target-name\">\r\n                        {getTargetDisplayName(donation)}\r\n                      </div>\r\n                      <div className=\"target-type\">\r\n                        {donation.donation_type === 'general' ? 'General Fund' : \r\n                         donation.donation_type === 'country' ? 'Country-specific' : \r\n                         'Project-specific'}\r\n                      </div>\r\n                    </td>\r\n                    <td>\r\n                      {getStatusBadge(donation.status, donation.payment_status)}\r\n                    </td>\r\n                    <td>\r\n                      {formatDate(donation.created_at)}\r\n                    </td>\r\n                    <td>\r\n                      <div className=\"actions-cell\">\r\n                        <button\r\n                          className=\"action-button view\"\r\n                          onClick={() => setSelectedDonation(donation)}\r\n                          title=\"View Details\"\r\n                        >\r\n                          <Eye size={16} />\r\n                        </button>\r\n\r\n                        {donation.status !== 'completed' && (\r\n                          <>\r\n                            <button\r\n                              className=\"action-button complete\"\r\n                              onClick={() => markCompleted(donation.id)}\r\n                              title=\"Mark Complete\"\r\n                            >\r\n                              <CheckCircle size={16} />\r\n                            </button>\r\n\r\n                            <button\r\n                              className=\"action-button remind\"\r\n                              onClick={() => {\r\n                                setSelectedDonation(donation);\r\n                                setShowReminderModal(true);\r\n                              }}\r\n                              title=\"Send Reminder\"\r\n                            >\r\n                              <Mail size={16} />\r\n                            </button>\r\n                          </>\r\n                        )}\r\n                      </div>\r\n                    </td>\r\n                  </tr>\r\n                ))\r\n              )}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      </div>\r\n\r\n      {/* UPDATED: Donation Details Modal with improved target information */}\r\n      {selectedDonation && !showReminderModal && (\r\n        <div className=\"modal-overlay\" onClick={() => setSelectedDonation(null)}>\r\n          <div className=\"modal\" onClick={(e) => e.stopPropagation()}>\r\n            <div className=\"modal-header\">\r\n              <h2>Donation Details</h2>\r\n              <button\r\n                className=\"close-button\"\r\n                onClick={() => setSelectedDonation(null)}\r\n              >\r\n                <X size={20} />\r\n              </button>\r\n            </div>\r\n\r\n            <div className=\"modal-content\">\r\n              <div className=\"form-group\">\r\n                <label>Donation ID</label>\r\n                <input value={selectedDonation.id} readOnly />\r\n              </div>\r\n\r\n              <div className=\"form-group\">\r\n                <label>Donor Name</label>\r\n                <input\r\n                  value={selectedDonation.is_anonymous ? 'Anonymous' : selectedDonation.donor_name}\r\n                  readOnly\r\n                />\r\n              </div>\r\n\r\n              <div className=\"form-group\">\r\n                <label>Email</label>\r\n                <input value={selectedDonation.donor_email} readOnly />\r\n              </div>\r\n\r\n              <div className=\"form-group\">\r\n                <label>Amount</label>\r\n                <input value={formatAmount(selectedDonation.amount)} readOnly />\r\n              </div>\r\n\r\n              <div className=\"form-group\">\r\n                <label>Donation Type</label>\r\n                <input \r\n                  value={selectedDonation.donation_type} \r\n                  style={{ textTransform: 'capitalize' }}\r\n                  readOnly \r\n                />\r\n              </div>\r\n\r\n              {/* NEW: Enhanced target information section */}\r\n              <div className=\"target-info-section\">\r\n                <h4>Target Information</h4>\r\n                {(() => {\r\n                  const targetInfo = getDetailedTargetInfo(selectedDonation);\r\n                  return (\r\n                    <>\r\n                      <div className=\"target-detail\">\r\n                        <span className=\"target-label\">Type:</span>\r\n                        <span className=\"target-value\">{targetInfo.type}</span>\r\n                      </div>\r\n                      <div className=\"target-detail\">\r\n                        <span className=\"target-label\">Target:</span>\r\n                        <span className=\"target-value\">{targetInfo.name}</span>\r\n                      </div>\r\n                      {targetInfo.id && (\r\n                        <div className=\"target-detail\">\r\n                          <span className=\"target-label\">ID:</span>\r\n                          <span className=\"target-value\">{targetInfo.id}</span>\r\n                        </div>\r\n                      )}\r\n                      {targetInfo.country && (\r\n                        <div className=\"target-detail\">\r\n                          <span className=\"target-label\">Country:</span>\r\n                          <span className=\"target-value\">{targetInfo.country}</span>\r\n                        </div>\r\n                      )}\r\n                    </>\r\n                  );\r\n                })()}\r\n              </div>\r\n\r\n              <div className=\"form-group\">\r\n                <label>Status</label>\r\n                <input value={`${selectedDonation.status} / ${selectedDonation.payment_status}`} readOnly />\r\n              </div>\r\n\r\n              <div className=\"form-group\">\r\n                <label>Created Date</label>\r\n                <input value={formatDate(selectedDonation.created_at)} readOnly />\r\n              </div>\r\n\r\n              {selectedDonation.admin_notes && (\r\n                <div className=\"form-group\">\r\n                  <label>Admin Notes</label>\r\n                  <textarea value={selectedDonation.admin_notes} readOnly />\r\n                </div>\r\n              )}\r\n            </div>\r\n\r\n            {selectedDonation.status !== 'completed' && (\r\n              <div className=\"modal-actions\">\r\n                <button\r\n                  className=\"modal-button primary\"\r\n                  onClick={() => markCompleted(selectedDonation.id)}\r\n                >\r\n                  <CheckCircle size={16} />\r\n                  Mark Complete\r\n                </button>\r\n                <button\r\n                  className=\"modal-button secondary\"\r\n                  onClick={() => {\r\n                    setShowReminderModal(true);\r\n                  }}\r\n                >\r\n                  <Mail size={16} />\r\n                  Send Reminder\r\n                </button>\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Reminder Modal */}\r\n     {showReminderModal && selectedDonation && (\r\n  <div className=\"modal-overlay\" onClick={() => setShowReminderModal(false)}>\r\n    <div className=\"modal\" onClick={(e) => e.stopPropagation()}>\r\n      <div className=\"modal-header\">\r\n        <h2>Send Reminder</h2>\r\n        <button\r\n          className=\"close-button\"\r\n          onClick={() => setShowReminderModal(false)}\r\n        >\r\n          <X size={20} />\r\n        </button>\r\n      </div>\r\n\r\n      <div className=\"modal-content\">\r\n        <div className=\"form-group\">\r\n          <label>Donor Information</label>\r\n          <input \r\n            value={`${selectedDonation.donor_name} (${selectedDonation.donor_email})`} \r\n            readOnly \r\n            style={{ background: '#f9fafb', color: '#6b7280' }}\r\n          />\r\n        </div>\r\n\r\n        <div className=\"form-group\">\r\n          <label>Donation Details</label>\r\n          <input \r\n            value={`${formatAmount(selectedDonation.amount)} - ${selectedDonation.donation_type} donation`} \r\n            readOnly \r\n            style={{ background: '#f9fafb', color: '#6b7280' }}\r\n          />\r\n        </div>\r\n\r\n        <div className=\"form-group\">\r\n          <label>Reminder Type *</label>\r\n          <select\r\n            value={reminderForm.type}\r\n            onChange={(e) => setReminderForm(prev => ({ ...prev, type: e.target.value }))}\r\n            required\r\n          >\r\n            <option value=\"payment_pending\">Payment Pending</option>\r\n            <option value=\"completion_reminder\">Completion Status Update</option>\r\n            <option value=\"thank_you_follow\">Thank You Follow-up</option>\r\n          </select>\r\n        </div>\r\n\r\n        <div className=\"form-group\">\r\n          <label>Personal Message (Optional)</label>\r\n          <textarea\r\n            placeholder=\"Add a personal message to include in the reminder email...\"\r\n            value={reminderForm.message}\r\n            onChange={(e) => setReminderForm(prev => ({ ...prev, message: e.target.value }))}\r\n            rows={4}\r\n            maxLength={500}\r\n          />\r\n          <small style={{ color: '#6b7280', fontSize: '0.85rem' }}>\r\n            {reminderForm.message.length}/500 characters\r\n          </small>\r\n        </div>\r\n\r\n        {/* Preview section */}\r\n        <div style={{ \r\n          background: '#f0f9ff', \r\n          padding: '16px', \r\n          borderRadius: '8px', \r\n          border: '1px solid #bae6fd',\r\n          marginTop: '16px'\r\n        }}>\r\n          <h4 style={{ margin: '0 0 8px 0', color: '#0369a1', fontSize: '14px' }}>\r\n            Email Preview:\r\n          </h4>\r\n          <p style={{ margin: '0', fontSize: '13px', color: '#0c4a6e' }}>\r\n            {reminderForm.type === 'payment_pending' && 'Payment reminder will be sent to complete the pending donation.'}\r\n            {reminderForm.type === 'completion_reminder' && 'Status update will be sent about donation processing.'}\r\n            {reminderForm.type === 'thank_you_follow' && 'Follow-up message will be sent with impact information.'}\r\n          </p>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"modal-actions\">\r\n        <button\r\n          className=\"modal-button primary\"\r\n          onClick={sendReminder}\r\n          disabled={!reminderForm.type}\r\n        >\r\n          <Send size={16} />\r\n          Send Email Reminder\r\n        </button>\r\n        <button\r\n          className=\"modal-button secondary\"\r\n          onClick={() => setShowReminderModal(false)}\r\n        >\r\n          Cancel\r\n        </button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n)}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AdminDonationManagement;","import React, { useState, useEffect, useRef } from 'react';\r\nimport axios from 'axios';\r\nimport {\r\n  Box,\r\n  Paper,\r\n  Typography,\r\n  Button,\r\n  TextField,\r\n  Avatar,\r\n  CircularProgress,\r\n  Alert,\r\n  Dialog,\r\n  DialogActions,\r\n  DialogContent,\r\n  DialogContentText,\r\n  DialogTitle,\r\n  Skeleton,\r\n  Grid,\r\n  Card,\r\n  CardContent,\r\n  CardActions,\r\n  Chip\r\n} from '@mui/material';\r\nimport {\r\n  CloudUpload as UploadIcon,\r\n  Delete as DeleteIcon,\r\n  Edit as EditIcon,\r\n  Save as SaveIcon,\r\n  Cancel as CancelIcon,\r\n  History as HistoryIcon\r\n} from '@mui/icons-material';\r\nimport { useLogo } from '../../context/LogoContext';\r\nimport { useAuth } from '../../context/AuthContext';\r\nimport { API_URL } from '../../config';\r\n\r\nconst AdminManageLogo = () => {\r\n  const { currentLogo, loading, refreshLogo, updateLogo, clearLogo } = useLogo();\r\n  \r\n  // State management\r\n  const [uploading, setUploading] = useState(false);\r\n  const [updating, setUpdating] = useState(false);\r\n  const [deleting, setDeleting] = useState(false);\r\n  const [error, setError] = useState('');\r\n  const [success, setSuccess] = useState('');\r\n  const [deleteDialogOpen, setDeleteDialogOpen] = useState(false);\r\n  const [editMode, setEditMode] = useState(false);\r\n  const [altText, setAltText] = useState('');\r\n  const [logoHistory, setLogoHistory] = useState([]);\r\n  const [loadingHistory, setLoadingHistory] = useState(false);\r\n  const [showHistory, setShowHistory] = useState(false);\r\n  \r\n  const fileInputRef = useRef(null);\r\n\r\n  // Initialize alt text when logo loads\r\n  useEffect(() => {\r\n    if (currentLogo?.alt_text) {\r\n      setAltText(currentLogo.alt_text);\r\n    }\r\n  }, [currentLogo]);\r\n\r\n  // Clear messages after delay\r\n  useEffect(() => {\r\n    if (success || error) {\r\n      const timer = setTimeout(() => {\r\n        setSuccess('');\r\n        setError('');\r\n      }, 5000);\r\n      return () => clearTimeout(timer);\r\n    }\r\n  }, [success, error]);\r\n\r\n  // Upload logo handler - FIXED with fetch\r\n  const handleUploadLogo = async (event) => {\r\n    const file = event.target.files[0];\r\n    if (!file) return;\r\n\r\n    // Validate file type\r\n    const allowedTypes = ['image/jpeg', 'image/jpg', 'image/png', 'image/gif', 'image/webp'];\r\n    if (!allowedTypes.includes(file.type)) {\r\n      setError('Please select a valid image file (JPEG, PNG, GIF, or WebP)');\r\n      return;\r\n    }\r\n\r\n    // Validate file size (max 5MB)\r\n    const maxSize = 5 * 1024 * 1024; // 5MB\r\n    if (file.size > maxSize) {\r\n      setError('File size must be less than 5MB');\r\n      return;\r\n    }\r\n\r\n    setUploading(true);\r\n    setError('');\r\n    setSuccess('');\r\n\r\n    try {\r\n      const formData = new FormData();\r\n      formData.append('logo', file);\r\n      formData.append('alt_text', altText || 'ACEF Logo');\r\n\r\n      console.log('Uploading file:', file.name, 'Size:', file.size);\r\n\r\n      // FIXED: Use axios with proper configuration like AdminManageTeam\r\n      const response = await axios.post(`${API_URL}/logos`, formData, {\r\n        withCredentials: true,\r\n        headers: { 'Content-Type': 'multipart/form-data' },\r\n      });\r\n\r\n      const data = response.data;\r\n\r\n      if (data.success) {\r\n        setSuccess('Logo uploaded successfully!');\r\n        updateLogo(data.data);\r\n        refreshLogo();\r\n        \r\n        // Clear file input\r\n        if (fileInputRef.current) {\r\n          fileInputRef.current.value = '';\r\n        }\r\n      } else {\r\n        throw new Error(data.message || 'Upload failed');\r\n      }\r\n\r\n    } catch (error) {\r\n      console.error('Upload failed:', error);\r\n      const errorMessage = error.response?.data?.message || error.message || 'Upload failed';\r\n      setError(`Upload failed: ${errorMessage}`);\r\n    } finally {\r\n      setUploading(false);\r\n    }\r\n  };\r\n\r\n  // Update logo metadata - FIXED with fetch\r\n  const handleUpdateLogo = async () => {\r\n    if (!currentLogo?.id) {\r\n      setError('No logo selected to update');\r\n      return;\r\n    }\r\n\r\n    if (!altText.trim()) {\r\n      setError('Alt text is required');\r\n      return;\r\n    }\r\n\r\n    setUpdating(true);\r\n    setError('');\r\n    setSuccess('');\r\n\r\n    try {\r\n      // FIXED: Use axios with proper configuration like AdminManageTeam\r\n      const response = await axios.put(`${API_URL}/logos/${currentLogo.id}`, \r\n        { alt_text: altText.trim() },\r\n        { withCredentials: true }\r\n      );\r\n\r\n      const data = response.data;\r\n\r\n      if (data.success) {\r\n        setSuccess('Logo updated successfully!');\r\n        updateLogo(data.data);\r\n        setEditMode(false);\r\n        refreshLogo();\r\n      } else {\r\n        throw new Error(data.message || 'Update failed');\r\n      }\r\n\r\n    } catch (error) {\r\n      console.error('Update failed:', error);\r\n      const errorMessage = error.response?.data?.message || error.message || 'Update failed';\r\n      setError(`Update failed: ${errorMessage}`);\r\n    } finally {\r\n      setUpdating(false);\r\n    }\r\n  };\r\n\r\n  // Delete logo handler - FIXED with fetch\r\n  const handleDeleteLogo = async () => {\r\n    if (!currentLogo?.id) {\r\n      setError('No logo selected to delete');\r\n      return;\r\n    }\r\n\r\n    setDeleting(true);\r\n    setError('');\r\n    setSuccess('');\r\n\r\n    try {\r\n      // FIXED: Use axios with proper configuration like AdminManageTeam\r\n      const response = await axios.delete(`${API_URL}/logos/${currentLogo.id}`, {\r\n        withCredentials: true\r\n      });\r\n\r\n      const data = response.data;\r\n\r\n      if (data.success) {\r\n        setSuccess('Logo deleted successfully!');\r\n        clearLogo();\r\n        setDeleteDialogOpen(false);\r\n        refreshLogo();\r\n      } else {\r\n        throw new Error(data.message || 'Delete failed');\r\n      }\r\n\r\n    } catch (error) {\r\n      console.error('Delete failed:', error);\r\n      const errorMessage = error.response?.data?.message || error.message || 'Delete failed';\r\n      setError(`Delete failed: ${errorMessage}`);\r\n    } finally {\r\n      setDeleting(false);\r\n    }\r\n  };\r\n\r\n  // Fetch logo history - FIXED with fetch\r\n  const handleFetchHistory = async () => {\r\n    setLoadingHistory(true);\r\n    setError('');\r\n\r\n    try {\r\n      // FIXED: Use axios with proper configuration like AdminManageTeam\r\n      const response = await axios.get(`${API_URL}/logos/history`, {\r\n        withCredentials: true\r\n      });\r\n\r\n      const data = response.data;\r\n\r\n      if (data.success) {\r\n        setLogoHistory(data.data || []);\r\n        setShowHistory(true);\r\n      } else {\r\n        throw new Error(data.message || 'Failed to fetch history');\r\n      }\r\n\r\n    } catch (error) {\r\n      console.error('Failed to fetch history:', error);\r\n      const errorMessage = error.response?.data?.message || error.message || 'Failed to fetch history';\r\n      setError(`Failed to fetch history: ${errorMessage}`);\r\n    } finally {\r\n      setLoadingHistory(false);\r\n    }\r\n  };\r\n\r\n  // Cancel edit mode\r\n  const handleCancelEdit = () => {\r\n    setEditMode(false);\r\n    setAltText(currentLogo?.alt_text || '');\r\n  };\r\n\r\n  // Render logo preview\r\n  const renderLogoPreview = () => {\r\n    if (loading) {\r\n      return <Skeleton variant=\"rectangular\" width={200} height={200} />;\r\n    }\r\n\r\n    if (!currentLogo) {\r\n      return (\r\n        <Box\r\n          sx={{\r\n            width: 200,\r\n            height: 200,\r\n            border: '2px dashed #ccc',\r\n            display: 'flex',\r\n            alignItems: 'center',\r\n            justifyContent: 'center',\r\n            borderRadius: 1\r\n          }}\r\n        >\r\n          <Typography variant=\"body2\" color=\"text.secondary\">\r\n            No logo uploaded\r\n          </Typography>\r\n        </Box>\r\n      );\r\n    }\r\n\r\n    return (\r\n      <Avatar\r\n        src={currentLogo.full_url}\r\n        alt={currentLogo.alt_text}\r\n        sx={{\r\n          width: 200,\r\n          height: 200,\r\n          border: '2px solid #e0e0e0',\r\n          '& img': {\r\n            objectFit: 'contain'\r\n          }\r\n        }}\r\n      />\r\n    );\r\n  };\r\n\r\n\r\n\r\n  return (\r\n    <Box sx={{ p: 3, maxWidth: 1200, mx: 'auto' }}>\r\n      <Typography variant=\"h4\" gutterBottom>\r\n        Logo Management\r\n      </Typography>\r\n\r\n      {/* Error and Success Messages */}\r\n      {error && (\r\n        <Alert severity=\"error\" sx={{ mb: 2 }} onClose={() => setError('')}>\r\n          {error}\r\n        </Alert>\r\n      )}\r\n\r\n      {success && (\r\n        <Alert severity=\"success\" sx={{ mb: 2 }} onClose={() => setSuccess('')}>\r\n          {success}\r\n        </Alert>\r\n      )}\r\n\r\n      <Grid container spacing={3}>\r\n        {/* Current Logo Section */}\r\n        <Grid item xs={12} md={6}>\r\n          <Paper sx={{ p: 3 }}>\r\n            <Typography variant=\"h6\" gutterBottom>\r\n              Current Logo\r\n            </Typography>\r\n\r\n            <Box sx={{ display: 'flex', flexDirection: 'column', alignItems: 'center', mb: 3 }}>\r\n              {renderLogoPreview()}\r\n\r\n              {currentLogo && (\r\n                <Box sx={{ mt: 2, textAlign: 'center' }}>\r\n                  {editMode ? (\r\n                    <TextField\r\n                      label=\"Alt Text\"\r\n                      value={altText}\r\n                      onChange={(e) => setAltText(e.target.value)}\r\n                      fullWidth\r\n                      sx={{ mb: 2 }}\r\n                      placeholder=\"Enter descriptive text for the logo\"\r\n                    />\r\n                  ) : (\r\n                    <Typography variant=\"body2\" color=\"text.secondary\">\r\n                      Alt Text: {currentLogo.alt_text}\r\n                    </Typography>\r\n                  )}\r\n                  \r\n                  <Typography variant=\"caption\" display=\"block\" sx={{ mt: 1 }}>\r\n                    Uploaded: {new Date(currentLogo.created_at).toLocaleDateString()}\r\n                  </Typography>\r\n                </Box>\r\n              )}\r\n            </Box>\r\n\r\n            {/* Action Buttons */}\r\n            <Box sx={{ display: 'flex', gap: 1, flexWrap: 'wrap', justifyContent: 'center' }}>\r\n              {!editMode && currentLogo && (\r\n                <>\r\n                  <Button\r\n                    variant=\"outlined\"\r\n                    startIcon={<EditIcon />}\r\n                    onClick={() => setEditMode(true)}\r\n                    size=\"small\"\r\n                  >\r\n                    Edit\r\n                  </Button>\r\n                  <Button\r\n                    variant=\"outlined\"\r\n                    color=\"error\"\r\n                    startIcon={<DeleteIcon />}\r\n                    onClick={() => setDeleteDialogOpen(true)}\r\n                    disabled={deleting}\r\n                    size=\"small\"\r\n                  >\r\n                    {deleting ? <CircularProgress size={20} /> : 'Delete'}\r\n                  </Button>\r\n                </>\r\n              )}\r\n\r\n              {editMode && (\r\n                <>\r\n                  <Button\r\n                    variant=\"contained\"\r\n                    startIcon={<SaveIcon />}\r\n                    onClick={handleUpdateLogo}\r\n                    disabled={updating}\r\n                    size=\"small\"\r\n                  >\r\n                    {updating ? <CircularProgress size={20} /> : 'Save'}\r\n                  </Button>\r\n                  <Button\r\n                    variant=\"outlined\"\r\n                    startIcon={<CancelIcon />}\r\n                    onClick={handleCancelEdit}\r\n                    size=\"small\"\r\n                  >\r\n                    Cancel\r\n                  </Button>\r\n                </>\r\n              )}\r\n            </Box>\r\n          </Paper>\r\n        </Grid>\r\n\r\n        {/* Upload Section */}\r\n        <Grid item xs={12} md={6}>\r\n          <Paper sx={{ p: 3 }}>\r\n            <Typography variant=\"h6\" gutterBottom>\r\n              Upload New Logo\r\n            </Typography>\r\n\r\n            <Box sx={{ mb: 3 }}>\r\n              <TextField\r\n                label=\"Alt Text\"\r\n                value={altText}\r\n                onChange={(e) => setAltText(e.target.value)}\r\n                fullWidth\r\n                placeholder=\"Enter descriptive text for the logo\"\r\n                helperText=\"This text will be used for accessibility and SEO\"\r\n              />\r\n            </Box>\r\n\r\n            <input\r\n              type=\"file\"\r\n              accept=\"image/*\"\r\n              onChange={handleUploadLogo}\r\n              style={{ display: 'none' }}\r\n              ref={fileInputRef}\r\n            />\r\n\r\n            <Button\r\n              variant=\"contained\"\r\n              startIcon={uploading ? <CircularProgress size={20} /> : <UploadIcon />}\r\n              onClick={() => fileInputRef.current?.click()}\r\n              disabled={uploading}\r\n              fullWidth\r\n              size=\"large\"\r\n            >\r\n              {uploading ? 'Uploading...' : 'Choose Logo File'}\r\n            </Button>\r\n\r\n            <Typography variant=\"caption\" display=\"block\" sx={{ mt: 2, textAlign: 'center' }}>\r\n              Supported formats: JPEG, PNG, GIF, WebP (Max 5MB)\r\n            </Typography>\r\n          </Paper>\r\n        </Grid>\r\n\r\n        {/* History Section */}\r\n        <Grid item xs={12}>\r\n          <Paper sx={{ p: 3 }}>\r\n            <Box sx={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', mb: 2 }}>\r\n              <Typography variant=\"h6\">\r\n                Logo History\r\n              </Typography>\r\n              <Button\r\n                variant=\"outlined\"\r\n                startIcon={loadingHistory ? <CircularProgress size={20} /> : <HistoryIcon />}\r\n                onClick={handleFetchHistory}\r\n                disabled={loadingHistory}\r\n              >\r\n                {loadingHistory ? 'Loading...' : 'Load History'}\r\n              </Button>\r\n            </Box>\r\n\r\n            {showHistory && (\r\n              <Grid container spacing={2}>\r\n                {logoHistory.map((logo) => (\r\n                  <Grid item xs={12} sm={6} md={4} key={logo.id}>\r\n                    <Card>\r\n                      <Box sx={{ p: 2, display: 'flex', justifyContent: 'center' }}>\r\n                        <Avatar\r\n                          src={logo.full_url}\r\n                          alt={logo.alt_text}\r\n                          sx={{ width: 80, height: 80 }}\r\n                        />\r\n                      </Box>\r\n                      <CardContent sx={{ pt: 0 }}>\r\n                        <Typography variant=\"body2\" noWrap>\r\n                          {logo.alt_text}\r\n                        </Typography>\r\n                        <Typography variant=\"caption\" color=\"text.secondary\">\r\n                          {new Date(logo.created_at).toLocaleDateString()}\r\n                        </Typography>\r\n                        {logo.is_active && (\r\n                          <Chip\r\n                            label=\"Active\"\r\n                            color=\"primary\"\r\n                            size=\"small\"\r\n                            sx={{ ml: 1 }}\r\n                          />\r\n                        )}\r\n                      </CardContent>\r\n                    </Card>\r\n                  </Grid>\r\n                ))}\r\n\r\n                {logoHistory.length === 0 && (\r\n                  <Grid item xs={12}>\r\n                    <Typography variant=\"body2\" color=\"text.secondary\" textAlign=\"center\">\r\n                      No logo history found\r\n                    </Typography>\r\n                  </Grid>\r\n                )}\r\n              </Grid>\r\n            )}\r\n          </Paper>\r\n        </Grid>\r\n      </Grid>\r\n\r\n      {/* Delete Confirmation Dialog */}\r\n      <Dialog\r\n        open={deleteDialogOpen}\r\n        onClose={() => setDeleteDialogOpen(false)}\r\n      >\r\n        <DialogTitle>Confirm Delete</DialogTitle>\r\n        <DialogContent>\r\n          <DialogContentText>\r\n            Are you sure you want to delete the current logo? This action cannot be undone.\r\n          </DialogContentText>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={() => setDeleteDialogOpen(false)}>\r\n            Cancel\r\n          </Button>\r\n          <Button\r\n            onClick={handleDeleteLogo}\r\n            color=\"error\"\r\n            disabled={deleting}\r\n            startIcon={deleting ? <CircularProgress size={20} /> : undefined}\r\n          >\r\n            {deleting ? 'Deleting...' : 'Delete'}\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default AdminManageLogo;","import React, { useState, useEffect } from 'react';\r\nimport { API_URL, STATIC_URL } from '../../config';\r\n\r\nconst NewsletterManagement = () => {\r\n  const [activeTab, setActiveTab] = useState('overview');\r\n  const [subscribers, setSubscribers] = useState([]);\r\n  const [stats, setStats] = useState({});\r\n  const [messages, setMessages] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [confirmDelete, setConfirmDelete] = useState(null);\r\n  \r\n  // Message form state\r\n  const [messageForm, setMessageForm] = useState({\r\n    subject: '',\r\n    message: '',\r\n    messageType: 'newsletter'\r\n  });\r\n  const [sending, setSending] = useState(false);\r\n  const [sendResult, setSendResult] = useState(null);\r\n\r\n\r\n  useEffect(() => {\r\n    fetchData();\r\n  }, []);\r\n\r\n  const fetchData = async () => {\r\n    try {\r\n      setLoading(true);\r\n      \r\n      // Fetch subscribers\r\n      const subscribersRes = await fetch(`${API_URL}/newsletter/subscribers`, { \r\n        credentials: 'include',\r\n        headers: {\r\n          'Content-Type': 'application/json'\r\n        }\r\n      });\r\n      \r\n      // Fetch stats\r\n      const statsRes = await fetch(`${API_URL}/newsletter/stats`, { \r\n        credentials: 'include',\r\n        headers: {\r\n          'Content-Type': 'application/json'\r\n        }\r\n      });\r\n\r\n      // Fetch messages (this might fail if endpoint doesn't exist yet)\r\n      let messagesData = { data: { messages: [] } };\r\n      try {\r\n        const messagesRes = await fetch(`${API_URL}/newsletter/messages`, { \r\n          credentials: 'include',\r\n          headers: {\r\n            'Content-Type': 'application/json'\r\n          }\r\n        });\r\n        if (messagesRes.ok) {\r\n          messagesData = await messagesRes.json();\r\n        }\r\n      } catch (msgError) {\r\n        console.log('Messages endpoint not available yet:', msgError);\r\n      }\r\n\r\n      if (subscribersRes.ok) {\r\n        const subscribersData = await subscribersRes.json();\r\n        setSubscribers(subscribersData.data || []);\r\n      }\r\n      \r\n      if (statsRes.ok) {\r\n        const statsData = await statsRes.json();\r\n        setStats(statsData.data || {});\r\n      }\r\n      \r\n      setMessages(messagesData.data?.messages || []);\r\n      \r\n    } catch (error) {\r\n      console.error('Error fetching newsletter data:', error);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleDeleteClick = (email) => {\r\n    setConfirmDelete(email);\r\n  };\r\n\r\n  const confirmDeleteAction = async () => {\r\n    const email = confirmDelete;\r\n    setConfirmDelete(null);\r\n\r\n    try {\r\n      const response = await fetch(`${API_URL}/newsletter/subscribers/${encodeURIComponent(email)}`, {\r\n        method: 'DELETE',\r\n        credentials: 'include',\r\n        headers: {\r\n          'Content-Type': 'application/json'\r\n        }\r\n      });\r\n\r\n      if (response.ok) {\r\n        setSubscribers(prev => prev.filter(sub => sub.email !== email));\r\n        await fetchData(); // Refresh stats\r\n      } else {\r\n        const errorData = await response.json();\r\n        alert(`Error: ${errorData.message}`);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error deleting subscriber:', error);\r\n      alert('Error deleting subscriber');\r\n    }\r\n  };\r\n\r\n  const downloadSubscribers = () => {\r\n    if (subscribers.length === 0) {\r\n      alert('No subscribers to download');\r\n      return;\r\n    }\r\n\r\n    const emailList = subscribers.map(subscriber => subscriber.email).join('\\n');\r\n    const blob = new Blob([emailList], { type: 'text/csv;charset=utf-8;' });\r\n    const link = document.createElement('a');\r\n    const url = URL.createObjectURL(blob);\r\n    \r\n    link.setAttribute('href', url);\r\n    link.setAttribute('download', `newsletter_emails_${new Date().toISOString().split('T')[0]}.csv`);\r\n    link.style.visibility = 'hidden';\r\n    \r\n    document.body.appendChild(link);\r\n    link.click();\r\n    document.body.removeChild(link);\r\n    URL.revokeObjectURL(url);\r\n  };\r\n\r\n  const handleSendMessage = async (e) => {\r\n    e.preventDefault();\r\n    \r\n    if (!messageForm.subject.trim() || !messageForm.message.trim()) {\r\n      alert('Please fill in both subject and message');\r\n      return;\r\n    }\r\n\r\n    setSending(true);\r\n    setSendResult(null);\r\n\r\n    try {\r\n      const response = await fetch(`${API_URL}/newsletter/send-message`, {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n        credentials: 'include',\r\n        body: JSON.stringify(messageForm)\r\n      });\r\n\r\n      const result = await response.json();\r\n\r\n      if (response.ok) {\r\n        setSendResult({\r\n          success: true,\r\n          data: result.data\r\n        });\r\n        \r\n        // Reset form\r\n        setMessageForm({\r\n          subject: '',\r\n          message: '',\r\n          messageType: 'newsletter'\r\n        });\r\n        \r\n        // Refresh data\r\n        await fetchData();\r\n      } else {\r\n        setSendResult({\r\n          success: false,\r\n          message: result.message\r\n        });\r\n      }\r\n    } catch (error) {\r\n      console.error('Error sending message:', error);\r\n      setSendResult({\r\n        success: false,\r\n        message: 'Failed to send message. Please try again.'\r\n      });\r\n    } finally {\r\n      setSending(false);\r\n    }\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div style={{ \r\n        display: 'flex', \r\n        alignItems: 'center', \r\n        justifyContent: 'center', \r\n        padding: '50px',\r\n        fontSize: '18px',\r\n        color: '#666'\r\n      }}>\r\n        Loading newsletter data...\r\n      </div>\r\n    );\r\n  }\r\n\r\n  const tabStyle = {\r\n    display: 'flex',\r\n    gap: '4px',\r\n    marginBottom: '30px',\r\n    backgroundColor: '#f3f4f6',\r\n    padding: '4px',\r\n    borderRadius: '12px',\r\n    flexWrap: 'wrap'\r\n  };\r\n\r\n  const tabButtonStyle = (isActive) => ({\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    gap: '8px',\r\n    padding: '12px 20px',\r\n    borderRadius: '8px',\r\n    border: 'none',\r\n    cursor: 'pointer',\r\n    fontSize: '14px',\r\n    fontWeight: '500',\r\n    transition: 'all 0.2s ease',\r\n    backgroundColor: isActive ? 'white' : 'transparent',\r\n    color: isActive ? '#2563eb' : '#6b7280',\r\n    boxShadow: isActive ? '0 2px 8px rgba(0,0,0,0.1)' : 'none'\r\n  });\r\n\r\n  const cardStyle = {\r\n    background: 'white',\r\n    padding: '24px',\r\n    borderRadius: '16px',\r\n    border: '1px solid #e5e7eb',\r\n    boxShadow: '0 4px 16px rgba(0,0,0,0.04)'\r\n  };\r\n\r\n  const statCardStyle = (gradient) => ({\r\n    background: gradient,\r\n    padding: '24px',\r\n    borderRadius: '16px',\r\n    color: 'white',\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    justifyContent: 'space-between'\r\n  });\r\n\r\n  return (\r\n    <div style={{ maxWidth: '1200px', margin: '0 auto', padding: '24px' }}>\r\n      {/* Header */}\r\n      <div style={{ marginBottom: '32px' }}>\r\n        <h1 style={{ \r\n          fontSize: '32px', \r\n          fontWeight: 'bold', \r\n          color: '#111827', \r\n          margin: '0 0 8px 0' \r\n        }}>\r\n          Newsletter Management\r\n        </h1>\r\n        <p style={{ color: '#6b7280', margin: 0, fontSize: '16px' }}>\r\n          Manage subscribers and send messages to your community\r\n        </p>\r\n      </div>\r\n\r\n      {/* Navigation Tabs */}\r\n      <div style={tabStyle}>\r\n        <button\r\n          onClick={() => setActiveTab('overview')}\r\n          style={tabButtonStyle(activeTab === 'overview')}\r\n        >\r\n          <span></span>\r\n          <span>Overview</span>\r\n        </button>\r\n        <button\r\n          onClick={() => setActiveTab('compose')}\r\n          style={tabButtonStyle(activeTab === 'compose')}\r\n        >\r\n          <span></span>\r\n          <span>Compose Message</span>\r\n        </button>\r\n        <button\r\n          onClick={() => setActiveTab('subscribers')}\r\n          style={tabButtonStyle(activeTab === 'subscribers')}\r\n        >\r\n          <span></span>\r\n          <span>Subscribers</span>\r\n        </button>\r\n        <button\r\n          onClick={() => setActiveTab('history')}\r\n          style={tabButtonStyle(activeTab === 'history')}\r\n        >\r\n          <span></span>\r\n          <span>Message History</span>\r\n        </button>\r\n      </div>\r\n\r\n      {/* Overview Tab */}\r\n      {activeTab === 'overview' && (\r\n        <div>\r\n          {/* Statistics Cards */}\r\n          <div style={{ \r\n            display: 'grid', \r\n            gridTemplateColumns: 'repeat(auto-fit, minmax(250px, 1fr))', \r\n            gap: '24px', \r\n            marginBottom: '32px' \r\n          }}>\r\n            <div style={statCardStyle('linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%)')}>\r\n              <div>\r\n                <p style={{ margin: '0 0 8px 0', fontSize: '14px', opacity: 0.9 }}>Total Subscribers</p>\r\n                <p style={{ margin: 0, fontSize: '36px', fontWeight: 'bold' }}>{stats.total_subscribers || 0}</p>\r\n              </div>\r\n              <span style={{ fontSize: '32px', opacity: 0.8 }}></span>\r\n            </div>\r\n            \r\n            <div style={statCardStyle('linear-gradient(135deg, #10b981 0%, #059669 100%)')}>\r\n              <div>\r\n                <p style={{ margin: '0 0 8px 0', fontSize: '14px', opacity: 0.9 }}>Active Subscribers</p>\r\n                <p style={{ margin: 0, fontSize: '36px', fontWeight: 'bold' }}>{stats.active_subscribers || 0}</p>\r\n              </div>\r\n              <span style={{ fontSize: '32px', opacity: 0.8 }}></span>\r\n            </div>\r\n            \r\n            <div style={statCardStyle('linear-gradient(135deg, #8b5cf6 0%, #7c3aed 100%)')}>\r\n              <div>\r\n                <p style={{ margin: '0 0 8px 0', fontSize: '14px', opacity: 0.9 }}>Today's Subscriptions</p>\r\n                <p style={{ margin: 0, fontSize: '36px', fontWeight: 'bold' }}>{stats.today_subscriptions || 0}</p>\r\n              </div>\r\n              <span style={{ fontSize: '32px', opacity: 0.8 }}></span>\r\n            </div>\r\n            \r\n            <div style={statCardStyle('linear-gradient(135deg, #f59e0b 0%, #d97706 100%)')}>\r\n              <div>\r\n                <p style={{ margin: '0 0 8px 0', fontSize: '14px', opacity: 0.9 }}>Messages Sent</p>\r\n                <p style={{ margin: 0, fontSize: '36px', fontWeight: 'bold' }}>{messages.length || 0}</p>\r\n              </div>\r\n              <span style={{ fontSize: '32px', opacity: 0.8 }}></span>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Quick Actions */}\r\n          <div style={cardStyle}>\r\n            <h3 style={{ margin: '0 0 20px 0', fontSize: '20px', fontWeight: '600' }}>Quick Actions</h3>\r\n            <div style={{ \r\n              display: 'grid', \r\n              gridTemplateColumns: 'repeat(auto-fit, minmax(200px, 1fr))', \r\n              gap: '16px' \r\n            }}>\r\n              <button\r\n                onClick={() => setActiveTab('compose')}\r\n                style={{\r\n                  display: 'flex',\r\n                  alignItems: 'center',\r\n                  justifyContent: 'center',\r\n                  gap: '8px',\r\n                  backgroundColor: '#3b82f6',\r\n                  color: 'white',\r\n                  padding: '16px 24px',\r\n                  borderRadius: '12px',\r\n                  border: 'none',\r\n                  cursor: 'pointer',\r\n                  fontSize: '16px',\r\n                  fontWeight: '600',\r\n                  transition: 'all 0.2s ease'\r\n                }}\r\n                onMouseOver={(e) => e.target.style.backgroundColor = '#2563eb'}\r\n                onMouseOut={(e) => e.target.style.backgroundColor = '#3b82f6'}\r\n              >\r\n                <span></span>\r\n                <span>Compose Message</span>\r\n              </button>\r\n              \r\n              <button\r\n                onClick={downloadSubscribers}\r\n                style={{\r\n                  display: 'flex',\r\n                  alignItems: 'center',\r\n                  justifyContent: 'center',\r\n                  gap: '8px',\r\n                  backgroundColor: '#10b981',\r\n                  color: 'white',\r\n                  padding: '16px 24px',\r\n                  borderRadius: '12px',\r\n                  border: 'none',\r\n                  cursor: 'pointer',\r\n                  fontSize: '16px',\r\n                  fontWeight: '600',\r\n                  transition: 'all 0.2s ease'\r\n                }}\r\n                onMouseOver={(e) => e.target.style.backgroundColor = '#059669'}\r\n                onMouseOut={(e) => e.target.style.backgroundColor = '#10b981'}\r\n              >\r\n                <span></span>\r\n                <span>Download Emails</span>\r\n              </button>\r\n              \r\n              <button\r\n                onClick={() => setActiveTab('subscribers')}\r\n                style={{\r\n                  display: 'flex',\r\n                  alignItems: 'center',\r\n                  justifyContent: 'center',\r\n                  gap: '8px',\r\n                  backgroundColor: '#6b7280',\r\n                  color: 'white',\r\n                  padding: '16px 24px',\r\n                  borderRadius: '12px',\r\n                  border: 'none',\r\n                  cursor: 'pointer',\r\n                  fontSize: '16px',\r\n                  fontWeight: '600',\r\n                  transition: 'all 0.2s ease'\r\n                }}\r\n                onMouseOver={(e) => e.target.style.backgroundColor = '#4b5563'}\r\n                onMouseOut={(e) => e.target.style.backgroundColor = '#6b7280'}\r\n              >\r\n                <span></span>\r\n                <span>Manage Subscribers</span>\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Compose Message Tab */}\r\n      {activeTab === 'compose' && (\r\n        <div style={{ maxWidth: '800px' }}>\r\n          <div style={cardStyle}>\r\n            <h3 style={{ \r\n              fontSize: '24px', \r\n              fontWeight: '600', \r\n              marginBottom: '24px',\r\n              display: 'flex',\r\n              alignItems: 'center',\r\n              gap: '12px',\r\n              color: '#111827'\r\n            }}>\r\n              <span style={{ color: '#3b82f6', fontSize: '28px' }}></span>\r\n              <span>Compose Newsletter Message</span>\r\n            </h3>\r\n\r\n            {sendResult && (\r\n              <div style={{\r\n                marginBottom: '24px',\r\n                padding: '16px',\r\n                borderRadius: '12px',\r\n                border: `2px solid ${sendResult.success ? '#10b981' : '#ef4444'}`,\r\n                backgroundColor: sendResult.success ? '#ecfdf5' : '#fef2f2',\r\n                color: sendResult.success ? '#065f46' : '#991b1b'\r\n              }}>\r\n                <div style={{ display: 'flex', alignItems: 'flex-start', gap: '8px' }}>\r\n                  <span style={{ fontSize: '20px' }}>\r\n                    {sendResult.success ? '' : ''}\r\n                  </span>\r\n                  <div>\r\n                    {sendResult.success ? (\r\n                      <div>\r\n                        <p style={{ margin: '0 0 4px 0', fontWeight: '600' }}>Message sent successfully!</p>\r\n                        <p style={{ margin: 0, fontSize: '14px' }}>\r\n                          Sent to {sendResult.data.successfulSends} of {sendResult.data.totalSubscribers} subscribers\r\n                          {sendResult.data.failedSends > 0 && (\r\n                            <span style={{ color: '#f59e0b' }}> ({sendResult.data.failedSends} failed)</span>\r\n                          )}\r\n                        </p>\r\n                      </div>\r\n                    ) : (\r\n                      <p style={{ margin: 0 }}>{sendResult.message}</p>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            )}\r\n\r\n            <form onSubmit={handleSendMessage}>\r\n              <div style={{ \r\n                display: 'grid', \r\n                gridTemplateColumns: '1fr 200px', \r\n                gap: '16px', \r\n                marginBottom: '24px' \r\n              }}>\r\n                <div>\r\n                  <label style={{ \r\n                    display: 'block', \r\n                    fontSize: '14px', \r\n                    fontWeight: '600', \r\n                    color: '#374151', \r\n                    marginBottom: '8px' \r\n                  }}>\r\n                    Message Type\r\n                  </label>\r\n                  <select\r\n                    value={messageForm.messageType}\r\n                    onChange={(e) => setMessageForm(prev => ({ ...prev, messageType: e.target.value }))}\r\n                    style={{\r\n                      width: '100%',\r\n                      padding: '12px 16px',\r\n                      border: '2px solid #e5e7eb',\r\n                      borderRadius: '8px',\r\n                      fontSize: '16px',\r\n                      backgroundColor: 'white',\r\n                      outline: 'none',\r\n                      transition: 'border-color 0.2s ease'\r\n                    }}\r\n                    onFocus={(e) => e.target.style.borderColor = '#3b82f6'}\r\n                    onBlur={(e) => e.target.style.borderColor = '#e5e7eb'}\r\n                  >\r\n                    <option value=\"newsletter\"> Newsletter</option>\r\n                    <option value=\"announcement\"> Announcement</option>\r\n                    <option value=\"update\"> Update</option>\r\n                  </select>\r\n                </div>\r\n                \r\n                <div style={{ \r\n                  display: 'flex', \r\n                  alignItems: 'end' \r\n                }}>\r\n                  <div style={{\r\n                    backgroundColor: '#f9fafb',\r\n                    padding: '12px 16px',\r\n                    borderRadius: '8px',\r\n                    border: '1px solid #e5e7eb',\r\n                    textAlign: 'center',\r\n                    width: '100%'\r\n                  }}>\r\n                    <p style={{ \r\n                      margin: 0, \r\n                      fontSize: '14px', \r\n                      color: '#6b7280' \r\n                    }}>\r\n                      Recipients: <span style={{ fontWeight: '700', color: '#111827' }}>{stats.active_subscribers || 0}</span>\r\n                    </p>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              <div style={{ marginBottom: '24px' }}>\r\n                <label style={{ \r\n                  display: 'block', \r\n                  fontSize: '14px', \r\n                  fontWeight: '600', \r\n                  color: '#374151', \r\n                  marginBottom: '8px' \r\n                }}>\r\n                  Subject Line\r\n                </label>\r\n                <input\r\n                  type=\"text\"\r\n                  value={messageForm.subject}\r\n                  onChange={(e) => setMessageForm(prev => ({ ...prev, subject: e.target.value }))}\r\n                  placeholder=\"Enter email subject...\"\r\n                  maxLength={200}\r\n                  style={{\r\n                    width: '100%',\r\n                    padding: '16px',\r\n                    border: '2px solid #e5e7eb',\r\n                    borderRadius: '8px',\r\n                    fontSize: '16px',\r\n                    outline: 'none',\r\n                    transition: 'border-color 0.2s ease'\r\n                  }}\r\n                  onFocus={(e) => e.target.style.borderColor = '#3b82f6'}\r\n                  onBlur={(e) => e.target.style.borderColor = '#e5e7eb'}\r\n                  required\r\n                />\r\n                <p style={{ \r\n                  fontSize: '12px', \r\n                  color: '#6b7280', \r\n                  margin: '4px 0 0 0' \r\n                }}>\r\n                  {messageForm.subject.length}/200 characters\r\n                </p>\r\n              </div>\r\n\r\n              <div style={{ marginBottom: '24px' }}>\r\n                <label style={{ \r\n                  display: 'block', \r\n                  fontSize: '14px', \r\n                  fontWeight: '600', \r\n                  color: '#374151', \r\n                  marginBottom: '8px' \r\n                }}>\r\n                  Message Content\r\n                </label>\r\n                <textarea\r\n                  value={messageForm.message}\r\n                  onChange={(e) => setMessageForm(prev => ({ ...prev, message: e.target.value }))}\r\n                  placeholder=\"Write your newsletter message here...\"\r\n                  rows={12}\r\n                  maxLength={10000}\r\n                  style={{\r\n                    width: '100%',\r\n                    padding: '16px',\r\n                    border: '2px solid #e5e7eb',\r\n                    borderRadius: '8px',\r\n                    fontSize: '16px',\r\n                    outline: 'none',\r\n                    resize: 'vertical',\r\n                    fontFamily: 'inherit',\r\n                    lineHeight: '1.5',\r\n                    transition: 'border-color 0.2s ease'\r\n                  }}\r\n                  onFocus={(e) => e.target.style.borderColor = '#3b82f6'}\r\n                  onBlur={(e) => e.target.style.borderColor = '#e5e7eb'}\r\n                  required\r\n                />\r\n                <p style={{ \r\n                  fontSize: '12px', \r\n                  color: '#6b7280', \r\n                  margin: '4px 0 0 0' \r\n                }}>\r\n                  {messageForm.message.length}/10,000 characters\r\n                </p>\r\n              </div>\r\n\r\n              <div style={{ \r\n                display: 'flex', \r\n                alignItems: 'center', \r\n                justifyContent: 'space-between', \r\n                paddingTop: '24px', \r\n                borderTop: '1px solid #e5e7eb' \r\n              }}>\r\n                <div style={{ fontSize: '14px', color: '#6b7280' }}>\r\n                  This message will be sent to all {stats.active_subscribers || 0} active subscribers\r\n                </div>\r\n                <button\r\n                  type=\"submit\"\r\n                  disabled={sending || !messageForm.subject.trim() || !messageForm.message.trim()}\r\n                  style={{\r\n                    display: 'flex',\r\n                    alignItems: 'center',\r\n                    gap: '8px',\r\n                    backgroundColor: sending ? '#9ca3af' : '#3b82f6',\r\n                    color: 'white',\r\n                    padding: '12px 24px',\r\n                    borderRadius: '8px',\r\n                    border: 'none',\r\n                    cursor: sending ? 'not-allowed' : 'pointer',\r\n                    fontSize: '16px',\r\n                    fontWeight: '600',\r\n                    transition: 'all 0.2s ease'\r\n                  }}\r\n                  onMouseOver={(e) => {\r\n                    if (!sending && messageForm.subject.trim() && messageForm.message.trim()) {\r\n                      e.target.style.backgroundColor = '#2563eb';\r\n                    }\r\n                  }}\r\n                  onMouseOut={(e) => {\r\n                    if (!sending) {\r\n                      e.target.style.backgroundColor = '#3b82f6';\r\n                    }\r\n                  }}\r\n                >\r\n                  <span></span>\r\n                  <span>{sending ? 'Sending...' : 'Send Message'}</span>\r\n                </button>\r\n              </div>\r\n            </form>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Subscribers Tab */}\r\n      {activeTab === 'subscribers' && (\r\n        <div style={cardStyle}>\r\n          <div style={{ \r\n            display: 'flex', \r\n            justifyContent: 'space-between', \r\n            alignItems: 'center', \r\n            marginBottom: '24px',\r\n            paddingBottom: '16px',\r\n            borderBottom: '1px solid #e5e7eb'\r\n          }}>\r\n            <h3 style={{ \r\n              margin: 0, \r\n              fontSize: '20px', \r\n              fontWeight: '600' \r\n            }}>\r\n              All Subscribers ({subscribers.length})\r\n            </h3>\r\n            <button\r\n              onClick={downloadSubscribers}\r\n              style={{\r\n                display: 'flex',\r\n                alignItems: 'center',\r\n                gap: '8px',\r\n                backgroundColor: '#10b981',\r\n                color: 'white',\r\n                padding: '12px 20px',\r\n                borderRadius: '8px',\r\n                border: 'none',\r\n                cursor: 'pointer',\r\n                fontSize: '14px',\r\n                fontWeight: '600',\r\n                transition: 'all 0.2s ease'\r\n              }}\r\n              onMouseOver={(e) => e.target.style.backgroundColor = '#059669'}\r\n              onMouseOut={(e) => e.target.style.backgroundColor = '#10b981'}\r\n            >\r\n              <span></span>\r\n              <span>Download Emails</span>\r\n            </button>\r\n          </div>\r\n          \r\n          <div style={{ overflowX: 'auto' }}>\r\n            <table style={{ width: '100%', borderCollapse: 'collapse' }}>\r\n              <thead>\r\n                <tr style={{ backgroundColor: '#f9fafb' }}>\r\n                  <th style={{ \r\n                    padding: '16px', \r\n                    textAlign: 'left', \r\n                    fontSize: '12px', \r\n                    fontWeight: '600', \r\n                    color: '#6b7280', \r\n                    textTransform: 'uppercase', \r\n                    letterSpacing: '0.05em',\r\n                    borderBottom: '1px solid #e5e7eb'\r\n                  }}>\r\n                    Email\r\n                  </th>\r\n                  <th style={{ \r\n                    padding: '16px', \r\n                    textAlign: 'left', \r\n                    fontSize: '12px', \r\n                    fontWeight: '600', \r\n                    color: '#6b7280', \r\n                    textTransform: 'uppercase', \r\n                    letterSpacing: '0.05em',\r\n                    borderBottom: '1px solid #e5e7eb'\r\n                  }}>\r\n                    Subscribed Date\r\n                  </th>\r\n                  <th style={{ \r\n                    padding: '16px', \r\n                    textAlign: 'left', \r\n                    fontSize: '12px', \r\n                    fontWeight: '600', \r\n                    color: '#6b7280', \r\n                    textTransform: 'uppercase', \r\n                    letterSpacing: '0.05em',\r\n                    borderBottom: '1px solid #e5e7eb'\r\n                  }}>\r\n                    Actions\r\n                  </th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                {subscribers.map((subscriber, index) => (\r\n                  <tr \r\n                    key={index}\r\n                    style={{ \r\n                      borderBottom: '1px solid #f3f4f6',\r\n                      transition: 'background-color 0.2s ease'\r\n                    }}\r\n                    onMouseOver={(e) => e.target.style.backgroundColor = '#f9fafb'}\r\n                    onMouseOut={(e) => e.target.style.backgroundColor = 'transparent'}\r\n                  >\r\n                    <td style={{ \r\n                      padding: '16px', \r\n                      fontSize: '14px', \r\n                      color: '#111827' \r\n                    }}>\r\n                      {subscriber.email}\r\n                    </td>\r\n                    <td style={{ \r\n                      padding: '16px', \r\n                      fontSize: '14px', \r\n                      color: '#6b7280' \r\n                    }}>\r\n                      {new Date(subscriber.subscribed_at).toLocaleDateString()}\r\n                    </td>\r\n                    <td style={{ padding: '16px' }}>\r\n                      <button \r\n                        onClick={() => handleDeleteClick(subscriber.email)}\r\n                        style={{ \r\n                          display: 'flex',\r\n                          alignItems: 'center',\r\n                          gap: '4px',\r\n                          color: '#ef4444',\r\n                          background: 'none',\r\n                          border: 'none',\r\n                          cursor: 'pointer',\r\n                          fontSize: '14px',\r\n                          transition: 'color 0.2s ease'\r\n                        }}\r\n                        onMouseOver={(e) => e.target.style.color = '#dc2626'}\r\n                        onMouseOut={(e) => e.target.style.color = '#ef4444'}\r\n                      >\r\n                        <span></span>\r\n                        <span>Delete</span>\r\n                      </button>\r\n                    </td>\r\n                  </tr>\r\n                ))}\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Message History Tab */}\r\n      {activeTab === 'history' && (\r\n        <div style={cardStyle}>\r\n          <div style={{ \r\n            paddingBottom: '16px',\r\n            borderBottom: '1px solid #e5e7eb',\r\n            marginBottom: '24px'\r\n          }}>\r\n            <h3 style={{ margin: 0, fontSize: '20px', fontWeight: '600' }}>Message History</h3>\r\n          </div>\r\n          \r\n          <div>\r\n            {messages.length === 0 ? (\r\n              <div style={{ \r\n                padding: '48px', \r\n                textAlign: 'center', \r\n                color: '#6b7280' \r\n              }}>\r\n                <div style={{ fontSize: '48px', marginBottom: '16px' }}></div>\r\n                <p style={{ margin: 0, fontSize: '16px' }}>No messages sent yet</p>\r\n              </div>\r\n            ) : (\r\n              <div style={{ display: 'flex', flexDirection: 'column', gap: '16px' }}>\r\n                {messages.map((msg, index) => (\r\n                  <div \r\n                    key={index} \r\n                    style={{\r\n                      padding: '20px',\r\n                      border: '1px solid #e5e7eb',\r\n                      borderRadius: '12px',\r\n                      backgroundColor: '#fafbfc'\r\n                    }}\r\n                  >\r\n                    <div style={{ \r\n                      display: 'flex', \r\n                      alignItems: 'flex-start', \r\n                      justifyContent: 'space-between',\r\n                      marginBottom: '12px'\r\n                    }}>\r\n                      <div style={{ flex: 1 }}>\r\n                        <div style={{ \r\n                          display: 'flex', \r\n                          alignItems: 'center', \r\n                          gap: '12px',\r\n                          marginBottom: '8px'\r\n                        }}>\r\n                          <h4 style={{ \r\n                            margin: 0, \r\n                            fontSize: '18px', \r\n                            fontWeight: '600', \r\n                            color: '#111827' \r\n                          }}>\r\n                            {msg.subject}\r\n                          </h4>\r\n                          <span style={{\r\n                            padding: '4px 8px',\r\n                            fontSize: '12px',\r\n                            borderRadius: '12px',\r\n                            fontWeight: '500',\r\n                            backgroundColor: msg.message_type === 'announcement' \r\n                              ? '#faf5ff' \r\n                              : msg.message_type === 'update'\r\n                              ? '#eff6ff'\r\n                              : '#f0fdf4',\r\n                            color: msg.message_type === 'announcement' \r\n                              ? '#7c3aed' \r\n                              : msg.message_type === 'update'\r\n                              ? '#2563eb'\r\n                              : '#059669'\r\n                          }}>\r\n                            {msg.message_type}\r\n                          </span>\r\n                        </div>\r\n                        <div style={{ \r\n                          display: 'flex', \r\n                          alignItems: 'center', \r\n                          gap: '16px', \r\n                          fontSize: '14px', \r\n                          color: '#6b7280' \r\n                        }}>\r\n                          <span> Sent: {new Date(msg.sent_at).toLocaleString()}</span>\r\n                          <span> Recipients: {msg.total_recipients || 0}</span>\r\n                          <span style={{ color: '#059669' }}> Success: {msg.successful_sends || 0}</span>\r\n                          {(msg.failed_sends > 0) && (\r\n                            <span style={{ color: '#ef4444' }}> Failed: {msg.failed_sends}</span>\r\n                          )}\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Confirmation Modal */}\r\n      {confirmDelete && (\r\n        <div style={{\r\n          position: 'fixed',\r\n          top: 0,\r\n          left: 0,\r\n          right: 0,\r\n          bottom: 0,\r\n          backgroundColor: 'rgba(0, 0, 0, 0.5)',\r\n          display: 'flex',\r\n          alignItems: 'center',\r\n          justifyContent: 'center',\r\n          zIndex: 1000,\r\n          padding: '16px'\r\n        }}>\r\n          <div style={{\r\n            backgroundColor: 'white',\r\n            borderRadius: '16px',\r\n            padding: '24px',\r\n            maxWidth: '400px',\r\n            width: '100%',\r\n            boxShadow: '0 20px 50px rgba(0,0,0,0.3)'\r\n          }}>\r\n            <div style={{ \r\n              display: 'flex', \r\n              alignItems: 'center', \r\n              gap: '12px', \r\n              marginBottom: '16px' \r\n            }}>\r\n              <div style={{\r\n                backgroundColor: '#fef2f2',\r\n                padding: '8px',\r\n                borderRadius: '50%'\r\n              }}>\r\n                <span style={{ fontSize: '24px' }}></span>\r\n              </div>\r\n              <h3 style={{ \r\n                margin: 0, \r\n                fontSize: '18px', \r\n                fontWeight: '600', \r\n                color: '#111827' \r\n              }}>\r\n                Confirm Delete\r\n              </h3>\r\n            </div>\r\n            \r\n            <p style={{ \r\n              margin: '0 0 8px 0', \r\n              color: '#6b7280',\r\n              fontSize: '14px'\r\n            }}>\r\n              Are you sure you want to delete this subscriber?\r\n            </p>\r\n            <p style={{ \r\n              fontWeight: '600', \r\n              color: '#ef4444', \r\n              margin: '0 0 24px 0',\r\n              fontSize: '16px'\r\n            }}>\r\n              {confirmDelete}\r\n            </p>\r\n            \r\n            <div style={{ \r\n              display: 'flex', \r\n              gap: '12px' \r\n            }}>\r\n              <button\r\n                onClick={() => setConfirmDelete(null)}\r\n                style={{\r\n                  flex: 1,\r\n                  padding: '12px 16px',\r\n                  border: '2px solid #e5e7eb',\r\n                  backgroundColor: 'white',\r\n                  color: '#374151',\r\n                  borderRadius: '8px',\r\n                  cursor: 'pointer',\r\n                  fontSize: '14px',\r\n                  fontWeight: '600',\r\n                  transition: 'all 0.2s ease'\r\n                }}\r\n                onMouseOver={(e) => {\r\n                  e.target.style.backgroundColor = '#f9fafb';\r\n                  e.target.style.borderColor = '#d1d5db';\r\n                }}\r\n                onMouseOut={(e) => {\r\n                  e.target.style.backgroundColor = 'white';\r\n                  e.target.style.borderColor = '#e5e7eb';\r\n                }}\r\n              >\r\n                Cancel\r\n              </button>\r\n              <button\r\n                onClick={confirmDeleteAction}\r\n                style={{\r\n                  flex: 1,\r\n                  padding: '12px 16px',\r\n                  backgroundColor: '#ef4444',\r\n                  color: 'white',\r\n                  border: 'none',\r\n                  borderRadius: '8px',\r\n                  cursor: 'pointer',\r\n                  fontSize: '14px',\r\n                  fontWeight: '600',\r\n                  transition: 'all 0.2s ease'\r\n                }}\r\n                onMouseOver={(e) => e.target.style.backgroundColor = '#dc2626'}\r\n                onMouseOut={(e) => e.target.style.backgroundColor = '#ef4444'}\r\n              >\r\n                Delete\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default NewsletterManagement;","import React, { useEffect, useState } from 'react';\r\nimport {\r\n  Box, Typography, TextField, Button, Card, CardContent,\r\n  List, ListItem, ListItemText, IconButton, Divider,\r\n  Select, MenuItem, FormControl, InputLabel, Chip,\r\n  Dialog, DialogTitle, DialogContent, DialogActions,\r\n  Grid, Avatar, FormControlLabel, Switch, Autocomplete,\r\n  InputAdornment, Paper, Stack, Fade, Skeleton\r\n} from '@mui/material';\r\nimport DeleteIcon from '@mui/icons-material/Delete';\r\nimport EditIcon from '@mui/icons-material/Edit';\r\nimport SaveIcon from '@mui/icons-material/Save';\r\nimport CancelIcon from '@mui/icons-material/Cancel';\r\nimport AddIcon from '@mui/icons-material/Add';\r\nimport RemoveIcon from '@mui/icons-material/Remove';\r\nimport PublicIcon from '@mui/icons-material/Public';\r\nimport SearchIcon from '@mui/icons-material/Search';\r\nimport FilterListIcon from '@mui/icons-material/FilterList';\r\nimport ClearIcon from '@mui/icons-material/Clear';\r\nimport AccountBalanceIcon from '@mui/icons-material/AccountBalance';\r\nimport PaymentIcon from '@mui/icons-material/Payment';\r\nimport StoreIcon from '@mui/icons-material/Store';\r\nimport { useAuth } from '../../context/AuthContext';\r\n\r\nimport { API_URL, STATIC_URL } from '../../config';\r\n\r\nconst API_BASE = API_URL;\r\n\r\n// Country list - you can expand this or fetch from an API\r\nconst COUNTRIES = [\r\n  'Afghanistan', 'Albania', 'Algeria', 'Argentina', 'Armenia', 'Australia',\r\n  'Austria', 'Azerbaijan', 'Bahrain', 'Bangladesh', 'Belarus', 'Belgium',\r\n  'Bolivia', 'Bosnia and Herzegovina', 'Brazil', 'Bulgaria', 'Cambodia',\r\n  'Cameroon', 'Canada', 'Chile', 'China', 'Colombia', 'Costa Rica',\r\n  'Croatia', 'Czech Republic', 'Denmark', 'Ecuador', 'Egypt', 'Estonia',\r\n  'Ethiopia', 'Finland', 'France', 'Georgia', 'Germany', 'Ghana', 'Greece',\r\n  'Guatemala', 'Honduras', 'Hungary', 'Iceland', 'India', 'Indonesia',\r\n  'Iran', 'Iraq', 'Ireland', 'Israel', 'Italy', 'Japan', 'Jordan',\r\n  'Kazakhstan', 'Kenya', 'Kuwait', 'Latvia', 'Lebanon', 'Lithuania',\r\n  'Luxembourg', 'Malaysia', 'Mexico', 'Morocco', 'Netherlands', 'New Zealand',\r\n  'Nigeria', 'Norway', 'Pakistan', 'Peru', 'Philippines', 'Poland',\r\n  'Portugal', 'Qatar', 'Romania', 'Russia', 'Saudi Arabia', 'Singapore',\r\n  'Slovakia', 'Slovenia', 'South Africa', 'South Korea', 'Spain', 'Sri Lanka',\r\n  'Sweden', 'Switzerland', 'Tanzania', 'Thailand', 'Turkey', 'Uganda',\r\n  'Ukraine', 'United Arab Emirates', 'United Kingdom', 'United States',\r\n  'Uruguay', 'Venezuela', 'Vietnam', 'Zimbabwe'\r\n];\r\n\r\nconst TransactionDetails = () => {\r\n  const { user } = useAuth();\r\n  const [transactionMethods, setTransactionMethods] = useState([]);\r\n  const [filteredMethods, setFilteredMethods] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState('');\r\n  const [success, setSuccess] = useState('');\r\n  const [openDialog, setOpenDialog] = useState(false);\r\n  const [editingMethod, setEditingMethod] = useState(null);\r\n  \r\n  // Search and filter states\r\n  const [searchTerm, setSearchTerm] = useState('');\r\n  const [filterType, setFilterType] = useState('all');\r\n  const [filterCountry, setFilterCountry] = useState('all');\r\n  \r\n  // Form states\r\n  const [formData, setFormData] = useState({\r\n    type: 'bank_transfer',\r\n    name: '',\r\n    logo_file: null,\r\n    is_country_specific: false,\r\n    country: null,\r\n    fields: [{ label: '', value: '' }]\r\n  });\r\n\r\n  const transactionTypes = [\r\n    { value: 'bank_transfer', label: 'Bank Transfer', icon: AccountBalanceIcon, color: '#1976d2' },\r\n    { value: 'paypal', label: 'PayPal Donate', icon: PaymentIcon, color: '#ed6c02' },\r\n    { value: 'local_merchant', label: 'Local Transfer & Other Merchants', icon: StoreIcon, color: '#2e7d32' }\r\n  ];\r\n\r\n  const fetchTransactionMethods = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const res = await fetch(`${API_BASE}/transaction-details`);\r\n      const data = await res.json();\r\n      console.log(' Raw transaction methods data:', data);\r\n\r\n      if (!res.ok) throw new Error(data.message || 'Failed to load transaction methods');\r\n      \r\n      const processedData = Array.isArray(data) ? data : [];\r\n      \r\n      console.log(' Processed transaction methods:', processedData);\r\n      setTransactionMethods(processedData);\r\n      setFilteredMethods(processedData);\r\n    } catch (err) {\r\n      console.error(' Fetch error:', err);\r\n      setError('Failed to fetch transaction methods.');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  // Search and filter functionality\r\n  useEffect(() => {\r\n    let filtered = transactionMethods;\r\n\r\n    // Apply search filter\r\n    if (searchTerm) {\r\n      filtered = filtered.filter(method => \r\n        method.name.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n        method.type.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n        (method.country && method.country.toLowerCase().includes(searchTerm.toLowerCase())) ||\r\n        (method.fields && method.fields.some(field => \r\n          field.label.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n          field.value.toLowerCase().includes(searchTerm.toLowerCase())\r\n        ))\r\n      );\r\n    }\r\n\r\n    // Apply type filter\r\n    if (filterType !== 'all') {\r\n      filtered = filtered.filter(method => method.type === filterType);\r\n    }\r\n\r\n    // Apply country filter\r\n    if (filterCountry !== 'all') {\r\n      filtered = filtered.filter(method => method.country === filterCountry);\r\n    }\r\n\r\n    setFilteredMethods(filtered);\r\n  }, [searchTerm, filterType, filterCountry, transactionMethods]);\r\n\r\n  const resetFeedback = () => {\r\n    setError('');\r\n    setSuccess('');\r\n  };\r\n\r\n  const resetForm = () => {\r\n    setFormData({\r\n      type: 'bank_transfer',\r\n      name: '',\r\n      logo_file: null,\r\n      is_country_specific: false,\r\n      country: null,\r\n      fields: [{ label: '', value: '' }]\r\n    });\r\n    setEditingMethod(null);\r\n  };\r\n\r\n  const handleAddField = () => {\r\n    setFormData(prev => ({\r\n      ...prev,\r\n      fields: [...prev.fields, { label: '', value: '' }]\r\n    }));\r\n  };\r\n\r\n  const handleRemoveField = (index) => {\r\n    if (formData.fields.length > 1) {\r\n      setFormData(prev => ({\r\n        ...prev,\r\n        fields: prev.fields.filter((_, i) => i !== index)\r\n      }));\r\n    }\r\n  };\r\n\r\n  const handleFieldChange = (index, field, value) => {\r\n    setFormData(prev => ({\r\n      ...prev,\r\n      fields: prev.fields.map((item, i) => \r\n        i === index ? { ...item, [field]: value } : item\r\n      )\r\n    }));\r\n  };\r\n\r\n  const validateForm = () => {\r\n    if (!formData.name.trim()) {\r\n      setError('Name is required.');\r\n      return false;\r\n    }\r\n\r\n    // Validate country selection for country-specific methods\r\n    if (formData.is_country_specific && !formData.country) {\r\n      setError('Please select a country for country-specific payment methods.');\r\n      return false;\r\n    }\r\n\r\n    if (formData.type === 'paypal') {\r\n      // For PayPal, automatically set the two required fields\r\n      const requiredFields = [\r\n        { label: 'Donation Link', value: formData.fields.find(f => f.label === 'Donation Link')?.value || '' },\r\n        { label: 'PayPal Email', value: formData.fields.find(f => f.label === 'PayPal Email')?.value || '' }\r\n      ];\r\n      \r\n      if (!requiredFields[0].value || !requiredFields[1].value) {\r\n        setError('PayPal requires both Donation Link and PayPal Email.');\r\n        return false;\r\n      }\r\n    } else {\r\n      // For bank transfer and local merchants, check if at least one field is complete\r\n      const hasValidField = formData.fields.some(field => \r\n        field.label.trim() && field.value.trim()\r\n      );\r\n      if (!hasValidField) {\r\n        setError('At least one complete field (label and value) is required.');\r\n        return false;\r\n      }\r\n    }\r\n\r\n    return true;\r\n  };\r\n\r\n  const handleSave = async () => {\r\n    resetFeedback();\r\n    \r\n    if (!validateForm()) return;\r\n\r\n    // Prepare fields based on type\r\n    let fieldsToSend;\r\n    if (formData.type === 'paypal') {\r\n      fieldsToSend = [\r\n        { label: 'Donation Link', value: formData.fields.find(f => f.label === 'Donation Link')?.value || '' },\r\n        { label: 'PayPal Email', value: formData.fields.find(f => f.label === 'PayPal Email')?.value || '' }\r\n      ].filter(field => field.value.trim());\r\n    } else {\r\n      fieldsToSend = formData.fields.filter(field => \r\n        field.label.trim() && field.value.trim()\r\n      );\r\n    }\r\n\r\n    try {\r\n      const url = editingMethod \r\n        ? `${API_BASE}/transaction-details/${editingMethod.id}`\r\n        : `${API_BASE}/transaction-details`;\r\n      \r\n      const method = editingMethod ? 'PUT' : 'POST';\r\n\r\n      // Create FormData for file upload\r\n      const formDataToSend = new FormData();\r\n      formDataToSend.append('type', formData.type);\r\n      formDataToSend.append('name', formData.name.trim());\r\n      formDataToSend.append('is_country_specific', formData.is_country_specific);\r\n      if (formData.is_country_specific && formData.country) {\r\n        formDataToSend.append('country', formData.country);\r\n      }\r\n      formDataToSend.append('fields', JSON.stringify(fieldsToSend));\r\n      \r\n      // DEBUG: Log what we're about to send\r\n      console.log('Form Data Debug:', {\r\n        type: formData.type,\r\n        name: formData.name.trim(),\r\n        is_country_specific: formData.is_country_specific,\r\n        country: formData.country,\r\n        hasLogoFile: !!formData.logo_file,\r\n        logoFileName: formData.logo_file?.name,\r\n        fieldsCount: fieldsToSend.length\r\n      });\r\n\r\n      // Only append logo for local merchants\r\n      if (formData.type === 'local_merchant' && formData.logo_file) {\r\n        formDataToSend.append('logo', formData.logo_file);\r\n        console.log('Logo file appended to form data:', formData.logo_file.name);\r\n      }\r\n\r\n      const res = await fetch(url, {\r\n        method,\r\n        credentials: 'include',\r\n        body: formDataToSend,\r\n      });\r\n\r\n      const result = await res.json();\r\n      console.log('Server response:', result);\r\n\r\n      if (!res.ok) throw new Error(result.message || 'Error saving transaction method');\r\n\r\n      setSuccess(editingMethod ? 'Transaction method updated.' : 'Transaction method added.');\r\n      setOpenDialog(false);\r\n      resetForm();\r\n      fetchTransactionMethods();\r\n    } catch (err) {\r\n      console.error('Save error:', err);\r\n      setError(err.message);\r\n    }\r\n  };\r\n\r\n  const handleEdit = (method) => {\r\n    setEditingMethod(method);\r\n    \r\n    let fieldsToEdit;\r\n    if (method.type === 'paypal') {\r\n      // For PayPal, ensure we have the two required fields\r\n      const existingLink = method.fields.find(f => f.label === 'Donation Link')?.value || '';\r\n      const existingEmail = method.fields.find(f => f.label === 'PayPal Email')?.value || '';\r\n      fieldsToEdit = [\r\n        { label: 'Donation Link', value: existingLink },\r\n        { label: 'PayPal Email', value: existingEmail }\r\n      ];\r\n    } else {\r\n      fieldsToEdit = method.fields && method.fields.length > 0 \r\n        ? method.fields \r\n        : [{ label: '', value: '' }];\r\n    }\r\n\r\n    setFormData({\r\n      type: method.type,\r\n      name: method.name,\r\n      logo_file: null, // Don't pre-populate file input\r\n      is_country_specific: !!method.country, // Set to true if country exists\r\n      country: method.country || null,\r\n      fields: fieldsToEdit\r\n    });\r\n    setOpenDialog(true);\r\n  };\r\n\r\n  const handleDelete = async (id) => {\r\n    resetFeedback();\r\n    if (!window.confirm('Are you sure you want to delete this transaction method?')) return;\r\n\r\n    try {\r\n      const res = await fetch(`${API_BASE}/transaction-details/${id}`, {\r\n        method: 'DELETE',\r\n        credentials: 'include',\r\n      });\r\n\r\n      const result = await res.json();\r\n      if (!res.ok) throw new Error(result.message || 'Error deleting');\r\n\r\n      setSuccess(' Transaction method deleted.');\r\n      fetchTransactionMethods();\r\n    } catch (err) {\r\n      console.error(' Delete error:', err);\r\n      setError(err.message);\r\n    }\r\n  };\r\n\r\n  const clearAllFilters = () => {\r\n    setSearchTerm('');\r\n    setFilterType('all');\r\n    setFilterCountry('all');\r\n  };\r\n\r\n  const getUniqueCountries = () => {\r\n    const countries = transactionMethods\r\n      .filter(method => method.country)\r\n      .map(method => method.country)\r\n      .filter((country, index, arr) => arr.indexOf(country) === index)\r\n      .sort();\r\n    return countries;\r\n  };\r\n\r\n  const renderMethodCard = (method) => {\r\n    // Debug logging\r\n    console.log('Rendering method:', {\r\n      id: method.id,\r\n      name: method.name,\r\n      type: method.type,\r\n      country: method.country,\r\n      logo_url: method.logo_url,\r\n      hasLogo: !!method.logo_url\r\n    });\r\n\r\n    // Logo URL construction\r\n    let logoUrl = null;\r\n    if (method.logo_url) {\r\n      if (method.logo_url.startsWith('http') || method.logo_url.startsWith('/uploads/')) {\r\n        logoUrl = method.logo_url.startsWith('http') ? method.logo_url : `${STATIC_URL}${method.logo_url}`;\r\n      } \r\n      else if (method.logo_url.startsWith('/')) {\r\n        logoUrl = `${STATIC_URL}${method.logo_url}`;\r\n      }\r\n      else {\r\n        logoUrl = `${STATIC_URL}/transaction-logos/${method.logo_url}`;\r\n      }\r\n    }\r\n\r\n    const typeInfo = transactionTypes.find(t => t.value === method.type);\r\n    const TypeIcon = typeInfo?.icon || PaymentIcon;\r\n\r\n    return (\r\n      <Fade in={true} key={method.id}>\r\n        <Card \r\n          sx={{ \r\n            mb: 2, \r\n            transition: 'all 0.3s ease',\r\n            '&:hover': {\r\n              transform: 'translateY(-2px)',\r\n              boxShadow: 4\r\n            },\r\n            border: '1px solid',\r\n            borderColor: 'divider'\r\n          }}\r\n        >\r\n          <CardContent sx={{ p: 3 }}>\r\n            <Box display=\"flex\" alignItems=\"center\" justifyContent=\"space-between\" mb={2}>\r\n              <Box display=\"flex\" alignItems=\"center\" gap={2}>\r\n                {logoUrl ? (\r\n                  <Avatar \r\n                    src={logoUrl} \r\n                    alt={method.name}\r\n                    sx={{ \r\n                      width: 56, \r\n                      height: 56,\r\n                      border: '2px solid',\r\n                      borderColor: typeInfo?.color || 'primary.main'\r\n                    }}\r\n                    onError={(e) => {\r\n                      console.error('Failed to load image:', logoUrl);\r\n                      const alternatives = [\r\n                        `${STATIC_URL}/transaction-logos/${method.logo_url.split('/').pop()}`,\r\n                        `${STATIC_URL}${method.logo_url}`,\r\n                        method.logo_url\r\n                      ];\r\n                      \r\n                      let tried = e.target.getAttribute('data-tried') || 0;\r\n                      tried = parseInt(tried) + 1;\r\n                      \r\n                      if (tried < alternatives.length) {\r\n                        e.target.setAttribute('data-tried', tried);\r\n                        e.target.src = alternatives[tried];\r\n                      } else {\r\n                        e.target.style.display = 'none';\r\n                      }\r\n                    }}\r\n                  />\r\n                ) : (\r\n                  <Avatar \r\n                    sx={{ \r\n                      width: 56, \r\n                      height: 56, \r\n                      bgcolor: typeInfo?.color || 'primary.main',\r\n                      border: '2px solid',\r\n                      borderColor: typeInfo?.color || 'primary.main'\r\n                    }}\r\n                  >\r\n                    <TypeIcon />\r\n                  </Avatar>\r\n                )}\r\n                <Box>\r\n                  <Typography variant=\"h6\" sx={{ fontWeight: 600, mb: 0.5 }}>\r\n                    {method.name}\r\n                  </Typography>\r\n                  <Stack direction=\"row\" spacing={1} alignItems=\"center\">\r\n                    <Chip\r\n                      icon={<TypeIcon />}\r\n                      label={typeInfo?.label || method.type}\r\n                      size=\"small\"\r\n                      sx={{ \r\n                        bgcolor: typeInfo?.color || 'primary.main',\r\n                        color: 'white',\r\n                        fontWeight: 500\r\n                      }}\r\n                    />\r\n                    {method.country && (\r\n                      <Chip\r\n                        icon={<PublicIcon />}\r\n                        label={method.country}\r\n                        size=\"small\"\r\n                        variant=\"outlined\"\r\n                        color=\"secondary\"\r\n                        sx={{ fontWeight: 500 }}\r\n                      />\r\n                    )}\r\n                  </Stack>\r\n                </Box>\r\n              </Box>\r\n              <Stack direction=\"row\" spacing={1}>\r\n                <IconButton \r\n                  onClick={() => handleEdit(method)} \r\n                  color=\"primary\"\r\n                  sx={{\r\n                    bgcolor: 'primary.50',\r\n                    '&:hover': { bgcolor: 'primary.100' }\r\n                  }}\r\n                >\r\n                  <EditIcon />\r\n                </IconButton>\r\n                <IconButton \r\n                  onClick={() => handleDelete(method.id)} \r\n                  color=\"error\"\r\n                  sx={{\r\n                    bgcolor: 'error.50',\r\n                    '&:hover': { bgcolor: 'error.100' }\r\n                  }}\r\n                >\r\n                  <DeleteIcon />\r\n                </IconButton>\r\n              </Stack>\r\n            </Box>\r\n\r\n            {method.fields && method.fields.length > 0 && (\r\n              <Paper \r\n                sx={{ \r\n                  bgcolor: 'grey.50', \r\n                  p: 2, \r\n                  borderRadius: 2,\r\n                  border: '1px solid',\r\n                  borderColor: 'grey.200'\r\n                }}\r\n              >\r\n                <Typography variant=\"subtitle2\" color=\"primary\" sx={{ mb: 1, fontWeight: 600 }}>\r\n                  Payment Details\r\n                </Typography>\r\n                <List dense sx={{ p: 0 }}>\r\n                  {method.fields.map((field, index) => (\r\n                    <ListItem key={index} sx={{ px: 0, py: 0.5 }}>\r\n                      <ListItemText\r\n                        primary={\r\n                          <Typography variant=\"body2\">\r\n                            <strong>{field.label}:</strong> {field.value}\r\n                          </Typography>\r\n                        }\r\n                      />\r\n                    </ListItem>\r\n                  ))}\r\n                </List>\r\n              </Paper>\r\n            )}\r\n          </CardContent>\r\n        </Card>\r\n      </Fade>\r\n    );\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchTransactionMethods();\r\n  }, []);\r\n\r\n  return (\r\n    <Box sx={{ p: 3, maxWidth: 1200, mx: 'auto' }}>\r\n      {/* Header */}\r\n      <Box display=\"flex\" justifyContent=\"space-between\" alignItems=\"center\" mb={4}>\r\n        <Box>\r\n          <Typography variant=\"h4\" sx={{ fontWeight: 700, mb: 1 }}>\r\n             Transaction Methods\r\n          </Typography>\r\n          <Typography variant=\"body1\" color=\"text.secondary\">\r\n            Manage your payment and donation methods\r\n          </Typography>\r\n        </Box>\r\n        <Button\r\n          variant=\"contained\"\r\n          size=\"large\"\r\n          startIcon={<AddIcon />}\r\n          onClick={() => {\r\n            resetForm();\r\n            setOpenDialog(true);\r\n          }}\r\n          sx={{\r\n            borderRadius: 2,\r\n            px: 3,\r\n            py: 1.5,\r\n            textTransform: 'none',\r\n            fontWeight: 600\r\n          }}\r\n        >\r\n          Add New Method\r\n        </Button>\r\n      </Box>\r\n\r\n      {/* Alerts */}\r\n      {error && (\r\n        <Paper sx={{ p: 2, mb: 3, bgcolor: 'error.50', border: '1px solid', borderColor: 'error.200' }}>\r\n          <Typography color=\"error.main\" sx={{ fontWeight: 500 }}>\r\n            {error}\r\n          </Typography>\r\n        </Paper>\r\n      )}\r\n      {success && (\r\n        <Paper sx={{ p: 2, mb: 3, bgcolor: 'success.50', border: '1px solid', borderColor: 'success.200' }}>\r\n          <Typography color=\"success.main\" sx={{ fontWeight: 500 }}>\r\n            {success}\r\n          </Typography>\r\n        </Paper>\r\n      )}\r\n\r\n      {/* Search and Filter Controls */}\r\n      <Paper sx={{ p: 3, mb: 3, bgcolor: 'grey.50', border: '1px solid', borderColor: 'grey.200' }}>\r\n        <Grid container spacing={3} alignItems=\"center\">\r\n          <Grid item xs={12} md={4}>\r\n            <TextField\r\n              fullWidth\r\n              placeholder=\"Search methods, countries, or details...\"\r\n              value={searchTerm}\r\n              onChange={(e) => setSearchTerm(e.target.value)}\r\n              InputProps={{\r\n                startAdornment: (\r\n                  <InputAdornment position=\"start\">\r\n                    <SearchIcon color=\"action\" />\r\n                  </InputAdornment>\r\n                ),\r\n                endAdornment: searchTerm && (\r\n                  <InputAdornment position=\"end\">\r\n                    <IconButton\r\n                      size=\"small\"\r\n                      onClick={() => setSearchTerm('')}\r\n                      edge=\"end\"\r\n                    >\r\n                      <ClearIcon />\r\n                    </IconButton>\r\n                  </InputAdornment>\r\n                ),\r\n              }}\r\n              sx={{\r\n                '& .MuiOutlinedInput-root': {\r\n                  bgcolor: 'white'\r\n                }\r\n              }}\r\n            />\r\n          </Grid>\r\n          <Grid item xs={12} md={3}>\r\n            <FormControl fullWidth>\r\n              <InputLabel>Filter by Type</InputLabel>\r\n              <Select\r\n                value={filterType}\r\n                onChange={(e) => setFilterType(e.target.value)}\r\n                label=\"Filter by Type\"\r\n                sx={{ bgcolor: 'white' }}\r\n              >\r\n                <MenuItem value=\"all\">All Types</MenuItem>\r\n                {transactionTypes.map((type) => (\r\n                  <MenuItem key={type.value} value={type.value}>\r\n                    {type.label}\r\n                  </MenuItem>\r\n                ))}\r\n              </Select>\r\n            </FormControl>\r\n          </Grid>\r\n          <Grid item xs={12} md={3}>\r\n            <FormControl fullWidth>\r\n              <InputLabel>Filter by Country</InputLabel>\r\n              <Select\r\n                value={filterCountry}\r\n                onChange={(e) => setFilterCountry(e.target.value)}\r\n                label=\"Filter by Country\"\r\n                sx={{ bgcolor: 'white' }}\r\n              >\r\n                <MenuItem value=\"all\">All Countries</MenuItem>\r\n                {getUniqueCountries().map((country) => (\r\n                  <MenuItem key={country} value={country}>\r\n                    {country}\r\n                  </MenuItem>\r\n                ))}\r\n              </Select>\r\n            </FormControl>\r\n          </Grid>\r\n          <Grid item xs={12} md={2}>\r\n            <Button\r\n              fullWidth\r\n              variant=\"outlined\"\r\n              startIcon={<ClearIcon />}\r\n              onClick={clearAllFilters}\r\n              disabled={searchTerm === '' && filterType === 'all' && filterCountry === 'all'}\r\n              sx={{ py: 1.5 }}\r\n            >\r\n              Clear Filters\r\n            </Button>\r\n          </Grid>\r\n        </Grid>\r\n      </Paper>\r\n\r\n      {/* Results Summary */}\r\n      <Box display=\"flex\" justifyContent=\"between\" alignItems=\"center\" mb={2}>\r\n        <Typography variant=\"body2\" color=\"text.secondary\">\r\n          {loading ? 'Loading...' : `Showing ${filteredMethods.length} of ${transactionMethods.length} methods`}\r\n        </Typography>\r\n      </Box>\r\n\r\n      {/* Content */}\r\n      <Box>\r\n        {loading ? (\r\n          <Stack spacing={2}>\r\n            {[1, 2, 3].map((item) => (\r\n              <Skeleton key={item} variant=\"rectangular\" height={180} sx={{ borderRadius: 2 }} />\r\n            ))}\r\n          </Stack>\r\n        ) : filteredMethods.length === 0 ? (\r\n          <Paper sx={{ p: 6, textAlign: 'center', bgcolor: 'grey.50' }}>\r\n            <Typography variant=\"h6\" color=\"text.secondary\" gutterBottom>\r\n              {transactionMethods.length === 0 \r\n                ? 'No transaction methods configured yet.' \r\n                : 'No methods match your current filters.'\r\n              }\r\n            </Typography>\r\n            {transactionMethods.length === 0 ? (\r\n              <Typography variant=\"body2\" color=\"text.secondary\" sx={{ mb: 3 }}>\r\n                Get started by adding your first payment method.\r\n              </Typography>\r\n            ) : (\r\n              <Button onClick={clearAllFilters} sx={{ mt: 2 }}>\r\n                Clear filters to see all methods\r\n              </Button>\r\n            )}\r\n          </Paper>\r\n        ) : (\r\n          filteredMethods.map(renderMethodCard)\r\n        )}\r\n      </Box>\r\n\r\n      {/* Add/Edit Dialog */}\r\n      <Dialog open={openDialog} onClose={() => setOpenDialog(false)} maxWidth=\"md\" fullWidth>\r\n        <DialogTitle sx={{ pb: 2 }}>\r\n          <Typography variant=\"h5\" sx={{ fontWeight: 600 }}>\r\n            {editingMethod ? 'Edit Transaction Method' : 'Add New Transaction Method'}\r\n          </Typography>\r\n        </DialogTitle>\r\n        <DialogContent sx={{ pt: '8px !important' }}>\r\n          <Grid container spacing={3} sx={{ mt: 1 }}>\r\n            <Grid item xs={12} md={6}>\r\n              <FormControl fullWidth>\r\n                <InputLabel>Transaction Type</InputLabel>\r\n                <Select\r\n                  value={formData.type}\r\n                  onChange={(e) => setFormData(prev => ({ ...prev, type: e.target.value }))}\r\n                  label=\"Transaction Type\"\r\n                >\r\n                  {transactionTypes.map((type) => (\r\n                    <MenuItem key={type.value} value={type.value}>\r\n                      <Box display=\"flex\" alignItems=\"center\" gap={1}>\r\n                        <type.icon sx={{ fontSize: 20 }} />\r\n                        {type.label}\r\n                      </Box>\r\n                    </MenuItem>\r\n                  ))}\r\n                </Select>\r\n              </FormControl>\r\n            </Grid>\r\n            <Grid item xs={12} md={6}>\r\n              <TextField\r\n                label=\"Method Name\"\r\n                value={formData.name}\r\n                onChange={(e) => setFormData(prev => ({ ...prev, name: e.target.value }))}\r\n                fullWidth\r\n                placeholder=\"e.g., Standard Bank, PayPal, M-Pesa\"\r\n              />\r\n            </Grid>\r\n\r\n            {/* Country-specific toggle and selection */}\r\n            <Grid item xs={12}>\r\n              <Paper sx={{ p: 2, bgcolor: 'grey.50' }}>\r\n                <FormControlLabel\r\n                  control={\r\n                    <Switch\r\n                      checked={formData.is_country_specific}\r\n                      onChange={(e) => setFormData(prev => ({ \r\n                        ...prev, \r\n                        is_country_specific: e.target.checked,\r\n                        country: e.target.checked ? prev.country : null\r\n                      }))}\r\n                    />\r\n                  }\r\n                  label={\r\n                    <Box>\r\n                      <Typography variant=\"body2\" sx={{ fontWeight: 500 }}>\r\n                        Country-specific payment method\r\n                      </Typography>\r\n                      <Typography variant=\"caption\" color=\"text.secondary\">\r\n                        Enable if this method is only available in specific countries\r\n                      </Typography>\r\n                    </Box>\r\n                  }\r\n                />\r\n              </Paper>\r\n            </Grid>\r\n\r\n            {formData.is_country_specific && (\r\n              <Grid item xs={12} md={6}>\r\n                <Autocomplete\r\n                  options={COUNTRIES}\r\n                  value={formData.country}\r\n                  onChange={(event, newValue) => {\r\n                    setFormData(prev => ({ ...prev, country: newValue }));\r\n                  }}\r\n                  renderInput={(params) => (\r\n                    <TextField\r\n                      {...params}\r\n                      label=\"Select Country\"\r\n                      placeholder=\"Search for a country...\"\r\n                    />\r\n                  )}\r\n                />\r\n              </Grid>\r\n            )}\r\n\r\n            {formData.type === 'local_merchant' && (\r\n              <Grid item xs={12}>\r\n                <TextField\r\n                  label=\"Logo Image\"\r\n                  type=\"file\"\r\n                  onChange={(e) => setFormData(prev => ({ ...prev, logo_file: e.target.files[0] }))}\r\n                  fullWidth\r\n                  InputLabelProps={{ shrink: true }}\r\n                  inputProps={{ accept: 'image/*' }}\r\n                  helperText=\"Upload a logo image for this service (recommended size: 200x200px)\"\r\n                />\r\n              </Grid>\r\n            )}\r\n          </Grid>\r\n\r\n          <Divider sx={{ my: 4 }} />\r\n\r\n          <Box sx={{ mb: 3 }}>\r\n            <Typography variant=\"h6\" gutterBottom sx={{ fontWeight: 600 }}>\r\n              {formData.type === 'bank_transfer' && ' Bank Details'}\r\n              {formData.type === 'paypal' && ' PayPal Information'}\r\n              {formData.type === 'local_merchant' && ' Service Details'}\r\n            </Typography>\r\n            <Typography variant=\"body2\" color=\"text.secondary\">\r\n              {formData.type === 'paypal' \r\n                ? 'Provide your PayPal donation link and email address'\r\n                : 'Add the payment details that donors will need to transfer funds'\r\n              }\r\n            </Typography>\r\n          </Box>\r\n\r\n\r\n\r\n\r\n\r\n\r\n          {formData.type === 'paypal' ? (\r\n            // Fixed PayPal fields\r\n            <>\r\n              <Box display=\"flex\" gap={2} mb={2}>\r\n                <TextField\r\n                  label=\"Donation Link\"\r\n                  value={formData.fields.find(f => f.label === 'Donation Link')?.value || ''}\r\n                  onChange={(e) => {\r\n                    const newFields = [...formData.fields];\r\n                    const linkIndex = newFields.findIndex(f => f.label === 'Donation Link');\r\n                    if (linkIndex >= 0) {\r\n                      newFields[linkIndex] = { label: 'Donation Link', value: e.target.value };\r\n                    } else {\r\n                      newFields.push({ label: 'Donation Link', value: e.target.value });\r\n                    }\r\n                    setFormData(prev => ({ ...prev, fields: newFields }));\r\n                  }}\r\n                  sx={{ flex: 1 }}\r\n                  placeholder=\"https://www.paypal.com/donate/?hosted_button_id=...\"\r\n                />\r\n              </Box>\r\n              <Box display=\"flex\" gap={2} mb={2}>\r\n                <TextField\r\n                  label=\"PayPal Email\"\r\n                  value={formData.fields.find(f => f.label === 'PayPal Email')?.value || ''}\r\n                  onChange={(e) => {\r\n                    const newFields = [...formData.fields];\r\n                    const emailIndex = newFields.findIndex(f => f.label === 'PayPal Email');\r\n                    if (emailIndex >= 0) {\r\n                      newFields[emailIndex] = { label: 'PayPal Email', value: e.target.value };\r\n                    } else {\r\n                      newFields.push({ label: 'PayPal Email', value: e.target.value });\r\n                    }\r\n                    setFormData(prev => ({ ...prev, fields: newFields }));\r\n                  }}\r\n                  sx={{ flex: 1 }}\r\n                  placeholder=\"donations@yourorg.com\"\r\n                />\r\n              </Box>\r\n            </>\r\n          ) : (\r\n            // Dynamic fields for other types\r\n            <>\r\n              {formData.fields.map((field, index) => (\r\n                <Box key={index} display=\"flex\" gap={2} mb={2} alignItems=\"center\">\r\n                  <TextField\r\n                    label=\"Field Label\"\r\n                    value={field.label}\r\n                    onChange={(e) => handleFieldChange(index, 'label', e.target.value)}\r\n                    sx={{ flex: 1 }}\r\n                  />\r\n                  <TextField\r\n                    label=\"Field Value\"\r\n                    value={field.value}\r\n                    onChange={(e) => handleFieldChange(index, 'value', e.target.value)}\r\n                    sx={{ flex: 2 }}\r\n                  />\r\n                  <IconButton\r\n                    onClick={() => handleRemoveField(index)}\r\n                    disabled={formData.fields.length === 1}\r\n                    color=\"error\"\r\n                  >\r\n                    <RemoveIcon />\r\n                  </IconButton>\r\n                </Box>\r\n              ))}\r\n\r\n              <Button\r\n                startIcon={<AddIcon />}\r\n                onClick={handleAddField}\r\n                sx={{ mt: 1 }}\r\n              >\r\n                Add Another Field\r\n              </Button>\r\n            </>\r\n          )}\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={() => setOpenDialog(false)}>Cancel</Button>\r\n          <Button onClick={handleSave} variant=\"contained\" startIcon={<SaveIcon />}>\r\n            {editingMethod ? 'Update' : 'Add'} Method\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default TransactionDetails;","import React, { useState, useEffect } from 'react';\r\nimport { Plus, Edit, Trash2, Eye, EyeOff, Save, X, AlertCircle, CheckCircle, Star, Search, Filter, Grid, List, Calendar, Clock, Video, Tags, Settings, Globe } from 'lucide-react';\r\n\r\n// useCountries hook (inline for artifact)\r\nconst useCountries = () => {\r\n  const [countries, setCountries] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState(null);\r\n\r\n  useEffect(() => {\r\n    const fetchCountries = async () => {\r\n      setLoading(true);\r\n      try {\r\n        const API_URL = process.env.REACT_APP_API_URL || 'http://localhost:5000/api';\r\n        const res = await fetch(`${API_URL}/countries`, {\r\n          credentials: \"include\",\r\n        });\r\n        const data = await res.json();\r\n        if (!Array.isArray(data)) throw new Error(\"Invalid response format\");\r\n        setCountries(data.sort((a, b) => a.name.localeCompare(b.name)));\r\n      } catch (err) {\r\n        console.error(\"Error fetching countries:\", err);\r\n        setError(err.message);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n    fetchCountries();\r\n  }, []);\r\n\r\n  return { countries, loading, error };\r\n};\r\n\r\nconst AdminManageVideos = () => {\r\n  const [videoSections, setVideoSections] = useState([]);\r\n  const [tagOptions, setTagOptions] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  const [success, setSuccess] = useState(null);\r\n  const [editingId, setEditingId] = useState(null);\r\n  const [showAddForm, setShowAddForm] = useState(false);\r\n  const [newTag, setNewTag] = useState('');\r\n  const [showAddTag, setShowAddTag] = useState(false);\r\n  const [submitLoading, setSubmitLoading] = useState(false);\r\n  \r\n  // Countries hook\r\n  const { countries, loading: countriesLoading, error: countriesError } = useCountries();\r\n  \r\n  // Search and filter state\r\n  const [searchTerm, setSearchTerm] = useState('');\r\n  const [selectedTag, setSelectedTag] = useState('');\r\n  const [selectedCountry, setSelectedCountry] = useState('');\r\n  const [statusFilter, setStatusFilter] = useState('');\r\n  const [featuredFilter, setFeaturedFilter] = useState('');\r\n  const [viewMode, setViewMode] = useState('list');\r\n\r\n  const API_URL = process.env.REACT_APP_API_URL || 'http://localhost:5000/api';\r\n\r\n  const [formData, setFormData] = useState({\r\n    tag: '',\r\n    country_id: '',\r\n    title: '',\r\n    description: '',\r\n    youtube_url: '',\r\n    is_active: true\r\n  });\r\n\r\n  useEffect(() => {\r\n    fetchVideoSections();\r\n    fetchTagOptions();\r\n  }, []);\r\n\r\n  // Clear messages after 5 seconds\r\n  useEffect(() => {\r\n    if (error || success) {\r\n      const timer = setTimeout(() => {\r\n        setError(null);\r\n        setSuccess(null);\r\n      }, 5000);\r\n      return () => clearTimeout(timer);\r\n    }\r\n  }, [error, success]);\r\n\r\n  const fetchVideoSections = async () => {\r\n    try {\r\n      console.log('Fetching video sections from:', `${API_URL}/video-sections/admin`);\r\n      const response = await fetch(`${API_URL}/video-sections/admin`);\r\n      \r\n      if (!response.ok) {\r\n        throw new Error(`HTTP ${response.status}: ${response.statusText}`);\r\n      }\r\n      \r\n      const data = await response.json();\r\n      console.log('Video sections response:', data);\r\n      \r\n      if (data.success) {\r\n        setVideoSections(data.data);\r\n        setError(null);\r\n      } else {\r\n        setError(data.message || 'Failed to fetch video sections');\r\n      }\r\n    } catch (err) {\r\n      console.error('Error fetching video sections:', err);\r\n      setError(`Failed to fetch video sections: ${err.message}`);\r\n    }\r\n  };\r\n\r\n  const fetchTagOptions = async () => {\r\n    try {\r\n      console.log('Fetching tag options from:', `${API_URL}/video-sections/tags/options`);\r\n      const response = await fetch(`${API_URL}/video-sections/tags/options`);\r\n      \r\n      if (!response.ok) {\r\n        throw new Error(`HTTP ${response.status}: ${response.statusText}`);\r\n      }\r\n      \r\n      const data = await response.json();\r\n      console.log('Tag options response:', data);\r\n      \r\n      if (data.success) {\r\n        setTagOptions(data.data);\r\n        setError(null);\r\n      } else {\r\n        setError(data.message || 'Failed to fetch tag options');\r\n      }\r\n    } catch (err) {\r\n      console.error('Error fetching tag options:', err);\r\n      setError(`Failed to fetch tag options: ${err.message}`);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleSubmit = async () => {\r\n    if (!isFormValid()) return;\r\n    \r\n    setSubmitLoading(true);\r\n    setError(null);\r\n    setSuccess(null);\r\n    \r\n    try {\r\n      const url = editingId \r\n        ? `${API_URL}/video-sections/${editingId}`\r\n        : `${API_URL}/video-sections`;\r\n      \r\n      const method = editingId ? 'PUT' : 'POST';\r\n      \r\n      // Prepare data with country_id as null if empty\r\n      const submitData = {\r\n        ...formData,\r\n        country_id: formData.country_id || null\r\n      };\r\n      \r\n      console.log(`${method} request to:`, url, 'with data:', submitData);\r\n      \r\n      const response = await fetch(url, {\r\n        method,\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify(submitData),\r\n      });\r\n\r\n      if (!response.ok) {\r\n        throw new Error(`HTTP ${response.status}: ${response.statusText}`);\r\n      }\r\n\r\n      const data = await response.json();\r\n      console.log('Submit response:', data);\r\n      \r\n      if (data.success) {\r\n        await fetchVideoSections();\r\n        resetForm();\r\n        setSuccess(editingId ? 'Video section updated successfully!' : 'Video section created successfully!');\r\n      } else {\r\n        setError(data.message || 'Failed to save video section');\r\n      }\r\n    } catch (err) {\r\n      console.error('Error saving video section:', err);\r\n      setError(`Failed to save video section: ${err.message}`);\r\n    } finally {\r\n      setSubmitLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleEdit = (video) => {\r\n    setEditingId(video.id);\r\n    setFormData({\r\n      tag: video.tag,\r\n      country_id: video.country_id || '',\r\n      title: video.title,\r\n      description: video.description,\r\n      youtube_url: video.youtube_url,\r\n      is_active: video.is_active\r\n    });\r\n    setShowAddForm(true);\r\n    setError(null);\r\n    setSuccess(null);\r\n  };\r\n\r\n  const handleDelete = async (id) => {\r\n    if (!window.confirm('Are you sure you want to delete this video section? This action cannot be undone.')) {\r\n      return;\r\n    }\r\n    \r\n    setError(null);\r\n    setSuccess(null);\r\n    \r\n    try {\r\n      const response = await fetch(`${API_URL}/video-sections/${id}`, {\r\n        method: 'DELETE',\r\n      });\r\n\r\n      if (!response.ok) {\r\n        throw new Error(`HTTP ${response.status}: ${response.statusText}`);\r\n      }\r\n\r\n      const data = await response.json();\r\n      \r\n      if (data.success) {\r\n        await fetchVideoSections();\r\n        setSuccess('Video section deleted successfully!');\r\n      } else {\r\n        setError(data.message || 'Failed to delete video section');\r\n      }\r\n    } catch (err) {\r\n      console.error('Error deleting video section:', err);\r\n      setError(`Failed to delete video section: ${err.message}`);\r\n    }\r\n  };\r\n\r\n  const toggleActive = async (id, currentStatus) => {\r\n    setError(null);\r\n    setSuccess(null);\r\n    \r\n    try {\r\n      const response = await fetch(`${API_URL}/video-sections/${id}`, {\r\n        method: 'PUT',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify({ is_active: !currentStatus }),\r\n      });\r\n\r\n      if (!response.ok) {\r\n        throw new Error(`HTTP ${response.status}: ${response.statusText}`);\r\n      }\r\n\r\n      const data = await response.json();\r\n      \r\n      if (data.success) {\r\n        await fetchVideoSections();\r\n        setSuccess(`Video section ${!currentStatus ? 'activated' : 'deactivated'} successfully!`);\r\n      } else {\r\n        setError(data.message || 'Failed to update status');\r\n      }\r\n    } catch (err) {\r\n      console.error('Error updating status:', err);\r\n      setError(`Failed to update status: ${err.message}`);\r\n    }\r\n  };\r\n\r\n  const toggleFeatured = async (id, currentStatus) => {\r\n    setError(null);\r\n    setSuccess(null);\r\n    \r\n    try {\r\n      const endpoint = currentStatus ? 'unfeature' : 'feature';\r\n      const response = await fetch(`${API_URL}/video-sections/${id}/${endpoint}`, {\r\n        method: 'PUT',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        }\r\n      });\r\n\r\n      const data = await response.json();\r\n      \r\n      if (data.success) {\r\n        await fetchVideoSections();\r\n        setSuccess(currentStatus ? 'Video unfeatured successfully!' : 'Video featured successfully!');\r\n      } else {\r\n        setError(data.message || 'Failed to update featured status');\r\n      }\r\n    } catch (err) {\r\n      console.error('Error updating featured status:', err);\r\n      setError(`Failed to update featured status: ${err.message}`);\r\n    }\r\n  };\r\n\r\n  const addNewTag = async () => {\r\n    if (!newTag.trim()) return;\r\n    \r\n    setError(null);\r\n    setSuccess(null);\r\n    \r\n    try {\r\n      console.log('Adding new tag:', newTag.trim(), 'to URL:', `${API_URL}/video-sections/tags/options`);\r\n      \r\n      const response = await fetch(`${API_URL}/video-sections/tags/options`, {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify({ tag_name: newTag.trim() }),\r\n      });\r\n\r\n      console.log('Add tag response status:', response.status, response.statusText);\r\n\r\n      if (!response.ok) {\r\n        const errorText = await response.text();\r\n        console.error('Add tag error response:', errorText);\r\n        throw new Error(`HTTP ${response.status}: ${response.statusText}`);\r\n      }\r\n\r\n      const data = await response.json();\r\n      console.log('Add tag response data:', data);\r\n      \r\n      if (data.success) {\r\n        await fetchTagOptions();\r\n        setNewTag('');\r\n        setShowAddTag(false);\r\n        setSuccess('Tag option added successfully!');\r\n      } else {\r\n        setError(data.message || 'Failed to add tag option');\r\n      }\r\n    } catch (err) {\r\n      console.error('Error adding tag option:', err);\r\n      setError(`Failed to add tag option: ${err.message}`);\r\n    }\r\n  };\r\n\r\n  const resetForm = () => {\r\n    setFormData({\r\n      tag: '',\r\n      country_id: '',\r\n      title: '',\r\n      description: '',\r\n      youtube_url: '',\r\n      is_active: true\r\n    });\r\n    setEditingId(null);\r\n    setShowAddForm(false);\r\n  };\r\n\r\n  const clearFilters = () => {\r\n    setSearchTerm('');\r\n    setSelectedTag('');\r\n    setSelectedCountry('');\r\n    setStatusFilter('');\r\n    setFeaturedFilter('');\r\n  };\r\n\r\n  const extractVideoId = (url) => {\r\n    if (!url) return null;\r\n    const regex = /(?:youtube\\.com\\/(?:[^\\/]+\\/.+\\/|(?:v|e(?:mbed)?)\\/|.*[?&]v=)|youtu\\.be\\/)([^\"&?\\/\\s]{11})/;\r\n    const match = url.match(regex);\r\n    return match ? match[1] : null;\r\n  };\r\n\r\n  const isFormValid = () => {\r\n    return formData.tag && formData.title && formData.description && formData.youtube_url;\r\n  };\r\n\r\n  const isValidYouTubeUrl = (url) => {\r\n    const regex = /^(https?:\\/\\/)?(www\\.)?(youtube\\.com|youtu\\.be)\\/.+/;\r\n    return regex.test(url) && extractVideoId(url);\r\n  };\r\n\r\n  // Get country name by ID\r\n  const getCountryName = (countryId) => {\r\n    if (!countryId) return 'General';\r\n    const country = countries.find(c => c.id === countryId);\r\n    return country ? country.name : 'Unknown';\r\n  };\r\n\r\n  // Filter and search logic\r\n  const filteredVideos = videoSections.filter(video => {\r\n    const matchesSearch = video.title.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n                         video.description.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n                         video.tag.toLowerCase().includes(searchTerm.toLowerCase());\r\n    \r\n    const matchesTag = !selectedTag || video.tag === selectedTag;\r\n    const matchesCountry = !selectedCountry || \r\n                          (selectedCountry === 'general' && !video.country_id) ||\r\n                          (selectedCountry !== 'general' && video.country_id === parseInt(selectedCountry));\r\n    const matchesStatus = !statusFilter || \r\n                         (statusFilter === 'active' && video.is_active) ||\r\n                         (statusFilter === 'inactive' && !video.is_active);\r\n    const matchesFeatured = !featuredFilter || \r\n                           (featuredFilter === 'featured' && video.is_featured) ||\r\n                           (featuredFilter === 'not-featured' && !video.is_featured);\r\n    \r\n    return matchesSearch && matchesTag && matchesCountry && matchesStatus && matchesFeatured;\r\n  });\r\n\r\n  // Sort videos to show featured first\r\n  const sortedVideos = [...filteredVideos].sort((a, b) => {\r\n    if (a.is_featured && !b.is_featured) return -1;\r\n    if (!a.is_featured && b.is_featured) return 1;\r\n    return new Date(b.created_at) - new Date(a.created_at);\r\n  });\r\n\r\n  // Statistics\r\n  const stats = {\r\n    total: videoSections.length,\r\n    active: videoSections.filter(v => v.is_active).length,\r\n    inactive: videoSections.filter(v => !v.is_active).length,\r\n    featured: videoSections.filter(v => v.is_featured).length\r\n  };\r\n\r\n  if (loading || countriesLoading) {\r\n    return (\r\n      <div style={styles.loadingContainer}>\r\n        <div style={styles.spinner}></div>\r\n        <p style={styles.loadingText}>Loading video management...</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div style={styles.container}>\r\n      {/* Admin Header */}\r\n      <div style={styles.adminHeader}>\r\n        <div style={styles.adminHeaderContent}>\r\n          <div style={styles.adminTitle}>\r\n            <Video size={32} style={styles.adminIcon} />\r\n            <div>\r\n              <h1 style={styles.mainTitle}>Video Content Manager</h1>\r\n              <p style={styles.adminSubtitle}>Manage and organize video content across your platform</p>\r\n            </div>\r\n          </div>\r\n          <div style={styles.adminStats}>\r\n            <div style={styles.statCard}>\r\n              <div style={styles.statNumber}>{stats.total}</div>\r\n              <div style={styles.statLabel}>Total Videos</div>\r\n            </div>\r\n            <div style={styles.statCard}>\r\n              <div style={{...styles.statNumber, color: '#10b981'}}>{stats.active}</div>\r\n              <div style={styles.statLabel}>Active</div>\r\n            </div>\r\n            <div style={styles.statCard}>\r\n              <div style={{...styles.statNumber, color: '#f59e0b'}}>{stats.featured}</div>\r\n              <div style={styles.statLabel}>Featured</div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div style={styles.mainContent}>\r\n        {/* Control Panel */}\r\n        <div style={styles.controlPanel}>\r\n          <div style={styles.controlLeft}>\r\n            <div style={styles.searchContainer}>\r\n              <Search size={20} style={styles.searchIcon} />\r\n              <input\r\n                type=\"text\"\r\n                placeholder=\"Search videos by title, description, or tag...\"\r\n                value={searchTerm}\r\n                onChange={(e) => setSearchTerm(e.target.value)}\r\n                style={styles.searchInput}\r\n              />\r\n            </div>\r\n            \r\n            <div style={styles.filterContainer}>\r\n              <div style={styles.filterGroup}>\r\n                <Tags size={16} style={styles.filterIcon} />\r\n                <select\r\n                  value={selectedTag}\r\n                  onChange={(e) => setSelectedTag(e.target.value)}\r\n                  style={styles.filterSelect}\r\n                >\r\n                  <option value=\"\">All Tags</option>\r\n                  {tagOptions.map(option => (\r\n                    <option key={option.id} value={option.tag_name}>\r\n                      {option.tag_name}\r\n                    </option>\r\n                  ))}\r\n                </select>\r\n              </div>\r\n              \r\n              <div style={styles.filterGroup}>\r\n                <Globe size={16} style={styles.filterIcon} />\r\n                <select\r\n                  value={selectedCountry}\r\n                  onChange={(e) => setSelectedCountry(e.target.value)}\r\n                  style={styles.filterSelect}\r\n                >\r\n                  <option value=\"\">All Countries</option>\r\n                  <option value=\"general\">General</option>\r\n                  {countries.map(country => (\r\n                    <option key={country.id} value={country.id}>\r\n                      {country.name}\r\n                    </option>\r\n                  ))}\r\n                </select>\r\n              </div>\r\n              \r\n              <div style={styles.filterGroup}>\r\n                <Eye size={16} style={styles.filterIcon} />\r\n                <select\r\n                  value={statusFilter}\r\n                  onChange={(e) => setStatusFilter(e.target.value)}\r\n                  style={styles.filterSelect}\r\n                >\r\n                  <option value=\"\">All Status</option>\r\n                  <option value=\"active\">Active</option>\r\n                  <option value=\"inactive\">Inactive</option>\r\n                </select>\r\n              </div>\r\n              \r\n              <div style={styles.filterGroup}>\r\n                <Star size={16} style={styles.filterIcon} />\r\n                <select\r\n                  value={featuredFilter}\r\n                  onChange={(e) => setFeaturedFilter(e.target.value)}\r\n                  style={styles.filterSelect}\r\n                >\r\n                  <option value=\"\">All Videos</option>\r\n                  <option value=\"featured\">Featured</option>\r\n                  <option value=\"not-featured\">Not Featured</option>\r\n                </select>\r\n              </div>\r\n              \r\n              {(searchTerm || selectedTag || selectedCountry || statusFilter || featuredFilter) && (\r\n                <button\r\n                  onClick={clearFilters}\r\n                  style={styles.clearFiltersButton}\r\n                  title=\"Clear all filters\"\r\n                >\r\n                  <X size={16} />\r\n                </button>\r\n              )}\r\n            </div>\r\n          </div>\r\n\r\n          <div style={styles.controlRight}>\r\n            <div style={styles.viewControls}>\r\n              <button\r\n                onClick={() => setViewMode('list')}\r\n                style={{\r\n                  ...styles.viewButton,\r\n                  ...(viewMode === 'list' ? styles.activeViewButton : {})\r\n                }}\r\n                title=\"List view\"\r\n              >\r\n                <List size={18} />\r\n              </button>\r\n              <button\r\n                onClick={() => setViewMode('card')}\r\n                style={{\r\n                  ...styles.viewButton,\r\n                  ...(viewMode === 'card' ? styles.activeViewButton : {})\r\n                }}\r\n                title=\"Card view\"\r\n              >\r\n                <Grid size={18} />\r\n              </button>\r\n            </div>\r\n            \r\n            <button\r\n              onClick={() => setShowAddForm(true)}\r\n              style={styles.primaryButton}\r\n            >\r\n              <Plus size={20} />\r\n              Add Video\r\n            </button>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Messages */}\r\n        {success && (\r\n          <div style={styles.successMessage}>\r\n            <CheckCircle size={20} />\r\n            <span>{success}</span>\r\n            <button onClick={() => setSuccess(null)} style={styles.messageClose}>\r\n              <X size={16} />\r\n            </button>\r\n          </div>\r\n        )}\r\n\r\n        {error && (\r\n          <div style={styles.errorMessage}>\r\n            <AlertCircle size={20} />\r\n            <span>{error}</span>\r\n            <button onClick={() => setError(null)} style={styles.messageClose}>\r\n              <X size={16} />\r\n            </button>\r\n          </div>\r\n        )}\r\n\r\n        {countriesError && (\r\n          <div style={styles.errorMessage}>\r\n            <AlertCircle size={20} />\r\n            <span>Failed to load countries: {countriesError}</span>\r\n          </div>\r\n        )}\r\n\r\n        {/* Results Info */}\r\n        <div style={styles.resultsInfo}>\r\n          <span style={styles.resultsText}>\r\n            Showing {sortedVideos.length} of {videoSections.length} videos\r\n          </span>\r\n        </div>\r\n\r\n        {/* Add/Edit Form */}\r\n        {showAddForm && (\r\n          <div style={styles.formCard}>\r\n            <div style={styles.formHeader}>\r\n              <h3 style={styles.formTitle}>\r\n                <Settings size={20} />\r\n                {editingId ? 'Edit Video Section' : 'Add New Video Section'}\r\n              </h3>\r\n              <button onClick={resetForm} style={styles.formClose}>\r\n                <X size={20} />\r\n              </button>\r\n            </div>\r\n            \r\n            <div style={styles.formContent}>\r\n              <div style={styles.formGrid}>\r\n                <div style={styles.inputGroup}>\r\n                  <label style={styles.label}>Category *</label>\r\n                  <div style={styles.tagInputContainer}>\r\n                    <select\r\n                      value={formData.tag}\r\n                      onChange={(e) => setFormData(prev => ({ ...prev, tag: e.target.value }))}\r\n                      style={styles.select}\r\n                      required\r\n                    >\r\n                      <option value=\"\">Select category</option>\r\n                      {tagOptions.map(option => (\r\n                        <option key={option.id} value={option.tag_name}>\r\n                          {option.tag_name}\r\n                        </option>\r\n                      ))}\r\n                    </select>\r\n                    <button\r\n                      type=\"button\"\r\n                      onClick={() => setShowAddTag(true)}\r\n                      style={styles.addTagButton}\r\n                      title=\"Add new category\"\r\n                    >\r\n                      <Plus size={16} />\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n\r\n                <div style={styles.inputGroup}>\r\n                  <label style={styles.label}>\r\n                    <Globe size={16} />\r\n                    Target Country\r\n                  </label>\r\n                  <select\r\n                    value={formData.country_id}\r\n                    onChange={(e) => setFormData(prev => ({ ...prev, country_id: e.target.value }))}\r\n                    style={styles.select}\r\n                  >\r\n                    <option value=\"\">General (All Countries)</option>\r\n                    {countries.map(country => (\r\n                      <option key={country.id} value={country.id}>\r\n                        {country.name}\r\n                      </option>\r\n                    ))}\r\n                  </select>\r\n                  <div style={styles.fieldNote}>\r\n                    Leave blank or select \"General\" to show this video to all countries\r\n                  </div>\r\n                </div>\r\n\r\n                <div style={styles.inputGroup}>\r\n                  <label style={styles.label}>Status</label>\r\n                  <select\r\n                    value={formData.is_active}\r\n                    onChange={(e) => setFormData(prev => ({ ...prev, is_active: e.target.value === 'true' }))}\r\n                    style={styles.select}\r\n                  >\r\n                    <option value=\"true\">Active</option>\r\n                    <option value=\"false\">Inactive</option>\r\n                  </select>\r\n                </div>\r\n              </div>\r\n\r\n              <div style={styles.inputGroup}>\r\n                <label style={styles.label}>Video Title *</label>\r\n                <input\r\n                  type=\"text\"\r\n                  value={formData.title}\r\n                  onChange={(e) => setFormData(prev => ({ ...prev, title: e.target.value }))}\r\n                  style={styles.input}\r\n                  placeholder=\"Enter a descriptive title for the video\"\r\n                  required\r\n                />\r\n              </div>\r\n\r\n              <div style={styles.inputGroup}>\r\n                <label style={styles.label}>Description *</label>\r\n                <textarea\r\n                  value={formData.description}\r\n                  onChange={(e) => setFormData(prev => ({ ...prev, description: e.target.value }))}\r\n                  rows={4}\r\n                  style={{...styles.input, ...styles.textarea}}\r\n                  placeholder=\"Provide a detailed description of the video content\"\r\n                  required\r\n                />\r\n                <div style={styles.charCount}>\r\n                  {formData.description.length}/500 characters\r\n                </div>\r\n              </div>\r\n\r\n              <div style={styles.inputGroup}>\r\n                <label style={styles.label}>\r\n                  YouTube Embed URL *\r\n                  <span style={styles.labelNote}>(Must be embed format, not watch URL)</span>\r\n                </label>\r\n                <input\r\n                  type=\"url\"\r\n                  value={formData.youtube_url}\r\n                  onChange={(e) => setFormData(prev => ({ ...prev, youtube_url: e.target.value }))}\r\n                  placeholder=\"https://www.youtube.com/embed/VIDEO_ID\"\r\n                  style={{\r\n                    ...styles.input,\r\n                    ...(formData.youtube_url && !isValidYouTubeUrl(formData.youtube_url) ? styles.inputError : {})\r\n                  }}\r\n                  required\r\n                />\r\n                {formData.youtube_url && !isValidYouTubeUrl(formData.youtube_url) && (\r\n                  <div style={styles.validationError}>\r\n                    <AlertCircle size={16} />\r\n                    Please enter a valid YouTube URL\r\n                  </div>\r\n                )}\r\n                \r\n                {formData.youtube_url && extractVideoId(formData.youtube_url) && (\r\n                  <div style={styles.previewContainer}>\r\n                    <div style={styles.previewHeader}>\r\n                      <span style={styles.previewLabel}>Video Preview</span>\r\n                      <span style={styles.previewNote}>Preview how it will appear</span>\r\n                    </div>\r\n                    <iframe\r\n                      src={`https://www.youtube.com/embed/${extractVideoId(formData.youtube_url)}`}\r\n                      style={styles.previewIframe}\r\n                      allowFullScreen\r\n                      title=\"Video preview\"\r\n                    />\r\n                  </div>\r\n                )}\r\n              </div>\r\n\r\n              <div style={styles.formActions}>\r\n                <button\r\n                  onClick={handleSubmit}\r\n                  disabled={!isFormValid() || submitLoading}\r\n                  style={{\r\n                    ...styles.submitButton,\r\n                    ...((!isFormValid() || submitLoading) ? styles.disabledButton : {})\r\n                  }}\r\n                >\r\n                  {submitLoading ? (\r\n                    <>\r\n                      <div style={styles.miniSpinner}></div>\r\n                      {editingId ? 'Updating...' : 'Creating...'}\r\n                    </>\r\n                  ) : (\r\n                    <>\r\n                      <Save size={16} />\r\n                      {editingId ? 'Update Video' : 'Create Video'}\r\n                    </>\r\n                  )}\r\n                </button>\r\n                <button\r\n                  onClick={resetForm}\r\n                  style={styles.secondaryButton}\r\n                  disabled={submitLoading}\r\n                >\r\n                  Cancel\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {/* Add Tag Modal */}\r\n        {showAddTag && (\r\n          <div style={styles.modalOverlay}>\r\n            <div style={styles.modal}>\r\n              <div style={styles.modalHeader}>\r\n                <h3 style={styles.modalTitle}>Add New Category</h3>\r\n                <button onClick={() => { setShowAddTag(false); setNewTag(''); }} style={styles.modalClose}>\r\n                  <X size={20} />\r\n                </button>\r\n              </div>\r\n              <div style={styles.modalContent}>\r\n                <input\r\n                  type=\"text\"\r\n                  value={newTag}\r\n                  onChange={(e) => setNewTag(e.target.value)}\r\n                  placeholder=\"Enter category name (e.g., Tutorials, Reviews)\"\r\n                  style={styles.input}\r\n                  onKeyPress={(e) => e.key === 'Enter' && addNewTag()}\r\n                  autoFocus\r\n                />\r\n              </div>\r\n              <div style={styles.modalActions}>\r\n                <button\r\n                  onClick={addNewTag}\r\n                  disabled={!newTag.trim()}\r\n                  style={{\r\n                    ...styles.submitButton,\r\n                    ...(!newTag.trim() ? styles.disabledButton : {})\r\n                  }}\r\n                >\r\n                  Add Category\r\n                </button>\r\n                <button\r\n                  onClick={() => { setShowAddTag(false); setNewTag(''); }}\r\n                  style={styles.secondaryButton}\r\n                >\r\n                  Cancel\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {/* Video Content */}\r\n        <div style={styles.contentArea}>\r\n          {sortedVideos.length === 0 ? (\r\n            <div style={styles.emptyState}>\r\n              <div style={styles.emptyIcon}>\r\n                {videoSections.length === 0 ? <Video size={48} /> : <Search size={48} />}\r\n              </div>\r\n              <h3 style={styles.emptyTitle}>\r\n                {videoSections.length === 0 ? 'No videos yet' : 'No matching videos'}\r\n              </h3>\r\n              <p style={styles.emptySubtitle}>\r\n                {videoSections.length === 0 \r\n                  ? 'Get started by adding your first video content' \r\n                  : 'Try adjusting your search or filter criteria'\r\n                }\r\n              </p>\r\n              {videoSections.length === 0 ? (\r\n                <button onClick={() => setShowAddForm(true)} style={styles.primaryButton}>\r\n                  <Plus size={20} />\r\n                  Add Your First Video\r\n                </button>\r\n              ) : (\r\n                <button onClick={clearFilters} style={styles.secondaryButton}>\r\n                  Clear All Filters\r\n                </button>\r\n              )}\r\n            </div>\r\n          ) : viewMode === 'list' ? (\r\n            /* Enhanced List View */\r\n            <div style={styles.listView}>\r\n              <div style={styles.listHeader}>\r\n                <div style={styles.listHeaderCell}>Video</div>\r\n                <div style={styles.listHeaderCell}>Category</div>\r\n                <div style={styles.listHeaderCell}>Country</div>\r\n                <div style={styles.listHeaderCell}>Status</div>\r\n                <div style={styles.listHeaderCell}>Created</div>\r\n                <div style={styles.listHeaderCell}>Actions</div>\r\n              </div>\r\n              {sortedVideos.map((video) => (\r\n                <div key={video.id} style={styles.listItem}>\r\n                  <div style={styles.listCell}>\r\n                    <div style={styles.videoListInfo}>\r\n                      <div style={styles.videoThumbnail}>\r\n                        {extractVideoId(video.youtube_url) ? (\r\n                          <img\r\n                            src={`https://img.youtube.com/vi/${extractVideoId(video.youtube_url)}/mqdefault.jpg`}\r\n                            alt={video.title}\r\n                            style={styles.thumbnailImage}\r\n                          />\r\n                        ) : (\r\n                          <div style={styles.noThumbnail}>\r\n                            <Video size={24} />\r\n                          </div>\r\n                        )}\r\n                      </div>\r\n                      <div style={styles.videoDetails}>\r\n                        <h4 style={styles.videoListTitle}>\r\n                          {video.is_featured && <Star size={14} style={styles.featuredStar} />}\r\n                          {video.title}\r\n                        </h4>\r\n                        <p style={styles.videoListDescription}>\r\n                          {video.description.length > 80 \r\n                            ? `${video.description.substring(0, 80)}...` \r\n                            : video.description\r\n                          }\r\n                        </p>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                  <div style={styles.listCell}>\r\n                    <span style={styles.categoryBadge}>{video.tag}</span>\r\n                  </div>\r\n                  <div style={styles.listCell}>\r\n                    <span style={styles.countryBadge}>\r\n                      <Globe size={12} />\r\n                      {getCountryName(video.country_id)}\r\n                    </span>\r\n                  </div>\r\n                  <div style={styles.listCell}>\r\n                    <div style={styles.statusColumn}>\r\n                      <span style={{\r\n                        ...styles.statusBadge,\r\n                        ...(video.is_active ? styles.statusActive : styles.statusInactive)\r\n                      }}>\r\n                        {video.is_active ? 'Active' : 'Inactive'}\r\n                      </span>\r\n                      {video.is_featured && (\r\n                        <span style={styles.featuredBadge}>Featured</span>\r\n                      )}\r\n                    </div>\r\n                  </div>\r\n                  <div style={styles.listCell}>\r\n                    <div style={styles.dateInfo}>\r\n                      <Clock size={14} style={styles.dateIcon} />\r\n                      <span style={styles.dateText}>\r\n                        {new Date(video.created_at).toLocaleDateString('en-US', { \r\n                          month: 'short', \r\n                          day: 'numeric',\r\n                          year: new Date(video.created_at).getFullYear() !== new Date().getFullYear() ? 'numeric' : undefined\r\n                        })}\r\n                      </span>\r\n                    </div>\r\n                  </div>\r\n                  <div style={styles.listCell}>\r\n                    <div style={styles.actionButtons}>\r\n                      <button\r\n                        onClick={() => toggleFeatured(video.id, video.is_featured)}\r\n                        style={{\r\n                          ...styles.actionButton,\r\n                          ...(video.is_featured ? styles.actionFeatured : styles.actionNormal)\r\n                        }}\r\n                        title={video.is_featured ? 'Remove from featured' : 'Set as featured'}\r\n                      >\r\n                        <Star size={16} />\r\n                      </button>\r\n                      <button\r\n                        onClick={() => toggleActive(video.id, video.is_active)}\r\n                        style={{\r\n                          ...styles.actionButton,\r\n                          ...(video.is_active ? styles.actionActive : styles.actionInactive)\r\n                        }}\r\n                        title={video.is_active ? 'Deactivate' : 'Activate'}\r\n                      >\r\n                        {video.is_active ? <Eye size={16} /> : <EyeOff size={16} />}\r\n                      </button>\r\n                      <button\r\n                        onClick={() => handleEdit(video)}\r\n                        style={{...styles.actionButton, ...styles.actionEdit}}\r\n                        title=\"Edit\"\r\n                      >\r\n                        <Edit size={16} />\r\n                      </button>\r\n                      <button\r\n                        onClick={() => handleDelete(video.id)}\r\n                        style={{...styles.actionButton, ...styles.actionDelete}}\r\n                        title=\"Delete\"\r\n                      >\r\n                        <Trash2 size={16} />\r\n                      </button>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          ) : (\r\n            /* Enhanced Card View */\r\n            <div style={styles.cardGrid}>\r\n              {sortedVideos.map((video) => (\r\n                <div key={video.id} style={{\r\n                  ...styles.videoCard,\r\n                  ...(video.is_featured ? styles.featuredCard : {})\r\n                }}>\r\n                  <div style={styles.cardHeader}>\r\n                    <div style={styles.cardBadges}>\r\n                      <span style={styles.categoryBadge}>{video.tag}</span>\r\n                      <span style={styles.countryBadge}>\r\n                        <Globe size={12} />\r\n                        {getCountryName(video.country_id)}\r\n                      </span>\r\n                      {video.is_featured && (\r\n                        <span style={styles.featuredBadge}>\r\n                          <Star size={12} />\r\n                          Featured\r\n                        </span>\r\n                      )}\r\n                      <span style={{\r\n                        ...styles.statusBadge,\r\n                        ...(video.is_active ? styles.statusActive : styles.statusInactive)\r\n                      }}>\r\n                        {video.is_active ? 'Live' : 'Draft'}\r\n                      </span>\r\n                    </div>\r\n                    \r\n                    <div style={styles.cardActions}>\r\n                      <button\r\n                        onClick={() => toggleFeatured(video.id, video.is_featured)}\r\n                        style={{\r\n                          ...styles.actionButton,\r\n                          ...(video.is_featured ? styles.actionFeatured : styles.actionNormal)\r\n                        }}\r\n                        title={video.is_featured ? 'Remove from featured' : 'Set as featured'}\r\n                      >\r\n                        <Star size={16} />\r\n                      </button>\r\n                      <button\r\n                        onClick={() => toggleActive(video.id, video.is_active)}\r\n                        style={{\r\n                          ...styles.actionButton,\r\n                          ...(video.is_active ? styles.actionActive : styles.actionInactive)\r\n                        }}\r\n                        title={video.is_active ? 'Deactivate' : 'Activate'}\r\n                      >\r\n                        {video.is_active ? <Eye size={16} /> : <EyeOff size={16} />}\r\n                      </button>\r\n                      <button\r\n                        onClick={() => handleEdit(video)}\r\n                        style={{...styles.actionButton, ...styles.actionEdit}}\r\n                        title=\"Edit\"\r\n                      >\r\n                        <Edit size={16} />\r\n                      </button>\r\n                      <button\r\n                        onClick={() => handleDelete(video.id)}\r\n                        style={{...styles.actionButton, ...styles.actionDelete}}\r\n                        title=\"Delete\"\r\n                      >\r\n                        <Trash2 size={16} />\r\n                      </button>\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div style={styles.cardContent}>\r\n                    <h3 style={styles.cardTitle}>{video.title}</h3>\r\n                    <p style={styles.cardDescription}>{video.description}</p>\r\n                    \r\n                    <div style={styles.cardMeta}>\r\n                      <div style={styles.metaItem}>\r\n                        <Calendar size={14} style={styles.metaIcon} />\r\n                        <span>Created {new Date(video.created_at).toLocaleDateString('en-US', { \r\n                          month: 'short', \r\n                          day: 'numeric',\r\n                          year: new Date(video.created_at).getFullYear() !== new Date().getFullYear() ? 'numeric' : undefined\r\n                        })}</span>\r\n                      </div>\r\n                      {video.updated_at !== video.created_at && (\r\n                        <div style={styles.metaItem}>\r\n                          <Clock size={14} style={styles.metaIcon} />\r\n                          <span>Updated {new Date(video.updated_at).toLocaleDateString('en-US', { \r\n                            month: 'short', \r\n                            day: 'numeric'\r\n                          })}</span>\r\n                        </div>\r\n                      )}\r\n                    </div>\r\n                  </div>\r\n\r\n                  {/* Video Preview */}\r\n                  {extractVideoId(video.youtube_url) && (\r\n                    <div style={styles.cardPreview}>\r\n                      <div style={styles.previewHeader}>\r\n                        <span style={styles.previewLabel}>Preview</span>\r\n                        <a\r\n                          href={video.youtube_url}\r\n                          target=\"_blank\"\r\n                          rel=\"noopener noreferrer\"\r\n                          style={styles.youtubeLink}\r\n                        >\r\n                          View on YouTube \r\n                        </a>\r\n                      </div>\r\n                      <iframe\r\n                        src={`https://www.youtube.com/embed/${extractVideoId(video.youtube_url)}`}\r\n                        style={styles.cardIframe}\r\n                        allowFullScreen\r\n                        title={video.title}\r\n                      />\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              ))}\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst styles = {\r\n  container: {\r\n    minHeight: '100vh',\r\n    backgroundColor: '#f1f5f9',\r\n    fontFamily: '-apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, \"Helvetica Neue\", Arial, sans-serif'\r\n  },\r\n  \r\n  // Loading States\r\n  loadingContainer: {\r\n    minHeight: '100vh',\r\n    backgroundColor: '#f1f5f9',\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    gap: '20px'\r\n  },\r\n  spinner: {\r\n    width: '40px',\r\n    height: '40px',\r\n    border: '3px solid #e2e8f0',\r\n    borderTop: '3px solid #3b82f6',\r\n    borderRadius: '50%',\r\n    animation: 'spin 1s linear infinite'\r\n  },\r\n  miniSpinner: {\r\n    width: '16px',\r\n    height: '16px',\r\n    border: '2px solid rgba(255,255,255,0.3)',\r\n    borderTop: '2px solid white',\r\n    borderRadius: '50%',\r\n    animation: 'spin 1s linear infinite'\r\n  },\r\n  loadingText: {\r\n    color: '#64748b',\r\n    fontSize: '16px',\r\n    fontWeight: '500'\r\n  },\r\n\r\n  // Admin Header\r\n  adminHeader: {\r\n    backgroundColor: 'white',\r\n    borderBottom: '1px solid #e2e8f0',\r\n    boxShadow: '0 1px 3px rgba(0, 0, 0, 0.05)'\r\n  },\r\n  adminHeaderContent: {\r\n    maxWidth: '1400px',\r\n    margin: '0 auto',\r\n    padding: '24px 32px',\r\n    display: 'flex',\r\n    justifyContent: 'space-between',\r\n    alignItems: 'center',\r\n    flexWrap: 'wrap',\r\n    gap: '20px'\r\n  },\r\n  adminTitle: {\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    gap: '16px'\r\n  },\r\n  adminIcon: {\r\n    color: '#3b82f6'\r\n  },\r\n  mainTitle: {\r\n    fontSize: '32px',\r\n    fontWeight: '700',\r\n    color: '#0f172a',\r\n    margin: '0 0 4px 0',\r\n    lineHeight: '1.1'\r\n  },\r\n  adminSubtitle: {\r\n    color: '#64748b',\r\n    margin: '0',\r\n    fontSize: '16px',\r\n    fontWeight: '400'\r\n  },\r\n  adminStats: {\r\n    display: 'flex',\r\n    gap: '24px'\r\n  },\r\n  statCard: {\r\n    textAlign: 'center',\r\n    minWidth: '80px'\r\n  },\r\n  statNumber: {\r\n    fontSize: '28px',\r\n    fontWeight: '700',\r\n    color: '#0f172a',\r\n    lineHeight: '1'\r\n  },\r\n  statLabel: {\r\n    fontSize: '12px',\r\n    color: '#64748b',\r\n    fontWeight: '500',\r\n    textTransform: 'uppercase',\r\n    letterSpacing: '0.5px',\r\n    marginTop: '4px'\r\n  },\r\n\r\n  // Main Content\r\n  mainContent: {\r\n    maxWidth: '1400px',\r\n    margin: '0 auto',\r\n    padding: '32px'\r\n  },\r\n\r\n  // Control Panel\r\n  controlPanel: {\r\n    display: 'flex',\r\n    justifyContent: 'space-between',\r\n    alignItems: 'center',\r\n    marginBottom: '24px',\r\n    gap: '20px',\r\n    flexWrap: 'wrap'\r\n  },\r\n  controlLeft: {\r\n    display: 'flex',\r\n    gap: '16px',\r\n    flexWrap: 'wrap',\r\n    alignItems: 'center',\r\n    flex: '1'\r\n  },\r\n  controlRight: {\r\n    display: 'flex',\r\n    gap: '12px',\r\n    alignItems: 'center'\r\n  },\r\n\r\n  // Search\r\n  searchContainer: {\r\n    position: 'relative',\r\n    minWidth: '320px'\r\n  },\r\n  searchIcon: {\r\n    position: 'absolute',\r\n    left: '16px',\r\n    top: '50%',\r\n    transform: 'translateY(-50%)',\r\n    color: '#64748b'\r\n  },\r\n  searchInput: {\r\n    width: '100%',\r\n    padding: '12px 16px 12px 48px',\r\n    border: '1px solid #d1d5db',\r\n    borderRadius: '10px',\r\n    fontSize: '14px',\r\n    backgroundColor: 'white',\r\n    outline: 'none',\r\n    transition: 'all 0.2s ease',\r\n    boxShadow: '0 1px 2px rgba(0, 0, 0, 0.05)'\r\n  },\r\n\r\n  // Filters\r\n  filterContainer: {\r\n    display: 'flex',\r\n    gap: '12px',\r\n    alignItems: 'center',\r\n    flexWrap: 'wrap'\r\n  },\r\n  filterGroup: {\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    gap: '8px',\r\n    backgroundColor: 'white',\r\n    padding: '8px 12px',\r\n    borderRadius: '8px',\r\n    border: '1px solid #e2e8f0',\r\n    boxShadow: '0 1px 2px rgba(0, 0, 0, 0.05)'\r\n  },\r\n  filterIcon: {\r\n    color: '#64748b'\r\n  },\r\n  filterSelect: {\r\n    border: 'none',\r\n    backgroundColor: 'transparent',\r\n    fontSize: '14px',\r\n    color: '#374151',\r\n    outline: 'none',\r\n    cursor: 'pointer'\r\n  },\r\n  clearFiltersButton: {\r\n    padding: '8px 12px',\r\n    backgroundColor: '#fee2e2',\r\n    color: '#dc2626',\r\n    border: '1px solid #fecaca',\r\n    borderRadius: '8px',\r\n    fontSize: '14px',\r\n    cursor: 'pointer',\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    gap: '6px',\r\n    transition: 'all 0.2s ease'\r\n  },\r\n\r\n  // View Controls\r\n  viewControls: {\r\n    display: 'flex',\r\n    backgroundColor: 'white',\r\n    border: '1px solid #e2e8f0',\r\n    borderRadius: '8px',\r\n    overflow: 'hidden'\r\n  },\r\n  viewButton: {\r\n    padding: '10px 12px',\r\n    border: 'none',\r\n    backgroundColor: 'transparent',\r\n    color: '#64748b',\r\n    cursor: 'pointer',\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    transition: 'all 0.2s ease'\r\n  },\r\n  activeViewButton: {\r\n    backgroundColor: '#3b82f6',\r\n    color: 'white'\r\n  },\r\n\r\n  // Buttons\r\n  primaryButton: {\r\n    backgroundColor: '#3b82f6',\r\n    color: 'white',\r\n    border: 'none',\r\n    borderRadius: '8px',\r\n    padding: '12px 20px',\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    gap: '8px',\r\n    fontSize: '14px',\r\n    fontWeight: '600',\r\n    cursor: 'pointer',\r\n    transition: 'all 0.2s ease',\r\n    boxShadow: '0 1px 2px rgba(0, 0, 0, 0.05)'\r\n  },\r\n  secondaryButton: {\r\n    backgroundColor: 'white',\r\n    color: '#374151',\r\n    border: '1px solid #d1d5db',\r\n    borderRadius: '8px',\r\n    padding: '12px 20px',\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    gap: '8px',\r\n    fontSize: '14px',\r\n    fontWeight: '500',\r\n    cursor: 'pointer',\r\n    transition: 'all 0.2s ease'\r\n  },\r\n\r\n  // Messages\r\n  successMessage: {\r\n    backgroundColor: '#ecfdf5',\r\n    border: '1px solid #bbf7d0',\r\n    color: '#065f46',\r\n    padding: '16px 20px',\r\n    borderRadius: '10px',\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    gap: '12px',\r\n    marginBottom: '20px',\r\n    boxShadow: '0 1px 3px rgba(0, 0, 0, 0.05)'\r\n  },\r\n  errorMessage: {\r\n    backgroundColor: '#fef2f2',\r\n    border: '1px solid #fecaca',\r\n    color: '#991b1b',\r\n    padding: '16px 20px',\r\n    borderRadius: '10px',\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    gap: '12px',\r\n    marginBottom: '20px',\r\n    boxShadow: '0 1px 3px rgba(0, 0, 0, 0.05)'\r\n  },\r\n  messageClose: {\r\n    marginLeft: 'auto',\r\n    background: 'none',\r\n    border: 'none',\r\n    color: 'inherit',\r\n    cursor: 'pointer',\r\n    padding: '4px',\r\n    borderRadius: '4px',\r\n    transition: 'all 0.2s ease'\r\n  },\r\n\r\n  // Results Info\r\n  resultsInfo: {\r\n    marginBottom: '20px'\r\n  },\r\n  resultsText: {\r\n    color: '#64748b',\r\n    fontSize: '14px',\r\n    fontWeight: '500'\r\n  },\r\n\r\n  // Form\r\n  formCard: {\r\n    backgroundColor: 'white',\r\n    border: '1px solid #e2e8f0',\r\n    borderRadius: '12px',\r\n    marginBottom: '24px',\r\n    boxShadow: '0 4px 6px rgba(0, 0, 0, 0.05)'\r\n  },\r\n  formHeader: {\r\n    display: 'flex',\r\n    justifyContent: 'space-between',\r\n    alignItems: 'center',\r\n    padding: '24px 24px 0 24px'\r\n  },\r\n  formTitle: {\r\n    fontSize: '20px',\r\n    fontWeight: '600',\r\n    color: '#0f172a',\r\n    margin: '0',\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    gap: '12px'\r\n  },\r\n  formClose: {\r\n    background: 'none',\r\n    border: 'none',\r\n    color: '#64748b',\r\n    cursor: 'pointer',\r\n    padding: '8px',\r\n    borderRadius: '6px',\r\n    transition: 'all 0.2s ease'\r\n  },\r\n  formContent: {\r\n    padding: '24px'\r\n  },\r\n  formGrid: {\r\n    display: 'grid',\r\n    gridTemplateColumns: 'repeat(auto-fit, minmax(250px, 1fr))',\r\n    gap: '20px',\r\n    marginBottom: '20px'\r\n  },\r\n  inputGroup: {\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    gap: '8px'\r\n  },\r\n  label: {\r\n    fontSize: '14px',\r\n    fontWeight: '600',\r\n    color: '#374151',\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    gap: '8px'\r\n  },\r\n  labelNote: {\r\n    fontSize: '12px',\r\n    color: '#64748b',\r\n    fontWeight: '400'\r\n  },\r\n  fieldNote: {\r\n    fontSize: '12px',\r\n    color: '#64748b',\r\n    fontStyle: 'italic',\r\n    marginTop: '4px'\r\n  },\r\n  input: {\r\n    padding: '12px 16px',\r\n    border: '1px solid #d1d5db',\r\n    borderRadius: '8px',\r\n    fontSize: '14px',\r\n    backgroundColor: 'white',\r\n    transition: 'all 0.2s ease',\r\n    outline: 'none'\r\n  },\r\n  inputError: {\r\n    borderColor: '#ef4444',\r\n    backgroundColor: '#fef2f2'\r\n  },\r\n  textarea: {\r\n    resize: 'vertical',\r\n    minHeight: '100px',\r\n    fontFamily: 'inherit'\r\n  },\r\n  select: {\r\n    padding: '12px 16px',\r\n    border: '1px solid #d1d5db',\r\n    borderRadius: '8px',\r\n    fontSize: '14px',\r\n    backgroundColor: 'white',\r\n    outline: 'none',\r\n    cursor: 'pointer'\r\n  },\r\n  tagInputContainer: {\r\n    display: 'flex',\r\n    gap: '8px'\r\n  },\r\n  addTagButton: {\r\n    padding: '12px',\r\n    border: '1px solid #3b82f6',\r\n    borderRadius: '8px',\r\n    backgroundColor: 'white',\r\n    color: '#3b82f6',\r\n    cursor: 'pointer',\r\n    transition: 'all 0.2s ease',\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    justifyContent: 'center'\r\n  },\r\n  charCount: {\r\n    fontSize: '12px',\r\n    color: '#64748b',\r\n    textAlign: 'right'\r\n  },\r\n  validationError: {\r\n    color: '#ef4444',\r\n    fontSize: '14px',\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    gap: '6px',\r\n    marginTop: '4px'\r\n  },\r\n  previewContainer: {\r\n    marginTop: '16px',\r\n    border: '1px solid #e2e8f0',\r\n    borderRadius: '8px',\r\n    overflow: 'hidden'\r\n  },\r\n  previewHeader: {\r\n    padding: '12px 16px',\r\n    backgroundColor: '#f8fafc',\r\n    display: 'flex',\r\n    justifyContent: 'space-between',\r\n    alignItems: 'center',\r\n    borderBottom: '1px solid #e2e8f0'\r\n  },\r\n  previewLabel: {\r\n    fontSize: '14px',\r\n    fontWeight: '600',\r\n    color: '#374151'\r\n  },\r\n  previewNote: {\r\n    fontSize: '12px',\r\n    color: '#64748b'\r\n  },\r\n  previewIframe: {\r\n    width: '100%',\r\n    height: '240px',\r\n    border: 'none'\r\n  },\r\n  formActions: {\r\n    display: 'flex',\r\n    gap: '12px',\r\n    marginTop: '24px',\r\n    paddingTop: '20px',\r\n    borderTop: '1px solid #e2e8f0'\r\n  },\r\n  submitButton: {\r\n    backgroundColor: '#10b981',\r\n    color: 'white',\r\n    border: 'none',\r\n    borderRadius: '8px',\r\n    padding: '12px 24px',\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    gap: '8px',\r\n    fontSize: '14px',\r\n    fontWeight: '600',\r\n    cursor: 'pointer',\r\n    transition: 'all 0.2s ease'\r\n  },\r\n  disabledButton: {\r\n    backgroundColor: '#d1d5db',\r\n    color: '#9ca3af',\r\n    cursor: 'not-allowed'\r\n  },\r\n\r\n  // Modal\r\n  modalOverlay: {\r\n    position: 'fixed',\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    backgroundColor: 'rgba(0, 0, 0, 0.6)',\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    zIndex: 1000\r\n  },\r\n  modal: {\r\n    backgroundColor: 'white',\r\n    borderRadius: '12px',\r\n    width: '420px',\r\n    maxWidth: '90vw',\r\n    boxShadow: '0 10px 25px rgba(0, 0, 0, 0.2)'\r\n  },\r\n  modalHeader: {\r\n    display: 'flex',\r\n    justifyContent: 'space-between',\r\n    alignItems: 'center',\r\n    padding: '24px 24px 0 24px'\r\n  },\r\n  modalTitle: {\r\n    fontSize: '18px',\r\n    fontWeight: '600',\r\n    margin: '0',\r\n    color: '#0f172a'\r\n  },\r\n  modalClose: {\r\n    background: 'none',\r\n    border: 'none',\r\n    color: '#64748b',\r\n    cursor: 'pointer',\r\n    padding: '4px',\r\n    borderRadius: '4px'\r\n  },\r\n  modalContent: {\r\n    padding: '20px 24px'\r\n  },\r\n  modalActions: {\r\n    display: 'flex',\r\n    gap: '12px',\r\n    padding: '0 24px 24px 24px'\r\n  },\r\n\r\n  // Content Area\r\n  contentArea: {\r\n    minHeight: '400px'\r\n  },\r\n\r\n  // Empty State\r\n  emptyState: {\r\n    textAlign: 'center',\r\n    padding: '80px 24px',\r\n    backgroundColor: 'white',\r\n    borderRadius: '12px',\r\n    border: '1px solid #e2e8f0'\r\n  },\r\n  emptyIcon: {\r\n    color: '#94a3b8',\r\n    marginBottom: '20px'\r\n  },\r\n  emptyTitle: {\r\n    fontSize: '20px',\r\n    fontWeight: '600',\r\n    color: '#0f172a',\r\n    margin: '0 0 8px 0'\r\n  },\r\n  emptySubtitle: {\r\n    fontSize: '16px',\r\n    color: '#64748b',\r\n    margin: '0 0 24px 0',\r\n    lineHeight: '1.5'\r\n  },\r\n\r\n  // List View\r\n  listView: {\r\n    backgroundColor: 'white',\r\n    border: '1px solid #e2e8f0',\r\n    borderRadius: '12px',\r\n    overflow: 'hidden'\r\n  },\r\n  listHeader: {\r\n    display: 'grid',\r\n    gridTemplateColumns: '2fr 120px 100px 120px 120px 140px',\r\n    gap: '16px',\r\n    padding: '16px 20px',\r\n    backgroundColor: '#f8fafc',\r\n    borderBottom: '1px solid #e2e8f0',\r\n    fontSize: '12px',\r\n    fontWeight: '600',\r\n    color: '#64748b',\r\n    textTransform: 'uppercase',\r\n    letterSpacing: '0.5px'\r\n  },\r\n  listHeaderCell: {\r\n    display: 'flex',\r\n    alignItems: 'center'\r\n  },\r\n  listItem: {\r\n    display: 'grid',\r\n    gridTemplateColumns: '2fr 120px 100px 120px 120px 140px',\r\n    gap: '16px',\r\n    padding: '20px',\r\n    borderBottom: '1px solid #f1f5f9',\r\n    transition: 'all 0.2s ease'\r\n  },\r\n  listCell: {\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    fontSize: '14px'\r\n  },\r\n\r\n  // Video List Info\r\n  videoListInfo: {\r\n    display: 'flex',\r\n    gap: '12px',\r\n    alignItems: 'center',\r\n    width: '100%'\r\n  },\r\n  videoThumbnail: {\r\n    width: '80px',\r\n    height: '45px',\r\n    borderRadius: '6px',\r\n    overflow: 'hidden',\r\n    flexShrink: 0,\r\n    backgroundColor: '#f1f5f9'\r\n  },\r\n  thumbnailImage: {\r\n    width: '100%',\r\n    height: '100%',\r\n    objectFit: 'cover'\r\n  },\r\n  noThumbnail: {\r\n    width: '100%',\r\n    height: '100%',\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    color: '#94a3b8'\r\n  },\r\n  videoDetails: {\r\n    flex: '1',\r\n    minWidth: 0\r\n  },\r\n  videoListTitle: {\r\n    fontSize: '16px',\r\n    fontWeight: '600',\r\n    color: '#0f172a',\r\n    margin: '0 0 4px 0',\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    gap: '6px',\r\n    lineHeight: '1.3'\r\n  },\r\n  featuredStar: {\r\n    color: '#f59e0b',\r\n    flexShrink: 0\r\n  },\r\n  videoListDescription: {\r\n    color: '#64748b',\r\n    fontSize: '14px',\r\n    lineHeight: '1.4',\r\n    margin: '0'\r\n  },\r\n\r\n  // Badges and Status\r\n  categoryBadge: {\r\n    padding: '4px 8px',\r\n    backgroundColor: '#dbeafe',\r\n    color: '#1d4ed8',\r\n    fontSize: '12px',\r\n    borderRadius: '6px',\r\n    fontWeight: '500'\r\n  },\r\n  countryBadge: {\r\n    padding: '4px 8px',\r\n    backgroundColor: '#ecfdf5',\r\n    color: '#065f46',\r\n    fontSize: '12px',\r\n    borderRadius: '6px',\r\n    fontWeight: '500',\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    gap: '4px'\r\n  },\r\n  statusColumn: {\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    gap: '4px'\r\n  },\r\n  statusBadge: {\r\n    padding: '4px 8px',\r\n    fontSize: '12px',\r\n    borderRadius: '6px',\r\n    fontWeight: '500',\r\n    textAlign: 'center'\r\n  },\r\n  statusActive: {\r\n    backgroundColor: '#dcfce7',\r\n    color: '#166534'\r\n  },\r\n  statusInactive: {\r\n    backgroundColor: '#fee2e2',\r\n    color: '#991b1b'\r\n  },\r\n  featuredBadge: {\r\n    padding: '3px 6px',\r\n    backgroundColor: '#fef3c7',\r\n    color: '#92400e',\r\n    fontSize: '10px',\r\n    borderRadius: '4px',\r\n    fontWeight: '600',\r\n    textAlign: 'center',\r\n    textTransform: 'uppercase',\r\n    letterSpacing: '0.5px',\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    textAlign: 'center',\r\n    textTransform: 'uppercase',\r\n    letterSpacing: '0.5px'\r\n  },\r\n\r\n  // Date Info\r\n  dateInfo: {\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    gap: '6px',\r\n    color: '#64748b',\r\n    fontSize: '13px'\r\n  },\r\n  dateIcon: {\r\n    color: '#94a3b8'\r\n  },\r\n  dateText: {\r\n    fontWeight: '500'\r\n  },\r\n\r\n  // Action Buttons\r\n  actionButtons: {\r\n    display: 'flex',\r\n    gap: '6px'\r\n  },\r\n  actionButton: {\r\n    padding: '8px',\r\n    border: 'none',\r\n    borderRadius: '6px',\r\n    cursor: 'pointer',\r\n    transition: 'all 0.2s ease',\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    justifyContent: 'center'\r\n  },\r\n  actionFeatured: {\r\n    color: '#f59e0b',\r\n    backgroundColor: '#fef3c7'\r\n  },\r\n  actionNormal: {\r\n    color: '#9ca3af',\r\n    backgroundColor: '#f1f5f9'\r\n  },\r\n  actionActive: {\r\n    color: '#10b981',\r\n    backgroundColor: '#ecfdf5'\r\n  },\r\n  actionInactive: {\r\n    color: '#6b7280',\r\n    backgroundColor: '#f3f4f6'\r\n  },\r\n  actionEdit: {\r\n    color: '#3b82f6',\r\n    backgroundColor: '#dbeafe'\r\n  },\r\n  actionDelete: {\r\n    color: '#ef4444',\r\n    backgroundColor: '#fee2e2'\r\n  },\r\n\r\n  // Card View\r\n  cardGrid: {\r\n    display: 'grid',\r\n    gridTemplateColumns: 'repeat(auto-fill, minmax(400px, 1fr))',\r\n    gap: '24px'\r\n  },\r\n  videoCard: {\r\n    backgroundColor: 'white',\r\n    border: '1px solid #e2e8f0',\r\n    borderRadius: '12px',\r\n    overflow: 'hidden',\r\n    transition: 'all 0.2s ease',\r\n    boxShadow: '0 1px 3px rgba(0, 0, 0, 0.05)'\r\n  },\r\n  featuredCard: {\r\n    border: '2px solid #fbbf24',\r\n    boxShadow: '0 4px 12px rgba(251, 191, 36, 0.1)'\r\n  },\r\n  cardHeader: {\r\n    padding: '20px 20px 16px 20px',\r\n    display: 'flex',\r\n    justifyContent: 'space-between',\r\n    alignItems: 'flex-start',\r\n    gap: '16px'\r\n  },\r\n  cardBadges: {\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    gap: '6px',\r\n    alignItems: 'flex-start'\r\n  },\r\n  cardActions: {\r\n    display: 'flex',\r\n    gap: '6px'\r\n  },\r\n  cardContent: {\r\n    padding: '0 20px 16px 20px'\r\n  },\r\n  cardTitle: {\r\n    fontSize: '18px',\r\n    fontWeight: '600',\r\n    color: '#0f172a',\r\n    margin: '0 0 8px 0',\r\n    lineHeight: '1.3'\r\n  },\r\n  cardDescription: {\r\n    color: '#64748b',\r\n    lineHeight: '1.5',\r\n    margin: '0 0 16px 0',\r\n    fontSize: '14px'\r\n  },\r\n  cardMeta: {\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    gap: '4px'\r\n  },\r\n  metaItem: {\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    gap: '6px',\r\n    fontSize: '12px',\r\n    color: '#64748b'\r\n  },\r\n  metaIcon: {\r\n    color: '#94a3b8'\r\n  },\r\n  cardPreview: {\r\n    borderTop: '1px solid #f1f5f9'\r\n  },\r\n  cardIframe: {\r\n    width: '100%',\r\n    height: '225px',\r\n    border: 'none'\r\n  },\r\ntransition: 'color 0.2s ease',\r\n\r\n\r\n\r\n  \r\n  mainCard: {\r\n    maxWidth: '1200px',\r\n    margin: '0 auto',\r\n    backgroundColor: 'white',\r\n    borderRadius: '12px',\r\n    boxShadow: '0 1px 3px rgba(0, 0, 0, 0.1)',\r\n    border: '1px solid #e2e8f0'\r\n  },\r\n  header: {\r\n    padding: '24px',\r\n    borderBottom: '1px solid #e2e8f0',\r\n    display: 'flex',\r\n    justifyContent: 'space-between',\r\n    alignItems: 'center',\r\n    flexWrap: 'wrap',\r\n    gap: '16px'\r\n  },\r\n  title: {\r\n    fontSize: '28px',\r\n    fontWeight: '700',\r\n    color: '#1e293b',\r\n    margin: '0 0 4px 0'\r\n  },\r\n  subtitle: {\r\n    color: '#64748b',\r\n    margin: '0',\r\n    fontSize: '16px'\r\n  },\r\n  addButton: {\r\n    backgroundColor: '#22c55e',\r\n    color: 'white',\r\n    border: 'none',\r\n    borderRadius: '8px',\r\n    padding: '12px 20px',\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    gap: '8px',\r\n    fontSize: '16px',\r\n    fontWeight: '500',\r\n    cursor: 'pointer',\r\n    transition: 'all 0.2s ease'\r\n  },\r\n  successMessage: {\r\n    margin: '24px',\r\n    padding: '16px',\r\n    backgroundColor: '#dcfce7',\r\n    border: '1px solid #bbf7d0',\r\n    borderRadius: '8px',\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    gap: '12px',\r\n    color: '#166534'\r\n  },\r\n  errorMessage: {\r\n    margin: '24px',\r\n    padding: '16px',\r\n    backgroundColor: '#fef2f2',\r\n    border: '1px solid #fecaca',\r\n    borderRadius: '8px',\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    gap: '12px',\r\n    color: '#dc2626',\r\n    position: 'relative'\r\n  },\r\n  dismissButton: {\r\n    marginLeft: 'auto',\r\n    background: 'none',\r\n    border: 'none',\r\n    color: '#dc2626',\r\n    cursor: 'pointer',\r\n    padding: '4px'\r\n  },\r\n  formContainer: {\r\n    padding: '24px',\r\n    backgroundColor: '#f8fafc',\r\n    borderBottom: '1px solid #e2e8f0'\r\n  },\r\n  formTitle: {\r\n    fontSize: '20px',\r\n    fontWeight: '600',\r\n    color: '#1e293b',\r\n    margin: '0 0 24px 0'\r\n  },\r\n  formGrid: {\r\n    display: 'grid',\r\n    gridTemplateColumns: 'repeat(auto-fit, minmax(250px, 1fr))',\r\n    gap: '20px',\r\n    marginBottom: '20px'\r\n  },\r\n  inputGroup: {\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    gap: '8px'\r\n  },\r\n  label: {\r\n    fontSize: '14px',\r\n    fontWeight: '500',\r\n    color: '#374151'\r\n  },\r\n  input: {\r\n    padding: '12px',\r\n    border: '1px solid #d1d5db',\r\n    borderRadius: '8px',\r\n    fontSize: '16px',\r\n    transition: 'border-color 0.2s ease',\r\n    outline: 'none'\r\n  },\r\n  inputError: {\r\n    borderColor: '#ef4444'\r\n  },\r\n  textarea: {\r\n    resize: 'vertical',\r\n    minHeight: '100px'\r\n  },\r\n  select: {\r\n    padding: '12px',\r\n    border: '1px solid #d1d5db',\r\n    borderRadius: '8px',\r\n    fontSize: '16px',\r\n    backgroundColor: 'white',\r\n    outline: 'none'\r\n  },\r\n  tagInputContainer: {\r\n    display: 'flex',\r\n    gap: '8px'\r\n  },\r\n  addTagButton: {\r\n    padding: '12px',\r\n    border: '1px solid #22c55e',\r\n    borderRadius: '8px',\r\n    backgroundColor: 'white',\r\n    color: '#22c55e',\r\n    cursor: 'pointer',\r\n    transition: 'all 0.2s ease'\r\n  },\r\n  validationError: {\r\n    color: '#ef4444',\r\n    fontSize: '14px',\r\n    margin: '4px 0 0 0'\r\n  },\r\n  previewContainer: {\r\n    marginTop: '12px',\r\n    padding: '16px',\r\n    backgroundColor: '#eff6ff',\r\n    borderRadius: '8px'\r\n  },\r\n  previewLabel: {\r\n    fontSize: '14px',\r\n    color: '#1e40af',\r\n    margin: '0 0 8px 0',\r\n    fontWeight: '500'\r\n  },\r\n  previewIframe: {\r\n    width: '100%',\r\n    height: '200px',\r\n    borderRadius: '8px',\r\n    border: 'none'\r\n  },\r\n  formActions: {\r\n    display: 'flex',\r\n    gap: '12px',\r\n    marginTop: '24px'\r\n  },\r\n  submitButton: {\r\n    backgroundColor: '#22c55e',\r\n    color: 'white',\r\n    border: 'none',\r\n    borderRadius: '8px',\r\n    padding: '12px 24px',\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    gap: '8px',\r\n    fontSize: '16px',\r\n    fontWeight: '500',\r\n    cursor: 'pointer',\r\n    transition: 'all 0.2s ease'\r\n  },\r\n  cancelButton: {\r\n    backgroundColor: '#6b7280',\r\n    color: 'white',\r\n    border: 'none',\r\n    borderRadius: '8px',\r\n    padding: '12px 24px',\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    gap: '8px',\r\n    fontSize: '16px',\r\n    fontWeight: '500',\r\n    cursor: 'pointer',\r\n    transition: 'all 0.2s ease'\r\n  },\r\n  disabledButton: {\r\n    backgroundColor: '#d1d5db',\r\n    color: '#9ca3af',\r\n    cursor: 'not-allowed'\r\n  },\r\n  modalOverlay: {\r\n    position: 'fixed',\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    backgroundColor: 'rgba(0, 0, 0, 0.5)',\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    zIndex: 1000\r\n  },\r\n  modal: {\r\n    backgroundColor: 'white',\r\n    borderRadius: '12px',\r\n    padding: '24px',\r\n    width: '400px',\r\n    maxWidth: '90vw'\r\n  },\r\n  modalTitle: {\r\n    fontSize: '18px',\r\n    fontWeight: '600',\r\n    margin: '0 0 16px 0',\r\n    color: '#1e293b'\r\n  },\r\n  modalActions: {\r\n    display: 'flex',\r\n    gap: '12px',\r\n    marginTop: '16px'\r\n  },\r\n  videoList: {\r\n    padding: '24px'\r\n  },\r\n  listTitle: {\r\n    fontSize: '18px',\r\n    fontWeight: '600',\r\n    color: '#1e293b',\r\n    margin: '0 0 20px 0'\r\n  },\r\n  emptyState: {\r\n    textAlign: 'center',\r\n    padding: '48px 24px'\r\n  },\r\n  emptyIcon: {\r\n    fontSize: '64px',\r\n    marginBottom: '16px'\r\n  },\r\n  emptyTitle: {\r\n    fontSize: '18px',\r\n    color: '#64748b',\r\n    margin: '0 0 8px 0'\r\n  },\r\n  emptySubtitle: {\r\n    fontSize: '14px',\r\n    color: '#9ca3af',\r\n    margin: '0'\r\n  },\r\n  videoCard: {\r\n    border: '1px solid #e2e8f0',\r\n    borderRadius: '12px',\r\n    padding: '24px',\r\n    marginBottom: '20px',\r\n    backgroundColor: 'white',\r\n    transition: 'all 0.2s ease'\r\n  },\r\n  featuredCard: {\r\n    border: '2px solid #fbbf24',\r\n    backgroundColor: '#fffbeb',\r\n    boxShadow: '0 4px 6px rgba(251, 191, 36, 0.1)'\r\n  },\r\n  videoCardHeader: {\r\n    display: 'flex',\r\n    justifyContent: 'space-between',\r\n    alignItems: 'flex-start',\r\n    marginBottom: '16px',\r\n    gap: '16px'\r\n  },\r\n  videoInfo: {\r\n    flex: 1\r\n  },\r\n  videoBadges: {\r\n    display: 'flex',\r\n    gap: '12px',\r\n    marginBottom: '12px',\r\n    flexWrap: 'wrap'\r\n  },\r\n  tagBadge: {\r\n    padding: '6px 12px',\r\n    backgroundColor: '#dbeafe',\r\n    color: '#1e40af',\r\n    fontSize: '12px',\r\n    borderRadius: '20px',\r\n    fontWeight: '500'\r\n  },\r\n  statusBadge: {\r\n    padding: '6px 12px',\r\n    fontSize: '12px',\r\n    borderRadius: '20px',\r\n    fontWeight: '500'\r\n  },\r\n  activeBadge: {\r\n    backgroundColor: '#dcfce7',\r\n    color: '#166534'\r\n  },\r\n  inactiveBadge: {\r\n    backgroundColor: '#fef2f2',\r\n    color: '#dc2626'\r\n  },\r\n  featuredBadge: {\r\n    padding: '6px 12px',\r\n    backgroundColor: '#fef3c7',\r\n    color: '#92400e',\r\n    fontSize: '12px',\r\n    borderRadius: '20px',\r\n    fontWeight: '500',\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    gap: '4px'\r\n  },\r\n  videoTitle: {\r\n    fontSize: '20px',\r\n    fontWeight: '600',\r\n    color: '#1e293b',\r\n    margin: '0 0 8px 0',\r\n    lineHeight: '1.3'\r\n  },\r\n  videoDescription: {\r\n    color: '#64748b',\r\n    lineHeight: '1.5',\r\n    margin: '0 0 12px 0'\r\n  },\r\n  videoMeta: {\r\n    fontSize: '12px',\r\n    color: '#9ca3af'\r\n  },\r\n  videoActions: {\r\n    display: 'flex',\r\n    gap: '8px',\r\n    flexShrink: 0\r\n  },\r\n  actionButton: {\r\n    padding: '8px',\r\n    border: 'none',\r\n    borderRadius: '8px',\r\n    cursor: 'pointer',\r\n    transition: 'all 0.2s ease',\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    justifyContent: 'center'\r\n  },\r\n  featuredActionButton: {\r\n    color: '#f59e0b',\r\n    backgroundColor: '#fef3c7'\r\n  },\r\n  unfeaturedActionButton: {\r\n    color: '#9ca3af',\r\n    backgroundColor: '#f1f5f9'\r\n  },\r\n  activeActionButton: {\r\n    color: '#22c55e',\r\n    backgroundColor: '#dcfce7'\r\n  },\r\n  inactiveActionButton: {\r\n    color: '#9ca3af',\r\n    backgroundColor: '#f1f5f9'\r\n  },\r\n  editButton: {\r\n    color: '#3b82f6',\r\n    backgroundColor: '#dbeafe'\r\n  },\r\n  deleteButton: {\r\n    color: '#ef4444',\r\n    backgroundColor: '#fef2f2'\r\n  },\r\n  videoPreview: {\r\n    marginTop: '16px',\r\n    padding: '16px',\r\n    backgroundColor: '#f8fafc',\r\n    borderRadius: '8px'\r\n  },\r\n  videoPreviewHeader: {\r\n    display: 'flex',\r\n    justifyContent: 'space-between',\r\n    alignItems: 'center',\r\n    marginBottom: '12px'\r\n  },\r\n  previewTitle: {\r\n    fontSize: '16px',\r\n    fontWeight: '500',\r\n    color: '#1e293b',\r\n    margin: '0'\r\n  },\r\n  youtubeLink: {\r\n    color: '#3b82f6',\r\n    textDecoration: 'none',\r\n    fontSize: '14px'\r\n  },\r\n  videoIframe: {\r\n    width: '100%',\r\n    height: '300px',\r\n    borderRadius: '8px',\r\n    border: 'none',\r\n    boxShadow: '0 4px 6px rgba(0, 0, 0, 0.1)'\r\n  }\r\n\r\n};\r\n\r\nexport default AdminManageVideos;","import React, { useEffect, useState } from 'react';\r\nimport {\r\n  Box, Typography, TextField, Button, Card, CardContent,\r\n  List, ListItem, IconButton, Divider, Dialog, DialogTitle,\r\n  DialogContent, DialogActions, Chip, FormControl, InputLabel,\r\n  Select, MenuItem, OutlinedInput, Checkbox, ListItemText,\r\n  Alert, CircularProgress, Grid\r\n} from '@mui/material';\r\nimport DeleteIcon from '@mui/icons-material/Delete';\r\nimport EditIcon from '@mui/icons-material/Edit';\r\nimport AddIcon from '@mui/icons-material/Add';\r\nimport SaveIcon from '@mui/icons-material/Save';\r\nimport CancelIcon from '@mui/icons-material/Cancel';\r\nimport { useAuth } from '../../context/AuthContext';\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\nimport { API_URL } from '../../config';\r\n\r\nconst API_BASE = API_URL;\r\n\r\nconst AdminManagePillars = () => {\r\n  const { user } = useAuth();\r\n  \r\n  // State management\r\n  const [pillars, setPillars] = useState([]);\r\n  const [focusAreas, setFocusAreas] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [submitting, setSubmitting] = useState(false);\r\n  const [error, setError] = useState('');\r\n  const [success, setSuccess] = useState('');\r\n    const navigate = useNavigate();\r\n\r\n  // Dialog state\r\n  const [dialogOpen, setDialogOpen] = useState(false);\r\n  const [editingPillar, setEditingPillar] = useState(null);\r\n  \r\n  // Form state\r\n  const [formData, setFormData] = useState({\r\n    name: '',\r\n    description: '',\r\n    focusAreaIds: []\r\n  });\r\n\r\n  // Enhanced error handling function\r\n  const handleApiError = async (response, operation) => {\r\n    let errorMessage = `Failed to ${operation}`;\r\n    \r\n    try {\r\n      const errorData = await response.json();\r\n      errorMessage = errorData.message || errorData.error || errorMessage;\r\n      \r\n      // Log detailed error information\r\n      console.error(`API Error (${operation}):`, {\r\n        status: response.status,\r\n        statusText: response.statusText,\r\n        errorData: errorData\r\n      });\r\n      \r\n      // If there are detailed error messages, include them\r\n      if (errorData.details) {\r\n        console.error('Error details:', errorData.details);\r\n        errorMessage += ` (${errorData.details.code || 'Unknown error'})`;\r\n      }\r\n    } catch (parseError) {\r\n      console.error('Failed to parse error response:', parseError);\r\n      errorMessage = `${operation} failed (Status: ${response.status})`;\r\n    }\r\n    \r\n    return errorMessage;\r\n  };\r\n\r\n  // Fetch all data\r\n  const fetchData = async () => {\r\n    try {\r\n      setLoading(true);\r\n      setError('');\r\n      \r\n      console.log('Fetching pillars and focus areas...');\r\n      \r\n      // Fetch pillars and focus areas in parallel\r\n      const [pillarsRes, focusAreasRes] = await Promise.all([\r\n        fetch(`${API_BASE}/pillars`, { credentials: 'include' }),\r\n        fetch(`${API_BASE}/pillars/meta/focus-areas`, { credentials: 'include' })\r\n      ]);\r\n      \r\n      // Handle pillars response\r\n      if (!pillarsRes.ok) {\r\n        const errorMessage = await handleApiError(pillarsRes, 'load pillars');\r\n        throw new Error(errorMessage);\r\n      }\r\n      \r\n      // Handle focus areas response\r\n      if (!focusAreasRes.ok) {\r\n        const errorMessage = await handleApiError(focusAreasRes, 'load focus areas');\r\n        throw new Error(errorMessage);\r\n      }\r\n      \r\n      const pillarsData = await pillarsRes.json();\r\n      const focusAreasData = await focusAreasRes.json();\r\n      \r\n      setPillars(pillarsData.data || []);\r\n      setFocusAreas(focusAreasData.data || []);\r\n      \r\n      console.log('Data loaded successfully:', { \r\n        pillars: pillarsData.data?.length, \r\n        focusAreas: focusAreasData.data?.length \r\n      });\r\n    } catch (err) {\r\n      console.error('Fetch error:', err);\r\n      setError('Failed to fetch data: ' + err.message);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  // Reset feedback messages\r\n  const resetFeedback = () => {\r\n    setError('');\r\n    setSuccess('');\r\n  };\r\n\r\n  // Open dialog for creating new pillar\r\n  const handleAdd = () => {\r\n    resetFeedback();\r\n    setEditingPillar(null);\r\n    setFormData({ name: '', description: '', focusAreaIds: [] });\r\n    setDialogOpen(true);\r\n  };\r\n\r\n  // Open dialog for editing existing pillar\r\n  const handleEdit = (pillar) => {\r\n    resetFeedback();\r\n    setEditingPillar(pillar);\r\n    \r\n    console.log('Editing pillar:', pillar);\r\n    console.log('Focus areas structure:', pillar.focus_areas);\r\n    \r\n    // Safely extract focus area IDs, filtering out null/invalid values\r\n    let focusAreaIds = [];\r\n    if (pillar.focus_areas && Array.isArray(pillar.focus_areas)) {\r\n      focusAreaIds = pillar.focus_areas\r\n        .filter(fa => fa && fa.id !== null && fa.id !== undefined)\r\n        .map(fa => fa.id);\r\n    }\r\n    \r\n    console.log('Extracted focus area IDs:', focusAreaIds);\r\n    \r\n    setFormData({\r\n      name: pillar.name || '',\r\n      description: pillar.description || '',\r\n      focusAreaIds: focusAreaIds\r\n    });\r\n    setDialogOpen(true);\r\n  };\r\n\r\n  // Close dialog\r\n  const handleCloseDialog = () => {\r\n    setDialogOpen(false);\r\n    setEditingPillar(null);\r\n    setFormData({ name: '', description: '', focusAreaIds: [] });\r\n    resetFeedback();\r\n  };\r\n\r\n  // Handle form submission with enhanced error handling\r\n  const handleSubmit = async () => {\r\n    resetFeedback();\r\n    \r\n    // Validation\r\n    if (!formData.name.trim()) {\r\n      setError('Pillar name is required');\r\n      return;\r\n    }\r\n    \r\n    if (!formData.description.trim()) {\r\n      setError('Pillar description is required');\r\n      return;\r\n    }\r\n\r\n    setSubmitting(true);\r\n\r\n    try {\r\n      const url = editingPillar \r\n        ? `${API_BASE}/pillars/${editingPillar.id}`\r\n        : `${API_BASE}/pillars`;\r\n      \r\n      const method = editingPillar ? 'PUT' : 'POST';\r\n      \r\n      // Prepare request body with type safety\r\n      const requestBody = {\r\n        name: formData.name.trim(),\r\n        description: formData.description.trim(),\r\n        focusAreaIds: formData.focusAreaIds\r\n          .filter(id => id !== null && id !== undefined && id !== '')\r\n          .map(id => parseInt(id))\r\n          .filter(id => !isNaN(id)) // Remove any NaN values\r\n      };\r\n      \r\n      console.log('Submitting request:', {\r\n        url,\r\n        method,\r\n        body: requestBody,\r\n        editingPillar: editingPillar?.id\r\n      });\r\n\r\n      const response = await fetch(url, {\r\n        method,\r\n        headers: { \r\n          'Content-Type': 'application/json',\r\n          'Accept': 'application/json'\r\n        },\r\n        credentials: 'include',\r\n        body: JSON.stringify(requestBody)\r\n      });\r\n\r\n      console.log('Response received:', {\r\n        status: response.status,\r\n        statusText: response.statusText,\r\n        ok: response.ok,\r\n        headers: Object.fromEntries(response.headers.entries())\r\n      });\r\n      \r\n      if (!response.ok) {\r\n        const errorMessage = await handleApiError(response, editingPillar ? 'update pillar' : 'create pillar');\r\n        throw new Error(errorMessage);\r\n      }\r\n\r\n      const result = await response.json();\r\n      console.log('Success response:', result);\r\n      \r\n      setSuccess(editingPillar ? 'Pillar updated successfully!' : 'Pillar created successfully!');\r\n      handleCloseDialog();\r\n      \r\n      // Refresh data after successful operation\r\n      await fetchData();\r\n    } catch (err) {\r\n      console.error('Submit error:', err);\r\n      \r\n      // Provide more user-friendly error messages\r\n      let userMessage = err.message;\r\n      if (err.message.includes('Failed to fetch') || err.message.includes('NetworkError')) {\r\n        userMessage = 'Network error - please check your connection and try again';\r\n      } else if (err.message.includes('500')) {\r\n        userMessage = 'Server error - please try again or contact support';\r\n      }\r\n      \r\n      setError(userMessage);\r\n    } finally {\r\n      setSubmitting(false);\r\n    }\r\n  };\r\n\r\n  // Delete pillar with enhanced error handling\r\n  const handleDelete = async (pillar) => {\r\n    if (!window.confirm(`Are you sure you want to delete \"${pillar.name}\"? This action cannot be undone.`)) {\r\n      return;\r\n    }\r\n\r\n    resetFeedback();\r\n    setSubmitting(true);\r\n\r\n    try {\r\n      console.log('Deleting pillar:', pillar.id);\r\n      \r\n      const response = await fetch(`${API_BASE}/pillars/${pillar.id}`, {\r\n        method: 'DELETE',\r\n        credentials: 'include',\r\n        headers: {\r\n          'Accept': 'application/json'\r\n        }\r\n      });\r\n\r\n      console.log('Delete response:', {\r\n        status: response.status,\r\n        ok: response.ok\r\n      });\r\n      \r\n      if (!response.ok) {\r\n        const errorMessage = await handleApiError(response, 'delete pillar');\r\n        throw new Error(errorMessage);\r\n      }\r\n\r\n      const result = await response.json();\r\n      console.log('Delete success:', result);\r\n      \r\n      setSuccess('Pillar deleted successfully!');\r\n      await fetchData(); // Refresh data\r\n    } catch (err) {\r\n      console.error('Delete error:', err);\r\n      setError('Failed to delete pillar: ' + err.message);\r\n    } finally {\r\n      setSubmitting(false);\r\n    }\r\n  };\r\n\r\n  // Handle focus area selection change\r\n  const handleFocusAreaChange = (event) => {\r\n    const value = event.target.value;\r\n    console.log('Focus area change:', value);\r\n    \r\n    // Filter out null/undefined values and ensure we have valid IDs\r\n    const cleanedValue = Array.isArray(value) \r\n      ? value.filter(id => id !== null && id !== undefined && id !== '')\r\n      : [];\r\n    \r\n    console.log('Cleaned focus area IDs:', cleanedValue);\r\n    \r\n    setFormData(prev => ({\r\n      ...prev,\r\n      focusAreaIds: cleanedValue\r\n    }));\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchData();\r\n  }, []);\r\n\r\n  // Access control\r\n  if (!user || user.role !== 'admin') {\r\n    return (\r\n      <Box sx={{ maxWidth: 800, mx: 'auto', mt: 4, p: 2 }}>\r\n        <Alert severity=\"error\">Access Denied - Admin privileges required</Alert>\r\n      </Box>\r\n    );\r\n  }\r\n\r\n  if (loading) {\r\n    return (\r\n      <Box sx={{ display: 'flex', justifyContent: 'center', mt: 4 }}>\r\n        <CircularProgress />\r\n      </Box>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Box sx={{ maxWidth: 1200, mx: 'auto', mt: 4, p: 2 }}>\r\n      <Box sx={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', mb: 3 }}>\r\n        <Typography variant=\"h4\" gutterBottom>Manage Programme Pillars</Typography>\r\n        <Button \r\n          variant=\"contained\" \r\n          startIcon={<AddIcon />}\r\n          onClick={handleAdd}\r\n          disabled={submitting}\r\n          sx={{ mb: 2 }}\r\n        >\r\n          Add New Pillar\r\n        </Button>\r\n       <Button\r\n      variant=\"contained\"\r\n      startIcon={<AddIcon />}\r\n      onClick={() => navigate('/admin/dashboard/categories')}\r\n      disabled={submitting}\r\n      sx={{ mb: 2 }}\r\n    >\r\n      Add New Focus Area\r\n    </Button>\r\n\r\n\r\n      </Box>\r\n\r\n      {error && <Alert severity=\"error\" sx={{ mb: 2 }}>{error}</Alert>}\r\n      {success && <Alert severity=\"success\" sx={{ mb: 2 }}>{success}</Alert>}\r\n\r\n      <Grid container spacing={3}>\r\n        {pillars.map((pillar) => (\r\n          <Grid item xs={12} md={6} lg={4} key={pillar.id}>\r\n            <Card sx={{ height: '100%', display: 'flex', flexDirection: 'column' }}>\r\n              <CardContent sx={{ flexGrow: 1 }}>\r\n                <Box sx={{ display: 'flex', justifyContent: 'space-between', alignItems: 'flex-start', mb: 2 }}>\r\n                  <Typography variant=\"h6\" component=\"h3\" sx={{ fontWeight: 'bold', flexGrow: 1 }}>\r\n                    {pillar.name}\r\n                  </Typography>\r\n                  <Box>\r\n                    <IconButton \r\n                      size=\"small\" \r\n                      onClick={() => handleEdit(pillar)}\r\n                      color=\"primary\"\r\n                      disabled={submitting}\r\n                    >\r\n                      <EditIcon />\r\n                    </IconButton>\r\n                    <IconButton \r\n                      size=\"small\" \r\n                      onClick={() => handleDelete(pillar)}\r\n                      color=\"error\"\r\n                      disabled={submitting}\r\n                    >\r\n                      <DeleteIcon />\r\n                    </IconButton>\r\n                  </Box>\r\n                </Box>\r\n                \r\n                <Typography variant=\"body2\" color=\"text.secondary\" sx={{ mb: 2 }}>\r\n                  {pillar.description}\r\n                </Typography>\r\n                \r\n                <Box>\r\n                  <Typography variant=\"subtitle2\" sx={{ mb: 1, fontWeight: 'bold' }}>\r\n                    Focus Areas:\r\n                  </Typography>\r\n                  <Box sx={{ display: 'flex', flexWrap: 'wrap', gap: 0.5 }}>\r\n                    {pillar.focus_areas && pillar.focus_areas.length > 0 ? (\r\n                      pillar.focus_areas.map((fa) => (\r\n                        <Chip \r\n                          key={fa.id} \r\n                          label={fa.name} \r\n                          size=\"small\" \r\n                          variant=\"outlined\"\r\n                          color=\"primary\"\r\n                        />\r\n                      ))\r\n                    ) : (\r\n                      <Typography variant=\"caption\" color=\"text.secondary\">\r\n                        No focus areas assigned\r\n                      </Typography>\r\n                    )}\r\n                  </Box>\r\n                </Box>\r\n              </CardContent>\r\n            </Card>\r\n          </Grid>\r\n        ))}\r\n      </Grid>\r\n\r\n      {pillars.length === 0 && !loading && (\r\n        <Box sx={{ textAlign: 'center', mt: 4 }}>\r\n          <Typography variant=\"h6\" color=\"text.secondary\">\r\n            No pillars found. Click \"Add New Pillar\" to get started.\r\n          </Typography>\r\n        </Box>\r\n      )}\r\n\r\n      {/* Create/Edit Dialog with loading states */}\r\n      <Dialog \r\n        open={dialogOpen} \r\n        onClose={submitting ? undefined : handleCloseDialog}\r\n        maxWidth=\"md\"\r\n        fullWidth\r\n      >\r\n        <DialogTitle>\r\n          {editingPillar ? 'Edit Pillar' : 'Add New Pillar'}\r\n        </DialogTitle>\r\n        <DialogContent>\r\n          <Box sx={{ mt: 2 }}>\r\n            <TextField\r\n              label=\"Pillar Name\"\r\n              value={formData.name}\r\n              onChange={(e) => setFormData(prev => ({ ...prev, name: e.target.value }))}\r\n              fullWidth\r\n              margin=\"normal\"\r\n              required\r\n              disabled={submitting}\r\n              error={!formData.name.trim() && formData.name !== ''}\r\n              helperText={!formData.name.trim() && formData.name !== '' ? 'Pillar name is required' : ''}\r\n            />\r\n            \r\n            <TextField\r\n              label=\"Description\"\r\n              value={formData.description}\r\n              onChange={(e) => setFormData(prev => ({ ...prev, description: e.target.value }))}\r\n              fullWidth\r\n              multiline\r\n              rows={4}\r\n              margin=\"normal\"\r\n              required\r\n              disabled={submitting}\r\n              error={!formData.description.trim() && formData.description !== ''}\r\n              helperText={!formData.description.trim() && formData.description !== '' ? 'Description is required' : ''}\r\n            />\r\n            \r\n            <FormControl fullWidth margin=\"normal\">\r\n              <InputLabel>Focus Areas</InputLabel>\r\n              <Select\r\n                multiple\r\n                value={formData.focusAreaIds}\r\n                onChange={handleFocusAreaChange}\r\n                input={<OutlinedInput label=\"Focus Areas\" />}\r\n                disabled={submitting}\r\n                renderValue={(selected) => (\r\n                  <Box sx={{ display: 'flex', flexWrap: 'wrap', gap: 0.5 }}>\r\n                    {selected.map((value) => {\r\n                      const focusArea = focusAreas.find(fa => fa.id === value);\r\n                      return (\r\n                        <Chip \r\n                          key={value} \r\n                          label={focusArea?.name || `ID: ${value}`} \r\n                          size=\"small\" \r\n                        />\r\n                      );\r\n                    })}\r\n                  </Box>\r\n                )}\r\n              >\r\n                {focusAreas.map((focusArea) => (\r\n                  <MenuItem key={focusArea.id} value={focusArea.id}>\r\n                    <Checkbox checked={formData.focusAreaIds.indexOf(focusArea.id) > -1} />\r\n                    <ListItemText primary={focusArea.name} />\r\n                  </MenuItem>\r\n                ))}\r\n              </Select>\r\n            </FormControl>\r\n            \r\n            {submitting && (\r\n              <Box sx={{ display: 'flex', alignItems: 'center', mt: 2 }}>\r\n                <CircularProgress size={20} sx={{ mr: 1 }} />\r\n                <Typography variant=\"body2\" color=\"text.secondary\">\r\n                  {editingPillar ? 'Updating pillar...' : 'Creating pillar...'}\r\n                </Typography>\r\n              </Box>\r\n            )}\r\n          </Box>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button \r\n            onClick={handleCloseDialog} \r\n            startIcon={<CancelIcon />}\r\n            disabled={submitting}\r\n          >\r\n            Cancel\r\n          </Button>\r\n          <Button \r\n            onClick={handleSubmit} \r\n            variant=\"contained\" \r\n            startIcon={submitting ? <CircularProgress size={16} /> : <SaveIcon />}\r\n            disabled={submitting || !formData.name.trim() || !formData.description.trim()}\r\n          >\r\n            {submitting \r\n              ? (editingPillar ? 'Updating...' : 'Creating...') \r\n              : (editingPillar ? 'Update' : 'Create')\r\n            }\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default AdminManagePillars;","import React, { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport { API_URL, STATIC_URL } from '../../config';\r\n\r\nconst AdminManageEvents = () => {\r\n  \r\n  const [events, setEvents] = useState([]);\r\n  const [countries, setCountries] = useState([]);\r\n  const [eventInterests, setEventInterests] = useState({});\r\n  const [selectedEventInterests, setSelectedEventInterests] = useState([]);\r\n  const [showInterestsModal, setShowInterestsModal] = useState(false);\r\n  const [selectedEvent, setSelectedEvent] = useState(null);\r\n  const [showMessageModal, setShowMessageModal] = useState(false);\r\n  const [showForm, setShowForm] = useState(false);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [isSendingEmail, setIsSendingEmail] = useState(false);\r\n  const [message, setMessage] = useState({ type: '', text: '' });\r\n  \r\n  const [emailForm, setEmailForm] = useState({\r\n    subject: \"\",\r\n    message: \"\",\r\n    recipient: null,\r\n    mode: \"all\", // \"all\" or \"single\"\r\n  });\r\n\r\n  const [form, setForm] = useState({\r\n    title: \"\",\r\n    one_liner: \"\",\r\n    description: \"\",\r\n    country: \"\",\r\n    location: \"\",\r\n    start_date: \"\",\r\n    end_date: \"\",\r\n    image: null,\r\n    is_paid: false,\r\n    price: \"\",\r\n    currency: \"USD\",\r\n  });\r\n  const [editingId, setEditingId] = useState(null);\r\n\r\n  // Show message function\r\n  const showMessage = (type, text, duration = 5000) => {\r\n    setMessage({ type, text });\r\n    setTimeout(() => setMessage({ type: '', text: '' }), duration);\r\n  };\r\n\r\n  // Fetch events\r\n  const fetchEvents = async () => {\r\n    try {\r\n      const { data } = await axios.get(`${API_URL}/events`);\r\n      setEvents(data);\r\n    } catch (error) {\r\n      console.error(\"Error fetching events:\", error);\r\n      showMessage('error', 'Failed to fetch events. Please try again.');\r\n    }\r\n  };\r\n\r\n  // Fetch countries\r\n  const fetchCountries = async () => {\r\n    try {\r\n      const { data } = await axios.get(`${API_URL}/countries`);\r\n      setCountries(data);\r\n    } catch (error) {\r\n      console.error(\"Error fetching countries:\", error);\r\n      showMessage('error', 'Failed to fetch countries. Please try again.');\r\n    }\r\n  };\r\n\r\n  // Fetch event interests for all events\r\n  const fetchEventInterests = async () => {\r\n    try {\r\n      const { data } = await axios.get(`${API_URL}/event-interests`);\r\n      // Group interests by event_id\r\n      const groupedInterests = data.reduce((acc, interest) => {\r\n        if (!acc[interest.event_id]) {\r\n          acc[interest.event_id] = [];\r\n        }\r\n        acc[interest.event_id].push(interest);\r\n        return acc;\r\n      }, {});\r\n      setEventInterests(groupedInterests);\r\n    } catch (error) {\r\n      console.error(\"Error fetching event interests:\", error);\r\n      showMessage('error', 'Failed to fetch event applications. Please try again.');\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchEvents();\r\n    fetchCountries();\r\n    fetchEventInterests();\r\n  }, []);\r\n\r\n  // Handle input change\r\n  const handleChange = (e) => {\r\n    const { name, value, files, type, checked } = e.target;\r\n    if (files) {\r\n      setForm({ ...form, [name]: files[0] });\r\n    } else if (type === 'checkbox') {\r\n      setForm({ ...form, [name]: checked });\r\n    } else {\r\n      setForm({ ...form, [name]: value });\r\n    }\r\n  };\r\n\r\n  // Submit form\r\n// Submit form\r\nconst handleSubmit = async (e) => {\r\n  e.preventDefault();\r\n  \r\n  // Validate one_liner length\r\n  if (form.one_liner && form.one_liner.length > 150) {\r\n    showMessage('error', 'One liner must be 150 characters or less');\r\n    return;\r\n  }\r\n  \r\n  setIsLoading(true);\r\n  \r\n  try {\r\n    const formData = new FormData();\r\n    \r\n    // Handle all fields with special treatment for one_liner\r\n    for (let key in form) {\r\n      if (form[key] !== null) {\r\n        // For one_liner, always append it (even if empty string)\r\n        if (key === 'one_liner') {\r\n          formData.append(key, form[key] || '');\r\n        }\r\n        // For files, append if exists\r\n        else if (key === 'image' && form[key]) {\r\n          formData.append(key, form[key]);\r\n        }\r\n        // For all other fields, append only if not empty\r\n        else if (key !== 'image' && form[key] !== '') {\r\n          formData.append(key, form[key]);\r\n        }\r\n      }\r\n    }\r\n\r\n    // Debug logging (remove in production)\r\n    console.log('Form data being sent:');\r\n    for (let [key, value] of formData.entries()) {\r\n      console.log(`${key}:`, value);\r\n    }\r\n\r\n    if (editingId) {\r\n      await axios.put(`${API_URL}/events/${editingId}`, formData, {\r\n        headers: { \"Content-Type\": \"multipart/form-data\" },\r\n      });\r\n      showMessage('success', 'Event updated successfully!');\r\n    } else {\r\n      await axios.post(`${API_URL}/events`, formData, {\r\n        headers: { \"Content-Type\": \"multipart/form-data\" },\r\n      });\r\n      showMessage('success', 'Event created successfully!');\r\n    }\r\n\r\n    // Reset form\r\n    setForm({\r\n      title: \"\",\r\n      one_liner: \"\",\r\n      description: \"\",\r\n      country: \"\",\r\n      location: \"\",\r\n      start_date: \"\",\r\n      end_date: \"\",\r\n      image: null,\r\n      is_paid: false,\r\n      price: \"\",\r\n      currency: \"USD\",\r\n    });\r\n    setEditingId(null);\r\n    setShowForm(false);\r\n    fetchEvents();\r\n    fetchEventInterests();\r\n  } catch (error) {\r\n    console.error(\"Error submitting form:\", error);\r\n    if (error.response?.data?.error) {\r\n      showMessage('error', error.response.data.error);\r\n    } else {\r\n      showMessage('error', 'Failed to save event. Please try again.');\r\n    }\r\n  } finally {\r\n    setIsLoading(false);\r\n  }\r\n};\r\n\r\n  // Edit event\r\n  const handleEdit = (event) => {\r\n    setForm({\r\n      title: event.title,\r\n      one_liner: event.one_liner || \"\",\r\n      description: event.description,\r\n      country: event.country || \"\",\r\n      location: event.location,\r\n      start_date: event.start_date.slice(0, 16),\r\n      end_date: event.end_date ? event.end_date.slice(0, 16) : \"\",\r\n      image: null,\r\n      is_paid: event.is_paid || false,\r\n      price: event.price || \"\",\r\n      currency: event.currency || \"USD\",\r\n    });\r\n    setEditingId(event.id);\r\n    setShowForm(true);\r\n  };\r\n\r\n  // Delete event\r\n  const handleDelete = async (id) => {\r\n    if (window.confirm(\"Are you sure you want to delete this event?\")) {\r\n      setIsLoading(true);\r\n      try {\r\n        await axios.delete(`${API_URL}/events/${id}`);\r\n        showMessage('success', 'Event deleted successfully!');\r\n        fetchEvents();\r\n        fetchEventInterests();\r\n      } catch (error) {\r\n        console.error(\"Error deleting event:\", error);\r\n        showMessage('error', 'Failed to delete event. Please try again.');\r\n      } finally {\r\n        setIsLoading(false);\r\n      }\r\n    }\r\n  };\r\n\r\n  // Handle viewing event interests\r\n  const handleViewInterests = (event) => {\r\n    const interests = eventInterests[event.id] || [];\r\n    setSelectedEvent(event);\r\n    setSelectedEventInterests(interests);\r\n    setShowInterestsModal(true);\r\n  };\r\n\r\n  // Handle deleting an interest\r\n  const handleDeleteInterest = async (interestId) => {\r\n    if (window.confirm(\"Are you sure you want to delete this interest?\")) {\r\n      try {\r\n        await axios.delete(`${API_URL}/event-interests/${interestId}`);\r\n        showMessage('success', 'Application deleted successfully!');\r\n        fetchEventInterests();\r\n        const updatedInterests = selectedEventInterests.filter(interest => interest.id !== interestId);\r\n        setSelectedEventInterests(updatedInterests);\r\n      } catch (error) {\r\n        console.error(\"Error deleting interest:\", error);\r\n        showMessage('error', 'Failed to delete application. Please try again.');\r\n      }\r\n    }\r\n  };\r\n\r\n  const closeInterestsModal = () => {\r\n    setShowInterestsModal(false);\r\n    setSelectedEvent(null);\r\n    setSelectedEventInterests([]);\r\n  };\r\n\r\n  const closeMessageModal = () => {\r\n    setShowMessageModal(false);\r\n    setEmailForm({\r\n      subject: \"\",\r\n      message: \"\",\r\n      recipient: null,\r\n      mode: \"all\",\r\n    });\r\n  };\r\n\r\n  const formatDate = (dateString) => {\r\n    return new Date(dateString).toLocaleDateString('en-US', {\r\n      year: 'numeric',\r\n      month: 'short',\r\n      day: 'numeric',\r\n      hour: '2-digit',\r\n      minute: '2-digit'\r\n    });\r\n  };\r\n\r\n  // Open email modal for all applicants\r\n  const openEmailAllModal = () => {\r\n    setEmailForm({\r\n      subject: `Update regarding: ${selectedEvent.title}`,\r\n      message: \"\",\r\n      recipient: null,\r\n      mode: \"all\",\r\n    });\r\n    setShowMessageModal(true);\r\n  };\r\n\r\n  // Open email modal for single applicant\r\n  const openEmailSingleModal = (applicant) => {\r\n    setEmailForm({\r\n      subject: `Update regarding: ${selectedEvent.title}`,\r\n      message: \"\",\r\n      recipient: applicant,\r\n      mode: \"single\",\r\n    });\r\n    setShowMessageModal(true);\r\n  };\r\n\r\n  const handleSendEmail = async () => {\r\n    if (!emailForm.subject.trim() || !emailForm.message.trim()) {\r\n      showMessage('error', 'Please fill in both subject and message');\r\n      return;\r\n    }\r\n\r\n    setIsSendingEmail(true);\r\n\r\n    try {\r\n      if (emailForm.mode === \"single\" && emailForm.recipient) {\r\n        // Send to single applicant\r\n        await axios.post(`${API_URL}/event-interests/email-applicant`, {\r\n          email: emailForm.recipient.email,\r\n          name: emailForm.recipient.name,\r\n          subject: emailForm.subject,\r\n          message: emailForm.message,\r\n        });\r\n        showMessage('success', 'Email sent successfully!');\r\n      } else if (emailForm.mode === \"all\") {\r\n        // Send to all applicants\r\n        const applicants = eventInterests[selectedEvent.id] || [];\r\n        if (applicants.length === 0) {\r\n          showMessage('error', 'No applicants to email');\r\n          return;\r\n        }\r\n\r\n        await axios.post(`${API_URL}/event-interests/email-applicants`, {\r\n          applicants,\r\n          subject: emailForm.subject,\r\n          message: emailForm.message,\r\n        });\r\n        showMessage('success', `Email sent to ${applicants.length} applicants successfully!`);\r\n      }\r\n\r\n      closeMessageModal();\r\n    } catch (err) {\r\n      console.error(\"Email send error:\", err);\r\n      showMessage('error', 'Failed to send email. Please try again.');\r\n    } finally {\r\n      setIsSendingEmail(false);\r\n    }\r\n  };\r\n\r\n  const cancelEdit = () => {\r\n    setForm({\r\n      title: \"\",\r\n      one_liner: \"\",\r\n      description: \"\",\r\n      country: \"\",\r\n      location: \"\",\r\n      start_date: \"\",\r\n      end_date: \"\",\r\n      image: null,\r\n      is_paid: false,\r\n      price: \"\",\r\n      currency: \"USD\",\r\n    });\r\n    setEditingId(null);\r\n    setShowForm(false);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <style>{`\r\n        .admin-events-container {\r\n          max-width: 1200px;\r\n          margin: 0 auto;\r\n          padding: 2rem;\r\n          font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;\r\n          background-color: #f8fafc;\r\n          min-height: 100vh;\r\n        }\r\n\r\n        .admin-events-header {\r\n          margin-bottom: 2rem;\r\n        }\r\n\r\n        .admin-events-title {\r\n          font-size: 2rem;\r\n          font-weight: 700;\r\n          color: #1e293b;\r\n          margin: 0 0 0.5rem 0;\r\n        }\r\n\r\n        .admin-events-subtitle {\r\n          color: #64748b;\r\n          font-size: 1rem;\r\n        }\r\n\r\n        .form-toggle-container {\r\n          margin-bottom: 2rem;\r\n        }\r\n\r\n        .form-toggle-btn {\r\n          background-color: #3b82f6;\r\n          color: white;\r\n          border: none;\r\n          padding: 1rem 2rem;\r\n          border-radius: 12px;\r\n          font-weight: 600;\r\n          cursor: pointer;\r\n          transition: all 0.2s ease;\r\n          display: flex;\r\n          align-items: center;\r\n          gap: 0.5rem;\r\n          font-size: 1rem;\r\n        }\r\n\r\n        .form-toggle-btn:hover {\r\n          background-color: #2563eb;\r\n          transform: translateY(-1px);\r\n        }\r\n\r\n        .admin-events-form {\r\n          background: white;\r\n          border-radius: 12px;\r\n          padding: 2rem;\r\n          box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1);\r\n          margin-bottom: 2rem;\r\n          border: 1px solid #e2e8f0;\r\n          transition: all 0.3s ease;\r\n          overflow: hidden;\r\n        }\r\n\r\n        .form-slide-enter {\r\n          max-height: 0;\r\n          opacity: 0;\r\n          padding: 0 2rem;\r\n        }\r\n\r\n        .form-slide-enter-active {\r\n          max-height: 1000px;\r\n          opacity: 1;\r\n          padding: 2rem;\r\n        }\r\n\r\n        .form-title {\r\n          font-size: 1.25rem;\r\n          font-weight: 600;\r\n          color: #334155;\r\n          margin: 0 0 1.5rem 0;\r\n        }\r\n\r\n        .form-grid {\r\n          display: grid;\r\n          grid-template-columns: 1fr 1fr;\r\n          gap: 1rem;\r\n          margin-bottom: 1rem;\r\n        }\r\n\r\n        .form-group-full {\r\n          grid-column: 1 / -1;\r\n        }\r\n\r\n        .form-group {\r\n          display: flex;\r\n          flex-direction: column;\r\n        }\r\n\r\n        .form-label {\r\n          font-weight: 500;\r\n          color: #374151;\r\n          margin-bottom: 0.5rem;\r\n          font-size: 0.875rem;\r\n          position: relative;\r\n        }\r\n\r\n        .form-input,\r\n        .form-select,\r\n        .form-textarea {\r\n          padding: 0.75rem;\r\n          border: 1px solid #d1d5db;\r\n          border-radius: 8px;\r\n          font-size: 1rem;\r\n          transition: all 0.2s ease;\r\n          outline: none;\r\n        }\r\n\r\n        .form-input:focus,\r\n        .form-select:focus,\r\n        .form-textarea:focus {\r\n          border-color: #3b82f6;\r\n          box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);\r\n        }\r\n\r\n        .form-textarea {\r\n          min-height: 100px;\r\n          resize: vertical;\r\n        }\r\n\r\n        .form-file {\r\n          padding: 0.5rem;\r\n          border: 2px dashed #d1d5db;\r\n          border-radius: 8px;\r\n          background-color: #f9fafb;\r\n          transition: all 0.2s ease;\r\n        }\r\n\r\n        .form-file:hover {\r\n          border-color: #3b82f6;\r\n          background-color: #eff6ff;\r\n        }\r\n\r\n        .character-counter {\r\n          font-size: 0.75rem;\r\n          color: #6b7280;\r\n          margin-top: 0.25rem;\r\n          text-align: right;\r\n        }\r\n\r\n        .character-counter.warning {\r\n          color: #f59e0b;\r\n        }\r\n\r\n        .character-counter.error {\r\n          color: #dc2626;\r\n        }\r\n\r\n        .image-preview {\r\n          margin-top: 1rem;\r\n          border-radius: 8px;\r\n          max-height: 120px;\r\n          object-fit: cover;\r\n          border: 1px solid #e5e7eb;\r\n        }\r\n\r\n        .form-actions {\r\n          display: flex;\r\n          gap: 1rem;\r\n          margin-top: 1.5rem;\r\n        }\r\n\r\n        .btn {\r\n          padding: 0.75rem 1.5rem;\r\n          border: none;\r\n          border-radius: 8px;\r\n          font-weight: 500;\r\n          cursor: pointer;\r\n          transition: all 0.2s ease;\r\n          font-size: 0.875rem;\r\n          display: flex;\r\n          align-items: center;\r\n          gap: 0.5rem;\r\n        }\r\n\r\n        .btn:disabled {\r\n          opacity: 0.6;\r\n          cursor: not-allowed;\r\n          transform: none;\r\n        }\r\n\r\n        .btn-primary {\r\n          background-color: #3b82f6;\r\n          color: white;\r\n        }\r\n\r\n        .btn-primary:hover:not(:disabled) {\r\n          background-color: #2563eb;\r\n          transform: translateY(-1px);\r\n        }\r\n\r\n        .btn-secondary {\r\n          background-color: #6b7280;\r\n          color: white;\r\n        }\r\n\r\n        .btn-secondary:hover:not(:disabled) {\r\n          background-color: #4b5563;\r\n        }\r\n\r\n        .loading-spinner {\r\n          width: 1rem;\r\n          height: 1rem;\r\n          border: 2px solid transparent;\r\n          border-top: 2px solid currentColor;\r\n          border-radius: 50%;\r\n          animation: spin 1s linear infinite;\r\n        }\r\n\r\n        @keyframes spin {\r\n          to {\r\n            transform: rotate(360deg);\r\n          }\r\n        }\r\n\r\n        .message-alert {\r\n          padding: 1rem 1.5rem;\r\n          border-radius: 8px;\r\n          margin-bottom: 1.5rem;\r\n          font-weight: 500;\r\n          animation: slideDown 0.3s ease;\r\n        }\r\n\r\n        .message-success {\r\n          background-color: #dcfce7;\r\n          color: #166534;\r\n          border: 1px solid #bbf7d0;\r\n        }\r\n\r\n        .message-error {\r\n          background-color: #fee2e2;\r\n          color: #991b1b;\r\n          border: 1px solid #fecaca;\r\n        }\r\n\r\n        @keyframes slideDown {\r\n          from {\r\n            opacity: 0;\r\n            transform: translateY(-10px);\r\n          }\r\n          to {\r\n            opacity: 1;\r\n            transform: translateY(0);\r\n          }\r\n        }\r\n\r\n        .events-table-container {\r\n          background: white;\r\n          border-radius: 12px;\r\n          overflow: hidden;\r\n          box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1);\r\n          border: 1px solid #e2e8f0;\r\n        }\r\n\r\n        .table-header {\r\n          padding: 1.5rem 2rem;\r\n          border-bottom: 1px solid #e5e7eb;\r\n        }\r\n\r\n        .table-title {\r\n          font-size: 1.25rem;\r\n          font-weight: 600;\r\n          color: #334155;\r\n          margin: 0;\r\n        }\r\n\r\n        .events-table {\r\n          width: 100%;\r\n          border-collapse: collapse;\r\n          font-size: 0.875rem;\r\n        }\r\n\r\n        .events-table th {\r\n          background-color: #f8fafc;\r\n          color: #374151;\r\n          font-weight: 600;\r\n          padding: 1rem;\r\n          text-align: left;\r\n          border-bottom: 1px solid #e5e7eb;\r\n          font-size: 0.75rem;\r\n          text-transform: uppercase;\r\n          letter-spacing: 0.05em;\r\n        }\r\n\r\n        .events-table td {\r\n          padding: 1rem;\r\n          border-bottom: 1px solid #f1f5f9;\r\n          vertical-align: middle;\r\n        }\r\n\r\n        .events-table tr:hover {\r\n          background-color: #f8fafc;\r\n        }\r\n\r\n        .event-image {\r\n          height: 60px;\r\n          width: 60px;\r\n          object-fit: cover;\r\n          border-radius: 8px;\r\n          border: 1px solid #e5e7eb;\r\n        }\r\n\r\n        .event-actions {\r\n          display: flex;\r\n          gap: 0.5rem;\r\n        }\r\n\r\n        .btn-edit {\r\n          background-color: #f59e0b;\r\n          color: white;\r\n          padding: 0.5rem 1rem;\r\n          border: none;\r\n          border-radius: 6px;\r\n          font-size: 0.75rem;\r\n          cursor: pointer;\r\n          transition: all 0.2s ease;\r\n          font-weight: 500;\r\n        }\r\n\r\n        .btn-edit:hover {\r\n          background-color: #d97706;\r\n          transform: translateY(-1px);\r\n        }\r\n\r\n        .btn-delete {\r\n          background-color: #dc2626;\r\n          color: white;\r\n          padding: 0.5rem 1rem;\r\n          border: none;\r\n          border-radius: 6px;\r\n          font-size: 0.75rem;\r\n          cursor: pointer;\r\n          transition: all 0.2s ease;\r\n          font-weight: 500;\r\n        }\r\n\r\n        .btn-delete:hover {\r\n          background-color: #b91c1c;\r\n          transform: translateY(-1px);\r\n        }\r\n\r\n        .date-text {\r\n          color: #6b7280;\r\n          font-size: 0.875rem;\r\n        }\r\n\r\n        .country-badge {\r\n          display: inline-block;\r\n          padding: 0.25rem 0.75rem;\r\n          background-color: #eff6ff;\r\n          color: #1d4ed8;\r\n          border-radius: 20px;\r\n          font-size: 0.75rem;\r\n          font-weight: 500;\r\n        }\r\n\r\n        .one-liner-text {\r\n          color: #6b7280;\r\n          font-style: italic;\r\n          font-size: 0.75rem;\r\n          margin-top: 0.25rem;\r\n        }\r\n\r\n        .checkbox-group {\r\n          display: flex;\r\n          align-items: center;\r\n          gap: 0.75rem;\r\n          padding: 1rem;\r\n          background-color: #f8fafc;\r\n          border: 1px solid #e2e8f0;\r\n          border-radius: 8px;\r\n          margin-bottom: 1rem;\r\n        }\r\n\r\n        .checkbox-input {\r\n          width: 1.25rem;\r\n          height: 1.25rem;\r\n          accent-color: #3b82f6;\r\n          cursor: pointer;\r\n        }\r\n\r\n        .checkbox-label {\r\n          font-weight: 500;\r\n          color: #374151;\r\n          cursor: pointer;\r\n          margin: 0;\r\n        }\r\n\r\n        .pricing-section {\r\n          background-color: #eff6ff;\r\n          border: 1px solid #bfdbfe;\r\n          border-radius: 8px;\r\n          padding: 1.5rem;\r\n          margin-bottom: 1rem;\r\n          animation: slideIn 0.3s ease;\r\n        }\r\n\r\n        .pricing-title {\r\n          font-weight: 600;\r\n          color: #1e40af;\r\n          margin: 0 0 1rem 0;\r\n          font-size: 1rem;\r\n        }\r\n\r\n        .pricing-grid {\r\n          display: grid;\r\n          grid-template-columns: 2fr 1fr;\r\n          gap: 1rem;\r\n        }\r\n\r\n        @keyframes slideIn {\r\n          from {\r\n            opacity: 0;\r\n            transform: translateY(-10px);\r\n          }\r\n          to {\r\n            opacity: 1;\r\n            transform: translateY(0);\r\n          }\r\n        }\r\n\r\n        .price-badge {\r\n          display: inline-flex;\r\n          align-items: center;\r\n          padding: 0.375rem 0.75rem;\r\n          background-color: #dcfce7;\r\n          color: #166534;\r\n          border-radius: 20px;\r\n          font-size: 0.875rem;\r\n          font-weight: 600;\r\n        }\r\n\r\n        .free-badge {\r\n          display: inline-flex;\r\n          align-items: center;\r\n          padding: 0.375rem 0.75rem;\r\n          background-color: #f3f4f6;\r\n          color: #374151;\r\n          border-radius: 20px;\r\n          font-size: 0.875rem;\r\n          font-weight: 500;\r\n        }\r\n\r\n        .applicants-btn {\r\n          background-color: #8b5cf6;\r\n          color: white;\r\n          padding: 0.5rem 1rem;\r\n          border: none;\r\n          border-radius: 6px;\r\n          font-size: 0.75rem;\r\n          cursor: pointer;\r\n          transition: all 0.2s ease;\r\n          font-weight: 500;\r\n          display: flex;\r\n          align-items: center;\r\n          gap: 0.5rem;\r\n          position: relative;\r\n        }\r\n\r\n        .applicants-btn:hover {\r\n          background-color: #7c3aed;\r\n          transform: translateY(-1px);\r\n        }\r\n\r\n        .applicants-count {\r\n          background-color: rgba(255, 255, 255, 0.2);\r\n          border-radius: 10px;\r\n          padding: 0.125rem 0.375rem;\r\n          font-size: 0.625rem;\r\n          font-weight: 600;\r\n        }\r\n\r\n        .modal-overlay {\r\n          position: fixed;\r\n          top: 0;\r\n          left: 0;\r\n          right: 0;\r\n          bottom: 0;\r\n          background-color: rgba(0, 0, 0, 0.75);\r\n          display: flex;\r\n          align-items: center;\r\n          justify-content: center;\r\n          z-index: 1000;\r\n          padding: 1rem;\r\n        }\r\n\r\n        .modal-content {\r\n          background: white;\r\n          border-radius: 20px;\r\n          width: 100%;\r\n          max-width: 800px;\r\n          max-height: 90vh;\r\n          overflow-y: auto;\r\n          position: relative;\r\n          animation: modalSlideIn 0.3s ease;\r\n        }\r\n\r\n        @keyframes modalSlideIn {\r\n          from {\r\n            opacity: 0;\r\n            transform: scale(0.9) translateY(-50px);\r\n          }\r\n          to {\r\n            opacity: 1;\r\n            transform: scale(1) translateY(0);\r\n          }\r\n        }\r\n\r\n        .modal-header {\r\n          padding: 2rem 2rem 1rem 2rem;\r\n          border-bottom: 1px solid #e5e7eb;\r\n        }\r\n\r\n        .modal-title {\r\n          font-size: 1.5rem;\r\n          font-weight: 700;\r\n          color: #1e293b;\r\n          margin: 0 0 0.5rem 0;\r\n        }\r\n\r\n        .modal-subtitle {\r\n          color: #64748b;\r\n          margin: 0;\r\n        }\r\n\r\n        .modal-close {\r\n          position: absolute;\r\n          top: 1rem;\r\n          right: 1rem;\r\n          background: none;\r\n          border: none;\r\n          font-size: 1.5rem;\r\n          cursor: pointer;\r\n          color: #64748b;\r\n          width: 2rem;\r\n          height: 2rem;\r\n          display: flex;\r\n          align-items: center;\r\n          justify-content: center;\r\n          border-radius: 50%;\r\n          transition: all 0.2s ease;\r\n        }\r\n\r\n        .modal-close:hover {\r\n          background-color: #f1f5f9;\r\n          color: #374151;\r\n        }\r\n\r\n        .modal-body {\r\n          padding: 2rem;\r\n        }\r\n\r\n        .interests-table {\r\n          width: 100%;\r\n          border-collapse: collapse;\r\n          font-size: 0.875rem;\r\n        }\r\n\r\n        .interests-table th {\r\n          background-color: #f8fafc;\r\n          color: #374151;\r\n          font-weight: 600;\r\n          padding: 1rem;\r\n          text-align: left;\r\n          border-bottom: 1px solid #e5e7eb;\r\n          font-size: 0.75rem;\r\n          text-transform: uppercase;\r\n          letter-spacing: 0.05em;\r\n        }\r\n\r\n        .interests-table td {\r\n          padding: 1rem;\r\n          border-bottom: 1px solid #f1f5f9;\r\n          vertical-align: top;\r\n        }\r\n\r\n        .interests-table tr:hover {\r\n          background-color: #f8fafc;\r\n        }\r\n\r\n        .interest-name {\r\n          font-weight: 600;\r\n          color: #1e293b;\r\n        }\r\n\r\n        .interest-email {\r\n          color: #3b82f6;\r\n          text-decoration: none;\r\n        }\r\n\r\n        .interest-email:hover {\r\n          text-decoration: underline;\r\n        }\r\n\r\n        .interest-phone {\r\n          color: #6b7280;\r\n          font-size: 0.875rem;\r\n        }\r\n\r\n        .interest-message {\r\n          color: #374151;\r\n          font-style: italic;\r\n          max-width: 200px;\r\n          word-wrap: break-word;\r\n        }\r\n\r\n        .interest-date {\r\n          color: #6b7280;\r\n          font-size: 0.75rem;\r\n        }\r\n\r\n        .btn-delete-interest {\r\n          background-color: #dc2626;\r\n          color: white;\r\n          padding: 0.375rem 0.75rem;\r\n          border: none;\r\n          border-radius: 4px;\r\n          font-size: 0.75rem;\r\n          cursor: pointer;\r\n          transition: all 0.2s ease;\r\n          font-weight: 500;\r\n        }\r\n\r\n        .btn-delete-interest:hover {\r\n          background-color: #b91c1c;\r\n          transform: translateY(-1px);\r\n        }\r\n\r\n        .btn-email-single {\r\n          background-color: #10b981;\r\n          color: white;\r\n          padding: 0.375rem 0.75rem;\r\n          border: none;\r\n          border-radius: 4px;\r\n          font-size: 0.75rem;\r\n          cursor: pointer;\r\n          transition: all 0.2s ease;\r\n          font-weight: 500;\r\n          margin-right: 0.5rem;\r\n        }\r\n\r\n        .btn-email-single:hover {\r\n          background-color: #059669;\r\n          transform: translateY(-1px);\r\n        }\r\n\r\n        .no-interests {\r\n          text-align: center;\r\n          padding: 3rem 2rem;\r\n          color: #6b7280;\r\n        }\r\n\r\n        .no-interests-title {\r\n          font-size: 1.125rem;\r\n          font-weight: 600;\r\n          margin: 0 0 0.5rem 0;\r\n        }\r\n\r\n        .export-btn {\r\n          background-color: #059669;\r\n          color: white;\r\n          padding: 0.75rem 1.5rem;\r\n          border: none;\r\n          border-radius: 8px;\r\n          font-size: 0.875rem;\r\n          cursor: pointer;\r\n          transition: all 0.2s ease;\r\n          font-weight: 500;\r\n          margin-bottom: 1.5rem;\r\n        }\r\n\r\n        .export-btn:hover {\r\n          background-color: #047857;\r\n          transform: translateY(-1px);\r\n        }\r\n\r\n        .email-all-btn {\r\n          background-color: #3b82f6;\r\n          color: white;\r\n          padding: 0.75rem 1.5rem;\r\n          border: none;\r\n          border-radius: 8px;\r\n          font-size: 0.875rem;\r\n          cursor: pointer;\r\n          transition: all 0.2s ease;\r\n          font-weight: 500;\r\n          margin-bottom: 1.5rem;\r\n          margin-left: 1rem;\r\n        }\r\n\r\n        .email-all-btn:hover {\r\n          background-color: #2563eb;\r\n          transform: translateY(-1px);\r\n        }\r\n\r\n        .email-form {\r\n          background-color: #f8fafc;\r\n          padding: 1.5rem;\r\n          border-radius: 8px;\r\n          margin-bottom: 1.5rem;\r\n        }\r\n\r\n        .email-form h3 {\r\n          margin: 0 0 1rem 0;\r\n          color: #1e293b;\r\n          font-size: 1.125rem;\r\n          font-weight: 600;\r\n        }\r\n\r\n        .email-form .form-group {\r\n          margin-bottom: 1rem;\r\n        }\r\n\r\n        .email-form .form-input,\r\n        .email-form .form-textarea {\r\n          width: 100%;\r\n          box-sizing: border-box;\r\n        }\r\n\r\n        .email-form .form-textarea {\r\n          min-height: 120px;\r\n        }\r\n\r\n        .email-actions {\r\n          display: flex;\r\n          gap: 1rem;\r\n        }\r\n\r\n        .btn-send {\r\n          background-color: #10b981;\r\n          color: white;\r\n          padding: 0.75rem 1.5rem;\r\n          border: none;\r\n          border-radius: 8px;\r\n          font-size: 0.875rem;\r\n          cursor: pointer;\r\n          transition: all 0.2s ease;\r\n          font-weight: 500;\r\n        }\r\n\r\n        .btn-send:hover:not(:disabled) {\r\n          background-color: #059669;\r\n          transform: translateY(-1px);\r\n        }\r\n\r\n        .btn-cancel {\r\n          background-color: #6b7280;\r\n          color: white;\r\n          padding: 0.75rem 1.5rem;\r\n          border: none;\r\n          border-radius: 8px;\r\n          font-size: 0.875rem;\r\n          cursor: pointer;\r\n          transition: all 0.2s ease;\r\n          font-weight: 500;\r\n        }\r\n\r\n        .btn-cancel:hover {\r\n          background-color: #4b5563;\r\n        }\r\n\r\n        .no-events {\r\n          text-align: center;\r\n          padding: 3rem;\r\n          color: #6b7280;\r\n        }\r\n\r\n        @media (max-width: 768px) {\r\n          .admin-events-container {\r\n            padding: 1rem;\r\n          }\r\n\r\n          .form-grid {\r\n            grid-template-columns: 1fr;\r\n          }\r\n\r\n          .pricing-grid {\r\n            grid-template-columns: 1fr;\r\n          }\r\n\r\n          .events-table-container {\r\n            overflow-x: auto;\r\n          }\r\n\r\n          .events-table {\r\n            min-width: 900px;\r\n          }\r\n\r\n          .event-actions {\r\n            flex-direction: column;\r\n          }\r\n\r\n          .modal-content {\r\n            margin: 1rem;\r\n            max-width: calc(100vw - 2rem);\r\n          }\r\n\r\n          .modal-header,\r\n          .modal-body {\r\n            padding: 1.5rem;\r\n          }\r\n\r\n          .email-actions {\r\n            flex-direction: column;\r\n          }\r\n        }\r\n      `}</style>\r\n\r\n      <div className=\"admin-events-container\">\r\n        <header className=\"admin-events-header\">\r\n          <h1 className=\"admin-events-title\">Event Management</h1>\r\n          <p className=\"admin-events-subtitle\">Create, edit, and manage your events</p>\r\n        </header>\r\n\r\n        {/* Message Alert */}\r\n        {message.text && (\r\n          <div className={`message-alert message-${message.type}`}>\r\n            {message.text}\r\n          </div>\r\n        )}\r\n\r\n        {/* Form Toggle */}\r\n        <div className=\"form-toggle-container\">\r\n          <button \r\n            className=\"form-toggle-btn\"\r\n            onClick={() => setShowForm(!showForm)}\r\n          >\r\n            {showForm ? '' : '+'} \r\n            {editingId ? \"Edit Event\" : \"Create New Event\"}\r\n          </button>\r\n        </div>\r\n\r\n        {/* Form */}\r\n        {showForm && (\r\n          <div className=\"admin-events-form\">\r\n            <h2 className=\"form-title\">\r\n              {editingId ? \"Edit Event\" : \"Create New Event\"}\r\n            </h2>\r\n            \r\n            <form onSubmit={handleSubmit}>\r\n              <div className=\"form-grid\">\r\n                <div className=\"form-group\">\r\n                  <label className=\"form-label\">Event Title *</label>\r\n                  <input\r\n                    type=\"text\"\r\n                    name=\"title\"\r\n                    placeholder=\"Enter event title\"\r\n                    value={form.title}\r\n                    onChange={handleChange}\r\n                    required\r\n                    className=\"form-input\"\r\n                    disabled={isLoading}\r\n                  />\r\n                </div>\r\n\r\n                <div className=\"form-group\">\r\n                  <label className=\"form-label\">Country *</label>\r\n                  <select\r\n                    name=\"country\"\r\n                    value={form.country}\r\n                    onChange={handleChange}\r\n                    required\r\n                    className=\"form-select\"\r\n                    disabled={isLoading}\r\n                  >\r\n                    <option value=\"\">Select Country</option>\r\n                    {countries.map((c) => (\r\n                      <option key={c.id} value={c.name}>\r\n                        {c.name}\r\n                      </option>\r\n                    ))}\r\n                  </select>\r\n                </div>\r\n\r\n                <div className=\"form-group form-group-full\">\r\n                  <label className=\"form-label\">One Liner (Brief Description)</label>\r\n                  <input\r\n                    type=\"text\"\r\n                    name=\"one_liner\"\r\n                    placeholder=\"Brief, catchy description of your event (optional)\"\r\n                    value={form.one_liner}\r\n                    onChange={handleChange}\r\n                    maxLength={150}\r\n                    className=\"form-input\"\r\n                    disabled={isLoading}\r\n                  />\r\n                  <div className={`character-counter ${\r\n                    form.one_liner.length > 120 ? 'warning' : ''\r\n                  } ${form.one_liner.length >= 150 ? 'error' : ''}`}>\r\n                    {form.one_liner.length}/150 characters\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"form-group form-group-full\">\r\n                  <label className=\"form-label\">Description</label>\r\n                  <textarea\r\n                    name=\"description\"\r\n                    placeholder=\"Enter detailed event description\"\r\n                    value={form.description}\r\n                    onChange={handleChange}\r\n                    className=\"form-textarea\"\r\n                    disabled={isLoading}\r\n                  />\r\n                </div>\r\n\r\n                <div className=\"form-group form-group-full\">\r\n                  <div className=\"checkbox-group\">\r\n                    <input\r\n                      type=\"checkbox\"\r\n                      name=\"is_paid\"\r\n                      id=\"is_paid\"\r\n                      checked={form.is_paid}\r\n                      onChange={handleChange}\r\n                      className=\"checkbox-input\"\r\n                      disabled={isLoading}\r\n                    />\r\n                    <label htmlFor=\"is_paid\" className=\"checkbox-label\">\r\n                      This is a paid event\r\n                    </label>\r\n                  </div>\r\n                </div>\r\n\r\n                {form.is_paid && (\r\n                  <div className=\"form-group-full\">\r\n                    <div className=\"pricing-section\">\r\n                      <h3 className=\"pricing-title\">Event Pricing</h3>\r\n                      <div className=\"pricing-grid\">\r\n                        <div className=\"form-group\">\r\n                          <label className=\"form-label\">Price *</label>\r\n                          <input\r\n                            type=\"number\"\r\n                            name=\"price\"\r\n                            placeholder=\"Enter event price\"\r\n                            value={form.price}\r\n                            onChange={handleChange}\r\n                            required={form.is_paid}\r\n                            min=\"0\"\r\n                            step=\"0.01\"\r\n                            className=\"form-input\"\r\n                            disabled={isLoading}\r\n                          />\r\n                        </div>\r\n\r\n                        <div className=\"form-group\">\r\n                          <label className=\"form-label\">Currency *</label>\r\n                          <select\r\n                            name=\"currency\"\r\n                            value={form.currency}\r\n                            onChange={handleChange}\r\n                            required={form.is_paid}\r\n                            className=\"form-select\"\r\n                            disabled={isLoading}\r\n                          >\r\n                            <option value=\"USD\">USD ($)</option>\r\n                            <option value=\"EUR\">EUR ()</option>\r\n                            <option value=\"GBP\">GBP ()</option>\r\n                            <option value=\"KES\">KES (KSh)</option>\r\n                            <option value=\"UGX\">UGX (USh)</option>\r\n                            <option value=\"TZS\">TZS (TSh)</option>\r\n                            <option value=\"RWF\">RWF (RF)</option>\r\n                          </select>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                )}\r\n\r\n                <div className=\"form-group\">\r\n                  <label className=\"form-label\">Location</label>\r\n                  <input\r\n                    type=\"text\"\r\n                    name=\"location\"\r\n                    placeholder=\"Enter event location\"\r\n                    value={form.location}\r\n                    onChange={handleChange}\r\n                    className=\"form-input\"\r\n                    disabled={isLoading}\r\n                  />\r\n                </div>\r\n\r\n                <div className=\"form-group\">\r\n                  <label className=\"form-label\">Start Date & Time *</label>\r\n                  <input\r\n                    type=\"datetime-local\"\r\n                    name=\"start_date\"\r\n                    value={form.start_date}\r\n                    onChange={handleChange}\r\n                    required\r\n                    className=\"form-input\"\r\n                    disabled={isLoading}\r\n                  />\r\n                </div>\r\n\r\n                <div className=\"form-group\">\r\n                  <label className=\"form-label\">End Date & Time</label>\r\n                  <input\r\n                    type=\"datetime-local\"\r\n                    name=\"end_date\"\r\n                    value={form.end_date}\r\n                    onChange={handleChange}\r\n                    className=\"form-input\"\r\n                    disabled={isLoading}\r\n                  />\r\n                </div>\r\n\r\n                <div className=\"form-group\">\r\n                  <label className=\"form-label\">Event Image</label>\r\n                  <input\r\n                    type=\"file\"\r\n                    name=\"image\"\r\n                    accept=\"image/*\"\r\n                    onChange={handleChange}\r\n                    className=\"form-file\"\r\n                    disabled={isLoading}\r\n                  />\r\n                  \r\n                  {form.image ? (\r\n                    <img \r\n                      src={URL.createObjectURL(form.image)} \r\n                      alt=\"preview\" \r\n                      className=\"image-preview\" \r\n                    />\r\n                  ) : editingId && events.find(e => e.id === editingId)?.image_url ? (\r\n                    <img \r\n                      src={`${STATIC_URL}${events.find(e => e.id === editingId).image_url}`} \r\n                      alt=\"current\" \r\n                      className=\"image-preview\" \r\n                    />\r\n                  ) : null}\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"form-actions\">\r\n                <button type=\"submit\" className=\"btn btn-primary\" disabled={isLoading}>\r\n                  {isLoading && <div className=\"loading-spinner\"></div>}\r\n                  {editingId ? \"Update Event\" : \"Create Event\"}\r\n                </button>\r\n                <button \r\n                  type=\"button\" \r\n                  className=\"btn btn-secondary\"\r\n                  onClick={cancelEdit}\r\n                  disabled={isLoading}\r\n                >\r\n                  Cancel\r\n                </button>\r\n              </div>\r\n            </form>\r\n          </div>\r\n        )}\r\n\r\n        {/* Events Table */}\r\n        <div className=\"events-table-container\">\r\n          <div className=\"table-header\">\r\n            <h3 className=\"table-title\">All Events ({events.length})</h3>\r\n          </div>\r\n          \r\n          {events.length === 0 ? (\r\n            <div className=\"no-events\">\r\n              <p>No events found. Create your first event above.</p>\r\n            </div>\r\n          ) : (\r\n            <table className=\"events-table\">\r\n              <thead>\r\n                <tr>\r\n                  <th>Title</th>\r\n                  <th>Country</th>\r\n                  <th>Location</th>\r\n                  <th>Price</th>\r\n                  <th>Applicants</th>\r\n                  <th>Start Date</th>\r\n                  <th>End Date</th>\r\n                  <th>Image</th>\r\n                  <th>Actions</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                {events.map((event) => (\r\n                  <tr key={event.id}>\r\n                    <td>\r\n                      <div style={{ fontWeight: '500', color: '#1e293b' }}>\r\n                        {event.title}\r\n                      </div>\r\n                      {event.one_liner && (\r\n                        <div className=\"one-liner-text\">\r\n                          {event.one_liner}\r\n                        </div>\r\n                      )}\r\n                      {event.description && (\r\n                        <div style={{ fontSize: '0.75rem', color: '#64748b', marginTop: '0.25rem' }}>\r\n                          {event.description.length > 50 \r\n                            ? `${event.description.substring(0, 50)}...`\r\n                            : event.description\r\n                          }\r\n                        </div>\r\n                      )}\r\n                    </td>\r\n                    <td>\r\n                      {event.country && (\r\n                        <span className=\"country-badge\">{event.country}</span>\r\n                      )}\r\n                    </td>\r\n                    <td>{event.location || '-'}</td>\r\n                    <td>\r\n                      {event.is_paid ? (\r\n                        <span className=\"price-badge\">\r\n                          {event.currency} {parseFloat(event.price).toFixed(2)}\r\n                        </span>\r\n                      ) : (\r\n                        <span className=\"free-badge\">Free</span>\r\n                      )}\r\n                    </td>\r\n                    <td>\r\n                      <button\r\n                        onClick={() => handleViewInterests(event)}\r\n                        className=\"applicants-btn\"\r\n                        title=\"View interested applicants\"\r\n                      >\r\n                         \r\n                        <span className=\"applicants-count\">\r\n                          {eventInterests[event.id]?.length || 0}\r\n                        </span>\r\n                      </button>\r\n                    </td>\r\n                    <td className=\"date-text\">\r\n                      {new Date(event.start_date).toLocaleString()}\r\n                    </td>\r\n                    <td className=\"date-text\">\r\n                      {event.end_date ? new Date(event.end_date).toLocaleString() : '-'}\r\n                    </td>\r\n                    <td>\r\n                      {event.image_url ? (\r\n                        <img\r\n                          src={`${STATIC_URL}${event.image_url}`}\r\n                          alt=\"event\"\r\n                          className=\"event-image\"\r\n                        />\r\n                      ) : (\r\n                        <div style={{ \r\n                          width: '60px', \r\n                          height: '60px', \r\n                          backgroundColor: '#f3f4f6', \r\n                          borderRadius: '8px',\r\n                          display: 'flex',\r\n                          alignItems: 'center',\r\n                          justifyContent: 'center',\r\n                          color: '#9ca3af',\r\n                          fontSize: '0.75rem'\r\n                        }}>\r\n                          No image\r\n                        </div>\r\n                      )}\r\n                    </td>\r\n                    <td>\r\n                      <div className=\"event-actions\">\r\n                        <button\r\n                          onClick={() => handleEdit(event)}\r\n                          className=\"btn-edit\"\r\n                          disabled={isLoading}\r\n                        >\r\n                          Edit\r\n                        </button>\r\n                        <button\r\n                          onClick={() => handleDelete(event.id)}\r\n                          className=\"btn-delete\"\r\n                          disabled={isLoading}\r\n                        >\r\n                          Delete\r\n                        </button>\r\n                      </div>\r\n                    </td>\r\n                  </tr>\r\n                ))}\r\n              </tbody>\r\n            </table>\r\n          )}\r\n        </div>\r\n\r\n        {/* Interests Modal */}\r\n        {showInterestsModal && (\r\n          <div className=\"modal-overlay\" onClick={closeInterestsModal}>\r\n            <div className=\"modal-content\" onClick={(e) => e.stopPropagation()}>\r\n              <button className=\"modal-close\" onClick={closeInterestsModal}>\r\n                \r\n              </button>\r\n              \r\n              <div className=\"modal-header\">\r\n                <h2 className=\"modal-title\">Event Applicants</h2>\r\n                <p className=\"modal-subtitle\">\r\n                  {selectedEvent?.title}  {selectedEventInterests.length} interested people\r\n                </p>\r\n              </div>\r\n\r\n              <div className=\"modal-body\">\r\n                {selectedEventInterests.length === 0 ? (\r\n                  <div className=\"no-interests\">\r\n                    <h3 className=\"no-interests-title\">No applications yet</h3>\r\n                    <p>No one has expressed interest in this event yet.</p>\r\n                  </div>\r\n                ) : (\r\n                  <>\r\n                    <div style={{ display: 'flex', gap: '1rem', marginBottom: '1.5rem' }}>\r\n                      <button \r\n                        className=\"export-btn\"\r\n                        onClick={() => {\r\n                          const csvContent = [\r\n                            'Name,Email,Phone,Message,Date Applied',\r\n                            ...selectedEventInterests.map(interest => \r\n                              `\"${interest.name}\",\"${interest.email}\",\"${interest.phone || 'N/A'}\",\"${interest.message || 'N/A'}\",\"${formatDate(interest.created_at)}\"`\r\n                            )\r\n                          ].join('\\n');\r\n                          \r\n                          const blob = new Blob([csvContent], { type: 'text/csv;charset=utf-8;' });\r\n                          const link = document.createElement('a');\r\n                          const url = URL.createObjectURL(blob);\r\n                          link.setAttribute('href', url);\r\n                          link.setAttribute('download', `${selectedEvent?.title.replace(/[^a-z0-9]/gi, '_').toLowerCase()}_applicants.csv`);\r\n                          link.style.visibility = 'hidden';\r\n                          document.body.appendChild(link);\r\n                          link.click();\r\n                          document.body.removeChild(link);\r\n                        }}\r\n                      >\r\n                         Export to CSV\r\n                      </button>\r\n\r\n                      <button \r\n                        className=\"email-all-btn\"\r\n                        onClick={openEmailAllModal}\r\n                      >\r\n                         Email All Applicants\r\n                      </button>\r\n                    </div>\r\n\r\n                    <table className=\"interests-table\">\r\n                      <thead>\r\n                        <tr>\r\n                          <th>Name</th>\r\n                          <th>Contact</th>\r\n                          <th>Message</th>\r\n                          <th>Applied</th>\r\n                          <th>Actions</th>\r\n                        </tr>\r\n                      </thead>\r\n                      <tbody>\r\n                        {selectedEventInterests.map((interest) => (\r\n                          <tr key={interest.id}>\r\n                            <td>\r\n                              <div className=\"interest-name\">{interest.name}</div>\r\n                            </td>\r\n                            <td>\r\n                              <div>\r\n                                <a \r\n                                  href={`mailto:${interest.email}`}\r\n                                  className=\"interest-email\"\r\n                                >\r\n                                  {interest.email}\r\n                                </a>\r\n                              </div>\r\n                              {interest.phone && (\r\n                                <div className=\"interest-phone\">\r\n                                   {interest.phone}\r\n                                </div>\r\n                              )}\r\n                            </td>\r\n                            <td>\r\n                              <div className=\"interest-message\">\r\n                                {interest.message || 'No message provided'}\r\n                              </div>\r\n                            </td>\r\n                            <td>\r\n                              <div className=\"interest-date\">\r\n                                {formatDate(interest.created_at)}\r\n                              </div>\r\n                            </td>\r\n                            <td>\r\n                              <button\r\n                                onClick={() => openEmailSingleModal(interest)}\r\n                                className=\"btn-email-single\"\r\n                                title=\"Email this applicant\"\r\n                              >\r\n                                \r\n                              </button>\r\n                              <button\r\n                                onClick={() => handleDeleteInterest(interest.id)}\r\n                                className=\"btn-delete-interest\"\r\n                                title=\"Delete this interest\"\r\n                              >\r\n                                \r\n                              </button>\r\n                            </td>\r\n                          </tr>\r\n                        ))}\r\n                      </tbody>\r\n                    </table>\r\n                  </>\r\n                )}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {/* Email Modal */}\r\n        {showMessageModal && (\r\n          <div className=\"modal-overlay\" onClick={closeMessageModal}>\r\n            <div className=\"modal-content\" onClick={(e) => e.stopPropagation()}>\r\n              <button className=\"modal-close\" onClick={closeMessageModal}>\r\n                \r\n              </button>\r\n              \r\n              <div className=\"modal-header\">\r\n                <h2 className=\"modal-title\">\r\n                  {emailForm.mode === \"single\" \r\n                    ? `Email ${emailForm.recipient?.name}` \r\n                    : `Email All Applicants`\r\n                  }\r\n                </h2>\r\n                <p className=\"modal-subtitle\">\r\n                  {emailForm.mode === \"single\"\r\n                    ? `Send a personal message to ${emailForm.recipient?.email}`\r\n                    : `Send message to ${selectedEventInterests.length} applicants for \"${selectedEvent?.title}\"`\r\n                  }\r\n                </p>\r\n              </div>\r\n\r\n              <div className=\"modal-body\">\r\n                <div className=\"email-form\">\r\n                  <div className=\"form-group\">\r\n                    <label className=\"form-label\">Subject *</label>\r\n                    <input\r\n                      type=\"text\"\r\n                      className=\"form-input\"\r\n                      value={emailForm.subject}\r\n                      onChange={(e) => setEmailForm({...emailForm, subject: e.target.value})}\r\n                      placeholder=\"Enter email subject\"\r\n                      required\r\n                      disabled={isSendingEmail}\r\n                    />\r\n                  </div>\r\n\r\n                  <div className=\"form-group\">\r\n                    <label className=\"form-label\">Message *</label>\r\n                    <textarea\r\n                      className=\"form-textarea\"\r\n                      value={emailForm.message}\r\n                      onChange={(e) => setEmailForm({...emailForm, message: e.target.value})}\r\n                      placeholder=\"Enter your message here...\"\r\n                      required\r\n                      disabled={isSendingEmail}\r\n                    />\r\n                  </div>\r\n\r\n                  <div className=\"email-actions\">\r\n                    <button \r\n                      className=\"btn btn-send\"\r\n                      onClick={handleSendEmail}\r\n                      disabled={isSendingEmail}\r\n                    >\r\n                      {isSendingEmail && <div className=\"loading-spinner\"></div>}\r\n                      {isSendingEmail \r\n                        ? \"Sending...\" \r\n                        : emailForm.mode === \"single\" \r\n                          ? \"Send Email\" \r\n                          : `Send to ${selectedEventInterests.length} Recipients`\r\n                      }\r\n                    </button>\r\n                    <button \r\n                      className=\"btn btn-cancel\"\r\n                      onClick={closeMessageModal}\r\n                      disabled={isSendingEmail}\r\n                    >\r\n                      Cancel\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default AdminManageEvents;","import React, { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport { API_URL } from \"../../config\";\r\n\r\nconst AdminManageJobs = () => {\r\n  const [jobs, setJobs] = useState([]);\r\n  const [jobApplications, setJobApplications] = useState({});\r\n  const [selectedJobApplications, setSelectedJobApplications] = useState([]);\r\n  const [showApplicationsModal, setShowApplicationsModal] = useState(false);\r\n  const [SelectedJob, setSelectedJob] = useState(null);\r\n  const [countries, setCountries] = useState([]);\r\n\r\n  const [selectedJobTitle, setSelectedJobTitle] = useState(\"\");\r\n  const [showEmailModal, setShowEmailModal] = useState(false);\r\n  const [selectedApplicant, setSelectedApplicant] = useState(null); // null means \"all applicants\"\r\n  const [emailForm, setEmailForm] = useState({\r\n    subject: \"\",\r\n    message: \"\"\r\n  });\r\n  const [isEmailSending, setIsEmailSending] = useState(false);\r\n\r\n  // New states for form visibility and notifications\r\n  const [showForm, setShowForm] = useState(false);\r\n  const [notifications, setNotifications] = useState([]);\r\n\r\n  const [form, setForm] = useState({\r\n    title: \"\",\r\n    level: \"\",\r\n    location: \"\",\r\n    description: \"\",\r\n    requirements: \"\",\r\n    salary: \"\",\r\n    lastDate: \"\",\r\n    createdBy: \"\",\r\n  });\r\n  const [editingId, setEditingId] = useState(null);\r\n\r\n  // Job levels\r\n  const jobLevels = [\r\n    \"Entry Level\",\r\n    \"Junior\",\r\n    \"Mid Level\", \r\n    \"Senior\",\r\n    \"Lead\",\r\n    \"Manager\",\r\n    \"Director\",\r\n    \"Executive\"\r\n  ];\r\n\r\n  // Custom notification system\r\n  const showNotification = (message, type = 'success') => {\r\n    const id = Date.now();\r\n    const notification = { id, message, type };\r\n    setNotifications(prev => [...prev, notification]);\r\n    \r\n    // Auto remove after 5 seconds\r\n    setTimeout(() => {\r\n      setNotifications(prev => prev.filter(n => n.id !== id));\r\n    }, 5000);\r\n  };\r\n\r\n  const removeNotification = (id) => {\r\n    setNotifications(prev => prev.filter(n => n.id !== id));\r\n  };\r\n\r\n  // Fetch jobs\r\n  const fetchJobs = async () => {\r\n    try {\r\n      const { data } = await axios.get(`${API_URL}/jobs`);\r\n      setJobs(data);\r\n    } catch (error) {\r\n      console.error(\"Error fetching jobs:\", error);\r\n      showNotification(\"Error fetching jobs\", \"error\");\r\n    }\r\n  };\r\n\r\n // Fetch job applications for all jobs\r\nconst fetchJobApplications = async () => {\r\n  try {\r\n    const { data } = await axios.get(`${API_URL}/job-applications`);\r\n    // Group applications by jobId (not job_id)\r\n    const groupedApplications = data.reduce((acc, application) => {\r\n      if (!acc[application.jobId]) {  // Changed from job_id to jobId\r\n        acc[application.jobId] = [];\r\n      }\r\n      acc[application.jobId].push(application);\r\n      return acc;\r\n    }, {});\r\n    setJobApplications(groupedApplications);\r\n  } catch (error) {\r\n    console.error(\"Error fetching job applications:\", error);\r\n    showNotification(\"Error fetching job applications\", \"error\");\r\n  }\r\n};\r\n\r\n  useEffect(() => {\r\n    fetchJobs();\r\n    fetchJobApplications();\r\n  }, []);\r\n\r\n  // Handle input change\r\n  const handleChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setForm({ ...form, [name]: value });\r\n  };\r\n\r\n  // Handle email form change\r\n  const handleEmailChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setEmailForm({ ...emailForm, [name]: value });\r\n  };\r\n\r\n  // Submit form\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    \r\n    try {\r\n      const jobData = {\r\n        ...form,\r\n        lastDate: form.lastDate ? new Date(form.lastDate).toISOString() : null,\r\n      };\r\n\r\n      if (editingId) {\r\n        await axios.put(`${API_URL}/jobs/${editingId}`, jobData);\r\n        showNotification(\"Job updated successfully!\");\r\n      } else {\r\n        await axios.post(`${API_URL}/jobs`, jobData);\r\n        showNotification(\"Job created successfully!\");\r\n      }\r\n\r\n      setForm({\r\n        title: \"\",\r\n        level: \"\",\r\n        location: \"\",\r\n        description: \"\",\r\n        requirements: \"\",\r\n        salary: \"\",\r\n        lastDate: \"\",\r\n        createdBy: \"\",\r\n      });\r\n      setEditingId(null);\r\n      setShowForm(false); // Hide form after successful submission\r\n      fetchJobs();\r\n      fetchJobApplications();\r\n    } catch (error) {\r\n      console.error(\"Error submitting form:\", error);\r\n      showNotification(\"Error saving job. Please try again.\", \"error\");\r\n    }\r\n  };\r\n\r\n  // Edit job\r\n  const handleEdit = (job) => {\r\n    setForm({\r\n      title: job.title,\r\n      level: job.level,\r\n      location: job.location,\r\n      description: job.description,\r\n      requirements: job.requirements,\r\n      salary: job.salary || \"\",\r\n      lastDate: job.lastDate ? job.lastDate.slice(0, 16) : \"\",\r\n      createdBy: job.createdBy,\r\n    });\r\n    setEditingId(job.id);\r\n    setShowForm(true); // Show form when editing\r\n  };\r\n\r\n  // Delete job\r\n  const handleDelete = async (id) => {\r\n    if (window.confirm(\"Are you sure you want to delete this job?\")) {\r\n      try {\r\n        await axios.delete(`${API_URL}/jobs/${id}`);\r\n        showNotification(\"Job deleted successfully!\");\r\n        fetchJobs();\r\n        fetchJobApplications();\r\n      } catch (error) {\r\n        console.error(\"Error deleting job:\", error);\r\n        showNotification(\"Error deleting job. Please try again.\", \"error\");\r\n      }\r\n    }\r\n  };\r\n\r\n // Handle viewing job applications\r\nconst handleViewApplications = (job) => {\r\n  const applications = jobApplications[job.id] || []; // This should work if job.id matches jobId\r\n  setSelectedJobApplications(applications);\r\n  setSelectedJobTitle(job.title);\r\n  setSelectedJob(job);\r\n  setShowApplicationsModal(true);\r\n};\r\n\r\n  // Handle deleting an application\r\n  const handleDeleteApplication = async (applicationId) => {\r\n    if (window.confirm(\"Are you sure you want to delete this application?\")) {\r\n      try {\r\n        await axios.delete(`${API_URL}/job-applications/${applicationId}`);\r\n        showNotification(\"Application deleted successfully!\");\r\n        fetchJobApplications();\r\n        const updatedApplications = selectedJobApplications.filter(app => app.id !== applicationId);\r\n        setSelectedJobApplications(updatedApplications);\r\n      } catch (error) {\r\n        console.error(\"Error deleting application:\", error);\r\n        showNotification(\"Error deleting application. Please try again.\", \"error\");\r\n      }\r\n    }\r\n  };\r\n\r\n  // Handle opening email modal\r\n  const handleOpenEmailModal = (applicant = null) => {\r\n    setSelectedApplicant(applicant);\r\n    \r\n    // Set default subject based on whether it's for a specific applicant or all\r\n    const defaultSubject = applicant \r\n      ? `Response to your ${selectedJobTitle} application`\r\n      : `Update regarding your ${selectedJobTitle} application`;\r\n      \r\n    setEmailForm({\r\n      subject: defaultSubject,\r\n      message: \"\"\r\n    });\r\n    setShowEmailModal(true);\r\n  };\r\n\r\n  // Handle sending email\r\n  const handleSendEmail = async (e) => {\r\n    e.preventDefault();\r\n    setIsEmailSending(true);\r\n    \r\n    try {\r\n      if (selectedApplicant) {\r\n        // Send to specific applicant\r\n        await axios.post(`${API_URL}/job-applications/reply`, {\r\n          applicantEmail: selectedApplicant.email,\r\n          applicantName: selectedApplicant.name,\r\n          jobTitle: selectedJobTitle,\r\n          message: emailForm.message,\r\n          subject: emailForm.subject\r\n        });\r\n        showNotification(`Email sent successfully to ${selectedApplicant.name}!`);\r\n      } else {\r\n        // Send to all applicants for this job\r\n        const emailPromises = selectedJobApplications.map(applicant =>\r\n          axios.post(`${API_URL}/job-applications/reply`, {\r\n            applicantEmail: applicant.email,\r\n            applicantName: applicant.name,\r\n            jobTitle: selectedJobTitle,\r\n            message: emailForm.message,\r\n            subject: emailForm.subject\r\n          })\r\n        );\r\n        \r\n        await Promise.all(emailPromises);\r\n        showNotification(`Email sent successfully to all ${selectedJobApplications.length} applicants!`);\r\n      }\r\n\r\n      setShowEmailModal(false);\r\n      setEmailForm({ subject: \"\", message: \"\" });\r\n      setSelectedApplicant(null);\r\n    } catch (error) {\r\n      console.error(\"Error sending email:\", error);\r\n      showNotification(\"Failed to send email. Please try again.\", \"error\");\r\n    } finally {\r\n      setIsEmailSending(false);\r\n    }\r\n  };\r\n\r\n  const closeApplicationsModal = () => {\r\n    setShowApplicationsModal(false);\r\n    setSelectedJobApplications([]);\r\n    setSelectedJobTitle(\"\");\r\n    setSelectedJob(null);\r\n  };\r\n\r\n  const closeEmailModal = () => {\r\n    setShowEmailModal(false);\r\n    setEmailForm({ subject: \"\", message: \"\" });\r\n    setSelectedApplicant(null);\r\n  };\r\n\r\n  const formatDate = (dateString) => {\r\n    return new Date(dateString).toLocaleDateString('en-US', {\r\n      year: 'numeric',\r\n      month: 'short',\r\n      day: 'numeric',\r\n      hour: '2-digit',\r\n      minute: '2-digit'\r\n    });\r\n  };\r\n\r\n  const isDeadlinePassed = (deadline) => {\r\n    return deadline && new Date(deadline) < new Date();\r\n  };\r\n\r\n  const handleCancelEdit = () => {\r\n    setForm({\r\n      title: \"\",\r\n      level: \"\",\r\n      location: \"\",\r\n      description: \"\",\r\n      requirements: \"\",\r\n      salary: \"\",\r\n      lastDate: \"\",\r\n      createdBy: \"\",\r\n    });\r\n    setEditingId(null);\r\n    setShowForm(false);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <style>{`\r\n        .admin-jobs-container {\r\n          max-width: 1200px;\r\n          margin: 0 auto;\r\n          padding: 2rem;\r\n          font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;\r\n          background-color: #f8fafc;\r\n          min-height: 100vh;\r\n          position: relative;\r\n        }\r\n\r\n        .admin-jobs-header {\r\n          margin-bottom: 2rem;\r\n        }\r\n\r\n        .admin-jobs-title {\r\n          font-size: 2rem;\r\n          font-weight: 700;\r\n          color: #1e293b;\r\n          margin: 0 0 0.5rem 0;\r\n        }\r\n\r\n        .admin-jobs-subtitle {\r\n          color: #64748b;\r\n          font-size: 1rem;\r\n        }\r\n\r\n        .form-toggle-section {\r\n          margin-bottom: 2rem;\r\n        }\r\n\r\n        .form-toggle-btn {\r\n          background: linear-gradient(135deg, #3b82f6, #1d4ed8);\r\n          color: white;\r\n          border: none;\r\n          padding: 1rem 2rem;\r\n          border-radius: 12px;\r\n          font-size: 1rem;\r\n          font-weight: 600;\r\n          cursor: pointer;\r\n          transition: all 0.3s ease;\r\n          display: flex;\r\n          align-items: center;\r\n          gap: 0.75rem;\r\n          box-shadow: 0 4px 15px rgba(59, 130, 246, 0.3);\r\n        }\r\n\r\n        .form-toggle-btn:hover {\r\n          transform: translateY(-2px);\r\n          box-shadow: 0 8px 25px rgba(59, 130, 246, 0.4);\r\n        }\r\n\r\n        .form-toggle-btn:active {\r\n          transform: translateY(0);\r\n        }\r\n\r\n        .form-toggle-icon {\r\n          transition: transform 0.3s ease;\r\n          font-size: 1.2rem;\r\n        }\r\n\r\n        .form-toggle-btn.active .form-toggle-icon {\r\n          transform: rotate(180deg);\r\n        }\r\n\r\n        .admin-jobs-form {\r\n          background: white;\r\n          border-radius: 12px;\r\n          padding: 2rem;\r\n          box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1);\r\n          margin-bottom: 2rem;\r\n          border: 1px solid #e2e8f0;\r\n          overflow: hidden;\r\n          transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);\r\n          transform-origin: top;\r\n        }\r\n\r\n        .form-collapsible {\r\n          opacity: 0;\r\n          max-height: 0;\r\n          transform: scaleY(0);\r\n          transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);\r\n        }\r\n\r\n        .form-collapsible.show {\r\n          opacity: 1;\r\n          max-height: 2000px;\r\n          transform: scaleY(1);\r\n        }\r\n\r\n        .form-title {\r\n          font-size: 1.25rem;\r\n          font-weight: 600;\r\n          color: #334155;\r\n          margin: 0 0 1.5rem 0;\r\n        }\r\n\r\n        .form-grid {\r\n          display: grid;\r\n          grid-template-columns: 1fr 1fr;\r\n          gap: 1rem;\r\n          margin-bottom: 1rem;\r\n        }\r\n\r\n        .form-group-full {\r\n          grid-column: 1 / -1;\r\n        }\r\n\r\n        .form-group {\r\n          display: flex;\r\n          flex-direction: column;\r\n        }\r\n\r\n        .form-label {\r\n          font-weight: 500;\r\n          color: #374151;\r\n          margin-bottom: 0.5rem;\r\n          font-size: 0.875rem;\r\n        }\r\n\r\n        .form-input,\r\n        .form-select,\r\n        .form-textarea {\r\n          padding: 0.75rem;\r\n          border: 1px solid #d1d5db;\r\n          border-radius: 8px;\r\n          font-size: 1rem;\r\n          transition: all 0.2s ease;\r\n          outline: none;\r\n        }\r\n\r\n        .form-input:focus,\r\n        .form-select:focus,\r\n        .form-textarea:focus {\r\n          border-color: #3b82f6;\r\n          box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);\r\n        }\r\n\r\n        .form-textarea {\r\n          min-height: 120px;\r\n          resize: vertical;\r\n          font-family: inherit;\r\n        }\r\n\r\n        .form-actions {\r\n          display: flex;\r\n          gap: 1rem;\r\n          margin-top: 1.5rem;\r\n        }\r\n\r\n        .btn {\r\n          padding: 0.75rem 1.5rem;\r\n          border: none;\r\n          border-radius: 8px;\r\n          font-weight: 500;\r\n          cursor: pointer;\r\n          transition: all 0.2s ease;\r\n          font-size: 0.875rem;\r\n          display: flex;\r\n          align-items: center;\r\n          gap: 0.5rem;\r\n        }\r\n\r\n        .btn:disabled {\r\n          opacity: 0.5;\r\n          cursor: not-allowed;\r\n        }\r\n\r\n        .btn-primary {\r\n          background-color: #3b82f6;\r\n          color: white;\r\n        }\r\n\r\n        .btn-primary:hover:not(:disabled) {\r\n          background-color: #2563eb;\r\n          transform: translateY(-1px);\r\n        }\r\n\r\n        .btn-secondary {\r\n          background-color: #6b7280;\r\n          color: white;\r\n        }\r\n\r\n        .btn-secondary:hover {\r\n          background-color: #4b5563;\r\n        }\r\n\r\n        .btn-success {\r\n          background-color: #10b981;\r\n          color: white;\r\n        }\r\n\r\n        .btn-success:hover:not(:disabled) {\r\n          background-color: #059669;\r\n          transform: translateY(-1px);\r\n        }\r\n\r\n        .jobs-table-container {\r\n          background: white;\r\n          border-radius: 12px;\r\n          overflow: hidden;\r\n          box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1);\r\n          border: 1px solid #e2e8f0;\r\n        }\r\n\r\n        .table-header {\r\n          padding: 1.5rem 2rem;\r\n          border-bottom: 1px solid #e5e7eb;\r\n        }\r\n\r\n        .table-title {\r\n          font-size: 1.25rem;\r\n          font-weight: 600;\r\n          color: #334155;\r\n          margin: 0;\r\n        }\r\n\r\n        .jobs-table {\r\n          width: 100%;\r\n          border-collapse: collapse;\r\n          font-size: 0.875rem;\r\n        }\r\n\r\n        .jobs-table th {\r\n          background-color: #f8fafc;\r\n          color: #374151;\r\n          font-weight: 600;\r\n          padding: 1rem;\r\n          text-align: left;\r\n          border-bottom: 1px solid #e5e7eb;\r\n          font-size: 0.75rem;\r\n          text-transform: uppercase;\r\n          letter-spacing: 0.05em;\r\n        }\r\n\r\n        .jobs-table td {\r\n          padding: 1rem;\r\n          border-bottom: 1px solid #f1f5f9;\r\n          vertical-align: middle;\r\n        }\r\n\r\n        .jobs-table tr:hover {\r\n          background-color: #f8fafc;\r\n        }\r\n\r\n        .job-actions {\r\n          display: flex;\r\n          gap: 0.5rem;\r\n        }\r\n\r\n        .btn-edit {\r\n          background-color: #f59e0b;\r\n          color: white;\r\n          padding: 0.5rem 1rem;\r\n          border: none;\r\n          border-radius: 6px;\r\n          font-size: 0.75rem;\r\n          cursor: pointer;\r\n          transition: all 0.2s ease;\r\n          font-weight: 500;\r\n        }\r\n\r\n        .btn-edit:hover {\r\n          background-color: #d97706;\r\n          transform: translateY(-1px);\r\n        }\r\n\r\n        .btn-delete {\r\n          background-color: #dc2626;\r\n          color: white;\r\n          padding: 0.5rem 1rem;\r\n          border: none;\r\n          border-radius: 6px;\r\n          font-size: 0.75rem;\r\n          cursor: pointer;\r\n          transition: all 0.2s ease;\r\n          font-weight: 500;\r\n        }\r\n\r\n        .btn-delete:hover {\r\n          background-color: #b91c1c;\r\n          transform: translateY(-1px);\r\n        }\r\n\r\n        .date-text {\r\n          color: #6b7280;\r\n          font-size: 0.875rem;\r\n        }\r\n\r\n        .level-badge {\r\n          display: inline-block;\r\n          padding: 0.25rem 0.75rem;\r\n          background-color: #e0f2fe;\r\n          color: #0369a1;\r\n          border-radius: 20px;\r\n          font-size: 0.75rem;\r\n          font-weight: 500;\r\n        }\r\n\r\n        .salary-text {\r\n          font-weight: 600;\r\n          color: #059669;\r\n        }\r\n\r\n        .deadline-badge {\r\n          display: inline-block;\r\n          padding: 0.25rem 0.75rem;\r\n          border-radius: 20px;\r\n          font-size: 0.75rem;\r\n          font-weight: 500;\r\n        }\r\n\r\n        .deadline-active {\r\n          background-color: #dcfce7;\r\n          color: #166534;\r\n        }\r\n\r\n        .deadline-expired {\r\n          background-color: #fef2f2;\r\n          color: #dc2626;\r\n        }\r\n\r\n        .applications-btn {\r\n          background-color: #8b5cf6;\r\n          color: white;\r\n          padding: 0.5rem 1rem;\r\n          border: none;\r\n          border-radius: 6px;\r\n          font-size: 0.75rem;\r\n          cursor: pointer;\r\n          transition: all 0.2s ease;\r\n          font-weight: 500;\r\n          display: flex;\r\n          align-items: center;\r\n          gap: 0.5rem;\r\n          position: relative;\r\n        }\r\n\r\n        .applications-btn:hover {\r\n          background-color: #7c3aed;\r\n          transform: translateY(-1px);\r\n        }\r\n\r\n        .applications-count {\r\n          background-color: rgba(255, 255, 255, 0.2);\r\n          border-radius: 10px;\r\n          padding: 0.125rem 0.375rem;\r\n          font-size: 0.625rem;\r\n          font-weight: 600;\r\n        }\r\n\r\n        .modal-overlay {\r\n          position: fixed;\r\n          top: 0;\r\n          left: 0;\r\n          right: 0;\r\n          bottom: 0;\r\n          background-color: rgba(0, 0, 0, 0.75);\r\n          display: flex;\r\n          align-items: center;\r\n          justify-content: center;\r\n          z-index: 1000;\r\n          padding: 1rem;\r\n        }\r\n\r\n        .modal-content {\r\n          background: white;\r\n          border-radius: 20px;\r\n          width: 100%;\r\n          max-width: 1000px;\r\n          max-height: 90vh;\r\n          overflow-y: auto;\r\n          position: relative;\r\n          animation: modalSlideIn 0.3s ease;\r\n        }\r\n\r\n        .modal-content.email-modal {\r\n          max-width: 600px;\r\n        }\r\n\r\n        @keyframes modalSlideIn {\r\n          from {\r\n            opacity: 0;\r\n            transform: scale(0.9) translateY(-50px);\r\n          }\r\n          to {\r\n            opacity: 1;\r\n            transform: scale(1) translateY(0);\r\n          }\r\n        }\r\n\r\n        .modal-header {\r\n          padding: 2rem 2rem 1rem 2rem;\r\n          border-bottom: 1px solid #e5e7eb;\r\n        }\r\n\r\n        .modal-title {\r\n          font-size: 1.5rem;\r\n          font-weight: 700;\r\n          color: #1e293b;\r\n          margin: 0 0 0.5rem 0;\r\n        }\r\n\r\n        .modal-subtitle {\r\n          color: #64748b;\r\n          margin: 0;\r\n        }\r\n\r\n        .modal-close {\r\n          position: absolute;\r\n          top: 1rem;\r\n          right: 1rem;\r\n          background: none;\r\n          border: none;\r\n          font-size: 1.5rem;\r\n          cursor: pointer;\r\n          color: #64748b;\r\n          width: 2rem;\r\n          height: 2rem;\r\n          display: flex;\r\n          align-items: center;\r\n          justify-content: center;\r\n          border-radius: 50%;\r\n          transition: all 0.2s ease;\r\n        }\r\n\r\n        .modal-close:hover {\r\n          background-color: #f1f5f9;\r\n          color: #374151;\r\n        }\r\n\r\n        .modal-body {\r\n          padding: 2rem;\r\n        }\r\n\r\n        .applications-table {\r\n          width: 100%;\r\n          border-collapse: collapse;\r\n          font-size: 0.875rem;\r\n        }\r\n\r\n        .applications-table th {\r\n          background-color: #f8fafc;\r\n          color: #374151;\r\n          font-weight: 600;\r\n          padding: 1rem;\r\n          text-align: left;\r\n          border-bottom: 1px solid #e5e7eb;\r\n          font-size: 0.75rem;\r\n          text-transform: uppercase;\r\n          letter-spacing: 0.05em;\r\n        }\r\n\r\n        .applications-table td {\r\n          padding: 1rem;\r\n          border-bottom: 1px solid #f1f5f9;\r\n          vertical-align: top;\r\n        }\r\n\r\n        .applications-table tr:hover {\r\n          background-color: #f8fafc;\r\n        }\r\n\r\n        .applicant-name {\r\n          font-weight: 600;\r\n          color: #1e293b;\r\n        }\r\n\r\n        .applicant-email {\r\n          color: #3b82f6;\r\n          text-decoration: none;\r\n        }\r\n\r\n        .applicant-email:hover {\r\n          text-decoration: underline;\r\n        }\r\n\r\n        .applicant-phone {\r\n          color: #6b7280;\r\n          font-size: 0.875rem;\r\n        }\r\n\r\n        .applicant-message {\r\n          color: #374151;\r\n          font-style: italic;\r\n          max-width: 200px;\r\n          word-wrap: break-word;\r\n        }\r\n\r\n        .application-date {\r\n          color: #6b7280;\r\n          font-size: 0.75rem;\r\n        }\r\n\r\n        .btn-delete-application {\r\n          background-color: #dc2626;\r\n          color: white;\r\n          padding: 0.375rem 0.75rem;\r\n          border: none;\r\n          border-radius: 4px;\r\n          font-size: 0.75rem;\r\n          cursor: pointer;\r\n          transition: all 0.2s ease;\r\n          font-weight: 500;\r\n        }\r\n\r\n        .btn-delete-application:hover {\r\n          background-color: #b91c1c;\r\n          transform: translateY(-1px);\r\n        }\r\n\r\n        .btn-email {\r\n          background-color: #10b981;\r\n          color: white;\r\n          padding: 0.375rem 0.75rem;\r\n          border: none;\r\n          border-radius: 4px;\r\n          font-size: 0.75rem;\r\n          cursor: pointer;\r\n          transition: all 0.2s ease;\r\n          font-weight: 500;\r\n          margin-right: 0.5rem;\r\n        }\r\n\r\n        .btn-email:hover {\r\n          background-color: #059669;\r\n          transform: translateY(-1px);\r\n        }\r\n\r\n        .email-actions {\r\n          display: flex;\r\n          gap: 1rem;\r\n          margin-bottom: 1.5rem;\r\n          flex-wrap: wrap;\r\n        }\r\n\r\n        .no-applications {\r\n          text-align: center;\r\n          padding: 3rem 2rem;\r\n          color: #6b7280;\r\n        }\r\n\r\n        .no-applications-title {\r\n          font-size: 1.125rem;\r\n          font-weight: 600;\r\n          margin: 0 0 0.5rem 0;\r\n        }\r\n\r\n        .export-btn {\r\n          background-color: #059669;\r\n          color: white;\r\n          padding: 0.75rem 1.5rem;\r\n          border: none;\r\n          border-radius: 8px;\r\n          font-size: 0.875rem;\r\n          cursor: pointer;\r\n          transition: all 0.2s ease;\r\n          font-weight: 500;\r\n          margin-bottom: 1.5rem;\r\n        }\r\n\r\n        .export-btn:hover {\r\n          background-color: #047857;\r\n          transform: translateY(-1px);\r\n        }\r\n\r\n        .no-jobs {\r\n          text-align: center;\r\n          padding: 3rem;\r\n          color: #6b7280;\r\n        }\r\n\r\n        .resume-link {\r\n          color: #3b82f6;\r\n          text-decoration: none;\r\n          font-weight: 500;\r\n          display: inline-flex;\r\n          align-items: center;\r\n          gap: 0.25rem;\r\n        }\r\n\r\n        .resume-link:hover {\r\n          text-decoration: underline;\r\n        }\r\n\r\n        .email-form {\r\n          display: flex;\r\n          flex-direction: column;\r\n          gap: 1rem;\r\n        }\r\n\r\n        .loading-spinner {\r\n          display: inline-block;\r\n          width: 1rem;\r\n          height: 1rem;\r\n          border: 2px solid rgba(255, 255, 255, 0.3);\r\n          border-radius: 50%;\r\n          border-top: 2px solid white;\r\n          animation: spin 1s linear infinite;\r\n        }\r\n\r\n        @keyframes spin {\r\n          0% { transform: rotate(0deg); }\r\n          100% { transform: rotate(360deg); }\r\n        }\r\n\r\n        .application-actions {\r\n          display: flex;\r\n          gap: 0.5rem;\r\n          align-items: center;\r\n        }\r\n\r\n        /* Notification System Styles */\r\n        .notifications-container {\r\n          position: fixed;\r\n          top: 2rem;\r\n          right: 2rem;\r\n          z-index: 2000;\r\n          max-width: 400px;\r\n          pointer-events: none;\r\n        }\r\n\r\n        .notification {\r\n          background: white;\r\n          border-radius: 12px;\r\n          padding: 1rem 1.5rem;\r\n          margin-bottom: 0.75rem;\r\n          box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);\r\n          border-left: 4px solid;\r\n          display: flex;\r\n          align-items: center;\r\n          justify-content: space-between;\r\n          pointer-events: all;\r\n          animation: slideInRight 0.3s ease;\r\n          transition: all 0.3s ease;\r\n        }\r\n\r\n        .notification.success {\r\n          border-left-color: #10b981;\r\n        }\r\n\r\n        .notification.error {\r\n          border-left-color: #dc2626;\r\n        }\r\n\r\n        .notification-content {\r\n          display: flex;\r\n          align-items: center;\r\n          gap: 0.75rem;\r\n          flex: 1;\r\n        }\r\n\r\n        .notification-icon {\r\n          font-size: 1.25rem;\r\n          flex-shrink: 0;\r\n        }\r\n\r\n        .notification.success .notification-icon {\r\n          color: #10b981;\r\n        }\r\n\r\n        .notification.error .notification-icon {\r\n          color: #dc2626;\r\n        }\r\n\r\n        .notification-message {\r\n          color: #374151;\r\n          font-weight: 500;\r\n          font-size: 0.875rem;\r\n          line-height: 1.4;\r\n        }\r\n\r\n        .notification-close {\r\n          background: none;\r\n          border: none;\r\n          color: #6b7280;\r\n          cursor: pointer;\r\n          padding: 0.25rem;\r\n          border-radius: 4px;\r\n          transition: all 0.2s ease;\r\n          margin-left: 1rem;\r\n          flex-shrink: 0;\r\n        }\r\n\r\n        .notification-close:hover {\r\n          background-color: #f3f4f6;\r\n          color: #374151;\r\n        }\r\n\r\n        @keyframes slideInRight {\r\n          from {\r\n            opacity: 0;\r\n            transform: translateX(100%);\r\n          }\r\n          to {\r\n            opacity: 1;\r\n            transform: translateX(0);\r\n          }\r\n        }\r\n\r\n        @media (max-width: 768px) {\r\n          .admin-jobs-container {\r\n            padding: 1rem;\r\n          }\r\n\r\n          .form-grid {\r\n            grid-template-columns: 1fr;\r\n          }\r\n\r\n          .jobs-table-container {\r\n            overflow-x: auto;\r\n          }\r\n\r\n          .jobs-table {\r\n            min-width: 1000px;\r\n          }\r\n\r\n          .job-actions {\r\n            flex-direction: column;\r\n          }\r\n\r\n          .modal-content {\r\n            margin: 1rem;\r\n            max-width: calc(100vw - 2rem);\r\n          }\r\n\r\n          .modal-header,\r\n          .modal-body {\r\n            padding: 1.5rem;\r\n          }\r\n\r\n          .email-actions {\r\n            flex-direction: column;\r\n          }\r\n\r\n          .application-actions {\r\n            flex-direction: column;\r\n          }\r\n\r\n          .notifications-container {\r\n            top: 1rem;\r\n            right: 1rem;\r\n            left: 1rem;\r\n            max-width: none;\r\n          }\r\n\r\n          .notification {\r\n            margin-bottom: 0.5rem;\r\n          }\r\n        }\r\n      `}</style>\r\n\r\n      {/* Notifications */}\r\n      <div className=\"notifications-container\">\r\n        {notifications.map((notification) => (\r\n          <div key={notification.id} className={`notification ${notification.type}`}>\r\n            <div className=\"notification-content\">\r\n              <div className=\"notification-icon\">\r\n                {notification.type === 'success' ? '' : ''}\r\n              </div>\r\n              <div className=\"notification-message\">{notification.message}</div>\r\n            </div>\r\n            <button\r\n              className=\"notification-close\"\r\n              onClick={() => removeNotification(notification.id)}\r\n            >\r\n              \r\n            </button>\r\n          </div>\r\n        ))}\r\n      </div>\r\n\r\n      <div className=\"admin-jobs-container\">\r\n        <header className=\"admin-jobs-header\">\r\n          <h1 className=\"admin-jobs-title\">Job Management</h1>\r\n          <p className=\"admin-jobs-subtitle\">Create, edit, and manage job postings</p>\r\n        </header>\r\n\r\n        {/* Form Toggle Section */}\r\n        <div className=\"form-toggle-section\">\r\n          <button \r\n            className={`form-toggle-btn ${showForm ? 'active' : ''}`}\r\n            onClick={() => setShowForm(!showForm)}\r\n          >\r\n            <span className=\"form-toggle-icon\"></span>\r\n            {editingId ? \"Edit Job\" : \"Create New Job\"}\r\n          </button>\r\n        </div>\r\n\r\n        {/* Collapsible Form */}\r\n        <div className={`form-collapsible ${showForm ? 'show' : ''}`}>\r\n          <div className=\"admin-jobs-form\">\r\n            <h2 className=\"form-title\">\r\n              {editingId ? \"Edit Job\" : \"Create New Job\"}\r\n            </h2>\r\n            \r\n            <form onSubmit={handleSubmit}>\r\n              <div className=\"form-grid\">\r\n                <div className=\"form-group\">\r\n                  <label className=\"form-label\">Job Title *</label>\r\n                  <input\r\n                    type=\"text\"\r\n                    name=\"title\"\r\n                    placeholder=\"Enter job title\"\r\n                    value={form.title}\r\n                    onChange={handleChange}\r\n                    required\r\n                    className=\"form-input\"\r\n                  />\r\n                </div>\r\n\r\n                <div className=\"form-group\">\r\n                  <label className=\"form-label\">Level *</label>\r\n                  <select\r\n                    name=\"level\"\r\n                    value={form.level}\r\n                    onChange={handleChange}\r\n                    required\r\n                    className=\"form-select\"\r\n                  >\r\n                    <option value=\"\">Select Level</option>\r\n                    {jobLevels.map((level) => (\r\n                      <option key={level} value={level}>\r\n                        {level}\r\n                      </option>\r\n                    ))}\r\n                  </select>\r\n                </div>\r\n\r\n                <div className=\"form-group\">\r\n                  <label className=\"form-label\">Location *</label>\r\n                  <input\r\n                    type=\"text\"\r\n                    name=\"location\"\r\n                    placeholder=\"Enter job location\"\r\n                    value={form.location}\r\n                    onChange={handleChange}\r\n                    required\r\n                    className=\"form-input\"\r\n                  />\r\n                </div>\r\n\r\n                <div className=\"form-group\">\r\n                  <label className=\"form-label\">Salary</label>\r\n                  <input\r\n                    type=\"text\"\r\n                    name=\"salary\"\r\n                    placeholder=\"e.g., $50,000 - $70,000\"\r\n                    value={form.salary}\r\n                    onChange={handleChange}\r\n                    className=\"form-input\"\r\n                  />\r\n                </div>\r\n\r\n                <div className=\"form-group\">\r\n                  <label className=\"form-label\">Application Deadline</label>\r\n                  <input\r\n                    type=\"datetime-local\"\r\n                    name=\"lastDate\"\r\n                    value={form.lastDate}\r\n                    onChange={handleChange}\r\n                    className=\"form-input\"\r\n                  />\r\n                </div>\r\n\r\n                <div className=\"form-group\">\r\n                  <label className=\"form-label\">Created By</label>\r\n                  <input\r\n                    type=\"text\"\r\n                    name=\"createdBy\"\r\n                    placeholder=\"HR Manager, John Doe, etc.\"\r\n                    value={form.createdBy}\r\n                    onChange={handleChange}\r\n                    className=\"form-input\"\r\n                  />\r\n                </div>\r\n\r\n                <div className=\"form-group form-group-full\">\r\n                  <label className=\"form-label\">Job Description *</label>\r\n                  <textarea\r\n                    name=\"description\"\r\n                    placeholder=\"Enter detailed job description...\"\r\n                    value={form.description}\r\n                    onChange={handleChange}\r\n                    required\r\n                    className=\"form-textarea\"\r\n                  />\r\n                </div>\r\n\r\n                <div className=\"form-group form-group-full\">\r\n                  <label className=\"form-label\">Requirements *</label>\r\n                  <textarea\r\n                    name=\"requirements\"\r\n                    placeholder=\"Enter job requirements and qualifications...\"\r\n                    value={form.requirements}\r\n                    onChange={handleChange}\r\n                    required\r\n                    className=\"form-textarea\"\r\n                  />\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"form-actions\">\r\n                <button type=\"submit\" className=\"btn btn-primary\">\r\n                  {editingId ? \"Update Job\" : \"Create Job\"}\r\n                </button>\r\n                <button \r\n                  type=\"button\" \r\n                  className=\"btn btn-secondary\"\r\n                  onClick={handleCancelEdit}\r\n                >\r\n                  {editingId ? \"Cancel Edit\" : \"Cancel\"}\r\n                </button>\r\n              </div>\r\n            </form>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Jobs Table */}\r\n        <div className=\"jobs-table-container\">\r\n          <div className=\"table-header\">\r\n            <h3 className=\"table-title\">All Jobs ({jobs.length})</h3>\r\n          </div>\r\n          \r\n          {jobs.length === 0 ? (\r\n            <div className=\"no-jobs\">\r\n              <p>No jobs found. Create your first job posting above.</p>\r\n            </div>\r\n          ) : (\r\n            <table className=\"jobs-table\">\r\n              <thead>\r\n                <tr>\r\n                  <th>Title</th>\r\n                  <th>Level</th>\r\n                  <th>Location</th>\r\n                  <th>Salary</th>\r\n                  <th>Applications</th>\r\n                  <th>Deadline</th>\r\n                  <th>Created By</th>\r\n                  <th>Actions</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                {jobs.map((job) => (\r\n                  <tr key={job.id}>\r\n                    <td>{job.title}</td>\r\n                    <td>\r\n                      <span className=\"level-badge\">{job.level}</span>\r\n                    </td>\r\n                    <td>{job.location}</td>\r\n                    <td>\r\n                      {job.salary ? (\r\n                        <span className=\"salary-text\">{job.salary}</span>\r\n                      ) : (\r\n                        <span style={{ color: '#6b7280' }}>Not specified</span>\r\n                      )}\r\n                    </td>\r\n                    <td>\r\n                      <button\r\n                        onClick={() => handleViewApplications(job)}\r\n                        className=\"applications-btn\"\r\n                        title=\"View job applications\"\r\n                      >\r\n                         \r\n                        <span className=\"applications-count\">\r\n                          {jobApplications[job.id]?.length || 0}\r\n                        </span>\r\n                      </button>\r\n                    </td>\r\n                    <td>\r\n                      {job.lastDate ? (\r\n                        <span className={`deadline-badge ${\r\n                          isDeadlinePassed(job.lastDate) ? 'deadline-expired' : 'deadline-active'\r\n                        }`}>\r\n                          {formatDate(job.lastDate)}\r\n                        </span>\r\n                      ) : (\r\n                        <span style={{ color: '#6b7280' }}>No deadline</span>\r\n                      )}\r\n                    </td>\r\n                    <td className=\"date-text\">\r\n                      {job.createdBy || 'Unknown'}\r\n                    </td>\r\n                    <td>\r\n                      <div className=\"job-actions\">\r\n                        <button\r\n                          onClick={() => handleEdit(job)}\r\n                          className=\"btn-edit\"\r\n                        >\r\n                          Edit\r\n                        </button>\r\n                        <button\r\n                          onClick={() => handleDelete(job.id)}\r\n                          className=\"btn-delete\"\r\n                        >\r\n                          Delete\r\n                        </button>\r\n                      </div>\r\n                    </td>\r\n                  </tr>\r\n                ))}\r\n              </tbody>\r\n            </table>\r\n          )}\r\n        </div>\r\n\r\n        {/* Applications Modal */}\r\n        {showApplicationsModal && (\r\n          <div className=\"modal-overlay\" onClick={closeApplicationsModal}>\r\n            <div className=\"modal-content\" onClick={(e) => e.stopPropagation()}>\r\n              <button className=\"modal-close\" onClick={closeApplicationsModal}>\r\n                \r\n              </button>\r\n              \r\n              <div className=\"modal-header\">\r\n                <h2 className=\"modal-title\">Job Applications</h2>\r\n                <p className=\"modal-subtitle\">\r\n                  {selectedJobTitle}  {selectedJobApplications.length} applications\r\n                </p>\r\n              </div>\r\n\r\n              <div className=\"modal-body\">\r\n                {selectedJobApplications.length === 0 ? (\r\n                  <div className=\"no-applications\">\r\n                    <h3 className=\"no-applications-title\">No applications yet</h3>\r\n                    <p>No one has applied for this job yet.</p>\r\n                  </div>\r\n                ) : (\r\n                  <>\r\n                    {/* Email Actions */}\r\n                    <div className=\"email-actions\">\r\n                      <button \r\n                        className=\"btn btn-success\"\r\n                        onClick={() => handleOpenEmailModal()}\r\n                      >\r\n                         Email All Applicants ({selectedJobApplications.length})\r\n                      </button>\r\n                      \r\n                      <button \r\n                        className=\"export-btn\"\r\n                        onClick={() => {\r\n                          const csvContent = [\r\n                            'Name,Email,Phone,Cover Letter,Resume,Applied Date',\r\n                            ...selectedJobApplications.map(app => \r\n                              `\"${app.name}\",\"${app.email}\",\"${app.phone || 'N/A'}\",\"${app.coverLetter || 'N/A'}\",\"${app.resumeUrl || 'N/A'}\",\"${formatDate(app.createdAt)}\"`\r\n                            )\r\n                          ].join('\\n');\r\n                          \r\n                          const blob = new Blob([csvContent], { type: 'text/csv;charset=utf-8;' });\r\n                          const link = document.createElement('a');\r\n                          const url = URL.createObjectURL(blob);\r\n                          link.setAttribute('href', url);\r\n                          link.setAttribute('download', `${selectedJobTitle.replace(/[^a-z0-9]/gi, '_').toLowerCase()}_applications.csv`);\r\n                          link.style.visibility = 'hidden';\r\n                          document.body.appendChild(link);\r\n                          link.click();\r\n                          document.body.removeChild(link);\r\n                        }}\r\n                      >\r\n                         Export to CSV\r\n                      </button>\r\n                    </div>\r\n\r\n                    <table className=\"applications-table\">\r\n                      <thead>\r\n                        <tr>\r\n                          <th>Applicant</th>\r\n                          <th>Contact</th>\r\n                          <th>Cover Letter</th>\r\n                          <th>Resume</th>\r\n                          <th>Applied</th>\r\n                          <th>Actions</th>\r\n                        </tr>\r\n                      </thead>\r\n                      <tbody>\r\n                        {selectedJobApplications.map((application) => (\r\n                          <tr key={application.id}>\r\n                            <td>\r\n                              <div className=\"applicant-name\">{application.name}</div>\r\n                            </td>\r\n                            <td>\r\n                              <div>\r\n                                <a \r\n                                  href={`mailto:${application.email}`}\r\n                                  className=\"applicant-email\"\r\n                                >\r\n                                  {application.email}\r\n                                </a>\r\n                              </div>\r\n                              {application.phone && (\r\n                                <div className=\"applicant-phone\">\r\n                                  {application.phone}\r\n                                </div>\r\n                              )}\r\n                            </td>\r\n                            <td>\r\n                              <div className=\"applicant-message\">\r\n                                {application.coverLetter || 'No cover letter provided'}\r\n                              </div>\r\n                            </td>\r\n                            <td>\r\n                              {application.cvPath ? (\r\n                                <a \r\n                                  href={application.cvPath} \r\n                                  target=\"_blank\" \r\n                                  rel=\"noopener noreferrer\"\r\n                                  className=\"resume-link\"\r\n                                >\r\n                                   View Resume\r\n                                </a>\r\n                              ) : (\r\n                                <span style={{ color: '#6b7280' }}>No resume</span>\r\n                              )}\r\n                            </td>\r\n                            <td>\r\n                              <div className=\"application-date\">\r\n                                {formatDate(application.createdAt)}\r\n                              </div>\r\n                            </td>\r\n                            <td>\r\n                              <div className=\"application-actions\">\r\n                                <button\r\n                                  onClick={() => handleOpenEmailModal(application)}\r\n                                  className=\"btn-email\"\r\n                                  title=\"Send email to this applicant\"\r\n                                >\r\n                                   Email\r\n                                </button>\r\n                                <button\r\n                                  onClick={() => handleDeleteApplication(application.id)}\r\n                                  className=\"btn-delete-application\"\r\n                                  title=\"Delete this application\"\r\n                                >\r\n                                  Delete\r\n                                </button>\r\n                              </div>\r\n                            </td>\r\n                          </tr>\r\n                        ))}\r\n                      </tbody>\r\n                    </table>\r\n                  </>\r\n                )}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {/* Email Modal */}\r\n        {showEmailModal && (\r\n          <div className=\"modal-overlay\" onClick={closeEmailModal}>\r\n            <div className=\"modal-content email-modal\" onClick={(e) => e.stopPropagation()}>\r\n              <button className=\"modal-close\" onClick={closeEmailModal}>\r\n                \r\n              </button>\r\n              \r\n              <div className=\"modal-header\">\r\n                <h2 className=\"modal-title\">Send Email</h2>\r\n                <p className=\"modal-subtitle\">\r\n                  {selectedApplicant \r\n                    ? `To: ${selectedApplicant.name} (${selectedApplicant.email})`\r\n                    : `To: All applicants for ${selectedJobTitle} (${selectedJobApplications.length} recipients)`\r\n                  }\r\n                </p>\r\n              </div>\r\n\r\n              <div className=\"modal-body\">\r\n                <form onSubmit={handleSendEmail} className=\"email-form\">\r\n                  <div className=\"form-group\">\r\n                    <label className=\"form-label\">Subject *</label>\r\n                    <input\r\n                      type=\"text\"\r\n                      name=\"subject\"\r\n                      value={emailForm.subject}\r\n                      onChange={handleEmailChange}\r\n                      required\r\n                      className=\"form-input\"\r\n                      placeholder=\"Enter email subject\"\r\n                    />\r\n                  </div>\r\n\r\n                  <div className=\"form-group\">\r\n                    <label className=\"form-label\">Message *</label>\r\n                    <textarea\r\n                      name=\"message\"\r\n                      value={emailForm.message}\r\n                      onChange={handleEmailChange}\r\n                      required\r\n                      className=\"form-textarea\"\r\n                      placeholder={selectedApplicant \r\n                        ? `Write your message to ${selectedApplicant.name}...`\r\n                        : `Write your message to all applicants...`\r\n                      }\r\n                      rows=\"8\"\r\n                    />\r\n                  </div>\r\n\r\n                  <div className=\"form-actions\">\r\n                    <button \r\n                      type=\"submit\" \r\n                      className=\"btn btn-primary\"\r\n                      disabled={isEmailSending}\r\n                    >\r\n                      {isEmailSending ? (\r\n                        <>\r\n                          <span className=\"loading-spinner\"></span>\r\n                          Sending...\r\n                        </>\r\n                      ) : (\r\n                        <>\r\n                           Send Email\r\n                        </>\r\n                      )}\r\n                    </button>\r\n                    <button \r\n                      type=\"button\" \r\n                      className=\"btn btn-secondary\"\r\n                      onClick={closeEmailModal}\r\n                      disabled={isEmailSending}\r\n                    >\r\n                      Cancel\r\n                    </button>\r\n                  </div>\r\n                </form>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default AdminManageJobs;","import React, { useState, useEffect } from 'react';\r\nimport { \r\n  Search, Filter, Eye, MessageSquare, Calendar, User, Mail, Phone,\r\n  Clock, CheckCircle, AlertTriangle, Star, TrendingUp, Users, \r\n  RefreshCw, Download, Send, X, Plus, ArrowRight, Edit3\r\n} from 'lucide-react';\r\n\r\nconst AdminCollaborationManagement = ({ API_BASE = 'http://localhost:5000/api' }) => {\r\n  const [reports, setReports] = useState([]);\r\n  const [filteredReports, setFilteredReports] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState(null);\r\n  const [searchTerm, setSearchTerm] = useState('');\r\n  const [activeTab, setActiveTab] = useState('all');\r\n  const [selectedReport, setSelectedReport] = useState(null);\r\n  const [showContactModal, setShowContactModal] = useState(false);\r\n  const [showStatusModal, setShowStatusModal] = useState(false);\r\n  const [statistics, setStatistics] = useState({\r\n    total: 0,\r\n    thisMonth: 0,\r\n    pendingReview: 0,\r\n    overdue: 0\r\n  });\r\n\r\n  const [contactForm, setContactForm] = useState({\r\n    contactType: 'email',\r\n    subject: '',\r\n    message: '',\r\n    contactMethod: ''\r\n  });\r\n\r\n  const [statusForm, setStatusForm] = useState({\r\n    status: '',\r\n    priority: '',\r\n    assignedTo: '',\r\n    adminNotes: '',\r\n    followUpDate: ''\r\n  });\r\n\r\n  const [pagination, setPagination] = useState({\r\n    page: 1,\r\n    limit: 20,\r\n    total: 0,\r\n    pages: 0\r\n  });\r\n\r\n  // Enhanced notification system\r\n  const showNotification = (message, type = 'info') => {\r\n    const notification = document.createElement('div');\r\n    const colors = {\r\n      success: { bg: '#10b981', text: '#ffffff' },\r\n      error: { bg: '#ef4444', text: '#ffffff' },\r\n      info: { bg: '#3b82f6', text: '#ffffff' },\r\n      warning: { bg: '#f59e0b', text: '#ffffff' }\r\n    };\r\n    \r\n    const color = colors[type] || colors.info;\r\n    \r\n    notification.style.cssText = `\r\n      position: fixed;\r\n      top: 20px;\r\n      right: 20px;\r\n      background: ${color.bg};\r\n      color: ${color.text};\r\n      padding: 16px 24px;\r\n      border-radius: 12px;\r\n      box-shadow: 0 10px 25px rgba(0,0,0,0.15);\r\n      z-index: 10000;\r\n      font-family: 'Inter', 'Arial', sans-serif;\r\n      font-size: 14px;\r\n      font-weight: 500;\r\n      max-width: 450px;\r\n      word-wrap: break-word;\r\n      transform: translateX(100%);\r\n      transition: transform 0.3s ease;\r\n    `;\r\n    \r\n    notification.textContent = message;\r\n    document.body.appendChild(notification);\r\n    \r\n    setTimeout(() => {\r\n      notification.style.transform = 'translateX(0)';\r\n    }, 10);\r\n    \r\n    setTimeout(() => {\r\n      if (notification.parentNode) {\r\n        notification.style.transform = 'translateX(100%)';\r\n        setTimeout(() => {\r\n          if (notification.parentNode) {\r\n            notification.parentNode.removeChild(notification);\r\n          }\r\n        }, 300);\r\n      }\r\n    }, 5000);\r\n  };\r\n\r\n  // Calculate statistics from current filtered reports\r\n  const calculateStatistics = (reportsList) => {\r\n    const now = new Date();\r\n    const currentMonth = now.getMonth();\r\n    const currentYear = now.getFullYear();\r\n    \r\n    const thisMonth = reportsList.filter(report => {\r\n      const reportDate = new Date(report.created_at);\r\n      return reportDate.getMonth() === currentMonth && reportDate.getFullYear() === currentYear;\r\n    }).length;\r\n\r\n    const pendingReview = reportsList.filter(report => \r\n      report.status === 'new' || report.status === 'under_review'\r\n    ).length;\r\n\r\n    const overdue = reportsList.filter(report => {\r\n      if (!report.follow_up_date) return false;\r\n      const followUpDate = new Date(report.follow_up_date);\r\n      return followUpDate < now && report.status !== 'completed' && report.status !== 'declined';\r\n    }).length;\r\n\r\n    return {\r\n      total: reportsList.length,\r\n      thisMonth: thisMonth,\r\n      pendingReview: pendingReview,\r\n      overdue: overdue\r\n    };\r\n  };\r\n\r\n  // Enhanced fetch reports with better error handling\r\n  const fetchReports = async (page = 1) => {\r\n    setLoading(true);\r\n    setError(null);\r\n    \r\n    try {\r\n      const params = new URLSearchParams({\r\n        page: page.toString(),\r\n        limit: pagination.limit.toString()\r\n      });\r\n\r\n      if (activeTab !== 'all') {\r\n        params.append('status', activeTab);\r\n      }\r\n\r\n      if (searchTerm.trim()) {\r\n        params.append('search', searchTerm.trim());\r\n      }\r\n\r\n      console.log('Fetching from:', `${API_BASE}/collaboration/admin/all?${params}`);\r\n      \r\n      const response = await fetch(`${API_BASE}/collaboration/admin/all?${params}`, {\r\n        method: 'GET',\r\n        credentials: 'omit',\r\n        headers: {\r\n          'Accept': 'application/json',\r\n          'Content-Type': 'application/json'\r\n        }\r\n      });\r\n\r\n      console.log('Response status:', response.status);\r\n      \r\n      if (!response.ok) {\r\n        const errorText = await response.text();\r\n        console.error('HTTP error response:', errorText);\r\n        throw new Error(`Server returned ${response.status}: ${response.statusText}`);\r\n      }\r\n\r\n      const contentType = response.headers.get('content-type');\r\n      if (!contentType || !contentType.includes('application/json')) {\r\n        const text = await response.text();\r\n        console.error('Non-JSON response:', text);\r\n        throw new Error('Server did not return JSON data');\r\n      }\r\n\r\n      const data = await response.json();\r\n      console.log('Received data:', data);\r\n      \r\n      if (data.success) {\r\n        const reportsList = data.data?.reports || [];\r\n        const paginationData = data.data?.pagination || {\r\n          page: 1,\r\n          limit: 20,\r\n          total: reportsList.length,\r\n          pages: Math.ceil(reportsList.length / 20)\r\n        };\r\n\r\n        setReports(reportsList);\r\n        setFilteredReports(reportsList);\r\n        setPagination(paginationData);\r\n        \r\n        // Calculate and update statistics\r\n        const newStats = calculateStatistics(reportsList);\r\n        setStatistics(newStats);\r\n        \r\n        if (reportsList.length === 0) {\r\n          console.log('No reports found');\r\n        }\r\n      } else {\r\n        throw new Error(data.message || 'API returned success: false');\r\n      }\r\n    } catch (error) {\r\n      console.error('Error fetching collaboration reports:', error);\r\n      setError(error.message);\r\n      showNotification(`Failed to fetch reports: ${error.message}`, 'error');\r\n      \r\n      // Set empty state on error\r\n      setReports([]);\r\n      setFilteredReports([]);\r\n      setPagination({\r\n        page: 1,\r\n        limit: 20,\r\n        total: 0,\r\n        pages: 0\r\n      });\r\n      setStatistics({\r\n        total: 0,\r\n        thisMonth: 0,\r\n        pendingReview: 0,\r\n        overdue: 0\r\n      });\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  // Enhanced report details loading\r\n  const loadReportDetails = async (reportId) => {\r\n    try {\r\n      console.log('Loading report details for ID:', reportId);\r\n      \r\n      const response = await fetch(`${API_BASE}/collaboration/admin/${reportId}`, {\r\n        method: 'GET',\r\n        credentials: 'omit',\r\n        headers: {\r\n          'Accept': 'application/json',\r\n          'Content-Type': 'application/json'\r\n        }\r\n      });\r\n      \r\n      if (response.ok) {\r\n        const data = await response.json();\r\n        console.log('Report details:', data);\r\n        \r\n        if (data.success) {\r\n          setSelectedReport(data.data);\r\n        } else {\r\n          throw new Error(data.message || 'Failed to load report details');\r\n        }\r\n      } else {\r\n        throw new Error(`Server error: ${response.status}`);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error loading report details:', error);\r\n      showNotification(`Failed to load report details: ${error.message}`, 'error');\r\n    }\r\n  };\r\n\r\n  // Enhanced status update\r\n  const updateStatus = async () => {\r\n    if (!selectedReport) return;\r\n\r\n    try {\r\n      console.log('Updating status for report:', selectedReport.id);\r\n      \r\n      const response = await fetch(`${API_BASE}/collaboration/admin/${selectedReport.id}/status`, {\r\n        method: 'PUT',\r\n        credentials: 'omit',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          'Accept': 'application/json'\r\n        },\r\n        body: JSON.stringify(statusForm)\r\n      });\r\n\r\n      if (response.ok) {\r\n        const data = await response.json();\r\n        \r\n        if (data.success) {\r\n          showNotification('Report status updated successfully', 'success');\r\n          setShowStatusModal(false);\r\n          fetchReports(pagination.page);\r\n          if (selectedReport) {\r\n            loadReportDetails(selectedReport.id);\r\n          }\r\n        } else {\r\n          throw new Error(data.message || 'Failed to update status');\r\n        }\r\n      } else {\r\n        throw new Error(`Server error: ${response.status}`);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error updating status:', error);\r\n      showNotification(`Failed to update status: ${error.message}`, 'error');\r\n    }\r\n  };\r\n\r\n  // Enhanced contact addition\r\n  const addContact = async () => {\r\n    if (!selectedReport) return;\r\n\r\n    try {\r\n      console.log('Adding contact for report:', selectedReport.id);\r\n      \r\n      const response = await fetch(`${API_BASE}/collaboration/admin/${selectedReport.id}/contact`, {\r\n        method: 'POST',\r\n        credentials: 'omit',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          'Accept': 'application/json'\r\n        },\r\n        body: JSON.stringify(contactForm)\r\n      });\r\n\r\n      if (response.ok) {\r\n        const data = await response.json();\r\n        \r\n        if (data.success) {\r\n          showNotification('Contact record added successfully', 'success');\r\n          setShowContactModal(false);\r\n          setContactForm({\r\n            contactType: 'email',\r\n            subject: '',\r\n            message: '',\r\n            contactMethod: ''\r\n          });\r\n          fetchReports(pagination.page);\r\n          if (selectedReport) {\r\n            loadReportDetails(selectedReport.id);\r\n          }\r\n        } else {\r\n          throw new Error(data.message || 'Failed to send message');\r\n        }\r\n      } else {\r\n        throw new Error(`Server error: ${response.status}`);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error adding contact:', error);\r\n      showNotification(`Failed to send message: ${error.message}`, 'error');\r\n    }\r\n  };\r\n\r\n  // Enhanced search and filtering\r\n  useEffect(() => {\r\n    const delayedSearch = setTimeout(() => {\r\n      fetchReports(1); // Reset to page 1 when searching/filtering\r\n    }, 500);\r\n\r\n    return () => clearTimeout(delayedSearch);\r\n  }, [activeTab, searchTerm]);\r\n\r\n  // Initial load\r\n  useEffect(() => {\r\n    fetchReports();\r\n  }, []);\r\n\r\n  // Format date helper\r\n  const formatDate = (dateString) => {\r\n    if (!dateString) return '-';\r\n    try {\r\n      return new Date(dateString).toLocaleDateString('en-US', {\r\n        year: 'numeric',\r\n        month: 'short',\r\n        day: 'numeric',\r\n        hour: '2-digit',\r\n        minute: '2-digit'\r\n      });\r\n    } catch (error) {\r\n      console.error('Date formatting error:', error);\r\n      return dateString;\r\n    }\r\n  };\r\n\r\n  // Get status badge\r\n  const getStatusBadge = (status) => {\r\n    const statusConfig = {\r\n      new: { color: '#3b82f6', bg: '#dbeafe', label: 'New' },\r\n      under_review: { color: '#f59e0b', bg: '#fef3c7', label: 'Under Review' },\r\n      contacted: { color: '#8b5cf6', bg: '#ede9fe', label: 'Contacted' },\r\n      in_progress: { color: '#10b981', bg: '#d1fae5', label: 'In Progress' },\r\n      completed: { color: '#059669', bg: '#a7f3d0', label: 'Completed' },\r\n      declined: { color: '#6b7280', bg: '#f3f4f6', label: 'Declined' }\r\n    };\r\n\r\n    const config = statusConfig[status] || statusConfig.new;\r\n    \r\n    return (\r\n      <span style={{\r\n        backgroundColor: config.bg,\r\n        color: config.color,\r\n        padding: '4px 8px',\r\n        borderRadius: '6px',\r\n        fontSize: '12px',\r\n        fontWeight: '500',\r\n        textTransform: 'uppercase'\r\n      }}>\r\n        {config.label}\r\n      </span>\r\n    );\r\n  };\r\n\r\n  // Get priority badge\r\n  const getPriorityBadge = (priority) => {\r\n    if (!priority) priority = 'medium';\r\n    \r\n    const priorityConfig = {\r\n      low: { color: '#6b7280', bg: '#f3f4f6' },\r\n      medium: { color: '#3b82f6', bg: '#dbeafe' },\r\n      high: { color: '#f59e0b', bg: '#fef3c7' },\r\n      urgent: { color: '#ef4444', bg: '#fee2e2' }\r\n    };\r\n\r\n    const config = priorityConfig[priority] || priorityConfig.medium;\r\n    \r\n    return (\r\n      <span style={{\r\n        backgroundColor: config.bg,\r\n        color: config.color,\r\n        padding: '2px 6px',\r\n        borderRadius: '4px',\r\n        fontSize: '11px',\r\n        fontWeight: '600',\r\n        textTransform: 'uppercase'\r\n      }}>\r\n        {priority}\r\n      </span>\r\n    );\r\n  };\r\n\r\n  // Enhanced report data rendering with error handling\r\n  const renderReportData = (data) => {\r\n    if (!data || typeof data !== 'object') {\r\n      return <div style={{ color: '#6b7280', fontStyle: 'italic' }}>No additional data available</div>;\r\n    }\r\n\r\n    try {\r\n      const entries = Object.entries(data).filter(([key, value]) => \r\n        value !== null && value !== undefined && value !== ''\r\n      );\r\n\r\n      if (entries.length === 0) {\r\n        return <div style={{ color: '#6b7280', fontStyle: 'italic' }}>No data to display</div>;\r\n      }\r\n\r\n      return entries.map(([key, value]) => {\r\n        const displayKey = key.replace(/_/g, ' ').replace(/\\b\\w/g, l => l.toUpperCase());\r\n        \r\n        return (\r\n          <div key={key} style={{ marginBottom: '16px' }}>\r\n            <div style={{ \r\n              fontSize: '13px', \r\n              fontWeight: '600', \r\n              color: '#374151',\r\n              marginBottom: '4px',\r\n              textTransform: 'capitalize'\r\n            }}>\r\n              {displayKey}:\r\n            </div>\r\n            <div style={{ \r\n              fontSize: '14px', \r\n              color: '#1f2937',\r\n              backgroundColor: '#f9fafb',\r\n              padding: '8px 12px',\r\n              borderRadius: '6px',\r\n              whiteSpace: 'pre-wrap'\r\n            }}>\r\n              {typeof value === 'string' && value.length > 100 \r\n                ? `${value.substring(0, 100)}...` \r\n                : String(value)\r\n              }\r\n            </div>\r\n          </div>\r\n        );\r\n      });\r\n    } catch (error) {\r\n      console.error('Error rendering report data:', error);\r\n      return <div style={{ color: '#ef4444' }}>Error displaying data</div>;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div style={{ padding: '24px', backgroundColor: '#f9fafb', minHeight: '100vh' }}>\r\n      {/* Header */}\r\n      <div style={{\r\n        background: 'white',\r\n        borderRadius: '12px',\r\n        padding: '24px',\r\n        marginBottom: '24px',\r\n        boxShadow: '0 1px 3px rgba(0, 0, 0, 0.1)'\r\n      }}>\r\n        <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\r\n          <div>\r\n            <h1 style={{ margin: '0 0 8px 0', color: '#0a451c', fontSize: '28px', fontWeight: '700' }}>\r\n              Collaboration Management\r\n            </h1>\r\n            <p style={{ margin: '0', color: '#6b7280', fontSize: '16px' }}>\r\n              Manage collaboration requests and partnership inquiries\r\n            </p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Error Display */}\r\n      {error && (\r\n        <div style={{\r\n          background: '#fee2e2',\r\n          border: '1px solid #fecaca',\r\n          borderRadius: '8px',\r\n          padding: '16px',\r\n          marginBottom: '24px'\r\n        }}>\r\n          <div style={{ display: 'flex', alignItems: 'center', gap: '8px' }}>\r\n            <AlertTriangle size={20} color=\"#ef4444\" />\r\n            <div>\r\n              <h3 style={{ margin: '0 0 4px 0', color: '#dc2626' }}>Connection Error</h3>\r\n              <p style={{ margin: '0', color: '#7f1d1d', fontSize: '14px' }}>\r\n                {error}\r\n              </p>\r\n              <p style={{ margin: '8px 0 0 0', color: '#7f1d1d', fontSize: '12px' }}>\r\n                API URL: {API_BASE}\r\n              </p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Statistics Grid */}\r\n      <div style={{\r\n        display: 'grid',\r\n        gridTemplateColumns: 'repeat(auto-fit, minmax(250px, 1fr))',\r\n        gap: '16px',\r\n        marginBottom: '24px'\r\n      }}>\r\n        <div style={{\r\n          background: 'white',\r\n          borderRadius: '12px',\r\n          padding: '20px',\r\n          boxShadow: '0 1px 3px rgba(0, 0, 0, 0.1)',\r\n          borderLeft: '4px solid #0a451c'\r\n        }}>\r\n          <div style={{ display: 'flex', alignItems: 'center', gap: '8px', marginBottom: '8px' }}>\r\n            <Users size={20} color=\"#0a451c\" />\r\n            <h3 style={{ margin: '0', fontSize: '14px', fontWeight: '500', color: '#6b7280' }}>\r\n              {activeTab !== 'all' ? `${activeTab.replace('_', ' ').toUpperCase()} REPORTS` : 'TOTAL REPORTS'}\r\n            </h3>\r\n          </div>\r\n          <p style={{ fontSize: '24px', fontWeight: '700', color: '#1f2937', margin: '0' }}>\r\n            {statistics.total}\r\n          </p>\r\n        </div>\r\n\r\n        <div style={{\r\n          background: 'white',\r\n          borderRadius: '12px',\r\n          padding: '20px',\r\n          boxShadow: '0 1px 3px rgba(0, 0, 0, 0.1)',\r\n          borderLeft: '4px solid #facf3c'\r\n        }}>\r\n          <div style={{ display: 'flex', alignItems: 'center', gap: '8px', marginBottom: '8px' }}>\r\n            <TrendingUp size={20} color=\"#facf3c\" />\r\n            <h3 style={{ margin: '0', fontSize: '14px', fontWeight: '500', color: '#6b7280' }}>\r\n              THIS MONTH\r\n            </h3>\r\n          </div>\r\n          <p style={{ fontSize: '24px', fontWeight: '700', color: '#1f2937', margin: '0' }}>\r\n            {statistics.thisMonth}\r\n          </p>\r\n        </div>\r\n\r\n        <div style={{\r\n          background: 'white',\r\n          borderRadius: '12px',\r\n          padding: '20px',\r\n          boxShadow: '0 1px 3px rgba(0, 0, 0, 0.1)',\r\n          borderLeft: '4px solid #9ccf9f'\r\n        }}>\r\n          <div style={{ display: 'flex', alignItems: 'center', gap: '8px', marginBottom: '8px' }}>\r\n            <Clock size={20} color=\"#9ccf9f\" />\r\n            <h3 style={{ margin: '0', fontSize: '14px', fontWeight: '500', color: '#6b7280' }}>\r\n              PENDING REVIEW\r\n            </h3>\r\n          </div>\r\n          <p style={{ fontSize: '24px', fontWeight: '700', color: '#1f2937', margin: '0' }}>\r\n            {statistics.pendingReview}\r\n          </p>\r\n        </div>\r\n\r\n        <div style={{\r\n          background: 'white',\r\n          borderRadius: '12px',\r\n          padding: '20px',\r\n          boxShadow: '0 1px 3px rgba(0, 0, 0, 0.1)',\r\n          borderLeft: '4px solid #ef4444'\r\n        }}>\r\n          <div style={{ display: 'flex', alignItems: 'center', gap: '8px', marginBottom: '8px' }}>\r\n            <AlertTriangle size={20} color=\"#ef4444\" />\r\n            <h3 style={{ margin: '0', fontSize: '14px', fontWeight: '500', color: '#6b7280' }}>\r\n              OVERDUE FOLLOW-UPS\r\n            </h3>\r\n          </div>\r\n          <p style={{ fontSize: '24px', fontWeight: '700', color: '#1f2937', margin: '0' }}>\r\n            {statistics.overdue}\r\n          </p>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Controls */}\r\n      <div style={{\r\n        background: 'white',\r\n        borderRadius: '12px',\r\n        padding: '20px',\r\n        marginBottom: '24px',\r\n        boxShadow: '0 1px 3px rgba(0, 0, 0, 0.1)'\r\n      }}>\r\n        <div style={{ display: 'flex', alignItems: 'center', gap: '16px', flexWrap: 'wrap' }}>\r\n          <div style={{ flex: 1, minWidth: '300px', position: 'relative' }}>\r\n            <Search style={{ position: 'absolute', left: '12px', top: '50%', transform: 'translateY(-50%)', color: '#6b7280' }} size={20} />\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"Search by name, email, or organization...\"\r\n              value={searchTerm}\r\n              onChange={(e) => setSearchTerm(e.target.value)}\r\n              style={{\r\n                width: '100%',\r\n                padding: '10px 12px 10px 40px',\r\n                border: '1px solid #d1d5db',\r\n                borderRadius: '8px',\r\n                fontSize: '14px'\r\n              }}\r\n            />\r\n          </div>\r\n\r\n          <div style={{ display: 'flex', gap: '8px' }}>\r\n            {['all', 'new', 'under_review', 'contacted', 'in_progress', 'completed'].map(tab => (\r\n              <button\r\n                key={tab}\r\n                onClick={() => setActiveTab(tab)}\r\n                style={{\r\n                  padding: '8px 16px',\r\n                  border: '1px solid #d1d5db',\r\n                  borderRadius: '6px',\r\n                  background: activeTab === tab ? '#0a451c' : 'white',\r\n                  color: activeTab === tab ? 'white' : '#6b7280',\r\n                  fontSize: '14px',\r\n                  fontWeight: '500',\r\n                  cursor: 'pointer',\r\n                  textTransform: 'capitalize'\r\n                }}\r\n              >\r\n                {tab.replace('_', ' ')}\r\n              </button>\r\n            ))}\r\n          </div>\r\n\r\n          <button\r\n            onClick={() => fetchReports(pagination.page)}\r\n            disabled={loading}\r\n            style={{\r\n              padding: '8px 12px',\r\n              border: '1px solid #d1d5db',\r\n              borderRadius: '6px',\r\n              background: 'white',\r\n              color: '#6b7280',\r\n              cursor: loading ? 'not-allowed' : 'pointer',\r\n              display: 'flex',\r\n              alignItems: 'center',\r\n              gap: '6px',\r\n              opacity: loading ? 0.5 : 1\r\n            }}\r\n          >\r\n            <RefreshCw size={16} className={loading ? 'animate-spin' : ''} />\r\n            Refresh\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Reports Table */}\r\n      <div style={{\r\n        background: 'white',\r\n        borderRadius: '12px',\r\n        overflow: 'hidden',\r\n        boxShadow: '0 1px 3px rgba(0, 0, 0, 0.1)'\r\n      }}>\r\n        <div style={{ overflowX: 'auto' }}>\r\n          <table style={{ width: '100%', borderCollapse: 'collapse' }}>\r\n            <thead style={{ background: '#f9fafb' }}>\r\n              <tr>\r\n                <th style={{\r\n                  padding: '12px 16px',\r\n                  textAlign: 'left',\r\n                  fontSize: '12px',\r\n                  fontWeight: '600',\r\n                  color: '#6b7280',\r\n                  textTransform: 'uppercase'\r\n                }}>\r\n                  Contact Info\r\n                </th>\r\n                <th style={{\r\n                  padding: '12px 16px',\r\n                  textAlign: 'left',\r\n                  fontSize: '12px',\r\n                  fontWeight: '600',\r\n                  color: '#6b7280',\r\n                  textTransform: 'uppercase'\r\n                }}>\r\n                  Type\r\n                </th>\r\n                <th style={{\r\n                  padding: '12px 16px',\r\n                  textAlign: 'left',\r\n                  fontSize: '12px',\r\n                  fontWeight: '600',\r\n                  color: '#6b7280',\r\n                  textTransform: 'uppercase'\r\n                }}>\r\n                  Status\r\n                </th>\r\n                <th style={{\r\n                  padding: '12px 16px',\r\n                  textAlign: 'left',\r\n                  fontSize: '12px',\r\n                  fontWeight: '600',\r\n                  color: '#6b7280',\r\n                  textTransform: 'uppercase'\r\n                }}>\r\n                  Priority\r\n                </th>\r\n                <th style={{\r\n                  padding: '12px 16px',\r\n                  textAlign: 'left',\r\n                  fontSize: '12px',\r\n                  fontWeight: '600',\r\n                  color: '#6b7280',\r\n                  textTransform: 'uppercase'\r\n                }}>\r\n                  Created\r\n                </th>\r\n                <th style={{\r\n                  padding: '12px 16px',\r\n                  textAlign: 'left',\r\n                  fontSize: '12px',\r\n                  fontWeight: '600',\r\n                  color: '#6b7280',\r\n                  textTransform: 'uppercase'\r\n                }}>\r\n                  Actions\r\n                </th>\r\n              </tr>\r\n            </thead>\r\n\r\n            <tbody>\r\n              {loading ? (\r\n                <tr>\r\n                  <td colSpan=\"6\" style={{ textAlign: 'center', padding: '60px' }}>\r\n                    <RefreshCw size={24} className=\"animate-spin\" />\r\n                    <span style={{ marginLeft: '8px' }}>Loading reports...</span>\r\n                  </td>\r\n                </tr>\r\n              ) : error ? (\r\n                <tr>\r\n                  <td colSpan=\"6\" style={{ textAlign: 'center', padding: '60px', color: '#dc2626' }}>\r\n                    <AlertTriangle size={24} />\r\n                    <div style={{ marginTop: '8px' }}>\r\n                      <h3 style={{ margin: '0 0 8px 0', color: '#dc2626' }}>Failed to load reports</h3>\r\n                      <p style={{ margin: '0', fontSize: '14px' }}>{error}</p>\r\n                      <button\r\n                        onClick={() => fetchReports(1)}\r\n                        style={{\r\n                          marginTop: '12px',\r\n                          padding: '6px 12px',\r\n                          background: '#dc2626',\r\n                          color: 'white',\r\n                          border: 'none',\r\n                          borderRadius: '4px',\r\n                          cursor: 'pointer'\r\n                        }}\r\n                      >\r\n                        Retry\r\n                      </button>\r\n                    </div>\r\n                  </td>\r\n                </tr>\r\n              ) : filteredReports.length === 0 ? (\r\n                <tr>\r\n                  <td colSpan=\"6\" style={{ textAlign: 'center', padding: '60px', color: '#6b7280' }}>\r\n                    <Users size={24} />\r\n                    <div style={{ marginTop: '8px' }}>\r\n                      <h3 style={{ margin: '0 0 8px 0', color: '#374151' }}>No reports found</h3>\r\n                      <p style={{ margin: '0' }}>\r\n                        {searchTerm || activeTab !== 'all' \r\n                          ? 'No collaboration reports match your current filters' \r\n                          : 'No collaboration reports have been submitted yet'\r\n                        }\r\n                      </p>\r\n                    </div>\r\n                  </td>\r\n                </tr>\r\n              ) : (\r\n                filteredReports.map((report) => (\r\n                  <tr key={report.id} style={{ borderBottom: '1px solid #f3f4f6' }}>\r\n                    <td style={{ padding: '16px', verticalAlign: 'middle' }}>\r\n                      <div style={{ display: 'flex', flexDirection: 'column', gap: '4px' }}>\r\n                        <span style={{ fontWeight: '500', color: '#1f2937' }}>{report.name}</span>\r\n                        <span style={{ fontSize: '13px', color: '#6b7280' }}>{report.email}</span>\r\n                        {report.organization && (\r\n                          <span style={{ fontSize: '12px', color: '#9ca3af' }}>{report.organization}</span>\r\n                        )}\r\n                      </div>\r\n                    </td>\r\n                    <td style={{ padding: '16px', verticalAlign: 'middle' }}>\r\n                      <span style={{ textTransform: 'capitalize', color: '#1f2937' }}>\r\n                        {report.flow_type}\r\n                      </span>\r\n                    </td>\r\n                    <td style={{ padding: '16px', verticalAlign: 'middle' }}>\r\n                      {getStatusBadge(report.status)}\r\n                    </td>\r\n                    <td style={{ padding: '16px', verticalAlign: 'middle' }}>\r\n                      {getPriorityBadge(report.priority)}\r\n                    </td>\r\n                    <td style={{ padding: '16px', verticalAlign: 'middle', color: '#6b7280' }}>\r\n                      {formatDate(report.created_at)}\r\n                    </td>\r\n                    <td style={{ padding: '16px', verticalAlign: 'middle' }}>\r\n                      <div style={{ display: 'flex', alignItems: 'center', gap: '8px' }}>\r\n                        <button\r\n                          onClick={() => {\r\n                            setSelectedReport(report);\r\n                            loadReportDetails(report.id);\r\n                          }}\r\n                          style={{\r\n                            padding: '6px 8px',\r\n                            border: 'none',\r\n                            borderRadius: '4px',\r\n                            background: '#f3f4f6',\r\n                            color: '#6b7280',\r\n                            cursor: 'pointer',\r\n                            display: 'flex',\r\n                            alignItems: 'center',\r\n                            justifyContent: 'center'\r\n                          }}\r\n                          title=\"View Details\"\r\n                        >\r\n                          <Eye size={16} />\r\n                        </button>\r\n\r\n                        <button\r\n                          onClick={() => {\r\n                            setSelectedReport(report);\r\n                            setStatusForm({\r\n                              status: report.status,\r\n                              priority: report.priority,\r\n                              assignedTo: report.assigned_to || '',\r\n                              adminNotes: report.admin_notes || '',\r\n                              followUpDate: report.follow_up_date || ''\r\n                            });\r\n                            setShowStatusModal(true);\r\n                          }}\r\n                          style={{\r\n                            padding: '6px 8px',\r\n                            border: 'none',\r\n                            borderRadius: '4px',\r\n                            background: '#dbeafe',\r\n                            color: '#1e40af',\r\n                            cursor: 'pointer',\r\n                            display: 'flex',\r\n                            alignItems: 'center',\r\n                            justifyContent: 'center'\r\n                          }}\r\n                          title=\"Update Status\"\r\n                        >\r\n                          <Edit3 size={16} />\r\n                        </button>\r\n\r\n                        <button\r\n                          onClick={() => {\r\n                            setSelectedReport(report);\r\n                            setContactForm({\r\n                              contactType: 'email',\r\n                              subject: `Re: ${report.flow_type === 'collaborate' ? 'Collaboration' : 'Partnership'} Request`,\r\n                              message: '',\r\n                              contactMethod: report.email\r\n                            });\r\n                            setShowContactModal(true);\r\n                          }}\r\n                          style={{\r\n                            padding: '6px 8px',\r\n                            border: 'none',\r\n                            borderRadius: '4px',\r\n                            background: '#fef3c7',\r\n                            color: '#92400e',\r\n                            cursor: 'pointer',\r\n                            display: 'flex',\r\n                            alignItems: 'center',\r\n                            justifyContent: 'center'\r\n                          }}\r\n                          title=\"Send Message\"\r\n                        >\r\n                          <MessageSquare size={16} />\r\n                        </button>\r\n                      </div>\r\n                    </td>\r\n                  </tr>\r\n                ))\r\n              )}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n\r\n        {/* Pagination */}\r\n        {pagination.pages > 1 && (\r\n          <div style={{\r\n            padding: '16px',\r\n            borderTop: '1px solid #f3f4f6',\r\n            display: 'flex',\r\n            alignItems: 'center',\r\n            justifyContent: 'center',\r\n            gap: '8px'\r\n          }}>\r\n            <button\r\n              onClick={() => fetchReports(pagination.page - 1)}\r\n              disabled={pagination.page <= 1}\r\n              style={{\r\n                padding: '8px 12px',\r\n                border: '1px solid #d1d5db',\r\n                borderRadius: '6px',\r\n                background: 'white',\r\n                cursor: pagination.page <= 1 ? 'not-allowed' : 'pointer',\r\n                opacity: pagination.page <= 1 ? 0.5 : 1\r\n              }}\r\n            >\r\n              Previous\r\n            </button>\r\n            \r\n            <span style={{ color: '#6b7280', fontSize: '14px' }}>\r\n              Page {pagination.page} of {pagination.pages} ({pagination.total} total)\r\n            </span>\r\n            \r\n            <button\r\n              onClick={() => fetchReports(pagination.page + 1)}\r\n              disabled={pagination.page >= pagination.pages}\r\n              style={{\r\n                padding: '8px 12px',\r\n                border: '1px solid #d1d5db',\r\n                borderRadius: '6px',\r\n                background: 'white',\r\n                cursor: pagination.page >= pagination.pages ? 'not-allowed' : 'pointer',\r\n                opacity: pagination.page >= pagination.pages ? 0.5 : 1\r\n              }}\r\n            >\r\n              Next\r\n            </button>\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {/* Report Details Modal */}\r\n      {selectedReport && !showContactModal && !showStatusModal && (\r\n        <div style={{\r\n          position: 'fixed',\r\n          inset: 0,\r\n          background: 'rgba(0, 0, 0, 0.5)',\r\n          display: 'flex',\r\n          alignItems: 'center',\r\n          justifyContent: 'center',\r\n          zIndex: 1000\r\n        }} onClick={() => setSelectedReport(null)}>\r\n          <div style={{\r\n            background: 'white',\r\n            borderRadius: '12px',\r\n            padding: '24px',\r\n            maxWidth: '800px',\r\n            width: '90%',\r\n            maxHeight: '80vh',\r\n            overflowY: 'auto'\r\n          }} onClick={(e) => e.stopPropagation()}>\r\n            <div style={{\r\n              display: 'flex',\r\n              alignItems: 'center',\r\n              justifyContent: 'space-between',\r\n              marginBottom: '20px'\r\n            }}>\r\n              <h2 style={{ margin: '0', color: '#1f2937' }}>\r\n                {selectedReport.flow_type === 'collaborate' ? 'Collaboration' : 'Partnership'} Request Details\r\n              </h2>\r\n              <button\r\n                onClick={() => setSelectedReport(null)}\r\n                style={{ background: 'none', border: 'none', cursor: 'pointer', color: '#6b7280', padding: '4px' }}\r\n              >\r\n                <X size={20} />\r\n              </button>\r\n            </div>\r\n\r\n            <div style={{ display: 'grid', gridTemplateColumns: '1fr 1fr', gap: '24px', marginBottom: '24px' }}>\r\n              <div>\r\n                <h3 style={{ margin: '0 0 12px 0', color: '#0a451c', fontSize: '16px' }}>Contact Information</h3>\r\n                <div style={{ fontSize: '14px', color: '#374151' }}>\r\n                  <p><strong>Name:</strong> {selectedReport.name}</p>\r\n                  <p><strong>Email:</strong> {selectedReport.email}</p>\r\n                  {selectedReport.organization && (\r\n                    <p><strong>Organization:</strong> {selectedReport.organization}</p>\r\n                  )}\r\n                  <p><strong>Type:</strong> {selectedReport.flow_type}</p>\r\n                </div>\r\n              </div>\r\n              \r\n              <div>\r\n                <h3 style={{ margin: '0 0 12px 0', color: '#0a451c', fontSize: '16px' }}>Status & Management</h3>\r\n                <div style={{ fontSize: '14px', color: '#374151' }}>\r\n                  <p><strong>Status:</strong> {getStatusBadge(selectedReport.status)}</p>\r\n                  <p><strong>Priority:</strong> {getPriorityBadge(selectedReport.priority)}</p>\r\n                  {selectedReport.assigned_to && (\r\n                    <p><strong>Assigned to:</strong> {selectedReport.assigned_to}</p>\r\n                  )}\r\n                  <p><strong>Contact Count:</strong> {selectedReport.contact_count || 0}</p>\r\n                  {selectedReport.last_contacted_at && (\r\n                    <p><strong>Last Contact:</strong> {formatDate(selectedReport.last_contacted_at)}</p>\r\n                  )}\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div style={{ marginBottom: '24px' }}>\r\n              <h3 style={{ margin: '0 0 12px 0', color: '#0a451c', fontSize: '16px' }}>Submitted Information</h3>\r\n              <div style={{ background: '#f9fafb', padding: '16px', borderRadius: '8px' }}>\r\n                {renderReportData(selectedReport.report_data)}\r\n              </div>\r\n            </div>\r\n\r\n            {selectedReport.admin_notes && (\r\n              <div style={{ marginBottom: '24px' }}>\r\n                <h3 style={{ margin: '0 0 12px 0', color: '#0a451c', fontSize: '16px' }}>Admin Notes</h3>\r\n                <div style={{\r\n                  background: '#fff7ed',\r\n                  padding: '12px',\r\n                  borderRadius: '8px',\r\n                  border: '1px solid #fed7aa',\r\n                  fontSize: '14px',\r\n                  color: '#1f2937'\r\n                }}>\r\n                  {selectedReport.admin_notes}\r\n                </div>\r\n              </div>\r\n            )}\r\n\r\n            {selectedReport.activities && selectedReport.activities.length > 0 && (\r\n              <div style={{ marginBottom: '24px' }}>\r\n                <h3 style={{ margin: '0 0 12px 0', color: '#0a451c', fontSize: '16px' }}>Activity Log</h3>\r\n                <div style={{ maxHeight: '200px', overflowY: 'auto' }}>\r\n                  {selectedReport.activities.map((activity, index) => (\r\n                    <div key={index} style={{\r\n                      padding: '12px',\r\n                      background: '#f8fafc',\r\n                      borderRadius: '6px',\r\n                      marginBottom: '8px',\r\n                      fontSize: '13px'\r\n                    }}>\r\n                      <div style={{ color: '#1f2937', fontWeight: '500', marginBottom: '4px' }}>\r\n                        {activity.description}\r\n                      </div>\r\n                      <div style={{ color: '#6b7280', fontSize: '12px' }}>\r\n                        {formatDate(activity.created_at)}\r\n                        {activity.admin_user && `  by ${activity.admin_user}`}\r\n                      </div>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              </div>\r\n            )}\r\n\r\n            <div style={{ display: 'flex', gap: '12px', marginTop: '20px' }}>\r\n              <button\r\n                onClick={() => {\r\n                  setStatusForm({\r\n                    status: selectedReport.status,\r\n                    priority: selectedReport.priority,\r\n                    assignedTo: selectedReport.assigned_to || '',\r\n                    adminNotes: selectedReport.admin_notes || '',\r\n                    followUpDate: selectedReport.follow_up_date || ''\r\n                  });\r\n                  setShowStatusModal(true);\r\n                }}\r\n                style={{\r\n                  padding: '8px 16px',\r\n                  background: '#0a451c',\r\n                  color: 'white',\r\n                  border: 'none',\r\n                  borderRadius: '6px',\r\n                  cursor: 'pointer',\r\n                  fontSize: '14px',\r\n                  fontWeight: '500',\r\n                  display: 'flex',\r\n                  alignItems: 'center',\r\n                  gap: '6px'\r\n                }}\r\n              >\r\n                <Edit3 size={16} />\r\n                Update Status\r\n              </button>\r\n\r\n              <button\r\n                onClick={() => {\r\n                  setContactForm({\r\n                    contactType: 'email',\r\n                    subject: `Re: ${selectedReport.flow_type === 'collaborate' ? 'Collaboration' : 'Partnership'} Request`,\r\n                    message: '',\r\n                    contactMethod: selectedReport.email\r\n                  });\r\n                  setShowContactModal(true);\r\n                }}\r\n                style={{\r\n                  padding: '8px 16px',\r\n                  background: '#facf3c',\r\n                  color: '#92400e',\r\n                  border: 'none',\r\n                  borderRadius: '6px',\r\n                  cursor: 'pointer',\r\n                  fontSize: '14px',\r\n                  fontWeight: '500',\r\n                  display: 'flex',\r\n                  alignItems: 'center',\r\n                  gap: '6px'\r\n                }}\r\n              >\r\n                <MessageSquare size={16} />\r\n                Send Message\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Status Update Modal */}\r\n      {showStatusModal && selectedReport && (\r\n        <div style={{\r\n          position: 'fixed',\r\n          inset: 0,\r\n          background: 'rgba(0, 0, 0, 0.5)',\r\n          display: 'flex',\r\n          alignItems: 'center',\r\n          justifyContent: 'center',\r\n          zIndex: 1000\r\n        }} onClick={() => setShowStatusModal(false)}>\r\n          <div style={{\r\n            background: 'white',\r\n            borderRadius: '12px',\r\n            padding: '24px',\r\n            maxWidth: '500px',\r\n            width: '90%'\r\n          }} onClick={(e) => e.stopPropagation()}>\r\n            <div style={{\r\n              display: 'flex',\r\n              alignItems: 'center',\r\n              justifyContent: 'space-between',\r\n              marginBottom: '20px'\r\n            }}>\r\n              <h2 style={{ margin: '0', color: '#1f2937' }}>Update Report Status</h2>\r\n              <button\r\n                onClick={() => setShowStatusModal(false)}\r\n                style={{ background: 'none', border: 'none', cursor: 'pointer', color: '#6b7280', padding: '4px' }}\r\n              >\r\n                <X size={20} />\r\n              </button>\r\n            </div>\r\n\r\n            <div style={{ marginBottom: '16px' }}>\r\n              <label style={{ display: 'block', marginBottom: '6px', fontSize: '14px', fontWeight: '500', color: '#374151' }}>\r\n                Status\r\n              </label>\r\n              <select\r\n                value={statusForm.status}\r\n                onChange={(e) => setStatusForm(prev => ({ ...prev, status: e.target.value }))}\r\n                style={{\r\n                  width: '100%',\r\n                  padding: '8px 12px',\r\n                  border: '1px solid #d1d5db',\r\n                  borderRadius: '6px',\r\n                  fontSize: '14px'\r\n                }}\r\n              >\r\n                <option value=\"new\">New</option>\r\n                <option value=\"under_review\">Under Review</option>\r\n                <option value=\"contacted\">Contacted</option>\r\n                <option value=\"in_progress\">In Progress</option>\r\n                <option value=\"completed\">Completed</option>\r\n                <option value=\"declined\">Declined</option>\r\n              </select>\r\n            </div>\r\n\r\n            <div style={{ marginBottom: '16px' }}>\r\n              <label style={{ display: 'block', marginBottom: '6px', fontSize: '14px', fontWeight: '500', color: '#374151' }}>\r\n                Priority\r\n              </label>\r\n              <select\r\n                value={statusForm.priority}\r\n                onChange={(e) => setStatusForm(prev => ({ ...prev, priority: e.target.value }))}\r\n                style={{\r\n                  width: '100%',\r\n                  padding: '8px 12px',\r\n                  border: '1px solid #d1d5db',\r\n                  borderRadius: '6px',\r\n                  fontSize: '14px'\r\n                }}\r\n              >\r\n                <option value=\"low\">Low</option>\r\n                <option value=\"medium\">Medium</option>\r\n                <option value=\"high\">High</option>\r\n                <option value=\"urgent\">Urgent</option>\r\n              </select>\r\n            </div>\r\n\r\n            <div style={{ marginBottom: '16px' }}>\r\n              <label style={{ display: 'block', marginBottom: '6px', fontSize: '14px', fontWeight: '500', color: '#374151' }}>\r\n                Assigned To\r\n              </label>\r\n              <input\r\n                type=\"text\"\r\n                value={statusForm.assignedTo}\r\n                onChange={(e) => setStatusForm(prev => ({ ...prev, assignedTo: e.target.value }))}\r\n                placeholder=\"Enter admin name or email\"\r\n                style={{\r\n                  width: '100%',\r\n                  padding: '8px 12px',\r\n                  border: '1px solid #d1d5db',\r\n                  borderRadius: '6px',\r\n                  fontSize: '14px'\r\n                }}\r\n              />\r\n            </div>\r\n\r\n            <div style={{ marginBottom: '16px' }}>\r\n              <label style={{ display: 'block', marginBottom: '6px', fontSize: '14px', fontWeight: '500', color: '#374151' }}>\r\n                Follow-up Date\r\n              </label>\r\n              <input\r\n                type=\"datetime-local\"\r\n                value={statusForm.followUpDate}\r\n                onChange={(e) => setStatusForm(prev => ({ ...prev, followUpDate: e.target.value }))}\r\n                style={{\r\n                  width: '100%',\r\n                  padding: '8px 12px',\r\n                  border: '1px solid #d1d5db',\r\n                  borderRadius: '6px',\r\n                  fontSize: '14px'\r\n                }}\r\n              />\r\n            </div>\r\n\r\n            <div style={{ marginBottom: '20px' }}>\r\n              <label style={{ display: 'block', marginBottom: '6px', fontSize: '14px', fontWeight: '500', color: '#374151' }}>\r\n                Admin Notes\r\n              </label>\r\n              <textarea\r\n                value={statusForm.adminNotes}\r\n                onChange={(e) => setStatusForm(prev => ({ ...prev, adminNotes: e.target.value }))}\r\n                placeholder=\"Add internal notes about this report...\"\r\n                rows=\"4\"\r\n                style={{\r\n                  width: '100%',\r\n                  padding: '8px 12px',\r\n                  border: '1px solid #d1d5db',\r\n                  borderRadius: '6px',\r\n                  fontSize: '14px',\r\n                  resize: 'vertical'\r\n                }}\r\n              />\r\n            </div>\r\n\r\n            <div style={{ display: 'flex', gap: '12px', justifyContent: 'flex-end' }}>\r\n              <button\r\n                onClick={() => setShowStatusModal(false)}\r\n                style={{\r\n                  padding: '8px 16px',\r\n                  background: '#f3f4f6',\r\n                  color: '#6b7280',\r\n                  border: 'none',\r\n                  borderRadius: '6px',\r\n                  cursor: 'pointer',\r\n                  fontSize: '14px',\r\n                  fontWeight: '500'\r\n                }}\r\n              >\r\n                Cancel\r\n              </button>\r\n              <button\r\n                onClick={updateStatus}\r\n                style={{\r\n                  padding: '8px 16px',\r\n                  background: '#0a451c',\r\n                  color: 'white',\r\n                  border: 'none',\r\n                  borderRadius: '6px',\r\n                  cursor: 'pointer',\r\n                  fontSize: '14px',\r\n                  fontWeight: '500',\r\n                  display: 'flex',\r\n                  alignItems: 'center',\r\n                  gap: '6px'\r\n                }}\r\n              >\r\n                <CheckCircle size={16} />\r\n                Update Status\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Contact Modal */}\r\n      {showContactModal && selectedReport && (\r\n        <div style={{\r\n          position: 'fixed',\r\n          inset: 0,\r\n          background: 'rgba(0, 0, 0, 0.5)',\r\n          display: 'flex',\r\n          alignItems: 'center',\r\n          justifyContent: 'center',\r\n          zIndex: 1000\r\n        }} onClick={() => setShowContactModal(false)}>\r\n          <div style={{\r\n            background: 'white',\r\n            borderRadius: '12px',\r\n            padding: '24px',\r\n            maxWidth: '600px',\r\n            width: '90%'\r\n          }} onClick={(e) => e.stopPropagation()}>\r\n            <div style={{\r\n              display: 'flex',\r\n              alignItems: 'center',\r\n              justifyContent: 'space-between',\r\n              marginBottom: '20px'\r\n            }}>\r\n              <h2 style={{ margin: '0', color: '#1f2937' }}>Send Message</h2>\r\n              <button\r\n                onClick={() => setShowContactModal(false)}\r\n                style={{ background: 'none', border: 'none', cursor: 'pointer', color: '#6b7280', padding: '4px' }}\r\n              >\r\n                <X size={20} />\r\n              </button>\r\n            </div>\r\n\r\n            <div style={{ marginBottom: '16px' }}>\r\n              <label style={{ display: 'block', marginBottom: '6px', fontSize: '14px', fontWeight: '500', color: '#374151' }}>\r\n                Contact Type\r\n              </label>\r\n              <select\r\n                value={contactForm.contactType}\r\n                onChange={(e) => setContactForm(prev => ({ ...prev, contactType: e.target.value }))}\r\n                style={{\r\n                  width: '100%',\r\n                  padding: '8px 12px',\r\n                  border: '1px solid #d1d5db',\r\n                  borderRadius: '6px',\r\n                  fontSize: '14px'\r\n                }}\r\n              >\r\n                <option value=\"email\">Email</option>\r\n                <option value=\"phone\">Phone Call</option>\r\n                <option value=\"meeting\">Meeting</option>\r\n                <option value=\"other\">Other</option>\r\n              </select>\r\n            </div>\r\n\r\n            <div style={{ marginBottom: '16px' }}>\r\n              <label style={{ display: 'block', marginBottom: '6px', fontSize: '14px', fontWeight: '500', color: '#374151' }}>\r\n                Contact Method/Details\r\n              </label>\r\n              <input\r\n                type=\"text\"\r\n                value={contactForm.contactMethod}\r\n                onChange={(e) => setContactForm(prev => ({ ...prev, contactMethod: e.target.value }))}\r\n                placeholder=\"e.g., email address, phone number, meeting location\"\r\n                style={{\r\n                  width: '100%',\r\n                  padding: '8px 12px',\r\n                  border: '1px solid #d1d5db',\r\n                  borderRadius: '6px',\r\n                  fontSize: '14px'\r\n                }}\r\n              />\r\n            </div>\r\n\r\n            <div style={{ marginBottom: '16px' }}>\r\n              <label style={{ display: 'block', marginBottom: '6px', fontSize: '14px', fontWeight: '500', color: '#374151' }}>\r\n                Subject\r\n              </label>\r\n              <input\r\n                type=\"text\"\r\n                value={contactForm.subject}\r\n                onChange={(e) => setContactForm(prev => ({ ...prev, subject: e.target.value }))}\r\n                placeholder=\"Enter contact subject\"\r\n                style={{\r\n                  width: '100%',\r\n                  padding: '8px 12px',\r\n                  border: '1px solid #d1d5db',\r\n                  borderRadius: '6px',\r\n                  fontSize: '14px'\r\n                }}\r\n              />\r\n            </div>\r\n\r\n            <div style={{ marginBottom: '20px' }}>\r\n              <label style={{ display: 'block', marginBottom: '6px', fontSize: '14px', fontWeight: '500', color: '#374151' }}>\r\n                Message/Notes\r\n              </label>\r\n              <textarea\r\n                value={contactForm.message}\r\n                onChange={(e) => setContactForm(prev => ({ ...prev, message: e.target.value }))}\r\n                placeholder=\"Enter the message content or notes about the contact...\"\r\n                rows=\"6\"\r\n                style={{\r\n                  width: '100%',\r\n                  padding: '8px 12px',\r\n                  border: '1px solid #d1d5db',\r\n                  borderRadius: '6px',\r\n                  fontSize: '14px',\r\n                  resize: 'vertical'\r\n                }}\r\n              />\r\n            </div>\r\n\r\n            <div style={{ display: 'flex', gap: '12px', justifyContent: 'flex-end' }}>\r\n              <button\r\n                onClick={() => setShowContactModal(false)}\r\n                style={{\r\n                  padding: '8px 16px',\r\n                  background: '#f3f4f6',\r\n                  color: '#6b7280',\r\n                  border: 'none',\r\n                  borderRadius: '6px',\r\n                  cursor: 'pointer',\r\n                  fontSize: '14px',\r\n                  fontWeight: '500'\r\n                }}\r\n              >\r\n                Cancel\r\n              </button>\r\n              <button\r\n                onClick={addContact}\r\n                style={{\r\n                  padding: '8px 16px',\r\n                  background: '#facf3c',\r\n                  color: '#92400e',\r\n                  border: 'none',\r\n                  borderRadius: '6px',\r\n                  cursor: 'pointer',\r\n                  fontSize: '14px',\r\n                  fontWeight: '500',\r\n                  display: 'flex',\r\n                  alignItems: 'center',\r\n                  gap: '6px'\r\n                }}\r\n              >\r\n                <Send size={16} />\r\n                Send Message\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* CSS for spin animation */}\r\n      <style>{`\r\n        @keyframes spin {\r\n          from {\r\n            transform: rotate(0deg);\r\n          }\r\n          to {\r\n            transform: rotate(360deg);\r\n          }\r\n        }\r\n        \r\n        .animate-spin {\r\n          animation: spin 1s linear infinite;\r\n        }\r\n      `}</style>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AdminCollaborationManagement;","import React, { useState, useEffect, useCallback } from 'react';\r\nimport {\r\n  Box,\r\n  Typography,\r\n  Card,\r\n  CardContent,\r\n  CardMedia,\r\n  IconButton,\r\n  Button,\r\n  Dialog,\r\n  DialogTitle,\r\n  DialogContent,\r\n  DialogActions,\r\n  TextField,\r\n  Select,\r\n  MenuItem,\r\n  FormControl,\r\n  InputLabel,\r\n  Alert,\r\n  CircularProgress,\r\n  Grid,\r\n  Chip,\r\n  Paper,\r\n  Accordion,\r\n  AccordionSummary,\r\n  AccordionDetails,\r\n  Fab,\r\n  ImageList,\r\n  ImageListItem,\r\n  ImageListItemBar,\r\n  Stack,\r\n  Divider\r\n} from '@mui/material';\r\nimport {\r\n  Add as AddIcon,\r\n  Edit as EditIcon,\r\n  Delete as DeleteIcon,\r\n  ExpandMore as ExpandMoreIcon,\r\n  Timeline as TimelineIcon,\r\n  Close as CloseIcon,\r\n  Image as ImageIcon,\r\n  CalendarToday as CalendarIcon,\r\n  Star as StarIcon,\r\n  DragIndicator as DragIcon\r\n} from '@mui/icons-material';\r\n\r\nconst AdminManageHighlights = () => {\r\n  // State management\r\n  const [highlights, setHighlights] = useState({});\r\n  const [validYears, setValidYears] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState('');\r\n  \r\n  // Modal states\r\n  const [modalOpen, setModalOpen] = useState(false);\r\n  const [editMode, setEditMode] = useState(false);\r\n  const [editingHighlight, setEditingHighlight] = useState(null);\r\n  \r\n  // Form states\r\n  const [selectedYear, setSelectedYear] = useState('');\r\n  const [title, setTitle] = useState('');\r\n  const [description, setDescription] = useState('');\r\n  const [image, setImage] = useState(null);\r\n  const [imagePreview, setImagePreview] = useState('');\r\n  const [currentImageUrl, setCurrentImageUrl] = useState('');\r\n  const [submitLoading, setSubmitLoading] = useState(false);\r\n  const [submitError, setSubmitError] = useState('');\r\n  const [submitSuccess, setSubmitSuccess] = useState(false);\r\n  \r\n  // Delete confirmation dialog\r\n  const [deleteDialog, setDeleteDialog] = useState({ open: false, highlight: null });\r\n  const [expandedYear, setExpandedYear] = useState(null);\r\n\r\n  const API_URL = 'http://localhost:5000/api'; // Replace with your API URL\r\n  const STATIC_URL = 'http://localhost:5000'; // Replace with your static files URL\r\n\r\n  // Fetch all data\r\n  const fetchHighlights = useCallback(async () => {\r\n    try {\r\n      setLoading(true);\r\n      \r\n      // Fetch highlights and years\r\n      const [highlightsRes, yearsRes] = await Promise.all([\r\n        fetch(`${API_URL}/highlights`, { credentials: 'include' }),\r\n        fetch(`${API_URL}/highlights/years`, { credentials: 'include' })\r\n      ]);\r\n\r\n      if (!highlightsRes.ok || !yearsRes.ok) {\r\n        throw new Error('Failed to fetch data');\r\n      }\r\n\r\n      const highlightsData = await highlightsRes.json();\r\n      const yearsData = await yearsRes.json();\r\n\r\n      setHighlights(highlightsData.data || {});\r\n      setValidYears(yearsData.data?.validYears || []);\r\n      setError('');\r\n      \r\n      // Auto-expand most recent year with highlights\r\n      const years = Object.keys(highlightsData.data || {}).sort((a, b) => b - a);\r\n      if (years.length > 0) {\r\n        setExpandedYear(parseInt(years[0]));\r\n      }\r\n    } catch (err) {\r\n      console.error('Error fetching highlights:', err);\r\n      setError('Failed to load highlights');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }, [API_URL]);\r\n\r\n  useEffect(() => {\r\n    fetchHighlights();\r\n  }, [fetchHighlights]);\r\n\r\n  // Reset form\r\n  const resetForm = () => {\r\n    setSelectedYear('');\r\n    setTitle('');\r\n    setDescription('');\r\n    setImage(null);\r\n    setImagePreview('');\r\n    setCurrentImageUrl('');\r\n    setSubmitError('');\r\n    setSubmitSuccess(false);\r\n    setEditMode(false);\r\n    setEditingHighlight(null);\r\n  };\r\n\r\n  // Handle image selection\r\n  const handleImageChange = (event) => {\r\n    const file = event.target.files[0];\r\n    if (file) {\r\n      setImage(file);\r\n      const reader = new FileReader();\r\n      reader.onload = (e) => setImagePreview(e.target.result);\r\n      reader.readAsDataURL(file);\r\n    }\r\n  };\r\n\r\n  // Open add modal\r\n  const handleAddHighlight = () => {\r\n    resetForm();\r\n    setSelectedYear(validYears[0] || '');\r\n    setModalOpen(true);\r\n  };\r\n\r\n  // Open edit modal\r\n  const handleEditHighlight = (highlight) => {\r\n    setEditMode(true);\r\n    setEditingHighlight(highlight);\r\n    setSelectedYear(highlight.year.toString());\r\n    setTitle(highlight.title);\r\n    setDescription(highlight.description || '');\r\n    setCurrentImageUrl(highlight.image_url || '');\r\n    setImage(null);\r\n    setImagePreview('');\r\n    setSubmitError('');\r\n    setSubmitSuccess(false);\r\n    setModalOpen(true);\r\n  };\r\n\r\n  // Close modal\r\n  const handleModalClose = () => {\r\n    setModalOpen(false);\r\n    resetForm();\r\n  };\r\n\r\n  // Submit form\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    \r\n    if (!selectedYear || !title.trim()) {\r\n      setSubmitError('Year and title are required');\r\n      return;\r\n    }\r\n\r\n    if (!editMode && !image) {\r\n      setSubmitError('Image is required for new highlights');\r\n      return;\r\n    }\r\n\r\n    setSubmitLoading(true);\r\n    setSubmitError('');\r\n    setSubmitSuccess(false);\r\n\r\n    try {\r\n      const formData = new FormData();\r\n      formData.append('year', selectedYear);\r\n      formData.append('title', title.trim());\r\n      formData.append('description', description.trim());\r\n      \r\n      if (image) {\r\n        formData.append('image', image);\r\n      }\r\n\r\n      const url = editMode \r\n        ? `${API_URL}/highlights/${editingHighlight.id}`\r\n        : `${API_URL}/highlights`;\r\n      \r\n      const method = editMode ? 'PUT' : 'POST';\r\n\r\n      const response = await fetch(url, {\r\n        method,\r\n        credentials: 'include',\r\n        body: formData\r\n      });\r\n\r\n      if (!response.ok) {\r\n        const errorData = await response.json();\r\n        throw new Error(errorData.message || 'Failed to save highlight');\r\n      }\r\n\r\n      setSubmitSuccess(true);\r\n      fetchHighlights();\r\n      \r\n      setTimeout(() => {\r\n        handleModalClose();\r\n      }, 1500);\r\n    } catch (err) {\r\n      console.error('Error saving highlight:', err);\r\n      setSubmitError(err.message);\r\n    } finally {\r\n      setSubmitLoading(false);\r\n    }\r\n  };\r\n\r\n  // Delete highlight\r\n  const handleDeleteClick = (highlight) => {\r\n    setDeleteDialog({ open: true, highlight });\r\n  };\r\n\r\n  const handleDeleteConfirm = async () => {\r\n    const { highlight } = deleteDialog;\r\n    if (!highlight) return;\r\n\r\n    try {\r\n      const response = await fetch(`${API_URL}/highlights/${highlight.id}`, {\r\n        method: 'DELETE',\r\n        credentials: 'include'\r\n      });\r\n\r\n      if (!response.ok) {\r\n        throw new Error('Failed to delete highlight');\r\n      }\r\n\r\n      fetchHighlights();\r\n      setDeleteDialog({ open: false, highlight: null });\r\n    } catch (err) {\r\n      console.error('Error deleting highlight:', err);\r\n      setError('Failed to delete highlight');\r\n    }\r\n  };\r\n\r\n  const handleDeleteCancel = () => {\r\n    setDeleteDialog({ open: false, highlight: null });\r\n  };\r\n\r\n  // Toggle year accordion\r\n  const handleAccordionChange = (year) => (event, isExpanded) => {\r\n    setExpandedYear(isExpanded ? year : null);\r\n  };\r\n\r\n  // Get total highlights count\r\n  const getTotalHighlights = () => {\r\n    return Object.values(highlights).reduce((total, yearHighlights) => total + yearHighlights.length, 0);\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <Box sx={{ display: 'flex', justifyContent: 'center', alignItems: 'center', minHeight: 400 }}>\r\n        <CircularProgress size={60} />\r\n      </Box>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Box sx={{ p: 3, position: 'relative' }}>\r\n      {/* Header */}\r\n      <Box sx={{ mb: 4 }}>\r\n        <Box sx={{ display: 'flex', alignItems: 'center', gap: 2, mb: 2 }}>\r\n          <TimelineIcon sx={{ fontSize: 32, color: 'primary.main' }} />\r\n          <Typography variant=\"h4\" sx={{ fontWeight: 700 }}>\r\n            Highlights Management\r\n          </Typography>\r\n        </Box>\r\n        <Typography variant=\"body1\" color=\"text.secondary\">\r\n          Manage organization achievements and milestones by year\r\n        </Typography>\r\n      </Box>\r\n\r\n      {/* Error Alert */}\r\n      {error && (\r\n        <Alert severity=\"error\" sx={{ mb: 3 }} onClose={() => setError('')}>\r\n          {error}\r\n        </Alert>\r\n      )}\r\n\r\n      {/* Stats Cards */}\r\n      <Grid container spacing={3} sx={{ mb: 4 }}>\r\n        <Grid item xs={12} md={4}>\r\n          <Card sx={{ background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)', color: 'white' }}>\r\n            <CardContent>\r\n              <Box sx={{ display: 'flex', alignItems: 'center', justifyContent: 'space-between' }}>\r\n                <Box>\r\n                  <Typography variant=\"h3\" sx={{ fontWeight: 700 }}>\r\n                    {getTotalHighlights()}\r\n                  </Typography>\r\n                  <Typography variant=\"body2\" sx={{ opacity: 0.9 }}>\r\n                    Total Highlights\r\n                  </Typography>\r\n                </Box>\r\n                <StarIcon sx={{ fontSize: 40, opacity: 0.8 }} />\r\n              </Box>\r\n            </CardContent>\r\n          </Card>\r\n        </Grid>\r\n        \r\n        <Grid item xs={12} md={4}>\r\n          <Card sx={{ background: 'linear-gradient(135deg, #f093fb 0%, #f5576c 100%)', color: 'white' }}>\r\n            <CardContent>\r\n              <Box sx={{ display: 'flex', alignItems: 'center', justifyContent: 'space-between' }}>\r\n                <Box>\r\n                  <Typography variant=\"h3\" sx={{ fontWeight: 700 }}>\r\n                    {Object.keys(highlights).length}\r\n                  </Typography>\r\n                  <Typography variant=\"body2\" sx={{ opacity: 0.9 }}>\r\n                    Active Years\r\n                  </Typography>\r\n                </Box>\r\n                <CalendarIcon sx={{ fontSize: 40, opacity: 0.8 }} />\r\n              </Box>\r\n            </CardContent>\r\n          </Card>\r\n        </Grid>\r\n        \r\n        <Grid item xs={12} md={4}>\r\n          <Card sx={{ background: 'linear-gradient(135deg, #4facfe 0%, #00f2fe 100%)', color: 'white' }}>\r\n            <CardContent>\r\n              <Box sx={{ display: 'flex', alignItems: 'center', justifyContent: 'space-between' }}>\r\n                <Box>\r\n                  <Typography variant=\"h3\" sx={{ fontWeight: 700 }}>\r\n                    {new Date().getFullYear()}\r\n                  </Typography>\r\n                  <Typography variant=\"body2\" sx={{ opacity: 0.9 }}>\r\n                    Current Year\r\n                  </Typography>\r\n                </Box>\r\n                <TimelineIcon sx={{ fontSize: 40, opacity: 0.8 }} />\r\n              </Box>\r\n            </CardContent>\r\n          </Card>\r\n        </Grid>\r\n      </Grid>\r\n\r\n      {/* Main Content */}\r\n      <Paper elevation={2} sx={{ p: 3 }}>\r\n        <Box sx={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', mb: 3 }}>\r\n          <Typography variant=\"h6\" sx={{ fontWeight: 600 }}>\r\n            Highlights by Year\r\n          </Typography>\r\n          <Button\r\n            variant=\"contained\"\r\n            startIcon={<AddIcon />}\r\n            onClick={handleAddHighlight}\r\n            size=\"large\"\r\n            sx={{ borderRadius: 2 }}\r\n          >\r\n            Add New Highlight\r\n          </Button>\r\n        </Box>\r\n\r\n        {Object.keys(highlights).length === 0 ? (\r\n          <Box sx={{ textAlign: 'center', py: 8 }}>\r\n            <TimelineIcon sx={{ fontSize: 80, color: 'text.secondary', mb: 2 }} />\r\n            <Typography variant=\"h6\" color=\"text.secondary\" gutterBottom>\r\n              No highlights found\r\n            </Typography>\r\n            <Typography variant=\"body2\" color=\"text.secondary\" sx={{ mb: 3 }}>\r\n              Create your first organizational highlight to get started\r\n            </Typography>\r\n            <Button\r\n              variant=\"contained\"\r\n              startIcon={<AddIcon />}\r\n              onClick={handleAddHighlight}\r\n            >\r\n              Add First Highlight\r\n            </Button>\r\n          </Box>\r\n        ) : (\r\n          <Box>\r\n            {Object.keys(highlights)\r\n              .sort((a, b) => b - a) // Sort years descending\r\n              .map((year) => (\r\n                <Accordion\r\n                  key={year}\r\n                  expanded={expandedYear === parseInt(year)}\r\n                  onChange={handleAccordionChange(parseInt(year))}\r\n                  sx={{ mb: 2, '&:before': { display: 'none' } }}\r\n                >\r\n                  <AccordionSummary\r\n                    expandIcon={<ExpandMoreIcon />}\r\n                    sx={{\r\n                      backgroundColor: 'primary.main',\r\n                      color: 'white',\r\n                      borderRadius: '8px 8px 0 0',\r\n                      '&.Mui-expanded': {\r\n                        borderRadius: '8px 8px 0 0'\r\n                      }\r\n                    }}\r\n                  >\r\n                    <Box sx={{ display: 'flex', alignItems: 'center', gap: 2, width: '100%' }}>\r\n                      <CalendarIcon />\r\n                      <Typography variant=\"h6\" sx={{ fontWeight: 600 }}>\r\n                        {year}\r\n                      </Typography>\r\n                      <Chip\r\n                        label={`${highlights[year].length} highlights`}\r\n                        size=\"small\"\r\n                        sx={{\r\n                          backgroundColor: 'rgba(255,255,255,0.2)',\r\n                          color: 'white',\r\n                          fontWeight: 600\r\n                        }}\r\n                      />\r\n                    </Box>\r\n                  </AccordionSummary>\r\n                  \r\n                  <AccordionDetails sx={{ p: 3 }}>\r\n                    {highlights[year].length === 0 ? (\r\n                      <Typography color=\"text.secondary\" sx={{ textAlign: 'center', py: 4 }}>\r\n                        No highlights for {year}\r\n                      </Typography>\r\n                    ) : (\r\n                      <ImageList variant=\"masonry\" cols={3} gap={16}>\r\n                        {highlights[year].map((highlight, index) => (\r\n                          <ImageListItem key={highlight.id}>\r\n                            <Card elevation={3} sx={{ height: '100%' }}>\r\n                              {highlight.image_url && (\r\n                                <CardMedia\r\n                                  component=\"img\"\r\n                                  height=\"200\"\r\n                                  image={`${STATIC_URL}${highlight.image_url}`}\r\n                                  alt={highlight.title}\r\n                                  sx={{ objectFit: 'cover' }}\r\n                                />\r\n                              )}\r\n                              \r\n                              <CardContent sx={{ flexGrow: 1 }}>\r\n                                <Box sx={{ display: 'flex', alignItems: 'center', gap: 1, mb: 1 }}>\r\n                                  <DragIcon sx={{ color: 'text.secondary', fontSize: 16 }} />\r\n                                  <Chip\r\n                                    label={`#${highlight.display_order || index + 1}`}\r\n                                    size=\"small\"\r\n                                    color=\"primary\"\r\n                                    variant=\"outlined\"\r\n                                  />\r\n                                </Box>\r\n                                \r\n                                <Typography variant=\"h6\" sx={{ fontWeight: 600, mb: 1 }}>\r\n                                  {highlight.title}\r\n                                </Typography>\r\n                                \r\n                                {highlight.description && (\r\n                                  <Typography\r\n                                    variant=\"body2\"\r\n                                    color=\"text.secondary\"\r\n                                    sx={{\r\n                                      display: '-webkit-box',\r\n                                      WebkitLineClamp: 3,\r\n                                      WebkitBoxOrient: 'vertical',\r\n                                      overflow: 'hidden',\r\n                                      mb: 2\r\n                                    }}\r\n                                  >\r\n                                    {highlight.description}\r\n                                  </Typography>\r\n                                )}\r\n                                \r\n                                <Box sx={{ display: 'flex', gap: 1 }}>\r\n                                  <IconButton\r\n                                    size=\"small\"\r\n                                    color=\"primary\"\r\n                                    onClick={() => handleEditHighlight(highlight)}\r\n                                  >\r\n                                    <EditIcon />\r\n                                  </IconButton>\r\n                                  \r\n                                  <IconButton\r\n                                    size=\"small\"\r\n                                    color=\"error\"\r\n                                    onClick={() => handleDeleteClick(highlight)}\r\n                                  >\r\n                                    <DeleteIcon />\r\n                                  </IconButton>\r\n                                </Box>\r\n                              </CardContent>\r\n                            </Card>\r\n                          </ImageListItem>\r\n                        ))}\r\n                      </ImageList>\r\n                    )}\r\n                  </AccordionDetails>\r\n                </Accordion>\r\n              ))}\r\n          </Box>\r\n        )}\r\n      </Paper>\r\n\r\n      {/* Add/Edit Modal */}\r\n      <Dialog\r\n        open={modalOpen}\r\n        onClose={handleModalClose}\r\n        maxWidth=\"md\"\r\n        fullWidth\r\n        PaperProps={{ sx: { borderRadius: 2 } }}\r\n      >\r\n        <DialogTitle sx={{\r\n          display: 'flex',\r\n          justifyContent: 'space-between',\r\n          alignItems: 'center',\r\n          pb: 2\r\n        }}>\r\n          <Typography variant=\"h6\" sx={{ fontWeight: 600 }}>\r\n            {editMode ? 'Edit Highlight' : 'Add New Highlight'}\r\n          </Typography>\r\n          <IconButton onClick={handleModalClose} size=\"small\">\r\n            <CloseIcon />\r\n          </IconButton>\r\n        </DialogTitle>\r\n        \r\n        <DialogContent sx={{ p: 3 }}>\r\n          {submitSuccess && (\r\n            <Alert severity=\"success\" sx={{ mb: 3 }}>\r\n              Highlight {editMode ? 'updated' : 'created'} successfully!\r\n            </Alert>\r\n          )}\r\n\r\n          {submitError && (\r\n            <Alert severity=\"error\" sx={{ mb: 3 }}>\r\n              {submitError}\r\n            </Alert>\r\n          )}\r\n\r\n          <form onSubmit={handleSubmit}>\r\n            <Grid container spacing={3}>\r\n              <Grid item xs={12} md={6}>\r\n                <FormControl fullWidth required>\r\n                  <InputLabel>Year</InputLabel>\r\n                  <Select\r\n                    value={selectedYear}\r\n                    onChange={(e) => setSelectedYear(e.target.value)}\r\n                    label=\"Year\"\r\n                    disabled={submitLoading || submitSuccess}\r\n                  >\r\n                    {validYears.map((year) => (\r\n                      <MenuItem key={year} value={year}>\r\n                        {year}\r\n                      </MenuItem>\r\n                    ))}\r\n                  </Select>\r\n                </FormControl>\r\n              </Grid>\r\n\r\n              <Grid item xs={12} md={6}>\r\n                <TextField\r\n                  label=\"Highlight Title\"\r\n                  value={title}\r\n                  onChange={(e) => setTitle(e.target.value)}\r\n                  fullWidth\r\n                  required\r\n                  disabled={submitLoading || submitSuccess}\r\n                />\r\n              </Grid>\r\n\r\n              <Grid item xs={12}>\r\n                <TextField\r\n                  label=\"Description\"\r\n                  value={description}\r\n                  onChange={(e) => setDescription(e.target.value)}\r\n                  fullWidth\r\n                  multiline\r\n                  rows={4}\r\n                  disabled={submitLoading || submitSuccess}\r\n                  placeholder=\"Describe this achievement or milestone...\"\r\n                />\r\n              </Grid>\r\n\r\n              <Grid item xs={12}>\r\n                <Paper variant=\"outlined\" sx={{ p: 3 }}>\r\n                  <Stack spacing={2}>\r\n                    <Box sx={{ display: 'flex', alignItems: 'center', gap: 1 }}>\r\n                      <ImageIcon color=\"primary\" />\r\n                      <Typography variant=\"subtitle1\" sx={{ fontWeight: 600 }}>\r\n                        Highlight Image {!editMode && <span style={{ color: 'red' }}>*</span>}\r\n                      </Typography>\r\n                    </Box>\r\n\r\n                    {(currentImageUrl && !imagePreview) && (\r\n                      <Box>\r\n                        <Typography variant=\"body2\" color=\"text.secondary\" sx={{ mb: 1 }}>\r\n                          Current image:\r\n                        </Typography>\r\n                        <img\r\n                          src={`${STATIC_URL}${currentImageUrl}`}\r\n                          alt=\"Current highlight\"\r\n                          style={{\r\n                            width: '200px',\r\n                            height: '150px',\r\n                            objectFit: 'cover',\r\n                            borderRadius: '8px'\r\n                          }}\r\n                        />\r\n                      </Box>\r\n                    )}\r\n\r\n                    {imagePreview && (\r\n                      <Box>\r\n                        <Typography variant=\"body2\" color=\"text.secondary\" sx={{ mb: 1 }}>\r\n                          New image preview:\r\n                        </Typography>\r\n                        <img\r\n                          src={imagePreview}\r\n                          alt=\"Preview\"\r\n                          style={{\r\n                            width: '200px',\r\n                            height: '150px',\r\n                            objectFit: 'cover',\r\n                            borderRadius: '8px'\r\n                          }}\r\n                        />\r\n                      </Box>\r\n                    )}\r\n\r\n                    <input\r\n                      type=\"file\"\r\n                      accept=\"image/*\"\r\n                      onChange={handleImageChange}\r\n                      required={!editMode}\r\n                      disabled={submitLoading || submitSuccess}\r\n                      style={{\r\n                        padding: '12px',\r\n                        border: '2px dashed #e0e0e0',\r\n                        borderRadius: '8px',\r\n                        backgroundColor: '#fafafa'\r\n                      }}\r\n                    />\r\n                    \r\n                    <Typography variant=\"caption\" color=\"text.secondary\">\r\n                      Supported formats: JPG, PNG, GIF, WebP (Max: 10MB)\r\n                    </Typography>\r\n                  </Stack>\r\n                </Paper>\r\n              </Grid>\r\n            </Grid>\r\n          </form>\r\n        </DialogContent>\r\n\r\n        <DialogActions sx={{ p: 3, gap: 2 }}>\r\n          <Button\r\n            onClick={handleModalClose}\r\n            disabled={submitLoading}\r\n            variant=\"outlined\"\r\n            size=\"large\"\r\n          >\r\n            Cancel\r\n          </Button>\r\n          <Button\r\n            onClick={handleSubmit}\r\n            disabled={submitLoading || submitSuccess}\r\n            variant=\"contained\"\r\n            size=\"large\"\r\n            startIcon={submitLoading ? <CircularProgress size={16} /> : null}\r\n          >\r\n            {submitLoading\r\n              ? (editMode ? 'Updating...' : 'Creating...')\r\n              : (editMode ? 'Update Highlight' : 'Create Highlight')\r\n            }\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n\r\n      {/* Delete Confirmation Dialog */}\r\n      <Dialog\r\n        open={deleteDialog.open}\r\n        onClose={handleDeleteCancel}\r\n        PaperProps={{ sx: { borderRadius: 2 } }}\r\n      >\r\n        <DialogTitle>Delete Highlight</DialogTitle>\r\n        <DialogContent>\r\n          <Typography>\r\n            Are you sure you want to delete \"{deleteDialog.highlight?.title}\"?\r\n            This action cannot be undone.\r\n          </Typography>\r\n        </DialogContent>\r\n        <DialogActions sx={{ p: 2, gap: 1 }}>\r\n          <Button onClick={handleDeleteCancel} variant=\"outlined\">\r\n            Cancel\r\n          </Button>\r\n          <Button\r\n            onClick={handleDeleteConfirm}\r\n            variant=\"contained\"\r\n            color=\"error\"\r\n          >\r\n            Delete\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n\r\n      {/* Floating Add Button for Mobile */}\r\n      <Fab\r\n        color=\"primary\"\r\n        aria-label=\"add\"\r\n        onClick={handleAddHighlight}\r\n        sx={{\r\n          position: 'fixed',\r\n          bottom: 24,\r\n          right: 24,\r\n          display: { xs: 'flex', md: 'none' }\r\n        }}\r\n      >\r\n        <AddIcon />\r\n      </Fab>\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default AdminManageHighlights;","import React, { useState, useEffect, useRef } from 'react';\r\nimport axios from 'axios';\r\n\r\nimport { \r\n  Search, \r\n  Upload, \r\n  Edit3, \r\n  Trash2, \r\n  Shield, \r\n  ShieldOff, \r\n  Eye, \r\n  EyeOff, \r\n  Filter, \r\n  Grid, \r\n  List, \r\n  Plus, \r\n  X, \r\n  Save, \r\n  AlertTriangle,\r\n  ImageIcon,\r\n  Tag,\r\n  Clock,\r\n  FileText,\r\n  Download\r\n} from 'lucide-react';\r\nimport { API_URL, STATIC_URL } from '../../config';\r\n\r\nconst GalleryManager = () => {\r\n  // State management\r\n  const [images, setImages] = useState([]);\r\n  const [categories, setCategories] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState('');\r\n  const [success, setSuccess] = useState('');\r\n  \r\n  // UI States\r\n  const [viewMode, setViewMode] = useState('grid');\r\n  const [selectedImages, setSelectedImages] = useState([]);\r\n  const [showModal, setShowModal] = useState(false);\r\n  const [modalMode, setModalMode] = useState('create'); // create, edit, view\r\n  const [currentImage, setCurrentImage] = useState(null);\r\n  \r\n  // Confirmation dialog state\r\n  const [showConfirmDialog, setShowConfirmDialog] = useState(false);\r\n  const [confirmAction, setConfirmAction] = useState(null);\r\n  const [confirmMessage, setConfirmMessage] = useState('');\r\n  \r\n  // Filters and Search\r\n  const [searchTerm, setSearchTerm] = useState('');\r\n  const [categoryFilter, setCategoryFilter] = useState('all');\r\n  const [statusFilter, setStatusFilter] = useState('all');\r\n  const [protectionFilter, setProtectionFilter] = useState('all');\r\n  const [sortBy, setSortBy] = useState('updated_at');\r\n  const [sortOrder, setSortOrder] = useState('DESC');\r\n  const [currentPage, setCurrentPage] = useState(1);\r\n  const [itemsPerPage] = useState(20);\r\n  const [totalPages, setTotalPages] = useState(1);\r\n  \r\n  // Form states\r\n  const [formData, setFormData] = useState({\r\n    name: '',\r\n    description: '',\r\n    alt_text: '',\r\n    category: 'general',\r\n    usage_locations: [],\r\n    is_active: true\r\n  });\r\n  const [selectedFile, setSelectedFile] = useState(null);\r\n  const [previewUrl, setPreviewUrl] = useState('');\r\n  const fileInputRef = useRef(null);\r\n\r\n  // Predefined usage locations for your specific use cases\r\n  const usageLocationOptions = [\r\n    { value: 'hero-section', label: 'Hero Section Slides', description: 'Homepage hero slider images' },\r\n    { value: 'about-acefinfo', label: 'About AcefInfo Section', description: 'Homepage about section' },\r\n    { value: 'others-board', label: 'Others Board Section', description: 'Homepage board section' },\r\n    { value: 'mission-card', label: 'Mission Card', description: 'About Us mission card' },\r\n    { value: 'vision-card', label: 'Vision Card', description: 'About Us vision card' },\r\n    { value: 'impact-hero', label: 'Impact Hero Image', description: 'Impact page hero' },\r\n    { value: 'get-involved-hero', label: 'Get Involved Hero', description: 'Get Involved page hero' }\r\n  ];\r\n\r\n  // API Functions\r\n  const apiCall = async (endpoint, options = {}) => {\r\n    try {\r\n    const response = await fetch(`${API_URL}/gallery${endpoint}`, {\r\n      \r\n\r\n        ...options,\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          ...options.headers\r\n        }\r\n      });\r\n      \r\n      if (!response.ok) {\r\n        const errorData = await response.json();\r\n        throw new Error(errorData.message || 'API request failed');\r\n      }\r\n      \r\n      return await response.json();\r\n    } catch (error) {\r\n      console.error('API Error:', error);\r\n      throw error;\r\n    }\r\n  };\r\n\r\n  const fetchImages = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const queryParams = new URLSearchParams({\r\n        page: currentPage,\r\n        limit: itemsPerPage,\r\n        search: searchTerm,\r\n        category: categoryFilter,\r\n        is_active: statusFilter,\r\n        is_protected: protectionFilter,\r\n        sort_by: sortBy,\r\n        sort_order: sortOrder\r\n      });\r\n\r\n      const response = await apiCall(`/?${queryParams}`);\r\n      setImages(response.data);\r\n      setTotalPages(response.pagination.totalPages);\r\n    } catch (error) {\r\n      setError('Failed to fetch images: ' + error.message);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const fetchCategories = async () => {\r\n    try {\r\n      const response = await apiCall('/categories/list');\r\n      setCategories(response.data);\r\n    } catch (error) {\r\n      console.error('Failed to fetch categories:', error);\r\n    }\r\n  };\r\n\r\n  // CRUD Operations\r\n  const createImage = async () => {\r\n    if (!selectedFile) {\r\n      setError('Please select an image file');\r\n      return;\r\n    }\r\n\r\n    const formDataObj = new FormData();\r\n    formDataObj.append('image', selectedFile);\r\n    formDataObj.append('name', formData.name);\r\n    formDataObj.append('description', formData.description);\r\n    formDataObj.append('alt_text', formData.alt_text || formData.name);\r\n    formDataObj.append('category', formData.category);\r\n    formDataObj.append('usage_locations', JSON.stringify(formData.usage_locations));\r\n\r\n    try {\r\n      setLoading(true);\r\n\r\n      await fetch(`${API_URL}/gallery`, {\r\n        method: 'POST',\r\n        body: formDataObj\r\n      });\r\n      \r\n      setSuccess('Image uploaded successfully');\r\n      setShowModal(false);\r\n      resetForm();\r\n      fetchImages();\r\n    } catch (error) {\r\n      setError('Failed to upload image: ' + error.message);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const updateImage = async () => {\r\n    const formDataObj = new FormData();\r\n    if (selectedFile) {\r\n      formDataObj.append('image', selectedFile);\r\n    }\r\n    formDataObj.append('name', formData.name);\r\n    formDataObj.append('description', formData.description);\r\n    formDataObj.append('alt_text', formData.alt_text);\r\n    formDataObj.append('category', formData.category);\r\n    formDataObj.append('usage_locations', JSON.stringify(formData.usage_locations));\r\n    formDataObj.append('is_active', formData.is_active);\r\n\r\n    try {\r\n      setLoading(true);\r\n      await fetch(`${API_URL}/gallery, {currentImage.id}`, {\r\n        method: 'PUT',\r\n        body: formDataObj\r\n      });\r\n      \r\n      setSuccess('Image updated successfully');\r\n      setShowModal(false);\r\n      resetForm();\r\n      fetchImages();\r\n    } catch (error) {\r\n      setError('Failed to update image: ' + error.message);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const deleteImage = async (id) => {\r\n    showConfirmation('Are you sure you want to delete this image?', async () => {\r\n      try {\r\n        await apiCall(`/${id}`, { method: 'DELETE' });\r\n        setSuccess('Image deleted successfully');\r\n        fetchImages();\r\n      } catch (error) {\r\n        setError('Failed to delete image: ' + error.message);\r\n      }\r\n    });\r\n  };\r\n\r\n  const toggleProtection = async (id, isProtected) => {\r\n    try {\r\n      await apiCall(`/${id}/protection`, {\r\n        method: 'PUT',\r\n        body: JSON.stringify({ is_protected: !isProtected })\r\n      });\r\n      setSuccess(`Image ${!isProtected ? 'protected' : 'unprotected'} successfully`);\r\n      fetchImages();\r\n    } catch (error) {\r\n      setError('Failed to toggle protection: ' + error.message);\r\n    }\r\n  };\r\n\r\n  const bulkUpdate = async (updates) => {\r\n    if (selectedImages.length === 0) {\r\n      setError('Please select images to update');\r\n      return;\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n    \r\n    try {\r\n      await apiCall('/bulk/update', {\r\n        method: 'PUT',\r\n        body: JSON.stringify({\r\n          ids: selectedImages,\r\n          updates\r\n        })\r\n      });\r\n      setSuccess(`${selectedImages.length} images updated successfully`);\r\n      setSelectedImages([]);\r\n      fetchImages();\r\n    } catch (error) {\r\n      setError('Bulk update failed: ' + error.message);\r\n    }\r\n  };\r\n\r\n  // Utility functions\r\n  const showConfirmation = (message, action) => {\r\n    setConfirmMessage(message);\r\n    setConfirmAction(() => action);\r\n    setShowConfirmDialog(true);\r\n  };\r\n\r\n  const handleConfirm = async () => {\r\n    if (confirmAction) {\r\n      await confirmAction();\r\n    }\r\n    setShowConfirmDialog(false);\r\n    setConfirmAction(null);\r\n    setConfirmMessage('');\r\n  };\r\n\r\n  const resetForm = () => {\r\n    setFormData({\r\n      name: '',\r\n      description: '',\r\n      alt_text: '',\r\n      category: 'general',\r\n      usage_locations: [],\r\n      is_active: true\r\n    });\r\n    setSelectedFile(null);\r\n    setPreviewUrl('');\r\n    setCurrentImage(null);\r\n  };\r\n\r\n  const openModal = (mode, image = null) => {\r\n    setModalMode(mode);\r\n    setCurrentImage(image);\r\n    \r\n    if (image) {\r\n      setFormData({\r\n        name: image.name,\r\n        description: image.description || '',\r\n        alt_text: image.alt_text || '',\r\n        category: image.category,\r\n        usage_locations: JSON.parse(image.usage_locations || '[]'),\r\n        is_active: image.is_active === 1\r\n      });\r\n      setPreviewUrl(image.image_url);\r\n    } else {\r\n      resetForm();\r\n    }\r\n    \r\n    setShowModal(true);\r\n  };\r\n\r\n  const handleFileSelect = (e) => {\r\n    const file = e.target.files[0];\r\n    if (file) {\r\n      setSelectedFile(file);\r\n      const reader = new FileReader();\r\n      reader.onload = (e) => setPreviewUrl(e.target.result);\r\n      reader.readAsDataURL(file);\r\n      \r\n      // Auto-fill name if empty\r\n      if (!formData.name) {\r\n        setFormData(prev => ({ ...prev, name: file.name.split('.')[0] }));\r\n      }\r\n    }\r\n  };\r\n\r\n  const formatFileSize = (bytes) => {\r\n    if (bytes === 0) return '0 Bytes';\r\n    const k = 1024;\r\n    const sizes = ['Bytes', 'KB', 'MB', 'GB'];\r\n    const i = Math.floor(Math.log(bytes) / Math.log(k));\r\n    return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];\r\n  };\r\n\r\n  // Effects\r\n  useEffect(() => {\r\n    fetchImages();\r\n  }, [currentPage, searchTerm, categoryFilter, statusFilter, protectionFilter, sortBy, sortOrder]);\r\n\r\n  useEffect(() => {\r\n    fetchCategories();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (error || success) {\r\n      const timer = setTimeout(() => {\r\n        setError('');\r\n        setSuccess('');\r\n      }, 5000);\r\n      return () => clearTimeout(timer);\r\n    }\r\n  }, [error, success]);\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-50 p-6\">\r\n      {/* Header */}\r\n      <div className=\"bg-white rounded-lg shadow-sm p-6 mb-6\">\r\n        <div className=\"flex justify-between items-center mb-4\">\r\n          <h1 className=\"text-2xl font-bold text-gray-800\">Gallery Manager</h1>\r\n          <button\r\n            onClick={() => openModal('create')}\r\n            className=\"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2\"\r\n          >\r\n            <Plus className=\"w-4 h-4\" />\r\n            Upload Image\r\n          </button>\r\n        </div>\r\n\r\n        {/* Filters */}\r\n        <div className=\"grid grid-cols-1 md:grid-cols-5 gap-4 mb-4\">\r\n          <div className=\"relative\">\r\n            <Search className=\"absolute left-3 top-3 w-4 h-4 text-gray-400\" />\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"Search images...\"\r\n              value={searchTerm}\r\n              onChange={(e) => setSearchTerm(e.target.value)}\r\n              className=\"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n            />\r\n          </div>\r\n\r\n          <select\r\n            value={categoryFilter}\r\n            onChange={(e) => setCategoryFilter(e.target.value)}\r\n            className=\"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\r\n          >\r\n            <option value=\"all\">All Categories</option>\r\n            {categories.map(cat => (\r\n              <option key={cat.name} value={cat.name}>{cat.name}</option>\r\n            ))}\r\n          </select>\r\n\r\n          <select\r\n            value={statusFilter}\r\n            onChange={(e) => setStatusFilter(e.target.value)}\r\n            className=\"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\r\n          >\r\n            <option value=\"all\">All Status</option>\r\n            <option value=\"true\">Active</option>\r\n            <option value=\"false\">Inactive</option>\r\n          </select>\r\n\r\n          <select\r\n            value={protectionFilter}\r\n            onChange={(e) => setProtectionFilter(e.target.value)}\r\n            className=\"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\r\n          >\r\n            <option value=\"all\">All Protection</option>\r\n            <option value=\"true\">Protected</option>\r\n            <option value=\"false\">Unprotected</option>\r\n          </select>\r\n\r\n          <div className=\"flex gap-2\">\r\n            <button\r\n              onClick={() => setViewMode(viewMode === 'grid' ? 'list' : 'grid')}\r\n              className=\"p-2 border border-gray-300 rounded-lg hover:bg-gray-50\"\r\n            >\r\n              {viewMode === 'grid' ? <List className=\"w-4 h-4\" /> : <Grid className=\"w-4 h-4\" />}\r\n            </button>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Bulk Actions */}\r\n        {selectedImages.length > 0 && (\r\n          <div className=\"flex gap-2 p-3 bg-blue-50 rounded-lg\">\r\n            <span className=\"text-sm text-blue-800\">\r\n              {selectedImages.length} selected\r\n            </span>\r\n            <button\r\n              onClick={() => bulkUpdate({ is_active: true })}\r\n              className=\"text-xs bg-green-600 text-white px-2 py-1 rounded\"\r\n            >\r\n              Activate\r\n            </button>\r\n            <button\r\n              onClick={() => bulkUpdate({ is_active: false })}\r\n              className=\"text-xs bg-gray-600 text-white px-2 py-1 rounded\"\r\n            >\r\n              Deactivate\r\n            </button>\r\n            <button\r\n              onClick={() => bulkUpdate({ is_protected: true })}\r\n              className=\"text-xs bg-yellow-600 text-white px-2 py-1 rounded\"\r\n            >\r\n              Protect\r\n            </button>\r\n            <button\r\n              onClick={() => setSelectedImages([])}\r\n              className=\"text-xs bg-red-600 text-white px-2 py-1 rounded\"\r\n            >\r\n              Clear Selection\r\n            </button>\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {/* Alerts */}\r\n      {error && (\r\n        <div className=\"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded mb-4 flex items-center gap-2\">\r\n          <AlertTriangle className=\"w-4 h-4\" />\r\n          {error}\r\n        </div>\r\n      )}\r\n\r\n      {success && (\r\n        <div className=\"bg-green-50 border border-green-200 text-green-700 px-4 py-3 rounded mb-4\">\r\n          {success}\r\n        </div>\r\n      )}\r\n\r\n      {/* Images Grid/List */}\r\n      <div className=\"bg-white rounded-lg shadow-sm\">\r\n        {loading ? (\r\n          <div className=\"p-8 text-center\">\r\n            <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto\"></div>\r\n            <p className=\"mt-4 text-gray-600\">Loading images...</p>\r\n          </div>\r\n        ) : images.length === 0 ? (\r\n          <div className=\"p-8 text-center text-gray-500\">\r\n            <ImageIcon className=\"w-12 h-12 mx-auto mb-4 opacity-50\" />\r\n            <p>No images found. Upload your first image to get started!</p>\r\n          </div>\r\n        ) : (\r\n          <>\r\n            {viewMode === 'grid' ? (\r\n              <div className=\"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4 p-6\">\r\n                {images.map((image) => (\r\n                  <div key={image.id} className=\"group relative bg-white border border-gray-200 rounded-lg overflow-hidden hover:shadow-md transition-shadow\">\r\n                    <div className=\"aspect-square relative\">\r\n                      <img\r\n                        src={image.image_url}\r\n                        alt={image.alt_text}\r\n                        className=\"w-full h-full object-cover\"\r\n                        onError={(e) => {\r\n                          e.target.src = '/api/placeholder/200/200';\r\n                        }}\r\n                      />\r\n                      \r\n                      {/* Overlay */}\r\n                      <div className=\"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-50 transition-opacity flex items-center justify-center\">\r\n                        <div className=\"opacity-0 group-hover:opacity-100 transition-opacity flex gap-2\">\r\n                          <button\r\n                            onClick={() => openModal('view', image)}\r\n                            className=\"bg-white text-gray-700 p-2 rounded-full hover:bg-gray-100\"\r\n                          >\r\n                            <Eye className=\"w-4 h-4\" />\r\n                          </button>\r\n                          <button\r\n                            onClick={() => openModal('edit', image)}\r\n                            className=\"bg-white text-gray-700 p-2 rounded-full hover:bg-gray-100\"\r\n                          >\r\n                            <Edit3 className=\"w-4 h-4\" />\r\n                          </button>\r\n                          {!image.is_protected && (\r\n                            <button\r\n                              onClick={() => deleteImage(image.id)}\r\n                              className=\"bg-white text-red-600 p-2 rounded-full hover:bg-red-50\"\r\n                            >\r\n                              <Trash2 className=\"w-4 h-4\" />\r\n                            </button>\r\n                          )}\r\n                        </div>\r\n                      </div>\r\n\r\n                      {/* Status indicators */}\r\n                      <div className=\"absolute top-2 left-2 flex gap-1\">\r\n                        {image.is_protected && (\r\n                          <span className=\"bg-yellow-500 text-white text-xs px-2 py-1 rounded\">\r\n                            Protected\r\n                          </span>\r\n                        )}\r\n                        {!image.is_active && (\r\n                          <span className=\"bg-red-500 text-white text-xs px-2 py-1 rounded\">\r\n                            Inactive\r\n                          </span>\r\n                        )}\r\n                      </div>\r\n\r\n                      {/* Selection checkbox */}\r\n                      <input\r\n                        type=\"checkbox\"\r\n                        checked={selectedImages.includes(image.id)}\r\n                        onChange={(e) => {\r\n                          if (e.target.checked) {\r\n                            setSelectedImages([...selectedImages, image.id]);\r\n                          } else {\r\n                            setSelectedImages(selectedImages.filter(id => id !== image.id));\r\n                          }\r\n                        }}\r\n                        className=\"absolute top-2 right-2 w-4 h-4\"\r\n                      />\r\n                    </div>\r\n                    \r\n                    <div className=\"p-3\">\r\n                      <h3 className=\"font-medium text-gray-900 truncate\">{image.name}</h3>\r\n                      <p className=\"text-sm text-gray-500 truncate\">{image.category}</p>\r\n                      <div className=\"flex justify-between items-center mt-2\">\r\n                        <span className=\"text-xs text-gray-400\">\r\n                          {image.file_size && formatFileSize(image.file_size)}\r\n                        </span>\r\n                        <div className=\"flex gap-1\">\r\n                          <button\r\n                            onClick={() => toggleProtection(image.id, image.is_protected)}\r\n                            className={`p-1 rounded ${image.is_protected ? 'text-yellow-600' : 'text-gray-400'}`}\r\n                          >\r\n                            {image.is_protected ? <Shield className=\"w-3 h-3\" /> : <ShieldOff className=\"w-3 h-3\" />}\r\n                          </button>\r\n                          <span className={`w-2 h-2 rounded-full ${image.is_active ? 'bg-green-500' : 'bg-red-500'}`}></span>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            ) : (\r\n              <div className=\"divide-y divide-gray-200\">\r\n                {images.map((image) => (\r\n                  <div key={image.id} className=\"p-4 hover:bg-gray-50 flex items-center gap-4\">\r\n                    <input\r\n                      type=\"checkbox\"\r\n                      checked={selectedImages.includes(image.id)}\r\n                      onChange={(e) => {\r\n                        if (e.target.checked) {\r\n                          setSelectedImages([...selectedImages, image.id]);\r\n                        } else {\r\n                          setSelectedImages(selectedImages.filter(id => id !== image.id));\r\n                        }\r\n                      }}\r\n                      className=\"w-4 h-4\"\r\n                    />\r\n                    \r\n                    <img\r\n                      src={image.image_url}\r\n                      alt={image.alt_text}\r\n                      className=\"w-12 h-12 object-cover rounded\"\r\n                    />\r\n                    \r\n                    <div className=\"flex-1\">\r\n                      <div className=\"flex items-center gap-2\">\r\n                        <h3 className=\"font-medium text-gray-900\">{image.name}</h3>\r\n                        {image.is_protected && <Shield className=\"w-4 h-4 text-yellow-600\" />}\r\n                        {!image.is_active && <EyeOff className=\"w-4 h-4 text-red-600\" />}\r\n                      </div>\r\n                      <p className=\"text-sm text-gray-500\">{image.description}</p>\r\n                      <div className=\"flex items-center gap-4 mt-1 text-xs text-gray-400\">\r\n                        <span>{image.category}</span>\r\n                        <span>{image.file_size && formatFileSize(image.file_size)}</span>\r\n                        <span>{image.width}x{image.height}</span>\r\n                      </div>\r\n                    </div>\r\n                    \r\n                    <div className=\"flex gap-2\">\r\n                      <button\r\n                        onClick={() => openModal('view', image)}\r\n                        className=\"p-2 text-gray-400 hover:text-gray-600\"\r\n                      >\r\n                        <Eye className=\"w-4 h-4\" />\r\n                      </button>\r\n                      <button\r\n                        onClick={() => openModal('edit', image)}\r\n                        className=\"p-2 text-gray-400 hover:text-gray-600\"\r\n                      >\r\n                        <Edit3 className=\"w-4 h-4\" />\r\n                      </button>\r\n                      <button\r\n                        onClick={() => toggleProtection(image.id, image.is_protected)}\r\n                        className={`p-2 ${image.is_protected ? 'text-yellow-600' : 'text-gray-400'} hover:text-yellow-700`}\r\n                      >\r\n                        {image.is_protected ? <Shield className=\"w-4 h-4\" /> : <ShieldOff className=\"w-4 h-4\" />}\r\n                      </button>\r\n                      {!image.is_protected && (\r\n                        <button\r\n                          onClick={() => deleteImage(image.id)}\r\n                          className=\"p-2 text-red-400 hover:text-red-600\"\r\n                        >\r\n                          <Trash2 className=\"w-4 h-4\" />\r\n                        </button>\r\n                      )}\r\n                    </div>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            )}\r\n\r\n            {/* Pagination */}\r\n            {totalPages > 1 && (\r\n              <div className=\"flex justify-between items-center p-4 border-t border-gray-200\">\r\n                <div className=\"text-sm text-gray-600\">\r\n                  Page {currentPage} of {totalPages}\r\n                </div>\r\n                <div className=\"flex gap-2\">\r\n                  <button\r\n                    onClick={() => setCurrentPage(Math.max(1, currentPage - 1))}\r\n                    disabled={currentPage === 1}\r\n                    className=\"px-3 py-1 border border-gray-300 rounded disabled:opacity-50\"\r\n                  >\r\n                    Previous\r\n                  </button>\r\n                  <button\r\n                    onClick={() => setCurrentPage(Math.min(totalPages, currentPage + 1))}\r\n                    disabled={currentPage === totalPages}\r\n                    className=\"px-3 py-1 border border-gray-300 rounded disabled:opacity-50\"\r\n                  >\r\n                    Next\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            )}\r\n          </>\r\n        )}\r\n      </div>\r\n\r\n      {/* Modal */}\r\n      {showModal && (\r\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50\">\r\n          <div className=\"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto\">\r\n            <div className=\"p-6\">\r\n              <div className=\"flex justify-between items-center mb-4\">\r\n                <h2 className=\"text-xl font-bold\">\r\n                  {modalMode === 'create' && 'Upload New Image'}\r\n                  {modalMode === 'edit' && 'Edit Image'}\r\n                  {modalMode === 'view' && 'View Image'}\r\n                </h2>\r\n                <button\r\n                  onClick={() => setShowModal(false)}\r\n                  className=\"text-gray-400 hover:text-gray-600\"\r\n                >\r\n                  <X className=\"w-6 h-6\" />\r\n                </button>\r\n              </div>\r\n\r\n              {/* Preview */}\r\n              {previewUrl && (\r\n                <div className=\"mb-4\">\r\n                  <img\r\n                    src={previewUrl}\r\n                    alt=\"Preview\"\r\n                    className=\"w-full h-64 object-cover rounded-lg border\"\r\n                  />\r\n                </div>\r\n              )}\r\n\r\n              {modalMode !== 'view' && (\r\n                <div className=\"mb-4\">\r\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                    Image File\r\n                  </label>\r\n                  <input\r\n                    ref={fileInputRef}\r\n                    type=\"file\"\r\n                    accept=\"image/*\"\r\n                    onChange={handleFileSelect}\r\n                    className=\"w-full p-3 border border-gray-300 rounded-lg\"\r\n                  />\r\n                </div>\r\n              )}\r\n\r\n              {/* Form Fields */}\r\n              <div className=\"space-y-4\">\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                    Name *\r\n                  </label>\r\n                  <input\r\n                    type=\"text\"\r\n                    value={formData.name}\r\n                    onChange={(e) => setFormData(prev => ({ ...prev, name: e.target.value }))}\r\n                    className=\"w-full p-3 border border-gray-300 rounded-lg\"\r\n                    disabled={modalMode === 'view'}\r\n                    required\r\n                  />\r\n                </div>\r\n\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                    Description\r\n                  </label>\r\n                  <textarea\r\n                    value={formData.description}\r\n                    onChange={(e) => setFormData(prev => ({ ...prev, description: e.target.value }))}\r\n                    className=\"w-full p-3 border border-gray-300 rounded-lg h-24\"\r\n                    disabled={modalMode === 'view'}\r\n                  />\r\n                </div>\r\n\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                    Alt Text\r\n                  </label>\r\n                  <input\r\n                    type=\"text\"\r\n                    value={formData.alt_text}\r\n                    onChange={(e) => setFormData(prev => ({ ...prev, alt_text: e.target.value }))}\r\n                    className=\"w-full p-3 border border-gray-300 rounded-lg\"\r\n                    disabled={modalMode === 'view'}\r\n                  />\r\n                </div>\r\n\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                    Category\r\n                  </label>\r\n                  <select\r\n                    value={formData.category}\r\n                    onChange={(e) => setFormData(prev => ({ ...prev, category: e.target.value }))}\r\n                    className=\"w-full p-3 border border-gray-300 rounded-lg\"\r\n                    disabled={modalMode === 'view'}\r\n                  >\r\n                    {categories.map(cat => (\r\n                      <option key={cat.name} value={cat.name}>{cat.name}</option>\r\n                    ))}\r\n                  </select>\r\n                </div>\r\n\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                    Usage Locations\r\n                  </label>\r\n                  <div className=\"space-y-2 max-h-40 overflow-y-auto\">\r\n                    {usageLocationOptions.map(option => (\r\n                      <label key={option.value} className=\"flex items-center gap-2\">\r\n                        <input\r\n                          type=\"checkbox\"\r\n                          checked={formData.usage_locations.includes(option.value)}\r\n                          onChange={(e) => {\r\n                            if (e.target.checked) {\r\n                              setFormData(prev => ({\r\n                                ...prev,\r\n                                usage_locations: [...prev.usage_locations, option.value]\r\n                              }));\r\n                            } else {\r\n                              setFormData(prev => ({\r\n                                ...prev,\r\n                                usage_locations: prev.usage_locations.filter(loc => loc !== option.value)\r\n                              }));\r\n                            }\r\n                          }}\r\n                          disabled={modalMode === 'view'}\r\n                          className=\"w-4 h-4\"\r\n                        />\r\n                        <div>\r\n                          <div className=\"text-sm font-medium\">{option.label}</div>\r\n                          <div className=\"text-xs text-gray-500\">{option.description}</div>\r\n                        </div>\r\n                      </label>\r\n                    ))}\r\n                  </div>\r\n                </div>\r\n\r\n                {modalMode === 'edit' && (\r\n                  <div>\r\n                    <label className=\"flex items-center gap-2\">\r\n                      <input\r\n                        type=\"checkbox\"\r\n                        checked={formData.is_active}\r\n                        onChange={(e) => setFormData(prev => ({ ...prev, is_active: e.target.checked }))}\r\n                        className=\"w-4 h-4\"\r\n                      />\r\n                      <span className=\"text-sm font-medium text-gray-700\">Active</span>\r\n                    </label>\r\n                  </div>\r\n                )}\r\n\r\n                {/* Display current image details in view mode */}\r\n                {modalMode === 'view' && currentImage && (\r\n                  <div className=\"grid grid-cols-2 gap-4 text-sm\">\r\n                    <div>\r\n                      <span className=\"font-medium\">File Size:</span>\r\n                      <span className=\"ml-2\">{currentImage.file_size ? formatFileSize(currentImage.file_size) : 'Unknown'}</span>\r\n                    </div>\r\n                    <div>\r\n                      <span className=\"font-medium\">Dimensions:</span>\r\n                      <span className=\"ml-2\">{currentImage.width}x{currentImage.height}</span>\r\n                    </div>\r\n                    <div>\r\n                      <span className=\"font-medium\">File Type:</span>\r\n                      <span className=\"ml-2\">{currentImage.file_type}</span>\r\n                    </div>\r\n                    <div>\r\n                      <span className=\"font-medium\">Created:</span>\r\n                      <span className=\"ml-2\">{new Date(currentImage.created_at).toLocaleDateString()}</span>\r\n                    </div>\r\n                    <div>\r\n                      <span className=\"font-medium\">Status:</span>\r\n                      <span className={`ml-2 px-2 py-1 rounded text-xs ${currentImage.is_active ? 'bg-green-100 text-green-800' : 'bg-red-100 text-red-800'}`}>\r\n                        {currentImage.is_active ? 'Active' : 'Inactive'}\r\n                      </span>\r\n                    </div>\r\n                    <div>\r\n                      <span className=\"font-medium\">Protected:</span>\r\n                      <span className={`ml-2 px-2 py-1 rounded text-xs ${currentImage.is_protected ? 'bg-yellow-100 text-yellow-800' : 'bg-gray-100 text-gray-800'}`}>\r\n                        {currentImage.is_protected ? 'Yes' : 'No'}\r\n                      </span>\r\n                    </div>\r\n                  </div>\r\n                )}\r\n              </div>\r\n\r\n              {/* Action Buttons */}\r\n              {modalMode !== 'view' && (\r\n                <div className=\"flex justify-end gap-3 mt-6 pt-4 border-t\">\r\n                  <button\r\n                    onClick={() => setShowModal(false)}\r\n                    className=\"px-4 py-2 text-gray-600 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors\"\r\n                  >\r\n                    Cancel\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n                    \r\n                  </button>\r\n                  <button\r\n                    onClick={modalMode === 'create' ? createImage : updateImage}\r\n                    disabled={loading || !formData.name.trim()}\r\n                    className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-2\"\r\n                  >\r\n                    {loading ? (\r\n                      <div className=\"animate-spin rounded-full h-4 w-4 border-b-2 border-white\"></div>\r\n                    ) : (\r\n                      <Save className=\"w-4 h-4\" />\r\n                    )}\r\n                    {modalMode === 'create' ? 'Upload' : 'Update'}\r\n                  </button>\r\n                </div>\r\n              )}\r\n\r\n              {/* View Mode Actions */}\r\n              {modalMode === 'view' && (\r\n                <div className=\"flex justify-between items-center mt-6 pt-4 border-t\">\r\n                  <div className=\"flex gap-2\">\r\n                    <a\r\n                      href={currentImage?.image_url}\r\n                      target=\"_blank\"\r\n                      rel=\"noopener noreferrer\"\r\n                      className=\"px-3 py-2 text-blue-600 bg-blue-50 rounded-lg hover:bg-blue-100 transition-colors flex items-center gap-2 text-sm\"\r\n                    >\r\n                      <Download className=\"w-4 h-4\" />\r\n                      Download\r\n                    </a>\r\n                    <button\r\n                      onClick={() => toggleProtection(currentImage.id, currentImage.is_protected)}\r\n                      className={`px-3 py-2 rounded-lg transition-colors flex items-center gap-2 text-sm ${\r\n                        currentImage.is_protected \r\n                          ? 'text-yellow-700 bg-yellow-50 hover:bg-yellow-100' \r\n                          : 'text-gray-600 bg-gray-50 hover:bg-gray-100'\r\n                      }`}\r\n                    >\r\n                      {currentImage.is_protected ? <Shield className=\"w-4 h-4\" /> : <ShieldOff className=\"w-4 h-4\" />}\r\n                      {currentImage.is_protected ? 'Unprotect' : 'Protect'}\r\n                    </button>\r\n                  </div>\r\n                  <div className=\"flex gap-2\">\r\n                    <button\r\n                      onClick={() => setModalMode('edit')}\r\n                      className=\"px-4 py-2 text-blue-600 bg-blue-50 rounded-lg hover:bg-blue-100 transition-colors flex items-center gap-2\"\r\n                    >\r\n                      <Edit3 className=\"w-4 h-4\" />\r\n                      Edit\r\n                    </button>\r\n                    <button\r\n                      onClick={() => setShowModal(false)}\r\n                      className=\"px-4 py-2 text-gray-600 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors\"\r\n                    >\r\n                      Close\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Confirmation Dialog */}\r\n      {showConfirmDialog && (\r\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50\">\r\n          <div className=\"bg-white rounded-lg max-w-md w-full p-6\">\r\n            <div className=\"flex items-center gap-3 mb-4\">\r\n              <div className=\"p-2 bg-red-100 rounded-full\">\r\n                <AlertTriangle className=\"w-5 h-5 text-red-600\" />\r\n              </div>\r\n              <h3 className=\"text-lg font-semibold text-gray-900\">Confirm Action</h3>\r\n            </div>\r\n            \r\n            <p className=\"text-gray-700 mb-6\">{confirmMessage}</p>\r\n            \r\n            <div className=\"flex justify-end gap-3\">\r\n              <button\r\n                onClick={() => setShowConfirmDialog(false)}\r\n                className=\"px-4 py-2 text-gray-600 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors\"\r\n              >\r\n                Cancel\r\n              </button>\r\n              <button\r\n                onClick={handleConfirm}\r\n                className=\"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors\"\r\n              >\r\n                Confirm\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Quick Stats */}\r\n      <div className=\"mt-6 grid grid-cols-1 md:grid-cols-4 gap-4\">\r\n        <div className=\"bg-white p-4 rounded-lg shadow-sm\">\r\n          <div className=\"flex items-center gap-3\">\r\n            <div className=\"p-2 bg-blue-100 rounded-lg\">\r\n              <ImageIcon className=\"w-5 h-5 text-blue-600\" />\r\n            </div>\r\n            <div>\r\n              <p className=\"text-sm text-gray-600\">Total Images</p>\r\n              <p className=\"text-xl font-semibold\">{images.length}</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"bg-white p-4 rounded-lg shadow-sm\">\r\n          <div className=\"flex items-center gap-3\">\r\n            <div className=\"p-2 bg-green-100 rounded-lg\">\r\n              <Eye className=\"w-5 h-5 text-green-600\" />\r\n            </div>\r\n            <div>\r\n              <p className=\"text-sm text-gray-600\">Active</p>\r\n              <p className=\"text-xl font-semibold\">{images.filter(img => img.is_active).length}</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"bg-white p-4 rounded-lg shadow-sm\">\r\n          <div className=\"flex items-center gap-3\">\r\n            <div className=\"p-2 bg-yellow-100 rounded-lg\">\r\n              <Shield className=\"w-5 h-5 text-yellow-600\" />\r\n            </div>\r\n            <div>\r\n              <p className=\"text-sm text-gray-600\">Protected</p>\r\n              <p className=\"text-xl font-semibold\">{images.filter(img => img.is_protected).length}</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"bg-white p-4 rounded-lg shadow-sm\">\r\n          <div className=\"flex items-center gap-3\">\r\n            <div className=\"p-2 bg-purple-100 rounded-lg\">\r\n              <Tag className=\"w-5 h-5 text-purple-600\" />\r\n            </div>\r\n            <div>\r\n              <p className=\"text-sm text-gray-600\">Categories</p>\r\n              <p className=\"text-xl font-semibold\">{categories.length}</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Usage Location Quick Access */}\r\n      <div className=\"mt-6 bg-white rounded-lg shadow-sm p-6\">\r\n        <h3 className=\"text-lg font-semibold text-gray-800 mb-4\">Quick Access by Usage Location</h3>\r\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\r\n          {usageLocationOptions.map(location => {\r\n            const locationImages = images.filter(img => {\r\n              const usageLocations = JSON.parse(img.usage_locations || '[]');\r\n              return usageLocations.includes(location.value);\r\n            });\r\n            \r\n            return (\r\n              <div key={location.value} className=\"border border-gray-200 rounded-lg p-4 hover:shadow-sm transition-shadow\">\r\n                <div className=\"flex justify-between items-start mb-2\">\r\n                  <h4 className=\"font-medium text-gray-900\">{location.label}</h4>\r\n                  <span className=\"text-sm text-gray-500 bg-gray-100 px-2 py-1 rounded\">\r\n                    {locationImages.length}\r\n                  </span>\r\n                </div>\r\n                <p className=\"text-sm text-gray-600 mb-3\">{location.description}</p>\r\n                \r\n                {locationImages.length > 0 ? (\r\n                  <div className=\"flex -space-x-2 overflow-hidden\">\r\n                    {locationImages.slice(0, 4).map((img, index) => (\r\n                      <img\r\n                        key={img.id}\r\n                        src={img.image_url}\r\n                        alt={img.alt_text}\r\n                        className=\"inline-block h-8 w-8 rounded-full ring-2 ring-white object-cover cursor-pointer hover:z-10 hover:scale-110 transition-transform\"\r\n                        onClick={() => openModal('view', img)}\r\n                        onError={(e) => {\r\n                          e.target.src = '/api/placeholder/32/32';\r\n                        }}\r\n                      />\r\n                    ))}\r\n                    {locationImages.length > 4 && (\r\n                      <div className=\"inline-block h-8 w-8 rounded-full ring-2 ring-white bg-gray-100 flex items-center justify-center\">\r\n                        <span className=\"text-xs text-gray-600\">+{locationImages.length - 4}</span>\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                ) : (\r\n                  <button\r\n                    onClick={() => {\r\n                      setFormData(prev => ({ \r\n                        ...prev, \r\n                        usage_locations: [location.value] \r\n                      }));\r\n                      openModal('create');\r\n                    }}\r\n                    className=\"text-blue-600 text-sm hover:text-blue-700 flex items-center gap-1\"\r\n                  >\r\n                    <Plus className=\"w-3 h-3\" />\r\n                    Add Image\r\n                  </button>\r\n                )}\r\n              </div>\r\n            );\r\n          })}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default GalleryManager;","import React, { useState, useEffect, useCallback } from 'react';\r\nimport axios from 'axios';\r\nimport {\r\n  Box, Typography, Button, TextField, IconButton, MenuItem,\r\n  Select, FormControl, InputLabel, Dialog, DialogTitle,\r\n  DialogContent, DialogActions, Switch, FormControlLabel,\r\n  Chip, Alert, CircularProgress, Table, TableBody, TableCell,\r\n  TableContainer, TableHead, TableRow, Avatar, InputAdornment,\r\n  TablePagination, Paper, Stack, Grid\r\n} from '@mui/material';\r\nimport DeleteIcon from '@mui/icons-material/Delete';\r\nimport EditIcon from '@mui/icons-material/Edit';\r\nimport StarIcon from '@mui/icons-material/Star';\r\nimport StarBorderIcon from '@mui/icons-material/StarBorder';\r\nimport AddIcon from '@mui/icons-material/Add';\r\nimport SearchIcon from '@mui/icons-material/Search';\r\nimport FilterListIcon from '@mui/icons-material/FilterList';\r\nimport ClearIcon from '@mui/icons-material/Clear';\r\nimport CloseIcon from '@mui/icons-material/Close';\r\nimport PersonIcon from '@mui/icons-material/Person';\r\nimport { API_URL, STATIC_URL } from '../../config';\r\n\r\nconst AdminManageGeneralTestimonials = () => {\r\n  const [testimonials, setTestimonials] = useState([]);\r\n  const [filteredTestimonials, setFilteredTestimonials] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [fetchingData, setFetchingData] = useState(true);\r\n  const [error, setError] = useState('');\r\n\r\n  // Search and filter states\r\n  const [searchTerm, setSearchTerm] = useState('');\r\n  const [typeFilter, setTypeFilter] = useState('');\r\n  const [featuredFilter, setFeaturedFilter] = useState('');\r\n\r\n  // Pagination states\r\n  const [page, setPage] = useState(0);\r\n  const [rowsPerPage, setRowsPerPage] = useState(10);\r\n\r\n  // Add testimonial modal states\r\n  const [modalOpen, setModalOpen] = useState(false);\r\n  const [firstName, setFirstName] = useState('');\r\n  const [lastName, setLastName] = useState('');\r\n  const [testimonialText, setTestimonialText] = useState('');\r\n  const [image, setImage] = useState(null);\r\n  const [type, setType] = useState('community');\r\n  const [featured, setFeatured] = useState(false);\r\n  const [submitLoading, setSubmitLoading] = useState(false);\r\n  const [submitSuccess, setSubmitSuccess] = useState(false);\r\n  const [submitError, setSubmitError] = useState('');\r\n\r\n  // Edit modal states\r\n  const [editModalOpen, setEditModalOpen] = useState(false);\r\n  const [editingTestimonial, setEditingTestimonial] = useState(null);\r\n  const [editFirstName, setEditFirstName] = useState('');\r\n  const [editLastName, setEditLastName] = useState('');\r\n  const [editTestimonialText, setEditTestimonialText] = useState('');\r\n  const [editType, setEditType] = useState('community');\r\n  const [editFeatured, setEditFeatured] = useState(false);\r\n  const [editImage, setEditImage] = useState(null);\r\n  const [currentImageUrl, setCurrentImageUrl] = useState('');\r\n\r\n  const fetchTestimonials = useCallback(async () => {\r\n    try {\r\n      setFetchingData(true);\r\n      const res = await axios.get(`${API_URL}/generaltestimonials`, { withCredentials: true });\r\n      \r\n      // Sort testimonials by featured first, then by name\r\n      const sortedTestimonials = res.data.sort((a, b) => {\r\n        if (a.featured && !b.featured) return -1;\r\n        if (!a.featured && b.featured) return 1;\r\n        return `${a.first_name} ${a.last_name}`.localeCompare(`${b.first_name} ${b.last_name}`);\r\n      });\r\n      \r\n      setTestimonials(sortedTestimonials);\r\n      setError('');\r\n    } catch (err) {\r\n      console.error('Error fetching testimonials:', err);\r\n      setError('Failed to load testimonials');\r\n      setTestimonials([]);\r\n    } finally {\r\n      setFetchingData(false);\r\n    }\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    fetchTestimonials();\r\n  }, [fetchTestimonials]);\r\n\r\n  // Filter and search logic\r\n  useEffect(() => {\r\n    let filtered = testimonials;\r\n\r\n    // Apply search filter\r\n    if (searchTerm) {\r\n      filtered = filtered.filter(testimonial =>\r\n        `${testimonial.first_name} ${testimonial.last_name}`.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n        testimonial.testimonial.toLowerCase().includes(searchTerm.toLowerCase())\r\n      );\r\n    }\r\n\r\n    // Apply type filter\r\n    if (typeFilter) {\r\n      filtered = filtered.filter(testimonial => \r\n        (testimonial.type || 'community').toLowerCase() === typeFilter\r\n      );\r\n    }\r\n\r\n    // Apply featured filter\r\n    if (featuredFilter) {\r\n      if (featuredFilter === 'featured') {\r\n        filtered = filtered.filter(testimonial => testimonial.featured);\r\n      } else if (featuredFilter === 'not-featured') {\r\n        filtered = filtered.filter(testimonial => !testimonial.featured);\r\n      }\r\n    }\r\n\r\n    // Sort filtered results (featured first)\r\n    filtered = filtered.sort((a, b) => {\r\n      if (a.featured && !b.featured) return -1;\r\n      if (!a.featured && b.featured) return 1;\r\n      return `${a.first_name} ${a.last_name}`.localeCompare(`${b.first_name} ${b.last_name}`);\r\n    });\r\n\r\n    setFilteredTestimonials(filtered);\r\n    setPage(0); // Reset to first page when filters change\r\n  }, [testimonials, searchTerm, typeFilter, featuredFilter]);\r\n\r\n  // Clear all filters\r\n  const clearFilters = () => {\r\n    setSearchTerm('');\r\n    setTypeFilter('');\r\n    setFeaturedFilter('');\r\n  };\r\n\r\n  // Modal form reset\r\n  const resetForm = () => {\r\n    setFirstName('');\r\n    setLastName('');\r\n    setTestimonialText('');\r\n    setImage(null);\r\n    setType('community');\r\n    setFeatured(false);\r\n    setSubmitError('');\r\n    setSubmitSuccess(false);\r\n    \r\n    // Reset file input\r\n    const fileInput = document.querySelector('input[type=\"file\"]');\r\n    if (fileInput) fileInput.value = '';\r\n  };\r\n\r\n  // Add testimonial functionality\r\n  const handleAddModalOpen = () => {\r\n    resetForm();\r\n    setModalOpen(true);\r\n  };\r\n\r\n  const handleModalClose = () => {\r\n    setModalOpen(false);\r\n    resetForm();\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    \r\n    if (!firstName || !lastName || !testimonialText || !type) {\r\n      setSubmitError('First name, last name, testimonial, and type are required');\r\n      return;\r\n    }\r\n    \r\n    const formData = new FormData();\r\n    formData.append('first_name', firstName.trim());\r\n    formData.append('last_name', lastName.trim());\r\n    formData.append('testimonial', testimonialText.trim());\r\n    formData.append('type', type.toLowerCase());\r\n    formData.append('featured', featured);\r\n    \r\n    if (image) {\r\n      formData.append('image', image);\r\n    }\r\n\r\n    setSubmitLoading(true);\r\n    setSubmitError('');\r\n    setSubmitSuccess(false);\r\n\r\n    try {\r\n      await axios.post(`${API_URL}/generaltestimonials`, formData, {\r\n        withCredentials: true,\r\n        headers: { 'Content-Type': 'multipart/form-data' },\r\n      });\r\n      \r\n      setSubmitSuccess(true);\r\n      fetchTestimonials(); // Refresh the testimonials list\r\n      \r\n      // Close modal after 2 seconds\r\n      setTimeout(() => {\r\n        handleModalClose();\r\n      }, 2000);\r\n      \r\n    } catch (err) {\r\n      console.error('Error adding testimonial:', err);\r\n      \r\n      if (err.response?.status === 413) {\r\n        setSubmitError('File too large. Please choose a smaller image.');\r\n      } else if (err.response?.data?.message) {\r\n        setSubmitError(`Failed to add testimonial: ${err.response.data.message}`);\r\n      } else {\r\n        setSubmitError('Failed to add testimonial. Please try again.');\r\n      }\r\n    } finally {\r\n      setSubmitLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleDelete = async (id) => {\r\n    if (!window.confirm('Delete this testimonial?')) return;\r\n    \r\n    try {\r\n      await axios.delete(`${API_URL}/generaltestimonials/${id}`, { withCredentials: true });\r\n      fetchTestimonials();\r\n    } catch (err) {\r\n      console.error('Error deleting testimonial:', err);\r\n      setError('Failed to delete testimonial');\r\n    }\r\n  };\r\n\r\n  const handleTypeChange = async (id, newType) => {\r\n    try {\r\n      await axios.put(`${API_URL}/generaltestimonials/${id}/type`, { \r\n        type: newType.toLowerCase() \r\n      }, {\r\n        withCredentials: true,\r\n        headers: { 'Content-Type': 'application/json' }\r\n      });\r\n      fetchTestimonials();\r\n    } catch (err) {\r\n      console.error('Failed to update type:', err);\r\n      setError('Could not update testimonial type.');\r\n    }\r\n  };\r\n\r\n  const handleFeaturedToggle = async (id, currentFeatured) => {\r\n    try {\r\n      await axios.put(`${API_URL}/generaltestimonials/${id}/featured`, { \r\n        featured: !currentFeatured \r\n      }, {\r\n        withCredentials: true,\r\n        headers: { 'Content-Type': 'application/json' }\r\n      });\r\n      fetchTestimonials();\r\n    } catch (err) {\r\n      console.error('Failed to update featured status:', err);\r\n      setError('Could not update featured status.');\r\n    }\r\n  };\r\n\r\n  const handleEditClick = (testimonial) => {\r\n    setEditingTestimonial(testimonial);\r\n    setEditFirstName(testimonial.first_name);\r\n    setEditLastName(testimonial.last_name);\r\n    setEditTestimonialText(testimonial.testimonial);\r\n    setEditType(testimonial.type || 'community');\r\n    setEditFeatured(testimonial.featured || false);\r\n    setEditImage(null);\r\n    setCurrentImageUrl(testimonial.image);\r\n    setSubmitError('');\r\n    setSubmitSuccess(false);\r\n    setEditModalOpen(true);\r\n  };\r\n\r\n  const handleEditSubmit = async () => {\r\n    if (!editFirstName.trim() || !editLastName.trim() || !editTestimonialText.trim()) {\r\n      setSubmitError('First name, last name, and testimonial are required');\r\n      return;\r\n    }\r\n\r\n    setSubmitLoading(true);\r\n    setSubmitError('');\r\n    setSubmitSuccess(false);\r\n    \r\n    try {\r\n      const formData = new FormData();\r\n      formData.append('first_name', editFirstName.trim());\r\n      formData.append('last_name', editLastName.trim());\r\n      formData.append('testimonial', editTestimonialText.trim());\r\n      formData.append('type', editType.toLowerCase());\r\n      formData.append('featured', editFeatured);\r\n      \r\n      if (editImage) {\r\n        formData.append('image', editImage);\r\n      }\r\n\r\n      await axios.put(`${API_URL}/generaltestimonials/${editingTestimonial.id}`, formData, {\r\n        withCredentials: true,\r\n        headers: { 'Content-Type': 'multipart/form-data' }\r\n      });\r\n      \r\n      setSubmitSuccess(true);\r\n      fetchTestimonials();\r\n      \r\n      // Close modal after 2 seconds\r\n      setTimeout(() => {\r\n        handleEditCancel();\r\n      }, 2000);\r\n      \r\n    } catch (err) {\r\n      console.error('Error updating testimonial:', err);\r\n      setSubmitError(`Failed to update testimonial: ${err.response?.data?.message || err.message}`);\r\n    } finally {\r\n      setSubmitLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleEditCancel = () => {\r\n    setEditModalOpen(false);\r\n    setEditingTestimonial(null);\r\n    setEditFirstName('');\r\n    setEditLastName('');\r\n    setEditTestimonialText('');\r\n    setEditType('community');\r\n    setEditFeatured(false);\r\n    setEditImage(null);\r\n    setCurrentImageUrl('');\r\n    setSubmitError('');\r\n    setSubmitSuccess(false);\r\n  };\r\n\r\n  // Pagination handlers\r\n  const handleChangePage = (event, newPage) => {\r\n    setPage(newPage);\r\n  };\r\n\r\n  const handleChangeRowsPerPage = (event) => {\r\n    setRowsPerPage(parseInt(event.target.value, 10));\r\n    setPage(0);\r\n  };\r\n\r\n  // Get paginated data\r\n  const paginatedTestimonials = filteredTestimonials.slice(\r\n    page * rowsPerPage,\r\n    page * rowsPerPage + rowsPerPage\r\n  );\r\n\r\n  const getTypeColor = (type) => {\r\n    const colors = {\r\n      'community': 'primary',\r\n      'volunteers': 'secondary',\r\n      'collaborators': 'success'\r\n    };\r\n    return colors[type?.toLowerCase()] || 'default';\r\n  };\r\n\r\n  const getTypeDisplayName = (type) => {\r\n    const names = {\r\n      'community': 'Community',\r\n      'volunteers': 'Volunteers',\r\n      'collaborators': 'Collaborators'\r\n    };\r\n    return names[type?.toLowerCase()] || 'Community';\r\n  };\r\n\r\n  const truncateText = (text, maxLength = 100) => {\r\n    if (text.length <= maxLength) return text;\r\n    return text.substring(0, maxLength) + '...';\r\n  };\r\n\r\n  if (fetchingData) {\r\n    return (\r\n      <Box sx={{ display: 'flex', justifyContent: 'center', alignItems: 'center', minHeight: 400 }}>\r\n        <CircularProgress size={60} />\r\n      </Box>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Box sx={{ p: 3, position: 'relative' }}>\r\n      {/* Header */}\r\n      <Box sx={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', mb: 3 }}>\r\n        <Typography variant=\"h4\" gutterBottom>\r\n          Testimonials Management ({testimonials.length} total, {filteredTestimonials.length} shown)\r\n        </Typography>\r\n        <Button\r\n          variant=\"contained\"\r\n          color=\"primary\"\r\n          startIcon={<AddIcon />}\r\n          onClick={handleAddModalOpen}\r\n          size=\"large\"\r\n        >\r\n          Add Testimonial\r\n        </Button>\r\n      </Box>\r\n\r\n      {/* Error Alert */}\r\n      {error && (\r\n        <Alert severity=\"error\" sx={{ mb: 3 }}>\r\n          {error}\r\n        </Alert>\r\n      )}\r\n\r\n      {/* Search and Filter Controls */}\r\n      <Paper elevation={1} sx={{ p: 3, mb: 3 }}>\r\n        <Typography variant=\"h6\" sx={{ mb: 2, display: 'flex', alignItems: 'center', gap: 1 }}>\r\n          <FilterListIcon /> Search & Filters\r\n        </Typography>\r\n        \r\n        <Grid container spacing={2} alignItems=\"center\">\r\n          {/* Search */}\r\n          <Grid item xs={12} md={4}>\r\n            <TextField\r\n              fullWidth\r\n              label=\"Search testimonials\"\r\n              value={searchTerm}\r\n              onChange={(e) => setSearchTerm(e.target.value)}\r\n              placeholder=\"Search by name or testimonial...\"\r\n              InputProps={{\r\n                startAdornment: (\r\n                  <InputAdornment position=\"start\">\r\n                    <SearchIcon />\r\n                  </InputAdornment>\r\n                ),\r\n                endAdornment: searchTerm && (\r\n                  <InputAdornment position=\"end\">\r\n                    <IconButton onClick={() => setSearchTerm('')} size=\"small\">\r\n                      <ClearIcon />\r\n                    </IconButton>\r\n                  </InputAdornment>\r\n                )\r\n              }}\r\n            />\r\n          </Grid>\r\n\r\n          {/* Type Filter */}\r\n          <Grid item xs={12} md={3}>\r\n            <FormControl fullWidth>\r\n              <InputLabel>Filter by Type</InputLabel>\r\n              <Select\r\n                value={typeFilter}\r\n                onChange={(e) => setTypeFilter(e.target.value)}\r\n                label=\"Filter by Type\"\r\n              >\r\n                <MenuItem value=\"\">All Types</MenuItem>\r\n                <MenuItem value=\"community\">Community</MenuItem>\r\n                <MenuItem value=\"volunteers\">Volunteers</MenuItem>\r\n                <MenuItem value=\"collaborators\">Collaborators</MenuItem>\r\n              </Select>\r\n            </FormControl>\r\n          </Grid>\r\n\r\n          {/* Featured Filter */}\r\n          <Grid item xs={12} md={3}>\r\n            <FormControl fullWidth>\r\n              <InputLabel>Filter by Status</InputLabel>\r\n              <Select\r\n                value={featuredFilter}\r\n                onChange={(e) => setFeaturedFilter(e.target.value)}\r\n                label=\"Filter by Status\"\r\n              >\r\n                <MenuItem value=\"\">All Status</MenuItem>\r\n                <MenuItem value=\"featured\">Featured Only</MenuItem>\r\n                <MenuItem value=\"not-featured\">Not Featured</MenuItem>\r\n              </Select>\r\n            </FormControl>\r\n          </Grid>\r\n\r\n          {/* Clear Filters */}\r\n          <Grid item xs={12} md={2}>\r\n            <Button\r\n              fullWidth\r\n              variant=\"outlined\"\r\n              onClick={clearFilters}\r\n              startIcon={<ClearIcon />}\r\n              disabled={!searchTerm && !typeFilter && !featuredFilter}\r\n            >\r\n              Clear Filters\r\n            </Button>\r\n          </Grid>\r\n        </Grid>\r\n\r\n        {/* Active Filters Display */}\r\n        {(searchTerm || typeFilter || featuredFilter) && (\r\n          <Box sx={{ mt: 2 }}>\r\n            <Typography variant=\"body2\" color=\"text.secondary\" sx={{ mb: 1 }}>\r\n              Active filters:\r\n            </Typography>\r\n            <Stack direction=\"row\" spacing={1} flexWrap=\"wrap\">\r\n              {searchTerm && (\r\n                <Chip\r\n                  label={`Search: \"${searchTerm}\"`}\r\n                  onDelete={() => setSearchTerm('')}\r\n                  size=\"small\"\r\n                  color=\"primary\"\r\n                />\r\n              )}\r\n              {typeFilter && (\r\n                <Chip\r\n                  label={`Type: ${getTypeDisplayName(typeFilter)}`}\r\n                  onDelete={() => setTypeFilter('')}\r\n                  size=\"small\"\r\n                  color=\"secondary\"\r\n                />\r\n              )}\r\n              {featuredFilter && (\r\n                <Chip\r\n                  label={`Status: ${featuredFilter === 'featured' ? 'Featured' : 'Not Featured'}`}\r\n                  onDelete={() => setFeaturedFilter('')}\r\n                  size=\"small\"\r\n                  color=\"success\"\r\n                />\r\n              )}\r\n            </Stack>\r\n          </Box>\r\n        )}\r\n      </Paper>\r\n\r\n      {/* Testimonials Table */}\r\n      {filteredTestimonials.length === 0 ? (\r\n        <Box sx={{ textAlign: 'center', py: 8 }}>\r\n          <PersonIcon sx={{ fontSize: 80, color: 'text.secondary', mb: 2 }} />\r\n          <Typography variant=\"h6\" color=\"text.secondary\" gutterBottom>\r\n            {testimonials.length === 0 ? 'No testimonials found' : 'No testimonials match your filters'}\r\n          </Typography>\r\n          <Typography variant=\"body2\" color=\"text.secondary\" sx={{ mb: 3 }}>\r\n            {testimonials.length === 0 \r\n              ? 'Click the \"Add Testimonial\" button to get started'\r\n              : 'Try adjusting your search or filter criteria'\r\n            }\r\n          </Typography>\r\n          {(searchTerm || typeFilter || featuredFilter) && (\r\n            <Button variant=\"outlined\" onClick={clearFilters}>\r\n              Clear All Filters\r\n            </Button>\r\n          )}\r\n        </Box>\r\n      ) : (\r\n        <Paper elevation={1}>\r\n          <TableContainer>\r\n            <Table>\r\n              <TableHead>\r\n                <TableRow sx={{ backgroundColor: '#f5f5f5' }}>\r\n                  <TableCell sx={{ fontWeight: 600, minWidth: 200 }}>Person</TableCell>\r\n                  <TableCell sx={{ fontWeight: 600, minWidth: 300 }}>Testimonial</TableCell>\r\n                  <TableCell sx={{ fontWeight: 600, minWidth: 120 }}>Type</TableCell>\r\n                  <TableCell sx={{ fontWeight: 600, minWidth: 100, textAlign: 'center' }}>Featured</TableCell>\r\n                  <TableCell sx={{ fontWeight: 600, minWidth: 100 }}>Photo</TableCell>\r\n                  <TableCell sx={{ fontWeight: 600, minWidth: 120, textAlign: 'center' }}>Actions</TableCell>\r\n                </TableRow>\r\n              </TableHead>\r\n              <TableBody>\r\n                {paginatedTestimonials.map((testimonial) => (\r\n                  <TableRow \r\n                    key={testimonial.id}\r\n                    sx={{ \r\n                      '&:hover': { \r\n                        backgroundColor: '#f9f9f9' \r\n                      },\r\n                      '&:last-child td, &:last-child th': { border: 0 }\r\n                    }}\r\n                  >\r\n                    {/* Person Name */}\r\n                    <TableCell>\r\n                      <Typography variant=\"subtitle1\" sx={{ fontWeight: 600 }}>\r\n                        {testimonial.first_name} {testimonial.last_name}\r\n                      </Typography>\r\n                    </TableCell>\r\n\r\n                    {/* Testimonial Text */}\r\n                    <TableCell>\r\n                      <Typography variant=\"body2\" sx={{ color: 'text.secondary' }}>\r\n                        {truncateText(testimonial.testimonial, 150)}\r\n                      </Typography>\r\n                    </TableCell>\r\n\r\n                    {/* Type */}\r\n                    <TableCell>\r\n                      <Chip\r\n                        label={getTypeDisplayName(testimonial.type)}\r\n                        color={getTypeColor(testimonial.type)}\r\n                        size=\"small\"\r\n                        sx={{ fontWeight: 500 }}\r\n                      />\r\n                    </TableCell>\r\n\r\n                    {/* Featured Status */}\r\n                    <TableCell align=\"center\">\r\n                      <IconButton\r\n                        onClick={() => handleFeaturedToggle(testimonial.id, testimonial.featured)}\r\n                        color={testimonial.featured ? \"primary\" : \"default\"}\r\n                        size=\"small\"\r\n                        title={testimonial.featured ? \"Remove from featured\" : \"Mark as featured\"}\r\n                        disabled={loading}\r\n                      >\r\n                        {testimonial.featured ? <StarIcon /> : <StarBorderIcon />}\r\n                      </IconButton>\r\n                    </TableCell>\r\n\r\n                    {/* Photo */}\r\n                    <TableCell>\r\n                      <Avatar\r\n                        src={testimonial.image ? `${STATIC_URL}/uploads/testimonials/${testimonial.image}` : ''}\r\n                        alt={`${testimonial.first_name} ${testimonial.last_name}`}\r\n                        sx={{ \r\n                          width: 50, \r\n                          height: 50,\r\n                          backgroundColor: '#f5f5f5',\r\n                        }}\r\n                      >\r\n                        <PersonIcon />\r\n                      </Avatar>\r\n                    </TableCell>\r\n\r\n                    {/* Actions */}\r\n                    <TableCell>\r\n                      <Box sx={{ display: 'flex', justifyContent: 'center', gap: 1 }}>\r\n                        <IconButton \r\n                          onClick={() => handleEditClick(testimonial)} \r\n                          color=\"info\"\r\n                          size=\"small\"\r\n                          sx={{ \r\n                            '&:hover': { \r\n                              backgroundColor: 'info.light',\r\n                              color: 'white'\r\n                            }\r\n                          }}\r\n                        >\r\n                          <EditIcon />\r\n                        </IconButton>\r\n                        \r\n                        <IconButton \r\n                          onClick={() => handleDelete(testimonial.id)} \r\n                          color=\"error\"\r\n                          size=\"small\"\r\n                          sx={{ \r\n                            '&:hover': { \r\n                              backgroundColor: 'error.light',\r\n                              color: 'white'\r\n                            }\r\n                          }}\r\n                        >\r\n                          <DeleteIcon />\r\n                        </IconButton>\r\n                      </Box>\r\n                    </TableCell>\r\n                  </TableRow>\r\n                ))}\r\n              </TableBody>\r\n            </Table>\r\n          </TableContainer>\r\n\r\n          {/* Pagination */}\r\n          <TablePagination\r\n            rowsPerPageOptions={[5, 10, 25, 50]}\r\n            component=\"div\"\r\n            count={filteredTestimonials.length}\r\n            rowsPerPage={rowsPerPage}\r\n            page={page}\r\n            onPageChange={handleChangePage}\r\n            onRowsPerPageChange={handleChangeRowsPerPage}\r\n            sx={{ borderTop: '1px solid #e0e0e0' }}\r\n          />\r\n        </Paper>\r\n      )}\r\n\r\n      {/* Add Testimonial Modal */}\r\n      <Dialog\r\n        open={modalOpen}\r\n        onClose={handleModalClose}\r\n        maxWidth=\"md\"\r\n        fullWidth\r\n        PaperProps={{\r\n          sx: { \r\n            maxHeight: '95vh',\r\n            m: 2\r\n          }\r\n        }}\r\n      >\r\n        <DialogTitle sx={{ \r\n          display: 'flex', \r\n          justifyContent: 'space-between', \r\n          alignItems: 'center',\r\n          pb: 2,\r\n          borderBottom: '1px solid #e0e0e0'\r\n        }}>\r\n          <Typography variant=\"h6\">\r\n            Add New Testimonial\r\n          </Typography>\r\n          <IconButton onClick={handleModalClose} size=\"small\">\r\n            <CloseIcon />\r\n          </IconButton>\r\n        </DialogTitle>\r\n        \r\n        <DialogContent sx={{ p: 3 }}>\r\n          {submitSuccess && (\r\n            <Alert severity=\"success\" sx={{ mb: 3 }}>\r\n              Testimonial added successfully! Closing...\r\n            </Alert>\r\n          )}\r\n\r\n          {submitError && (\r\n            <Alert severity=\"error\" sx={{ mb: 3 }}>\r\n              {submitError}\r\n            </Alert>\r\n          )}\r\n\r\n          <Box component=\"form\" onSubmit={handleSubmit}>\r\n            <Grid container spacing={3}>\r\n              <Grid item xs={12} md={6}>\r\n                <TextField\r\n                  label=\"First Name\"\r\n                  value={firstName}\r\n                  onChange={e => setFirstName(e.target.value)}\r\n                  fullWidth\r\n                  required\r\n                  disabled={submitLoading || submitSuccess}\r\n                />\r\n              </Grid>\r\n\r\n              <Grid item xs={12} md={6}>\r\n                <TextField\r\n                  label=\"Last Name\"\r\n                  value={lastName}\r\n                  onChange={e => setLastName(e.target.value)}\r\n                  fullWidth\r\n                  required\r\n                  disabled={submitLoading || submitSuccess}\r\n                />\r\n              </Grid>\r\n\r\n              <Grid item xs={12}>\r\n                <TextField\r\n                  label=\"Testimonial\"\r\n                  value={testimonialText}\r\n                  onChange={e => setTestimonialText(e.target.value)}\r\n                  fullWidth\r\n                  required\r\n                  multiline\r\n                  rows={4}\r\n                  disabled={submitLoading || submitSuccess}\r\n                  placeholder=\"Enter the testimonial text...\"\r\n                />\r\n              </Grid>\r\n\r\n              <Grid item xs={12} md={6}>\r\n                <FormControl fullWidth required>\r\n                  <InputLabel>Type</InputLabel>\r\n                  <Select\r\n                    value={type}\r\n                    onChange={e => setType(e.target.value)}\r\n                    label=\"Type\"\r\n                    disabled={submitLoading || submitSuccess}\r\n                  >\r\n                    <MenuItem value=\"community\">Community</MenuItem>\r\n                    <MenuItem value=\"volunteers\">Volunteers</MenuItem>\r\n                    <MenuItem value=\"collaborators\">Collaborators</MenuItem>\r\n                  </Select>\r\n                </FormControl>\r\n              </Grid>\r\n\r\n              <Grid item xs={12} md={6}>\r\n                <FormControlLabel\r\n                  control={\r\n                    <Switch\r\n                      checked={featured}\r\n                      onChange={(e) => setFeatured(e.target.checked)}\r\n                      color=\"primary\"\r\n                      disabled={submitLoading || submitSuccess}\r\n                    />\r\n                  }\r\n                  label=\"Featured Testimonial\"\r\n                />\r\n              </Grid>\r\n\r\n              <Grid item xs={12}>\r\n                <Paper variant=\"outlined\" sx={{ p: 3 }}>\r\n                  <Typography variant=\"subtitle1\" gutterBottom sx={{ fontWeight: 600 }}>\r\n                    Person's Photo (Optional)\r\n                  </Typography>\r\n                  \r\n                  <input\r\n                    type=\"file\"\r\n                    accept=\"image/*\"\r\n                    onChange={e => setImage(e.target.files[0])}\r\n                    disabled={submitLoading || submitSuccess}\r\n                    style={{\r\n                      padding: '12px',\r\n                      border: '2px dashed #e0e0e0',\r\n                      borderRadius: '8px',\r\n                      width: '100%',\r\n                      backgroundColor: '#fafafa'\r\n                    }}\r\n                  />\r\n                  <Typography variant=\"caption\" color=\"text.secondary\" sx={{ mt: 2, display: 'block' }}>\r\n                    Recommended: Square image (1:1 ratio), maximum 2MB. Leave empty for default avatar.\r\n                  </Typography>\r\n                </Paper>\r\n              </Grid>\r\n            </Grid>\r\n          </Box>\r\n        </DialogContent>\r\n\r\n        <DialogActions sx={{ \r\n          p: 3, \r\n          borderTop: '1px solid #e0e0e0',\r\n          gap: 2\r\n        }}>\r\n          <Button \r\n            onClick={handleModalClose} \r\n            disabled={submitLoading}\r\n            variant=\"outlined\"\r\n            size=\"large\"\r\n          >\r\n            Cancel\r\n          </Button>\r\n          <Button\r\n            onClick={handleSubmit}\r\n            variant=\"contained\"\r\n            disabled={submitLoading || submitSuccess}\r\n            size=\"large\"\r\n          >\r\n            {submitLoading ? 'Adding...' : 'Add Testimonial'}\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n\r\n      {/* Edit Testimonial Modal */}\r\n      <Dialog\r\n        open={editModalOpen}\r\n        onClose={handleEditCancel}\r\n        maxWidth=\"md\"\r\n        fullWidth\r\n        PaperProps={{\r\n          sx: { \r\n            maxHeight: '95vh',\r\n            m: 2\r\n          }\r\n        }}\r\n      >\r\n        <DialogTitle sx={{ \r\n          display: 'flex', \r\n          justifyContent: 'space-between', \r\n          alignItems: 'center',\r\n          pb: 2,\r\n          borderBottom: '1px solid #e0e0e0'\r\n        }}>\r\n          <Typography variant=\"h6\">\r\n            Edit Testimonial\r\n          </Typography>\r\n          <IconButton onClick={handleEditCancel} size=\"small\">\r\n            <CloseIcon />\r\n          </IconButton>\r\n        </DialogTitle>\r\n        \r\n        <DialogContent sx={{ p: 3 }}>\r\n          {submitSuccess && (\r\n            <Alert severity=\"success\" sx={{ mb: 3 }}>\r\n              Testimonial updated successfully! Closing...\r\n            </Alert>\r\n          )}\r\n\r\n          {submitError && (\r\n            <Alert severity=\"error\" sx={{ mb: 3 }}>\r\n              {submitError}\r\n            </Alert>\r\n          )}\r\n\r\n          <Grid container spacing={3}>\r\n            <Grid item xs={12} md={6}>\r\n              <TextField\r\n                label=\"First Name\"\r\n                value={editFirstName}\r\n                onChange={(e) => setEditFirstName(e.target.value)}\r\n                required\r\n                fullWidth\r\n                disabled={submitLoading || submitSuccess}\r\n              />\r\n            </Grid>\r\n\r\n            <Grid item xs={12} md={6}>\r\n              <TextField\r\n                label=\"Last Name\"\r\n                value={editLastName}\r\n                onChange={(e) => setEditLastName(e.target.value)}\r\n                required\r\n                fullWidth\r\n                disabled={submitLoading || submitSuccess}\r\n              />\r\n            </Grid>\r\n\r\n            <Grid item xs={12}>\r\n              <TextField\r\n                label=\"Testimonial\"\r\n                value={editTestimonialText}\r\n                onChange={(e) => setEditTestimonialText(e.target.value)}\r\n                required\r\n                fullWidth\r\n                multiline\r\n                rows={4}\r\n                disabled={submitLoading || submitSuccess}\r\n              />\r\n            </Grid>\r\n\r\n            <Grid item xs={12} md={6}>\r\n              <FormControl fullWidth disabled={submitLoading || submitSuccess}>\r\n                <InputLabel>Type</InputLabel>\r\n                <Select\r\n                  value={editType}\r\n                  label=\"Type\"\r\n                  onChange={(e) => setEditType(e.target.value)}\r\n                >\r\n                  <MenuItem value=\"community\">Community</MenuItem>\r\n                  <MenuItem value=\"volunteers\">Volunteers</MenuItem>\r\n                  <MenuItem value=\"collaborators\">Collaborators</MenuItem>\r\n                </Select>\r\n              </FormControl>\r\n            </Grid>\r\n\r\n            <Grid item xs={12} md={6}>\r\n              <FormControlLabel\r\n                control={\r\n                  <Switch\r\n                    checked={editFeatured}\r\n                    onChange={(e) => setEditFeatured(e.target.checked)}\r\n                    color=\"primary\"\r\n                    disabled={submitLoading || submitSuccess}\r\n                  />\r\n                }\r\n                label=\"Featured Testimonial\"\r\n              />\r\n            </Grid>\r\n\r\n            <Grid item xs={12}>\r\n              <Paper variant=\"outlined\" sx={{ p: 3 }}>\r\n                <Typography variant=\"subtitle1\" gutterBottom sx={{ fontWeight: 600 }}>\r\n                  Update Photo\r\n                </Typography>\r\n                \r\n                {editingTestimonial && currentImageUrl && (\r\n                  <Box sx={{ mb: 3 }}>\r\n                    <Typography variant=\"body2\" color=\"text.secondary\" sx={{ mb: 1 }}>\r\n                      Current photo:\r\n                    </Typography>\r\n                    <Avatar\r\n                      src={`${STATIC_URL}/uploads/testimonials/${currentImageUrl}`}\r\n                      alt=\"Current photo\"\r\n                      sx={{\r\n                        width: 80,\r\n                        height: 80,\r\n                        border: '1px solid #e0e0e0'\r\n                      }}\r\n                    >\r\n                      <PersonIcon />\r\n                    </Avatar>\r\n                  </Box>\r\n                )}\r\n                \r\n                <input\r\n                  type=\"file\"\r\n                  accept=\"image/*\"\r\n                  onChange={(e) => setEditImage(e.target.files[0])}\r\n                  disabled={submitLoading || submitSuccess}\r\n                  style={{\r\n                    padding: '12px',\r\n                    border: '2px dashed #e0e0e0',\r\n                    borderRadius: '8px',\r\n                    width: '100%',\r\n                    backgroundColor: '#fafafa'\r\n                  }}\r\n                />\r\n                <Typography variant=\"caption\" color=\"text.secondary\" sx={{ mt: 2, display: 'block' }}>\r\n                  Leave empty to keep current photo. Upload new image to replace.\r\n                </Typography>\r\n              </Paper>\r\n            </Grid>\r\n          </Grid>\r\n        </DialogContent>\r\n\r\n        <DialogActions sx={{ \r\n          p: 3, \r\n          borderTop: '1px solid #e0e0e0',\r\n          gap: 2\r\n        }}>\r\n          <Button \r\n            onClick={handleEditCancel} \r\n            disabled={submitLoading}\r\n            variant=\"outlined\"\r\n            size=\"large\"\r\n          >\r\n            Cancel\r\n          </Button>\r\n          <Button\r\n            onClick={handleEditSubmit}\r\n            variant=\"contained\"\r\n            disabled={submitLoading || submitSuccess}\r\n            size=\"large\"\r\n          >\r\n            {submitLoading ? 'Updating...' : 'Update Testimonial'}\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default AdminManageGeneralTestimonials;","\n\n\nimport { BrowserRouter as Router, Routes, Route } from 'react-router-dom';\nimport { ThemeProvider as MuiThemeProvider } from '@mui/material/styles';\nimport { CssBaseline } from '@mui/material';\n\n// Import CSS files in the correct order - most specific last\nimport './App.css';\n\nimport { AuthProvider } from './context/AuthContext';\nimport { ThemeProvider, useTheme } from './theme';\nimport { LogoProvider } from './context/LogoContext';\nimport { PermissionRoute, PrivateRoute } from './ProtectedRoutes';\nimport BlogNewsPage from './pages/Insights/blognews';\nimport ChatAssistant from './components/ChatAssistant.jsx';\nimport VisitCounter from './components/visitCounters';\n\nimport HomePage from './pages/HomePage';\nimport LoginForm from './components/LoginForm';\nimport Profile from './pages/Auths/Profile';\nimport EventsPublicDisplay from './pages/Events/eventDisplay';\nimport FindbyCountry from './components/FindbyCountry';\nimport PublicProjectsDisplay from './pages/Projects/displayProjects';\nimport DisplayImpact from './pages/Impact/DisplayImpact.js';\nimport CountriesReached from './pages/Impact/countriesReached.jsx'; \nimport Chatbot from './pages/GetInvolved/getinvolved.jsx';\nimport Impact from './pages/Impact/Impact';\nimport ForgotPassword from './pages/Auths/ForgotPassword';\nimport ResetPassword from './pages/Auths/ResetPassword';\nimport ActivateAccount from './pages/Auths/ActivateAccount';\nimport AboutUsPage from './pages/AboutUs/AboutUs';\nimport ProjectsDisplay from './pages/Projects/ProjectsDisplay';\nimport ContactUsPage from './pages/ContactUs';\nimport ProjectDetail from './pages/Projects/ProjectDetail';\nimport Unauthorized from './pages/Auths/Unauthorized';\nimport Programs from './pages/Programs/programs';\nimport CompanyLocationsMap from './components/CompanyLocationsMap';\nimport PrivacyPolicy from './pages/Legals/privacyPolicy';\nimport TermsOfService from './pages/Legals/termsofservice';\nimport Sitemap from './pages/sitemap.xml';\nimport DonationPage from './pages/Donations/DonationModal';\nimport DonorWall from './pages/Donations/DonorWall';\nimport CountryInfoDisplay from './pages/AboutUs/CountrySpecificDisplay'; // Import the actual component\nimport PublicJobDisplay from './pages/PublicJobDisplay'; // Import the actual component\n\nimport BadgeGenerator from './pages/admin_dashboard/donorBadge';\n\n\nimport AdminAddCountries from './pages/admin_dashboard/Admin_AddCountries';\nimport AdminManageContacts from './pages/admin_dashboard/AdminManageContacts';\nimport AdminAddCategories from './pages/admin_dashboard/Admin_AddCategories';\nimport AdminManagePartners from './pages/admin_dashboard/Admin_ManagePartners';\nimport AdminManageTeam from './pages/admin_dashboard/Admin_ManageTeam';\nimport AdminManageUsers from './pages/admin_dashboard/Admin_ManageUsers';\nimport AdminDashboard from './pages/admin_dashboard/AdminDashboard';\nimport AdminManageWhatsapp from './pages/admin_dashboard/AdminManageWhatsapp';\nimport AdminManageVolunteerForms from './pages/admin_dashboard/AdminManageVolunteerForms';\nimport AdminManageProjects from './pages/admin_dashboard/AdminManageProjects';\nimport AdminManageImpact from './pages/admin_dashboard/AdminManageImpact';\nimport DashboardOverview from './pages/admin_dashboard/Overview';\nimport ManageBlogs from './pages/admin_dashboard/ManageBlogs';\nimport AdminDonationManagement from './pages/admin_dashboard/AdminDonationManagement';\nimport AdminManageLogo from './pages/admin_dashboard/AdminManageLogo';\nimport NewsletterManagement from './pages/admin_dashboard/NewsletterManagement';\nimport TransactionDetails from './pages/admin_dashboard/Admin_ManageTransactions';\nimport AdminManageVideos from './pages/admin_dashboard/AdminManageVideos';\nimport AdminManagePillars from './pages/admin_dashboard/AdminManagePillars';\nimport AdminManageEvents from './pages/admin_dashboard/AdminManageEvents';\nimport AdminManageJobs from './pages/admin_dashboard/AdminManageJobs';\nimport AdminCollaborationManagement from './pages/admin_dashboard/AdminCollaborationManagement';\nimport AdminManageHighlights from './pages/admin_dashboard/AdminManageHighlights';\nimport GalleryManager from './pages/admin_dashboard/GalleryManager';\nimport AdminManageGeneralTestimonials from './pages/admin_dashboard/AdminManageGeneralTestimonials';\n\n\n\n// Inner App component that uses theme context\nconst AppContent = () => {\n  const { muiTheme } = useTheme();\n\n  return (\n    <MuiThemeProvider theme={muiTheme}>\n      <CssBaseline />\n      <AuthProvider>\n        <LogoProvider>\n          <div className=\"appWrapper\">\n            <Router>\n              <Routes>\n                {/* Public Routes */}\n                <Route path=\"/\" element={<HomePage />} />\n                <Route path=\"/home\" element={<HomePage />} />\n                <Route path=\"/about-us\" element={<AboutUsPage />} />\n                <Route path=\"/contact-us\" element={<ContactUsPage />} />\n                <Route path=\"/login\" element={<LoginForm />} />\n                <Route path=\"/forgot-password\" element={<ForgotPassword />} />\n                <Route path=\"/reset-password/:token\" element={<ResetPassword />} />\n                <Route path=\"/activate-account/:token\" element={<ActivateAccount />} />\n                <Route path=\"/unauthorized\" element={<Unauthorized />} />\n                <Route path=\"/get-involved\" element={<Chatbot />} />\n                <Route path=\"/impact\" element={<Impact />} />\n                <Route path=\"/programs\" element={<Programs />} />\n                <Route path=\"/donate\" element={<DonationPage />} />\n                <Route path=\"/donor-wall\" element={<DonorWall />} />\n                <Route path=\"/insights\" element={<BlogNewsPage />} />\n                <Route path=\"/projects\" element={<ProjectsDisplay />} />\n                <Route path=\"/project/:id\" element={<ProjectDetail />} />\n                <Route path=\"/impact-statistics\" element={<DisplayImpact />} />\n                <Route path=\"/CompanyLocationsMap\" element={<CompanyLocationsMap />} />\n                <Route path=\"/CountryInfoDisplay\" element={<CountryInfoDisplay />} />\n                <Route path=\"/events\" element={<EventsPublicDisplay />} />\n                <Route path=\"/jobs\" element={<PublicJobDisplay />} />\n                 <Route path=\"/countries\" element={<CountriesReached />} />\n                <Route path=\"/country/:countryName\" element={<CountryInfoDisplay />} />\n                <Route path=\"/findbycountry\" element={<FindbyCountry />} />\n                <Route path=\"/projectscatalogue\" element={<PublicProjectsDisplay />} />\n\n \n                {/* Legal Pages */}\n                <Route path=\"/privacy-policy\" element={<PrivacyPolicy />} />\n                <Route path=\"/terms-of-service\" element={<TermsOfService />} />\n                <Route path=\"/sitemap.xml\" element={<Sitemap />} />\n\n                {/* Protected Routes with Permission-Based Access Control */}\n                <Route element={<PrivateRoute />}>\n                  <Route path=\"/profile\" element={<Profile />} />\n                  \n                  {/* Admin Dashboard with nested permission-based routes */}\n                  <Route path=\"/admin/dashboard\" element={<AdminDashboard />}>\n                    {/* Dashboard Overview - accessible to all authenticated users */}\n                    <Route index element={<DashboardOverview />} />\n                    \n                    {/* Admin-only routes */}\n                    <Route \n                      path=\"categories\" \n                      element={\n                        <PermissionRoute path=\"/admin/dashboard/categories\">\n                          <AdminAddCategories />\n                        </PermissionRoute>\n                      } \n                    />\n                    <Route \n                      path=\"countries\" \n                      element={\n                        <PermissionRoute path=\"/admin/dashboard/countries\">\n                          <AdminAddCountries />\n                        </PermissionRoute>\n                      } \n                    />\n                    <Route \n                      path=\"users\" \n                      element={\n                        <PermissionRoute path=\"/admin/dashboard/users\">\n                          <AdminManageUsers />\n                        </PermissionRoute>\n                      } \n                    />\n\n                    <Route \n                      path=\"jobmanager\" \n                      element={\n                        <PermissionRoute path=\"/admin/dashboard/jobmanager\">\n                          <AdminManageJobs />\n                        </PermissionRoute>\n                      } \n                    />\n\n\n\n                     <Route \n                      path=\"collaboration\" \n                      element={\n                        <PermissionRoute path=\"/admin/dashboard/collaboration\">\n                          <AdminCollaborationManagement />\n                        </PermissionRoute>\n                      } \n                    />\n\n\n                     <Route \n                      path=\"highlights\" \n                      element={\n                        <PermissionRoute path=\"/admin/dashboard/highlights\">\n                          <AdminManageHighlights />\n                        </PermissionRoute>\n                      } \n                    />\n\n                      <Route \n                      path=\"gallerymanager\" \n                      element={\n                        <PermissionRoute path=\"/admin/dashboard/gallerymanager\">\n                          <GalleryManager />\n                        </PermissionRoute>\n                      } \n                    />\n\n\n <Route \n                      path=\"adminmanagegeneraltestimonials\" \n                      element={\n                        <PermissionRoute path=\"/admin/dashboard/adminmanagegeneraltestimonials\">\n                          <AdminManageGeneralTestimonials />\n                        </PermissionRoute>\n                      } \n                    />\n\n\n\n\n\n\n\n\n\n\n\n                    <Route \n                      path=\"generator\" \n                      element={\n                        <PermissionRoute path=\"/admin/dashboard/generator\">\n                          <BadgeGenerator />\n                        </PermissionRoute>\n                      } \n                    />\n                    <Route \n                      path=\"manage-logo\" \n                      element={\n                        <PermissionRoute path=\"/admin/dashboard/manage-logo\">\n                          <AdminManageLogo />\n                        </PermissionRoute>\n                      } \n                    />\n                    <Route \n                      path=\"manage-transactions\" \n                      element={\n                        <PermissionRoute path=\"/admin/dashboard/manage-transactions\">\n                          <TransactionDetails />\n                        </PermissionRoute>\n                      } \n                    />\n                    <Route \n                      path=\"whatsapp\" \n                      element={\n                        <PermissionRoute path=\"/admin/dashboard/whatsapp\">\n                          <AdminManageWhatsapp />\n                        </PermissionRoute>\n                      } \n                    />\n                    <Route \n                      path=\"managedonate\" \n                      element={\n                        <PermissionRoute path=\"/admin/dashboard/managedonate\">\n                          <AdminDonationManagement />\n                        </PermissionRoute>\n                      } \n                    />\n\n                    {/* Permission-based routes (Admin + Assistant Admin with specific permissions) */}\n                    <Route \n                      path=\"manage-blogs\" \n                      element={\n                        <PermissionRoute path=\"/admin/dashboard/manage-blogs\">\n                          <ManageBlogs />\n                        </PermissionRoute>\n                      } \n                    />\n                    <Route \n                      path=\"projects\" \n                      element={\n                        <PermissionRoute path=\"/admin/dashboard/projects\">\n                          <AdminManageProjects />\n                        </PermissionRoute>\n                      } \n                    />\n\n                     <Route \n                      path=\"pillars\" \n                      element={\n                        <PermissionRoute path=\"/admin/dashboard/pillars\">\n                          <AdminManagePillars />\n                        </PermissionRoute>\n                      } \n                    />\n\n                  \n                  \n                    <Route \n                      path=\"team\" \n                      element={\n                        <PermissionRoute path=\"/admin/dashboard/team\">\n                          <AdminManageTeam />\n                        </PermissionRoute>\n                      } \n                    />\n                    <Route \n                      path=\"partners\" \n                      element={\n                        <PermissionRoute path=\"/admin/dashboard/partners\">\n                          <AdminManagePartners />\n                        </PermissionRoute>\n                      } \n                    />\n                    <Route \n                      path=\"newsletter\" \n                      element={\n                        <PermissionRoute path=\"/admin/dashboard/newsletter\">\n                          <NewsletterManagement />\n                        </PermissionRoute>\n                      } \n                    />\n                    <Route \n                      path=\"manage-videos\" \n                      element={\n                        <PermissionRoute path=\"/admin/dashboard/manage-videos\">\n                          <AdminManageVideos />\n                        </PermissionRoute>\n                      } \n                    />\n                    <Route \n                      path=\"contacts\" \n                      element={\n                        <PermissionRoute path=\"/admin/dashboard/contacts\">\n                          <AdminManageContacts />\n                        </PermissionRoute>\n                      } \n                    />\n <Route \n                      path=\"events\" \n                      element={\n                        <PermissionRoute path=\"/admin/dashboard/events\">\n                          <AdminManageEvents />\n                        </PermissionRoute>\n                      } \n                    />\n\n                    \n                    <Route \n                      path=\"volunteers\" \n                      element={\n                        <PermissionRoute path=\"/admin/dashboard/volunteers\">\n                          <AdminManageVolunteerForms />\n                        </PermissionRoute>\n                      } \n                    />\n                    <Route \n                      path=\"impact\" \n                      element={\n                        <PermissionRoute path=\"/admin/dashboard/impact\">\n                          <AdminManageImpact />\n                        </PermissionRoute>\n                      } \n                    />\n\n                    {/* Analytics route - accessible to all authenticated users */}\n                    <Route path=\"analytics\" element={<VisitCounter />} />\n                  </Route>\n                </Route>\n              </Routes>\n\n              {/* Chat Assistant available on all pages */}\n              <ChatAssistant />\n            </Router>\n          </div>\n        </LogoProvider>\n      </AuthProvider>\n    </MuiThemeProvider>\n  );\n};\n\n// Main App component\nfunction App() {\n  return (\n    <ThemeProvider>\n      <AppContent />\n    </ThemeProvider>\n  );\n}\n\nexport default App;"],"names":["AuthContext","createContext","useAuth","useContext","API_BASE","process","AuthProvider","_ref","children","user","setUser","useState","safeJson","async","contentType","res","headers","get","includes","json","text","Error","fetchProfile","console","log","concat","fetch","credentials","data","ok","message","error","useEffect","_jsx","Provider","value","login","email","password","method","body","JSON","stringify","err","logout","warn","colors","primary","secondary","accent","primaryLight","primaryDark","secondaryLight","secondaryDark","accentLight","accentDark","white","black","gray50","gray100","gray200","gray300","gray400","gray500","gray600","gray700","gray800","gray900","success","warning","info","hexToRgb","hex","result","exec","parseInt","lightTheme","_objectSpread","background","backgroundSecondary","surface","surfaceSecondary","textSecondary","textMuted","textInverse","border","borderLight","borderHover","headerBg","headerBgScrolled","headerBorder","headerShadow","cardBg","cardShadow","overlayBg","name","darkTheme","ThemeContext","useTheme","context","ThemeProvider","_ref2","isDarkMode","setIsDarkMode","isLoading","setIsLoading","initializeTheme","savedTheme","localStorage","getItem","prefersDark","window","matchMedia","matches","theme","cssVars","vars","Object","entries","forEach","key","replace","toLowerCase","generateCSSVariables","_ref3","property","document","documentElement","style","setProperty","setItem","className","metaThemeColor","querySelector","setAttribute","mediaQuery","handleSystemThemeChange","e","addEventListener","removeEventListener","currentTheme","muiTheme","themeColors","createTheme","palette","mode","main","light","dark","contrastText","default","paper","disabled","divider","typography","fontFamily","h1","fontSize","fontWeight","lineHeight","color","h2","h3","h4","h5","h6","body1","body2","components","MuiButton","styleOverrides","root","borderRadius","textTransform","padding","transition","transform","boxShadow","contained","MuiCard","backgroundColor","MuiPaper","MuiAppBar","backdropFilter","borderBottom","MuiTextField","borderColor","createMuiTheme","contextValue","toggleTheme","prev","setTheme","position","top","left","right","bottom","display","alignItems","justifyContent","zIndex","width","height","borderTop","animation","createGradient","color1","color2","arguments","length","undefined","withOpacity","opacity","startsWith","rgb","LogoContext","API_BASE_URL","apiRequest","endpoint","options","url","cleanEndpoint","slice","getApiUrl","response","status","statusText","errorMessage","parseError","textResponse","substring","textError","useLogo","LogoProvider","currentLogo","setCurrentLogo","loading","setLoading","setError","fetchLogo","useCallback","logo_name","refreshLogo","updateLogo","newLogo","clearLogo","uploadLogo","formData","updateLogoMetadata","id","metadata","deleteLogo","getLogoHistory","ROUTE_PERMISSIONS","roles","permission","getRouteDisplayName","path","PermissionDeniedPage","routeName","requiredPermission","getPermissionDisplayName","_jsxs","Box","sx","flexDirection","minHeight","textAlign","p","LockIcon","mb","Typography","variant","gutterBottom","maxWidth","role","Alert","severity","Button","startIcon","ArrowBackIcon","onClick","history","back","mt","PrivateRoute","Outlet","Navigate","to","PermissionRoute","routeConfig","permissions","API_CONFIG","baseURL","timeout","countryOptions","rawCountryOptions","map","label","r","g","b","steps","predefinedAmounts","open","onClose","onDonationSubmitted","activeStep","setActiveStep","submitSuccess","setSubmitSuccess","isClosing","setIsClosing","acefCountries","setAcefCountries","allCountries","setAllCountries","projects","setProjects","transactionMethods","setTransactionMethods","dataLoading","setDataLoading","apiConnected","setApiConnected","paymentSearchTerm","setPaymentSearchTerm","paymentCountryFilter","setPaymentCountryFilter","selectedPaymentMethod","setSelectedPaymentMethod","copiedField","setCopiedField","setFormData","donationType","selectedCountry","selectedProject","amount","customAmount","phone","donorCountry","isAnonymous","selectedTransactionMethod","makeApiRequest","controller","AbortController","timeoutId","setTimeout","abort","defaultOptions","signal","finalOptions","clearTimeout","fetchTransactionMethods","Array","isArray","fallbackMethods","type","country","fields","logo_url","fetchAcefCountries","sorted","sort","a","localeCompare","fallbackData","index","fetchProjects","projectsData","visibleProjects","filter","project","is_hidden","fallbackProjects","title","country_name","loadAllCountries","sortedCountries","testApiConnection","then","connected","Promise","allSettled","finally","handleInputChange","field","handleNext","validateStep","_formData$selectedTra","donationAmount","parseFloat","donationPayload","donor_name","trim","donor_email","donor_phone","donor_country","donation_type","target_country_id","target_project_id","selected_transaction_method_id","is_anonymous","userMessage","submitDonationToBackend","test","handleClose","getDonationTargetText","find","c","filteredTransactionMethods","matchesSearch","matchesCountry","availableCountries","Set","copyToClipboard","fieldId","navigator","clipboard","writeText","catch","textArea","createElement","appendChild","select","execCommand","removeChild","getPaymentTypeLabel","groupedTransactionMethods","paypal","bank_transfer","local_merchant","RadioOption","currentValue","onChange","icon","Icon","description","target","tagName","closest","stopPropagation","checked","size","AmountButton","selected","ProjectCard","_ref4","isSelected","MapPin","countryName","_Fragment","short_description","PaymentMethodCard","_ref5","_method$fields$find2","IconComponent","Building","CreditCard","Smartphone","Banknote","getPaymentMethodIcon","src","alt","onError","nextElementSibling","_method$fields$find","donationLink","f","handlePayPalDonate","ExternalLink","_method$fields$find3","Check","Copy","isCopied","PaymentTypeSection","_ref6","methods","_formData$selectedTra2","selectedMethod","jsx","Heart","X","step","AlertCircle","renderStepContent","_formData$selectedTra3","HandHeart","Sparkles","Globe","ArrowRight","RefreshCw","FileText","projectId","DollarSign","placeholder","min","max","CheckCircle","htmlFor","Search","marginRight","marginTop","margin","handleBack","ArrowLeft","gap","embeddedTranslationService","constructor","this","isInitialized","currentLanguage","supportedLanguages","flag","callbacks","googleWidget","isTranslating","useManualTranslation","hideStylesApplied","initialize","applyAllHidingStyles","initializeGoogleTranslate","resolve","reject","loadGoogleScript","createGoogleWidget","waitForGoogleWidget","_window$google","_window$google$transl","google","translate","TranslateElement","script","callbackName","Date","now","onerror","head","container","cssText","pageLanguage","includedLanguages","keys","join","layout","InlineLayout","SIMPLE","autoDisplay","attempts","check","setupGoogleListener","lang","notifyCallbacks","textContent","setupContinuousHiding","MutationObserver","mutations","needsHiding","mutation","addedNodes","node","nodeType","isGoogleTranslateElement","hideGoogleElements","observe","childList","subtree","setInterval","restoreBodyPosition","element","_element$classList","_element$classList2","_element$id","_element$src","classList","contains","selector","querySelectorAll","el","visibility","manualTranslate","languageCode","currentUrl","location","href","match","decodeURIComponent","encodeURIComponent","translateUrl","changeLanguage","dispatchEvent","Event","getCurrentLanguage","onLanguageChange","callback","add","delete","getSupportedLanguages","getLanguageInfo","code","isReady","refresh","existing","getElementById","remove","destroy","clear","styles","initWhenReady","readyState","Header","_slice$match","isScrolled","setIsScrolled","isVisible","setIsVisible","lastScrollY","setLastScrollY","isMobileMenuOpen","setIsMobileMenuOpen","isDropdownOpen","setIsDropdownOpen","isTranslationDropdownOpen","setIsTranslationDropdownOpen","setCurrentLanguage","isDonationModalOpen","setIsDonationModalOpen","translationError","setTranslationError","isTranslationServiceReady","setIsTranslationServiceReady","translationServiceLoading","setTranslationServiceLoading","setSupportedLanguages","isChangingLanguage","setIsChangingLanguage","logoLoading","isMobile","useMediaQuery","translationDropdownRef","useRef","handleScroll","currentScrollY","scrollY","ticking","throttledScrollHandler","requestAnimationFrame","passive","initTimeout","mounted","initTranslation","languages","delayedInit","_embeddedTranslationS","call","handleClickOutside","event","current","overflow","navigationItems","handleDropdownToggle","closeDropdown","handleTranslationDropdownToggle","closeTranslationDropdown","toggleMobileMenu","newState","handleNavClick","handleDonateClick","handleLanguageChange","handleThemeToggle","renderLogo","logo","full_url","alt_text","objectFit","nextSibling","TreePine","getCurrentLanguageInfo","toUpperCase","handleDonationModalClose","retryTranslationInit","textColor","renderTranslationDropdown","isMobileVersion","Tooltip","motion","button","textShadow","whileHover","scale","whileTap","currentLangInfo","ref","cursor","borderTopColor","ChevronDown","AnimatePresence","div","initial","y","animate","exit","duration","isDisabled","header","scrolled","WebkitBackdropFilter","ease","navBrand","navMenu","hidden","item","_item$dropdownItems","navItem","hasDropdown","dropdown","dropdownToggle","rotate","dropdownMenu","dropdownItems","dropdownItem","dropdownIndex","navLink","IconButton","themeToggle","marginLeft","Moon","Sun","donateBtn","x","mobileControls","mobileMenuToggle","Menu","mobileMenuOverlay","mobileMenu","borderLeft","mobileMenuHeader","mobileMenuBrand","mobileMenuContent","_item$dropdownItems2","mobileNavItem","mobileDropdownToggle","mobileDropdownMenu","mobileDropdownItem","mobileNavLink","textDecoration","mobileLanguageSelector","mobileDonateBtn","DonationModal","API_URL","STATIC_URL","EMAIL_REGEX","DISPOSABLE_EMAIL_DOMAINS","validateEmail","trimmedEmail","isValid","domain","split","subscribeToNewsletter","validation","_data$message","footer","backgroundEffects","inset","mainSection","gridTemplateColumns","marginBottom","brandSection","logoContainer","logoIcon","logoIconHover","logoText","backgroundClip","WebkitBackgroundClip","brandDescription","linksSection","linkItem","linkItemHover","linkUnderline","linkUnderlineHover","newsletterSection","newsletterText","whiteSpace","newsletterForm","emailInput","outline","emailInputFocus","submitButton","submitButtonHover","bottomSection","leftBottom","copyright","legalLinks","legalLink","legalLinkHover","bottomRight","socialLinks","socialLink","socialLinkHover","badges","badge","carbonBadge","impactBadge","backToTop","pointerEvents","backToTopVisible","backToTopHover","flexWrap","Footer","setEmail","hoveredElements","setHoveredElements","showBackToTop","setShowBackToTop","setStatus","scrollTop","pageYOffset","handleMouseEnter","handleMouseLeave","Facebook","Twitter","Linkedin","Instagram","scrollToTop","scrollTo","behavior","onMouseEnter","onMouseLeave","ChevronUp","link","Link","onSubmit","preventDefault","submit","Send","getFullYear","privacy","terms","social","rel","MailList","isSubmitting","setIsSubmitting","submitStatus","setSubmitStatus","setMessage","innerWidth","whileInView","viewport","once","delay","boxSizing","onFocus","onBlur","required","DEFAULT_IMAGE","getImageUrl","filename","cleanFilename","BlogUserPage","content","setContent","filteredContent","setFilteredContent","searchTerm","setSearchTerm","setFilter","selectedArticle","setSelectedArticle","isReading","setIsReading","readingId","setReadingId","viewedArticles","setViewedArticles","activeSection","setActiveSection","viewMode","setViewMode","sortBy","setSortBy","visibleArticles","setVisibleArticles","visibleVideos","setVisibleVideos","videoData","setVideoData","videoLoading","setVideoLoading","showVideoPlayer","setShowVideoPlayer","allVideos","setAllVideos","videosLoading","setVideosLoading","filteredVideos","setFilteredVideos","currentUtteranceRef","audioTimeoutRef","isAudioInitializedRef","speechCancelledRef","getYouTubeVideoId","getEmbedUrl","youtube_url","video_url","videoId","cleanupAudio","speechSynthesis","cancel","speaking","pending","embedUrl","fetchVideoData","processedVideos","video","searchText","tag","fetchAllVideos","handleBeforeUnload","handleVisibilityChange","_window$speechSynthes","handlePageHide","trackView","has","articleId","article","views","fetchArticles","silent","_data","_data2","_data3","endpoints","fullUrl","endpointError","_response","responseText","parse","articlesArray","articles","blogs","processedArticles","blog","is_published","published","_id","Math","random","toString","excerpt","summary","featured_image","image","thumbnail","created_at","createdAt","toISOString","published_at","publishedAt","is_featured","featured","is_news","category","floor","tags","likes","comments","filteredArticles","filteredVids","i","weekAgo","setDate","getDate","lower","urlParams","URLSearchParams","search","section","handleArticleClick","handleVoice","textToRead","cleanText","utterance","SpeechSynthesisUtterance","rate","pitch","volume","onstart","onend","startSpeech","voices","getVoices","preferredVoice","voice","localService","speak","voicesLoaded","maxWaitTime","handleVoicesChanged","alert","formatDate","date","articleDate","diffTime","abs","diffDays","toLocaleDateString","month","day","year","getReadingTime","wordCount","ceil","handleImageError","displayedArticles","displayedVideos","hero","heroPattern","backgroundSize","backgroundPosition","heroContent","heroTitle","letterSpacing","heroSubtitle","controlsSection","searchContainer","searchInput","filterControls","filterButton","filterButtonActive","actionBannersSection","actionBanners","actionBanner","actionBannerActive","bannerIcon","bannerTitle","bannerDescription","bannerStats","tabsContainer","tabs","overflowX","paddingBottom","tab","minWidth","tabActive","contentSection","videoSection","videoHeader","videoTitle","videoGrid","articlesGrid","articleCard","articleImage","articleContent","articleMeta","articleTitle","WebkitLineClamp","WebkitBoxOrient","articleExcerpt","articleFooter","paddingTop","actionButtons","iconButton","emptyState","loadingState","spinner","videoCard","loadMoreContainer","loadMoreButton","Star","Clock","Calendar","Square","Volume2","paragraph","Tag","blogsCount","newsCount","appearance","backgroundImage","backgroundRepeat","paddingRight","List","Grid3X3","handleBlogsAction","BookOpen","handleNewsAction","Newspaper","count","Video","allow","allowFullScreen","currentTarget","flexShrink","handleLoadMoreArticles","handleLoadMoreVideos","maxHeight","ChatAssistant","_websiteData$fullData11","_websiteData$fullData12","_conversationContext$","messages","setMessages","input","setInput","isOpen","setIsOpen","hasShownWelcome","setHasShownWelcome","messagesEndRef","whatsappNumber","setWhatsappNumber","whatsappDescription","setWhatsappDescription","conversationContext","setConversationContext","userIntent","collectingInfo","collectedData","missingFields","waitingFor","actionType","currentStep","totalSteps","userEmail","hasSubscribedToNewsletter","websiteData","setWebsiteData","apiData","pageContent","fullDataMap","Map","lastUpdated","dataLastFetched","setDataLastFetched","dataError","setDataError","ALL_API_ENDPOINTS","critical","ACTION_REQUIREMENTS","job_inquiry","optional","event_inquiry","partnership_inquiry","donation_inquiry","contact_inquiry","volunteer_inquiry","newsletter_subscription","makeAPIRequest","attempt","getMissingFields","requirements","getWelcomeMessage","_websiteData$fullData","_websiteData$fullData2","_websiteData$fullData3","_websiteData$fullData4","_websiteData$fullData5","_websiteData$fullData6","from","scrollToBottom","_messagesEndRef$curre","scrollIntoView","fetchWebsiteData","apiDataPromises","resultData","whatsappContact","number","source","timestamp","apiResults","all","successfulData","failedData","criticalFailures","set","finalData","stats","total","successful","failed","getSuccessMessage","fullName","eventName","organizationName","callGitHubModelsAPI","retryCount","RETRY_DELAYS","intent","lowerMessage","confidence","analyzeUserIntent","extractedInfo","extractInformation","extracted","emailMatch","phonePatterns","pattern","phoneMatch","namePatterns","some","word","jobTitles","job","charAt","orgPatterns","countries","amountPatterns","lastCallTime","MIN_INTERVAL","waitTime","contextPrompt","currentTime","toLocaleString","basePrompt","entry","department","region","continent","level","deadline","lastDate","salary","start_date","is_paid","author","form_title","form_url","is_active","current_value","unit","website","physical_address","getSystemPrompt","updatedContext","mergedData","isAutoSubscribe","autoSubscribeToNewsletter","submitResult","payload","job_id","jobId","cover_letter","coverLetter","experience","event_id","eventId","organization","subject","contactPerson","partnershipType","submitCollectedData","enhancedPrompt","model","temperature","max_tokens","top_p","retryAfter","getFallbackResponse","choices","_websiteData$fullData1","_websiteData$fullData10","_websiteData$fullData7","countryForm","form","_form$country_name","_context$collectedDat","_websiteData$fullData8","jobs","jobsList","_websiteData$fullData9","events","eventsList","_websiteData$fullData0","donationMethods","dataStats","sendMessage","newMessages","originalInput","aiResponse","isActionCompleted","formUrlMatch","formUrl","isVolunteerLink","errorResponse","isError","refreshInterval","clearInterval","WhatsAppButton","buttonText","customMessage","handleWhatsAppClick","encodedMessage","cleanNumber","whatsappUrl","l","m","_messages$text","onKeyDown","clearConversation","VisitCounter","visitStats","setVisitStats","dailyVisits","lifetimeVisits","visitDate","visitHistory","setVisitHistory","trends","setTrends","fetchVisitStats","fetchVisitHistory","days","fetchVisitTrends","loadData","interval","dateString","weekday","visit","visit_date","daily_count","trend","cumulative_total","hour","minute","PartnersSlider","partners","setPartners","visiblePartners","setVisiblePartners","visibleAccreditors","setVisibleAccreditors","sortedPartners","axios","withCredentials","fetchPartners","partnersOnly","accreditors","_","reload","renderSection","items","justifyItems","renderItemLogo","JoinMovement","viewBox","fill","d","stroke","strokeWidth","strokeLinecap","strokeLinejoin","FounderSection","members","setMembers","showLetter","setShowLetter","letterContent","setLetterContent","teamArray","fetchMembers","founder","member","_member$department","backgroundPattern","leftContent","rightContent","sectionLabel","titleAccent","WebkitTextFillColor","subtitle","buttonContainer","primaryButton","secondaryButton","imageContainer","founderImage","imageOverlay","overlayName","overlayPosition","modal","modalContent","overflowY","modalHeader","modalText","closeButton","itemVariants","visible","variants","staggerChildren","handleLetterClick","img","image_url","onStartClick","imageError","setImageError","imagePaths","currentPathIndex","setCurrentPathIndex","attemptedPaths","setAttemptedPaths","fallbackImage","handleStartClick","handleReadStoriesClick","testimonialSection","autoPlay","loop","muted","playsInline","failedPath","onLoad","handleImageLoad","AccreditorsGrid","scaleX","transformOrigin","partner","tooltip","parent","parentElement","fallback","borderRight","AcefAboutInfo","filtered","_p$type","_p$type2","containerStyle","mainSectionStyle","gridStyle","emailInputStyle","flex","buttonStyle","order","cx","cy","VideoSection","featuredError","latestError","featuredActive","active","selectedVideo","generalError","getBackgroundGradient","getLoadingSpinnerColor","getTextColor","getButtonHoverStyles","_colors$primary$slice2","videoUrl","badgeStyles","isFeatured","videoWrapperStyles","buttonStyles","getButtonStyles","_colors$primary$slice","alignSelf","hoverStyles","arrow","xmlns","iconMap","people","Users","location_city","check_circle","handshake","Handshake","attach_money","volunteer_activism","assessment","BarChart3","trending_up","TrendingUp","environmentalImages","EnvironmentalCharity","impacts","setImpacts","isGridVisible","setIsGridVisible","gridRef","observer","IntersectionObserver","isIntersecting","intersectionRatio","threshold","rootMargin","currentGridRef","unobserve","featuredImpacts","impact","order_index","starting_value","project_count","fetchFeaturedImpacts","formatNumber","num","toFixed","calculateGrowth","starting","round","mainContent","mainHeading","subHeading","ctaButton","gridTemplateRows","paddingLeft","gridItem","imageCell","statCell","statNumber","statLabel","growthIndicator","loadingContainer","loadingText","cell1","gridColumn","gridRow","transitionDelay","cell2","cell3","cell4","cell5","cell6","cell7","cell8","cell9","cell10","renderGridContent","Loader2","gridItems","imageIndex","impactIndex","cellKey","growthPercent","push","baseTransform","overlay","initialCategoryFilter","navigate","useNavigate","useLocation","filteredProjects","setFilteredProjects","categories","setCategories","setCountries","setVisibleProjects","filters","setFilters","categoryId","countryId","projectRefs","placeholderProjects","category_name","placeholderCategories","statusConfig","planning","Assessment","bgColor","ongoing","completed","on_hold","cardVariants","hover","fetchCategories","fetchCountries","initializeData","applyFilters","_categories$find","category_id","cat","country_id","observers","disconnect","allProjects","cats","ctrs","handleFilterChange","clearFilters","getStatusInfo","truncateText","maxLength","totalProjects","featuredCount","ongoingCount","completedCount","minlength","py","Container","xs","md","mx","Stack","direction","sm","spacing","px","NatureOutlined","mr","Paper","TextField","InputProps","startAdornment","InputAdornment","FormControl","InputLabel","Select","MenuItem","config","ClearAll","ml","ViewModule","ViewList","CircularProgress","thickness","Grid","lg","Card","handleProjectClick","state","pathname","CardContent","LocationOn","endIcon","ArrowForward","fullWidth","currentIndex","setCurrentIndex","isTransitioning","setIsTransitioning","carouselRef","designColors","person_name","canGoNext","canGoPrev","goNext","goToProjectsCatalogue","ChevronRight","goPrev","ArrowBack","React","Chip","textOverflow","LatestNewsSection","setArticle","fetchLatestArticle","latestArticle","handleNewsroomClick","newsroomLink","contentWrapper","meta","readButton","empty","borderBottomColor","GlassButton","isHovered","setIsHovered","isPressed","setIsPressed","handleClick","LatestEvent","_latestEvent$one_line","latestEvent","setLatestEvent","fetchLatestEvent","handleEventClick","posterStyle","detailStyle","buttonContainerStyle","utilityButtonStyle","PlaceholderImage","canvas","ctx","getContext","Image","crossOrigin","onload","renderWidth","renderHeight","offsetX","offsetY","drawImage","gradient","createLinearGradient","addColorStop","fillStyle","fillRect","font","fillText","download","toBlob","blob","URL","createObjectURL","click","Download","share","one_liner","Share2","currency","price","showCTA","featuredTestimonial","setFeaturedTestimonial","fetchFeaturedTestimonial","testimonials","t","first_name","last_name","User","testimonial","getTypeDisplayName","testimonialsSection","block","fallbackSelectors","Homepage","currentSlide","setCurrentSlide","setScrollY","hoveredCard","setHoveredCard","latestNews","setLatestNews","showNewsPopup","setShowNewsPopup","newsPopupClosed","setNewsPopupClosed","loadingNews","setLoadingNews","newsError","setNewsError","featuredNews","setFeaturedNews","recentBlogs","setRecentBlogs","loadingArticles","setLoadingArticles","articleError","setArticleError","featuredProjects","setFeaturedProjects","loadingProjects","setLoadingProjects","projectError","setProjectError","progress","placeholderNews","heroSlides","sessionStorage","rawArticles","sortedNews","isPublished","isApproved","approved","isNews","dateA","latest","popupClosedKey","wasPopupClosed","fetchLatestNews","newsArticles","blogArticles","rawProjects","sortedProjects","fetchFeaturedProjects","newScrollY","timer","handleCloseNewsPopup","getProjectProgress","getStatusColor","getCategoryGradient","categoryName","getCategoryIcon","handleNewsClick","newsItem","fromPath","slide","mixBlendMode","LocationIcon","handleViewAllProjects","FeaturedTestimonial","scrollHeight","innerHeight","LoginForm","setForm","showPassword","setShowPassword","handleChange","Lock","Mail","autoComplete","togglePasswordVisibility","EyeOff","Eye","Profile","EventsPublicDisplay","setEvents","setSelectedCountry","selectedEvent","setSelectedEvent","detailEvent","setDetailEvent","currentDate","setCurrentDate","calendarEvents","setCalendarEvents","mousePosition","setMousePosition","visibleElements","setVisibleElements","showInterestForm","setShowInterestForm","interestForm","setInterestForm","submitting","setSubmitting","observerRef","handleMouseMove","clientX","clientY","dataset","animateId","foundEvent","handleExpressInterest","fetchEvents","filteredEvents","handleInterestChange","handleViewDetails","closeInterestForm","pageContainer","backgroundEffect","heroSection","mainContainer","viewToggle","viewButton","filterSection","eventsGrid","eventCard","calendar","calendarGrid","calendarDay","animateSlideUp","animateSlideUpVisible","animateFadeIn","animateFadeInVisible","loadingSpinner","startDate","endDate","end_date","getMonth","getDay","getDaysInMonth","dayEvents","toDateString","getEventsForDate","isToday","idx","validationErrors","validateForm","errors","params","exists","checkExistingInterest","post","_error$response","_error$response$data","_error$response2","_error$response2$data","resize","FollowACEF","CompanyLocationsMap","mapRef","mapInstanceRef","markersRef","locations","setLocations","debugInfo","setDebugInfo","leafletReady","setLeafletReady","addDebugLog","toLocaleTimeString","logEntry","fetchLocationData","contactsRes","contacts","locationsWithCoords","contact","hasLat","latitude","hasLng","longitude","processedLocations","lat","lng","isNaN","Boolean","L","cssPromise","leafletCSS","jsPromise","leafletJS","loadLeaflet","center","zoom","zoomControl","scrollWheelZoom","doubleClickZoom","touchZoom","mapActive","activateMap","enable","indicator","innerHTML","parentNode","deactivateMap","disable","on","_mapRef$current","tabIndex","tileLayer","attribution","maxZoom","addTo","marker","removeLayer","_location$contact","_location$contact2","popupContent","bindPopup","group","featureGroup","fitBounds","getBounds","pad","setView","styleSheet","countryToRegion","headerContent","statusDot","controls","controlsGrid","toggleBtn","filterBtn","grid","card","listCard","indicatorSmall","listContent","listName","listRegion","errorState","errorIcon","errorTitle","retryBtn","emptyIcon","emptyTitle","emptyMessage","spinStyle","FindbyCountry","selectedRegion","setSelectedRegion","reached","groupedCountries","reduce","acc","regions","searchResults","regionColor","handleCountryClick","ImpactCard","getIconForCategory","FeaturedImpactCard","showCategories","maxItems","selectedCategory","setSelectedCategory","fetchImpacts","handleCategoryFilter","fetchByCategory","Leaf","Award","slideIndex","prevSlide","ChevronLeft","nextSlide","CountriesReached","questions","question","applicantType","condition","_questions","_questions2","_questions3","flowType","onExit","initialData","chatMessages","setChatMessages","setUserMessage","setCurrentStep","setErrorMessage","awaitingConfirmation","setAwaitingConfirmation","isTyping","setIsTyping","editingStep","setEditingStep","questionHistory","setQuestionHistory","setIsInitialized","chatContainerRef","welcomeMessages","collaborate","initializeChat","sender","stepIndex","firstQuestion","questionText","addMessage","handleSubmit","questionToValidate","validationError","validateInput","currentFormData","msg","editQuestion","newFormData","currentQuestion","questionKey","answer","nextStepIndex","getNextStep","currentStepIndex","q","exitButton","chatContainer","botMessage","botAvatar","botMessageContent","userMessageContent","editHint","typingIndicator","typingDots","dot","inputSection","inputGroup","textarea","buttonGroup","successButton","editingIndicator","handleEditMessage","hint","animationDelay","_chatMessages$","processedFormData","processedData","full_name","firstName","user_name","emailAddress","email_address","primaryEmail","contact_email","company","institution","prepareSubmissionData","submissionData","additionalData","submissionMethod","completionTime","originalFormData","collaborationId","submittedAt","renderInput","opt","onKeyPress","prevStepIndex","getPreviousStep","autoCloseDelay","showFeaturedFirst","setTestimonials","loadedImages","setLoadedImages","isAutoPlaying","setIsAutoPlaying","fetchTestimonials","filteredData","currentTestimonial","isImageLoaded","objectPosition","testimonialId","fontStyle","getTypeIcon","goToPrev","goToNext","goToSlide","GetInvolved","activeFlow","setActiveFlow","volunteerCountry","setVolunteerCountry","setAvailableCountries","volunteerForm","setVolunteerForm","loadingForm","setLoadingForm","formError","setFormError","thankYouVisible","setThankYouVisible","actionCardsRef","sendEmail","startFlow","fetchAvailableCountries","exitFlow","navigationSection","sectionTitle","sectionSubtitle","buttonGrid","animateSlideLeft","animateSlideLeftVisible","animateSlideRight","animateSlideRightVisible","actionButton","buttonIcon","buttonTitle","buttonSubtitle","buttonDescription","backButton","volunteerSection","volunteerTitle","volunteerDescription","countrySelector","careerEventSection","careerBlock","eventsBlock","ImageFallbackComponent","scrollToActionCards","ThankYouMessage","CollaborationChatbot","errorData","fetchVolunteerForm","renderVolunteerForm","embeddableURL","formIdMatch","separator","getEmbeddableFormURL","frameBorder","sandbox","CollVolunteersTestimonials","FeaturedImpactsDisplay","activeCard","setActiveCard","fetchAllImpacts","sortedImpacts","Zap","onMouseOver","onMouseOut","isActive","Activity","Target","perspective","transformStyle","heroImage","willChange","contentOverlay","ctaContainer","buttonGlow","statsContainer","statCard","isLoaded","setIsLoaded","activeParticle","setActiveParticle","scrollProgress","setScrollProgress","sectionRef","imageRef","rect","getBoundingClientRect","windowHeight","elementTop","elementHeight","visibleTop","visibleBottom","floatingElements","handleProjectsClick","stat","showTabs","defaultType","filteredTestimonials","setFilteredTestimonials","activeTab","setActiveTab","filterTestimonials","nonFeatured","getTypeColor","Quote","prevTestimonial","nextTestimonial","iconProps","goToTestimonial","toggleAutoPlay","Pause","Play","ModernContainer","styled","_customTheme$colors","customTheme","CleanSection","ModernButton","FocusAreaButton","getIconComponent","iconName","GroupsOutlined","Public","AttachMoney","VolunteerActivism","public","nature","Nature","school","School","water_drop","WaterDrop","forest","Forest","recycling","RecyclingOutlined","CategoryIcon","Impact","showProjects","setShowProjects","selectedCategoryId","setSelectedCategoryId","focusRef","focusVisible","setIsIntersecting","memoizedOptions","useMemo","currentRef","useIntersectionObserver","formatImpactValue","numValue","formatted","fetchImpactStats","transformedStats","handleBackToImpact","pt","ProjectsDisplay","ImpactHero","handleFocusAreaClick","projectsSection","GeneralTestimonialsDisplay","ForgotPassword","isSubmitted","setIsSubmitted","apiUrl","autoFocus","ResetPassword","setPassword","confirmPassword","setConfirmPassword","showConfirmPassword","setShowConfirmPassword","Shield","minLength","handleBackToLogin","ActivateAccount","token","useParams","setSuccess","tokenValid","setTokenValid","userInfo","setUserInfo","validateToken","passwordStrength","strength","elevation","CheckCircleIcon","endAdornment","edge","VisibilityOff","Visibility","bgcolor","helperText","TeamSection","departments","setDepartments","filteredMembers","setFilteredMembers","visibleCount","setVisibleCount","selectedMember","setSelectedMember","isModalOpen","setIsModalOpen","selectedDepartment","setSelectedDepartment","teamRes","departmentsArray","departmentOrderMap","dept","fetchData","openModal","closeModal","handleSocialClick","linkedin_url","website_url","bio","MissionVision","visibleCards","setVisibleCards","timer1","timer2","handleCardHover","cardType","isHovering","cardStyles","mobileCardStyles","onMouseMove","CoreValues","hoveredIndex","setHoveredIndex","values","titleStyle","getCardStyle","baseStyle","gridArea","cardContentStyle","cardSubtitleStyle","svgStyle","descriptionStyle","gridAutoRows","delayChildren","svg","preserveAspectRatio","pathLength","fillOpacity","ObjectivesSection","currentPage","setCurrentPage","objectives","Lightbulb","CheckCircle2","totalPages","String","padStart","getCurrentItems","start","objective","localIndex","globalIndex","prevPage","nextPage","PublicHighlights","_highlights$currentYe","_highlights$currentYe2","highlights","setHighlights","years","setYears","currentYear","setCurrentYear","currentSlideIndex","setCurrentSlideIndex","generateFallbackImage","initials","svgString","btoa","highlightsData","sortedYears","Number","fetchHighlights","currentYearHighlights","newSlideIndex","prevYearIndex","indexOf","prevYear","nextYearIndex","currentHighlight","totalHighlights","handleYearClick","AboutUs","mousePos","setMousePos","sectionsRef","aboutSectionRef","dynamicStyles","heroBg","cardText","buttonPrimary","buttonSecondary","dividerText","dividerLine","VisionObjectives2050","Timeline","PartnerSlider","Hero","emailJSService","configCache","cacheTimeout","getCountryConfig","cacheKey","cached","service_id","template_id","public_key","serviceId","templateId","publicKey","contactEmail","contactPhone","physicalAddress","mailingAddress","mailing_address","initializeForCountry","emailjs","templateParams","formElement","emailParams","to_email","contact_phone","validateCountryConfig","valid","getConfiguredCountries","hasCompleteConfig","clearCache","testConfiguration","testEmail","testParams","test_mode","isEmbedded","lastName","user_email","user_message","contactInfo","setContactInfo","currentCountry","setCurrentCountry","configStatus","setConfigStatus","loadAvailableCountries","loadContactInfo","configuredCountries","inputStyle","inputFocusStyle","newCountry","getStatusStyle","emailData","from_name","from_email","user_company","company_name","assign","rows","ContactUs","Main","ProjectDetail","_location$state","_location$state2","setProject","liked","setLiked","progressVisible","setProgressVisible","backPath","setBackPath","backLabel","setBackLabel","sdgGoalsInfo","fetchProject","handleGoBack","handleSeeMoreProjects","impactScore","metrics","sum","val","calculateImpactScore","impact_metrics","Divider","orientation","flexItem","handleShare","Share","Favorite","Category","LinearProgress","component","Psychology","Analytics","testimonial_text","testimonial_author","testimonial_position","my","sdg_goals","goal","_sdgGoalsInfo$goal","_sdgGoalsInfo$goal2","_sdgGoalsInfo$goal3","_sdgGoalsInfo$goal4","_sdgGoalsInfo$goal5","Avatar","Unauthorized","ANIMATION_CONFIG","DEFAULT_IMAGES","PILLAR_THEMES","accentColor","getImageForPillar","lowerName","usePillarsData","pillars","setPillars","fetchPillars","transformedPillars","pillar","focusAreas","focus_areas","fa","refetch","createGlassBackground","createHolographicGradient","createQuantumBackground","QuantumBackground","activePillar","mouseParallax","QuantumEffects","parallaxOffset","PillarNavigationItem","onSelect","PillarNavigation","activeIndex","onPillarChange","FocusAreasGrid","area","ProgressMatrix","createProgressButton","targetIndex","symbol","PillarContent","_ref7","LoadingScreen","_ref8","ErrorScreen","_ref9","onRetry","ProgrammePillarsSection","setActiveIndex","useScrollParallax","useMouseTracking","useVisibilityObserver","maxIndex","onRotate","isEnabled","useAutoRotation","handlePillarChange","getStyles","CrossCuttingStrategies","strategies","features","strategy","feature","featureIndex","AnimatedCounter","setCount","counterRef","numericValue","startTime","animationFrame","easeOutQuart","pow","currentCount","cancelAnimationFrame","displayValue","badgeText","gradientText","statsGrid","statItem","statValue","toggleContainer","toggleWrapper","toggleButton","toggleButtonActive","toggleButtonInactive","toggleIcon","toggleIconActive","toggleContent","toggleLabel","toggleSublabel","viewSection","viewSectionActive","viewSectionHidden","sectionHeader","sectionDesc","goalsGrid","pillarsGrid","compactCard","cardHeader","iconContainer","timelineTag","cardTitle","cardMetric","cardDesc","hoverOverlay","ctaSection","ctaButtons","ACEFDashboard","activeView","setActiveView","oneYearGoals","metric","desc","Briefcase","programmePillars","Recycle","Droplets","Wheat","GraduationCap","CompactCard","ViewToggle","sublabel","view","Programs","activeProgram","setActiveProgram","timelineActiveIndex","setTimelineActiveIndex","PrivacyPolicy","TermsOfService","donors","setDonors","anonymousData","setAnonymousData","totalAmount","completedDonors","donorsCount","anonymous","sampleDonor","fetchDonorWall","filteredDonors","getFilteredDonors","donor","thirtyDaysAgo","donation_date","currentDonors","formatAmount","Intl","NumberFormat","minimumFractionDigits","format","Trophy","donation_amount","Crown","tier","glow","Medal","BadgeIcon","isCompleted","donation_status","completed_at","donation_id","stickyHeader","stickyHeaderContent","countryInfo","countryIcon","countryTitle","dropdownContainer","dropdownButton","dropdownChevron","dropdownHeader","dropdownList","dropdownItemActive","exploreButton","loadingContent","heroTitleContainer","heroFlag","statContent","statIcon","placeholderSection","placeholderCard","placeholderIcon","placeholderTitle","placeholderText","placeholderSubtext","placeholderActions","placeholderButton","sectionDivider","sectionIcon","teamGrid","teamCard","teamCardContent","teamAvatar","teamAvatarImage","teamAvatarFallback","teamName","teamPosition","teamDepartment","teamBio","teamActions","teamAction","projectsGrid","projectCard","projectImage","projectImageImg","projectStatus","statusCompleted","statusOngoing","statusPlanning","statusOnHold","projectContent","projectTitle","projectDescription","projectMeta","projectMetaItem","eventContent","eventHeader","eventTitle","eventPricePaid","eventPriceFree","eventDescription","eventMeta","eventMetaItem","contactGrid","contactSection","contactTitle","contactItems","contactItem","contactItemIcon","contactItemContent","contactItemLabel","contactItemValue","contactItemMeta","newsGrid","newsCard","newsImage","newsImageImg","newsContent","newsTitle","newsExcerpt","newsMeta","newsMetaItem","volunteerGrid","volunteerCard","volunteerContent","volunteerMeta","volunteerStatus","volunteerActions","volunteerButton","CountryInfoDisplay","_countryData$team","_countryData$projects","_countryData$events","_countryData$team2","_countryData$projects2","_countryData$projects3","_countryData$events2","_countryData$events2$","_countryData$transact","_countryData$voluntee","_countryData$countryN","countryData","setCountryData","team","countryNews","volunteerForms","dropdownOpen","setDropdownOpen","expandedMembers","setExpandedMembers","activeBio","setActiveBio","volunteersModalOpen","setVolunteersModalOpen","activeForm","setActiveForm","getPlaceholderData","city","postal_code","closeVolunteersModal","fetchCountryData","countriesRes","projectsRes","eventsRes","transactionRes","newsRes","volunteerFormsRes","countriesData","newsData","formsData","teamData","eventsData","contactsData","transactionData","placeholderData","newsLength","formsLength","handleExplore","formatDateTime","getEventStatus","end","hasRealData","modalCloseButton","openVolunteersModal","MapIcon","handleCountrySelect","modalHeaderContent","modalIcon","modalTitle","modalSubtitle","modalBody","modalVolunteerGrid","modalVolunteerCard","modalVolunteerContent","modalVolunteerTitle","modalVolunteerDescription","modalVolunteerMeta","modalVolunteerStatus","modalVolunteerActions","modalVolunteerButton","modalEmptyState","modalEmptyIcon","modalEmptyTitle","modalEmptyText","modalEmptyButton","author_name","scrollBy","offsetWidth","scrollBehavior","_member$bio","isLong","displayedBio","toggleExpand","Phone","loadingAnimation","successAnimation","PublicJobDisplay","setJobs","selectedJob","setSelectedJob","showApplicationForm","setShowApplicationForm","heroRef","resume","fetchJobs","request","_unused","_files$","files","validTypes","fileName","endsWith","filteredJobs","levelMatch","locationMatch","uniqueLocations","retryFetch","Lottie","animationData","isPastDeadline","_unused2","isDeadlinePassed","req","FormData","append","_response$data","serverError","borderStyle","accept","FIELD_CONFIGURATIONS","businessCard","template","recipientName","customData","compact","standard","premium","certificateElegant","program","instructor","certificateModern","certificateLuxury","philanthropyBadge","diameter","displayName","levelColors","BadgeGenerator","selectedType","setSelectedType","recipients","setRecipients","csvFile","setCsvFile","isProcessing","setIsProcessing","fileInputRef","currentConfig","TemplateComponent","html2canvas","downloadSingle","itemId","useCORS","allowTaint","logging","revokeObjectURL","addSampleRecipient","newRecipient","removeRecipient","updateRecipientField","recipientIndex","fieldKey","updated","resetRecipients","defaultRecipient","downloadCSVTemplate","sampleRow","_field$options","csvContent","Blob","FileCheck","Upload","file","reader","FileReader","lines","line","h","recipientNameIndex","findIndex","newRecipients","v","sizeIndex","recipient","recip","readAsText","Plus","Edit","_field$options2","option","AdminAddCountries","confirmDelete","setConfirmDelete","Autocomplete","newValue","_selectedCountry$labe","ListItem","secondaryAction","DeleteIcon","ListItemText","Dialog","DialogTitle","DialogActions","AdminManageContacts","setContacts","setSelected","setMode","emailJSStatus","setEmailJSStatus","fetchContacts","emailJSValidations","hasEmailJS","hasCoordinates","configured","coordinates","countryNames","orphanedContacts","deletePromises","clearMessages","handleFormChange","getContactForCountry","getEmailJSStatusIcon","getEmailJSStatusText","getCoordinatesStatusIcon","state_province","cancelEdit","startAddNew","borderCollapse","handleEdit","confirm","handleDelete","startAddForCountry","AdminAddCategories","newCategory","setNewCategory","editingId","setEditingId","editValue","setEditValue","resetFeedback","trimmed","handleSaveEdit","SaveIcon","CancelIcon","EditIcon","AdminManagePartners","filteredPartners","setFilteredPartners","fetchingData","setFetchingData","typeFilter","setTypeFilter","featuredFilter","setFeaturedFilter","page","setPage","rowsPerPage","setRowsPerPage","modalOpen","setModalOpen","setName","setLogo","setType","setFeatured","submitLoading","setSubmitLoading","submitError","setSubmitError","editModalOpen","setEditModalOpen","editingPartner","setEditingPartner","editName","setEditName","editType","setEditType","editFeatured","setEditFeatured","editLogo","setEditLogo","currentLogoUrl","setCurrentLogoUrl","resetForm","fileInput","handleModalClose","_err$response","_err$response2","_err$response2$data","handleEditCancel","paginatedPartners","AddIcon","handleAddModalOpen","FilterListIcon","SearchIcon","ClearIcon","onDelete","BusinessIcon","TableContainer","Table","TableHead","TableRow","TableCell","TableBody","align","currentFeatured","put","handleFeaturedToggle","StarIcon","StarBorderIcon","handleEditClick","TablePagination","rowsPerPageOptions","onPageChange","handleChangePage","newPage","onRowsPerPageChange","PaperProps","pb","CloseIcon","DialogContent","FormControlLabel","control","Switch","_err$response3","_err$response3$data","AdminManageTeam","_deleteDialog$member","_departmentDeleteDial","deleteDialog","setDeleteDialog","departmentsLoading","setDepartmentsLoading","departmentDialog","setDepartmentDialog","departmentDeleteDialog","setDepartmentDeleteDialog","departmentFilter","setDepartmentFilter","countryFilter","setCountryFilter","editMode","setEditMode","editingMember","setEditingMember","setDepartment","setPosition","setBio","linkedin","setLinkedin","setCountry","photo","setPhoto","currentImageUrl","setCurrentImageUrl","showMessageModal","setShowMessageModal","deptName","setDeptName","deptDescription","setDeptDescription","deptOrderIndex","setDeptOrderIndex","deptSubmitLoading","setDeptSubmitLoading","deptSubmitError","setDeptSubmitError","fetchTeam","fetchDepartments","_member$email","showMessage","memberDepartments","handleDepartmentSubmit","_err$response$data","handleDeleteCancel","getDepartmentColor","paginatedMembers","Tabs","Tab","PersonIcon","iconPosition","LinkedInIcon","memberCountry","handleDeleteClick","handleDepartmentAdd","flexGrow","DragIndicatorIcon","handleDepartmentEdit","handleDepartmentDelete","getOptionLabel","multiline","DialogContentText","AVAILABLE_PERMISSIONS","AdminManageUsers","users","setUsers","selectedUser","setSelectedUser","confirmOpen","setConfirmOpen","editingUser","setEditingUser","editedData","setEditedData","addUserOpen","setAddUserOpen","permissionsOpen","setPermissionsOpen","selectedPermissions","setSelectedPermissions","newUser","setNewUser","snackbar","setSnackbar","showSnackbar","fetchUsers","handlePermissionToggle","permissionKey","openPermissionsDialog","getRoleColor","PersonAddIcon","verticalAlign","SecurityIcon","u","newRole","currentUser","handleRoleChange","permObj","userId","handleEditSave","handleEditStart","handleResendInvitation","EmailIcon","FormGroup","Checkbox","testResponse","testData","inviteResponse","invitedBy","inviteData","Snackbar","autoHideDuration","ALL_MENU_ITEMS","DashboardIcon","requiredRole","NewspaperIcon","ArticleIcon","WorkIcon","PeopleIcon","CountryIcon","TeamIcon","PartnersIcon","GeneratorIcon","NewsletterIcon","VideoIcon","ImageIcon","TransactionIcon","ContactIcon","WhatsAppIcon","VolunteerIcon","ImpactIcon","DonationIcon","toggleSidebar","selectedPath","setSelectedPath","hasAccess","menuItem","getLogoAlt","getUserRoleDisplay","_user$permissions","roleText","menuItems","getMenuItems","accessibleItems","LogoutIcon","Drawer","third","Skeleton","handleLogoClick","ChevronLeftIcon","handleNavigation","ListItemIcon","primaryTypographyProps","_theme$palette$second","_theme$palette$second2","AppBar","Toolbar","MenuIcon","AccountCircleIcon","DasboardFooter","green","AdminDashboard","sidebarOpen","setSidebarOpen","DashboardHeader","handleLogout","removeItem","Sidebar","DashboardFooter","AdminManageWhatsapp","setErrors","validateCountryCode","cleaned","countryCodes","withoutPlus","handleAxiosError","operation","_error$config","_error$config2","validateWhatsAppNumber","formattedNumber","formatWhatsAppNumber","handleCancel","listStyle","AdminManageVolunteerForms","forms","setForms","setStats","openDialog","setOpenDialog","dialogMode","setDialogMode","selectedForm","setSelectedForm","formsRes","availableRes","statsRes","availableData","statsData","openFormDialog","ViewIcon","toggledFormData","handleToggleStatus","ToggleIcon","updated_at","AdminManageProjects","_editingProject$galle","_editingProject$galle2","_editingProject$galle3","dialogOpen","setDialogOpen","editingProject","setEditingProject","tabValue","setTabValue","pillarId","galleryManagement","setGalleryManagement","adding","removing","clearing","selectedFocusAreas","project_impacts","setFiles","gallery","availableFocusAreas","setAvailableFocusAreas","statusOptions","selectedPillar","queryParams","fetchProjectImpacts","handleOpenDialog","projectImpacts","handleCloseDialog","handleFileChange","updateProjectImpact","selectedImpact","imp","impact_id","impact_name","updateTestimonial","handleAddGalleryImage","handleToggleFeatured","submitData","cleanedProjectImpacts","contribution_value","handleToggleHidden","filterKey","getPillarName","Add","_statusOptions$find","AccountTree","Badge","badgeContent","Collections","StarBorder","Delete","_statusOptions$find2","CardMedia","CardActions","dividers","multiple","cleanedValue","OutlinedInput","renderValue","focusArea","InputLabelProps","shrink","sdg","clickable","handleSDGChange","sdgGoal","handleClearGallery","handleRemoveGalleryImage","addTestimonial","removeTestimonial","addProjectImpact","projectImpact","selectedImpactIds","availableImpacts","removeProjectImpact","inputProps","impactIds","anchorOrigin","vertical","horizontal","People","LocationCity","AdminManageImpact","editingImpact","setEditingImpact","formErrors","setFormErrors","iconOptions","fetchStats","errorText","renderIcon","Refresh","total_impacts","active_impacts","featured_impacts","total_impact_value","projects_with_impacts","readOnly","linkStyle","DashboardOverview","isQuickLinksExpanded","setIsQuickLinksExpanded","analyticsData","setAnalyticsData","visitAnalytics","setVisitAnalytics","lastRefresh","setLastRefresh","isLoadingRef","fetchAnalytics","analyticsResponse","analyticsResult","_analyticsResult$data","_analyticsResult$data2","consolidatedData","todayViews","today_views","lifetimeViews","total_views","uniqueVisitors","unique_visitors","newVisitors","new_visitors","returningVisitors","returning_visitors","avgSessionTime","topCountry","top_countries","topCountries","popularPages","popular_pages","trafficSources","traffic_sources","dailyTrend","daily_trend","browserStats","browser_stats","activeUsers","newUsersToday","totalSubscribers","totalContent","publishedToday","activeProjects","handleRefresh","quickLinks","formatSessionTime","timeStr","initializeAnalytics","handleVisitUpdate","detail","analyticsCards","getAnalyticsCards","_user$permissions2","baseCards","showProgress","progressPercent","getUserDescription","permCount","page_url","visits","ManageBlogs","setBlogs","openNewsDialog","setOpenNewsDialog","newsDialogBlog","setNewsDialogBlog","currentBlogId","setCurrentBlogId","imagePreview","setImagePreview","existingImageUrl","setExistingImageUrl","setRefreshInterval","updating","setUpdating","originalData","setOriginalData","ChangedFields","setChangedFields","newsConfig","setNewsConfig","news_type","target_countries","meta_title","meta_description","titleRef","contentRef","excerptRef","metaTitleRef","metaDescriptionRef","getAuthorDisplay","_blog$author","_blog$user","_blog$creator","authorName","authorId","authorRole","creator","author_id","userData","isCurrentUser","getRoleIcon","AdminPanelSettingsIcon","EditNoteIcon","ManageAccountsIcon","apiCall","errorJson","stack","fetchBlogs","blogsWithAuthors","authorInfo","normalizedBlog","author_info","init","updateBlogField","updateData","updateKey","updateField","blogId","handleNewsToggle","targetCountries","fullImageUrl","newForm","hasChanged","prevFields","updatedFields","handleDialogClose","colSpan","statusDisplay","getStatusDisplay","isUpdatingApproved","isUpdatingFeatured","isUpdatingNews","newsTypeDisplay","PublicIcon","LocationOnIcon","getNewsTypeDisplay","VisibilityIcon","blogToDelete","renderTags","getTagProps","_createElement","PhotoIcon","readAsDataURL","handleImageChange","metaTitle","metaDescription","newErrors","_statistics$anonymous","donations","setDonations","filteredDonations","setFilteredDonations","selectedDonation","setSelectedDonation","showReminderModal","setShowReminderModal","statistics","setStatistics","processingBadge","setProcessingBadge","referenceDataLoading","setReferenceDataLoading","reminderForm","setReminderForm","generateBadgeBlob","tempContainer","donation","badgeHTML","badgeElement","renderTimeout","windowWidth","imageTimeout","removeContainer","onclone","clonedDoc","clonedBadge","canvasError","markCompleted","donationId","notes","showNotification","adminNotes","existingScript","badgeBlob","maxAttempts","blobError","fetchDonations","badgeEmailResult","recipientEmail","badgeFilename","badgeFile","File","lastModified","blobSize","sendDonationBadgeEmail","messageId","notification","bg","getTargetDisplayName","fetchReferenceData","fetchStatistics","_donation$donor_name","_donation$donor_email","_donation$id","_donation$donation_ty","searchLower","targetName","total_amount","total_donations","average_amount","Gift","anonymous_donations","total_count","paymentStatus","payment_status","getStatusBadge","targetInfo","getDetailedTargetInfo","admin_notes","reminderType","_data$data","emailSent","AdminManageLogo","uploading","setUploading","deleting","setDeleting","deleteDialogOpen","setDeleteDialogOpen","altText","setAltText","logoHistory","setLogoHistory","loadingHistory","setLoadingHistory","showHistory","setShowHistory","handleCancelEdit","UploadIcon","_fileInputRef$current","HistoryIcon","_error$response4","_error$response4$data","noWrap","_error$response3","_error$response3$data","NewsletterManagement","subscribers","setSubscribers","messageForm","setMessageForm","messageType","sending","setSending","sendResult","setSendResult","_messagesData$data","subscribersRes","messagesData","messagesRes","msgError","subscribersData","downloadSubscribers","emailList","subscriber","tabButtonStyle","cardStyle","statCardStyle","total_subscribers","active_subscribers","today_subscriptions","successfulSends","failedSends","subscribed_at","message_type","sent_at","total_recipients","successful_sends","failed_sends","sub","COUNTRIES","TransactionDetails","_formData$fields$find5","_formData$fields$find6","filteredMethods","setFilteredMethods","editingMethod","setEditingMethod","filterType","setFilterType","filterCountry","setFilterCountry","logo_file","is_country_specific","transactionTypes","AccountBalanceIcon","PaymentIcon","StoreIcon","handleFieldChange","clearAllFilters","arr","hasLogo","logoUrl","typeInfo","TypeIcon","Fade","in","alternatives","pop","tried","getAttribute","fieldsToEdit","dense","newFields","linkIndex","emailIndex","handleRemoveField","RemoveIcon","handleAddField","_formData$fields$find","_formData$fields$find2","requiredFields","fieldsToSend","_formData$fields$find3","_formData$fields$find4","_formData$logo_file","formDataToSend","hasLogoFile","logoFileName","fieldsCount","miniSpinner","adminHeader","adminHeaderContent","adminTitle","adminIcon","mainTitle","adminSubtitle","adminStats","controlPanel","controlLeft","controlRight","searchIcon","filterContainer","filterGroup","filterIcon","filterSelect","clearFiltersButton","viewControls","activeViewButton","successMessage","messageClose","resultsInfo","resultsText","formCard","formHeader","formTitle","formClose","formContent","formGrid","labelNote","fieldNote","inputError","tagInputContainer","addTagButton","charCount","previewContainer","previewHeader","previewLabel","previewNote","previewIframe","formActions","disabledButton","modalOverlay","modalClose","modalActions","contentArea","emptySubtitle","listView","listHeader","listHeaderCell","listItem","listCell","videoListInfo","videoThumbnail","thumbnailImage","noThumbnail","videoDetails","videoListTitle","featuredStar","videoListDescription","categoryBadge","countryBadge","statusColumn","statusBadge","statusActive","statusInactive","featuredBadge","dateInfo","dateIcon","dateText","actionFeatured","actionNormal","actionActive","actionInactive","actionEdit","actionDelete","cardGrid","featuredCard","cardBadges","cardActions","cardContent","cardDescription","cardMeta","metaItem","metaIcon","cardPreview","cardIframe","mainCard","addButton","dismissButton","formContainer","cancelButton","videoList","listTitle","videoCardHeader","videoInfo","videoBadges","tagBadge","activeBadge","inactiveBadge","videoDescription","videoMeta","videoActions","featuredActionButton","unfeaturedActionButton","activeActionButton","inactiveActionButton","editButton","deleteButton","videoPreview","videoPreviewHeader","previewTitle","youtubeLink","videoIframe","AdminManageVideos","videoSections","setVideoSections","tagOptions","setTagOptions","showAddForm","setShowAddForm","newTag","setNewTag","showAddTag","setShowAddTag","countriesLoading","countriesError","useCountries","selectedTag","setSelectedTag","statusFilter","setStatusFilter","fetchVideoSections","fetchTagOptions","toggleActive","currentStatus","toggleFeatured","addNewTag","tag_name","extractVideoId","isFormValid","isValidYouTubeUrl","getCountryName","sortedVideos","matchesTag","matchesStatus","matchesFeatured","inactive","Tags","Settings","Save","Trash2","AdminManagePillars","setFocusAreas","editingPillar","setEditingPillar","focusAreaIds","handleApiError","details","_pillarsData$data","_focusAreasData$data","pillarsRes","focusAreasRes","pillarsData","focusAreasData","handleAdd","requestBody","fromEntries","AdminManageEvents","_events$find","_emailForm$recipient","_emailForm$recipient2","eventInterests","setEventInterests","selectedEventInterests","setSelectedEventInterests","showInterestsModal","setShowInterestsModal","showForm","setShowForm","isSendingEmail","setIsSendingEmail","emailForm","setEmailForm","fetchEventInterests","groupedInterests","interest","closeInterestsModal","closeMessageModal","_eventInterests$event","interests","handleViewInterests","openEmailAllModal","openEmailSingleModal","applicant","interestId","updatedInterests","handleDeleteInterest","applicants","AdminManageJobs","jobApplications","setJobApplications","selectedJobApplications","setSelectedJobApplications","showApplicationsModal","setShowApplicationsModal","SelectedJob","selectedJobTitle","setSelectedJobTitle","showEmailModal","setShowEmailModal","selectedApplicant","setSelectedApplicant","isEmailSending","setIsEmailSending","notifications","setNotifications","createdBy","n","fetchJobApplications","groupedApplications","application","handleEmailChange","handleOpenEmailModal","defaultSubject","closeApplicationsModal","closeEmailModal","removeNotification","jobData","_jobApplications$job$","applications","handleViewApplications","app","resumeUrl","cvPath","applicationId","updatedApplications","handleDeleteApplication","applicantEmail","applicantName","jobTitle","emailPromises","reports","setReports","filteredReports","setFilteredReports","selectedReport","setSelectedReport","showContactModal","setShowContactModal","showStatusModal","setShowStatusModal","thisMonth","pendingReview","overdue","contactForm","setContactForm","contactType","contactMethod","statusForm","setStatusForm","priority","assignedTo","followUpDate","pagination","setPagination","limit","pages","fetchReports","_data$data2","reportsList","paginationData","newStats","currentMonth","report","reportDate","follow_up_date","calculateStatistics","loadReportDetails","reportId","delayedSearch","new","under_review","contacted","in_progress","declined","getPriorityBadge","priorityConfig","low","medium","high","urgent","AlertTriangle","flow_type","assigned_to","Edit3","MessageSquare","contact_count","last_contacted_at","displayKey","renderReportData","report_data","activities","activity","admin_user","AdminManageHighlights","_deleteDialog$highlig","validYears","setValidYears","editingHighlight","setEditingHighlight","selectedYear","setSelectedYear","setTitle","setDescription","setImage","highlight","expandedYear","setExpandedYear","_yearsData$data","highlightsRes","yearsRes","yearsData","handleAddHighlight","handleAccordionChange","isExpanded","TimelineIcon","yearHighlights","CalendarIcon","Accordion","expanded","AccordionSummary","expandIcon","ExpandMoreIcon","AccordionDetails","ImageList","cols","ImageListItem","DragIcon","display_order","handleEditHighlight","Fab","GalleryManager","images","setImages","selectedImages","setSelectedImages","showModal","setShowModal","modalMode","setModalMode","currentImage","setCurrentImage","showConfirmDialog","setShowConfirmDialog","confirmAction","setConfirmAction","confirmMessage","setConfirmMessage","categoryFilter","setCategoryFilter","protectionFilter","setProtectionFilter","sortOrder","setSortOrder","itemsPerPage","setTotalPages","usage_locations","selectedFile","setSelectedFile","previewUrl","setPreviewUrl","usageLocationOptions","fetchImages","is_protected","sort_by","sort_order","deleteImage","showConfirmation","toggleProtection","isProtected","bulkUpdate","ids","updates","action","formatFileSize","bytes","file_size","ShieldOff","loc","file_type","formDataObj","locationImages","AdminManageGeneralTestimonials","setFirstName","setLastName","testimonialText","setTestimonialText","editingTestimonial","setEditingTestimonial","editFirstName","setEditFirstName","editLastName","setEditLastName","editTestimonialText","setEditTestimonialText","editImage","setEditImage","sortedTestimonials","paginatedTestimonials","AppContent","MuiThemeProvider","CssBaseline","Router","Routes","Route","HomePage","AboutUsPage","ContactUsPage","Chatbot","DonationPage","DonorWall","BlogNewsPage","DisplayImpact","PublicProjectsDisplay","Sitemap","AdminCollaborationManagement","AdminDonationManagement"],"sourceRoot":""}